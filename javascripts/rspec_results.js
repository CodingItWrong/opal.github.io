(function(e){function t(){}function r(){}function a(){}function n(){}function $(){}if("undefined"!=typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var i,s,o,l,c,u=this.Opal={},_={},p=function(){};p.prototype=u,u.constructor=p,u.constants=[],u.global=this,u.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var d=u.hasOwnProperty,h=(u.slice=Array.prototype.slice,4),f=h;u.uid=function(){return f+=2},u.cvars={},u.gvars={},u.exit=function(e){u.gvars.DEBUG&&console.log("Exited with status "+e)},u.exceptions=[],u.pop_exception=function(){u.gvars["!"]=u.exceptions.pop()||i},u.get=function(e){var t=this[e];return null==t?this.base.$const_get(e):t},u.create_scope=function(e,t,r){var a=function(){},n=a.prototype=new e.constructor;t.$$scope=n,t.$$base_module=e.base,n.base=t,n.constructor=a,n.constants=[],r&&(u.cdecl(e,r,t),a.displayName=r+"_scope_alloc")},u.casgn=function(e,t,r){function a(e,t){e.$$name=t;for(t in e.$$scope){var r=e.$$scope[t];r.$$name===i&&(r.$$is_class||r.$$is_module)&&a(r,t)}}var n=e.$$scope;if((r.$$is_class||r.$$is_module)&&((r.$$is_class||r.$$base_module===o)&&(r.$$base_module=e),r.$$name===i&&r.$$base_module.$$name!==i&&a(r,t)),n.constants.push(t),n[t]=r,e.$$is_module&&e.$$dep)for(var $=0;$<e.$$dep.length;$++){var s=e.$$dep[$];u.casgn(s,t,r)}return r},u.cdecl=function(e,t,r){return(r.$$is_class||r.$$is_module)&&null==r.$$orig_scope&&(r.$$name=t,r.$$orig_scope=e,r.$$base_module=e.base,e.constructor[t]=r),e.constants.push(t),e[t]=r},u.klass=function(e,t,r,a){var n,$,i;if(e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&($=t,t=o),(n=e.$$scope[r])&&n.$$orig_scope===e.$$scope){if(!n.$$is_class)throw u.TypeError.$new(r+" is not a class");if(t&&n.$$super!==t)throw u.TypeError.$new("superclass mismatch for class "+r);return n}return null==t&&(t=o),i=$||u.boot_class_alloc(r,a,t),n=u.setup_class_object(r,i,t.$$name,t.constructor),n.$$super=t,n.$$parent=t,u.create_scope(e.$$scope,n,r),e[r]=n,$?u.bridge(n,i):(t!==o&&t!==s&&u.donate_constants(t,n),t.$inherited&&t.$inherited(n)),n},u.boot_class_alloc=function(e,t,r){if(r){var a=function(){};a.prototype=r.$$proto||r.prototype,t.prototype=new a}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},u.setup_class_object=function(e,t,r,a){var n=function(){};n.prototype=a.prototype,n.displayName=r;var $=function(){};$.prototype=new n;var s=new $;return s.$$alloc=t,s.$$name=e||i,s.$$id=u.uid(),$.displayName="#<Class:"+(e||"#<Class:"+s.$$id+">")+">",s.$$proto=t.prototype,s.$$proto.$$class=s,s.constructor=$,s.$$is_class=!0,s.$$class=c,s.$$inc=[],s},u.module=function(e,t){var r;if(e.$$is_class||e.$$is_module||(e=e.$$class),d.call(e.$$scope,t)){if(r=e.$$scope[t],!r.$$is_module&&r!==o)throw u.TypeError.$new(t+" is not a module")}else r=u.module_allocate(l),u.create_scope(e.$$scope,r,t);return r},u.module_initialize=function(e,t){if(t!==i){var r=t.$$s;t.$$s=null,t.call(e),t.$$s=r}return i},u.module_allocate=function(e){function t(){}var r=function(){};r.prototype=e.$$alloc.prototype,t.prototype=new r;var a=new t,n={};return a.$$id=u.uid(),t.displayName="#<Class:#<Module:"+a.$$id+">>",a.$$proto=n,a.constructor=t,a.$$is_module=!0,a.$$class=l,a.$$super=e,a.$$parent=e,a.$$inc=[],a.$$is_module=!0,a.$$dep=[],a.$$name=i,a},u.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?u.build_class_singleton_class(e):u.build_object_singleton_class(e)},u.build_class_singleton_class=function(e){var t,r,a;return e.$$meta?e.$$meta:(t=e.constructor,r=e===s?c:u.build_class_singleton_class(e.$$super),a=u.setup_class_object(null,t,r.$$name,r.constructor),a.$$super=r,a.$$parent=r,u.create_scope(e.$$scope,a),a.$$is_singleton=!0,a.$$singleton_of=e,e.$$meta=a)},u.build_object_singleton_class=function(e){var t=e.$$class,r="#<Class:#<"+t.$$name+":"+t.$$id+">>",a=u.boot_class_alloc(r,function(){},t),n=u.setup_class_object(r,a,t.$$name,t.constructor);return n.$$super=t,n.$$parent=t,n.$$class=t.$$class,n.$$scope=t.$$scope,n.$$proto=e,n.$$is_singleton=!0,n.$$singleton_of=e,e.$$meta=n},u.bridge_method=function(e,t,r,a){var n,$,i,s;for(n=e.$$bridge.$ancestors(),$=0,s=n.length;$<s&&(i=n[$],!d.call(i.$$proto,r)||!i.$$proto[r]||i.$$proto[r].$$donated||i.$$proto[r].$$stub||i===t);$++)if(i===t){e.prototype[r]=a;break}},u._bridge=function(e,t){var r,a,n,$,i;if("function"==typeof e){for(r=t.$__id__(),a=t.$instance_methods(),$=a.length-1;$>=0;$--)n="$"+a[$],u.bridge_method(e,t,n,t.$$proto[n]);_[r]||(_[r]=[]),_[r].push(e)}else if(i=_[e.$__id__()]){for($=i.length-1;$>=0;$--)u._bridge(i[$],t);_[t.$__id__()]=i.slice()}},u.append_features=function(e,t){var r,a,n,$,i,s;for(s=t.$$inc.length-1;s>=0;s--)if(t.$$inc[s]===e)return;for(t.$$inc.push(e),e.$$dep.push(t),u._bridge(t,e),r={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=r,a=e.$$proto,n=t.$$proto,$=e.$instance_methods(),s=$.length-1;s>=0;s--)i="$"+$[s],(!n.hasOwnProperty(i)||n[i].$$donated||n[i].$$stub)&&(n[i]=a[i],n[i].$$donated=e);u.donate_constants(e,t)},u.stubs={},u.bridge=function(e,r){if(r.$$bridge)throw u.ArgumentError.$new("already bridged");u.stub_subscribers.push(r.prototype);for(var a in u.stubs)a in r.prototype||(r.prototype[a]=u.stub_for(a));r.prototype.$$class=e,r.$$bridge=e;for(var n=e.$ancestors(),$=n.length-1;$>=0;$--)u._bridge(r,n[$]);for(var i in t.prototype){var s=t.prototype[s];!s||!s.$$stub||i in r.prototype||(r.prototype[i]=s)}return e},u.donate_constants=function(e,t){for(var r=e.$$scope.constants,a=t.$$scope,n=a.constants,$=0,i=r.length;$<i;$++)n.push(r[$]),a[r[$]]=e.$$scope[r[$]]},u.donate=function(e,t){var r,a,n,$,i,s,o,l,c,_,p=e.$$dep,d=e.$$proto[t];if(p)for(r=0,a=p.length;r<a;r++){if(n=p[r],$=n.$$proto,i=$[t],!$.hasOwnProperty(t)||i.$$donated||i.$$stub)if($.hasOwnProperty(t)&&!i.$$stub){for(s=n.$$inc,o=0,l=s.length;o<l;o++)s[o]===i.$$donated&&(c=o),s[o]===e&&(_=o);c<=_&&($[t]=d,$[t].$$donated=e)}else $[t]=d,$[t].$$donated=e;else;n.$$dep&&u.donate(n,t)}},u.ancestors=function(e){for(var t,r=e,a=[];r;){a.push(r);for(var n=0;n<r.$$inc.length;n++){t=u.ancestors(r.$$inc[n]);for(var $=0;$<t.length;$++)a.push(t[$])}r=r.$$is_singleton&&r.$$singleton_of.$$is_module?r.$$singleton_of.$$super:r.$$is_class?r.$$super:null}return a},u.add_stubs=function(e){var t,r,a,n,$,i=u.stub_subscribers,s=e.length,o=i.length;for(r=0;r<s;r++)for(n=e[r],u.stubs[n]=!0,$=u.stub_for(n),a=0;a<o;a++)t=i[a],n in t||(t[n]=$)},u.stub_subscribers=[t.prototype],u.add_stub_for=function(e,t){var r=u.stub_for(t);e[t]=r},u.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var r=new Array(arguments.length),a=0,n=r.length;a<n;a++)r[a]=arguments[a];return this.$method_missing.apply(this,[e.slice(1)].concat(r))}return t.$$stub=!0,t},u.ac=function(e,t,r,a){var n="";throw r.$$is_class||r.$$is_module?n+=r.$$name+".":n+=r.$$class.$$name+"#",n+=a,u.ArgumentError.$new("["+n+"] wrong number of arguments("+e+" for "+t+")")},u.block_ac=function(e,t,r){var a="`block in "+r+"'";throw u.ArgumentError.$new(a+": wrong number of arguments ("+e+" for "+t+")")},u.find_super_dispatcher=function(e,t,r,a,n){var $;if($=n?e.$$is_class||e.$$is_module?n.$$super:e.$$class.$$proto:u.find_obj_super_dispatcher(e,t,r),$=$["$"+t],!a&&$.$$stub&&u.Kernel.$method_missing===e.$method_missing)throw u.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return $},u.find_iter_super_dispatcher=function(e,t,r,a,n){var $=t;if(!r)throw u.RuntimeError.$new("super called outside of method");if(n&&r.$$define_meth)throw u.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),u.find_super_dispatcher(e,$,r,a)},u.find_obj_super_dispatcher=function(e,t,r){var a=e.$$meta||e.$$class;if(!(a=u.find_owning_class(a,r)))throw new Error("could not find current class for super()");return t="$"+t,u.find_super_func(a,t,r)},u.find_owning_class=function(e,t){for(var r=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==r)&&(!r.$$is_singleton||e!==r.$$singleton_of.$$class)&&e!==r;)e=e.$$parent;return e},u.find_super_func=function(e,t,r){for(var a=e.$$parent;a;){var n=a.$$proto[t];if(n&&n!==r)break;a=a.$$parent}return a.$$proto},u.ret=function(e){throw u.returner.$v=e,u.returner},u.brk=function(e,t){throw t.$v=e,t},u.new_brk=function(){return new Error("unexpected break")},u.yield1=function(e,t){if("function"!=typeof e)throw u.LocalJumpError.$new("no block given");var r=e.$$has_top_level_mlhs_arg,a=e.$$has_trailing_comma_in_args;return(e.length>1||(r||a)&&1===e.length)&&(t=u.to_ary(t)),(e.length>1||a&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},u.yieldX=function(e,t){if("function"!=typeof e)throw u.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var r=new Array(t.length),a=0,n=r.length;a<n;a++)r[a]=t[a];return e.apply(null,r)}return e.apply(null,t)},u.rescue=function(e,t){for(var r=0;r<t.length;r++){var a=t[r];if(a.$$is_array){var n=u.rescue(e,a);if(n)return n}else if(a["$==="](e))return a}return null},u.is_a=function(e,t){if(e.$$meta===t)return!0;var r,a,n=u.ancestors(e.$$class);for(r=0,a=n.length;r<a;r++)if(n[r]===t)return!0;for(n=u.ancestors(e.$$meta),r=0,a=n.length;r<a;r++)if(n[r]===t)return!0;return!1},u.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw u.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw u.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},u.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===i)return[e];if(t.$$is_array)return t;throw u.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},u.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===i)return[e];if(t.$$is_array)return t;throw u.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},u.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):u.hash2([],{})},u.kwrestargs=function(e,t){var r=[],a={},n=null,$=e.$$smap;for(n in $)t[n]||(r.push(n),a[n]=$[n]);return u.hash2(r,a)},u.send=function(e,t){for(var r=new Array(Math.max(arguments.length-2,0)),a=0,n=r.length;a<n;a++)r[a]=arguments[a+2];var $=e["$"+t];return $?$.apply(e,r):e.$method_missing.apply(e,[t].concat(r))},u.block_send=function(e,t,r){for(var a=new Array(Math.max(arguments.length-3,0)),n=0,$=a.length;n<$;n++)a[n]=arguments[n+3];var i=e["$"+t];return i?(i.$$p=r,i.apply(e,a)):e.$method_missing.apply(e,[t].concat(a))},u.defn=function(e,t,r){if(e.$$proto[t]=r,r.$$owner=e,e.$$is_module&&(u.donate(e,t),e.$$module_function&&u.defs(e,t,r)),e.$__id__&&!e.$__id__.$$stub){var a=_[e.$__id__()];if(a)for(var n=a.length-1;n>=0;n--)u.bridge_method(a[n],e,t,r)}var $=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),i},u.defs=function(e,t,r){u.defn(u.get_singleton_class(e),t,r)},u.def=function(e,t,r){e.$$eval||!e.$$is_class&&!e.$$is_module?u.defs(e,t,r):u.defn(e,t,r)},u.rdef=function(e,t){if(!d.call(e.$$proto,t))throw u.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},u.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw u.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());u.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},u.alias=function(e,t,r){var a="$"+t,n="$"+r,$=e.$$proto["$"+r];if(e.$$eval)return u.alias(u.get_singleton_class(e),t,r);if("function"!=typeof $||$.$$stub){for(var i=e.$$super;"function"!=typeof $&&i;)$=i[n],i=i.$$super;if("function"!=typeof $||$.$$stub)throw u.NameError.$new("undefined method `"+r+"' for class `"+e.$name()+"'")}return u.defn(e,a,$),e},u.alias_native=function(e,t,r){var a="$"+t,n=e.$$proto[r];if("function"!=typeof n||n.$$stub)throw u.NameError.$new("undefined native method `"+r+"' for class `"+e.$name()+"'");return u.defn(e,a,n),e},u.hash_init=function(e){e.$$smap={},e.$$map={},e.$$keys=[]},u.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var r,a,n=0,$=e.$$keys,i=$.length;n<i;n++)r=e.$$keys[n],r.$$is_string?a=e.$$smap[r]:(a=r.value,r=r.key),u.hash_put(t,r,a)},u.hash_put=function(t,r,a){if(r.$$is_string)return t.$$smap.hasOwnProperty(r)||t.$$keys.push(r),void(t.$$smap[r]=a);var n,$,i=r.$hash();if(!t.$$map.hasOwnProperty(i))return n={key:r,key_hash:i,value:a},t.$$keys.push(n),void(t.$$map[i]=n);for(n=t.$$map[i];n;){if(r===n.key||r["$eql?"](n.key)){$=e,n.value=a;break}$=n,n=n.next}$&&(n={key:r,key_hash:i,value:a},t.$$keys.push(n),$.next=n)},u.hash_get=function(e,t){if(t.$$is_string){if(e.$$smap.hasOwnProperty(t))return e.$$smap[t]}else{var r,a=t.$hash();if(e.$$map.hasOwnProperty(a))for(r=e.$$map[a];r;){if(t===r.key||t["$eql?"](r.key))return r.value;r=r.next}}},u.hash_delete=function(e,t){var r,a,n=e.$$keys,$=n.length;if(t.$$is_string){if(!e.$$smap.hasOwnProperty(t))return;for(r=0;r<$;r++)if(n[r]===t){n.splice(r,1);break}return a=e.$$smap[t],delete e.$$smap[t],a}var i=t.$hash();if(e.$$map.hasOwnProperty(i))for(var s,o=e.$$map[i];o;){if(t===o.key||t["$eql?"](o.key)){for(a=o.value,r=0;r<$;r++)if(n[r]===o){n.splice(r,1);break}return s&&o.next?s.next=o.next:s?delete s.next:o.next?e.$$map[i]=o.next:delete e.$$map[i],a}s=o,o=o.next}},u.hash_rehash=function(t){for(var r,a,n,$=0,i=t.$$keys.length;$<i;$++)if(!t.$$keys[$].$$is_string&&(r=t.$$keys[$].key.$hash())!==t.$$keys[$].key_hash){for(a=t.$$map[t.$$keys[$].key_hash],n=e;a;){if(a===t.$$keys[$]){n&&a.next?n.next=a.next:n?delete n.next:a.next?t.$$map[t.$$keys[$].key_hash]=a.next:delete t.$$map[t.$$keys[$].key_hash];break}n=a,a=a.next}if(t.$$keys[$].key_hash=r,t.$$map.hasOwnProperty(r)){for(a=t.$$map[r],n=e;a;){if(a===t.$$keys[$]){n=e;break}n=a,a=a.next}n&&(n.next=t.$$keys[$])}else t.$$map[r]=t.$$keys[$]}},u.hash=function(){var e,t,r,a,n,$,i=arguments.length;if(1===i&&arguments[0].$$is_hash)return arguments[0];if(t=new u.Hash.$$alloc,u.hash_init(t),1===i&&arguments[0].$$is_array){for(e=arguments[0],a=e.length,r=0;r<a;r++){if(2!==e[r].length)throw u.ArgumentError.$new("value not of length 2: "+e[r].$inspect());n=e[r][0],$=e[r][1],u.hash_put(t,n,$)}return t}if(1===i){e=arguments[0];for(n in e)e.hasOwnProperty(n)&&($=e[n],u.hash_put(t,n,$));return t}if(i%2!=0)throw u.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<i;r+=2)n=arguments[r],$=arguments[r+1],u.hash_put(t,n,$);return t},u.hash2=function(e,t){var r=new u.Hash.$$alloc;return r.$$smap=t,r.$$map={},r.$$keys=e,r},u.range=function(e,t,r){var a=new u.Range.$$alloc;return a.begin=e,a.end=t,a.exclude=r,a},u.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},u.modules={},u.loaded_features=["corelib/runtime"],u.current_dir=".",u.require_table={"corelib/runtime":!0},u.normalize=function(e){var t,r,a=[],n="/";"."!==u.current_dir&&(e=u.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split(n);for(var $=0,i=t.length;$<i;$++)""!==(r=t[$])&&(".."===r?a.pop():a.push(r));return a.join(n)},u.loaded=function(e){var t,r,a;for(t=0,r=e.length;t<r;t++){if(a=u.normalize(e[t]),u.require_table[a])return;u.loaded_features.push(a),u.require_table[a]=!0}},u.load=function(e){e=u.normalize(e),u.loaded([e]);var t=u.modules[e];if(t)t(u);else{var r=u.config.missing_require_severity,a="cannot load such file -- "+e;"error"===r?u.LoadError?u.LoadError.$new(a):function(){throw a}():"warning"===r&&console.warn("WARNING: LoadError: "+a)}return!0},u.require=function(e){return e=u.normalize(e),!u.require_table[e]&&u.load(e)},u.boot_class_alloc("BasicObject",t),u.boot_class_alloc("Object",r,t),u.boot_class_alloc("Module",n,r),u.boot_class_alloc("Class",a,n),u.BasicObject=s=u.setup_class_object("BasicObject",t,"Class",a),u.Object=o=u.setup_class_object("Object",r,"BasicObject",s.constructor),u.Module=l=u.setup_class_object("Module",n,"Object",o.constructor),u.Class=c=u.setup_class_object("Class",a,"Module",l.constructor),u.constants.push("BasicObject"),u.constants.push("Object"),u.constants.push("Module"),u.constants.push("Class"),s.$$class=c,o.$$class=c,l.$$class=c,c.$$class=c,s.$$super=null,o.$$super=s,l.$$super=o,c.$$super=l,s.$$parent=null,o.$$parent=s,l.$$parent=o,c.$$parent=l,u.base=o,s.$$scope=o.$$scope=u,s.$$orig_scope=o.$$orig_scope=u,l.$$scope=o.$$scope,l.$$orig_scope=o.$$orig_scope,c.$$scope=o.$$scope,c.$$orig_scope=o.$$orig_scope,o.$$proto.toString=function(){return this.$to_s()},o.$$proto.$require=u.require,u.top=new o.$$alloc,u.klass(o,o,"NilClass",$),i=u.nil=new $,i.$$id=h,i.call=i.apply=function(){throw u.LocalJumpError.$new("no block given")},u.breaker=new Error("unexpected break (old)"),u.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),"undefined"!=typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!=typeof window&&(window.Opal=this.Opal,Opal.global=window),"undefined"==typeof OpalLoaded&&(OpalLoaded=[]),OpalLoaded.push("corelib/runtime"),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),function(t){var n,$,i,s,o,l,c,u,_,p,d,h,f,m,g=n=a(t,"Opal"),b=(g.$$proto,g.$$scope);e.defs(g,"$bridge",$=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"bridge"),e.bridge(t,r)},$.$$arity=2,$.$$parameters=[["req","klass"],["req","constructor"]]),e.defs(g,"$type_error",i=function(t,a,n,$){var i;null==n&&(n=r),null==$&&($=r);var s=arguments.length;return(s<2||s>4)&&e.ac(s,-3,this,"type_error"),(i=!1!==n&&n!==r&&null!=n?$:n)===r||null==i||i.$$is_boolean&&1!=i?b.get("TypeError").$new("no implicit conversion of "+t.$class()+" into "+a):b.get("TypeError").$new("can't convert "+t.$class()+" into "+a+" ("+t.$class()+"#"+n+" gives "+$.$class())},i.$$arity=-3,i.$$parameters=[["req","object"],["req","type"],["opt","method"],["opt","coerced"]]),e.defs(g,"$coerce_to",s=function(t,a,n){var $,i=this,s=arguments.length;return 3!==s&&e.ac(s,3,this,"coerce_to"),($=a["$==="](t))===r||null==$||$.$$is_boolean&&1!=$?((($=t["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$)&&i.$raise(i.$type_error(t,a)),t.$__send__(n)):t},s.$$arity=3,s.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(g,"$coerce_to!",o=function(t,a,n){var $,i=this,s=r,o=arguments.length;return 3!==o&&e.ac(o,3,this,"coerce_to!"),s=i.$coerce_to(t,a,n),(($=a["$==="](s))===r||null==$||$.$$is_boolean&&1!=$)&&i.$raise(i.$type_error(t,a,n,s)),s},o.$$arity=3,o.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(g,"$coerce_to?",l=function(t,a,n){var $,i=this,s=r,o=arguments.length;return 3!==o&&e.ac(o,3,this,"coerce_to?"),($=t["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:(s=i.$coerce_to(t,a,n),($=s["$nil?"]())===r||null==$||$.$$is_boolean&&1!=$?((($=a["$==="](s))===r||null==$||$.$$is_boolean&&1!=$)&&i.$raise(i.$type_error(t,a,n,s)),s):r)},l.$$arity=3,l.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(g,"$try_convert",c=function(t,a,n){var $,i=arguments.length;return 3!==i&&e.ac(i,3,this,"try_convert"),($=a["$==="](t))===r||null==$||$.$$is_boolean&&1!=$?($=t["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:t.$__send__(n):t},c.$$arity=3,c.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(g,"$compare",u=function(t,a){var n,$=this,i=r,s=arguments.length;return 2!==s&&e.ac(s,2,this,"compare"),i=t["$<=>"](a),(n=i===r)===r||null==n||n.$$is_boolean&&1!=n||$.$raise(b.get("ArgumentError"),"comparison of "+t.$class()+" with "+a.$class()+" failed"),i},u.$$arity=2,u.$$parameters=[["req","a"],["req","b"]]),e.defs(g,"$destructure",_=function(t){var r=arguments.length;if(1!==r&&e.ac(r,1,this,"destructure"),1==t.length)return t[0];if(t.$$is_array)return t;for(var a=new Array(t.length),n=0,$=a.length;n<$;n++)a[n]=t[n];return a},_.$$arity=1,_.$$parameters=[["req","args"]]),e.defs(g,"$respond_to?",p=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"respond_to?"),!(null==t||!t.$$class)&&t["$respond_to?"](r)},p.$$arity=2,p.$$parameters=[["req","obj"],["req","method"]]),e.defs(g,"$inspect",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"inspect"),t===undefined?"undefined":null===t?"null":t.$$class?t.$inspect():t.toString()},d.$$arity=1,d.$$parameters=[["req","obj"]]),e.defs(g,"$instance_variable_name!",h=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"instance_variable_name!"),t=b.get("Opal")["$coerce_to!"](t,b.get("String"),"to_str"),((a=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))===r||null==a||a.$$is_boolean&&1!=a)&&n.$raise(b.get("NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},h.$$arity=1,h.$$parameters=[["req","name"]]),e.defs(g,"$const_name!",f=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"const_name!"),t=b.get("Opal")["$coerce_to!"](t,b.get("String"),"to_str"),(a=t["$[]"](0)["$!="](t["$[]"](0).$upcase()))===r||null==a||a.$$is_boolean&&1!=a||n.$raise(b.get("NameError"),"wrong constant name "+t),t},f.$$arity=1,f.$$parameters=[["req","const_name"]]),e.defs(g,"$pristine",m=function(t){var a,n=arguments.length,$=n-1;$<0&&($=0),a=new Array($);for(var i=1;i<n;i++)a[i-1]=arguments[i];var s=arguments.length;s<1&&e.ac(s,-2,this,"pristine");for(var o,l=a.length-1;l>=0;l--)o=a[l],t.$$proto["$"+o].$$pristine=!0;return r},m.$$arity=-2,m.$$parameters=[["req","owner_class"],["rest","method_names"]])}(t.base)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$coerce_to!","$new","$const_name!","$=~","$inject","$const_get","$split","$const_missing","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$to_s","$__id__","$constants","$include?"]),function($base,$super){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14,TMP_15,TMP_16,TMP_17,TMP_18,TMP_19,TMP_20,TMP_22,TMP_23,TMP_24,TMP_25,TMP_27,TMP_28,TMP_29,TMP_30,TMP_31,TMP_32,TMP_33,TMP_34,TMP_35,TMP_36,TMP_37,TMP_38,TMP_39,TMP_41,TMP_42,TMP_43,TMP_44,TMP_45,TMP_46,TMP_47,TMP_48,TMP_49;return Opal.defs(self,"$allocate",TMP_1=function(){var e=this,t=arguments.length;0!==t&&Opal.ac(t,0,this,"allocate");var r;return r=Opal.module_allocate(e),Opal.create_scope(Opal.Module.$$scope,r,null),r},TMP_1.$$arity=0,TMP_1.$$parameters=[]),Opal.defn(self,"$initialize",TMP_2=function(){var e=this,t=TMP_2.$$p,r=t||nil;TMP_2.$$p=null;var a=arguments.length;return 0!==a&&Opal.ac(a,0,this,"initialize"),Opal.module_initialize(e,r)},TMP_2.$$arity=0,TMP_2.$$parameters=[["block","block"]]),Opal.defn(self,"$===",TMP_3=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,"==="),!!((t=null==e)===nil||null==t||t.$$is_boolean&&1!=t)&&Opal.is_a(e,r)},TMP_3.$$arity=1,TMP_3.$$parameters=[["req","object"]]),Opal.defn(self,"$<",TMP_4=function(e){var t,r=this,a=arguments.length;1!==a&&Opal.ac(a,1,this,"<"),((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&r.$raise($scope.get("TypeError"),"compared with non class/module");var n,$,i,s=r;if(s===e)return!1;for($=0,n=Opal.ancestors(r),i=n.length;$<i;$++)if(n[$]===e)return!0;for($=0,n=Opal.ancestors(e),i=n.length;$<i;$++)if(n[$]===r)return!1;return nil},TMP_4.$$arity=1,TMP_4.$$parameters=[["req","other"]]),Opal.defn(self,"$<=",TMP_5=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,"<="),!1!==(t=r["$equal?"](e))&&t!==nil&&null!=t?t:$rb_lt(r,e)},TMP_5.$$arity=1,TMP_5.$$parameters=[["req","other"]]),Opal.defn(self,"$>",TMP_6=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,">"),((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&r.$raise($scope.get("TypeError"),"compared with non class/module"),$rb_lt(e,r)},TMP_6.$$arity=1,TMP_6.$$parameters=[["req","other"]]),Opal.defn(self,"$>=",TMP_7=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,">="),!1!==(t=r["$equal?"](e))&&t!==nil&&null!=t?t:$rb_gt(r,e)},TMP_7.$$arity=1,TMP_7.$$parameters=[["req","other"]]),Opal.defn(self,"$<=>",TMP_8=function(e){var t,r=this,a=nil,n=arguments.length;return 1!==n&&Opal.ac(n,1,this,"<=>"),r===e?0:(t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t?nil:(a=$rb_lt(r,e),(t=a["$nil?"]())===nil||null==t||t.$$is_boolean&&1!=t?!1!==a&&a!==nil&&null!=a?-1:1:nil)},TMP_8.$$arity=1,TMP_8.$$parameters=[["req","other"]]),Opal.defn(self,"$alias_method",TMP_9=function(e,t){var r=this,a=arguments.length;return 2!==a&&Opal.ac(a,2,this,"alias_method"),Opal.alias(r,e,t),r},TMP_9.$$arity=2,TMP_9.$$parameters=[["req","newname"],["req","oldname"]]),Opal.defn(self,"$alias_native",TMP_10=function(e,t){var r=this;null==t&&(t=e);var a=arguments.length;return(a<1||a>2)&&Opal.ac(a,-2,this,"alias_native"),Opal.alias_native(r,e,t),r},TMP_10.$$arity=-2,TMP_10.$$parameters=[["req","mid"],["opt","jsid"]]),Opal.defn(self,"$ancestors",TMP_11=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"ancestors"),Opal.ancestors(e)},TMP_11.$$arity=0,TMP_11.$$parameters=[]),Opal.defn(self,"$append_features",TMP_12=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"append_features"),Opal.append_features(t,e),t},TMP_12.$$arity=1,TMP_12.$$parameters=[["req","klass"]]),Opal.defn(self,"$attr_accessor",TMP_13=function(){var e,t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(e=a).$attr_reader.apply(e,Opal.to_a(r)),(t=a).$attr_writer.apply(t,Opal.to_a(r))},TMP_13.$$arity=-1,TMP_13.$$parameters=[["rest","names"]]),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_14=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=t.$$proto,i=e.length-1;i>=0;i--){var s=e[i],o="$"+s,l=Opal.ivar(s),c=function(e){return function(){return null==this[e]?nil:this[e]}}(l);$[l]=nil,c.$$parameters=[],c.$$arity=0,t.$$is_singleton?$.constructor.prototype[o]=c:Opal.defn(t,o,c)}return nil},TMP_14.$$arity=-1,TMP_14.$$parameters=[["rest","names"]]),Opal.defn(self,"$attr_writer",TMP_15=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=t.$$proto,i=e.length-1;i>=0;i--){var s=e[i],o="$"+s+"=",l=Opal.ivar(s),c=function(e){return function(t){return this[e]=t}}(l);c.$$parameters=[["req"]],c.$$arity=1,$[l]=nil,t.$$is_singleton?$.constructor.prototype[o]=c:Opal.defn(t,o,c)}return nil},TMP_15.$$arity=-1,TMP_15.$$parameters=[["rest","names"]]),Opal.defn(self,"$autoload",TMP_16=function(e,t){var r=this,a=arguments.length;2!==a&&Opal.ac(a,2,this,"autoload");var n;return(n=r.$$autoload)||(n=r.$$autoload={}),n[e]=t,nil},TMP_16.$$arity=2,TMP_16.$$parameters=[["req","const"],["req","path"]]),Opal.defn(self,"$class_variable_get",TMP_17=function(e){var t,r=this,a=arguments.length;1!==a&&Opal.ac(a,1,this,"class_variable_get"),e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(t=e.length<3||"@@"!==e.slice(0,2))===nil||null==t||t.$$is_boolean&&1!=t||r.$raise($scope.get("NameError").$new("class vars should start with @@",e));var n=Opal.cvars[e.slice(2)];return function(){(t=null==n)===nil||null==t||t.$$is_boolean&&1!=t||r.$raise($scope.get("NameError").$new("uninitialized class variable @@a in",e))}(),n},TMP_17.$$arity=1,TMP_17.$$parameters=[["req","name"]]),Opal.defn(self,"$class_variable_set",TMP_18=function(e,t){var r,a=this,n=arguments.length;return 2!==n&&Opal.ac(n,2,this,"class_variable_set"),e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(r=e.length<3||"@@"!==e.slice(0,2))===nil||null==r||r.$$is_boolean&&1!=r||a.$raise($scope.get("NameError")),Opal.cvars[e.slice(2)]=t,t},TMP_18.$$arity=2,TMP_18.$$parameters=[["req","name"],["req","value"]]),Opal.defn(self,"$constants",TMP_19=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"constants"),e.$$scope.constants.slice(0)},TMP_19.$$arity=0,TMP_19.$$parameters=[]),Opal.defn(self,"$const_defined?",TMP_20=function(e,t){var r,a=this;null==t&&(t=!0);var n=arguments.length;(n<1||n>2)&&Opal.ac(n,-2,this,"const_defined?"),e=$scope.get("Opal")["$const_name!"](e),((r=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==r||r.$$is_boolean&&1!=r)&&a.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var $=[a.$$scope];if(t||a===Opal.Object)for(var i=a.$$super;i!==Opal.BasicObject;)$.push(i.$$scope),i=i.$$super;for(var s=0,o=$.length;s<o;s++)if($[s].hasOwnProperty(e))return!0;return!1},TMP_20.$$arity=-2,TMP_20.$$parameters=[["req","name"],["opt","inherit"]]),Opal.defn(self,"$const_get",TMP_22=function(e,t){var r,a,n,$=this;null==t&&(t=!0);var i=arguments.length;if((i<1||i>2)&&Opal.ac(i,-2,this,"const_get"),e=$scope.get("Opal")["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),(r=-1!=e.indexOf("::")&&"::"!=e)!==nil&&null!=r&&(!r.$$is_boolean||1==r))return(r=(a=e.$split("::")).$inject,r.$$p=(n=function(e,t){n.$$s;if(null==e&&(e=nil),null==t&&(t=nil),n.$$is_lambda||n.$$define_meth){var r=arguments.length;2!==r&&Opal.block_ac(r,2,"const_get")}return e.$const_get(t)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","o"],["req","c"]],n),r).call(a,$);((r=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==r||r.$$is_boolean&&1!=r)&&$.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var s=[$.$$scope];if(t||$==Opal.Object)for(var o=$.$$super;o!==Opal.BasicObject;)s.push(o.$$scope),o=o.$$super;for(var l=0,c=s.length;l<c;l++)if(s[l].hasOwnProperty(e))return s[l][e];return $.$const_missing(e)},TMP_22.$$arity=-2,TMP_22.$$parameters=[["req","name"],["opt","inherit"]]),Opal.defn(self,"$const_missing",TMP_23=function(e){var t=this,r=nil,a=arguments.length;if(1!==a&&Opal.ac(a,1,this,"const_missing"),t.$$autoload){var n=t.$$autoload[e];if(n)return t.$require(n),t.$const_get(e)}return r=function(){return t["$=="]($scope.get("Object"))?e:t+"::"+e}(),t.$raise($scope.get("NameError").$new("uninitialized constant "+r,e))},TMP_23.$$arity=1,TMP_23.$$parameters=[["req","name"]]),Opal.defn(self,"$const_set",TMP_24=function(e,t){var r,a,n=this,$=arguments.length;return 2!==$&&Opal.ac($,2,this,"const_set"),e=$scope.get("Opal")["$const_name!"](e),(r=!1!==(a=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())&&a!==nil&&null!=a?a:e["$start_with?"]("::"))===nil||null==r||r.$$is_boolean&&1!=r||n.$raise($scope.get("NameError").$new("wrong constant name "+e,e)),Opal.casgn(n,e,t),t},TMP_24.$$arity=2,TMP_24.$$parameters=[["req","name"],["req","value"]]),Opal.defn(self,"$define_method",TMP_25=function(e,t){var r,a,n,$,i=this,s=TMP_25.$$p,o=s||nil,l=nil;TMP_25.$$p=null;var c=arguments.length;(c<1||c>2)&&Opal.ac(c,-2,this,"define_method"),(r=t===undefined&&o===nil)===nil||null==r||r.$$is_boolean&&1!=r||i.$raise($scope.get("ArgumentError"),"tried to create a Proc object without a block"),!1!==(r=o)&&r!==nil&&null!=r||(o=function(){return l=t,
$scope.get("Proc")["$==="](l)?t:$scope.get("Method")["$==="](l)?t.$to_proc().$$unbound:$scope.get("UnboundMethod")["$==="](l)?(a=(n=i).$lambda,a.$$p=($=function(){var e,r,a=$.$$s||this,n=nil,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var o=0;o<i;o++)e[o-0]=arguments[o];return n=t.$bind(a),(r=n).$call.apply(r,Opal.to_a(e))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"]],$),a).call(n):i.$raise($scope.get("TypeError"),"wrong argument type "+o.$class()+" (expected Proc/Method)")}());var u="$"+e;return o.$$jsid=e,o.$$s=null,o.$$def=o,o.$$define_meth=!0,Opal.defn(i,u,o),e},TMP_25.$$arity=-2,TMP_25.$$parameters=[["req","name"],["opt","method"],["block","block"]]),Opal.defn(self,"$remove_method",TMP_27=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=0,i=e.length;$<i;$++)Opal.rdef(t,"$"+e[$]);return t},TMP_27.$$arity=-1,TMP_27.$$parameters=[["rest","names"]]),Opal.defn(self,"$singleton_class?",TMP_28=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"singleton_class?"),!!e.$$is_singleton},TMP_28.$$arity=0,TMP_28.$$parameters=[]),Opal.defn(self,"$include",TMP_29=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=e.length-1;$>=0;$--){var i=e[$];i!==t&&(i.$$is_module||t.$raise($scope.get("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(t),i.$included(t))}return t},TMP_29.$$arity=-1,TMP_29.$$parameters=[["rest","mods"]]),Opal.defn(self,"$included_modules",TMP_30=function(){var e=this,t=arguments.length;0!==t&&Opal.ac(t,0,this,"included_modules");var r,a=function(e){for(var t=[],r=0;r!=e.$$inc.length;r++){var n=e.$$inc[r];t.push(n),t=t.concat(a(n))}return t};if(r=a(e),e.$$is_class)for(var n=e;n;n=n.$$super)r=r.concat(a(n));return r},TMP_30.$$arity=0,TMP_30.$$parameters=[]),Opal.defn(self,"$include?",TMP_31=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"include?");for(var a=t;a;a=a.$$super)for(var n=0;n!=a.$$inc.length;n++){var $=a.$$inc[n];if(e===$)return!0}return!1},TMP_31.$$arity=1,TMP_31.$$parameters=[["req","mod"]]),Opal.defn(self,"$instance_method",TMP_32=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"instance_method");var a=t.$$proto["$"+e];return a&&!a.$$stub||t.$raise($scope.get("NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),$scope.get("UnboundMethod").$new(t,a,e)},TMP_32.$$arity=1,TMP_32.$$parameters=[["req","name"]]),Opal.defn(self,"$instance_methods",TMP_33=function(e){var t=this;null==e&&(e=!0);var r=arguments.length;r>1&&Opal.ac(r,-1,this,"instance_methods");var a=[],n=t.$$proto;for(var $ in n)if("$"===$.charAt(0)&&"function"==typeof n[$]&&!n[$].$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&n[$]===Opal.BasicObject.$$proto[$])continue;if(!e&&!n.hasOwnProperty($))continue;if(!e&&n[$].$$donated)continue}a.push($.substr(1))}return a},TMP_33.$$arity=-1,TMP_33.$$parameters=[["opt","include_super"]]),Opal.defn(self,"$included",TMP_34=function(){var e=arguments.length;return 1!==e&&Opal.ac(e,1,this,"included"),nil},TMP_34.$$arity=1,TMP_34.$$parameters=[["req","mod"]]),Opal.defn(self,"$extended",TMP_35=function(){var e=arguments.length;return 1!==e&&Opal.ac(e,1,this,"extended"),nil},TMP_35.$$arity=1,TMP_35.$$parameters=[["req","mod"]]),Opal.defn(self,"$method_added",TMP_36=function(){return nil},TMP_36.$$arity=-1,TMP_36.$$parameters=[["rest"]]),Opal.defn(self,"$method_removed",TMP_37=function(){return nil},TMP_37.$$arity=-1,TMP_37.$$parameters=[["rest"]]),Opal.defn(self,"$method_undefined",TMP_38=function(){return nil},TMP_38.$$arity=-1,TMP_38.$$parameters=[["rest"]]),Opal.defn(self,"$module_eval",TMP_39=function $$module_eval($a_rest){var $b,$c,TMP_40,self=this,args,$iter=TMP_39.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_39.$$p=null,$c=block["$nil?"](),($b=!1!==$c&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:!1!==($b=file)&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!0}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_40=function(){var self=TMP_40.$$s||this;if(TMP_40.$$is_lambda||TMP_40.$$define_meth){var $arity=arguments.length;0!==$arity&&Opal.block_ac($arity,0,"module_eval")}return function(self){return eval(compiled)}(self)},TMP_40.$$s=self,TMP_40.$$arity=0,TMP_40.$$parameters=[],TMP_40),$b).call($c));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_39.$$arity=-1,TMP_39.$$parameters=[["rest","args"],["block","block"]]),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_41=function(){var e,t=this,r=TMP_41.$$p,a=r||nil,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var i=0;i<n;i++)e[i-0]=arguments[i];TMP_41.$$p=null,a===nil&&t.$raise($scope.get("LocalJumpError"),"no block given");var s,o=a.$$s;return a.$$s=null,s=a.apply(t,e),a.$$s=o,s},TMP_41.$$arity=-1,TMP_41.$$parameters=[["rest","args"],["block","block"]]),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_42=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"method_defined?");var a=t.$$proto["$"+e];return!!a&&!a.$$stub},TMP_42.$$arity=1,TMP_42.$$parameters=[["req","method"]]),Opal.defn(self,"$module_function",TMP_43=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];if(0===e.length)t.$$module_function=!0;else for(var $=0,i=e.length;$<i;$++){var s=e[$],o="$"+s,l=t.$$proto[o];Opal.defs(t,o,l)}return t},TMP_43.$$arity=-1,TMP_43.$$parameters=[["rest","methods"]]),Opal.defn(self,"$name",TMP_44=function(){var e=this,t=arguments.length;if(0!==t&&Opal.ac(t,0,this,"name"),e.$$full_name)return e.$$full_name;for(var r=[],a=e;a;){if(a.$$name===nil)return 0===r.length?nil:r.join("::");if(r.unshift(a.$$name),(a=a.$$base_module)===Opal.Object)break}return 0===r.length?nil:e.$$full_name=r.join("::")},TMP_44.$$arity=0,TMP_44.$$parameters=[]),Opal.defn(self,"$remove_class_variable",TMP_45=function(){return nil},TMP_45.$$arity=-1,TMP_45.$$parameters=[["rest"]]),Opal.defn(self,"$remove_const",TMP_46=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"remove_const");var a=t.$$scope[e];return delete t.$$scope[e],a},TMP_46.$$arity=1,TMP_46.$$parameters=[["req","name"]]),Opal.defn(self,"$to_s",TMP_47=function(){var e,t=this,r=arguments.length;return 0!==r&&Opal.ac(r,0,this,"to_s"),!1!==(e=Opal.Module.$name.call(t))&&e!==nil&&null!=e?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_47.$$arity=0,TMP_47.$$parameters=[]),Opal.defn(self,"$undef_method",TMP_48=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=0,i=e.length;$<i;$++)Opal.udef(t,"$"+e[$]);return t},TMP_48.$$arity=-1,TMP_48.$$parameters=[["rest","names"]]),Opal.defn(self,"$instance_variables",TMP_49=function(){var e=this,t=nil,r=arguments.length;0!==r&&Opal.ac(r,0,this,"instance_variables"),t=e.$constants();var a=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&a.push("@"+n);return a},TMP_49.$$arity=0,TMP_49.$$parameters=[]),nil&&"instance_variables"}($scope.base,null)},Opal.modules["corelib/class"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,$super){function r(){}var $,i,s,o,l,c,u=r=n(t,$super,"Class",r),_=(u.$$proto,u.$$scope);return e.defs(u,"$new",$=function(t){var r=$.$$p,n=r||a;null==t&&(t=_.get("Object")),$.$$p=null;var i=arguments.length;if(i>1&&e.ac(i,-1,this,"new"),!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var s=e.boot_class_alloc(null,function(){},t),o=e.setup_class_object(null,s,t.$$name,t.constructor);return o.$$super=t,o.$$parent=t,e.create_scope(t.$$scope,o),t.$inherited(o),e.module_initialize(o,n),o},$.$$arity=-1,$.$$parameters=[["opt","superclass"],["block","block"]]),e.defn(u,"$allocate",i=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"allocate");var a=new t.$$alloc;return a.$$id=e.uid(),a},i.$$arity=0,i.$$parameters=[]),e.defn(u,"$inherited",s=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"inherited"),a},s.$$arity=1,s.$$parameters=[["req","cls"]]),e.defn(u,"$new",o=function(){var e,t=this,r=o.$$p,n=r||a,$=arguments.length,i=$-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<$;s++)e[s-0]=arguments[s];o.$$p=null;var l=t.$allocate();return l.$initialize.$$p=n,l.$initialize.apply(l,e),l},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.defn(u,"$superclass",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"superclass"),t.$$super||a},l.$$arity=0,l.$$parameters=[]),e.defn(u,"$to_s",c=function(){var t,r,a=this;c.$$p;c.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"to_s");var $=a.$$singleton_of;return $&&($.$$is_class||$.$$is_module)?"#<Class:"+$.$name()+">":$?"#<Class:#<"+$.$$class.$name()+":0x"+$.$$id.$to_s(16)+">>":(r=a,t=e.find_super_dispatcher(a,"to_s",c,!1),t.$$p=null,t).call(r)},c.$$arity=0,c.$$parameters=[]),a&&"to_s"}(r.base,null)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14;return Opal.defn(self,"$initialize",TMP_1=function(){return nil},TMP_1.$$arity=-1,TMP_1.$$parameters=[["rest"]]),Opal.defn(self,"$==",TMP_2=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"=="),t===e},TMP_2.$$arity=1,TMP_2.$$parameters=[["req","other"]]),Opal.defn(self,"$eql?",TMP_3=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"eql?"),t["$=="](e)},TMP_3.$$arity=1,TMP_3.$$parameters=[["req","other"]]),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_4=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"__id__"),e.$$id||(e.$$id=Opal.uid())},TMP_4.$$arity=0,TMP_4.$$parameters=[]),Opal.defn(self,"$__send__",TMP_5=function(e){var t,r=this,a=TMP_5.$$p,n=a||nil,$=arguments.length,i=$-1;i<0&&(i=0),t=new Array(i);for(var s=1;s<$;s++)t[s-1]=arguments[s];TMP_5.$$p=null;var o=arguments.length;o<1&&Opal.ac(o,-2,this,"__send__");var l=r["$"+e];return l?(n!==nil&&(l.$$p=n),l.apply(r,t)):(n!==nil&&(r.$method_missing.$$p=n),r.$method_missing.apply(r,[e].concat(t)))},TMP_5.$$arity=-2,TMP_5.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),Opal.defn(self,"$!",TMP_6=function(){var e=arguments.length;return 0!==e&&Opal.ac(e,0,this,"!"),!1},TMP_6.$$arity=0,TMP_6.$$parameters=[]),Opal.defn(self,"$!=",TMP_7=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"!="),t["$=="](e)["$!"]()},TMP_7.$$arity=1,TMP_7.$$parameters=[["req","other"]]),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_8=function $$instance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_8.$$p=null,$c=block["$nil?"](),($b=!1!==$c&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:!1!==($b=file)&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!0}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_9=function(){var self=TMP_9.$$s||this;if(TMP_9.$$is_lambda||TMP_9.$$define_meth){var $arity=arguments.length;0!==$arity&&Opal.block_ac($arity,0,"instance_eval")}return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9.$$parameters=[],TMP_9),$b).call($c));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_8.$$arity=-1,TMP_8.$$parameters=[["rest","args"],["block","block"]]),Opal.defn(self,"$instance_exec",TMP_10=function(){var e,t=this,r=TMP_10.$$p,a=r||nil,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var i=0;i<n;i++)e[i-0]=arguments[i];TMP_10.$$p=null,!1!==a&&a!==nil&&null!=a||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"no block given");var s,o=a.$$s;if(a.$$s=null,t.$$is_class||t.$$is_module){t.$$eval=!0;try{s=a.apply(t,e)}finally{t.$$eval=!1}}else s=a.apply(t,e);return a.$$s=o,s},TMP_10.$$arity=-1,TMP_10.$$parameters=[["rest","args"],["block","block"]]),Opal.defn(self,"$singleton_method_added",TMP_11=function(){return nil},TMP_11.$$arity=-1,TMP_11.$$parameters=[["rest"]]),Opal.defn(self,"$singleton_method_removed",TMP_12=function(){return nil},TMP_12.$$arity=-1,TMP_12.$$parameters=[["rest"]]),Opal.defn(self,"$singleton_method_undefined",TMP_13=function(){return nil},TMP_13.$$arity=-1,TMP_13.$$parameters=[["rest"]]),Opal.defn(self,"$method_missing",TMP_14=function(e){var t,r,a=this,n=(TMP_14.$$p,arguments.length),$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];TMP_14.$$p=null;var s=arguments.length;return s<1&&Opal.ac(s,-2,this,"method_missing"),$scope.get("Kernel").$raise($scope.get("NoMethodError").$new(function(){return(t=a.$inspect&&!a.$inspect.$$stub)===nil||null==t||t.$$is_boolean&&1!=t?"undefined method `"+e+"' for "+a.$$class:"undefined method `"+e+"' for "+a.$inspect()+":"+a.$$class}(),e))},TMP_14.$$arity=-2,TMP_14.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),nil&&"method_missing"}($scope.base,null)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.gvars,s=e.hash2,o=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$to_proc","$singleton_class","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$sym","$arg","$open","$include"]),function(a){var o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce,ue,_e,pe,de,he,fe,me=o=$(a,"Kernel"),ge=(me.$$proto,me.$$scope);e.defn(me,"$method_missing",l=function(t){var r,a=this,n=(l.$$p,arguments.length),$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];l.$$p=null;var s=arguments.length;return s<1&&e.ac(s,-2,this,"method_missing"),a.$raise(ge.get("NoMethodError").$new("undefined method `"+t+"' for "+a.$inspect(),t,r))},l.$$arity=-2,l.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),e.defn(me,"$=~",c=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"=~"),!1},c.$$arity=1,c.$$parameters=[["req","obj"]]),e.defn(me,"$!~",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"!~"),r["$=~"](t)["$!"]()},u.$$arity=1,u.$$parameters=[["req","obj"]]),e.defn(me,"$===",_=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"==="),!1!==(r=a.$object_id()["$=="](t.$object_id()))&&r!==n&&null!=r?r:a["$=="](t)},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(me,"$<=>",p=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"<=>"),r.$$comparable=!0;var $=r["$=="](t);return $&&$!==n?0:n},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(me,"$method",d=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"method");var n=r["$"+t];return n&&!n.$$stub||r.$raise(ge.get("NameError").$new("undefined method `"+t+"' for class `"+r.$class()+"'",t)),ge.get("Method").$new(r,n,t)},d.$$arity=1,d.$$parameters=[["req","name"]]),e.defn(me,"$methods",h=function(t){var r=this;null==t&&(t=!0);var a=arguments.length;a>1&&e.ac(a,-1,this,"methods");var $=[];for(var i in r)if("$"==i[0]&&"function"==typeof r[i]){if((0==t||t===n)&&!e.hasOwnProperty.call(r,i))continue;r[i].$$stub===undefined&&$.push(i.substr(1))}return $},h.$$arity=-1,h.$$parameters=[["opt","all"]]),e.alias(me,"public_methods","methods"),e.defn(me,"$Array",f=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"Array");var a;return t===n?[]:t.$$is_array?t:(a=ge.get("Opal")["$coerce_to?"](t,ge.get("Array"),"to_ary"))!==n?a:(a=ge.get("Opal")["$coerce_to?"](t,ge.get("Array"),"to_a"),a!==n?a:[t])},f.$$arity=1,f.$$parameters=[["req","object"]]),e.defn(me,"$at_exit",m=function(){var t,r=m.$$p,a=r||n;null==i.__at_exit__&&(i.__at_exit__=n),m.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"at_exit"),!1!==(t=i.__at_exit__)&&t!==n&&null!=t||(i.__at_exit__=[]),i.__at_exit__["$<<"](a)},m.$$arity=0,m.$$parameters=[["block","block"]]),e.defn(me,"$caller",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"caller"),[]},g.$$arity=0,g.$$parameters=[]),e.defn(me,"$class",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"class"),t.$$class},b.$$arity=0,b.$$parameters=[]),e.defn(me,"$copy_instance_variables",v=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"copy_instance_variables");for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(r[n]=t[n])},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(me,"$copy_singleton_methods",y=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"copy_singleton_methods");var n;if(t.hasOwnProperty("$$meta")){var $=e.get_singleton_class(t).$$proto,i=e.get_singleton_class(r).$$proto;for(n in $)"$"===n.charAt(0)&&$.hasOwnProperty(n)&&(i[n]=$[n])}for(n in t)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&(r[n]=t[n])},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(me,"$clone",x=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"clone"),r=t.$class().$allocate(),r.$copy_instance_variables(t),r.$copy_singleton_methods(t),r.$initialize_clone(t),r},x.$$arity=0,x.$$parameters=[]),e.defn(me,"$initialize_clone",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_clone"),r.$initialize_copy(t)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(me,"$define_singleton_method",w=function(t,r){var a,$,i=this,s=w.$$p,o=s||n;w.$$p=null;var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"define_singleton_method"),(a=($=i.$singleton_class()).$define_method,a.$$p=o.$to_proc(),a).call($,t,r)},w.$$arity=-2,w.$$parameters=[["req","name"],["opt","method"],["block","block"]]),e.defn(me,"$dup",q=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.$class().$allocate(),r.$copy_instance_variables(t),r.$initialize_dup(t),r},q.$$arity=0,q.$$parameters=[]),e.defn(me,"$initialize_dup",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_dup"),r.$initialize_copy(t)},S.$$arity=1,S.$$parameters=[["req","other"]]),e.defn(me,"$enum_for",E=function(t){var r,a,$,i=this,s=E.$$p,o=s||n;null==t&&(t="each");var l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<l;u++)$[u-1]=arguments[u];return E.$$p=null,(r=(a=ge.get("Enumerator")).$for,r.$$p=o.$to_proc(),r).apply(a,[i,t].concat(e.to_a($)))},E.$$arity=-1,E.$$parameters=[["opt","method"],["rest","args"],["block","block"]]),e.alias(me,"to_enum","enum_for"),e.defn(me,"$equal?",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"equal?"),r===t},R.$$arity=1,R.$$parameters=[["req","other"]]),e.defn(me,"$exit",O=function(r){var a,$,s=n;null==i.__at_exit__&&(i.__at_exit__=n),null==r&&(r=!0);var o=arguments.length;for(o>1&&e.ac(o,-1,this,"exit"),!1!==(a=i.__at_exit__)&&a!==n&&null!=a||(i.__at_exit__=[]);($=t(i.__at_exit__.$size(),0))!==n&&null!=$&&(!$.$$is_boolean||1==$);)s=i.__at_exit__.$pop(),s.$call();return(a=!0===r)===n||null==a||a.$$is_boolean&&1!=a||(r=0),e.exit(r),n},O.$$arity=-1,O.$$parameters=[["opt","status"]]),e.defn(me,"$extend",M=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=t.$singleton_class(),i=e.length-1;i>=0;i--){var s=e[i];s.$$is_module||t.$raise(ge.get("TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features($),s.$extended(t)}return t},M.$$arity=-1,M.$$parameters=[["rest","mods"]]),e.defn(me,"$format",A=function(t){function r(){I&Y&&d.$raise(ge.get("ArgumentError"),"flag after width"),I&X&&d.$raise(ge.get("ArgumentError"),"flag after precision")}function a(){I&Y&&d.$raise(ge.get("ArgumentError"),"width given twice"),I&X&&d.$raise(ge.get("ArgumentError"),"width after precision")}function $(e){return e>=p.length&&d.$raise(ge.get("ArgumentError"),"too few arguments"),p[e]}function s(){switch(D){case-1:d.$raise(ge.get("ArgumentError"),"unnumbered("+F+") mixed with numbered");case-2:d.$raise(ge.get("ArgumentError"),"unnumbered("+F+") mixed with named")}return D=F++,$(D-1)}function o(e){return D>0&&d.$raise(ge.get("ArgumentError"),"numbered("+e+") after unnumbered("+D+")"),-2===D&&d.$raise(ge.get("ArgumentError"),"numbered("+e+") after named"),e<1&&d.$raise(ge.get("ArgumentError"),"invalid index - "+e+"$"),D=-1,$(e-1)}function l(){return T===undefined?s():T}function c(e){for(var r,a="";;y++){if(y===N&&d.$raise(ge.get("ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(y)<48||t.charCodeAt(y)>57)return y--,r=parseInt(a,10)||0,r>2147483647&&d.$raise(ge.get("ArgumentError"),e+" too big"),r;a+=t.charAt(y)}}function u(e){var r,a=c(e);return"$"===t.charAt(y+1)?(y++,r=o(a)):r=s(),r.$to_int()}var _,p,d=this,h=n;null==i.DEBUG&&(i.DEBUG=n);var f=arguments.length,m=f-1;m<0&&(m=0),p=new Array(m);for(var g=1;g<f;g++)p[g-1]=arguments[g];var b=arguments.length;b<1&&e.ac(b,-2,this,"format"),(_=p.$length()["$=="](1)?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))===n||null==_||_.$$is_boolean&&1!=_||(h=ge.get("Opal")["$coerce_to?"](p["$[]"](0),ge.get("Array"),"to_ary"),((_=h["$nil?"]())===n||null==_||_.$$is_boolean&&1!=_)&&(p=h.$to_a()));var v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C="",P=0,N=t.length,F=1,D=0,B=1,H=2,L=4,U=8,G=16,Y=32,V=64,X=128;for(y=t.indexOf("%");-1!==y;y=t.indexOf("%",y)){switch(k=undefined,I=0,q=-1,S=-1,T=undefined,v=y,y++,t.charAt(y)){case"%":P=y;case"":case"\n":case"\0":y++;continue}e:for(;y<N;y++)switch(t.charAt(y)){case" ":r(),I|=G;continue e;case"#":r(),I|=B;continue e;case"+":r(),I|=L;continue e;case"-":r(),I|=H;continue e;case"0":r(),I|=U;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(E=c("width"),"$"===t.charAt(y+1)){if(y+2===N){k="%",y++;break e}T!==undefined&&d.$raise(ge.get("ArgumentError"),"value given twice - %"+E+"$"),T=o(E),y++}else a(),I|=Y,q=E;continue e;case"<":case"{":for(O="<"===t.charAt(y)?">":"}",R="",y++;;y++){if(y===N&&d.$raise(ge.get("ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(y)===O){if(D>0&&d.$raise(ge.get("ArgumentError"),"named "+R+" after unnumbered("+D+")"),-1===D&&d.$raise(ge.get("ArgumentError"),"named "+R+" after numbered"),D=-2,p[0]!==undefined&&p[0].$$is_hash||d.$raise(ge.get("ArgumentError"),"one hash required"),T=p[0].$fetch(R),">"===O)continue e;if(k=T.toString(),-1!==S&&(k=k.slice(0,S)),I&H)for(;k.length<q;)k+=" ";else for(;k.length<q;)k=" "+k;break e}R+=t.charAt(y)}case"*":y++,a(),I|=Y,(q=u("width"))<0&&(I|=H,q=-q);continue e;case".":if(I&X&&d.$raise(ge.get("ArgumentError"),"precision given twice"),I|=V|X,S=0,y++,"*"===t.charAt(y)){y++,(S=u("precision"))<0&&(I&=~V);continue e}S=c("precision");continue e;case"d":case"i":case"u":if((x=d.$Integer(l()))>=0){for(k=x.toString();k.length<S;)k="0"+k;if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<q;)k+=" ";else if(I&U&&-1===S){for(;k.length<q-(I&L||I&G?1:0);)k="0"+k;(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<q;)k=" "+k}else{for(k=(-x).toString();k.length<S;)k="0"+k;if(I&H)for(k="-"+k;k.length<q;)k+=" ";else if(I&U&&-1===S){for(;k.length<q-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<q;)k=" "+k}break e;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(y)){case"b":case"B":M=2,A="0b",z=/^1+/,j="1";break;case"o":M=8,A="0",z=/^3?7+/,j="7";break;case"x":case"X":M=16,A="0x",z=/^f+/,j="f"}if((x=d.$Integer(l()))>=0){for(k=x.toString(M);k.length<S;)k="0"+k;if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k),I&B&&0!==x&&(k=A+k);k.length<q;)k+=" ";else if(I&U&&-1===S){for(;k.length<q-(I&L||I&G?1:0)-(I&B&&0!==x?A.length:0);)k="0"+k;I&B&&0!==x&&(k=A+k),(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for(I&B&&0!==x&&(k=A+k),(I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<q;)k=" "+k}else if(I&L||I&G){for(k=(-x).toString(M);k.length<S;)k="0"+k;if(I&H)for(I&B&&(k=A+k),k="-"+k;k.length<q;)k+=" ";else if(I&U&&-1===S){for(;k.length<q-1-(I&B?2:0);)k="0"+k;I&B&&(k=A+k),k="-"+k}else for(I&B&&(k=A+k),k="-"+k;k.length<q;)k=" "+k}else{for(k=(x>>>0).toString(M).replace(z,j);k.length<S-2;)k=j+k;if(I&H)for(k=".."+k,I&B&&(k=A+k);k.length<q;)k+=" ";else if(I&U&&-1===S){for(;k.length<q-2-(I&B?A.length:0);)k=j+k;k=".."+k,I&B&&(k=A+k)}else for(k=".."+k,I&B&&(k=A+k);k.length<q;)k=" "+k}t.charAt(y)===t.charAt(y).toUpperCase()&&(k=k.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((x=d.$Float(l()))>=0||isNaN(x)){if(x===Infinity)k="Inf";else switch(t.charAt(y)){case"f":k=x.toFixed(-1===S?6:S);break;case"e":case"E":k=x.toExponential(-1===S?6:S);break;case"g":case"G":k=x.toExponential(),(w=parseInt(k.split("e")[1],10))<-4||w>=(-1===S?6:S)||(k=x.toPrecision(-1===S?I&B?6:undefined:S))}if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<q;)k+=" ";else if(I&U&&x!==Infinity&&!isNaN(x)){for(;k.length<q-(I&L||I&G?1:0);)k="0"+k;(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<q;)k=" "+k}else{if(x===-Infinity)k="Inf";else switch(t.charAt(y)){case"f":k=(-x).toFixed(-1===S?6:S);break;case"e":case"E":k=(-x).toExponential(-1===S?6:S);break;case"g":case"G":k=(-x).toExponential(),(w=parseInt(k.split("e")[1],10))<-4||w>=(-1===S?6:S)||(k=(-x).toPrecision(-1===S?I&B?6:undefined:S))}if(I&H)for(k="-"+k;k.length<q;)k+=" ";else if(I&U&&x!==-Infinity){for(;k.length<q-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<q;)k=" "+k}t.charAt(y)!==t.charAt(y).toUpperCase()||x===Infinity||x===-Infinity||isNaN(x)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":d.$raise(ge.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(x=l(),x["$respond_to?"]("to_ary")&&(x=x.$to_ary()[0]),k=x["$respond_to?"]("to_str")?x.$to_str():String.fromCharCode(ge.get("Opal").$coerce_to(x,ge.get("Integer"),"to_int")),1!==k.length&&d.$raise(ge.get("ArgumentError"),"%c requires a character"),I&H)for(;k.length<q;)k+=" ";else for(;k.length<q;)k=" "+k;break e;case"p":if(k=l().$inspect(),-1!==S&&(k=k.slice(0,S)),I&H)for(;k.length<q;)k+=" ";else for(;k.length<q;)k=" "+k;break e;case"s":if(k=l().$to_s(),-1!==S&&(k=k.slice(0,S)),I&H)for(;k.length<q;)k+=" ";else for(;k.length<q;)k=" "+k;break e;default:d.$raise(ge.get("ArgumentError"),"malformed format string - %"+t.charAt(y))}k===undefined&&d.$raise(ge.get("ArgumentError"),"malformed format string - %"),C+=t.slice(P,v)+k,P=y+1}return i.DEBUG&&D>=0&&F<p.length&&d.$raise(ge.get("ArgumentError"),"too many arguments for format string"),C+t.slice(P)},A.$$arity=-2,A.$$parameters=[["req","format_string"],["rest","args"]]),e.defn(me,"$hash",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.$__id__()},z.$$arity=0,z.$$parameters=[]),e.defn(me,"$initialize_copy",j=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"initialize_copy"),n},j.$$arity=1,j.$$parameters=[["req","other"]]),e.defn(me,"$inspect",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.$to_s()},T.$$arity=0,T.$$parameters=[]),e.defn(me,"$instance_of?",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_of?"),t.$$is_class||t.$$is_module||r.$raise(ge.get("TypeError"),"class or module required"),r.$$class===t},I.$$arity=1,I.$$parameters=[["req","klass"]]),e.defn(me,"$instance_variable_defined?",C=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_variable_defined?"),t=ge.get("Opal")["$instance_variable_name!"](t),e.hasOwnProperty.call(r,t.substr(1))},C.$$arity=1,C.$$parameters=[["req","name"]]),e.defn(me,"$instance_variable_get",P=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"instance_variable_get"),t=ge.get("Opal")["$instance_variable_name!"](t);var $=r[e.ivar(t.substr(1))];return null==$?n:$},P.$$arity=1,P.$$parameters=[["req","name"]]),e.defn(me,"$instance_variable_set",N=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"instance_variable_set"),t=ge.get("Opal")["$instance_variable_name!"](t),a[e.ivar(t.substr(1))]=r},N.$$arity=2,N.$$parameters=[["req","name"],["req","value"]]),e.defn(me,"$remove_instance_variable",F=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"remove_instance_variable"),t=ge.get("Opal")["$instance_variable_name!"](t);var n,$=e.ivar(t.substr(1));return r.hasOwnProperty($)?(n=r[$],delete r[$],n):r.$raise(ge.get("NameError"),"instance variable "+t+" not defined")},F.$$arity=1,F.$$parameters=[["req","name"]]),e.defn(me,"$instance_variables",D=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"instance_variables");var a,n=[];for(var $ in t)t.hasOwnProperty($)&&"$"!==$.charAt(0)&&(a="$"===$.substr(-1)?$.slice(0,$.length-1):$,n.push("@"+a));return n},D.$$arity=0,D.$$parameters=[]),e.defn(me,"$Integer",B=function(t,r){var a=this,$=arguments.length;($<1||$>2)&&e.ac($,-2,this,"Integer");var i,s,o;return t.$$is_string?(r===undefined?r=0:(1===(r=ge.get("Opal").$coerce_to(r,ge.get("Integer"),"to_int"))||r<0||r>36)&&a.$raise(ge.get("ArgumentError"),"invalid radix "+r),s=t.toLowerCase(),s=s.replace(/(\d)_(?=\d)/g,"$1"),s=s.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,n,$){switch($){case"0b":if(0===r||2===r)return r=2,n;case"0":case"0o":if(0===r||8===r)return r=8,n;case"0d":if(0===r||10===r)return r=10,n;case"0x":if(0===r||16===r)return r=16,n}a.$raise(ge.get("ArgumentError"),'invalid value for Integer(): "'+t+'"')}),r=0===r?10:r,o="0-"+(r<=10?r-1:"9a-"+String.fromCharCode(r-11+97)),
new RegExp("^\\s*[+-]?["+o+"]+\\s*$").test(s)||a.$raise(ge.get("ArgumentError"),'invalid value for Integer(): "'+t+'"'),i=parseInt(s,r),isNaN(i)&&a.$raise(ge.get("ArgumentError"),'invalid value for Integer(): "'+t+'"'),i):(r!==undefined&&a.$raise(ge.get("ArgumentError"),"base specified for non string value"),t===n&&a.$raise(ge.get("TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===Infinity||t===-Infinity||isNaN(t))&&a.$raise(ge.get("FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(i=t.$to_int())!==n?i:ge.get("Opal")["$coerce_to!"](t,ge.get("Integer"),"to_i"))},B.$$arity=-2,B.$$parameters=[["req","value"],["opt","base"]]),e.defn(me,"$Float",H=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"Float");var $;return t===n&&r.$raise(ge.get("TypeError"),"can't convert nil into Float"),t.$$is_string?($=t.toString(),$=$.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test($)?r.$Integer($):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test($)||r.$raise(ge.get("ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat($))):ge.get("Opal")["$coerce_to!"](t,ge.get("Float"),"to_f")},H.$$arity=1,H.$$parameters=[["req","value"]]),e.defn(me,"$Hash",L=function(t){var r,a,$=arguments.length;return 1!==$&&e.ac($,1,this,"Hash"),(r=!1!==(a=t["$nil?"]())&&a!==n&&null!=a?a:t["$=="]([]))===n||null==r||r.$$is_boolean&&1!=r?(r=ge.get("Hash")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r?ge.get("Opal")["$coerce_to!"](t,ge.get("Hash"),"to_hash"):t:s([],{})},L.$$arity=1,L.$$parameters=[["req","arg"]]),e.defn(me,"$is_a?",U=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"is_a?"),t.$$is_class||t.$$is_module||r.$raise(ge.get("TypeError"),"class or module required"),e.is_a(r,t)},U.$$arity=1,U.$$parameters=[["req","klass"]]),e.alias(me,"kind_of?","is_a?"),e.defn(me,"$lambda",G=function(){var t=G.$$p,r=t||n;G.$$p=null;var a=arguments.length;return 0!==a&&e.ac(a,0,this,"lambda"),r.$$is_lambda=!0,r},G.$$arity=0,G.$$parameters=[["block","block"]]),e.defn(me,"$load",Y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"load"),t=ge.get("Opal")["$coerce_to!"](t,ge.get("String"),"to_str"),e.load(t)},Y.$$arity=1,Y.$$parameters=[["req","file"]]),e.defn(me,"$loop",V=function(){var t=this,r=V.$$p,a=r||n;V.$$p=null;var $=arguments.length;if(0!==$&&e.ac($,0,this,"loop"),a===n)return t.$enum_for("loop");for(;;)e.yieldX(a,[]);return t},V.$$arity=0,V.$$parameters=[]),e.defn(me,"$nil?",X=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"nil?"),!1},X.$$arity=0,X.$$parameters=[]),e.alias(me,"object_id","__id__"),e.defn(me,"$printf",K=function(){var r,a,$=this,i=arguments.length,s=i-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<i;o++)a[o-0]=arguments[o];return(r=t(a.$length(),0))===n||null==r||r.$$is_boolean&&1!=r||$.$print((r=$).$format.apply(r,e.to_a(a))),n},K.$$arity=-1,K.$$parameters=[["rest","args"]]),e.defn(me,"$proc",W=function(){var t=this,r=W.$$p,a=r||n;W.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"proc"),!1!==a&&a!==n&&null!=a||t.$raise(ge.get("ArgumentError"),"tried to create Proc object without a block"),a.$$is_lambda=!1,a},W.$$arity=0,W.$$parameters=[["block","block"]]),e.defn(me,"$puts",Z=function(){var t,r;null==i.stdout&&(i.stdout=n);var a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return(t=i.stdout).$puts.apply(t,e.to_a(r))},Z.$$arity=-1,Z.$$parameters=[["rest","strs"]]),e.defn(me,"$p",J=function(){var t,a,$,s,o=this,l=arguments.length,c=l-0;c<0&&(c=0),s=new Array(c);for(var u=0;u<l;u++)s[u-0]=arguments[u];return(t=(a=s).$each,t.$$p=($=function(t){$.$$s;if(null==i.stdout&&(i.stdout=n),null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"p")}return i.stdout.$puts(t.$inspect())},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","obj"]],$),t).call(a),(t=r(s.$length(),1))===n||null==t||t.$$is_boolean&&1!=t?s:s["$[]"](0)},J.$$arity=-1,J.$$parameters=[["rest","args"]]),e.defn(me,"$print",Q=function(){var t,r;null==i.stdout&&(i.stdout=n);var a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return(t=i.stdout).$print.apply(t,e.to_a(r))},Q.$$arity=-1,Q.$$parameters=[["rest","strs"]]),e.defn(me,"$warn",ee=function(){var t,r,a;null==i.VERBOSE&&(i.VERBOSE=n),null==i.stderr&&(i.stderr=n);var $=arguments.length,s=$-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<$;o++)a[o-0]=arguments[o];return(t=!1!==(r=i.VERBOSE["$nil?"]())&&r!==n&&null!=r?r:a["$empty?"]())===n||null==t||t.$$is_boolean&&1!=t?(t=i.stderr).$puts.apply(t,e.to_a(a)):n},ee.$$arity=-1,ee.$$parameters=[["rest","strs"]]),e.defn(me,"$raise",te=function(t,r,a){null==i["!"]&&(i["!"]=n),null==r&&(r=n),null==a&&(a=n);var $=arguments.length;if($>3&&e.ac($,-1,this,"raise"),null==t&&i["!"]!==n)throw i["!"];throw null==t?t=ge.get("RuntimeError").$new():t.$$is_string?t=ge.get("RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(r):t["$kind_of?"](ge.get("Exception"))||(t=ge.get("TypeError").$new("exception class/object expected")),i["!"]!==n&&e.exceptions.push(i["!"]),i["!"]=t,t},te.$$arity=-1,te.$$parameters=[["opt","exception"],["opt","string"],["opt","_backtrace"]]),e.alias(me,"fail","raise"),e.defn(me,"$rand",re=function(t){var r=this,a=arguments.length;if(a>1&&e.ac(a,-1,this,"rand"),t===undefined)return Math.random();if(t.$$is_range){var n=t.begin,$=t.end-n;return t.exclude||$++,r.$rand($)+n}return Math.floor(Math.random()*Math.abs(ge.get("Opal").$coerce_to(t,ge.get("Integer"),"to_int")))},re.$$arity=-1,re.$$parameters=[["opt","max"]]),e.defn(me,"$respond_to?",ae=function(t,r){var a,$=this;null==r&&(r=!1);var i=arguments.length;if((i<1||i>2)&&e.ac(i,-2,this,"respond_to?"),(a=$["$respond_to_missing?"](t,r))!==n&&null!=a&&(!a.$$is_boolean||1==a))return!0;var s=$["$"+t];return"function"==typeof s&&!s.$$stub},ae.$$arity=-2,ae.$$parameters=[["req","name"],["opt","include_all"]]),e.defn(me,"$respond_to_missing?",ne=function(t,r){null==r&&(r=!1);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"respond_to_missing?"),!1},ne.$$arity=-2,ne.$$parameters=[["req","method_name"],["opt","include_all"]]),e.defn(me,"$require",$e=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"require"),t=ge.get("Opal")["$coerce_to!"](t,ge.get("String"),"to_str"),e.require(t)},$e.$$arity=1,$e.$$parameters=[["req","file"]]),e.defn(me,"$require_relative",ie=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"require_relative"),ge.get("Opal")["$try_convert!"](t,ge.get("String"),"to_str"),t=ge.get("File").$expand_path(ge.get("File").$join(e.current_file,"..",t)),e.require(t)},ie.$$arity=1,ie.$$parameters=[["req","file"]]),e.defn(me,"$require_tree",se=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"require_tree"),t=ge.get("File").$expand_path(t),t["$=="](".")&&(t="");for(var a in e.modules)a["$start_with?"](t)&&e.require(a);return n},se.$$arity=1,se.$$parameters=[["req","path"]]),e.alias(me,"send","__send__"),e.alias(me,"public_send","__send__"),e.defn(me,"$singleton_class",oe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"singleton_class"),e.get_singleton_class(t)},oe.$$arity=0,oe.$$parameters=[]),e.defn(me,"$sleep",le=function(t){var r=this;null==t&&(t=n);var a=arguments.length;a>1&&e.ac(a,-1,this,"sleep"),t===n&&r.$raise(ge.get("TypeError"),"can't convert NilClass into time interval"),t.$$is_number||r.$raise(ge.get("TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&r.$raise(ge.get("ArgumentError"),"time interval must be positive");for(var $=new Date;new Date-$<=1e3*t;);return t},le.$$arity=-1,le.$$parameters=[["opt","seconds"]]),e.alias(me,"sprintf","format"),e.alias(me,"srand","rand"),e.defn(me,"$String",ce=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"String"),!1!==(r=ge.get("Opal")["$coerce_to?"](t,ge.get("String"),"to_str"))&&r!==n&&null!=r?r:ge.get("Opal")["$coerce_to!"](t,ge.get("String"),"to_s")},ce.$$arity=1,ce.$$parameters=[["req","str"]]),e.defn(me,"$tap",ue=function(){var t=this,r=ue.$$p,a=r||n;ue.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"tap"),e.yield1(a,t),t},ue.$$arity=0,ue.$$parameters=[["block","block"]]),e.defn(me,"$to_proc",_e=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t},_e.$$arity=0,_e.$$parameters=[]),e.defn(me,"$to_s",pe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},pe.$$arity=0,pe.$$parameters=[]),e.defn(me,"$catch",de=function(t){var r=this,a=de.$$p,$=a||n,i=n;de.$$p=null;var s=arguments.length;1!==s&&e.ac(s,1,this,"catch");try{return e.yieldX($,[])}catch(a){if(!e.rescue(a,[ge.get("UncaughtThrowError")]))throw a;i=a;try{return i.$sym()["$=="](t)?i.$arg():r.$raise()}finally{e.pop_exception()}}},de.$$arity=1,de.$$parameters=[["req","sym"]]),e.defn(me,"$throw",he=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise(ge.get("UncaughtThrowError").$new(e))},he.$$arity=-1,he.$$parameters=[["rest","args"]]),e.defn(me,"$open",fe=function(){var t,r,a,$=fe.$$p,i=$||n,s=arguments.length,o=s-0;o<0&&(o=0),a=new Array(o);for(var l=0;l<s;l++)a[l-0]=arguments[l];return fe.$$p=null,(t=(r=ge.get("File")).$open,t.$$p=i.$to_proc(),t).apply(r,e.to_a(a))},fe.$$arity=-1,fe.$$parameters=[["rest","args"],["block","block"]])}(a.base),function(e,$super){function t(){}var r=t=o(e,$super,"Object",t),a=(r.$$proto,r.$$scope);return r.$include(a.get("Kernel"))}(a.base,null)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.klass),$=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,$super){function r(){}var $,i,s,o,l,c,u,_,p=r=n(t,$super,"Exception",r),d=p.$$proto;p.$$scope;d.message=a,e.defs(p,"$new",$=function(){var e,t=this,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<r;$++)e[$-0]=arguments[$];var i=e.length>0?e[0]:a,s=new t.$$alloc(i);return Error.captureStackTrace&&Error.captureStackTrace(s),s.name=t.$$name,s.$initialize.apply(s,e),s},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defs(p,"$exception",i=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$new.apply(t,e.to_a(r))},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.defn(p,"$initialize",s=function(){var e,t=this,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<r;$++)e[$-0]=arguments[$];return t.message=e.length>0?e[0]:a},s.$$arity=-1,s.$$parameters=[["rest","args"]]),e.defn(p,"$backtrace",o=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"backtrace");var a=t.stack;return"string"==typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$exception",l=function(t){var r=this;null==t&&(t=a);var n=arguments.length;if(n>1&&e.ac(n,-1,this,"exception"),t===a||r===t)return r;var $=r.$clone();return $.message=t,$},l.$$arity=-1,l.$$parameters=[["opt","str"]]),e.defn(p,"$message",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message"),t.$to_s()},c.$$arity=0,c.$$parameters=[]),e.defn(p,"$inspect",u=function(){var t,r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"inspect"),n=r.$to_s(),(t=n["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?"#<"+r.$class().$to_s()+": "+r.$to_s()+">":r.$class().$to_s()},u.$$arity=0,u.$$parameters=[]),e.defn(p,"$to_s",_=function(){var t,r,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"to_s"),!1!==(r=n.message,t=!1!==r&&r!==a&&null!=r?n.message.$to_s():r)&&t!==a&&null!=t?t:n.$class().$to_s()},_.$$arity=0,_.$$parameters=[])}(r.base,Error),function(e,$super){function t(){}var r=t=n(e,$super,"ScriptError",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"SyntaxError",t);r.$$proto,r.$$scope}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=n(e,$super,"LoadError",t);r.$$proto,r.$$scope}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=n(e,$super,"NotImplementedError",t);r.$$proto,r.$$scope}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=n(e,$super,"SystemExit",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"NoMemoryError",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"SignalException",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"Interrupt",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"SecurityError",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"StandardError",t);r.$$proto,r.$$scope}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=n(e,$super,"ZeroDivisionError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"NameError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"NoMethodError",t);r.$$proto,r.$$scope}(r.base,r.get("NameError")),function(e,$super){function t(){}var r=t=n(e,$super,"RuntimeError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"LocalJumpError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"TypeError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"ArgumentError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"IndexError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"StopIteration",t);r.$$proto,r.$$scope}(r.base,r.get("IndexError")),function(e,$super){function t(){}var r=t=n(e,$super,"KeyError",t);r.$$proto,r.$$scope}(r.base,r.get("IndexError")),function(e,$super){function t(){}var r=t=n(e,$super,"RangeError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"FloatDomainError",t);r.$$proto,r.$$scope}(r.base,r.get("RangeError")),function(e,$super){function t(){}var r=t=n(e,$super,"IOError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=n(e,$super,"SystemCallError",t);r.$$proto,r.$$scope}(r.base,r.get("StandardError")),function(t){var r,a=r=$(t,"Errno"),i=(a.$$proto,a.$$scope);!function(t,$super){function r(){}var a,$=r=n(t,$super,"EINVAL",r);$.$$proto,$.$$scope;e.defs($,"$new",a=function(){var t,n,$=this;a.$$p;a.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"new"),(n=$,t=e.find_super_dispatcher($,"new",a,!1,r),t.$$p=null,t).call(n,"Invalid argument")},a.$$arity=0,a.$$parameters=[])}(i.base,i.get("SystemCallError"))}(r.base),function(r,$super){function $(){}var i,s=$=n(r,$super,"UncaughtThrowError",$),o=s.$$proto;s.$$scope;o.sym=a,s.$attr_reader("sym","arg"),e.defn(s,"$initialize",i=function(r){var n,$,s=this;i.$$p;i.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"initialize"),s.sym=r["$[]"](0),(n=t(r.$length(),1))===a||null==n||n.$$is_boolean&&1!=n||(s.arg=r["$[]"](1)),($=s,n=e.find_super_dispatcher(s,"initialize",i,!1),n.$$p=null,n).call($,"uncaught throw "+s.sym.$inspect())},i.$$arity=1,i.$$parameters=[["req","args"]])}(r.base,r.get("ArgumentError")),function(t,$super){function r(){}var $,i=r=n(t,$super,"NameError",r);i.$$proto,i.$$scope;i.$attr_reader("name"),e.defn(i,"$initialize",$=function(t,r){var n,i,s=this;$.$$p;null==r&&(r=a),$.$$p=null;var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"initialize"),(i=s,n=e.find_super_dispatcher(s,"initialize",$,!1),n.$$p=null,n).call(i,t),s.name=r},$.$$arity=-2,$.$$parameters=[["req","message"],["opt","name"]])}(r.base,null),function(t,$super){function r(){}var $,i=r=n(t,$super,"NoMethodError",r);i.$$proto,i.$$scope;return i.$attr_reader("args"),e.defn(i,"$initialize",$=function(t,r,n){var i,s,o=this;$.$$p;null==r&&(r=a),null==n&&(n=[]),$.$$p=null;var l=arguments.length;return(l<1||l>3)&&e.ac(l,-2,this,"initialize"),(s=o,i=e.find_super_dispatcher(o,"initialize",$,!1),i.$$p=null,i).call(s,t,r),o.args=n},$.$$arity=-2,$.$$parameters=[["req","message"],["opt","name"],["opt","args"]]),a&&"initialize"}(r.base,null)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,e);e.nil,e.breaker,e.slice;return e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.2.7"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.10.5"),e.cdecl(t,"RUBY_RELEASE_DATE","2017-06-21"),e.cdecl(t,"RUBY_PATCHLEVEL",0),e.cdecl(t,"RUBY_REVISION",0),e.cdecl(t,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.cdecl(t,"RUBY_DESCRIPTION","opal "+t.get("RUBY_ENGINE_VERSION")+" ("+t.get("RUBY_RELEASE_DATE")+" revision "+t.get("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(r,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w=$=n(r,$super,"NilClass",$),q=w.$$proto,S=w.$$scope;q.$$meta=w,e.defn(w,"$!",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"!"),!0},i.$$arity=0,i.$$parameters=[]),e.defn(w,"$&",s=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"&"),!1},s.$$arity=1,s.$$parameters=[["req","other"]]),e.defn(w,"$|",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"|"),!1!==t&&t!==a},o.$$arity=1,o.$$parameters=[["req","other"]]),e.defn(w,"$^",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"^"),!1!==t&&t!==a},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(w,"$==",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"=="),t===a},c.$$arity=1,c.$$parameters=[["req","other"]]),e.defn(w,"$dup",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dup"),t.$raise(S.get("TypeError"),"can't dup "+t.$class())},u.$$arity=0,u.$$parameters=[]),e.defn(w,"$clone",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clone"),t.$raise(S.get("TypeError"),"can't clone "+t.$class())},_.$$arity=0,_.$$parameters=[]),e.defn(w,"$inspect",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"inspect"),"nil"},p.$$arity=0,p.$$parameters=[]),e.defn(w,"$nil?",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"nil?"),!0},d.$$arity=0,d.$$parameters=[]),e.defn(w,"$singleton_class",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"singleton_class"),S.get("NilClass")},h.$$arity=0,h.$$parameters=[]),e.defn(w,"$to_a",f=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_a"),[]},f.$$arity=0,f.$$parameters=[]),e.defn(w,"$to_h",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_h"),e.hash()},m.$$arity=0,m.$$parameters=[]),e.defn(w,"$to_i",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_i"),0},g.$$arity=0,g.$$parameters=[]),e.alias(w,"to_f","to_i"),e.defn(w,"$to_s",b=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_s"),""},b.$$arity=0,b.$$parameters=[]),e.defn(w,"$to_c",v=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_c"),S.get("Complex").$new(0,0)},v.$$arity=0,v.$$parameters=[]),e.defn(w,"$rationalize",y=function(){var e,r,n=this,$=arguments.length,i=$-0;i<0&&(i=0),r=new Array(i);for(var s=0;s<$;s++)r[s-0]=arguments[s];return(e=t(r.$length(),1))===a||null==e||e.$$is_boolean&&1!=e||n.$raise(S.get("ArgumentError")),n.$Rational(0,1)},y.$$arity=-1,y.$$parameters=[["rest","args"]]),e.defn(w,"$to_r",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t.$Rational(0,1)},x.$$arity=0,x.$$parameters=[]),e.defn(w,"$instance_variables",k=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"instance_variables"),[]},k.$$arity=0,k.$$parameters=[])}(r.base,null),e.cdecl(r,"NIL",a)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class"]),function(t,$super){function n(){}var $,i,s,o,l,c,u,_,p,d,h=n=a(t,$super,"Boolean",n),f=h.$$proto,m=h.$$scope;f.$$is_boolean=!0,f.$$meta=h,e.defn(h,"$__id__",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),t.valueOf()?2:0},$.$$arity=0,$.$$parameters=[]),e.alias(h,"object_id","__id__"),e.defn(h,"$!",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"!"),1!=t},i.$$arity=0,i.$$parameters=[]),e.defn(h,"$&",s=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"&"),1==a&&(!1!==t&&t!==r)},s.$$arity=1,s.$$parameters=[["req","other"]]),e.defn(h,"$|",o=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"|"),1==a||!1!==t&&t!==r},o.$$arity=1,o.$$parameters=[["req","other"]]),e.defn(h,"$^",l=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"^"),1==a?!1===t||t===r:!1!==t&&t!==r},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(h,"$==",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),1==r===t.valueOf()},c.$$arity=1,c.$$parameters=[["req","other"]]),e.alias(h,"equal?","=="),e.alias(h,"eql?","=="),e.defn(h,"$singleton_class",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"singleton_class"),m.get("Boolean")},u.$$arity=0,u.$$parameters=[]),e.defn(h,"$to_s",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),1==t?"true":"false"},_.$$arity=0,_.$$parameters=[]),e.defn(h,"$dup",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dup"),t.$raise(m.get("TypeError"),"can't dup "+t.$class())},p.$$arity=0,p.$$parameters=[]),e.defn(h,"$clone",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clone"),t.$raise(m.get("TypeError"),"can't clone "+t.$class())},d.$$arity=0,d.$$parameters=[])}(t.base,Boolean),e.cdecl(t,"TrueClass",t.get("Boolean")),e.cdecl(t,"FalseClass",t.get("Boolean")),e.cdecl(t,"TRUE",!0),e.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(a){var i,s,o,l,c,u,_,p,d=i=$(a,"Comparable"),h=(d.$$proto,d.$$scope);e.defs(d,"$normalize",s=function(a){var $,i=arguments.length;return 1!==i&&e.ac(i,1,this,"normalize"),($=h.get("Integer")["$==="](a))===n||null==$||$.$$is_boolean&&1!=$?($=t(a,0))===n||null==$||$.$$is_boolean&&1!=$?($=r(a,0))===n||null==$||$.$$is_boolean&&1!=$?0:-1:1:a},s.$$arity=1,s.$$parameters=[["req","what"]]),e.defn(d,"$==",o=function(t){var r,a=this,$=n,i=arguments.length;1!==i&&e.ac(i,1,this,"==");try{return!((r=a["$equal?"](t))===n||null==r||r.$$is_boolean&&1!=r)||a["$<=>"]!=e.Kernel["$<=>"]&&(a.$$comparable?(delete a.$$comparable,!1):!((r=$=a["$<=>"](t))===n||null==r||r.$$is_boolean&&1!=r)&&0==h.get("Comparable").$normalize($))}catch(t){if(!e.rescue(t,[h.get("StandardError")]))throw t;try{return!1}finally{e.pop_exception()}}},o.$$arity=1,o.$$parameters=[["req","other"]]),e.defn(d,"$>",l=function(t){var r,a=this,$=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,">"),((r=$=a["$<=>"](t))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(h.get("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h.get("Comparable").$normalize($)>0},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(d,"$>=",c=function(t){var r,a=this,$=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,">="),((r=$=a["$<=>"](t))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(h.get("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h.get("Comparable").$normalize($)>=0},c.$$arity=1,c.$$parameters=[["req","other"]]),e.defn(d,"$<",u=function(t){var r,a=this,$=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"<"),((r=$=a["$<=>"](t))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(h.get("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h.get("Comparable").$normalize($)<0},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(d,"$<=",_=function(t){var r,a=this,$=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"<="),((r=$=a["$<=>"](t))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(h.get("ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h.get("Comparable").$normalize($)<=0},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(d,"$between?",p=function(a,n){var $=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"between?"),!r($,a)&&!t($,n)},p.$$arity=2,p.$$parameters=[["req","min"],["req","max"]])}(a.base)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,$super){function t(){}var r=t=a(e,$super,"RegexpError",t);r.$$proto,r.$$scope}(t.base,t.get("StandardError")),function(t,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f=$=a(t,$super,"Regexp",$),m=f.$$proto,g=f.$$scope;e.cdecl(g,"IGNORECASE",1),e.cdecl(g,"MULTILINE",4),m.$$is_regexp=!0,function(t){var a,$,i,s,o,l=t.$$scope;t.$$proto;e.defn(t,"$allocate",a=function(){var t,n,$=this,i=a.$$p,s=r,o=r,l=r;a.$$p=null;var c=arguments.length;for(0!==c&&e.ac(c,0,this,"allocate"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s=(n=$,t=e.find_super_dispatcher($,"allocate",a,!1),t.$$p=i,t).apply(n,o),s.uninitialized=!0,s},a.$$arity=0,a.$$parameters=[]),e.defn(t,"$escape",$=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"escape"),t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},$.$$arity=1,$.$$parameters=[["req","string"]]),e.defn(t,"$last_match",i=function(t){var a;null==n["~"]&&(n["~"]=r),null==t&&(t=r);var $=arguments.length;return $>1&&e.ac($,-1,this,"last_match"),(a=t["$nil?"]())===r||null==a||a.$$is_boolean&&1!=a?n["~"]["$[]"](t):n["~"]},i.$$arity=-1,i.$$parameters=[["opt","n"]]),e.alias(t,"quote","escape"),e.defn(t,"$union",s=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];var $,i,s,o,c;if(0==e.length)return/(?!)/;$=e[0].$$is_array,e.length>1&&$&&t.$raise(l.get("TypeError"),"no implicit conversion of Array into String"),$&&(e=e[0]),o=undefined,i=[];for(var u=0;u<e.length;u++)s=e[u],s.$$is_string?i.push(t.$escape(s)):s.$$is_regexp?(c=s.$options(),o!=undefined&&o!=c&&t.$raise(l.get("TypeError"),"All expressions must use the same options"),o=c,i.push("("+s.source+")")):i.push(t.$escape(s.$to_str()));return t.$new(i.$join("|"),o)},s.$$arity=-1,s.$$parameters=[["rest","parts"]]),e.defn(t,"$new",o=function(t,r){var a=this,n=arguments.length;if((n<1||n>2)&&e.ac(n,-2,this,"new"),t.$$is_regexp)return new RegExp(t);if(t=l.get("Opal")["$coerce_to!"](t,l.get("String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&a.$raise(l.get("RegexpError"),"too short escape sequence: /"+t+"/"),r===undefined||r["$!"]())return new RegExp(t);if(r.$$is_number){var $="";l.get("IGNORECASE")&r&&($+="i"),l.get("MULTILINE")&r&&($+="m"),r=$}else r="i";return new RegExp(t,r)},o.$$arity=-2,o.$$parameters=[["req","regexp"],["opt","options"]])}(e.get_singleton_class(f)),e.defn(f,"$==",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.constructor==RegExp&&r.toString()===t.toString()},i.$$arity=1,i.$$parameters=[["req","other"]]),e.defn(f,"$===",s=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"==="),a.$match(g.get("Opal")["$coerce_to?"](t,g.get("String"),"to_str"))!==r},s.$$arity=1,s.$$parameters=[["req","string"]]),e.defn(f,"$=~",o=function(t){var a,$=this;null==n["~"]&&(n["~"]=r);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"=~"),a=$.$match(t),!1!==a&&a!==r&&null!=a?n["~"].$begin(0):a},o.$$arity=1,o.$$parameters=[["req","string"]]),e.alias(f,"eql?","=="),e.defn(f,"$inspect",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.toString()},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$match",c=function(t,a){var $=this,i=c.$$p,s=i||r;null==n["~"]&&(n["~"]=r),c.$$p=null;var o=arguments.length;if((o<1||o>2)&&e.ac(o,-2,this,"match"),$.uninitialized&&$.$raise(g.get("TypeError"),"uninitialized Regexp"),a=a===undefined?0:g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int"),t===r)return n["~"]=r;if(t=g.get("Opal").$coerce_to(t,g.get("String"),"to_str"),a<0&&(a+=t.length)<0)return n["~"]=r;var l=$.source,u="g";$.multiline&&(l=l.replace(".","[\\s\\S]"),u+="m");for(var _,p=new RegExp(l,u+($.ignoreCase?"i":""));;){if(null===(_=p.exec(t)))return n["~"]=r;if(_.index>=a)return n["~"]=g.get("MatchData").$new(p,_),s===r?n["~"]:s.$call(n["~"]);p.lastIndex=_.index+1}},c.$$arity=-2,c.$$parameters=[["req","string"],["opt","pos"],["block","block"]]),e.defn(f,"$~",u=function(){var t=this;null==n._&&(n._=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"~"),t["$=~"](n._)},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$source",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"source"),t.source},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$options",p=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"options"),t.uninitialized&&t.$raise(g.get("TypeError"),"uninitialized Regexp");var a=0;return t.multiline&&(a|=g.get("MULTILINE")),t.ignoreCase&&(a|=g.get("IGNORECASE")),a},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$casefold?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"casefold?"),t.ignoreCase},d.$$arity=0,d.$$parameters=[]),e.alias(f,"to_s","source"),e.defs(f,"$_load",h=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"_load"),(r=a).$new.apply(r,e.to_a(t))},h.$$arity=1,h.$$parameters=[["req","args"]])}(t.base,RegExp),function(t,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f,m,g=$=a(t,$super,"MatchData",$),b=g.$$proto,v=g.$$scope;return b.matches=r,g.$attr_reader("post_match","pre_match","regexp","string"),e.defn(g,"$initialize",i=function(t,a){var $=this,i=arguments.length;2!==i&&e.ac(i,2,this,"initialize"),n["~"]=$,$.regexp=t,$.begin=a.index,$.string=a.input,$.pre_match=a.input.slice(0,a.index),$.post_match=a.input.slice(a.index+a[0].length),$.matches=[];for(var s=0,o=a.length;s<o;s++){var l=a[s];null==l?$.matches.push(r):$.matches.push(l)}},i.$$arity=2,i.$$parameters=[["req","regexp"],["req","match_groups"]]),e.defn(g,"$[]",s=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a.matches)["$[]"].apply(t,e.to_a(r))},s.$$arity=-1,s.$$parameters=[["rest","args"]]),e.defn(g,"$offset",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"offset"),0!==t&&r.$raise(v.get("ArgumentError"),"MatchData#offset only supports 0th element"),[r.begin,r.begin+r.matches[t].length]},o.$$arity=1,o.$$parameters=[["req","n"]]),e.defn(g,"$==",l=function(t){var a,n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"=="),!((a=v.get("MatchData")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a)&&(i=s.string==t.string,$=!1!==i&&i!==r&&null!=i?s.regexp.toString()==t.regexp.toString():i,n=!1!==$&&$!==r&&null!=$?s.pre_match==t.pre_match:$,a=!1!==n&&n!==r&&null!=n?s.post_match==t.post_match:n,!1!==a&&a!==r&&null!=a?s.begin==t.begin:a)},l.$$arity=1,l.$$parameters=[["req","other"]]),e.alias(g,"eql?","=="),e.defn(g,"$begin",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"begin"),0!==t&&r.$raise(v.get("ArgumentError"),"MatchData#begin only supports 0th element"),r.begin},c.$$arity=1,c.$$parameters=[["req","n"]]),e.defn(g,"$end",u=function(t){var r=this,a=arguments.length
;return 1!==a&&e.ac(a,1,this,"end"),0!==t&&r.$raise(v.get("ArgumentError"),"MatchData#end only supports 0th element"),r.begin+r.matches[t].length},u.$$arity=1,u.$$parameters=[["req","n"]]),e.defn(g,"$captures",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"captures"),t.matches.slice(1)},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$inspect",p=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");for(var a="#<MatchData "+t.matches[0].$inspect(),n=1,$=t.matches.length;n<$;n++)a+=" "+n+":"+t.matches[n].$inspect();return a+">"},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$length",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.matches.length},d.$$arity=0,d.$$parameters=[]),e.alias(g,"size","length"),e.defn(g,"$to_a",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t.matches},h.$$arity=0,h.$$parameters=[]),e.defn(g,"$to_s",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.matches[0]},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$values_at",m=function(){var e,t=this,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<a;$++)e[$-0]=arguments[$];var i,s,o,l=[];for(i=0;i<e.length;i++)e[i].$$is_range&&(s=e[i].$to_a(),s.unshift(i,1),Array.prototype.splice.apply(e,s)),o=v.get("Opal")["$coerce_to!"](e[i],v.get("Integer"),"to_int"),o<0&&(o+=t.matches.length)<0?l.push(r):l.push(t.matches[o]);return l},m.$$arity=-1,m.$$parameters=[["rest","args"]]),r&&"values_at"}(t.base,null)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=e.top,n=e,$=e.nil,i=(e.breaker,e.slice,e.klass),s=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),a.$require("corelib/comparable"),a.$require("corelib/regexp"),function(a,$super){function n(){}function o(e){function t(e){var t,r,a,n,$,i,s="",o=e.length;for(t=0;t<o;t++)if("-"===(r=e.charAt(t))&&t>0&&t<o-1&&!a){for(n=e.charCodeAt(t-1),$=e.charCodeAt(t+1),n>$&&ye.$raise(ke.get("ArgumentError"),'invalid range "'+n+"-"+$+'" in string transliteration'),i=n+1;i<$+1;i++)s+=String.fromCharCode(i);a=!0,t++}else a="\\"===r,s+=r;return s}function r(e,t){if(0===e.length)return t;var r,a,n="",$=e.length;for(r=0;r<$;r++)a=e.charAt(r),-1!==t.indexOf(a)&&(n+=a);return n}var a,n,$,i,s,o,l="",c="";for(a=0,n=e.length;a<n;a++)$=ke.get("Opal").$coerce_to(e[a],ke.get("String"),"to_str"),i="^"===$.charAt(0)&&$.length>1,$=t(i?$.slice(1):$),i?c=r(c,$):l=r(l,$);if(l.length>0&&c.length>0){for(o="",a=0,n=l.length;a<n;a++)s=l.charAt(a),-1===c.indexOf(s)&&(o+=s);l=o,c=""}return l.length>0?"["+ke.get("Regexp").$escape(l)+"]":c.length>0?"[^"+ke.get("Regexp").$escape(c)+"]":null}var l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce,ue,_e,pe,de,he,fe,me,ge,be,ve,ye=n=i(a,$super,"String",n),xe=ye.$$proto,ke=ye.$$scope;xe.length=$,ye.$include(ke.get("Comparable")),xe.$$is_string=!0,e.defn(ye,"$__id__",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),t.toString()},l.$$arity=0,l.$$parameters=[]),e.alias(ye,"object_id","__id__"),e.defs(ye,"$try_convert",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),ke.get("Opal")["$coerce_to?"](t,ke.get("String"),"to_str")},c.$$arity=1,c.$$parameters=[["req","what"]]),e.defs(ye,"$new",u=function(t){null==t&&(t="");var r=arguments.length;return r>1&&e.ac(r,-1,this,"new"),t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),new String(t)},u.$$arity=-1,u.$$parameters=[["opt","str"]]),e.defn(ye,"$initialize",_=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),t===undefined?r:r.$raise(ke.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},_.$$arity=-1,_.$$parameters=[["opt","str"]]),e.defn(ye,"$%",p=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"%"),(r=ke.get("Array")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r?a.$format(a,t):(r=a).$format.apply(r,[a].concat(e.to_a(t)))},p.$$arity=1,p.$$parameters=[["req","data"]]),e.defn(ye,"$*",d=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"*"),t=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int"),t<0&&r.$raise(ke.get("ArgumentError"),"negative argument"),0===t)return"";var n="",$=r.toString();for($.length*t>=1<<28&&r.$raise(ke.get("RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(n+=$),0!==(t>>>=1);)$+=$;return n},d.$$arity=1,d.$$parameters=[["req","count"]]),e.defn(ye,"$+",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),r+t.$to_s()},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(ye,"$<=>",f=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"<=>"),(r=t["$respond_to?"]("to_str"))===$||null==r||r.$$is_boolean&&1!=r){var i=t["$<=>"](a);return i===$?$:i>0?-1:i<0?1:0}return t=t.$to_str().$to_s(),a>t?1:a<t?-1:0},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(ye,"$==",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$$is_string?r.toString()===t.toString():!!ke.get("Opal")["$respond_to?"](t,"to_str")&&t["$=="](r)},m.$$arity=1,m.$$parameters=[["req","other"]]),e.alias(ye,"eql?","=="),e.alias(ye,"===","=="),e.defn(ye,"$=~",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=~"),t.$$is_string&&r.$raise(ke.get("TypeError"),"type mismatch: String given"),t["$=~"](r)},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(ye,"$[]",b=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"[]");var i,o=a.length;if(t.$$is_range)return i=t.exclude,r=ke.get("Opal").$coerce_to(t.end,ke.get("Integer"),"to_int"),t=ke.get("Opal").$coerce_to(t.begin,ke.get("Integer"),"to_int"),Math.abs(t)>o?$:(t<0&&(t+=o),r<0&&(r+=o),i||(r+=1),r-=t,r<0&&(r=0),a.substr(t,r));if(t.$$is_string)return null!=r&&a.$raise(ke.get("TypeError")),-1!==a.indexOf(t)?t:$;if(t.$$is_regexp){var l=a.match(t);return null===l?(s["~"]=$,$):(s["~"]=ke.get("MatchData").$new(t,l),null==r?l[0]:(r=ke.get("Opal").$coerce_to(r,ke.get("Integer"),"to_int"),r<0&&-r<l.length?l[r+=l.length]:r>=0&&r<l.length?l[r]:$))}return t=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int"),t<0&&(t+=o),null==r?t>=o||t<0?$:a.substr(t,1):(r=ke.get("Opal").$coerce_to(r,ke.get("Integer"),"to_int"),r<0?$:t>o||t<0?$:a.substr(t,r))},b.$$arity=-2,b.$$parameters=[["req","index"],["opt","length"]]),e.alias(ye,"byteslice","[]"),e.defn(ye,"$capitalize",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"capitalize"),t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},v.$$arity=0,v.$$parameters=[]),e.defn(ye,"$casecmp",y=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"casecmp"),t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(r)&&n.test(t)&&(r=r.toLowerCase(),t=t.toLowerCase()),r["$<=>"](t)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(ye,"$center",x=function(a,n){var i,s=this;null==n&&(n=" ");var o=arguments.length;if((o<1||o>2)&&e.ac(o,-2,this,"center"),a=ke.get("Opal").$coerce_to(a,ke.get("Integer"),"to_int"),n=ke.get("Opal").$coerce_to(n,ke.get("String"),"to_str").$to_s(),(i=n["$empty?"]())===$||null==i||i.$$is_boolean&&1!=i||s.$raise(ke.get("ArgumentError"),"zero width padding"),(i=a<=s.length)!==$&&null!=i&&(!i.$$is_boolean||1==i))return s;var l=s.$ljust(t(r(a,s.length),2).$ceil(),n);return s.$rjust(t(r(a,s.length),2).$floor(),n)+l.slice(s.length)},x.$$arity=-2,x.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(ye,"$chars",k=function(){var t,r,a=this,n=k.$$p,i=n||$;k.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"chars"),!1===i||i===$||null==i?a.$each_char().$to_a():(t=(r=a).$each_char,t.$$p=i.$to_proc(),t).call(r)},k.$$arity=0,k.$$parameters=[["block","block"]]),e.defn(ye,"$chomp",w=function(t){var r,a=this;null==s["/"]&&(s["/"]=$),null==t&&(t=s["/"]);var n=arguments.length;if(n>1&&e.ac(n,-1,this,"chomp"),(r=t===$||0===a.length)!==$&&null!=r&&(!r.$$is_boolean||1==r))return a;if("\n"===(t=ke.get("Opal")["$coerce_to!"](t,ke.get("String"),"to_str").$to_s()))return a.replace(/\r?\n?$/,"");if(""===t)return a.replace(/(\r?\n)+$/,"");if(a.length>t.length){if(a.substr(a.length-t.length,t.length)===t)return a.substr(0,a.length-t.length)}return a},w.$$arity=-1,w.$$parameters=[["opt","separator"]]),e.defn(ye,"$chop",q=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"chop");var a=t.length;return a<=1?"":"\n"===t.charAt(a-1)&&"\r"===t.charAt(a-2)?t.substr(0,a-2):t.substr(0,a-1)},q.$$arity=0,q.$$parameters=[]),e.defn(ye,"$chr",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"chr"),t.charAt(0)},S.$$arity=0,S.$$parameters=[]),e.defn(ye,"$clone",E=function(){var t=this,r=$,a=arguments.length;return 0!==a&&e.ac(a,0,this,"clone"),r=t.slice(),r.$copy_singleton_methods(t),r.$initialize_clone(t),r},E.$$arity=0,E.$$parameters=[]),e.defn(ye,"$dup",R=function(){var t=this,r=$,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.slice(),r.$initialize_dup(t),r},R.$$arity=0,R.$$parameters=[]),e.defn(ye,"$count",O=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];0===e.length&&t.$raise(ke.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=o(e);return null===$?0:t.length-t.replace(new RegExp($,"g"),"").length},O.$$arity=-1,O.$$parameters=[["rest","sets"]]),e.defn(ye,"$delete",M=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];0===e.length&&t.$raise(ke.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=o(e);return null===$?t:t.replace(new RegExp($,"g"),"")},M.$$arity=-1,M.$$parameters=[["rest","sets"]]),e.defn(ye,"$downcase",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"downcase"),t.toLowerCase()},A.$$arity=0,A.$$parameters=[]),e.defn(ye,"$each_char",z=function(){var t,r,a,n=this,i=z.$$p,s=i||$;z.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_char"),s===$)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_char")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"each_char");for(var l=0,c=n.length;l<c;l++)e.yield1(s,n.charAt(l));return n},z.$$arity=0,z.$$parameters=[["block","block"]]),e.defn(ye,"$each_line",j=function(t){var r=this,a=j.$$p,n=a||$;null==s["/"]&&(s["/"]=$),null==t&&(t=s["/"]),j.$$p=null;var i=arguments.length;if(i>1&&e.ac(i,-1,this,"each_line"),n===$)return r.$enum_for("each_line",t);if(t===$)return e.yield1(n,r),r;t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str");var o,l,c,u,_,p,d;if(0===t.length){for(o=r.split(/(\n{2,})/),l=0,c=o.length;l<c;l+=2)(o[l]||o[l+1])&&e.yield1(n,(o[l]||"")+(o[l+1]||""));return r}for(_=r.$chomp(t),p=r.length!=_.length,d=_.split(t),l=0,u=d.length;l<u;l++)l<u-1||p?e.yield1(n,d[l]+t):e.yield1(n,d[l]);return r},j.$$arity=-1,j.$$parameters=[["opt","separator"],["block","block"]]),e.defn(ye,"$empty?",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.length},T.$$arity=0,T.$$parameters=[]),e.defn(ye,"$end_with?",I=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=0,i=e.length;$<i;$++){var s=ke.get("Opal").$coerce_to(e[$],ke.get("String"),"to_str").$to_s();if(t.length>=s.length&&t.substr(t.length-s.length,s.length)==s)return!0}return!1},I.$$arity=-1,I.$$parameters=[["rest","suffixes"]]),e.alias(ye,"eql?","=="),e.alias(ye,"equal?","==="),e.defn(ye,"$gsub",C=function(t,r){var a=this,n=C.$$p,i=n||$;C.$$p=null;var o=arguments.length;if((o<1||o>2)&&e.ac(o,-2,this,"gsub"),r===undefined&&i===$)return a.$enum_for("gsub",t);var l,c,u="",_=$,p=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(l=t.exec(a))){s["~"]=$,u+=a.slice(p);break}_=ke.get("MatchData").$new(t,l),r===undefined?c=i(l[0]):r.$$is_hash?c=r["$[]"](l[0]).$to_s():(r.$$is_string||(r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str")),c=r.replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=l.length-1;n>0;n--)if(l[n]!==undefined)return t.slice(1)+l[n];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+a.slice(0,l.index);case"'":return t.slice(1)+a.slice(l.index+l[0].length);default:return t.slice(1)+(l[r]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===l.index?(u+=c+a.slice(p,l.index+1),t.lastIndex+=1):u+=a.slice(p,l.index)+c,p=t.lastIndex}return s["~"]=_,u},C.$$arity=-2,C.$$parameters=[["req","pattern"],["opt","replacement"],["block","block"]]),e.defn(ye,"$hash",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.toString()},P.$$arity=0,P.$$parameters=[]),e.defn(ye,"$hex",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hex"),t.$to_i(16)},N.$$arity=0,N.$$parameters=[]),e.defn(ye,"$include?",F=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),t.$$is_string||(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str")),-1!==r.indexOf(t)},F.$$arity=1,F.$$parameters=[["req","other"]]),e.defn(ye,"$index",D=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"index");var i,o,l;if(r===undefined)r=0;else if((r=ke.get("Opal").$coerce_to(r,ke.get("Integer"),"to_int"))<0&&(r+=a.length)<0)return $;if(t.$$is_regexp)for(l=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(o=l.exec(a))){s["~"]=$,i=-1;break}if(o.index>=r){s["~"]=ke.get("MatchData").$new(l,o),i=o.index;break}l.lastIndex=o.index+1}else t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),i=0===t.length&&r>a.length?-1:a.indexOf(t,r);return-1===i?$:i},D.$$arity=-2,D.$$parameters=[["req","search"],["opt","offset"]]),e.defn(ye,"$inspect",B=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");var a=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\x07":"\\a","\x1b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+t.replace(a,function(e){return n[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},B.$$arity=0,B.$$parameters=[]),e.defn(ye,"$intern",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"intern"),t},H.$$arity=0,H.$$parameters=[]),e.defn(ye,"$lines",L=function(t){var r,a,n=this,i=L.$$p,o=i||$,l=$;null==s["/"]&&(s["/"]=$),null==t&&(t=s["/"]),L.$$p=null;var c=arguments.length;return c>1&&e.ac(c,-1,this,"lines"),l=(r=(a=n).$each_line,r.$$p=o.$to_proc(),r).call(a,t),!1!==o&&o!==$&&null!=o?n:l.$to_a()},L.$$arity=-1,L.$$parameters=[["opt","separator"],["block","block"]]),e.defn(ye,"$length",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.length},U.$$arity=0,U.$$parameters=[]),e.defn(ye,"$ljust",G=function(t,r){var a,n=this;null==r&&(r=" ");var i=arguments.length;if((i<1||i>2)&&e.ac(i,-2,this,"ljust"),t=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int"),r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str").$to_s(),(a=r["$empty?"]())===$||null==a||a.$$is_boolean&&1!=a||n.$raise(ke.get("ArgumentError"),"zero width padding"),(a=t<=n.length)!==$&&null!=a&&(!a.$$is_boolean||1==a))return n;var s=-1,o="";for(t-=n.length;++s<t;)o+=r;return n+o.slice(0,t)},G.$$arity=-2,G.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(ye,"$lstrip",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lstrip"),t.replace(/^\s*/,"")},Y.$$arity=0,Y.$$parameters=[]),e.defn(ye,"$match",V=function(t,r){var a,n,i=this,s=V.$$p,o=s||$;V.$$p=null;var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"match"),(a=!1!==(n=ke.get("String")["$==="](t))&&n!==$&&null!=n?n:t["$respond_to?"]("to_str"))===$||null==a||a.$$is_boolean&&1!=a||(t=ke.get("Regexp").$new(t.$to_str())),((a=ke.get("Regexp")["$==="](t))===$||null==a||a.$$is_boolean&&1!=a)&&i.$raise(ke.get("TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),(a=(n=t).$match,a.$$p=o.$to_proc(),a).call(n,i,r)},V.$$arity=-2,V.$$parameters=[["req","pattern"],["opt","pos"],["block","block"]]),e.defn(ye,"$next",X=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"next");var a=t.length;if(0===a)return"";for(var n,$=t,i=t.search(/[a-zA-Z0-9]/),s=!1;a--;){if((n=t.charCodeAt(a))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:s=!0,n=48;break;case 90:s=!0,n=65;break;case 122:s=!0,n=97;break;default:s=!1,n+=1}else-1===i?255===n?(s=!0,n=0):(s=!1,n+=1):s=!0;if($=$.slice(0,a)+String.fromCharCode(n)+$.slice(a+1),s&&(0===a||a===i)){switch(n){case 65:case 97:break;default:n+=1}$=0===a?String.fromCharCode(n)+$:$.slice(0,a)+String.fromCharCode(n)+$.slice(a),s=!1}if(!s)break}return $},X.$$arity=0,X.$$parameters=[]),e.defn(ye,"$oct",K=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"oct");var a,n=t,$=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,r,a){switch(a.charAt(0)){case"+":case"-":return e;case"0":if("x"===a.charAt(1)&&"0x"===r)return e}switch(r){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16}return t+a}),a=parseInt(n.replace(/_(?!_)/g,""),$),isNaN(a)?0:a)},K.$$arity=0,K.$$parameters=[]),e.defn(ye,"$ord",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ord"),t.charCodeAt(0)},W.$$arity=0,W.$$parameters=[]),e.defn(ye,"$partition",Z=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"partition");var n,$;return t.$$is_regexp?($=t.exec(r),null===$?n=-1:(ke.get("MatchData").$new(t,$),t=$[0],n=$.index)):(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),n=r.indexOf(t)),-1===n?[r,"",""]:[r.slice(0,n),r.slice(n,n+t.length),r.slice(n+t.length)]},Z.$$arity=1,Z.$$parameters=[["req","sep"]]),e.defn(ye,"$reverse",J=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse"),t.split("").reverse().join("")},J.$$arity=0,J.$$parameters=[]),e.defn(ye,"$rindex",Q=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"rindex");var i,o,l,c;if(r===undefined)r=a.length;else if((r=ke.get("Opal").$coerce_to(r,ke.get("Integer"),"to_int"))<0&&(r+=a.length)<0)return $;if(t.$$is_regexp){for(o=null,l=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(c=l.exec(a))||c.index>r)break;o=c,l.lastIndex=o.index+1}null===o?(s["~"]=$,i=-1):(ke.get("MatchData").$new(l,o),i=o.index)}else t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),i=a.lastIndexOf(t,r);return-1===i?$:i},Q.$$arity=-2,Q.$$parameters=[["req","search"],["opt","offset"]]),e.defn(ye,"$rjust",ee=function(t,r){var a,n=this;null==r&&(r=" ");var i=arguments.length;if((i<1||i>2)&&e.ac(i,-2,this,"rjust"),t=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int"),r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str").$to_s(),(a=r["$empty?"]())===$||null==a||a.$$is_boolean&&1!=a||n.$raise(ke.get("ArgumentError"),"zero width padding"),(a=t<=n.length)!==$&&null!=a&&(!a.$$is_boolean||1==a))return n;var s=Math.floor(t-n.length),o=Math.floor(s/r.length),l=Array(o+1).join(r),c=s-l.length;return l+r.slice(0,c)+n},ee.$$arity=-2,ee.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(ye,"$rpartition",te=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"rpartition");var n,$,i,s;if(t.$$is_regexp){for($=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(s=i.exec(r)))break;$=s,i.lastIndex=$.index+1}null===$?n=-1:(ke.get("MatchData").$new(i,$),t=$[0],n=$.index)}else t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),n=r.lastIndexOf(t);return-1===n?["","",r]:[r.slice(0,n),r.slice(n,n+t.length),r.slice(n+t.length)]},te.$$arity=1,te.$$parameters=[["req","sep"]]),e.defn(ye,"$rstrip",re=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rstrip"),t.replace(/[\s\u0000]*$/,"")},re.$$arity=0,re.$$parameters=[]),e.defn(ye,"$scan",ae=function(t){var r=this,a=ae.$$p,n=a||$;ae.$$p=null;var i=arguments.length;1!==i&&e.ac(i,1,this,"scan");var o,l=[],c=$;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(o=t.exec(r));)c=ke.get("MatchData").$new(t,o),n===$?1==o.length?l.push(o[0]):l.push(c.$captures()):1==o.length?n(o[0]):n.call(r,c.$captures()),t.lastIndex===o.index&&(t.lastIndex+=1);return s["~"]=c,n!==$?r:l},ae.$$arity=1,ae.$$parameters=[["req","pattern"],["block","block"]]),e.alias(ye,"size","length"),e.alias(ye,"slice","[]"),e.defn(ye,"$split",ne=function(t,r){var a,n=this;null==s[";"]&&(s[";"]=$);var i=arguments.length;if(i>2&&e.ac(i,-1,this,"split"),0===n.length)return[];if(r===undefined)r=0;else if(1===(r=ke.get("Opal")["$coerce_to!"](r,ke.get("Integer"),"to_int")))return[n];t!==undefined&&t!==$||(t=!1!==(a=s[";"])&&a!==$&&null!=a?a:" ");var o,l,c=[],u=n.toString(),_=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str").$to_s()," "===t?(t=/\s+/gm,u=u.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),c=u.split(t),1===c.length&&c[0]===u)return c;for(;-1!==(l=c.indexOf(undefined));)c.splice(l,1);if(0===r){for(;""===c[c.length-1];)c.length-=1;return c}if(o=t.exec(u),r<0){if(null!==o&&""===o[0]&&-1===t.source.indexOf("(?="))for(l=0;l<o.length;l++)c.push("");return c}if(null!==o&&""===o[0])return c.splice(r-1,c.length-1,c.slice(r-1).join("")),c;if(r>=c.length)return c;for(l=0;null!==o&&(l++,_=t.lastIndex,l+1!==r);)o=t.exec(u);return c.splice(r-1,c.length-1,u.slice(_)),c},ne.$$arity=-1,ne.$$parameters=[["opt","pattern"],["opt","limit"]]),e.defn(ye,"$squeeze",$e=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];if(0===e.length)return t.replace(/(.)\1+/g,"$1");var $=o(e);return null===$?t:t.replace(new RegExp("("+$+")\\1+","g"),"$1")},$e.$$arity=-1,$e.$$parameters=[["rest","sets"]]),e.defn(ye,"$start_with?",ie=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=0,i=e.length;$<i;$++){var s=ke.get("Opal").$coerce_to(e[$],ke.get("String"),"to_str").$to_s();if(0===t.indexOf(s))return!0}return!1},ie.$$arity=-1,ie.$$parameters=[["rest","prefixes"]]),e.defn(ye,"$strip",se=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"strip"),t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},se.$$arity=0,se.$$parameters=[]),e.defn(ye,"$sub",oe=function(t,r){var a=this,n=oe.$$p,i=n||$;oe.$$p=null;var o=arguments.length;(o<1||o>2)&&e.ac(o,-2,this,"sub"),t.$$is_regexp||(t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var l=t.exec(a);return null===l?(s["~"]=$,a.toString()):(ke.get("MatchData").$new(t,l),r===undefined?(i===$&&a.$raise(ke.get("ArgumentError"),"wrong number of arguments (1 for 2)"),a.slice(0,l.index)+i(l[0])+a.slice(l.index+l[0].length)):r.$$is_hash?a.slice(0,l.index)+r["$[]"](l[0]).$to_s()+a.slice(l.index+l[0].length):(r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str"),r=r.replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=l.length-1;n>0;n--)if(l[n]!==undefined)return t.slice(1)+l[n];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+a.slice(0,l.index);case"'":return t.slice(1)+a.slice(l.index+l[0].length);default:return t.slice(1)+(l[r]||"")}}).replace(/\\\\/g,"\\"),a.slice(0,l.index)+r+a.slice(l.index+l[0].length)))},oe.$$arity=-2,oe.$$parameters=[["req","pattern"],["opt","replacement"],["block","block"]]),e.alias(ye,"succ","next"),e.defn(ye,"$sum",le=function(t){var r=this;null==t&&(t=16);var a=arguments.length;a>1&&e.ac(a,-1,this,"sum"),t=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int");for(var n=0,$=r.length,i=0;i<$;i++)n+=r.charCodeAt(i);return t<=0?n:n&Math.pow(2,t)-1},le.$$arity=-1,le.$$parameters=[["opt","n"]]),e.defn(ye,"$swapcase",ce=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"swapcase");var a=t.replace(/([a-z]+)|([A-Z]+)/g,function(e,t){return t?e.toUpperCase():e.toLowerCase()});return t.constructor===String?a:t.$class().$new(a)},ce.$$arity=0,ce.$$parameters=[]),e.defn(ye,"$to_f",ue=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"to_f"),"_"===t.charAt(0))return 0;var a=parseFloat(t.replace(/_/g,""));return isNaN(a)||a==Infinity||a==-Infinity?0:a},ue.$$arity=0,ue.$$parameters=[]),e.defn(ye,"$to_i",_e=function(t){var r=this;null==t&&(t=10);var a=arguments.length;a>1&&e.ac(a,-1,this,"to_i");var n,$=r.toLowerCase(),i=ke.get("Opal").$coerce_to(t,ke.get("Integer"),"to_int");return(1===i||i<0||i>36)&&r.$raise(ke.get("ArgumentError"),"invalid radix "+i),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,r,a){switch(a.charAt(0)){case"+":case"-":return e;case"0":if("x"===a.charAt(1)&&"0x"===r&&(0===i||16===i))return e}switch(r){case"0b":if(0===i||2===i)return i=2,t+a;break;case"0":case"0o":if(0===i||8===i)return i=8,t+a;break;case"0d":if(0===i||10===i)return i=10,t+a;break;case"0x":if(0===i||16===i)return i=16,t+a}return e}),n=parseInt($.replace(/_(?!_)/g,""),i),isNaN(n)?0:n)},_e.$$arity=-1,_e.$$parameters=[["opt","base"]]),e.defn(ye,"$to_proc",pe=function(){var t,r,a,n=this,i=$,s=arguments.length;return 0!==s&&e.ac(s,0,this,"to_proc"),i=n,(t=(r=n).$proc,t.$$p=(a=function(){var t,r,n,s,o=a.$$s||this,l=$;t=a.$$p||$,a.$$p=null;var c=arguments.length,u=c-0;u<0&&(u=0),r=new Array(u);for(var _=0;_<c;_++)r[_-0]=arguments[_];return(n=r["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n||o.$raise(ke.get("ArgumentError"),"no receiver given"),l=r.$shift(),(n=(s=l).$__send__,n.$$p=t.$to_proc(),n).apply(s,[i].concat(e.to_a(r)))},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a),t).call(r)},pe.$$arity=0,pe.$$parameters=[]),e.defn(ye,"$to_s",de=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.toString()},de.$$arity=0,de.$$parameters=[]),e.alias(ye,"to_str","to_s"),e.alias(ye,"to_sym","intern"),e.defn(ye,"$tr",he=function(t,r){var a=this,n=arguments.length;if(2!==n&&e.ac(n,2,this,"tr"),t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str").$to_s(),r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str").$to_s(),0==t.length||t===r)return a;var $,i,s,o,l,c,u,_={},p=t.split(""),d=p.length,h=r.split(""),f=h.length,m=!1,g=null;"^"===p[0]&&p.length>1&&(m=!0,p.shift(),g=h[f-1],d-=1);var b=[],v=null;for(i=!1,$=0;$<d;$++)if(o=p[$],null==v)v=o,b.push(o);else if("-"===o)"-"===v?(b.push("-"),b.push("-")):$==d-1?b.push("-"):i=!0;else if(i){for(l=v.charCodeAt(0),c=o.charCodeAt(0),l>c&&a.$raise(ke.get("ArgumentError"),'invalid range "'+String.fromCharCode(l)+"-"+String.fromCharCode(c)+'" in string transliteration'),s=l+1;s<c;s++)b.push(String.fromCharCode(s));b.push(o),i=null,v=null}else b.push(o);if(p=b,d=p.length,m)for($=0;$<d;$++)_[p[$]]=!0;else{if(f>0){var y=[],x=null;for(i=!1,$=0;$<f;$++)if(o=h[$],null==x)x=o,y.push(o);else if("-"===o)"-"===x?(y.push("-"),y.push("-")):$==f-1?y.push("-"):i=!0;else if(i){for(l=x.charCodeAt(0),c=o.charCodeAt(0),l>c&&a.$raise(ke.get("ArgumentError"),'invalid range "'+String.fromCharCode(l)+"-"+String.fromCharCode(c)+'" in string transliteration'),s=l+1;s<c;s++)y.push(String.fromCharCode(s));y.push(o),i=null,x=null}else y.push(o);h=y,f=h.length}var k=d-f;if(k>0){var w=f>0?h[f-1]:"";for($=0;$<k;$++)h.push(w)}for($=0;$<d;$++)_[p[$]]=h[$]}var q="";for($=0,u=a.length;$<u;$++){o=a.charAt($);var S=_[o];q+=m?null==S?g:o:null!=S?S:o}return q},he.$$arity=2,he.$$parameters=[["req","from"],["req","to"]]),e.defn(ye,"$tr_s",fe=function(t,r){var a=this,n=arguments.length;if(2!==n&&e.ac(n,2,this,"tr_s"),t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str").$to_s(),r=ke.get("Opal").$coerce_to(r,ke.get("String"),"to_str").$to_s(),0==t.length)return a;var $,i,s,o,l,c,u,_={},p=t.split(""),d=p.length,h=r.split(""),f=h.length,m=!1,g=null;"^"===p[0]&&p.length>1&&(m=!0,p.shift(),g=h[f-1],d-=1);var b=[],v=null;for(i=!1,$=0;$<d;$++)if(o=p[$],null==v)v=o,b.push(o);else if("-"===o)"-"===v?(b.push("-"),b.push("-")):$==d-1?b.push("-"):i=!0;else if(i){for(l=v.charCodeAt(0),c=o.charCodeAt(0),l>c&&a.$raise(ke.get("ArgumentError"),'invalid range "'+String.fromCharCode(l)+"-"+String.fromCharCode(c)+'" in string transliteration'),s=l+1;s<c;s++)b.push(String.fromCharCode(s));b.push(o),i=null,v=null}else b.push(o);if(p=b,d=p.length,m)for($=0;$<d;$++)_[p[$]]=!0;else{if(f>0){var y=[];for(i=!1,$=0;$<f;$++)if(o=h[$],null==v)v=o,y.push(o);else if("-"===o)"-"===null?(y.push("-"),y.push("-")):$==f-1?y.push("-"):i=!0;else if(i){for(l=v.charCodeAt(0),c=o.charCodeAt(0),l>c&&a.$raise(ke.get("ArgumentError"),'invalid range "'+String.fromCharCode(l)+"-"+String.fromCharCode(c)+'" in string transliteration'),s=l+1;s<c;s++)y.push(String.fromCharCode(s));y.push(o),i=null,v=null}else y.push(o);h=y,f=h.length}var x=d-f;if(x>0){var k=f>0?h[f-1]:"";for($=0;$<x;$++)h.push(k)}for($=0;$<d;$++)_[p[$]]=h[$]}var w="",q=null;for($=0,u=a.length;$<u;$++){o=a.charAt($);var S=_[o];m?null==S?null==q&&(w+=g,q=!0):(w+=o,q=null):null!=S?null!=q&&q===S||(w+=S,q=S):(w+=o,q=null)}return w},fe.$$arity=2,fe.$$parameters=[["req","from"],["req","to"]]),e.defn(ye,"$upcase",me=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"upcase"),t.toUpperCase()},me.$$arity=0,me.$$parameters=[]),e.defn(ye,"$upto",ge=function(t,r){var a=this,n=ge.$$p,i=n||$;null==r&&(r=!1),ge.$$p=null;var s=arguments.length;if((s<1||s>2)&&e.ac(s,-2,this,"upto"),i===$)return a.$enum_for("upto",t,r);t=ke.get("Opal").$coerce_to(t,ke.get("String"),"to_str");var o,l,c=a.toString();if(1===c.length&&1===t.length)for(o=c.charCodeAt(0),l=t.charCodeAt(0);o<=l&&(!r||o!==l);)i(String.fromCharCode(o)),o+=1;else if(parseInt(c,10).toString()===c&&parseInt(t,10).toString()===t)for(o=parseInt(c,10),l=parseInt(t,10);o<=l&&(!r||o!==l);)i(o.toString()),o+=1;else for(;c.length<=t.length&&c<=t&&(!r||c!==t);)i(c),c=c.$succ();return a},ge.$$arity=-2,ge.$$parameters=[["req","stop"],["opt","excl"],["block","block"]]),e.defn(ye,"$instance_variables",be=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"instance_variables"),[]},be.$$arity=0,be.$$parameters=[]),e.defs(ye,"$_load",ve=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$new.apply(t,e.to_a(r))},ve.$$arity=-1,ve.$$parameters=[["rest","args"]])}(n.base,String),e.cdecl(n,"Symbol",n.get("String"))},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var s=(e.top,e),o=e.nil,l=(e.breaker,e.slice,e.module);return e.add_stubs(["$each","$destructure","$raise","$new","$yield","$dup","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$to_a","$lambda","$sort!","$map!","$zip"]),function(s){var c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q=c=l(s,"Enumerable"),ee=(Q.$$proto,Q.$$scope);e.defn(Q,"$all?",u=function(){try{var t,r,a,n,$,i=this,s=u.$$p,l=s||o;u.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"all?"),l!==o?(t=(r=i).$each,t.$$p=(a=function(){
var t,r,n=(a.$$s,arguments.length),$=n-0;$<0&&($=0),t=new Array($);for(var i=0;i<n;i++)t[i-0]=arguments[i];if(!((r=e.yieldX(l,e.to_a(t)))===o||null==r||r.$$is_boolean&&1!=r))return o;e.ret(!1)},a.$$s=i,a.$$arity=-1,a.$$parameters=[["rest","value"]],a),t).call(r):(t=(n=i).$each,t.$$p=($=function(){var t,r,a=($.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if(!((r=ee.get("Opal").$destructure(t))===o||null==r||r.$$is_boolean&&1!=r))return o;e.ret(!1)},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","value"]],$),t).call(n),!0}catch(t){if(t===e.returner)return t.$v;throw t}},u.$$arity=0,u.$$parameters=[["block","block"]]),e.defn(Q,"$any?",_=function(){try{var t,r,a,n,$,i=this,s=_.$$p,l=s||o;_.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"any?"),l!==o?(t=(r=i).$each,t.$$p=(a=function(){var t,r,n=(a.$$s,arguments.length),$=n-0;$<0&&($=0),t=new Array($);for(var i=0;i<n;i++)t[i-0]=arguments[i];if((r=e.yieldX(l,e.to_a(t)))===o||null==r||r.$$is_boolean&&1!=r)return o;e.ret(!0)},a.$$s=i,a.$$arity=-1,a.$$parameters=[["rest","value"]],a),t).call(r):(t=(n=i).$each,t.$$p=($=function(){var t,r,a=($.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if((r=ee.get("Opal").$destructure(t))===o||null==r||r.$$is_boolean&&1!=r)return o;e.ret(!0)},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","value"]],$),t).call(n),!1}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=0,_.$$parameters=[["block","block"]]),e.defn(Q,"$chunk",p=function(t){var r,a,n,$=this,i=p.$$p,s=i||o;p.$$p=null;var l=arguments.length;return l>1&&e.ac(l,-1,this,"chunk"),!1!==s&&s!==o&&null!=s||ee.get("Kernel").$raise(ee.get("ArgumentError"),"no block given"),(r=(a=e.get("Enumerator")).$new,r.$$p=(n=function(r){function a(){d.length>0&&r.$yield(p,d)}var $,i,l,c=n.$$s||this;if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"chunk")}var _,p=o,d=[];_=t==undefined||t===o?s:($=(i=ee.get("Proc")).$new,$.$$p=(l=function(r){l.$$s;if(null==r&&(r=o),l.$$is_lambda||l.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"chunk")}return s.$yield(r,t.$dup())},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","val"]],l),$).call(i),c.$each.$$p=function(t){var r=e.yield1(_,t);r===o?(a(),d=[],p=o):(p===o||p===r?d.push(t):(a(),d=[t]),p=r)},c.$each(),a()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","yielder"]],n),r).call(a)},p.$$arity=-1,p.$$parameters=[["opt","state"],["block","original_block"]]),e.defn(Q,"$collect",d=function(){var t,r,a,n=this,$=d.$$p,i=$||o;d.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"collect"),i===o)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"collect")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"collect");var l=[];return n.$each.$$p=function(){var t=e.yieldX(i,arguments);l.push(t)},n.$each(),l},d.$$arity=0,d.$$parameters=[["block","block"]]),e.defn(Q,"$collect_concat",h=function(){var t,r,a,n,$,i=this,s=h.$$p,l=s||o;h.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"collect_concat"),l===o?(t=(r=i).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"collect_concat")}return t.$enumerator_size()},a.$$s=i,a.$$arity=0,a.$$parameters=[],a),t).call(r,"collect_concat"):(t=(n=i).$map,t.$$p=($=function(t){$.$$s;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"collect_concat")}return e.yield1(l,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","item"]],$),t).call(n).$flatten(1)},h.$$arity=0,h.$$parameters=[["block","block"]]),e.defn(Q,"$count",f=function(t){var r,a,n,$,i,s,l,c=this,u=f.$$p,_=u||o,p=o;f.$$p=null;var d=arguments.length;return d>1&&e.ac(d,-1,this,"count"),p=0,(r=null!=t)===o||null==r||r.$$is_boolean&&1!=r?(r=_["$nil?"]())===o||null==r||r.$$is_boolean&&1!=r||(_=(r=($=c).$proc,r.$$p=(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"count")}return!0},i.$$s=c,i.$$arity=0,i.$$parameters=[],i),r).call($)):_=(r=(a=c).$proc,r.$$p=(n=function(){var e,r=(n.$$s,arguments.length),a=r-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<r;$++)e[$-0]=arguments[$];return ee.get("Opal").$destructure(e)["$=="](t)},n.$$s=c,n.$$arity=-1,n.$$parameters=[["rest","args"]],n),r).call(a),(r=(s=c).$each,r.$$p=(l=function(){var t,r,a=(l.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return(r=e.yieldX(_,t))===o||null==r||r.$$is_boolean&&1!=r?o:p++},l.$$s=c,l.$$arity=-1,l.$$parameters=[["rest","args"]],l),r).call(s),p},f.$$arity=-1,f.$$parameters=[["opt","object"],["block","block"]]),e.defn(Q,"$cycle",m=function(a){var n,$,i,s=this,l=m.$$p,c=l||o;null==a&&(a=o),m.$$p=null;var u=arguments.length;if(u>1&&e.ac(u,-1,this,"cycle"),c===o)return(n=($=s).$enum_for,n.$$p=(i=function(){var n,$=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"cycle")}return a["$=="](o)?(n=$["$respond_to?"]("size"))===o||null==n||n.$$is_boolean&&1!=n?o:ee.get("Float").$$scope.get("INFINITY"):(a=ee.get("Opal")["$coerce_to!"](a,ee.get("Integer"),"to_int"),(n=t(a,0))===o||null==n||n.$$is_boolean&&1!=n?0:r($.$enumerator_size(),a))},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),n).call($,"cycle",a);if((n=a["$nil?"]())===o||null==n||n.$$is_boolean&&1!=n){if(a=ee.get("Opal")["$coerce_to!"](a,ee.get("Integer"),"to_int"),(n=a<=0)!==o&&null!=n&&(!n.$$is_boolean||1==n))return o}else;var _,p,d,h=[];if(s.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(c,t);h.push(t)},s.$each(),_!==undefined)return _;if(0===h.length)return o;if(a===o)for(;;)for(p=0,d=h.length;p<d;p++)e.yield1(c,h[p]);else for(;a>1;){for(p=0,d=h.length;p<d;p++)e.yield1(c,h[p]);a--}},m.$$arity=-1,m.$$parameters=[["opt","n"],["block","block"]]),e.defn(Q,"$detect",g=function(t){try{var r,a,n,$=this,i=g.$$p,s=i||o;g.$$p=null;var l=arguments.length;return l>1&&e.ac(l,-1,this,"detect"),s===o?$.$enum_for("detect",t):((r=(a=$).$each,r.$$p=(n=function(){var t,r,a=(n.$$s,o),$=arguments.length,i=$-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<$;l++)t[l-0]=arguments[l];if(a=ee.get("Opal").$destructure(t),(r=e.yield1(s,a))===o||null==r||r.$$is_boolean&&1!=r)return o;e.ret(a)},n.$$s=$,n.$$arity=-1,n.$$parameters=[["rest","args"]],n),r).call(a),t!==undefined?"function"==typeof t?t():t:o)}catch(t){if(t===e.returner)return t.$v;throw t}},g.$$arity=-1,g.$$parameters=[["opt","ifnone"],["block","block"]]),e.defn(Q,"$drop",b=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"drop"),t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=t<0)===o||null==r||r.$$is_boolean&&1!=r||a.$raise(ee.get("ArgumentError"),"attempt to drop negative size");var $=[],i=0;return a.$each.$$p=function(){t<=i&&$.push(ee.get("Opal").$destructure(arguments)),i++},a.$each(),$},b.$$arity=1,b.$$parameters=[["req","number"]]),e.defn(Q,"$drop_while",v=function(){var t,r=this,a=v.$$p,n=a||o;v.$$p=null;var $=arguments.length;if(0!==$&&e.ac($,0,this,"drop_while"),n===o)return r.$enum_for("drop_while");var i=[],s=!0;return r.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);if(s){var a=e.yield1(n,r);((t=a)===o||null==t||t.$$is_boolean&&0==t)&&(s=!1,i.push(r))}else i.push(r)},r.$each(),i},v.$$arity=0,v.$$parameters=[["block","block"]]),e.defn(Q,"$each_cons",y=function(t){var r,i,s,l=this,c=y.$$p,u=c||o;y.$$p=null;var _=arguments.length;if(1!==_&&e.ac(_,1,this,"each_cons"),(r=1!=arguments.length)===o||null==r||r.$$is_boolean&&1!=r||l.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),t=ee.get("Opal").$try_convert(t,ee.get("Integer"),"to_int"),(r=t<=0)===o||null==r||r.$$is_boolean&&1!=r||l.$raise(ee.get("ArgumentError"),"invalid size"),u===o)return(r=(i=l).$enum_for,r.$$p=(s=function(){var r,i,l=s.$$s||this,c=o;if(s.$$is_lambda||s.$$define_meth){var u=arguments.length;0!==u&&e.block_ac(u,0,"each_cons")}return c=l.$enumerator_size(),(r=c["$nil?"]())===o||null==r||r.$$is_boolean&&1!=r?(r=!1!==(i=c["$=="](0))&&i!==o&&null!=i?i:a(c,t))===o||null==r||r.$$is_boolean&&1!=r?n($(c,t),1):0:o},s.$$s=l,s.$$arity=0,s.$$parameters=[],s),r).call(i,"each_cons",t);var p=[],d=o;return l.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);p.push(r),p.length>t&&p.shift(),p.length==t&&e.yield1(u,p.slice(0,t))},l.$each(),d},y.$$arity=1,y.$$parameters=[["req","n"],["block","block"]]),e.defn(Q,"$each_entry",x=function(){var t,r,a,n,$=this,i=x.$$p,s=i||o,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return x.$$p=null,s===o?(t=(r=$).$to_enum,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_entry")}return t.$enumerator_size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).apply(r,["each_entry"].concat(e.to_a(n))):($.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(s,t)},$.$each.apply($,n),$)},x.$$arity=-1,x.$$parameters=[["rest","data"],["block","block"]]),e.defn(Q,"$each_slice",k=function(t){var r,a,n,$=this,s=k.$$p,l=s||o;k.$$p=null;var c=arguments.length;if(1!==c&&e.ac(c,1,this,"each_slice"),t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=t<=0)===o||null==r||r.$$is_boolean&&1!=r||$.$raise(ee.get("ArgumentError"),"invalid slice size"),l===o)return(r=(a=$).$enum_for,r.$$p=(n=function(){var r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"each_slice")}return(r=a["$respond_to?"]("size"))===o||null==r||r.$$is_boolean&&1!=r?o:i(a.$size(),t).$ceil()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,"each_slice",t);var u,_=[];return $.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);_.push(r),_.length===t&&(e.yield1(l,_),_=[])},$.$each(),u!==undefined?u:(_.length>0&&e.yield1(l,_),o)},k.$$arity=1,k.$$parameters=[["req","n"],["block","block"]]),e.defn(Q,"$each_with_index",w=function(){var t,r,a,n,$=this,i=w.$$p,s=i||o,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];if(w.$$p=null,s===o)return(t=(r=$).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_with_index")}return t.$enumerator_size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).apply(r,["each_with_index"].concat(e.to_a(n)));var _,p=0;return $.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);s(e,p),p++},$.$each.apply($,n),_!==undefined?_:$},w.$$arity=-1,w.$$parameters=[["rest","args"],["block","block"]]),e.defn(Q,"$each_with_object",q=function(t){var r,a,n,$=this,i=q.$$p,s=i||o;q.$$p=null;var l=arguments.length;if(1!==l&&e.ac(l,1,this,"each_with_object"),s===o)return(r=(a=$).$enum_for,r.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_with_object")}return t.$enumerator_size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,"each_with_object",t);var c;return $.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);s(e,t)},$.$each(),c!==undefined?c:t},q.$$arity=1,q.$$parameters=[["req","object"],["block","block"]]),e.defn(Q,"$entries",S=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];var $=[];return t.$each.$$p=function(){$.push(ee.get("Opal").$destructure(arguments))},t.$each.apply(t,e),$},S.$$arity=-1,S.$$parameters=[["rest","args"]]),e.alias(Q,"find","detect"),e.defn(Q,"$find_all",E=function(){var t,r,a,n=this,$=E.$$p,i=$||o;E.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"find_all"),i===o)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"find_all")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"find_all");var l=[];return n.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),a=e.yield1(i,r);(t=a)===o||null==t||t.$$is_boolean&&1!=t||l.push(r)},n.$each(),l},E.$$arity=0,E.$$parameters=[["block","block"]]),e.defn(Q,"$find_index",R=function(t){try{var r,a,n,$,i,s=this,l=R.$$p,c=l||o,u=o;R.$$p=null;var _=arguments.length;return _>1&&e.ac(_,-1,this,"find_index"),(r=t===undefined&&c===o)===o||null==r||r.$$is_boolean&&1!=r?(u=0,(r=null!=t)===o||null==r||r.$$is_boolean&&1!=r?(r=($=s).$each,r.$$p=(i=function(){var t,r,a=(i.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return(r=e.yieldX(c,e.to_a(t)))===o||null==r||r.$$is_boolean&&1!=r||e.ret(u),u+=1},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","value"]],i),r).call($):(r=(a=s).$each,r.$$p=(n=function(){var r,a=(n.$$s,arguments.length),$=a-0;$<0&&($=0),r=new Array($);for(var i=0;i<a;i++)r[i-0]=arguments[i];return ee.get("Opal").$destructure(r)["$=="](t)&&e.ret(u),u+=1},n.$$s=s,n.$$arity=-1,n.$$parameters=[["rest","value"]],n),r).call(a),o):s.$enum_for("find_index")}catch(t){if(t===e.returner)return t.$v;throw t}},R.$$arity=-1,R.$$parameters=[["opt","object"],["block","block"]]),e.defn(Q,"$first",O=function(t){try{var r,a,n,$,i,s=this,l=o,c=o,u=arguments.length;return u>1&&e.ac(u,-1,this,"first"),(r=t===undefined)===o||null==r||r.$$is_boolean&&1!=r?(l=[],t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=t<0)===o||null==r||r.$$is_boolean&&1!=r||s.$raise(ee.get("ArgumentError"),"attempt to take negative size"),(r=0==t)===o||null==r||r.$$is_boolean&&1!=r?(c=0,(r=($=s).$each,r.$$p=(i=function(){var r,a,n=(i.$$s,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var s=0;s<n;s++)r[s-0]=arguments[s];if(l.push(ee.get("Opal").$destructure(r)),(a=t<=++c)===o||null==a||a.$$is_boolean&&1!=a)return o;e.ret(l)},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","args"]],i),r).call($),l):[]):(r=(a=s).$each,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"first")}e.ret(t)},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","value"]],n),r).call(a)}catch(t){if(t===e.returner)return t.$v;throw t}},O.$$arity=-1,O.$$parameters=[["opt","number"]]),e.alias(Q,"flat_map","collect_concat"),e.defn(Q,"$grep",M=function(t){var r,a=this,n=M.$$p,$=n||o;M.$$p=null;var i=arguments.length;1!==i&&e.ac(i,1,this,"grep");var s=[];return a.$each.$$p=$!==o?function(){var a=ee.get("Opal").$destructure(arguments),n=t["$==="](a);(r=n)===o||null==r||r.$$is_boolean&&1!=r||(n=e.yield1($,a),s.push(n))}:function(){var e=ee.get("Opal").$destructure(arguments),a=t["$==="](e);(r=a)===o||null==r||r.$$is_boolean&&1!=r||s.push(e)},a.$each(),s},M.$$arity=1,M.$$parameters=[["req","pattern"],["block","block"]]),e.defn(Q,"$group_by",A=function(){var t,r,a,n,$,i=this,s=A.$$p,l=s||o,c=o;A.$$p=null;var u=arguments.length;if(0!==u&&e.ac(u,0,this,"group_by"),l===o)return(t=(r=i).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"group_by")}return t.$enumerator_size()},a.$$s=i,a.$$arity=0,a.$$parameters=[],a),t).call(r,"group_by");c=ee.get("Hash").$new();var _;return i.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),a=e.yield1(l,r);(t=a,n=c,!1!==($=n["$[]"](t))&&$!==o&&null!=$?$:n["$[]="](t,[]))["$<<"](r)},i.$each(),_!==undefined?_:c},A.$$arity=0,A.$$parameters=[["block","block"]]),e.defn(Q,"$include?",z=function(t){try{var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"include?"),(r=(a=$).$each,r.$$p=(n=function(){var r,a=(n.$$s,arguments.length),$=a-0;$<0&&($=0),r=new Array($);for(var i=0;i<a;i++)r[i-0]=arguments[i];if(!ee.get("Opal").$destructure(r)["$=="](t))return o;e.ret(!0)},n.$$s=$,n.$$arity=-1,n.$$parameters=[["rest","args"]],n),r).call(a),!1}catch(t){if(t===e.returner)return t.$v;throw t}},z.$$arity=1,z.$$parameters=[["req","obj"]]),e.defn(Q,"$inject",j=function(t,r){var a=this,n=j.$$p,$=n||o;j.$$p=null;var i=arguments.length;i>2&&e.ac(i,-1,this,"inject");var s=t;return $!==o&&r===undefined?a.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);if(s===undefined)return void(s=t);t=e.yieldX($,[s,t]),s=t}:(r===undefined&&(ee.get("Symbol")["$==="](t)||a.$raise(ee.get("TypeError"),t.$inspect()+" is not a Symbol"),r=t,s=undefined),a.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);if(s===undefined)return void(s=e);s=s.$__send__(r,e)}),a.$each(),s==undefined?o:s},j.$$arity=-1,j.$$parameters=[["opt","object"],["opt","sym"],["block","block"]]),e.defn(Q,"$lazy",T=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"lazy"),(t=(r=ee.get("Enumerator").$$scope.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,$=(a.$$s,arguments.length),i=$-1;i<0&&(i=0),r=new Array(i);for(var s=1;s<$;s++)r[s-1]=arguments[s];if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var l=arguments.length;l<1&&e.block_ac(l,-2,"lazy")}return(n=t).$yield.apply(n,e.to_a(r))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,n.$enumerator_size())},T.$$arity=0,T.$$parameters=[]),e.defn(Q,"$enumerator_size",I=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"enumerator_size"),(t=r["$respond_to?"]("size"))===o||null==t||t.$$is_boolean&&1!=t?o:r.$size()},I.$$arity=0,I.$$parameters=[]),e.alias(Q,"map","collect"),e.defn(Q,"$max",C=function(t){var r,a,n=this,$=C.$$p,i=$||o;C.$$p=null;var s=arguments.length;if(s>1&&e.ac(s,-1,this,"max"),t===undefined||t===o){var l,c;return n.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);if(l===undefined)return void(l=t);c=i!==o?e.yieldX(i,[t,l]):t["$<=>"](l),c===o&&n.$raise(ee.get("ArgumentError"),"comparison failed"),c>0&&(l=t)},n.$each(),l===undefined?o:l}return t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=(a=n).$sort,r.$$p=i.$to_proc(),r).call(a).$reverse().$first(t)},C.$$arity=-1,C.$$parameters=[["opt","n"],["block","block"]]),e.defn(Q,"$max_by",P=function(){var t,r,a,n=this,$=P.$$p,i=$||o;P.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"max_by"),!1===i||i===o||null==i)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"max_by")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"max_by");var l,c;return n.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),r=e.yield1(i,t);if(l===undefined)return l=t,void(c=r);r["$<=>"](c)>0&&(l=t,c=r)},n.$each(),l===undefined?o:l},P.$$arity=0,P.$$parameters=[["block","block"]]),e.alias(Q,"member?","include?"),e.defn(Q,"$min",N=function(){var t=this,r=N.$$p,a=r||o;N.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"min");var $;return t.$each.$$p=a!==o?function(){var e=ee.get("Opal").$destructure(arguments);if($===undefined)return void($=e);var r=a(e,$);r===o&&t.$raise(ee.get("ArgumentError"),"comparison failed"),r<0&&($=e)}:function(){var e=ee.get("Opal").$destructure(arguments);if($===undefined)return void($=e);ee.get("Opal").$compare(e,$)<0&&($=e)},t.$each(),$===undefined?o:$},N.$$arity=0,N.$$parameters=[["block","block"]]),e.defn(Q,"$min_by",F=function(){var t,r,a,n=this,$=F.$$p,i=$||o;F.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"min_by"),!1===i||i===o||null==i)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"min_by")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"min_by");var l,c;return n.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),r=e.yield1(i,t);if(l===undefined)return l=t,void(c=r);r["$<=>"](c)<0&&(l=t,c=r)},n.$each(),l===undefined?o:l},F.$$arity=0,F.$$parameters=[["block","block"]]),e.defn(Q,"$minmax",D=function(){var t,r,a,n,$=this,i=D.$$p,s=i||o;D.$$p=null;var l=arguments.length;0!==l&&e.ac(l,0,this,"minmax"),!1!==(t=s)&&t!==o&&null!=t||(s=(r=(a=$).$proc,r.$$p=(n=function(t,r){n.$$s;if(null==t&&(t=o),null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"minmax")}return t["$<=>"](r)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","a"],["req","b"]],n),r).call(a));var c=o,u=o,_=!0;return $.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);if(_)c=u=e,_=!1;else{var t=s.$call(c,e);t===o?$.$raise(ee.get("ArgumentError"),"comparison failed"):t>0&&(c=e);var r=s.$call(u,e);r===o?$.$raise(ee.get("ArgumentError"),"comparison failed"):r<0&&(u=e)}},$.$each(),[c,u]},D.$$arity=0,D.$$parameters=[["block","block"]]),e.defn(Q,"$minmax_by",B=function(){var t=this;B.$$p;B.$$p=null;var r=arguments.length;return 0!==r&&e.ac(r,0,this,"minmax_by"),t.$raise(ee.get("NotImplementedError"))},B.$$arity=0,B.$$parameters=[["block","block"]]),e.defn(Q,"$none?",H=function(){try{var t,r,a,n,$,i=this,s=H.$$p,l=s||o;H.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"none?"),l!==o?(t=(r=i).$each,t.$$p=(a=function(){var t,r,n=(a.$$s,arguments.length),$=n-0;$<0&&($=0),t=new Array($);for(var i=0;i<n;i++)t[i-0]=arguments[i];if((r=e.yieldX(l,e.to_a(t)))===o||null==r||r.$$is_boolean&&1!=r)return o;e.ret(!1)},a.$$s=i,a.$$arity=-1,a.$$parameters=[["rest","value"]],a),t).call(r):(t=(n=i).$each,t.$$p=($=function(){var t,r,a=($.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if((r=ee.get("Opal").$destructure(t))===o||null==r||r.$$is_boolean&&1!=r)return o;e.ret(!1)},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","value"]],$),t).call(n),!0}catch(t){if(t===e.returner)return t.$v;throw t}},H.$$arity=0,H.$$parameters=[["block","block"]]),e.defn(Q,"$one?",L=function(){try{var r,a,$,i,s,l=this,c=L.$$p,u=c||o,_=o;L.$$p=null;var p=arguments.length;return 0!==p&&e.ac(p,0,this,"one?"),_=0,u!==o?(r=(a=l).$each,r.$$p=($=function(){var r,a,i=($.$$s,arguments.length),s=i-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<i;l++)r[l-0]=arguments[l];return(a=e.yieldX(u,e.to_a(r)))===o||null==a||a.$$is_boolean&&1!=a?o:(_=n(_,1),(a=t(_,1))===o||null==a||a.$$is_boolean&&1!=a?o:void e.ret(!1))},$.$$s=l,$.$$arity=-1,$.$$parameters=[["rest","value"]],$),r).call(a):(r=(i=l).$each,r.$$p=(s=function(){var r,a,$=(s.$$s,arguments.length),i=$-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<$;l++)r[l-0]=arguments[l];return(a=ee.get("Opal").$destructure(r))===o||null==a||a.$$is_boolean&&1!=a?o:(_=n(_,1),(a=t(_,1))===o||null==a||a.$$is_boolean&&1!=a?o:void e.ret(!1))},s.$$s=l,s.$$arity=-1,s.$$parameters=[["rest","value"]],s),r).call(i),_["$=="](1)}catch(t){if(t===e.returner)return t.$v;throw t}},L.$$arity=0,L.$$parameters=[["block","block"]]),e.defn(Q,"$partition",U=function(){var t,r,a,n=this,$=U.$$p,i=$||o;U.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"partition"),i===o)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"partition")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"partition");var l=[],c=[];return n.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),a=e.yield1(i,r);(t=a)===o||null==t||t.$$is_boolean&&1!=t?c.push(r):l.push(r)},n.$each(),[l,c]},U.$$arity=0,U.$$parameters=[["block","block"]]),e.alias(Q,"reduce","inject"),e.defn(Q,"$reject",G=function(){var t,r,a,n=this,$=G.$$p,i=$||o;G.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"reject"),i===o)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reject")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"reject");var l=[];return n.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),a=e.yield1(i,r);((t=a)===o||null==t||t.$$is_boolean&&0==t)&&l.push(r)},n.$each(),l},G.$$arity=0,G.$$parameters=[["block","block"]]),e.defn(Q,"$reverse_each",Y=function(){var t,r,a,n=this,$=Y.$$p,i=$||o;Y.$$p=null;var s=arguments.length;if(0!==s&&e.ac(s,0,this,"reverse_each"),i===o)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reverse_each")}return t.$enumerator_size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"reverse_each");var l=[];n.$each.$$p=function(){l.push(arguments)},n.$each();for(var c=l.length-1;c>=0;c--)e.yieldX(i,l[c]);return l},Y.$$arity=0,Y.$$parameters=[["block","block"]]),e.alias(Q,"select","find_all"),e.defn(Q,"$slice_before",V=function(t){var r,a,n,$=this,i=V.$$p,s=i||o;V.$$p=null;var l=arguments.length;return l>1&&e.ac(l,-1,this,"slice_before"),(r=t===undefined&&s===o||arguments.length>1)===o||null==r||r.$$is_boolean&&1!=r||$.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),(r=(a=ee.get("Enumerator")).$new,r.$$p=(n=function(r){var a,$=n.$$s||this;if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"slice_before")}var l=[];s!==o?t===undefined?$.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),n=e.yield1(s,t);(a=n)!==o&&null!=a&&(!a.$$is_boolean||1==a)&&l.length>0&&(r["$<<"](l),l=[]),l.push(t)}:$.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),n=s(e,t.$dup());(a=n)!==o&&null!=a&&(!a.$$is_boolean||1==a)&&l.length>0&&(r["$<<"](l),l=[]),l.push(e)}:$.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),n=t["$==="](e);(a=n)!==o&&null!=a&&(!a.$$is_boolean||1==a)&&l.length>0&&(r["$<<"](l),l=[]),l.push(e)},$.$each(),l.length>0&&r["$<<"](l)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","e"]],n),r).call(a)},V.$$arity=-1,V.$$parameters=[["opt","pattern"],["block","block"]]),e.defn(Q,"$sort",X=function(){var t,r,a,n,$=this,i=X.$$p,s=i||o,l=o;X.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"sort"),l=$.$to_a(),s!==o||(s=(t=(r=$).$lambda,t.$$p=(a=function(t,r){a.$$s;if(null==t&&(t=o),null==r&&(r=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"sort")}return t["$<=>"](r)},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","a"],["req","b"]],a),t).call(r)),(t=(n=l).$sort,t.$$p=s.$to_proc(),t).call(n)},X.$$arity=0,X.$$parameters=[["block","block"]]),e.defn(Q,"$sort_by",K=function(){var t,r,a,n,$,i,s,l,c,u=this,_=K.$$p,p=_||o,d=o;K.$$p=null;var h=arguments.length;return 0!==h&&e.ac(h,0,this,"sort_by"),p===o?(t=(r=u).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"sort_by")}return t.$enumerator_size()},a.$$s=u,a.$$arity=0,a.$$parameters=[],a),t).call(r,"sort_by"):(d=(t=(n=u).$map,t.$$p=($=function(){var t,r=($.$$s,o);if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"sort_by")}return r=ee.get("Opal").$destructure(arguments),t=e.yield1(p,r),[t,r]},$.$$s=u,$.$$arity=0,$.$$parameters=[],$),t).call(n),(t=(i=d)["$sort!"],t.$$p=(s=function(t,r){s.$$s;if(null==t&&(t=o),null==r&&(r=o),s.$$is_lambda||s.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"sort_by")}return t[0]["$<=>"](r[0])},s.$$s=u,s.$$arity=2,s.$$parameters=[["req","a"],["req","b"]],s),t).call(i),(t=(l=d)["$map!"],t.$$p=(c=function(t){c.$$s;if(null==t&&(t=o),c.$$is_lambda||c.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"sort_by")}return t[1]},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","i"]],c),t).call(l))},K.$$arity=0,K.$$parameters=[["block","block"]]),e.defn(Q,"$take",W=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"take"),r.$first(t)},W.$$arity=1,W.$$parameters=[["req","num"]]),e.defn(Q,"$take_while",Z=function(){try{var t,r,a,n=this,$=Z.$$p,i=$||o,s=o;Z.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"take_while"),!1===i||i===o||null==i?n.$enum_for("take_while"):(s=[],(t=(r=n).$each,t.$$p=(a=function(){var t,r,n=(a.$$s,o),$=arguments.length,l=$-0;l<0&&(l=0),t=new Array(l);for(var c=0;c<$;c++)t[c-0]=arguments[c];return n=ee.get("Opal").$destructure(t),((r=e.yield1(i,n))===o||null==r||r.$$is_boolean&&1!=r)&&e.ret(s),s.push(n)},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"]],a),t).call(r))}catch(t){if(t===e.returner)return t.$v;throw t}},Z.$$arity=0,Z.$$parameters=[["block","block"]]),e.alias(Q,"to_a","entries"),e.defn(Q,"$zip",J=function(){var t,r,a=this,n=(J.$$p,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return J.$$p=null,(t=a.$to_a()).$zip.apply(t,e.to_a(r))},J.$$arity=-1,J.$$parameters=[["rest","others"],["block","block"]])}(s.base)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=e.top,n=e,$=e.nil,i=e.breaker,s=e.slice,o=e.klass;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),a.$require("corelib/enumerable"),function(a,$super){function n(){}var l,c,u,_,p,d,h=n=o(a,$super,"Enumerator",n),f=h.$$proto,m=h.$$scope;return f.size=f.args=f.object=f.method=$,h.$include(m.get("Enumerable")),f.$$is_enumerator=!0,e.defs(h,"$for",l=function(t,r){var a,n=this,i=l.$$p,s=i||$;null==r&&(r="each");var o=arguments.length,c=o-2;c<0&&(c=0),a=new Array(c);for(var u=2;u<o;u++)a[u-2]=arguments[u];l.$$p=null;var _=arguments.length;_<1&&e.ac(_,-2,this,"for");var p=n.$allocate();return p.object=t,p.size=s,p.method=r,p.args=a,p},l.$$arity=-2,l.$$parameters=[["req","object"],["opt","method"],["rest","args"],["block","block"]]),e.defn(h,"$initialize",c=function(){var e,t,r=this,a=c.$$p,n=a||$;return c.$$p=null,!1!==n&&n!==$&&null!=n?(r.object=(e=(t=m.get("Generator")).$new,e.$$p=n.$to_proc(),e).call(t),r.method="each",r.args=[],r.size=arguments[0]||$,(e=r.size)===$||null==e||e.$$is_boolean&&1!=e?$:r.size=m.get("Opal").$coerce_to(r.size,m.get("Integer"),"to_int")):(r.object=arguments[0],r.method=arguments[1]||"each",r.args=s.call(arguments,2),r.size=$)},c.$$arity=-1,c.$$parameters=[["rest"],["block","block"]]),e.defn(h,"$each",u=function(){var r,a,n,i,s=this,o=u.$$p,l=o||$,c=arguments.length,_=c-0;_<0&&(_=0),i=new Array(_);for(var p=0;p<c;p++)i[p-0]=arguments[p];return u.$$p=null,a=l["$nil?"](),(r=!1!==a&&a!==$&&null!=a?i["$empty?"]():a)===$||null==r||r.$$is_boolean&&1!=r?(i=t(s.args,i),(r=l["$nil?"]())===$||null==r||r.$$is_boolean&&1!=r?(a=(n=s.object).$__send__,a.$$p=l.$to_proc(),a).apply(n,[s.method].concat(e.to_a(i))):(r=s.$class()).$new.apply(r,[s.object,s.method].concat(e.to_a(i)))):s},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),e.defn(h,"$size",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"size"),(t=m.get("Proc")["$==="](r.size))===$||null==t||t.$$is_boolean&&1!=t?r.size:(t=r.size).$call.apply(t,e.to_a(r.args))},_.$$arity=0,_.$$parameters=[]),e.defn(h,"$with_index",p=function(t){var r,a,n,i=this,s=p.$$p,o=s||$;null==t&&(t=0),p.$$p=null;var l=arguments.length;if(l>1&&e.ac(l,-1,this,"with_index"),t=!1!==t&&t!==$&&null!=t?m.get("Opal").$coerce_to(t,m.get("Integer"),"to_int"):0,!1===o||o===$||null==o)return(r=(a=i).$enum_for,r.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"with_index")}return t.$size()},n.$$s=i,n.$$arity=0,n.$$parameters=[],n),r).call(a,"with_index",t);var c=t;return i.$each.$$p=function(){var e=m.get("Opal").$destructure(arguments),t=o(e,c);return c++,t},i.$each()},p.$$arity=-1,p.$$parameters=[["opt","offset"],["block","block"]]),e.alias(h,"with_object","each_with_object"),e.defn(h,"$inspect",d=function(){var r,a=this,n=$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"inspect"),n="#<"+a.$class()+": "+a.object.$inspect()+":"+a.method,((r=a.args["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r)&&(n=t(n,"("+a.args.$inspect()["$[]"](m.get("Range").$new(1,-2))+")")),t(n,">")},d.$$arity=0,d.$$parameters=[]),function(t,$super){function r(){}var a,n,s=r=o(t,$super,"Generator",r),l=s.$$proto,c=s.$$scope;l.block=$,s.$include(c.get("Enumerable")),e.defn(s,"$initialize",a=function(){var t=this,r=a.$$p,n=r||$;a.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),!1!==n&&n!==$&&null!=n||t.$raise(c.get("LocalJumpError"),"no block given"),t.block=n},a.$$arity=0,a.$$parameters=[["block","block"]]),e.defn(s,"$each",n=function(){var t,r,a,s=this,o=n.$$p,l=o||$,u=$,_=arguments.length,p=_-0;p<0&&(p=0),a=new Array(p);for(var d=0;d<_;d++)a[d-0]=arguments[d];n.$$p=null,u=(t=(r=c.get("Yielder")).$new,t.$$p=l.$to_proc(),
t).call(r);try{a.unshift(u),e.yieldX(s.block,a)}catch(e){if(e===i)return i.$v;throw e}return s},n.$$arity=-1,n.$$parameters=[["rest","args"],["block","block"]])}(m.base,null),function(t,$super){function r(){}var a,n,s,l=r=o(t,$super,"Yielder",r),c=l.$$proto;l.$$scope;c.block=$,e.defn(l,"$initialize",a=function(){var t=this,r=a.$$p,n=r||$;a.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),t.block=n},a.$$arity=0,a.$$parameters=[["block","block"]]),e.defn(l,"$yield",n=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];var s=e.yieldX(r.block,t);if(s===i)throw i;return s},n.$$arity=-1,n.$$parameters=[["rest","values"]]),e.defn(l,"$<<",s=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$yield.apply(t,e.to_a(r)),a},s.$$arity=-1,s.$$parameters=[["rest","values"]])}(m.base,null),function(a,$super){function n(){}var i,s,l,c,u,_,p,d,h,f,m,g,b,v=n=o(a,$super,"Lazy",n),y=v.$$proto,x=v.$$scope;return y.enumerator=$,function(e,$super){function t(){}var r=t=o(e,$super,"StopLazyError",t);r.$$proto,r.$$scope}(x.base,x.get("Exception")),e.defn(v,"$initialize",i=function(t,r){var a,n,s,o=this,l=i.$$p,c=l||$;null==r&&(r=$),i.$$p=null;var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"initialize"),c!==$||o.$raise(x.get("ArgumentError"),"tried to call lazy new without a block"),o.enumerator=t,(n=o,a=e.find_super_dispatcher(o,"initialize",i,!1),a.$$p=(s=function(r){var a,n,i,o,l=s.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),a=new Array(_);for(var p=1;p<u;p++)a[p-1]=arguments[p];if(null==r&&(r=$),s.$$is_lambda||s.$$define_meth){var d=arguments.length;d<1&&e.block_ac(d,-2,"initialize")}try{return(n=(i=t).$each,n.$$p=(o=function(){var t,a=(o.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];t.unshift(r),e.yieldX(c,t)},o.$$s=l,o.$$arity=-1,o.$$parameters=[["rest","args"]],o),n).apply(i,e.to_a(a))}catch(t){if(!e.rescue(t,[x.get("Exception")]))throw t;try{return $}finally{e.pop_exception()}}},s.$$s=o,s.$$arity=-2,s.$$parameters=[["req","yielder"],["rest","each_args"]],s),a).call(n,r)},i.$$arity=-2,i.$$parameters=[["req","object"],["opt","size"],["block","block"]]),e.alias(v,"force","to_a"),e.defn(v,"$lazy",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lazy"),t},s.$$arity=0,s.$$parameters=[]),e.defn(v,"$collect",l=function(){var t,r,a,n=this,i=l.$$p,s=i||$;l.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"collect"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy map without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n=(a.$$s,arguments.length),i=n-1;i<0&&(i=0),r=new Array(i);for(var o=1;o<n;o++)r[o-1]=arguments[o];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var l=arguments.length;l<1&&e.block_ac(l,-2,"collect")}var c=e.yieldX(s,r);t.$yield(c)},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,n.$enumerator_size())},l.$$arity=0,l.$$parameters=[["block","block"]]),e.defn(v,"$collect_concat",c=function(){var t,r,a,n=this,i=c.$$p,s=i||$;c.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"collect_concat"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy map without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,i,o,l,c,u=a.$$s||this,_=arguments.length,p=_-1;p<0&&(p=0),r=new Array(p);for(var d=1;d<_;d++)r[d-1]=arguments[d];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var h=arguments.length;h<1&&e.block_ac(h,-2,"collect_concat")}var f=e.yieldX(s,r);if(f["$respond_to?"]("force")&&f["$respond_to?"]("each"))(n=(i=f).$each,n.$$p=(o=function(r){o.$$s;if(null==r&&(r=$),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect_concat")}return t.$yield(r)},o.$$s=u,o.$$arity=1,o.$$parameters=[["req","v"]],o),n).call(i);else{x.get("Opal").$try_convert(f,x.get("Array"),"to_ary")===$?t.$yield(f):(n=(l=f).$each,n.$$p=(c=function(r){c.$$s;if(null==r&&(r=$),c.$$is_lambda||c.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect_concat")}return t.$yield(r)},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","v"]],c),n).call(l)}},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,$)},c.$$arity=0,c.$$parameters=[["block","block"]]),e.defn(v,"$drop",u=function(a){var n,i,s,o=this,l=$,c=$,u=$,_=arguments.length;return 1!==_&&e.ac(_,1,this,"drop"),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),(n=r(a,0))===$||null==n||n.$$is_boolean&&1!=n||o.$raise(x.get("ArgumentError"),"attempt to drop negative size"),l=o.$enumerator_size(),c=function(){return(n=x.get("Integer")["$==="](l))===$||null==n||n.$$is_boolean&&1!=n?l:(n=r(a,l))===$||null==n||n.$$is_boolean&&1!=n?l:a}(),u=0,(n=(i=x.get("Lazy")).$new,n.$$p=(s=function(n){var i,o,l=(s.$$s,arguments.length),c=l-1;c<0&&(c=0),i=new Array(c);for(var _=1;_<l;_++)i[_-1]=arguments[_];if(null==n&&(n=$),s.$$is_lambda||s.$$define_meth){var p=arguments.length;p<1&&e.block_ac(p,-2,"drop")}return(o=r(u,a))===$||null==o||o.$$is_boolean&&1!=o?(o=n).$yield.apply(o,e.to_a(i)):u=t(u,1)},s.$$s=o,s.$$arity=-2,s.$$parameters=[["req","enum"],["rest","args"]],s),n).call(i,o,c)},u.$$arity=1,u.$$parameters=[["req","n"]]),e.defn(v,"$drop_while",_=function(){var t,r,a,n=this,i=_.$$p,s=i||$,o=$;_.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"drop_while"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy drop_while without a block"),o=!0,(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,i,l=(a.$$s,arguments.length),c=l-1;c<0&&(c=0),r=new Array(c);for(var u=1;u<l;u++)r[u-1]=arguments[u];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var _=arguments.length;_<1&&e.block_ac(_,-2,"drop_while")}if(!1===o||o===$||null==o)return(i=t).$yield.apply(i,e.to_a(r));((n=e.yieldX(s,r))===$||null==n||n.$$is_boolean&&0==n)&&(o=!1,(n=t).$yield.apply(n,e.to_a(r)))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,$)},_.$$arity=0,_.$$parameters=[["block","block"]]),e.defn(v,"$enum_for",p=function(t){var r,a,n,i=this,s=p.$$p,o=s||$;null==t&&(t="each");var l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];return p.$$p=null,(r=(a=i.$class()).$for,r.$$p=o.$to_proc(),r).apply(a,[i,t].concat(e.to_a(n)))},p.$$arity=-1,p.$$parameters=[["opt","method"],["rest","args"],["block","block"]]),e.defn(v,"$find_all",d=function(){var t,r,a,n=this,i=d.$$p,s=i||$;d.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"find_all"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy select without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,i=(a.$$s,arguments.length),o=i-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<i;l++)r[l-1]=arguments[l];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"find_all")}(n=e.yieldX(s,r))===$||null==n||n.$$is_boolean&&1!=n||(n=t).$yield.apply(n,e.to_a(r))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,$)},d.$$arity=0,d.$$parameters=[["block","block"]]),e.alias(v,"flat_map","collect_concat"),e.defn(v,"$grep",h=function(t){var r,a,n,i,s,o=this,l=h.$$p,c=l||$;h.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"grep"),!1!==c&&c!==$&&null!=c?(r=(a=x.get("Lazy")).$new,r.$$p=(n=function(r){var a,i,s=(n.$$s,arguments.length),o=s-1;o<0&&(o=0),a=new Array(o);for(var l=1;l<s;l++)a[l-1]=arguments[l];if(null==r&&(r=$),n.$$is_lambda||n.$$define_meth){var u=arguments.length;u<1&&e.block_ac(u,-2,"grep")}var _=x.get("Opal").$destructure(a),p=t["$==="](_);(i=p)===$||null==i||i.$$is_boolean&&1!=i||(p=e.yield1(c,_),r.$yield(e.yield1(c,_)))},n.$$s=o,n.$$arity=-2,n.$$parameters=[["req","enum"],["rest","args"]],n),r).call(a,o,$):(r=(i=x.get("Lazy")).$new,r.$$p=(s=function(r){var a,n,i=(s.$$s,arguments.length),o=i-1;o<0&&(o=0),a=new Array(o);for(var l=1;l<i;l++)a[l-1]=arguments[l];if(null==r&&(r=$),s.$$is_lambda||s.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"grep")}var u=x.get("Opal").$destructure(a);(n=t["$==="](u))===$||null==n||n.$$is_boolean&&1!=n||r.$yield(u)},s.$$s=o,s.$$arity=-2,s.$$parameters=[["req","enum"],["rest","args"]],s),r).call(i,o,$)},h.$$arity=1,h.$$parameters=[["req","pattern"],["block","block"]]),e.alias(v,"map","collect"),e.alias(v,"select","find_all"),e.defn(v,"$reject",f=function(){var t,r,a,n=this,i=f.$$p,s=i||$;f.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"reject"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy reject without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,i=(a.$$s,arguments.length),o=i-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<i;l++)r[l-1]=arguments[l];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"reject")}((n=e.yieldX(s,r))===$||null==n||n.$$is_boolean&&0==n)&&(n=t).$yield.apply(n,e.to_a(r))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,$)},f.$$arity=0,f.$$parameters=[["block","block"]]),e.defn(v,"$take",m=function(a){var n,i,s,o=this,l=$,c=$,u=$,_=arguments.length;return 1!==_&&e.ac(_,1,this,"take"),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),(n=r(a,0))===$||null==n||n.$$is_boolean&&1!=n||o.$raise(x.get("ArgumentError"),"attempt to take negative size"),l=o.$enumerator_size(),c=function(){return(n=x.get("Integer")["$==="](l))===$||null==n||n.$$is_boolean&&1!=n?l:(n=r(a,l))===$||null==n||n.$$is_boolean&&1!=n?l:a}(),u=0,(n=(i=x.get("Lazy")).$new,n.$$p=(s=function(n){var i,o,l=s.$$s||this,c=arguments.length,_=c-1;_<0&&(_=0),i=new Array(_);for(var p=1;p<c;p++)i[p-1]=arguments[p];if(null==n&&(n=$),s.$$is_lambda||s.$$define_meth){var d=arguments.length;d<1&&e.block_ac(d,-2,"take")}return(o=r(u,a))===$||null==o||o.$$is_boolean&&1!=o?l.$raise(x.get("StopLazyError")):((o=n).$yield.apply(o,e.to_a(i)),u=t(u,1))},s.$$s=o,s.$$arity=-2,s.$$parameters=[["req","enum"],["rest","args"]],s),n).call(i,o,c)},m.$$arity=1,m.$$parameters=[["req","n"]]),e.defn(v,"$take_while",g=function(){var t,r,a,n=this,i=g.$$p,s=i||$;g.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"take_while"),!1!==s&&s!==$&&null!=s||n.$raise(x.get("ArgumentError"),"tried to call lazy take_while without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(a=function(t){var r,n,i=a.$$s||this,o=arguments.length,l=o-1;l<0&&(l=0),r=new Array(l);for(var c=1;c<o;c++)r[c-1]=arguments[c];if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var u=arguments.length;u<1&&e.block_ac(u,-2,"take_while")}(n=e.yieldX(s,r))===$||null==n||n.$$is_boolean&&1!=n?i.$raise(x.get("StopLazyError")):(n=t).$yield.apply(n,e.to_a(r))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum"],["rest","args"]],a),t).call(r,n,$)},g.$$arity=0,g.$$parameters=[["block","block"]]),e.alias(v,"to_enum","enum_for"),e.defn(v,"$inspect",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},b.$$arity=0,b.$$parameters=[]),$&&"inspect"}(m.base,h)}(n.base,null)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$coerce_to!","$-@","$**","$-","$*","$div","$<","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$round","$to_i","$truncate","$>"]),i.$require("corelib/comparable"),function(i,$super){function s(){}var c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y=s=l(i,$super,"Numeric",s),V=(Y.$$proto,Y.$$scope);return Y.$include(V.get("Comparable")),e.defn(Y,"$coerce",c=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"coerce"),(r=t["$instance_of?"](a.$class()))===o||null==r||r.$$is_boolean&&1!=r?[a.$Float(t),a.$Float(a)]:[t,a]},c.$$arity=1,c.$$parameters=[["req","other"]]),e.defn(Y,"$__coerced__",u=function(t,r){var a,n,$=this,i=o,s=o,l=o,c=arguments.length;2!==c&&e.ac(c,2,this,"__coerced__");try{n=r.$coerce($),a=e.to_ary(n),i=null==a[0]?o:a[0],s=null==a[1]?o:a[1]}catch(a){if(!e.rescue(a,[V.get("StandardError")]))throw a;try{l=t,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?$.$raise(V.get("TypeError"),r.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&$.$raise(V.get("ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed")}finally{e.pop_exception()}}return i.$__send__(t,s)},u.$$arity=2,u.$$parameters=[["req","method"],["req","other"]]),e.defn(Y,"$<=>",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"<=>"),(r=a["$equal?"](t))===o||null==r||r.$$is_boolean&&1!=r?o:0},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(Y,"$[]",p=function(r){var a=this,n=o,$=o,i=arguments.length;return 1!==i&&e.ac(i,1,this,"[]"),r=V.get("Opal")["$coerce_to!"](r,V.get("Integer"),"to_int"),n=2["$**"](30)["$-@"](),$=t(2["$**"](30),1),r<n||r>$?0:(a>>r)%2},p.$$arity=1,p.$$parameters=[["req","bit"]]),e.defn(Y,"$+@",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"+@"),t},d.$$arity=0,d.$$parameters=[]),e.defn(Y,"$-@",h=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"-@"),t(0,r)},h.$$arity=0,h.$$parameters=[]),e.defn(Y,"$%",f=function(a){var n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"%"),t(n,r(a,n.$div(a)))},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(Y,"$abs",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),a(t,0)?t["$-@"]():t},m.$$arity=0,m.$$parameters=[]),e.defn(Y,"$abs2",g=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"abs2"),r(t,t)},g.$$arity=0,g.$$parameters=[]),e.defn(Y,"$angle",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"angle"),a(t,0)?V.get("Math").$$scope.get("PI"):0},b.$$arity=0,b.$$parameters=[]),e.alias(Y,"arg","angle"),e.defn(Y,"$ceil",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ceil"),t.$to_f().$ceil()},v.$$arity=0,v.$$parameters=[]),e.defn(Y,"$conj",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"conj"),t},y.$$arity=0,y.$$parameters=[]),e.alias(Y,"conjugate","conj"),e.defn(Y,"$denominator",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.$to_r().$denominator()},x.$$arity=0,x.$$parameters=[]),e.defn(Y,"$div",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"div"),t["$=="](0)&&r.$raise(V.get("ZeroDivisionError"),"divided by o"),n(r,t).$floor()},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(Y,"$divmod",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"divmod"),[r.$div(t),r["$%"](t)]},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(Y,"$fdiv",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"fdiv"),n(r.$to_f(),t)},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(Y,"$floor",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"floor"),t.$to_f().$floor()},S.$$arity=0,S.$$parameters=[]),e.defn(Y,"$i",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"i"),t.$Complex(0,t)},E.$$arity=0,E.$$parameters=[]),e.defn(Y,"$imag",R=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"imag"),0},R.$$arity=0,R.$$parameters=[]),e.alias(Y,"imaginary","imag"),e.defn(Y,"$integer?",O=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"integer?"),!1},O.$$arity=0,O.$$parameters=[]),e.alias(Y,"magnitude","abs"),e.alias(Y,"modulo","%"),e.defn(Y,"$nonzero?",M=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"nonzero?"),(t=r["$zero?"]())===o||null==t||t.$$is_boolean&&1!=t?r:o},M.$$arity=0,M.$$parameters=[]),e.defn(Y,"$numerator",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numerator"),t.$to_r().$numerator()},A.$$arity=0,A.$$parameters=[]),e.alias(Y,"phase","arg"),e.defn(Y,"$polar",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"polar"),[t.$abs(),t.$arg()]},z.$$arity=0,z.$$parameters=[]),e.defn(Y,"$quo",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"quo"),n(V.get("Opal")["$coerce_to!"](r,V.get("Rational"),"to_r"),t)},j.$$arity=1,j.$$parameters=[["req","other"]]),e.defn(Y,"$real",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"real"),t},T.$$arity=0,T.$$parameters=[]),e.defn(Y,"$real?",I=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"real?"),!0},I.$$arity=0,I.$$parameters=[]),e.defn(Y,"$rect",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rect"),[t,0]},C.$$arity=0,C.$$parameters=[]),e.alias(Y,"rectangular","rect"),e.defn(Y,"$round",P=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"round"),r.$to_f().$round(t)},P.$$arity=-1,P.$$parameters=[["opt","digits"]]),e.defn(Y,"$to_c",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_c"),t.$Complex(t,0)},N.$$arity=0,N.$$parameters=[]),e.defn(Y,"$to_int",F=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_int"),t.$to_i()},F.$$arity=0,F.$$parameters=[]),e.defn(Y,"$truncate",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"truncate"),t.$to_f().$truncate()},D.$$arity=0,D.$$parameters=[]),e.defn(Y,"$zero?",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"zero?"),t["$=="](0)},B.$$arity=0,B.$$parameters=[]),e.defn(Y,"$positive?",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive?"),$(t,0)},H.$$arity=0,H.$$parameters=[]),e.defn(Y,"$negative?",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),a(t,0)},L.$$arity=0,L.$$parameters=[]),e.defn(Y,"$dup",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dup"),t.$raise(V.get("TypeError"),"can't dup "+t.$class())},U.$$arity=0,U.$$parameters=[]),e.defn(Y,"$clone",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clone"),t.$raise(V.get("TypeError"),"can't clone "+t.$class())},G.$$arity=0,G.$$parameters=[]),o&&"clone"}(s.base,null)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=e.top,i=e,s=e.nil,o=(e.breaker,e.slice,e.klass),l=e.hash2,c=e.gvars;return e.add_stubs(["$require","$include","$to_a","$raise","$===","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$join","$to_str","$class","$clone","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$[]","$to_s","$new","$!","$>=","$**","$delete_if","$to_proc","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,$super){function i(){}function u(t,r){return r.$$name===e.Array?t:r.$allocate().$replace(t.$to_a())}function _(e,t){return e===t||0===t?1:t>0&&e>t?_(e-1,t-1)+_(e-1,t):0}function p(e,t){for(var r=t>=0?1:0;t;)r*=e,e--,t--;return r}var d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce,ue,_e,pe,de,he,fe,me,ge,be,ve,ye,xe,ke,we,qe,Se,Ee,Re,Oe,Me,Ae,ze,je,Te,Ie,Ce,Pe,Ne,Fe,De,Be,He,Le,Ue,Ge,Ye,Ve=i=o($,$super,"Array",i),Xe=Ve.$$proto,Ke=Ve.$$scope;return Xe.length=s,Ve.$include(Ke.get("Enumerable")),Xe.$$is_array=!0,e.defs(Ve,"$[]",d=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return u(e,t)},d.$$arity=-1,d.$$parameters=[["rest","objects"]]),e.defn(Ve,"$initialize",h=function(t,r){var a,n=this,$=h.$$p,i=$||s;null==t&&(t=s),null==r&&(r=s),h.$$p=null;var o=arguments.length;if(o>2&&e.ac(o,-1,this,"initialize"),(a=arguments.length>2)===s||null==a||a.$$is_boolean&&1!=a||n.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return n.splice(0,n.length),n;if((a=1===arguments.length)!==s&&null!=a&&(!a.$$is_boolean||1==a)){if(!((a=Ke.get("Array")["$==="](t))===s||null==a||a.$$is_boolean&&1!=a))return n.$replace(t.$to_a()),n;if((a=t["$respond_to?"]("to_ary"))!==s&&null!=a&&(!a.$$is_boolean||1==a))return n.$replace(t.$to_ary()),n}t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),(a=t<0)===s||null==a||a.$$is_boolean&&1!=a||n.$raise(Ke.get("ArgumentError"),"negative array size"),n.splice(0,n.length);var l,c;if(i===s)for(l=0;l<t;l++)n.push(r);else for(l=0,c;l<t;l++)c=i(l),n[l]=c;return n},h.$$arity=-1,h.$$parameters=[["opt","size"],["opt","obj"],["block","block"]]),e.defs(Ve,"$try_convert",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),Ke.get("Opal")["$coerce_to?"](t,Ke.get("Array"),"to_ary")},f.$$arity=1,f.$$parameters=[["req","obj"]]),e.defn(Ve,"$&",m=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"&"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a();var $,i,o,c=[],u=l([],{});for($=0,i=t.length;$<i;$++)e.hash_put(u,t[$],!0);for($=0,i=a.length;$<i;$++)o=a[$],e.hash_delete(u,o)!==undefined&&c.push(o);return c},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(Ve,"$|",g=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"|"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a();var $,i,o=l([],{});for($=0,i=a.length;$<i;$++)e.hash_put(o,a[$],!0);for($=0,i=t.length;$<i;$++)e.hash_put(o,t[$],!0);return o.$keys()},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(Ve,"$*",b=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"*"),(r=t["$respond_to?"]("to_str"))!==s&&null!=r&&(!r.$$is_boolean||1==r))return a.$join(t.$to_str());t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),(r=t<0)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(Ke.get("ArgumentError"),"negative argument");for(var $=[],i=a.$to_a(),o=0;o<t;o++)$=$.concat(i);return u($,a.$class())},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(Ve,"$+",v=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"+"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a(),a.concat(t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(Ve,"$-",y=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"-"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a(),(r=0===a.length)!==s&&null!=r&&(!r.$$is_boolean||1==r))return[];if((r=0===t.length)!==s&&null!=r&&(!r.$$is_boolean||1==r))return a.$clone().$to_a();var $,i,o,c=[],u=l([],{});for($=0,i=t.length;$<i;$++)e.hash_put(u,t[$],!0);for($=0,i=a.length;$<i;$++)o=a[$],e.hash_get(u,o)===undefined&&c.push(o);return c},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(Ve,"$<<",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.push(t),r},x.$$arity=1,x.$$parameters=[["req","object"]]),e.defn(Ve,"$<=>",k=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"<=>"),(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r){if((r=t["$respond_to?"]("to_ary"))===s||null==r||r.$$is_boolean&&1!=r)return s;t=t.$to_ary().$to_a()}else t=t.$to_a();if(a.$hash()===t.$hash())return 0;for(var $=Math.min(a.length,t.length),i=0;i<$;i++){var o=a[i]["$<=>"](t[i]);if(0!==o)return o}return a.length["$<=>"](t.length)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(Ve,"$==",w=function(t){function r(e,t){var a,n,i,s;if(e===t)return!0;if(!t.$$is_array)return!!Ke.get("Opal")["$respond_to?"](t,"to_ary")&&t["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),t.constructor!==Array&&(t=t.$to_a()),e.length!==t.length)return!1;for($[e.$object_id()]=!0,a=0,n=e.length;a<n;a++)if(i=e[a],s=t[a],i.$$is_array){if(s.$$is_array&&s.length!==i.length)return!1;if(!$.hasOwnProperty(i.$object_id())&&!r(i,s))return!1}else if(!i["$=="](s))return!1;return!0}var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"==");var $={};return r(a,t)},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(Ve,"$[]",q=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"[]");var $,i,o,l,c=a.length;if(t.$$is_range){if($=t.exclude,i=Ke.get("Opal").$coerce_to(t.begin,Ke.get("Integer"),"to_int"),o=Ke.get("Opal").$coerce_to(t.end,Ke.get("Integer"),"to_int"),i<0&&(i+=c)<0)return s;if(i>c)return s;if(o<0&&(o+=c)<0)return[];$||(o+=1),l=a.slice(i,o)}else{if((t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"))<0&&(t+=c)<0)return s;if(r===undefined)return t>=c||t<0?s:a[t];if((r=Ke.get("Opal").$coerce_to(r,Ke.get("Integer"),"to_int"))<0||t>c||t<0)return s;l=a.slice(t,t+r)}return u(l,a.$class())},q.$$arity=-2,q.$$parameters=[["req","index"],["opt","length"]]),e.defn(Ve,"$[]=",S=function(t,r,a){var n,$=this,i=s,o=s,l=arguments.length;(l<2||l>3)&&e.ac(l,-3,this,"[]=");var c,u=$.length;if((n=Ke.get("Range")["$==="](t))===s||null==n||n.$$is_boolean&&1!=n){(n=a===undefined)===s||null==n||n.$$is_boolean&&1!=n?(o=r,r=a,i=(n=Ke.get("Array")["$==="](r))===s||null==n||n.$$is_boolean&&1!=n?(n=r["$respond_to?"]("to_ary"))===s||null==n||n.$$is_boolean&&1!=n?[r]:r.$to_ary().$to_a():r.$to_a()):o=1;var _;if(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),o=Ke.get("Opal").$coerce_to(o,Ke.get("Integer"),"to_int"),t<0&&(_=t,(t+=u)<0&&$.$raise(Ke.get("IndexError"),"index "+_+" too small for array; minimum "+-$.length)),o<0&&$.$raise(Ke.get("IndexError"),"negative length ("+o+")"),t>u)for(c=u;c<t;c++)$[c]=s;return a===undefined?$[t]=r:$.splice.apply($,[t,o].concat(i)),r}i=(n=Ke.get("Array")["$==="](r))===s||null==n||n.$$is_boolean&&1!=n?(n=r["$respond_to?"]("to_ary"))===s||null==n||n.$$is_boolean&&1!=n?[r]:r.$to_ary().$to_a():r.$to_a();var p=t.exclude,d=Ke.get("Opal").$coerce_to(t.begin,Ke.get("Integer"),"to_int"),h=Ke.get("Opal").$coerce_to(t.end,Ke.get("Integer"),"to_int");if(d<0&&(d+=u)<0&&$.$raise(Ke.get("RangeError"),t.$inspect()+" out of range"),h<0&&(h+=u),p||(h+=1),d>u)for(c=u;c<d;c++)$[c]=s;return h<0?$.splice.apply($,[d,0].concat(i)):$.splice.apply($,[d,h-d].concat(i)),r},S.$$arity=-3,S.$$parameters=[["req","index"],["req","value"],["opt","extra"]]),e.defn(Ve,"$assoc",E=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"assoc");for(var n,$=0,i=r.length;$<i;$++)if(n=r[$],n.length&&n[0]["$=="](t))return n;return s},E.$$arity=1,E.$$parameters=[["req","object"]]),e.defn(Ve,"$at",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),t<0&&(t+=r.length),t<0||t>=r.length?s:r[t]},R.$$arity=1,R.$$parameters=[["req","index"]]),e.defn(Ve,"$bsearch",O=function(){var t=this,r=O.$$p,a=r||s;O.$$p=null;var n=arguments.length;if(0!==n&&e.ac(n,0,this,"bsearch"),a===s)return t.$enum_for("bsearch");for(var $,i,o,l=0,c=t.length,u=!1,_=s;l<c;){if($=l+Math.floor((c-l)/2),i=t[$],!0===(o=a(i)))_=i,u=!0;else if(!1===o||o===s)u=!1;else if(o.$$is_number){if(0===o)return i;u=o<0}else t.$raise(Ke.get("TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");u?c=$:l=$+1}return _},O.$$arity=0,O.$$parameters=[["block","block"]]),e.defn(Ve,"$cycle",M=function(a){var n,$,i,o,l=this,c=M.$$p,u=c||s;null==a&&(a=s),M.$$p=null;var _=arguments.length;if(_>1&&e.ac(_,-1,this,"cycle"),u===s)return(n=($=l).$enum_for,n.$$p=(i=function(){var n,$=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"cycle")}return a["$=="](s)?Ke.get("Float").$$scope.get("INFINITY"):(a=Ke.get("Opal")["$coerce_to!"](a,Ke.get("Integer"),"to_int"),(n=t(a,0))===s||null==n||n.$$is_boolean&&1!=n?0:r($.$enumerator_size(),a))},i.$$s=l,i.$$arity=0,i.$$parameters=[],i),n).call($,"cycle",a);if((n=!1!==(o=l["$empty?"]())&&o!==s&&null!=o?o:a["$=="](0))!==s&&null!=n&&(!n.$$is_boolean||1==n))return s;var p,d;if(a===s)for(;;)for(p=0,d=l.length;p<d;p++)e.yield1(u,l[p]);else{if((a=Ke.get("Opal")["$coerce_to!"](a,Ke.get("Integer"),"to_int"))<=0)return l;for(;a>0;){for(p=0,d=l.length;p<d;p++)e.yield1(u,l[p]);a--}}return l},M.$$arity=-1,M.$$parameters=[["opt","n"],["block","block"]]),e.defn(Ve,"$clear",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.splice(0,t.length),t},A.$$arity=0,A.$$parameters=[]),e.defn(Ve,"$count",z=function(t){var r,a,n=this,$=z.$$p,i=$||s,o=s,l=s;null==t&&(t=s),z.$$p=null;var c=arguments.length;for(c>1&&e.ac(c,-1,this,"count"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(r=!1!==(a=t)&&a!==s&&null!=a?a:i)===s||null==r||r.$$is_boolean&&1!=r?n.$size():(a=n,r=e.find_super_dispatcher(n,"count",z,!1),r.$$p=$,r).apply(a,o)},z.$$arity=-1,z.$$parameters=[["opt","object"],["block","block"]]),e.defn(Ve,"$initialize_copy",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_copy"),r.$replace(t)},j.$$arity=1,j.$$parameters=[["req","other"]]),e.defn(Ve,"$collect",T=function(){var t,r,a,n=this,$=T.$$p,i=$||s;T.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"collect"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"collect")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"collect");for(var l=[],c=0,u=n.length;c<u;c++){var _=e.yield1(i,n[c]);l.push(_)}return l},T.$$arity=0,T.$$parameters=[["block","block"]]),e.defn(Ve,"$collect!",I=function(){var t,r,a,n=this,$=I.$$p,i=$||s;I.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"collect!"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"collect!")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"collect!");for(var l=0,c=n.length;l<c;l++){var u=e.yield1(i,n[l]);n[l]=u}return n},I.$$arity=0,I.$$parameters=[["block","block"]]),e.defn(Ve,"$combination",C=function(t){var r,a,n,$=this,i=C.$$p,o=i||s,l=s;C.$$p=null;var c=arguments.length;if(1!==c&&e.ac(c,1,this,"combination"),l=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),o===s)return(r=(a=$).$enum_for,r.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"combination")}return _(t.length,l)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,"combination",l);var u,p,d,h,f,m,g;if(0===l)e.yield1(o,[]);else if(1===l)for(u=0,p=$.length;u<p;u++)e.yield1(o,[$[u]]);else if(l===$.length)e.yield1(o,$.slice());else if(l>=0&&l<$.length){for(d=[],u=0;u<=l+1;u++)d.push(0);for(h=[],f=0,m=!1,d[0]=-1;!m;){for(h[f]=$[d[f+1]];f<l-1;)f++,g=d[f+1]=d[f]+1,h[f]=$[g];e.yield1(o,h.slice()),f++;do{m=0===f,d[f]++,f--}while(d[f+1]+l===$.length+f+1)}}return $},C.$$arity=1,C.$$parameters=[["req","n"]]),e.defn(Ve,"$repeated_combination",P=function(t){function r(t,a,n,$){if(n.length==t){var i=n.slice();return void e.yield1(l,i)}for(var s=a;s<$.length;s++)n.push($[s]),r(t,s,n,$),n.pop()}var a,n,$,i=this,o=P.$$p,l=o||s,c=s;P.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"repeated_combination"),c=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),l===s?(a=(n=i).$enum_for,a.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"repeated_combination")}return _(t.length+c-1,c)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n,"repeated_combination",c):(c>=0&&r(c,0,[],i),i)
},P.$$arity=1,P.$$parameters=[["req","n"]]),e.defn(Ve,"$compact",N=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact");for(var a,n=[],$=0,i=t.length;$<i;$++)(a=t[$])!==s&&n.push(a);return n},N.$$arity=0,N.$$parameters=[]),e.defn(Ve,"$compact!",F=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact!");for(var a=t.length,n=0,$=t.length;n<$;n++)t[n]===s&&(t.splice(n,1),$--,n--);return t.length===a?s:t},F.$$arity=0,F.$$parameters=[]),e.defn(Ve,"$concat",D=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"concat"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a();for(var $=0,i=t.length;$<i;$++)a.push(t[$]);return a},D.$$arity=1,D.$$parameters=[["req","other"]]),e.defn(Ve,"$delete",B=function(t){var r=this,a=B.$$p,n=a||s;B.$$p=null;var $=arguments.length;1!==$&&e.ac($,1,this,"delete");for(var i=r.length,o=0,l=i;o<l;o++)r[o]["$=="](t)&&(r.splice(o,1),l--,o--);return r.length===i?n!==s?e.yieldX(n,[]):s:t},B.$$arity=1,B.$$parameters=[["req","object"]]),e.defn(Ve,"$delete_at",H=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"delete_at"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),t<0&&(t+=r.length),t<0||t>=r.length)return s;var n=r[t];return r.splice(t,1),n},H.$$arity=1,H.$$parameters=[["req","index"]]),e.defn(Ve,"$delete_if",L=function(){var t,r,a,n=this,$=L.$$p,i=$||s;L.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"delete_if"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"delete_if")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"delete_if");for(var l,c=0,u=n.length;c<u;c++)!1!==(l=i(n[c]))&&l!==s&&(n.splice(c,1),u--,c--);return n},L.$$arity=0,L.$$parameters=[["block","block"]]),e.defn(Ve,"$drop",U=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"drop"),t<0&&r.$raise(Ke.get("ArgumentError")),r.slice(t)},U.$$arity=1,U.$$parameters=[["req","number"]]),e.defn(Ve,"$dup",G=function(){var t,r,a=this,n=G.$$p,$=s,i=s;G.$$p=null;var o=arguments.length;for(0!==o&&e.ac(o,0,this,"dup"),$=[],i=0;i<arguments.length;i++)$[i]=arguments[i];return a.$$class===e.Array&&a.$allocate.$$pristine&&a.$copy_instance_variables.$$pristine&&a.$initialize_dup.$$pristine?a.slice(0):(r=a,t=e.find_super_dispatcher(a,"dup",G,!1),t.$$p=n,t).apply(r,$)},G.$$arity=0,G.$$parameters=[]),e.defn(Ve,"$each",Y=function(){var t,r,a,n=this,$=Y.$$p,i=$||s;Y.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"each");for(var l=0,c=n.length;l<c;l++){e.yield1(i,n[l])}return n},Y.$$arity=0,Y.$$parameters=[["block","block"]]),e.defn(Ve,"$each_index",V=function(){var t,r,a,n=this,$=V.$$p,i=$||s;V.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_index"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_index")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"each_index");for(var l=0,c=n.length;l<c;l++){e.yield1(i,l)}return n},V.$$arity=0,V.$$parameters=[["block","block"]]),e.defn(Ve,"$empty?",X=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.length},X.$$arity=0,X.$$parameters=[]),e.defn(Ve,"$eql?",K=function(t){function r(e,t){var a,n,i,s;if(!t.$$is_array)return!1;if(t=t.$to_a(),e.length!==t.length)return!1;for($[e.$object_id()]=!0,a=0,n=e.length;a<n;a++)if(i=e[a],s=t[a],i.$$is_array){if(s.$$is_array&&s.length!==i.length)return!1;if(!$.hasOwnProperty(i.$object_id())&&!r(i,s))return!1}else if(!i["$eql?"](s))return!1;return!0}var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"eql?");var $={};return r(a,t)},K.$$arity=1,K.$$parameters=[["req","other"]]),e.defn(Ve,"$fetch",W=function(t,r){var a=this,n=W.$$p,$=n||s;W.$$p=null;var i=arguments.length;(i<1||i>2)&&e.ac(i,-2,this,"fetch");var o=t;return t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),t<0&&(t+=a.length),t>=0&&t<a.length?a[t]:$!==s?$(o):null!=r?r:void(0===a.length?a.$raise(Ke.get("IndexError"),"index "+o+" outside of array bounds: 0...0"):a.$raise(Ke.get("IndexError"),"index "+o+" outside of array bounds: -"+a.length+"..."+a.length))},W.$$arity=-2,W.$$parameters=[["req","index"],["opt","defaults"],["block","block"]]),e.defn(Ve,"$fill",Z=function(){var t,r,a,n=this,$=Z.$$p,i=$||s,o=s,l=s,c=s,u=s,_=s,p=arguments.length,d=p-0;d<0&&(d=0),a=new Array(d);for(var h=0;h<p;h++)a[h-0]=arguments[h];Z.$$p=null;var f,m;if(!1!==i&&i!==s&&null!=i?((t=a.length>2)===s||null==t||t.$$is_boolean&&1!=t||n.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+a.$length()+" for 0..2)"),r=a,t=e.to_ary(r),o=null==t[0]?s:t[0],l=null==t[1]?s:t[1]):((t=0==a.length)===s||null==t||t.$$is_boolean&&1!=t?(t=a.length>3)===s||null==t||t.$$is_boolean&&1!=t||n.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+a.$length()+" for 1..3)"):n.$raise(Ke.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),r=a,t=e.to_ary(r),c=null==t[0]?s:t[0],o=null==t[1]?s:t[1],l=null==t[2]?s:t[2]),(t=Ke.get("Range")["$==="](o))===s||null==t||t.$$is_boolean&&1!=t)if(!1!==o&&o!==s&&null!=o)if(u=Ke.get("Opal").$coerce_to(o,Ke.get("Integer"),"to_int"),(t=u<0)===s||null==t||t.$$is_boolean&&1!=t||(u+=n.length),(t=u<0)===s||null==t||t.$$is_boolean&&1!=t||(u=0),!1!==l&&l!==s&&null!=l){if(_=Ke.get("Opal").$coerce_to(l,Ke.get("Integer"),"to_int"),(t=0==_)!==s&&null!=t&&(!t.$$is_boolean||1==t))return n;_+=u}else _=n.length;else u=0,_=n.length;else if(!1!==l&&l!==s&&null!=l&&n.$raise(Ke.get("TypeError"),"length invalid with range"),u=Ke.get("Opal").$coerce_to(o.$begin(),Ke.get("Integer"),"to_int"),(t=u<0)===s||null==t||t.$$is_boolean&&1!=t||(u+=n.length),(t=u<0)===s||null==t||t.$$is_boolean&&1!=t||n.$raise(Ke.get("RangeError"),o.$inspect()+" out of range"),_=Ke.get("Opal").$coerce_to(o.$end(),Ke.get("Integer"),"to_int"),(t=_<0)===s||null==t||t.$$is_boolean&&1!=t||(_+=n.length),((t=o["$exclude_end?"]())===s||null==t||t.$$is_boolean&&1!=t)&&(_+=1),(t=_<=u)!==s&&null!=t&&(!t.$$is_boolean||1==t))return n;if((t=u>n.length)!==s&&null!=t&&(!t.$$is_boolean||1==t))for(f=n.length;f<_;f++)n[f]=s;if((t=_>n.length)===s||null==t||t.$$is_boolean&&1!=t||(n.length=_),!1!==i&&i!==s&&null!=i)for(n.length;u<_;u++)m=i(u),n[u]=m;else for(n.length;u<_;u++)n[u]=c;return n},Z.$$arity=-1,Z.$$parameters=[["rest","args"],["block","block"]]),e.defn(Ve,"$first",J=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"first"),null==t?0===r.length?s:r[0]:(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),t<0&&r.$raise(Ke.get("ArgumentError"),"negative array size"),r.slice(0,t))},J.$$arity=-1,J.$$parameters=[["opt","count"]]),e.defn(Ve,"$flatten",Q=function(t){function r(e,t){var n,$,i,o,l=[];for(e=e.$to_a(),n=0,$=e.length;n<$;n++)if(i=e[n],Ke.get("Opal")["$respond_to?"](i,"to_ary"))if((o=i.$to_ary())!==s)switch(o.$$is_array||a.$raise(Ke.get("TypeError")),o===a&&a.$raise(Ke.get("ArgumentError")),t){case undefined:l=l.concat(r(o));break;case 0:l.push(o);break;default:l.push.apply(l,r(o,t-1))}else l.push(i);else l.push(i);return l}var a=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"flatten"),t!==undefined&&(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int")),u(r(a,t),a.$class())},Q.$$arity=-1,Q.$$parameters=[["opt","level"]]),e.defn(Ve,"$flatten!",ee=function(t){var r=this,a=arguments.length;a>1&&e.ac(a,-1,this,"flatten!");var n=r.$flatten(t);if(r.length==n.length){for(var $=0,i=r.length;$<i&&r[$]===n[$];$++);if($==i)return s}return r.$replace(n),r},ee.$$arity=-1,ee.$$parameters=[["opt","level"]]),e.defn(Ve,"$hash",te=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"hash");var a,n,$,i=e.hash_ids==undefined,s=["A"],o=t.$object_id();try{if(i&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(o))return"self";for($ in e.hash_ids)if(e.hash_ids.hasOwnProperty($)&&(a=e.hash_ids[$],t["$eql?"](a)))return"self";for(e.hash_ids[o]=t,n=0;n<t.length;n++)a=t[n],s.push(a.$hash());return s.join(",")}finally{i&&delete e.hash_ids}},te.$$arity=0,te.$$parameters=[]),e.defn(Ve,"$include?",re=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"include?");for(var n=0,$=r.length;n<$;n++)if(r[n]["$=="](t))return!0;return!1},re.$$arity=1,re.$$parameters=[["req","member"]]),e.defn(Ve,"$index",ae=function(t){var r=this,a=ae.$$p,n=a||s;ae.$$p=null;var $=arguments.length;$>1&&e.ac($,-1,this,"index");var i,o,l;if(null!=t){for(i=0,o=r.length;i<o;i++)if(r[i]["$=="](t))return i}else{if(n===s)return r.$enum_for("index");for(i=0,o=r.length;i<o;i++)if(!1!==(l=n(r[i]))&&l!==s)return i}return s},ae.$$arity=-1,ae.$$parameters=[["opt","object"],["block","block"]]),e.defn(Ve,"$insert",ne=function(t){var r,a=this,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=arguments.length;if(o<1&&e.ac(o,-2,this,"insert"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),r.length>0){if(t<0&&(t+=a.length+1)<0&&a.$raise(Ke.get("IndexError"),t+" is out of bounds"),t>a.length)for(var l=a.length;l<t;l++)a.push(s);a.splice.apply(a,[t,0].concat(r))}return a},ne.$$arity=-2,ne.$$parameters=[["req","index"],["rest","objects"]]),e.defn(Ve,"$inspect",$e=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");for(var a=[],n=t.$__id__(),$=0,i=t.length;$<i;$++){var s=t["$[]"]($);s.$__id__()===n?a.push("[...]"):a.push(s.$inspect())}return"["+a.join(", ")+"]"},$e.$$arity=0,$e.$$parameters=[]),e.defn(Ve,"$join",ie=function(t){var r,a=this;null==c[","]&&(c[","]=s),null==t&&(t=s);var n=arguments.length;if(n>1&&e.ac(n,-1,this,"join"),(r=0===a.length)!==s&&null!=r&&(!r.$$is_boolean||1==r))return"";(r=t===s)===s||null==r||r.$$is_boolean&&1!=r||(t=c[","]);var $,i,o,l,u=[];for($=0,i=a.length;$<i;$++)o=a[$],Ke.get("Opal")["$respond_to?"](o,"to_str")&&(l=o.$to_str())!==s?u.push(l.$to_s()):Ke.get("Opal")["$respond_to?"](o,"to_ary")&&(l=o.$to_ary(),l===a&&a.$raise(Ke.get("ArgumentError")),l!==s)?u.push(l.$join(t)):Ke.get("Opal")["$respond_to?"](o,"to_s")&&(l=o.$to_s())!==s?u.push(l):a.$raise(Ke.get("NoMethodError").$new(Ke.get("Opal").$inspect(o)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===s?u.join(""):u.join(Ke.get("Opal")["$coerce_to!"](t,Ke.get("String"),"to_str").$to_s())},ie.$$arity=-1,ie.$$parameters=[["opt","sep"]]),e.defn(Ve,"$keep_if",se=function(){var t,r,a,n=this,$=se.$$p,i=$||s;se.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"keep_if"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"keep_if")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"keep_if");for(var l,c=0,u=n.length;c<u;c++)!1!==(l=i(n[c]))&&l!==s||(n.splice(c,1),u--,c--);return n},se.$$arity=0,se.$$parameters=[["block","block"]]),e.defn(Ve,"$last",oe=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"last"),null==t?0===r.length?s:r[r.length-1]:(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),t<0&&r.$raise(Ke.get("ArgumentError"),"negative array size"),t>r.length&&(t=r.length),r.slice(r.length-t,r.length))},oe.$$arity=-1,oe.$$parameters=[["opt","count"]]),e.defn(Ve,"$length",le=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.length},le.$$arity=0,le.$$parameters=[]),e.alias(Ve,"map","collect"),e.alias(Ve,"map!","collect!"),e.defn(Ve,"$permutation",ce=function(t){var r,a,n,$=this,i=ce.$$p,o=i||s,l=s,c=s;ce.$$p=null;var u=arguments.length;if(u>1&&e.ac(u,-1,this,"permutation"),o===s)return(r=(a=$).$enum_for,r.$$p=(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"permutation")}return p(r.length,t===undefined?r.length:t)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,"permutation",t);var _,d,h;if((t=t===undefined?$.length:Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"))<0||$.length<t);else if(0===t)e.yield1(o,[]);else if(1===t)for(var f=0;f<$.length;f++)e.yield1(o,[$[f]]);else l=Ke.get("Array").$new(t),c=Ke.get("Array").$new($.length,!1),_=function(t,r,a,n,i){$=this;for(var s=0;s<$.length;s++)if(n["$[]"](s)["$!"]())if(r[a]=s,a<t-1)n[s]=!0,_.call($,t,r,a+1,n,i),n[s]=!1;else{h=[];for(var o=0;o<r.length;o++)h.push($[r[o]]);e.yield1(i,h)}},o!==s?(d=$.slice(),_.call(d,t,l,0,c,o)):_.call($,t,l,0,c,o);return $},ce.$$arity=-1,ce.$$parameters=[["opt","num"],["block","block"]]),e.defn(Ve,"$repeated_permutation",ue=function(t){function r(t,a,n){if(a.length==t){var $=a.slice();return void e.yield1(c,$)}for(var i=0;i<n.length;i++)a.push(n[i]),r(t,a,n),a.pop()}var n,$,i,o=this,l=ue.$$p,c=l||s,u=s;ue.$$p=null;var _=arguments.length;return 1!==_&&e.ac(_,1,this,"repeated_permutation"),u=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),c===s?(n=($=o).$enum_for,n.$$p=(i=function(){var t,r=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"repeated_permutation")}return(t=a(u,0))===s||null==t||t.$$is_boolean&&1!=t?0:r.$size()["$**"](u)},i.$$s=o,i.$$arity=0,i.$$parameters=[],i),n).call($,"repeated_permutation",u):(r(u,[],o.slice()),o)},ue.$$arity=1,ue.$$parameters=[["req","n"]]),e.defn(Ve,"$pop",_e=function(t){var r,a=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"pop"),(r=t===undefined)===s||null==r||r.$$is_boolean&&1!=r?(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),(r=t<0)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(Ke.get("ArgumentError"),"negative array size"),(r=0===a.length)===s||null==r||r.$$is_boolean&&1!=r?(r=t>a.length)===s||null==r||r.$$is_boolean&&1!=r?a.splice(a.length-t,a.length):a.splice(0,a.length):[]):(r=0===a.length)===s||null==r||r.$$is_boolean&&1!=r?a.pop():s},_e.$$arity=-1,_e.$$parameters=[["opt","count"]]),e.defn(Ve,"$product",pe=function(){var t,r=this,a=pe.$$p,n=a||s,$=arguments.length,i=$-0;i<0&&(i=0),t=new Array(i);for(var o=0;o<$;o++)t[o-0]=arguments[o];pe.$$p=null;var l,c,u,_,p=n!==s?null:[],d=t.length+1,h=new Array(d),f=new Array(d),m=new Array(d),g=1;for(m[0]=r,l=1;l<d;l++)m[l]=Ke.get("Opal").$coerce_to(t[l-1],Ke.get("Array"),"to_ary");for(l=0;l<d;l++){if(0===(_=m[l].length))return p||r;g*=_,g>2147483647&&r.$raise(Ke.get("RangeError"),"too big to product"),f[l]=_,h[l]=0}e:for(;;){for(u=[],l=0;l<d;l++)u.push(m[l][h[l]]);for(p?p.push(u):e.yield1(n,u),c=d-1,h[c]++;h[c]===f[c];){if(h[c]=0,--c<0)break e;h[c]++}}return p||r},pe.$$arity=-1,pe.$$parameters=[["rest","args"],["block","block"]]),e.defn(Ve,"$push",de=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=0,i=e.length;$<i;$++)t.push(e[$]);return t},de.$$arity=-1,de.$$parameters=[["rest","objects"]]),e.defn(Ve,"$rassoc",he=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"rassoc");for(var n,$=0,i=r.length;$<i;$++)if(n=r[$],n.length&&n[1]!==undefined&&n[1]["$=="](t))return n;return s},he.$$arity=1,he.$$parameters=[["req","object"]]),e.defn(Ve,"$reject",fe=function(){var t,r,a,n=this,$=fe.$$p,i=$||s;fe.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"reject"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reject")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"reject");for(var l,c=[],u=0,_=n.length;u<_;u++)!1!==(l=i(n[u]))&&l!==s||c.push(n[u]);return c},fe.$$arity=0,fe.$$parameters=[["block","block"]]),e.defn(Ve,"$reject!",me=function(){var t,r,a,n,$=this,i=me.$$p,o=i||s,l=s;me.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"reject!"),o===s?(t=(r=$).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reject!")}return t.$size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).call(r,"reject!"):(l=$.$length(),(t=(n=$).$delete_if,t.$$p=o.$to_proc(),t).call(n),$.$length()["$=="](l)?s:$)},me.$$arity=0,me.$$parameters=[["block","block"]]),e.defn(Ve,"$replace",ge=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"replace"),t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a(),a.splice(0,a.length),a.push.apply(a,t),a},ge.$$arity=1,ge.$$parameters=[["req","other"]]),e.defn(Ve,"$reverse",be=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse"),t.slice(0).reverse()},be.$$arity=0,be.$$parameters=[]),e.defn(Ve,"$reverse!",ve=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse!"),t.reverse()},ve.$$arity=0,ve.$$parameters=[]),e.defn(Ve,"$reverse_each",ye=function(){var t,r,a,n,$=this,i=ye.$$p,o=i||s;ye.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"reverse_each"),o===s?(t=(r=$).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reverse_each")}return t.$size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).call(r,"reverse_each"):((t=(n=$.$reverse()).$each,t.$$p=o.$to_proc(),t).call(n),$)},ye.$$arity=0,ye.$$parameters=[["block","block"]]),e.defn(Ve,"$rindex",xe=function(t){var r=this,a=xe.$$p,n=a||s;xe.$$p=null;var $=arguments.length;$>1&&e.ac($,-1,this,"rindex");var i,o;if(null!=t){for(i=r.length-1;i>=0&&!(i>=r.length);i--)if(r[i]["$=="](t))return i}else if(n!==s){for(i=r.length-1;i>=0&&!(i>=r.length);i--)if(!1!==(o=n(r[i]))&&o!==s)return i}else if(null==t)return r.$enum_for("rindex");return s},xe.$$arity=-1,xe.$$parameters=[["opt","object"],["block","block"]]),e.defn(Ve,"$rotate",ke=function(t){var r=this;null==t&&(t=1);var a=arguments.length;a>1&&e.ac(a,-1,this,"rotate"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int");var n,$,i,s;return 1===r.length?r.slice():0===r.length?[]:(n=r.slice(),$=t%n.length,i=n.slice($),s=n.slice(0,$),i.concat(s))},ke.$$arity=-1,ke.$$parameters=[["opt","n"]]),e.defn(Ve,"$rotate!",we=function(t){var r=this,a=s;null==t&&(t=1);var n=arguments.length;return n>1&&e.ac(n,-1,this,"rotate!"),0===r.length||1===r.length?r:(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),a=r.$rotate(t),r.$replace(a))},we.$$arity=-1,we.$$parameters=[["opt","cnt"]]),function(t,$super){function r(){}var a,n,$=r=o(t,$super,"SampleRandom",r),i=$.$$proto,l=$.$$scope;i.rng=s,e.defn($,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.rng=t},a.$$arity=1,a.$$parameters=[["req","rng"]]),e.defn($,"$rand",n=function(t){var r,a=this,n=s,$=arguments.length;return 1!==$&&e.ac($,1,this,"rand"),n=l.get("Opal").$coerce_to(a.rng.$rand(t),l.get("Integer"),"to_int"),(r=n<0)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(l.get("RangeError"),"random value must be >= 0"),((r=n<t)===s||null==r||r.$$is_boolean&&1!=r)&&a.$raise(l.get("RangeError"),"random value must be less than Array size"),n},n.$$arity=1,n.$$parameters=[["req","size"]])}(Ke.base,null),e.defn(Ve,"$sample",qe=function(t,r){var a,n=this,$=s,i=s,o=arguments.length;if(o>2&&e.ac(o,-1,this,"sample"),(a=t===undefined)!==s&&null!=a&&(!a.$$is_boolean||1==a))return n.$at(Ke.get("Kernel").$rand(n.length));if((a=r===undefined)===s||null==a||a.$$is_boolean&&1!=a?(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),r=Ke.get("Opal").$coerce_to(r,Ke.get("Hash"),"to_hash")):(a=$=Ke.get("Opal")["$coerce_to?"](t,Ke.get("Hash"),"to_hash"))===s||null==a||a.$$is_boolean&&1!=a?(r=s,t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int")):(r=$,t=s),(a=!1!==t&&t!==s&&null!=t?t<0:t)===s||null==a||a.$$is_boolean&&1!=a||n.$raise(Ke.get("ArgumentError"),"count must be greater than 0"),!1!==r&&r!==s&&null!=r&&(i=r["$[]"]("random")),i=(a=!1!==i&&i!==s&&null!=i?i["$respond_to?"]("rand"):i)===s||null==a||a.$$is_boolean&&1!=a?Ke.get("Kernel"):Ke.get("SampleRandom").$new(i),!1===t||t===s||null==t)return n[i.$rand(n.length)];var l,c,u,_,p,d,h,f;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[i.$rand(n.length)]];case 2:return _=i.$rand(n.length),p=i.$rand(n.length),_===p&&(p=0===_?_+1:_-1),[n[_],n[p]];default:if(n.length/t>3){for(l=!1,c=0,u=Ke.get("Array").$new(t),_=1,u[0]=i.$rand(n.length);_<t;){for(d=i.$rand(n.length),p=0;p<_;){for(;d===u[p];){if(++c>100){l=!0;break}d=i.$rand(n.length)}if(l)break;p++}if(l)break;u[_]=d,_++}if(!l){for(_=0;_<t;)u[_]=n[u[_]],_++;return u}}u=n.slice();for(var m=0;m<t;m++)h=i.$rand(n.length),f=u[m],u[m]=u[h],u[h]=f;return t===n.length?u:u["$[]"](0,t)}},qe.$$arity=-1,qe.$$parameters=[["opt","count"],["opt","options"]]),e.defn(Ve,"$select",Se=function(){var t,r,a,n=this,$=Se.$$p,i=$||s;Se.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"select"),i===s)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"select")}return t.$size()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"select");for(var l,c,u=[],_=0,p=n.length;_<p;_++)l=n[_],!1!==(c=e.yield1(i,l))&&c!==s&&u.push(l);return u},Se.$$arity=0,Se.$$parameters=[["block","block"]]),e.defn(Ve,"$select!",Ee=function(){var t,r,a,n,$=this,i=Ee.$$p,o=i||s;Ee.$$p=null;var l=arguments.length;if(0!==l&&e.ac(l,0,this,"select!"),o===s)return(t=(r=$).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"select!")}return t.$size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).call(r,"select!");var c=$.length;return(t=(n=$).$keep_if,t.$$p=o.$to_proc(),t).call(n),$.length===c?s:$},Ee.$$arity=0,Ee.$$parameters=[["block","block"]]),e.defn(Ve,"$shift",Re=function(t){var r,a=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"shift"),(r=t===undefined)===s||null==r||r.$$is_boolean&&1!=r?(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),(r=t<0)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(Ke.get("ArgumentError"),"negative array size"),(r=0===a.length)===s||null==r||r.$$is_boolean&&1!=r?a.splice(0,t):[]):(r=0===a.length)===s||null==r||r.$$is_boolean&&1!=r?a.shift():s},Re.$$arity=-1,Re.$$parameters=[["opt","count"]]),e.alias(Ve,"size","length"),e.defn(Ve,"$shuffle",Oe=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"shuffle"),r.$dup().$to_a()["$shuffle!"](t)},Oe.$$arity=-1,Oe.$$parameters=[["opt","rng"]]),e.defn(Ve,"$shuffle!",Me=function(t){var r=this,a=arguments.length;a>1&&e.ac(a,-1,this,"shuffle!");var n,$,i,o=r.length;for(t!==undefined&&(t=Ke.get("Opal")["$coerce_to?"](t,Ke.get("Hash"),"to_hash"))!==s&&(t=t["$[]"]("random"))!==s&&t["$respond_to?"]("rand")&&(n=t);o;)n?($=n.$rand(o).$to_int(),$<0&&r.$raise(Ke.get("RangeError"),"random number too small "+$),$>=o&&r.$raise(Ke.get("RangeError"),"random number too big "+$)):$=Math.floor(Math.random()*o),i=r[--o],r[o]=r[$],r[$]=i;return r},Me.$$arity=-1,Me.$$parameters=[["opt","rng"]]),e.alias(Ve,"slice","[]"),e.defn(Ve,"$slice!",Ae=function(t,r){var a,n=this,$=s,i=s,o=s,l=s,c=s,u=arguments.length;if((u<1||u>2)&&e.ac(u,-2,this,"slice!"),$=s,(a=r===undefined)===s||null==a||a.$$is_boolean&&1!=a){if(c=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),(r=Ke.get("Opal").$coerce_to(r,Ke.get("Integer"),"to_int"))<0)return s;$=n["$[]"](c,r),c<0&&(c+=n.length),c+r>n.length&&(r=n.length-c),c<n.length&&c>=0&&n.splice(c,r)}else if((a=Ke.get("Range")["$==="](t))===s||null==a||a.$$is_boolean&&1!=a){if(c=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),c<0&&(c+=n.length),c<0||c>=n.length)return s;$=n[c],0===c?n.shift():n.splice(c,1)}else{i=t,$=n["$[]"](i),o=Ke.get("Opal").$coerce_to(i.$begin(),Ke.get("Integer"),"to_int"),l=Ke.get("Opal").$coerce_to(i.$end(),Ke.get("Integer"),"to_int"),o<0&&(o+=n.length),l<0?l+=n.length:l>=n.length&&(l=n.length-1,i.exclude&&(l+=1));var _=l-o;i.exclude?l-=1:_+=1,o<n.length&&o>=0&&l<n.length&&l>=0&&_>0&&n.splice(o,_)}return $},Ae.$$arity=-2,Ae.$$parameters=[["req","index"],["opt","length"]]),e.defn(Ve,"$sort",ze=function(){var r,a=this,$=ze.$$p,i=$||s;ze.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"sort"),(r=a.length>1)===s||null==r||r.$$is_boolean&&1!=r?a:(i===s&&(i=function(e,t){return e["$<=>"](t)}),a.slice().sort(function(e,r){var $=i(e,r);return $===s&&a.$raise(Ke.get("ArgumentError"),"comparison of "+e.$inspect()+" with "+r.$inspect()+" failed"),t($,0)?1:n($,0)?-1:0}))},ze.$$arity=0,ze.$$parameters=[["block","block"]]),e.defn(Ve,"$sort!",je=function(){var t,r,a=this,n=je.$$p,$=n||s;je.$$p=null;var i=arguments.length;0!==i&&e.ac(i,0,this,"sort!");var o;o=$!==s?(t=(r=a.slice()).$sort,t.$$p=$.$to_proc(),t).call(r):a.slice().$sort(),a.length=0;for(var l=0,c=o.length;l<c;l++)a.push(o[l]);return a},je.$$arity=0,je.$$parameters=[["block","block"]]),e.defn(Ve,"$sort_by!",Te=function(){var t,r,a,n,$=this,i=Te.$$p,o=i||s;Te.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"sort_by!"),o===s?(t=(r=$).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"sort_by!")}return t.$size()},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).call(r,"sort_by!"):$.$replace((t=(n=$).$sort_by,t.$$p=o.$to_proc(),t).call(n))},Te.$$arity=0,Te.$$parameters=[["block","block"]]),e.defn(Ve,"$take",Ie=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"take"),t<0&&r.$raise(Ke.get("ArgumentError")),r.slice(0,t)},Ie.$$arity=1,Ie.$$parameters=[["req","count"]]),e.defn(Ve,"$take_while",Ce=function(){var t=this,r=Ce.$$p,a=r||s;Ce.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"take_while");for(var $,i,o=[],l=0,c=t.length;l<c;l++){if($=t[l],!1===(i=a($))||i===s)return o;o.push($)}return o},Ce.$$arity=0,Ce.$$parameters=[["block","block"]]),e.defn(Ve,"$to_a",Pe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t},Pe.$$arity=0,Pe.$$parameters=[]),e.alias(Ve,"to_ary","to_a"),e.defn(Ve,"$to_h",Ne=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_h");var a,n,$,i,s=t.length,o=l([],{});for(a=0;a<s;a++)n=Ke.get("Opal")["$coerce_to?"](t[a],Ke.get("Array"),"to_ary"),n.$$is_array||t.$raise(Ke.get("TypeError"),"wrong element type "+n.$class()+" at "+a+" (expected array)"),2!==n.length&&t.$raise(Ke.get("ArgumentError"),"wrong array length at "+a+" (expected 2, was "+n.$length()+")"),$=n[0],i=n[1],e.hash_put(o,$,i);return o},Ne.$$arity=0,Ne.$$parameters=[]),e.alias(Ve,"to_s","inspect"),e.defn(Ve,"$transpose",Fe=function(){var t,r,a,n=this,$=s,i=s,o=arguments.length;return 0!==o&&e.ac(o,0,this,"transpose"),(t=n["$empty?"]())===s||null==t||t.$$is_boolean&&1!=t?($=[],i=s,(t=(r=n).$each,t.$$p=(a=function(t){var r,n,o,l=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"transpose")}return t=(r=Ke.get("Array")["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a(),!1!==(r=i)&&r!==s&&null!=r||(i=t.length),(r=t.length["$!="](i))===s||null==r||r.$$is_boolean&&1!=r||l.$raise(Ke.get("IndexError"),"element size differs ("+t.length+" should be "+i),(r=(n=t.length).$times,r.$$p=(o=function(r){var a,n,i,l=(o.$$s,s);if(null==r&&(r=s),o.$$is_lambda||o.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"transpose")}return a=r,n=$,l=!1!==(i=n["$[]"](a))&&i!==s&&null!=i?i:n["$[]="](a,[]),l["$<<"](t.$at(r))},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","i"]],o),r).call(n)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","row"]],a),t).call(r),$):[]},Fe.$$arity=0,Fe.$$parameters=[]),e.defn(Ve,"$uniq",De=function(){var t=this,r=De.$$p,a=r||s;De.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"uniq");var $,i,o,c,_=l([],{});if(a===s)for($=0,i=t.length;$<i;$++)o=t[$],e.hash_get(_,o)===undefined&&e.hash_put(_,o,o);else for($=0,i=t.length;$<i;$++)o=t[$],c=e.yield1(a,o),e.hash_get(_,c)===undefined&&e.hash_put(_,c,o);return u(_.$values(),t.$class())},De.$$arity=0,De.$$parameters=[["block","block"]]),e.defn(Ve,"$uniq!",Be=function(){var t=this,r=Be.$$p,a=r||s;Be.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"uniq!");var $,i,o,c,u=t.length,_=l([],{});for($=0,i=u;$<i;$++)o=t[$],c=a===s?o:e.yield1(a,o),e.hash_get(_,c)!==undefined?(t.splice($,1),i--,$--):e.hash_put(_,c,o);return t.length===u?s:t},Be.$$arity=0,Be.$$parameters=[["block","block"]]),e.defn(Ve,"$unshift",He=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var $=e.length-1;$>=0;$--)t.unshift(e[$]);return t},He.$$arity=-1,He.$$parameters=[["rest","objects"]]),e.defn(Ve,"$values_at",Le=function(){var t,r,a,n,$=this,i=s,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return i=[],(t=(r=n).$each,t.$$p=(a=function(t){var r,n,$,o=a.$$s||this,l=s,c=s,u=s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"values_at")}return(r=t["$kind_of?"](Ke.get("Range")))===s||null==r||r.$$is_boolean&&1!=r?(u=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),i["$<<"](o.$at(u))):(l=Ke.get("Opal").$coerce_to(t.$last(),Ke.get("Integer"),"to_int"),(c=Ke.get("Opal").$coerce_to(t.$first(),Ke.get("Integer"),"to_int"))<0?(c+=o.length,s):(l<0&&(l+=o.length),t["$exclude_end?"]()&&l--,l<c?s:(r=(n=c).$upto,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"values_at")}return i["$<<"](r.$at(t))},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","i"]],$),r).call(n,l)))},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","elem"]],a),t).call(r),i},Le.$$arity=-1,Le.$$parameters=[["rest","args"]]),e.defn(Ve,"$zip",Ue=function(){var e,t,r=this,a=Ue.$$p,n=a||s,$=arguments.length,i=$-0;i<0&&(i=0),t=new Array(i);for(var o=0;o<$;o++)t[o-0]=arguments[o];Ue.$$p=null;var l,c,u,_,p,d=[],h=r.length;for(_=0,p=t.length;_<p;_++)c=t[_],c.$$is_array||(c.$$is_enumerator?c.$size()===Infinity?t[_]=c.$take(h):t[_]=c.$to_a():t[_]=(!1!==(e=Ke.get("Opal")["$coerce_to?"](c,Ke.get("Array"),"to_ary"))&&e!==s&&null!=e?e:Ke.get("Opal")["$coerce_to!"](c,Ke.get("Enumerator"),"each")).$to_a());for(u=0;u<h;u++){for(l=[r[u]],_=0,p=t.length;_<p;_++)c=t[_][u],null==c&&(c=s),l[_+1]=c;d[u]=l}if(n!==s){for(u=0;u<h;u++)n(d[u]);return s}return d},Ue.$$arity=-1,Ue.$$parameters=[["rest","others"],["block","block"]]),e.defs(Ve,"$inherited",Ge=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"inherited"),t.$$proto.$to_a=function(){return this.slice(0,this.length)}},Ge.$$arity=1,Ge.$$parameters=[["req","klass"]]),e.defn(Ve,"$instance_variables",Ye=function(){var t,r,a,n,$,i=this,o=Ye.$$p,l=s,c=s;Ye.$$p=null;var u=arguments.length;for(0!==u&&e.ac(u,0,this,"instance_variables"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return(t=(r=($=i,n=e.find_super_dispatcher(i,"instance_variables",Ye,!1),n.$$p=o,n).apply($,l)).$reject,t.$$p=(a=function(t){var r;a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"instance_variables")}return!1!==(r=/^@\d+$/.test(t))&&r!==s&&null!=r?r:t["$=="]("@length")},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","ivar"]],a),t).call(r)},Ye.$$arity=0,Ye.$$parameters=[]),Ke.get("Opal").$pristine(Ve,"allocate","copy_instance_variables","initialize_dup")}(i.base,Array)},Opal.modules["corelib/hash"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$==","$coerce_to!","$lambda?","$abs","$arity","$call","$enum_for","$size","$inspect","$flatten","$eql?","$default","$to_proc","$dup","$===","$default_proc","$default_proc=","$default=","$alias_method"]),t.$require("corelib/enumerable"),function(t,$super){function r(){}var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z=r=n(t,$super,"Hash",r),J=Z.$$proto,Q=Z.$$scope;Z.$include(Q.get("Enumerable")),J.$$is_hash=!0,e.defs(Z,"$[]",$=function(){var e,t=this,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<r;$++)e[$-0]=arguments[$];var i,s,o=e.length;if(1===o){if((i=Q.get("Opal")["$coerce_to?"](e["$[]"](0),Q.get("Hash"),"to_hash"))!==a)return t.$allocate()["$merge!"](i);for(e=Q.get("Opal")["$coerce_to?"](e["$[]"](0),Q.get("Array"),"to_ary"),e===a&&t.$raise(Q.get("ArgumentError"),"odd number of arguments for Hash"),o=e.length,i=t.$allocate(),s=0;s<o;s++)if(e[s].$$is_array)switch(e[s].length){case 1:i.$store(e[s][0],a);break;case 2:i.$store(e[s][0],e[s][1]);break;default:
t.$raise(Q.get("ArgumentError"),"invalid number of elements ("+e[s].length+" for 1..2)")}return i}for(o%2!=0&&t.$raise(Q.get("ArgumentError"),"odd number of arguments for Hash"),i=t.$allocate(),s=0;s<o;s+=2)i.$store(e[s],e[s+1]);return i},$.$$arity=-1,$.$$parameters=[["rest","argv"]]),e.defs(Z,"$allocate",i=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"allocate");var n=new t.$$alloc;return e.hash_init(n),n.$$none=a,n.$$proc=a,n},i.$$arity=0,i.$$parameters=[]),e.defs(Z,"$try_convert",s=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),Q.get("Opal")["$coerce_to?"](t,Q.get("Hash"),"to_hash")},s.$$arity=1,s.$$parameters=[["req","obj"]]),e.defn(Z,"$initialize",o=function(t){var r=this,n=o.$$p,$=n||a;o.$$p=null;var i=arguments.length;return i>1&&e.ac(i,-1,this,"initialize"),t!==undefined&&$!==a&&r.$raise(Q.get("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===undefined?a:t,r.$$proc=$,r},o.$$arity=-1,o.$$parameters=[["opt","defaults"],["block","block"]]),e.defn(Z,"$==",l=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"=="),r===t)return!0;if(!t.$$is_hash)return!1;if(r.$$keys.length!==t.$$keys.length)return!1;for(var n,$,i,s=0,o=r.$$keys,l=o.length;s<l;s++)if(n=o[s],n.$$is_string?($=r.$$smap[n],i=t.$$smap[n]):($=n.value,i=e.hash_get(t,n.key)),i===undefined||!$["$eql?"](i))return!1;return!0},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(Z,"$[]",c=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"[]");var n=e.hash_get(r,t);return n!==undefined?n:r.$default(t)},c.$$arity=1,c.$$parameters=[["req","key"]]),e.defn(Z,"$[]=",u=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"[]="),e.hash_put(a,t,r),r},u.$$arity=2,u.$$parameters=[["req","key"],["req","value"]]),e.defn(Z,"$assoc",_=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"assoc");for(var $,i=0,s=r.$$keys,o=s.length;i<o;i++)if($=s[i],$.$$is_string){if($["$=="](t))return[$,r.$$smap[$]]}else if($.key["$=="](t))return[$.key,$.value];return a},_.$$arity=1,_.$$parameters=[["req","object"]]),e.defn(Z,"$clear",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),e.hash_init(t),t},p.$$arity=0,p.$$parameters=[]),e.defn(Z,"$clone",d=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"clone");var a=new t.$$class.$$alloc;return e.hash_init(a),e.hash_clone(t,a),a},d.$$arity=0,d.$$parameters=[]),e.defn(Z,"$default",h=function(t){var r=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"default"),t!==undefined&&r.$$proc!==a&&r.$$proc!==undefined?r.$$proc.$call(r,t):r.$$none===undefined?a:r.$$none},h.$$arity=-1,h.$$parameters=[["opt","key"]]),e.defn(Z,"$default=",f=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"default="),r.$$proc=a,r.$$none=t,t},f.$$arity=1,f.$$parameters=[["req","object"]]),e.defn(Z,"$default_proc",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"default_proc"),t.$$proc!==undefined?t.$$proc:a},m.$$arity=0,m.$$parameters=[]),e.defn(Z,"$default_proc=",g=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"default_proc="),t!==a&&(t=Q.get("Opal")["$coerce_to!"](t,Q.get("Proc"),"to_proc"),t["$lambda?"]()&&2!==t.$arity().$abs()&&r.$raise(Q.get("TypeError"),"default_proc takes two arguments")),r.$$none=a,r.$$proc=t,t},g.$$arity=1,g.$$parameters=[["req","proc"]]),e.defn(Z,"$delete",b=function(t){var r=this,n=b.$$p,$=n||a;b.$$p=null;var i=arguments.length;1!==i&&e.ac(i,1,this,"delete");var s=e.hash_delete(r,t);return s!==undefined?s:$!==a?$.$call(t):a},b.$$arity=1,b.$$parameters=[["req","key"],["block","block"]]),e.defn(Z,"$delete_if",v=function(){var t,r,n,$=this,i=v.$$p,s=i||a;v.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"delete_if"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"delete_if")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"delete_if");for(var l,c,u,_=0,p=$.$$keys,d=p.length;_<d;_++)l=p[_],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a&&e.hash_delete($,l)!==undefined&&(d--,_--);return $},v.$$arity=0,v.$$parameters=[["block","block"]]),e.alias(Z,"dup","clone"),e.defn(Z,"$each",y=function(){var t,r,n,$=this,i=y.$$p,s=i||a;y.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"each");for(var l,c,u=0,_=$.$$keys,p=_.length;u<p;u++)l=_[u],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),e.yield1(s,[l,c]);return $},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(Z,"$each_key",x=function(){var t,r,n,$=this,i=x.$$p,s=i||a;x.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_key"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_key")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"each_key");for(var l,c=0,u=$.$$keys,_=u.length;c<_;c++)l=u[c],s(l.$$is_string?l:l.key);return $},x.$$arity=0,x.$$parameters=[["block","block"]]),e.alias(Z,"each_pair","each"),e.defn(Z,"$each_value",k=function(){var t,r,n,$=this,i=k.$$p,s=i||a;k.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_value"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_value")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"each_value");for(var l,c=0,u=$.$$keys,_=u.length;c<_;c++)l=u[c],s(l.$$is_string?$.$$smap[l]:l.value);return $},k.$$arity=0,k.$$parameters=[["block","block"]]),e.defn(Z,"$empty?",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.$$keys.length},w.$$arity=0,w.$$parameters=[]),e.alias(Z,"eql?","=="),e.defn(Z,"$fetch",q=function(t,r){var n=this,$=q.$$p,i=$||a;q.$$p=null;var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"fetch");var o=e.hash_get(n,t);return o!==undefined?o:i!==a?i(t):r!==undefined?r:n.$raise(Q.get("KeyError"),"key not found: "+t.$inspect())},q.$$arity=-2,q.$$parameters=[["req","key"],["opt","defaults"],["block","block"]]),e.defn(Z,"$flatten",S=function(t){var r=this;null==t&&(t=1);var a=arguments.length;a>1&&e.ac(a,-1,this,"flatten"),t=Q.get("Opal")["$coerce_to!"](t,Q.get("Integer"),"to_int");for(var n,$,i=[],s=0,o=r.$$keys,l=o.length;s<l;s++)if(n=o[s],n.$$is_string?$=r.$$smap[n]:($=n.value,n=n.key),i.push(n),$.$$is_array){if(1===t){i.push($);continue}i=i.concat($.$flatten(t-2))}else i.push($);return i},S.$$arity=-1,S.$$parameters=[["opt","level"]]),e.defn(Z,"$has_key?",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"has_key?"),e.hash_get(r,t)!==undefined},E.$$arity=1,E.$$parameters=[["req","key"]]),e.defn(Z,"$has_value?",R=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_value?");for(var n,$=0,i=r.$$keys,s=i.length;$<s;$++)if(n=i[$],(n.$$is_string?r.$$smap[n]:n.value)["$=="](t))return!0;return!1},R.$$arity=1,R.$$parameters=[["req","value"]]),e.defn(Z,"$hash",O=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"hash");var a,n,$=e.hash_ids===undefined,i=t.$object_id(),s=["Hash"];try{if($&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(i))return"self";for(a in e.hash_ids)if(e.hash_ids.hasOwnProperty(a)&&(n=e.hash_ids[a],t["$eql?"](n)))return"self";e.hash_ids[i]=t;for(var o=0,l=t.$$keys,c=l.length;o<c;o++)a=l[o],a.$$is_string?s.push([a,t.$$smap[a].$hash()]):s.push([a.key_hash,a.value.$hash()]);return s.sort().join()}finally{$&&delete e.hash_ids}},O.$$arity=0,O.$$parameters=[]),e.alias(Z,"include?","has_key?"),e.defn(Z,"$index",M=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"index");for(var $,i,s=0,o=r.$$keys,l=o.length;s<l;s++)if($=o[s],$.$$is_string?i=r.$$smap[$]:(i=$.value,$=$.key),i["$=="](t))return $;return a},M.$$arity=1,M.$$parameters=[["req","object"]]),e.defn(Z,"$indexes",A=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];for(var i,s,o=[],l=0,c=t.length;l<c;l++)i=t[l],s=e.hash_get(r,i),s!==undefined?o.push(s):o.push(r.$default());return o},A.$$arity=-1,A.$$parameters=[["rest","args"]]),e.alias(Z,"indices","indexes");var ee;return e.defn(Z,"$inspect",z=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");var a=ee===undefined,n=t.$object_id(),$=[];try{if(a&&(ee={}),ee.hasOwnProperty(n))return"{...}";ee[n]=!0;for(var i,s,o=0,l=t.$$keys,c=l.length;o<c;o++)i=l[o],i.$$is_string?s=t.$$smap[i]:(s=i.value,i=i.key),$.push(i.$inspect()+"=>"+s.$inspect());return"{"+$.join(", ")+"}"}finally{a&&(ee=undefined)}},z.$$arity=0,z.$$parameters=[]),e.defn(Z,"$invert",j=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"invert");for(var a,n,$=e.hash(),i=0,s=t.$$keys,o=s.length;i<o;i++)a=s[i],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),e.hash_put($,n,a);return $},j.$$arity=0,j.$$parameters=[]),e.defn(Z,"$keep_if",T=function(){var t,r,n,$=this,i=T.$$p,s=i||a;T.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"keep_if"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"keep_if")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"keep_if");for(var l,c,u,_=0,p=$.$$keys,d=p.length;_<d;_++)l=p[_],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a||e.hash_delete($,l)!==undefined&&(d--,_--);return $},T.$$arity=0,T.$$parameters=[["block","block"]]),e.alias(Z,"key","index"),e.alias(Z,"key?","has_key?"),e.defn(Z,"$keys",I=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"keys");for(var a,n=[],$=0,i=t.$$keys,s=i.length;$<s;$++)a=i[$],a.$$is_string?n.push(a):n.push(a.key);return n},I.$$arity=0,I.$$parameters=[]),e.defn(Z,"$length",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.$$keys.length},C.$$arity=0,C.$$parameters=[]),e.alias(Z,"member?","has_key?"),e.defn(Z,"$merge",P=function(t){var r,n,$=this,i=P.$$p,s=i||a;P.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"merge"),(r=(n=$.$dup())["$merge!"],r.$$p=s.$to_proc(),r).call(n,t)},P.$$arity=1,P.$$parameters=[["req","other"],["block","block"]]),e.defn(Z,"$merge!",N=function(t){var r=this,n=N.$$p,$=n||a;N.$$p=null;var i=arguments.length;1!==i&&e.ac(i,1,this,"merge!"),Q.get("Hash")["$==="](t)||(t=Q.get("Opal")["$coerce_to!"](t,Q.get("Hash"),"to_hash"));var s,o,l,c,u=t.$$keys,_=u.length;if($===a){for(s=0;s<_;s++)o=u[s],o.$$is_string?c=t.$$smap[o]:(c=o.value,o=o.key),e.hash_put(r,o,c);return r}for(s=0;s<_;s++)o=u[s],o.$$is_string?c=t.$$smap[o]:(c=o.value,o=o.key),l=e.hash_get(r,o),l!==undefined?e.hash_put(r,o,$(o,l,c)):e.hash_put(r,o,c);return r},N.$$arity=1,N.$$parameters=[["req","other"],["block","block"]]),e.defn(Z,"$rassoc",F=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"rassoc");for(var $,i,s=0,o=r.$$keys,l=o.length;s<l;s++)if($=o[s],$.$$is_string?i=r.$$smap[$]:(i=$.value,$=$.key),i["$=="](t))return[$,i];return a},F.$$arity=1,F.$$parameters=[["req","object"]]),e.defn(Z,"$rehash",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rehash"),e.hash_rehash(t),t},D.$$arity=0,D.$$parameters=[]),e.defn(Z,"$reject",B=function(){var t,r,n,$=this,i=B.$$p,s=i||a;B.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"reject"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reject")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"reject");for(var l,c,u,_=e.hash(),p=0,d=$.$$keys,h=d.length;p<h;p++)l=d[p],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a||e.hash_put(_,l,c);return _},B.$$arity=0,B.$$parameters=[["block","block"]]),e.defn(Z,"$reject!",H=function(){var t,r,n,$=this,i=H.$$p,s=i||a;H.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"reject!"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"reject!")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"reject!");for(var l,c,u,_=!1,p=0,d=$.$$keys,h=d.length;p<h;p++)l=d[p],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a&&e.hash_delete($,l)!==undefined&&(_=!0,h--,p--);return _?$:a},H.$$arity=0,H.$$parameters=[["block","block"]]),e.defn(Z,"$replace",L=function(t){var r,n,$=this,i=arguments.length;1!==i&&e.ac(i,1,this,"replace"),t=Q.get("Opal")["$coerce_to!"](t,Q.get("Hash"),"to_hash"),e.hash_init($);for(var s,o,l=0,c=t.$$keys,u=c.length;l<u;l++)s=c[l],s.$$is_string?o=t.$$smap[s]:(o=s.value,s=s.key),e.hash_put($,s,o);return(r=t.$default_proc())===a||null==r||r.$$is_boolean&&1!=r?(r=[t.$default()],n=$,n["$default="].apply(n,r),r[r.length-1]):(r=[t.$default_proc()],n=$,n["$default_proc="].apply(n,r),r[r.length-1]),$},L.$$arity=1,L.$$parameters=[["req","other"]]),e.defn(Z,"$select",U=function(){var t,r,n,$=this,i=U.$$p,s=i||a;U.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"select"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"select")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"select");for(var l,c,u,_=e.hash(),p=0,d=$.$$keys,h=d.length;p<h;p++)l=d[p],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a&&e.hash_put(_,l,c);return _},U.$$arity=0,U.$$parameters=[["block","block"]]),e.defn(Z,"$select!",G=function(){var t,r,n,$=this,i=G.$$p,s=i||a;G.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"select!"),!1===s||s===a||null==s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"select!")}return t.$size()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r,"select!");for(var l,c,u,_=a,p=0,d=$.$$keys,h=d.length;p<h;p++)l=d[p],l.$$is_string?c=$.$$smap[l]:(c=l.value,l=l.key),!1!==(u=s(l,c))&&u!==a||(e.hash_delete($,l)!==undefined&&(h--,p--),_=$);return _},G.$$arity=0,G.$$parameters=[["block","block"]]),e.defn(Z,"$shift",Y=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"shift");var n,$=t.$$keys;return $.length>0?(n=$[0],n=n.$$is_string?n:n.key,[n,e.hash_delete(t,n)]):t.$default(a)},Y.$$arity=0,Y.$$parameters=[]),e.alias(Z,"size","length"),Z.$alias_method("store","[]="),e.defn(Z,"$to_a",V=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_a");for(var a,n,$=[],i=0,s=t.$$keys,o=s.length;i<o;i++)a=s[i],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),$.push([a,n]);return $},V.$$arity=0,V.$$parameters=[]),e.defn(Z,"$to_h",X=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"to_h"),t.$$class===e.Hash)return t;var a=new e.Hash.$$alloc;return e.hash_init(a),e.hash_clone(t,a),a},X.$$arity=0,X.$$parameters=[]),e.defn(Z,"$to_hash",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_hash"),t},K.$$arity=0,K.$$parameters=[]),e.alias(Z,"to_s","inspect"),e.alias(Z,"update","merge!"),e.alias(Z,"value?","has_value?"),e.alias(Z,"values_at","indexes"),e.defn(Z,"$values",W=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"values");for(var a,n=[],$=0,i=t.$$keys,s=i.length;$<s;$++)a=i[$],a.$$is_string?n.push(t.$$smap[a]):n.push(a.value);return n},W.$$arity=0,W.$$parameters=[]),a&&"values"}(r.base,null)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var l=e.top,c=e,u=e.nil,_=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),l.$require("corelib/numeric"),function(l,$super){function c(){}var p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce,ue,_e,pe,de,he,fe,me,ge,be,ve,ye,xe,ke=c=_(l,$super,"Number",c),we=(ke.$$proto,ke.$$scope);we.get("Opal").$bridge(ke,Number),Number.prototype.$$is_number=!0,e.defn(ke,"$coerce",p=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"coerce"),t===u)r.$raise(we.get("TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[r.$Float(t),r];if(t["$respond_to?"]("to_f"))return[we.get("Opal")["$coerce_to!"](t,we.get("Float"),"to_f"),r];if(t.$$is_number)return[t,r];r.$raise(we.get("TypeError"),"can't convert "+t.$class()+" into Float")}},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(ke,"$__id__",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),2*t+1},d.$$arity=0,d.$$parameters=[]),e.alias(ke,"object_id","__id__"),e.defn(ke,"$+",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),t.$$is_number?r+t:r.$__coerced__("+",t)},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(ke,"$-",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"-"),t.$$is_number?r-t:r.$__coerced__("-",t)},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(ke,"$*",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"*"),t.$$is_number?r*t:r.$__coerced__("*",t)},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(ke,"$/",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"/"),t.$$is_number?r/t:r.$__coerced__("/",t)},g.$$arity=1,g.$$parameters=[["req","other"]]),e.alias(ke,"fdiv","/"),e.defn(ke,"$%",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"%"),t.$$is_number?t==-Infinity?t:0!=t?t<0||r<0?(r%t+t)%t:r%t:void r.$raise(we.get("ZeroDivisionError"),"divided by 0"):r.$__coerced__("%",t)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(ke,"$&",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"&"),t.$$is_number?r&t:r.$__coerced__("&",t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(ke,"$|",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"|"),t.$$is_number?r|t:r.$__coerced__("|",t)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(ke,"$^",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"^"),t.$$is_number?r^t:r.$__coerced__("^",t)},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(ke,"$<",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<"),t.$$is_number?r<t:r.$__coerced__("<",t)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(ke,"$<=",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<="),t.$$is_number?r<=t:r.$__coerced__("<=",t)},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(ke,"$>",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">"),t.$$is_number?r>t:r.$__coerced__(">",t)},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(ke,"$>=",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">="),t.$$is_number?r>=t:r.$__coerced__(">=",t)},S.$$arity=1,S.$$parameters=[["req","other"]]);var qe=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?u:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};e.defn(ke,"$<=>",E=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"<=>");try{return qe(r,t)}catch(t){if(!e.rescue(t,[we.get("ArgumentError")]))throw t;try{return u}finally{e.pop_exception()}}},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(ke,"$<<",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),t=we.get("Opal")["$coerce_to!"](t,we.get("Integer"),"to_int"),t>0?r<<t:r>>-t},R.$$arity=1,R.$$parameters=[["req","count"]]),e.defn(ke,"$>>",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">>"),t=we.get("Opal")["$coerce_to!"](t,we.get("Integer"),"to_int"),t>0?r>>t:r<<-t},O.$$arity=1,O.$$parameters=[["req","count"]]),e.defn(ke,"$[]",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),t=we.get("Opal")["$coerce_to!"](t,we.get("Integer"),"to_int"),t<0?0:t>=32?r<0?1:0:r>>t&1},M.$$arity=1,M.$$parameters=[["req","bit"]]),e.defn(ke,"$+@",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"+@"),+t},A.$$arity=0,A.$$parameters=[]),e.defn(ke,"$-@",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"-@"),-t},z.$$arity=0,z.$$parameters=[]),e.defn(ke,"$~",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"~"),~t},j.$$arity=0,j.$$parameters=[]),e.defn(ke,"$**",T=function(a){var n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"**"),(n=we.get("Integer")["$==="](a))===u||null==n||n.$$is_boolean&&1!=n?(n=($=r(s,0))?!1!==(i=we.get("Float")["$==="](a))&&i!==u&&null!=i?i:we.get("Rational")["$==="](a):r(s,0))===u||null==n||n.$$is_boolean&&1!=n?(n=null!=a.$$is_number)===u||null==n||n.$$is_boolean&&1!=n?s.$__coerced__("**",a):Math.pow(s,a):we.get("Complex").$new(s,0)["$**"](a.$to_f()):(n=!1!==($=we.get("Integer")["$==="](s)["$!"]())&&$!==u&&null!=$?$:t(a,0))===u||null==n||n.$$is_boolean&&1!=n?we.get("Rational").$new(s,1)["$**"](a):Math.pow(s,a)},T.$$arity=1,T.$$parameters=[["req","other"]]),e.defn(ke,"$==",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$$is_number?r==Number(t):!!t["$respond_to?"]("==")&&t["$=="](r)},I.$$arity=1,I.$$parameters=[["req","other"]]),e.defn(ke,"$abs",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),Math.abs(t)},C.$$arity=0,C.$$parameters=[]),e.defn(ke,"$abs2",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs2"),Math.abs(t*t)},P.$$arity=0,P.$$parameters=[]),e.defn(ke,"$angle",N=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"angle"),(t=r["$nan?"]())===u||null==t||t.$$is_boolean&&1!=t?0==r?1/r>0?0:Math.PI:r<0?Math.PI:0:r},N.$$arity=0,N.$$parameters=[]),e.alias(ke,"arg","angle"),e.alias(ke,"phase","angle"),e.defn(ke,"$bit_length",F=function(){var t,r=this,a=arguments.length;if(0!==a&&e.ac(a,0,this,"bit_length"),((t=we.get("Integer")["$==="](r))===u||null==t||t.$$is_boolean&&1!=t)&&r.$raise(we.get("NoMethodError").$new("undefined method `bit_length` for "+r+":Float","bit_length")),0===r||-1===r)return 0;for(var n=0,$=r<0?~r:r;0!=$;)n+=1,$>>>=1;return n},F.$$arity=0,F.$$parameters=[]),e.defn(ke,"$ceil",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ceil"),Math.ceil(t)},D.$$arity=0,D.$$parameters=[]),e.defn(ke,"$chr",B=function(){var t=this,r=arguments.length;return r>1&&e.ac(r,-1,this,"chr"),String.fromCharCode(t)},B.$$arity=-1,B.$$parameters=[["opt","encoding"]]),e.defn(ke,"$denominator",H=function(){var t,r,a=this,n=H.$$p,$=u,i=u;H.$$p=null;var s=arguments.length;for(0!==s&&e.ac(s,0,this,"denominator"),$=[],i=0;i<arguments.length;i++)$[i]=arguments[i];return(t=!1!==(r=a["$nan?"]())&&r!==u&&null!=r?r:a["$infinite?"]())===u||null==t||t.$$is_boolean&&1!=t?(r=a,t=e.find_super_dispatcher(a,"denominator",H,!1),t.$$p=n,t).apply(r,$):1},H.$$arity=0,H.$$parameters=[]),e.defn(ke,"$downto",L=function(r){var $,i,s,o=this,l=L.$$p,c=l||u;L.$$p=null;var _=arguments.length;if(1!==_&&e.ac(_,1,this,"downto"),c===u)return($=(i=o).$enum_for,$.$$p=(s=function(){var $,i=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"downto")}return(($=we.get("Numeric")["$==="](r))===u||null==$||$.$$is_boolean&&1!=$)&&i.$raise(we.get("ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed"),($=t(r,i))===u||null==$||$.$$is_boolean&&1!=$?a(n(i,r),1):0},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),$).call(i,"downto",r);r.$$is_number||o.$raise(we.get("ArgumentError"),"comparison of "+o.$class()+" with "+r.$class()+" failed");for(var p=o;p>=r;p--)c(p);return o},L.$$arity=1,L.$$parameters=[["req","stop"],["block","block"]]),e.alias(ke,"eql?","=="),e.defn(ke,"$equal?",U=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"equal?"),!1!==(r=a["$=="](t))&&r!==u&&null!=r?r:isNaN(a)&&isNaN(t)},U.$$arity=1,U.$$parameters=[["req","other"]]),e.defn(ke,"$even?",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"even?"),t%2==0},G.$$arity=0,G.$$parameters=[]),e.defn(ke,"$floor",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"floor"),Math.floor(t)},Y.$$arity=0,Y.$$parameters=[]),e.defn(ke,"$gcd",V=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"gcd"),((r=we.get("Integer")["$==="](t))===u||null==r||r.$$is_boolean&&1!=r)&&a.$raise(we.get("TypeError"),"not an integer");for(var $=Math.abs(a),i=Math.abs(t);$>0;){var s=$;$=i%$,i=s}return i},V.$$arity=1,V.$$parameters=[["req","other"]]),e.defn(ke,"$gcdlcm",X=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"gcdlcm"),[t.$gcd(),t.$lcm()]},X.$$arity=1,X.$$parameters=[["req","other"]]),e.defn(ke,"$integer?",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"integer?"),t%1==0},K.$$arity=0,K.$$parameters=[]),e.defn(ke,"$is_a?",W=function(t){var r,a,n=this,$=W.$$p,i=u,s=u;W.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"is_a?"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return!((r=(a=t["$=="](we.get("Fixnum")))?we.get("Integer")["$==="](n):t["$=="](we.get("Fixnum")))===u||null==r||r.$$is_boolean&&1!=r)||(!((r=(a=t["$=="](we.get("Integer")))?we.get("Integer")["$==="](n):t["$=="](we.get("Integer")))===u||null==r||r.$$is_boolean&&1!=r)||(!((r=(a=t["$=="](we.get("Float")))?we.get("Float")["$==="](n):t["$=="](we.get("Float")))===u||null==r||r.$$is_boolean&&1!=r)||(a=n,r=e.find_super_dispatcher(n,"is_a?",W,!1),r.$$p=$,r).apply(a,i)))},W.$$arity=1,W.$$parameters=[["req","klass"]]),e.alias(ke,"kind_of?","is_a?"),e.defn(ke,"$instance_of?",Z=function(t){var r,a,n=this,$=Z.$$p,i=u,s=u;Z.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"instance_of?"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return!((r=(a=t["$=="](we.get("Fixnum")))?we.get("Integer")["$==="](n):t["$=="](we.get("Fixnum")))===u||null==r||r.$$is_boolean&&1!=r)||(!((r=(a=t["$=="](we.get("Integer")))?we.get("Integer")["$==="](n):t["$=="](we.get("Integer")))===u||null==r||r.$$is_boolean&&1!=r)||(!((r=(a=t["$=="](we.get("Float")))?we.get("Float")["$==="](n):t["$=="](we.get("Float")))===u||null==r||r.$$is_boolean&&1!=r)||(a=n,r=e.find_super_dispatcher(n,"instance_of?",Z,!1),r.$$p=$,r).apply(a,i)))},Z.$$arity=1,Z.$$parameters=[["req","klass"]]),e.defn(ke,"$lcm",J=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"lcm"),((r=we.get("Integer")["$==="](t))===u||null==r||r.$$is_boolean&&1!=r)&&a.$raise(we.get("TypeError"),"not an integer"),0==a||0==t?0:Math.abs(a*t/a.$gcd(t))},J.$$arity=1,J.$$parameters=[["req","other"]]),e.alias(ke,"magnitude","abs"),e.alias(ke,"modulo","%"),e.defn(ke,"$next",Q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"next"),t+1},Q.$$arity=0,Q.$$parameters=[]),e.defn(ke,"$nonzero?",ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"nonzero?"),0==t?u:t},ee.$$arity=0,ee.$$parameters=[]),e.defn(ke,"$numerator",te=function(){var t,r,a=this,n=te.$$p,$=u,i=u;te.$$p=null;var s=arguments.length;for(0!==s&&e.ac(s,0,this,"numerator"),$=[],i=0;i<arguments.length;i++)$[i]=arguments[i];return(t=!1!==(r=a["$nan?"]())&&r!==u&&null!=r?r:a["$infinite?"]())===u||null==t||t.$$is_boolean&&1!=t?(r=a,t=e.find_super_dispatcher(a,"numerator",te,!1),t.$$p=n,t).apply(r,$):a},te.$$arity=0,te.$$parameters=[]),e.defn(ke,"$odd?",re=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"odd?"),t%2!=0},re.$$arity=0,re.$$parameters=[]),e.defn(ke,"$ord",ae=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ord"),t},ae.$$arity=0,ae.$$parameters=[]),e.defn(ke,"$pred",ne=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pred"),t-1},ne.$$arity=0,ne.$$parameters=[]),e.defn(ke,"$quo",$e=function(t){var r,a,n=this,i=$e.$$p,s=u,o=u;$e.$$p=null;var l=arguments.length;for(1!==l&&e.ac(l,1,this,"quo"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=we.get("Integer")["$==="](n))===u||null==r||r.$$is_boolean&&1!=r?$(n,t):(a=n,r=e.find_super_dispatcher(n,"quo",$e,!1),r.$$p=i,r).apply(a,s)},$e.$$arity=1,$e.$$parameters=[["req","other"]]),e.defn(ke,"$rationalize",ie=function(t){var r,a,$=this,s=u,o=u,l=arguments.length;return l>1&&e.ac(l,-1,this,"rationalize"),arguments.length>1&&$.$raise(we.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(r=we.get("Integer")["$==="]($))===u||null==r||r.$$is_boolean&&1!=r?(r=$["$infinite?"]())===u||null==r||r.$$is_boolean&&1!=r?(r=$["$nan?"]())===u||null==r||r.$$is_boolean&&1!=r?(r=null==t)===u||null==r||r.$$is_boolean&&1!=r?$.$to_r().$rationalize(t):(a=we.get("Math").$frexp($),r=e.to_ary(a),s=null==r[0]?u:r[0],o=null==r[1]?u:r[1],s=we.get("Math").$ldexp(s,we.get("Float").$$scope.get("MANT_DIG")).$to_i(),o=n(o,we.get("Float").$$scope.get("MANT_DIG")),we.get("Rational").$new(i(2,s),1["$<<"](n(1,o))).$rationalize(we.get("Rational").$new(1,1["$<<"](n(1,o))))):$.$raise(we.get("FloatDomainError"),"NaN"):$.$raise(we.get("FloatDomainError"),"Infinity"):we.get("Rational").$new($,1)},ie.$$arity=-1,ie.$$parameters=[["opt","eps"]]),e.defn(ke,"$round",se=function(i){var l,c,_=this,p=u,d=arguments.length;if(d>1&&e.ac(d,-1,this,"round"),(l=we.get("Integer")["$==="](_))===u||null==l||l.$$is_boolean&&1!=l){if(c=_["$nan?"](),(l=!1!==c&&c!==u&&null!=c?null==i:c)===u||null==l||l.$$is_boolean&&1!=l||_.$raise(we.get("FloatDomainError"),"NaN"),i=we.get("Opal")["$coerce_to!"](i||0,we.get("Integer"),"to_int"),(l=s(i,0))===u||null==l||l.$$is_boolean&&1!=l){if(i["$=="](0))return Math.round(_);if((l=!1!==(c=_["$nan?"]())&&c!==u&&null!=c?c:_["$infinite?"]())!==u&&null!=l&&(!l.$$is_boolean||1==l))return _}else(l=_["$nan?"]())===u||null==l||l.$$is_boolean&&1!=l?(l=_["$infinite?"]())===u||null==l||l.$$is_boolean&&1!=l||_.$raise(we.get("FloatDomainError"),"Infinity"):_.$raise(we.get("RangeError"),"NaN");return c=we.get("Math").$frexp(_),l=e.to_ary(c),null==l[0]?u:l[0],p=null==l[1]?u:l[1],(l=o(i,n(a(we.get("Float").$$scope.get("DIG"),2),function(){return(c=t(p,0))===u||null==c||c.$$is_boolean&&1!=c?n($(p,3),1):$(p,4)}())))===u||null==l||l.$$is_boolean&&1!=l?(l=r(i,function(){return(c=t(p,0))===u||null==c||c.$$is_boolean&&1!=c?$(p,4):a($(p,3),1)}()["$-@"]()))===u||null==l||l.$$is_boolean&&1!=l?Math.round(_*Math.pow(10,i))/Math.pow(10,i):0:_}if((l=null==i)!==u&&null!=l&&(!l.$$is_boolean||1==l))return _;if(c=we.get("Float")["$==="](i),(l=!1!==c&&c!==u&&null!=c?i["$infinite?"]():c)===u||null==l||l.$$is_boolean&&1!=l||_.$raise(we.get("RangeError"),"Infinity"),i=we.get("Opal")["$coerce_to!"](i,we.get("Integer"),"to_int"),(l=r(i,we.get("Integer").$$scope.get("MIN")))===u||null==l||l.$$is_boolean&&1!=l||_.$raise(we.get("RangeError"),"out of bounds"),(l=i>=0)!==u&&null!=l&&(!l.$$is_boolean||1==l))return _;if(.415241*(i=i["$-@"]())-.125>_.$size())return 0;var h=Math.pow(10,i),f=Math.floor((Math.abs(f)+h/2)/h)*h;return _<0?-f:f},se.$$arity=-1,se.$$parameters=[["opt","ndigits"]]),e.defn(ke,"$step",oe=function(t,r){var a,n=this,$=oe.$$p,i=$||u;null==r&&(r=1),oe.$$p=null;var s=arguments.length;if((s<1||s>2)&&e.ac(s,-2,this,"step"),!1===i||i===u||null==i)return n.$enum_for("step",t,r);(a=0==r)===u||null==a||a.$$is_boolean&&1!=a||n.$raise(we.get("ArgumentError"),"step cannot be 0");var o=n;if(t===Infinity||t===-Infinity)return i(o),n;if(r>0)for(;o<=t;)i(o),o+=r;else for(;o>=t;)i(o),o+=r;return n},oe.$$arity=-2,oe.$$parameters=[["req","limit"],["opt","step"],["block","block"]]),e.alias(ke,"succ","next"),e.defn(ke,"$times",le=function(){var t,r,a,n=this,$=le.$$p,i=$||u;le.$$p=null;var s=arguments.length
;if(0!==s&&e.ac(s,0,this,"times"),!1===i||i===u||null==i)return(t=(r=n).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"times")}return t},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"times");for(var o=0;o<n;o++)i(o);return n},le.$$arity=0,le.$$parameters=[["block","block"]]),e.defn(ke,"$to_f",ce=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t},ce.$$arity=0,ce.$$parameters=[]),e.defn(ke,"$to_i",ue=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),parseInt(t,10)},ue.$$arity=0,ue.$$parameters=[]),e.alias(ke,"to_int","to_i"),e.defn(ke,"$to_r",_e=function(){var t,r,a=this,$=u,s=u,o=arguments.length;return 0!==o&&e.ac(o,0,this,"to_r"),(t=we.get("Integer")["$==="](a))===u||null==t||t.$$is_boolean&&1!=t?(r=we.get("Math").$frexp(a),t=e.to_ary(r),$=null==t[0]?u:t[0],s=null==t[1]?u:t[1],$=we.get("Math").$ldexp($,we.get("Float").$$scope.get("MANT_DIG")).$to_i(),s=n(s,we.get("Float").$$scope.get("MANT_DIG")),i($,we.get("Float").$$scope.get("RADIX")["$**"](s)).$to_r()):we.get("Rational").$new(a,1)},_e.$$arity=0,_e.$$parameters=[]),e.defn(ke,"$to_s",pe=function(a){var n,$,i=this;null==a&&(a=10);var s=arguments.length;return s>1&&e.ac(s,-1,this,"to_s"),(n=!1!==($=r(a,2))&&$!==u&&null!=$?$:t(a,36))===u||null==n||n.$$is_boolean&&1!=n||i.$raise(we.get("ArgumentError"),"base must be between 2 and 36"),i.toString(a)},pe.$$arity=-1,pe.$$parameters=[["opt","base"]]),e.alias(ke,"truncate","to_i"),e.alias(ke,"inspect","to_s"),e.defn(ke,"$divmod",de=function(t){var r,a,n=this,$=de.$$p,i=u,s=u;de.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"divmod"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(r=!1!==(a=n["$nan?"]())&&a!==u&&null!=a?a:t["$nan?"]())===u||null==r||r.$$is_boolean&&1!=r?(r=n["$infinite?"]())===u||null==r||r.$$is_boolean&&1!=r?(a=n,r=e.find_super_dispatcher(n,"divmod",de,!1),r.$$p=$,r).apply(a,i):n.$raise(we.get("FloatDomainError"),"Infinity"):n.$raise(we.get("FloatDomainError"),"NaN")},de.$$arity=1,de.$$parameters=[["req","other"]]),e.defn(ke,"$upto",he=function(t){var $,i,s,o=this,l=he.$$p,c=l||u;he.$$p=null;var _=arguments.length;if(1!==_&&e.ac(_,1,this,"upto"),c===u)return($=(i=o).$enum_for,$.$$p=(s=function(){var $,i=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"upto")}return(($=we.get("Numeric")["$==="](t))===u||null==$||$.$$is_boolean&&1!=$)&&i.$raise(we.get("ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed"),($=r(t,i))===u||null==$||$.$$is_boolean&&1!=$?a(n(t,i),1):0},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),$).call(i,"upto",t);t.$$is_number||o.$raise(we.get("ArgumentError"),"comparison of "+o.$class()+" with "+t.$class()+" failed");for(var p=o;p<=t;p++)c(p);return o},he.$$arity=1,he.$$parameters=[["req","stop"],["block","block"]]),e.defn(ke,"$zero?",fe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"zero?"),0==t},fe.$$arity=0,fe.$$parameters=[]),e.defn(ke,"$size",me=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"size"),4},me.$$arity=0,me.$$parameters=[]),e.defn(ke,"$nan?",ge=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"nan?"),isNaN(t)},ge.$$arity=0,ge.$$parameters=[]),e.defn(ke,"$finite?",be=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"finite?"),t!=Infinity&&t!=-Infinity&&!isNaN(t)},be.$$arity=0,be.$$parameters=[]),e.defn(ke,"$infinite?",ve=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"infinite?"),t==Infinity?1:t==-Infinity?-1:u},ve.$$arity=0,ve.$$parameters=[]),e.defn(ke,"$positive?",ye=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive?"),t==Infinity||1/t>0},ye.$$arity=0,ye.$$parameters=[]),e.defn(ke,"$negative?",xe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),t==-Infinity||1/t<0},xe.$$arity=0,xe.$$parameters=[])}(c.base,c.get("Numeric")),e.cdecl(c,"Fixnum",c.get("Number")),function(t,$super){function r(){}var a,n=r=_(t,$super,"Integer",r),$=(n.$$proto,n.$$scope);e.defs(n,"$===",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"==="),!!t.$$is_number&&t%1==0},a.$$arity=1,a.$$parameters=[["req","other"]]),e.cdecl($,"MAX",Math.pow(2,30)-1),e.cdecl($,"MIN",-Math.pow(2,30))}(c.base,c.get("Numeric")),function(t,$super){function r(){}var a,n,$=r=_(t,$super,"Float",r),i=($.$$proto,$.$$scope);return e.defs($,"$===",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"==="),!!t.$$is_number},a.$$arity=1,a.$$parameters=[["req","other"]]),e.cdecl(i,"INFINITY",Infinity),e.cdecl(i,"MAX",Number.MAX_VALUE),e.cdecl(i,"MIN",Number.MIN_VALUE),e.cdecl(i,"NAN",NaN),e.cdecl(i,"DIG",15),e.cdecl(i,"MANT_DIG",53),e.cdecl(i,"RADIX",2),(n="undefined"!=typeof Number.EPSILON)===u||null==n||n.$$is_boolean&&1!=n?e.cdecl(i,"EPSILON",2.220446049250313e-16):e.cdecl(i,"EPSILON",Number.EPSILON)}(c.base,c.get("Numeric"))},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,$=e,i=e.nil,s=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$attr_reader","$<=>","$raise","$include?","$<=","$<","$enum_for","$upto","$to_proc","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$-","$abs","$to_i","$inspect","$[]"]),n.$require("corelib/enumerable"),function(n,$super){function $(){}var o,l,c,u,_,p,d,h,f,m,g,b,v,y=$=s(n,$super,"Range",$),x=y.$$proto,k=y.$$scope;return x.begin=x.exclude=x.end=i,y.$include(k.get("Enumerable")),x.$$is_range=!0,y.$attr_reader("begin","end"),e.defn(y,"$initialize",o=function(t,r,a){var n,$=this;null==a&&(a=!1);var s=arguments.length;return(s<2||s>3)&&e.ac(s,-3,this,"initialize"),((n=t["$<=>"](r))===i||null==n||n.$$is_boolean&&1!=n)&&$.$raise(k.get("ArgumentError")),$.begin=t,$.end=r,$.exclude=a},o.$$arity=-3,o.$$parameters=[["req","first"],["req","last"],["opt","exclude"]]),e.defn(y,"$==",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),!!t.$$is_range&&(r.exclude===t.exclude&&r.begin==t.begin&&r.end==t.end)},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(y,"$===",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),r["$include?"](t)},c.$$arity=1,c.$$parameters=[["req","value"]]),e.defn(y,"$cover?",u=function(a){var n,$,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"cover?"),n=t(s.begin,a),!1!==n&&n!==i&&null!=n?function(){return($=s.exclude)===i||null==$||$.$$is_boolean&&1!=$?t(a,s.end):r(a,s.end)}():n},u.$$arity=1,u.$$parameters=[["req","value"]]),e.defn(y,"$each",_=function(){var t,a,n,$=this,s=_.$$p,o=s||i,l=i,c=i;_.$$p=null;var u=arguments.length;if(0!==u&&e.ac(u,0,this,"each"),o===i)return $.$enum_for("each");var p,d;if($.begin.$$is_number&&$.end.$$is_number){for($.begin%1==0&&$.end%1==0||$.$raise(k.get("TypeError"),"can't iterate from Float"),p=$.begin,d=$.end+function(){return(t=$.exclude)===i||null==t||t.$$is_boolean&&1!=t?1:0}();p<d;p++)o(p);return $}if($.begin.$$is_string&&$.end.$$is_string)return(t=(a=$.begin).$upto,t.$$p=o.$to_proc(),t).call(a,$.end,$.exclude),$;for(l=$.begin,c=$.end;(n=r(l,c))!==i&&null!=n&&(!n.$$is_boolean||1==n);)e.yield1(o,l),l=l.$succ();return n=$.exclude["$!"](),(t=!1!==n&&n!==i&&null!=n?l["$=="](c):n)===i||null==t||t.$$is_boolean&&1!=t||e.yield1(o,l),$},_.$$arity=0,_.$$parameters=[["block","block"]]),e.defn(y,"$eql?",p=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"eql?"),!((r=k.get("Range")["$==="](t))===i||null==r||r.$$is_boolean&&1!=r)&&(a=n.exclude["$==="](t["$exclude_end?"]()),r=!1!==a&&a!==i&&null!=a?n.begin["$eql?"](t.$begin()):a,!1!==r&&r!==i&&null!=r?n.end["$eql?"](t.$end()):r)},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(y,"$exclude_end?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclude_end?"),t.exclude},d.$$arity=0,d.$$parameters=[]),e.alias(y,"first","begin"),e.alias(y,"include?","cover?"),e.alias(y,"last","end"),e.defn(y,"$max",h=function(){var t,r,a=this,n=h.$$p,$=n||i,s=i,o=i;h.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"max"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return $!==i?(r=a,t=e.find_super_dispatcher(a,"max",h,!1),t.$$p=n,t).apply(r,s):a.exclude?a.end-1:a.end},h.$$arity=0,h.$$parameters=[]),e.alias(y,"member?","cover?"),e.defn(y,"$min",f=function(){var t,r,a=this,n=f.$$p,$=n||i,s=i,o=i;f.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"min"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return $!==i?(r=a,t=e.find_super_dispatcher(a,"min",f,!1),t.$$p=n,t).apply(r,s):a.begin},f.$$arity=0,f.$$parameters=[]),e.alias(y,"member?","include?"),e.defn(y,"$size",m=function(){var t,n,$=this,s=i,o=i,l=i,c=arguments.length;return 0!==c&&e.ac(c,0,this,"size"),s=$.begin,o=$.end,(t=$.exclude)===i||null==t||t.$$is_boolean&&1!=t||(o=a(o,1)),n=k.get("Numeric")["$==="](s),(t=!1!==n&&n!==i&&null!=n?k.get("Numeric")["$==="](o):n)===i||null==t||t.$$is_boolean&&1!=t?i:(t=r(o,s))===i||null==t||t.$$is_boolean&&1!=t?(l=k.get("Float").$$scope.get("INFINITY"),(t=!1!==(n=l["$=="](s.$abs()))&&n!==i&&null!=n?n:o.$abs()["$=="](l))===i||null==t||t.$$is_boolean&&1!=t?(Math.abs(o-s)+1).$to_i():l):0},m.$$arity=0,m.$$parameters=[]),e.defn(y,"$step",g=function(t){var r=this;null==t&&(t=1);var a=arguments.length;return a>1&&e.ac(a,-1,this,"step"),r.$raise(k.get("NotImplementedError"))},g.$$arity=-1,g.$$parameters=[["opt","n"]]),e.defn(y,"$to_s",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.begin.$inspect()+(t.exclude?"...":"..")+t.end.$inspect()},b.$$arity=0,b.$$parameters=[]),e.alias(y,"inspect","to_s"),e.defn(y,"$marshal_load",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"marshal_load"),r.begin=t["$[]"]("begin"),r.end=t["$[]"]("end"),r.exclude=t["$[]"]("excl")},v.$$arity=1,v.$$parameters=[["req","args"]]),i&&"marshal_load"}($.base,null)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice),n=e.klass;return e.add_stubs(["$raise","$coerce_to!"]),function(t,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f=$=n(t,$super,"Proc",$),m=f.$$proto,g=f.$$scope;return m.$$is_proc=!0,m.$$is_lambda=!1,e.defs(f,"$new",i=function(){var t=this,a=i.$$p,n=a||r;i.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"new"),!1!==n&&n!==r&&null!=n||t.$raise(g.get("ArgumentError"),"tried to create a Proc object without a block"),n},i.$$arity=0,i.$$parameters=[["block","block"]]),e.defn(f,"$call",s=function(){var t,a=this,n=s.$$p,$=n||r,i=arguments.length,o=i-0;o<0&&(o=0),t=new Array(o);for(var l=0;l<i;l++)t[l-0]=arguments[l];s.$$p=null,$!==r&&(a.$$p=$);var c,u=a.$$brk;if(u)try{c=a.$$is_lambda?a.apply(null,t):e.yieldX(a,t)}catch(e){if(e===u)return u.$v;throw e}else c=a.$$is_lambda?a.apply(null,t):e.yieldX(a,t);return c},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]]),e.alias(f,"[]","call"),e.alias(f,"===","call"),e.alias(f,"yield","call"),e.defn(f,"$to_proc",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$lambda?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lambda?"),!!t.$$is_lambda},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$arity",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.$$is_curried?-1:t.$$arity},c.$$arity=0,c.$$parameters=[]),e.defn(f,"$source_location",u=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"source_location"),t.$$is_curried,r},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$binding",_=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"binding"),t.$$is_curried&&t.$raise(g.get("ArgumentError"),"Can't create Binding"),r},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$parameters",p=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"parameters"),t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var a,n,$=[];for(a=0,n=t.$$parameters.length;a<n;a++){var i=t.$$parameters[a];"req"===i[0]&&(i=["opt",i[1]]),$.push(i)}return $}return[]},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$curry",d=function(t){function r(){var e,$=a.call(arguments),i=$.length;return i>t&&n.$$is_lambda&&!n.$$is_curried&&n.$raise(g.get("ArgumentError"),"wrong number of arguments ("+i+" for "+t+")"),i>=t?n.$call.apply(n,$):(e=function(){return r.apply(null,$.concat(a.call(arguments)))},e.$$is_lambda=n.$$is_lambda,e.$$is_curried=!0,e)}var n=this,$=arguments.length;return $>1&&e.ac($,-1,this,"curry"),t===undefined?t=n.length:(t=g.get("Opal")["$coerce_to!"](t,g.get("Integer"),"to_int"),n.$$is_lambda&&t!==n.length&&n.$raise(g.get("ArgumentError"),"wrong number of arguments ("+t+" for "+n.length+")")),r.$$is_lambda=n.$$is_lambda,r.$$is_curried=!0,r},d.$$arity=-1,d.$$parameters=[["opt","arity"]]),e.defn(f,"$dup",h=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"dup");var a=t.$$original_proc||t,n=function(){return a.apply(this,arguments)};for(var $ in t)t.hasOwnProperty($)&&(n[$]=t[$]);return n},h.$$arity=0,h.$$parameters=[]),e.alias(f,"clone","dup")}(t.base,Function)},Opal.modules["corelib/method"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice),n=e.klass;return e.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(t,$super){function $(){}var i,s,o,l,c,u,_,p=$=n(t,$super,"Method",$),d=p.$$proto,h=p.$$scope;d.method=d.receiver=d.owner=d.name=r,p.$attr_reader("owner","receiver","name"),e.defn(p,"$initialize",i=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.receiver=t,n.owner=t.$class(),n.name=a,n.method=r},i.$$arity=3,i.$$parameters=[["req","receiver"],["req","method"],["req","name"]]),e.defn(p,"$arity",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.method.$arity()},s.$$arity=0,s.$$parameters=[]),e.defn(p,"$parameters",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"parameters"),t.method.$$parameters},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$call",l=function(){var e,t=this,a=l.$$p,n=a||r,$=arguments.length,i=$-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<$;s++)e[s-0]=arguments[s];return l.$$p=null,t.method.$$p=n,t.method.apply(t.receiver,e)},l.$$arity=-1,l.$$parameters=[["rest","args"],["block","block"]]),e.alias(p,"[]","call"),e.defn(p,"$unbind",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unbind"),h.get("UnboundMethod").$new(t.owner,t.method,t.name)},c.$$arity=0,c.$$parameters=[]),e.defn(p,"$to_proc",u=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_proc");var n=function(){return t.$call.apply(t,a.call(arguments))};return n.$$unbound=t.method,n.$$is_lambda=!0,n},u.$$arity=0,u.$$parameters=[]),e.defn(p,"$inspect",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Method: "+t.receiver.$class()+"#"+t.name+">"},_.$$arity=0,_.$$parameters=[])}(t.base,null),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"UnboundMethod",a),u=c.$$proto,_=c.$$scope;return u.method=u.name=u.owner=r,c.$attr_reader("owner","name"),e.defn(c,"$initialize",$=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.owner=t,n.method=r,n.name=a},$.$$arity=3,$.$$parameters=[["req","owner"],["req","method"],["req","name"]]),e.defn(c,"$arity",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.method.$arity()},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$parameters",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"parameters"),t.method.$$parameters},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$bind",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"bind"),_.get("Method").$new(t,r.method,r.name)},o.$$arity=1,o.$$parameters=[["req","object"]]),e.defn(c,"$inspect",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<UnboundMethod: "+t.owner.$name()+"#"+t.name+">"},l.$$arity=0,l.$$parameters=[]),r&&"inspect"}(t.base,null)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.gvars),n=e.hash2;return e.add_stubs(["$new"]),a["&"]=a["~"]=a["`"]=a["'"]=r,a.LOADED_FEATURES=a['"']=e.loaded_features,a.LOAD_PATH=a[":"]=[],a["/"]="\n",a[","]=r,e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",t.get("Object").$new()),e.cdecl(t,"ENV",n([],{})),a.VERBOSE=!1,a.DEBUG=!1,a.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t){var n,$=n=a(t,"Opal"),i=($.$$proto,$.$$scope);e.cdecl(i,"REGEXP_START",function(){return i.get("RUBY_ENGINE")["$=="]("opal")?"^":r}()),e.cdecl(i,"REGEXP_END",function(){return i.get("RUBY_ENGINE")["$=="]("opal")?"$":r}()),e.cdecl(i,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"INLINE_IDENTIFIER_REGEXP",i.get("Regexp").$new("[^"+i.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+i.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),e.cdecl(i,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"CONST_NAME_REGEXP",i.get("Regexp").$new(i.get("REGEXP_START")+"(::)?[A-Z][^"+i.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+i.get("REGEXP_END")))}(t.base)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,$=e,i=e.nil,s=(e.breaker,e.slice,e.klass),o=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),n.$require("corelib/string"),function(t,$super){function r(){}var a,n=r=s(t,$super,"String",r),$=(n.$$proto,n.$$scope);e.defs(n,"$inherited",a=function(t){var r=i,a=arguments.length;1!==a&&e.ac(a,1,this,"inherited"),r=$.get("Class").$new($.get("String").$$scope.get("Wrapper")),t.$$proto=r.$$proto,t.$$proto.$$class=t,t.$$alloc=r.$$alloc,t.$$parent=$.get("String").$$scope.get("Wrapper"),t.$allocate=r.$allocate,t.$new=r.$new},a.$$arity=1,a.$$parameters=[["req","klass"]])}($.base,null),function(n,$super){function $(){}var l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E=$=s(n,$super,"Wrapper",$),R=E.$$proto;E.$$scope;return R.literal=i,R.$$is_string=!0,e.defs(E,"$allocate",l=function(t){var r,a,n=this,s=(l.$$p,i);null==t&&(t=""),l.$$p=null;var o=arguments.length;return o>1&&e.ac(o,-1,this,"allocate"),s=(a=n,r=e.find_super_dispatcher(n,"allocate",l,!1,$),r.$$p=null,r).call(a),s.literal=t,s},l.$$arity=-1,l.$$parameters=[["opt","string"]]),e.defs(E,"$new",c=function(){var t,r,a,n=this,$=c.$$p,s=$||i,o=i,l=arguments.length,u=l-0;u<0&&(u=0),a=new Array(u);for(var _=0;_<l;_++)a[_-0]=arguments[_];return c.$$p=null,o=n.$allocate(),(t=(r=o).$initialize,t.$$p=s.$to_proc(),t).apply(r,e.to_a(a)),o},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.defs(E,"$[]",u=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$allocate(e)},u.$$arity=-1,u.$$parameters=[["rest","objects"]]),e.defn(E,"$initialize",_=function(t){var r=this;null==t&&(t="");var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),r.literal=t},_.$$arity=-1,_.$$parameters=[["opt","string"]]),e.defn(E,"$method_missing",p=function(){var t,r,a,n=this,$=p.$$p,s=$||i,o=i,l=arguments.length,c=l-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<l;u++)a[u-0]=arguments[u];return p.$$p=null,o=(t=(r=n.literal).$__send__,t.$$p=s.$to_proc(),t).apply(r,e.to_a(a)),(t=null!=o.$$is_string)===i||null==t||t.$$is_boolean&&1!=t?o:(t=o==n.literal)===i||null==t||t.$$is_boolean&&1!=t?n.$class().$allocate(o):n},p.$$arity=-1,p.$$parameters=[["rest","args"],["block","block"]]),e.defn(E,"$initialize_copy",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_copy"),r.literal=t.literal.$clone()},d.$$arity=1,d.$$parameters=[["req","other"]]),e.defn(E,"$respond_to?",h=function(t){var r,a,n,$=this,s=h.$$p,o=i,l=i;h.$$p=null;var c=arguments.length;for(c<1&&e.ac(c,-2,this,"respond_to?"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return!1!==(r=(n=$,a=e.find_super_dispatcher($,"respond_to?",h,!1),a.$$p=s,a).apply(n,o))&&r!==i&&null!=r?r:$.literal["$respond_to?"](t)},h.$$arity=-2,h.$$parameters=[["req","name"],["rest"]]),e.defn(E,"$==",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),r.literal["$=="](t)},f.$$arity=1,f.$$parameters=[["req","other"]]),e.alias(E,"eql?","=="),e.alias(E,"===","=="),e.defn(E,"$to_s",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.literal},m.$$arity=0,m.$$parameters=[]),e.alias(E,"to_str","to_s"),e.defn(E,"$inspect",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.literal.$inspect()},g.$$arity=0,g.$$parameters=[]),e.defn(E,"$+",b=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"+"),t(a.literal,r)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(E,"$*",v=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"*");var $=r(a.literal,t);return $.$$is_string?a.$class().$allocate($):$},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(E,"$split",y=function(t,r){var a,n,$,s=this,o=arguments.length;return o>2&&e.ac(o,-1,this,"split"),(a=(n=s.literal.$split(t,r)).$map,a.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=i),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"split")}return r.$class().$allocate(t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","str"]],$),a).call(n)},y.$$arity=-1,y.$$parameters=[["opt","pattern"],["opt","limit"]]),e.defn(E,"$replace",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace"),r.literal=t},x.$$arity=1,x.$$parameters=[["req","string"]]),e.defn(E,"$each_line",k=function(t){var r,a,n,$=this,s=k.$$p,l=s||i;null==o["/"]&&(o["/"]=i),null==t&&(t=o["/"]),k.$$p=null;var c=arguments.length;return c>1&&e.ac(c,-1,this,"each_line"),l===i?$.$enum_for("each_line",t):(r=(a=$.literal).$each_line,r.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=i),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"each_line")}return e.yield1(l,r.$class().$allocate(t))},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","str"]],n),r).call(a,t)},k.$$arity=-1,k.$$parameters=[["opt","separator"]]),e.defn(E,"$lines",w=function(t){var r,a,n=this,$=w.$$p,s=$||i,l=i;null==o["/"]&&(o["/"]=i),null==t&&(t=o["/"]),w.$$p=null;var c=arguments.length;return c>1&&e.ac(c,-1,this,"lines"),l=(r=(a=n).$each_line,r.$$p=s.$to_proc(),r).call(a,t),!1!==s&&s!==i&&null!=s?n:l.$to_a()},w.$$arity=-1,w.$$parameters=[["opt","separator"],["block","block"]]),e.defn(E,"$%",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"%"),r.literal["$%"](t)},q.$$arity=1,q.$$parameters=[["req","data"]]),e.defn(E,"$instance_variables",S=function(){var t,r,n=this,$=S.$$p,s=i,o=i;S.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"instance_variables"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return a((r=n,t=e.find_super_dispatcher(n,"instance_variables",S,!1),t.$$p=$,t).apply(r,s),["@literal"])},S.$$arity=0,S.$$parameters=[]),i&&"instance_variables"}($.get("String"),null)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a,n,$,i,s,o,l=e.top,c=e,u=e.nil,_=(e.breaker,e.slice,e.klass),p=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$const_get","$===","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),l.$require("corelib/string"),function(r,$super){function a(){}var n,$,i,s,o,l,c,d,h,f,m=a=_(r,$super,"Encoding",a),g=m.$$proto,b=m.$$scope;g.ascii=g.dummy=g.name=u,e.defs(m,"$register",n=function(r,a){var $,i,s,o,l=this,c=n.$$p,_=c||u,d=u,h=u;null==a&&(a=p([],{})),n.$$p=null;var f=arguments.length;return(f<1||f>2)&&e.ac(f,-2,this,"register"),d=t([r],!1!==($=a["$[]"]("aliases"))&&$!==u&&null!=$?$:[]),h=($=(i=b.get("Class")).$new,$.$$p=_.$to_proc(),$).call(i,l).$new(r,d,!1!==($=a["$[]"]("ascii"))&&$!==u&&null!=$&&$,!1!==($=a["$[]"]("dummy"))&&$!==u&&null!=$&&$),($=(s=d).$each,$.$$p=(o=function(t){var r=o.$$s||this;if(null==t&&(t=u),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"register")}return r.$const_set(t.$sub("-","_"),h)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","name"]],o),$).call(s)},n.$$arity=-2,n.$$parameters=[["req","name"],["opt","options"],["block","block"]]),e.defs(m,"$find",$=function(t){try{var r,a,n,$=this,i=u,s=arguments.length;return 1!==s&&e.ac(s,1,this,"find"),i=t.$upcase(),(r=(a=$.$constants()).$each,r.$$p=(n=function(t){var r,a,$=n.$$s||this,s=u;if(null==t&&(t=u),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"find")}return s=$.$const_get(t),(r=b.get("Encoding")["$==="](s))===u||null==r||r.$$is_boolean&&1!=r?u:(r=!1!==(a=s.$name()["$=="](i))&&a!==u&&null!=a?a:s.$names()["$include?"](i))===u||null==r||r.$$is_boolean&&1!=r?u:void e.ret(s)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","const"]],n),r).call(a),$.$raise(b.get("ArgumentError"),"unknown encoding name - "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},$.$$arity=1,$.$$parameters=[["req","name"]]),function(e){e.$$scope,e.$$proto;e.$attr_accessor("default_external")}(e.get_singleton_class(m)),m.$attr_reader("name","names"),e.defn(m,"$initialize",i=function(t,r,a,n){var $=this,i=arguments.length;return 4!==i&&e.ac(i,4,this,"initialize"),$.name=t,$.names=r,$.ascii=a,$.dummy=n},i.$$arity=4,i.$$parameters=[["req","name"],["req","names"],["req","ascii"],["req","dummy"]]),e.defn(m,"$ascii_compatible?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ascii_compatible?"),t.ascii},s.$$arity=0,s.$$parameters=[]),e.defn(m,"$dummy?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dummy?"),t.dummy},o.$$arity=0,o.$$parameters=[]),e.defn(m,"$to_s",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.name},l.$$arity=0,l.$$parameters=[]),e.defn(m,"$inspect",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"inspect"),"#<Encoding:"+r.name+function(){return(t=r.dummy)===u||null==t||t.$$is_boolean&&1!=t?u:" (dummy)"}()+">"},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$each_byte",d=function(){return this.$raise(b.get("NotImplementedError"))},d.$$arity=-1,d.$$parameters=[["rest"]]),e.defn(m,"$getbyte",h=function(){return this.$raise(b.get("NotImplementedError"))},h.$$arity=-1,h.$$parameters=[["rest"]]),e.defn(m,"$bytesize",f=function(){return this.$raise(b.get("NotImplementedError"))},f.$$arity=-1,f.$$parameters=[["rest"]]),function(e,$super){function t(){}var r=t=_(e,$super,"EncodingError",t);r.$$proto,r.$$scope}(b.base,b.get("StandardError")),function(e,$super){function t(){}var r=t=_(e,$super,"CompatibilityError",t);r.$$proto,r.$$scope}(b.base,b.get("EncodingError"))}(c.base,null),(r=(a=c.get("Encoding")).$register,r.$$p=(n=function(){var t,r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||u;t.$$p=null;var $=arguments.length;1!==$&&e.ac($,1,this,"each_byte");for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);if(o<=127)e.yield1(n,o);else for(var l=encodeURIComponent(r.charAt(i)).substr(1).split("%"),c=0,_=l.length;c<_;c++)e.yield1(n,parseInt(l[c],16))}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytesize"),t.$bytes().$length()},r.$$arity=0,r.$$parameters=[]),u&&"bytesize"},n.$$s=l,n.$$arity=0,n.$$parameters=[],n),r).call(a,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(r=($=c.get("Encoding")).$register,r.$$p=(i=function(){var t,r,a=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||u;t.$$p=null;var $=arguments.length;1!==$&&e.ac($,1,this,"each_byte");for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,255&o),e.yield1(n,o>>8)}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytesize"),t.$bytes().$length()},r.$$arity=0,r.$$parameters=[]),u&&"bytesize"},i.$$s=l,i.$$arity=0,i.$$parameters=[],i),r).call($,"UTF-16LE"),(r=(s=c.get("Encoding")).$register,r.$$p=(o=function(){var t,r,a=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||u;t.$$p=null;var $=arguments.length;1!==$&&e.ac($,1,this,"each_byte");for(var i=0,s=r.length;i<s;i++)e.yield1(n,255&r.charCodeAt(i))},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytesize"),t.$bytes().$length()},r.$$arity=0,r.$$parameters=[]),u&&"bytesize"},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),r).call(s,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(t,$super){function r(){}var a,n,$,i,s,o,l,c=r=_(t,$super,"String",r),p=c.$$proto,d=c.$$scope;return p.encoding=u,String.prototype.encoding=d.get("Encoding").$$scope.get("UTF_16LE"),e.defn(c,"$bytes",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytes"),t.$each_byte().$to_a()},a.$$arity=0,a.$$parameters=[]),e.defn(c,"$bytesize",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytesize"),t.encoding.$bytesize(t)},n.$$arity=0,n.$$parameters=[]),e.defn(c,"$each_byte",$=function(){var t,r,a=this,n=$.$$p,i=n||u;$.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"each_byte"),i===u?a.$enum_for("each_byte"):((t=(r=a.encoding).$each_byte,t.$$p=i.$to_proc(),t).call(r,a),a)},$.$$arity=0,$.$$parameters=[["block","block"]]),e.defn(c,"$encode",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"encode"),r.$dup().$force_encoding(t)},i.$$arity=1,i.$$parameters=[["req","encoding"]]),e.defn(c,"$encoding",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"encoding"),t.encoding},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$force_encoding",o=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"force_encoding"),t=d.get("Opal")["$coerce_to!"](t,d.get("String"),"to_str"),t=d.get("Encoding").$find(t),t["$=="](a.encoding))return a;(r=t["$nil?"]())===u||null==r||r.$$is_boolean&&1!=r||a.$raise(d.get("ArgumentError"),"unknown encoding name - "+t);var $=new String(a);return $.encoding=t,$},o.$$arity=1,o.$$parameters=[["req","encoding"]]),e.defn(c,"$getbyte",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"getbyte"),r.encoding.$getbyte(r,t)},l.$$arity=1,l.$$parameters=[["req","idx"]]),u&&"getbyte"}(c.base,null)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module)
;return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(a){var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P=i=$(a,"Math"),N=(P.$$proto,P.$$scope);e.cdecl(N,"E",Math.E),e.cdecl(N,"PI",Math.PI),e.cdecl(N,"DomainError",N.get("Class").$new(N.get("StandardError"))),e.defs(P,"$checked",s=function(t){var r,a=this,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];var s=arguments.length;if(s<1&&e.ac(s,-2,this,"checked"),isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var o=Math[t].apply(null,r);return isNaN(o)&&a.$raise(N.get("DomainError"),'Numerical argument is out of domain - "'+t+'"'),o},s.$$arity=-2,s.$$parameters=[["req","method"],["rest","args"]]),e.defs(P,"$float!",o=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"float!");try{return r.$Float(t)}catch(a){if(!e.rescue(a,[N.get("ArgumentError")]))throw a;try{return r.$raise(N.get("Opal").$type_error(t,N.get("Float")))}finally{e.pop_exception()}}},o.$$arity=1,o.$$parameters=[["req","value"]]),e.defs(P,"$integer!",l=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"integer!");try{return r.$Integer(t)}catch(a){if(!e.rescue(a,[N.get("ArgumentError")]))throw a;try{return r.$raise(N.get("Opal").$type_error(t,N.get("Integer")))}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","value"]]),P.$module_function(),e.defn(P,"$acos",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"acos"),N.get("Math").$checked("acos",N.get("Math")["$float!"](t))},c.$$arity=1,c.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.acosh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(P,"$acosh",_=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"acosh"),N.get("Math").$checked("acosh",N.get("Math")["$float!"](t))},_.$$arity=1,_.$$parameters=[["req","x"]]),e.defn(P,"$asin",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"asin"),N.get("Math").$checked("asin",N.get("Math")["$float!"](t))},p.$$arity=1,p.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.asinh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(P,"$asinh",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"asinh"),N.get("Math").$checked("asinh",N.get("Math")["$float!"](t))},d.$$arity=1,d.$$parameters=[["req","x"]]),e.defn(P,"$atan",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"atan"),N.get("Math").$checked("atan",N.get("Math")["$float!"](t))},h.$$arity=1,h.$$parameters=[["req","x"]]),e.defn(P,"$atan2",f=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"atan2"),N.get("Math").$checked("atan2",N.get("Math")["$float!"](t),N.get("Math")["$float!"](r))},f.$$arity=2,f.$$parameters=[["req","y"],["req","x"]]),((u="undefined"!=typeof Math.atanh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(P,"$atanh",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"atanh"),N.get("Math").$checked("atanh",N.get("Math")["$float!"](t))},m.$$arity=1,m.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.cbrt)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var t=e,r=0;t<.125;)t*=8,r--;for(;t>1;)t*=.125,r++;for(t=(-.46946116*t+1.072302)*t+.3812513;r<0;)t*=.5,r++;for(;r>0;)t*=2,r--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(P,"$cbrt",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cbrt"),N.get("Math").$checked("cbrt",N.get("Math")["$float!"](t))},g.$$arity=1,g.$$parameters=[["req","x"]]),e.defn(P,"$cos",b=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cos"),N.get("Math").$checked("cos",N.get("Math")["$float!"](t))},b.$$arity=1,b.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.cosh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(P,"$cosh",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cosh"),N.get("Math").$checked("cosh",N.get("Math")["$float!"](t))},v.$$arity=1,v.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.erf)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.erf=function(e){var t=.254829592,r=-.284496736,a=1.421413741,n=-1.453152027,$=1.061405429,i=.3275911,s=1;e<0&&(s=-1),e=Math.abs(e);var o=1/(1+i*e);return s*(1-(((($*o+n)*o+a)*o+r)*o+t)*o*Math.exp(-e*e))}),e.defn(P,"$erf",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"erf"),N.get("Math").$checked("erf",N.get("Math")["$float!"](t))},y.$$arity=1,y.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.erfc)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.erfc=function(e){var t=Math.abs(e),r=1/(.5*t+1),a=.17087277*r-.82215223,n=r*a+1.48851587,$=r*n-1.13520398,i=r*$+.27886807,s=r*i-.18628806,o=r*s+.09678418,l=r*o+.37409196,c=r*l+1.00002368,u=r*c,_=-t*t-1.26551223+u,p=r*Math.exp(_);return e<0?2-p:p}),e.defn(P,"$erfc",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"erfc"),N.get("Math").$checked("erfc",N.get("Math")["$float!"](t))},x.$$arity=1,x.$$parameters=[["req","x"]]),e.defn(P,"$exp",k=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"exp"),N.get("Math").$checked("exp",N.get("Math")["$float!"](t))},k.$$arity=1,k.$$parameters=[["req","x"]]),e.defn(P,"$frexp",w=function(t){var r=arguments.length;if(1!==r&&e.ac(r,1,this,"frexp"),t=N.get("Math")["$float!"](t),isNaN(t))return[NaN,0];var a=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,a),a]},w.$$arity=1,w.$$parameters=[["req","x"]]),e.defn(P,"$gamma",q=function(r){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"gamma"),r=N.get("Math")["$float!"](r);var $,i,s,o,l,c,u,_,p,d=4.7421875,h=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(r))return NaN;if(0===r&&1/r<0)return-Infinity;if(-1!==r&&r!==-Infinity||a.$raise(N.get("DomainError"),'Numerical argument is out of domain - "gamma"'),N.get("Integer")["$==="](r)){if(r<=0)return isFinite(r)?Infinity:NaN;if(r>171)return Infinity;for(o=r-2,l=r-1;o>1;)l*=o,o--;return 0==l&&(l=1),l}if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*N.get("Math").$gamma(t(1,r)));if(r>=171.35)return Infinity;if(r>85)return c=r*r,u=c*r,_=u*r,p=_*r,Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*c)-139/(51840*u)-571/(2488320*_)+163879/(209018880*p)+5246819/(75246796800*p*r));for(r-=1,s=h[0],$=1;$<h.length;++$)s+=h[$]/(r+$);return i=r+d+.5,Math.sqrt(2*Math.PI)*Math.pow(i,r+.5)*Math.exp(-i)*s},q.$$arity=1,q.$$parameters=[["req","n"]]),((u="undefined"!=typeof Math.hypot)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(P,"$hypot",S=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"hypot"),N.get("Math").$checked("hypot",N.get("Math")["$float!"](t),N.get("Math")["$float!"](r))},S.$$arity=2,S.$$parameters=[["req","x"],["req","y"]]),e.defn(P,"$ldexp",E=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"ldexp"),t=N.get("Math")["$float!"](t),r=N.get("Math")["$integer!"](r),isNaN(r)&&a.$raise(N.get("RangeError"),"float NaN out of range of integer"),t*Math.pow(2,r)},E.$$arity=2,E.$$parameters=[["req","mantissa"],["req","exponent"]]),e.defn(P,"$lgamma",R=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"lgamma"),-1==t?[Infinity,1]:[Math.log(Math.abs(N.get("Math").$gamma(t))),N.get("Math").$gamma(t)<0?-1:1]},R.$$arity=1,R.$$parameters=[["req","n"]]),e.defn(P,"$log",O=function(t,a){var $,i=this,s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"log"),($=N.get("String")["$==="](t))===n||null==$||$.$$is_boolean&&1!=$||i.$raise(N.get("Opal").$type_error(t,N.get("Float"))),($=null==a)===n||null==$||$.$$is_boolean&&1!=$?(($=N.get("String")["$==="](a))===n||null==$||$.$$is_boolean&&1!=$||i.$raise(N.get("Opal").$type_error(a,N.get("Float"))),r(N.get("Math").$checked("log",N.get("Math")["$float!"](t)),N.get("Math").$checked("log",N.get("Math")["$float!"](a)))):N.get("Math").$checked("log",N.get("Math")["$float!"](t))},O.$$arity=-2,O.$$parameters=[["req","x"],["opt","base"]]),((u="undefined"!=typeof Math.log10)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(P,"$log10",M=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"log10"),(r=N.get("String")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r||a.$raise(N.get("Opal").$type_error(t,N.get("Float"))),N.get("Math").$checked("log10",N.get("Math")["$float!"](t))},M.$$arity=1,M.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.log2)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(P,"$log2",A=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"log2"),(r=N.get("String")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r||a.$raise(N.get("Opal").$type_error(t,N.get("Float"))),N.get("Math").$checked("log2",N.get("Math")["$float!"](t))},A.$$arity=1,A.$$parameters=[["req","x"]]),e.defn(P,"$sin",z=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sin"),N.get("Math").$checked("sin",N.get("Math")["$float!"](t))},z.$$arity=1,z.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.sinh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(P,"$sinh",j=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sinh"),N.get("Math").$checked("sinh",N.get("Math")["$float!"](t))},j.$$arity=1,j.$$parameters=[["req","x"]]),e.defn(P,"$sqrt",T=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sqrt"),N.get("Math").$checked("sqrt",N.get("Math")["$float!"](t))},T.$$arity=1,T.$$parameters=[["req","x"]]),e.defn(P,"$tan",I=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"tan"),t=N.get("Math")["$float!"](t),(r=t["$infinite?"]())===n||null==r||r.$$is_boolean&&1!=r?N.get("Math").$checked("tan",N.get("Math")["$float!"](t)):N.get("Float").$$scope.get("NAN")},I.$$arity=1,I.$$parameters=[["req","x"]]),((u="undefined"!=typeof Math.tanh)===n||null==u||u.$$is_boolean&&1!=u)&&(Math.tanh=function(e){return e==Infinity?1:e==-Infinity?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(P,"$tanh",C=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"tanh"),N.get("Math").$checked("tanh",N.get("Math")["$float!"](t))},C.$$arity=1,C.$$parameters=[["req","x"]])}(a.base)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.klass),c=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$infinite?"]),i.$require("corelib/numeric"),function(i,$super){function s(){}var c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F=s=l(i,$super,"Complex",s),D=F.$$proto,B=F.$$scope;D.real=D.imag=o,e.defs(F,"$rect",c=function(t,r){var a,n,$,i,s=this;null==r&&(r=0);var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"rect"),i=B.get("Numeric")["$==="](t),$=!1!==i&&i!==o&&null!=i?t["$real?"]():i,n=!1!==$&&$!==o&&null!=$?B.get("Numeric")["$==="](r):$,((a=!1!==n&&n!==o&&null!=n?r["$real?"]():n)===o||null==a||a.$$is_boolean&&1!=a)&&s.$raise(B.get("TypeError"),"not a real"),s.$new(t,r)},c.$$arity=-2,c.$$parameters=[["req","real"],["opt","imag"]]),function(t){t.$$scope,t.$$proto;e.alias(t,"rectangular","rect")}(e.get_singleton_class(F)),e.defs(F,"$polar",u=function(r,a){var n,$,i,s,l=this;null==a&&(a=0);var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"polar"),s=B.get("Numeric")["$==="](r),i=!1!==s&&s!==o&&null!=s?r["$real?"]():s,$=!1!==i&&i!==o&&null!=i?B.get("Numeric")["$==="](a):i,((n=!1!==$&&$!==o&&null!=$?a["$real?"]():$)===o||null==n||n.$$is_boolean&&1!=n)&&l.$raise(B.get("TypeError"),"not a real"),l.$new(t(r,B.get("Math").$cos(a)),t(r,B.get("Math").$sin(a)))},u.$$arity=-2,u.$$parameters=[["req","r"],["opt","theta"]]),F.$attr_reader("real","imag"),e.defn(F,"$initialize",_=function(t,r){var a=this;null==r&&(r=0);var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"initialize"),a.real=t,a.imag=r},_.$$arity=-2,_.$$parameters=[["req","real"],["opt","imag"]]),e.defn(F,"$coerce",p=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"coerce"),(r=B.get("Complex")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?(a=B.get("Numeric")["$==="](t),(r=!1!==a&&a!==o&&null!=a?t["$real?"]():a)===o||null==r||r.$$is_boolean&&1!=r?n.$raise(B.get("TypeError"),t.$class()+" can't be coerced into Complex"):[B.get("Complex").$new(t,0),n]):[t,n]},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(F,"$==",d=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"=="),(r=B.get("Complex")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?(a=B.get("Numeric")["$==="](t),(r=!1!==a&&a!==o&&null!=a?t["$real?"]():a)===o||null==r||r.$$is_boolean&&1!=r?t["$=="](n):(r=n.real["$=="](t))?n.imag["$=="](0):n.real["$=="](t)):(r=n.real["$=="](t.$real()))?n.imag["$=="](t.$imag()):n.real["$=="](t.$real())},d.$$arity=1,d.$$parameters=[["req","other"]]),e.defn(F,"$-@",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"-@"),t.$Complex(t.real["$-@"](),t.imag["$-@"]())},h.$$arity=0,h.$$parameters=[]),e.defn(F,"$+",f=function(t){var a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"+"),(a=B.get("Complex")["$==="](t))===o||null==a||a.$$is_boolean&&1!=a?(n=B.get("Numeric")["$==="](t),(a=!1!==n&&n!==o&&null!=n?t["$real?"]():n)===o||null==a||a.$$is_boolean&&1!=a?$.$__coerced__("+",t):$.$Complex(r($.real,t),$.imag)):$.$Complex(r($.real,t.$real()),r($.imag,t.$imag()))},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(F,"$-",m=function(t){var r,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"-"),(r=B.get("Complex")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?(n=B.get("Numeric")["$==="](t),(r=!1!==n&&n!==o&&null!=n?t["$real?"]():n)===o||null==r||r.$$is_boolean&&1!=r?$.$__coerced__("-",t):$.$Complex(a($.real,t),$.imag)):$.$Complex(a($.real,t.$real()),a($.imag,t.$imag()))},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(F,"$*",g=function(n){var $,i,s=this,l=arguments.length;return 1!==l&&e.ac(l,1,this,"*"),($=B.get("Complex")["$==="](n))===o||null==$||$.$$is_boolean&&1!=$?(i=B.get("Numeric")["$==="](n),($=!1!==i&&i!==o&&null!=i?n["$real?"]():i)===o||null==$||$.$$is_boolean&&1!=$?s.$__coerced__("*",n):s.$Complex(t(s.real,n),t(s.imag,n))):s.$Complex(a(t(s.real,n.$real()),t(s.imag,n.$imag())),r(t(s.real,n.$imag()),t(s.imag,n.$real())))},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(F,"$/",b=function(r){var a,$,i,s,l,c=this,u=arguments.length;return 1!==u&&e.ac(u,1,this,"/"),(a=B.get("Complex")["$==="](r))===o||null==a||a.$$is_boolean&&1!=a?($=B.get("Numeric")["$==="](r),(a=!1!==$&&$!==o&&null!=$?r["$real?"]():$)===o||null==a||a.$$is_boolean&&1!=a?c.$__coerced__("/",r):c.$Complex(c.real.$quo(r),c.imag.$quo(r))):(a=!1!==($=!1!==(i=!1!==(l=B.get("Number")["$==="](c.real),s=!1!==l&&l!==o&&null!=l?c.real["$nan?"]():l)&&s!==o&&null!=s?s:(l=B.get("Number")["$==="](c.imag),!1!==l&&l!==o&&null!=l?c.imag["$nan?"]():l))&&i!==o&&null!=i?i:(s=B.get("Number")["$==="](r.$real()),!1!==s&&s!==o&&null!=s?r.$real()["$nan?"]():s))&&$!==o&&null!=$?$:(i=B.get("Number")["$==="](r.$imag()),!1!==i&&i!==o&&null!=i?r.$imag()["$nan?"]():i))===o||null==a||a.$$is_boolean&&1!=a?n(t(c,r.$conj()),r.$abs2()):B.get("Complex").$new(B.get("Float").$$scope.get("NAN"),B.get("Float").$$scope.get("NAN"))},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(F,"$**",v=function(i){var s,l,c,u,_,p=this,d=o,h=o,f=o,m=o,g=o,b=o,v=o,y=o,x=o,k=o,w=o,q=arguments.length;if(1!==q&&e.ac(q,1,this,"**"),i["$=="](0))return B.get("Complex").$new(1,0);if((s=B.get("Complex")["$==="](i))===o||null==s||s.$$is_boolean&&1!=s){if((s=B.get("Integer")["$==="](i))===o||null==s||s.$$is_boolean&&1!=s)return(s=!1!==(l=B.get("Float")["$==="](i))&&l!==o&&null!=l?l:B.get("Rational")["$==="](i))===o||null==s||s.$$is_boolean&&1!=s?p.$__coerced__("**",i):(l=p.$polar(),s=e.to_ary(l),d=null==s[0]?o:s[0],h=null==s[1]?o:s[1],B.get("Complex").$polar(d["$**"](i),t(h,i)));if((s=$(i,0))===o||null==s||s.$$is_boolean&&1!=s)return n(B.get("Rational").$new(1,1),p)["$**"](i["$-@"]());for(v=p,y=v,x=a(i,1);(l=x["$!="](0))!==o&&null!=l&&(!l.$$is_boolean||1==l);){for(;_=x.$divmod(2),u=e.to_ary(_),k=null==u[0]?o:u[0],w=null==u[1]?o:u[1],(c=w["$=="](0))!==o&&null!=c&&(!c.$$is_boolean||1==c);)v=p.$Complex(a(t(v.$real(),v.$real()),t(v.$imag(),v.$imag())),t(t(2,v.$real()),v.$imag())),x=k;y=t(y,v),x=a(x,1)}return y}return l=p.$polar(),s=e.to_ary(l),d=null==s[0]?o:s[0],h=null==s[1]?o:s[1],f=i.$real(),m=i.$imag(),g=B.get("Math").$exp(a(t(f,B.get("Math").$log(d)),t(m,h))),b=r(t(h,f),t(m,B.get("Math").$log(d))),B.get("Complex").$polar(g,b)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(F,"$abs",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),B.get("Math").$hypot(t.real,t.imag)},y.$$arity=0,y.$$parameters=[]),e.defn(F,"$abs2",x=function(){var a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"abs2"),r(t(a.real,a.real),t(a.imag,a.imag))},x.$$arity=0,x.$$parameters=[]),e.defn(F,"$angle",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"angle"),B.get("Math").$atan2(t.imag,t.real)},k.$$arity=0,k.$$parameters=[]),e.alias(F,"arg","angle"),e.defn(F,"$conj",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"conj"),t.$Complex(t.real,t.imag["$-@"]())},w.$$arity=0,w.$$parameters=[]),e.alias(F,"conjugate","conj"),e.defn(F,"$denominator",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.real.$denominator().$lcm(t.imag.$denominator())},q.$$arity=0,q.$$parameters=[]),e.alias(F,"divide","/"),e.defn(F,"$eql?",S=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"eql?"),a=B.get("Complex")["$==="](t),r=!1!==a&&a!==o&&null!=a?n.real.$class()["$=="](n.imag.$class()):a,!1!==r&&r!==o&&null!=r?n["$=="](t):r},S.$$arity=1,S.$$parameters=[["req","other"]]),e.defn(F,"$fdiv",E=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"fdiv"),((r=B.get("Numeric")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r)&&a.$raise(B.get("TypeError"),t.$class()+" can't be coerced into Complex"),n(a,t)},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(F,"$hash",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Complex:"+t.real+":"+t.imag},R.$$arity=0,R.$$parameters=[]),e.alias(F,"imaginary","imag"),e.defn(F,"$inspect",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$to_s()+")"},O.$$arity=0,O.$$parameters=[]),e.alias(F,"magnitude","abs"),e.defn(F,"$numerator",M=function(){var r=this,a=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"numerator"),a=r.$denominator(),r.$Complex(t(r.real.$numerator(),n(a,r.real.$denominator())),t(r.imag.$numerator(),n(a,r.imag.$denominator())))},M.$$arity=0,M.$$parameters=[]),e.alias(F,"phase","arg"),e.defn(F,"$polar",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"polar"),[t.$abs(),t.$arg()]},A.$$arity=0,A.$$parameters=[]),e.alias(F,"quo","/"),e.defn(F,"$rationalize",z=function(t){var r,a=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"rationalize"),arguments.length>1&&a.$raise(B.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(r=a.imag["$!="](0))===o||null==r||r.$$is_boolean&&1!=r||a.$raise(B.get("RangeError"),"can't' convert "+a+" into Rational"),a.$real().$rationalize(t)},z.$$arity=-1,z.$$parameters=[["opt","eps"]]),e.defn(F,"$real?",j=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"real?"),!1},j.$$arity=0,j.$$parameters=[]),e.defn(F,"$rect",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rect"),[t.real,t.imag]},T.$$arity=0,T.$$parameters=[]),e.alias(F,"rectangular","rect"),e.defn(F,"$to_f",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t.imag["$=="](0)||t.$raise(B.get("RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},I.$$arity=0,I.$$parameters=[]),e.defn(F,"$to_i",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),t.imag["$=="](0)||t.$raise(B.get("RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},C.$$arity=0,C.$$parameters=[]),e.defn(F,"$to_r",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t.imag["$=="](0)||t.$raise(B.get("RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},P.$$arity=0,P.$$parameters=[]),e.defn(F,"$to_s",N=function(){var t,a,n,$=this,i=o,s=arguments.length;return 0!==s&&e.ac(s,0,this,"to_s"),i=$.real.$inspect(),i=(t=!1!==(n=B.get("Number")["$==="]($.imag),a=!1!==n&&n!==o&&null!=n?$.imag["$nan?"]():n)&&a!==o&&null!=a?a:$.imag["$positive?"]())===o||null==t||t.$$is_boolean&&1!=t?r(i,"-"):r(i,"+"),i=r(i,$.imag.$abs().$inspect()),a=B.get("Number")["$==="]($.imag),(t=!1!==a&&a!==o&&null!=a?!1!==(n=$.imag["$nan?"]())&&n!==o&&null!=n?n:$.imag["$infinite?"]():a)===o||null==t||t.$$is_boolean&&1!=t||(i=r(i,"*")),r(i,"i")},N.$$arity=0,N.$$parameters=[]),e.cdecl(B,"I",F.$new(0,1))}(s.base,s.get("Numeric")),function(t){var r,a,n=r=c(t,"Kernel"),$=(n.$$proto,n.$$scope);e.defn(n,"$Complex",a=function(t,r){null==r&&(r=o);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"Complex"),!1!==r&&r!==o&&null!=r?$.get("Complex").$new(t,r):$.get("Complex").$new(t,0)},a.$$arity=-2,a.$$parameters=[["req","real"],["opt","imag"]])}(s.base)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var o=e.top,l=e,c=e.nil,u=(e.breaker,e.slice,e.klass),_=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),o.$require("corelib/numeric"),function(o,$super){function l(){}var _,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N=l=u(o,$super,"Rational",l),F=N.$$proto,D=N.$$scope;F.num=F.den=c,e.defs(N,"$reduce",_=function(a,n){var $,i=this,s=c,o=arguments.length;if(2!==o&&e.ac(o,2,this,"reduce"),a=a.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(D.get("ZeroDivisionError"),"divided by 0");else if(($=t(n,0))===c||null==$||$.$$is_boolean&&1!=$){if(n["$=="](1))return i.$new(a,n)}else a=a["$-@"](),n=n["$-@"]();return s=a.$gcd(n),i.$new(r(a,s),r(n,s))},_.$$arity=2,_.$$parameters=[["req","num"],["req","den"]]),e.defs(N,"$convert",p=function(t,a){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"convert"),(n=!1!==($=t["$nil?"]())&&$!==c&&null!=$?$:a["$nil?"]())===c||null==n||n.$$is_boolean&&1!=n||s.$raise(D.get("TypeError"),"cannot convert nil into Rational"),$=D.get("Integer")["$==="](t),(n=!1!==$&&$!==c&&null!=$?D.get("Integer")["$==="](a):$)===c||null==n||n.$$is_boolean&&1!=n?((n=!1!==($=!1!==(i=D.get("Float")["$==="](t))&&i!==c&&null!=i?i:D.get("String")["$==="](t))&&$!==c&&null!=$?$:D.get("Complex")["$==="](t))===c||null==n||n.$$is_boolean&&1!=n||(t=t.$to_r()),(n=!1!==($=!1!==(i=D.get("Float")["$==="](a))&&i!==c&&null!=i?i:D.get("String")["$==="](a))&&$!==c&&null!=$?$:D.get("Complex")["$==="](a))===c||null==n||n.$$is_boolean&&1!=n||(a=a.$to_r()),$=a["$equal?"](1),(n=!1!==$&&$!==c&&null!=$?D.get("Integer")["$==="](t)["$!"]():$)===c||null==n||n.$$is_boolean&&1!=n?($=D.get("Numeric")["$==="](t),(n=!1!==$&&$!==c&&null!=$?D.get("Numeric")["$==="](a):$)===c||null==n||n.$$is_boolean&&1!=n?s.$reduce(t,a):r(t,a)):D.get("Opal")["$coerce_to!"](t,D.get("Rational"),"to_r")):s.$reduce(t,a)},p.$$arity=2,p.$$parameters=[["req","num"],["req","den"]]),N.$attr_reader("numerator","denominator"),e.defn(N,"$initialize",d=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.num=t,a.den=r},d.$$arity=2,d.$$parameters=[["req","num"],["req","den"]]),e.defn(N,"$numerator",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numerator"),t.num},h.$$arity=0,h.$$parameters=[]),e.defn(N,"$denominator",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.den},f.$$arity=0,f.$$parameters=[]),e.defn(N,"$coerce",m=function(t){var r=this,a=c,n=arguments.length;return 1!==n&&e.ac(n,1,this,"coerce"),function(){return a=t,D.get("Rational")["$==="](a)?[t,r]:D.get("Integer")["$==="](a)?[t.$to_r(),r]:D.get("Float")["$==="](a)?[t,r.$to_f()]:c}()},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(N,"$==",g=function(t){var r,a=this,n=c,$=arguments.length;return 1!==$&&e.ac($,1,this,"=="),function(){return n=t,D.get("Rational")["$==="](n)?(r=a.num["$=="](t.$numerator()))?a.den["$=="](t.$denominator()):a.num["$=="](t.$numerator()):D.get("Integer")["$==="](n)?(r=a.num["$=="](t))?a.den["$=="](1):a.num["$=="](t):D.get("Float")["$==="](n)?a.$to_f()["$=="](t):t["$=="](a)}()},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(N,"$<=>",b=function(t){var r=this,$=c,i=arguments.length;return 1!==i&&e.ac(i,1,this,"<=>"),function(){return $=t,D.get("Rational")["$==="]($)?a(n(r.num,t.$denominator()),n(r.den,t.$numerator()))["$<=>"](0):D.get("Integer")["$==="]($)?a(r.num,n(r.den,t))["$<=>"](0):D.get("Float")["$==="]($)?r.$to_f()["$<=>"](t):r.$__coerced__("<=>",t)}()},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(N,"$+",v=function(t){var r=this,a=c,i=c,s=c,o=arguments.length;return 1!==o&&e.ac(o,1,this,"+"),function(){return a=t,D.get("Rational")["$==="](a)?(i=$(n(r.num,t.$denominator()),n(r.den,t.$numerator())),s=n(r.den,t.$denominator()),r.$Rational(i,s)):D.get("Integer")["$==="](a)?r.$Rational($(r.num,n(t,r.den)),r.den):D.get("Float")["$==="](a)?$(r.$to_f(),t):r.$__coerced__("+",t)}()},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(N,"$-",y=function(t){var r=this,$=c,i=c,s=c,o=arguments.length;return 1!==o&&e.ac(o,1,this,"-"),function(){return $=t,D.get("Rational")["$==="]($)?(i=a(n(r.num,t.$denominator()),n(r.den,t.$numerator())),s=n(r.den,t.$denominator()),r.$Rational(i,s)):D.get("Integer")["$==="]($)?r.$Rational(a(r.num,n(t,r.den)),r.den):D.get("Float")["$==="]($)?a(r.$to_f(),t):r.$__coerced__("-",t)}()},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(N,"$*",x=function(t){var r=this,a=c,$=c,i=c,s=arguments.length;return 1!==s&&e.ac(s,1,this,"*"),function(){return a=t,D.get("Rational")["$==="](a)?($=n(r.num,t.$numerator()),i=n(r.den,t.$denominator()),r.$Rational($,i)):D.get("Integer")["$==="](a)?r.$Rational(n(r.num,t),r.den):D.get("Float")["$==="](a)?n(r.$to_f(),t):r.$__coerced__("*",t)}()},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(N,"$/",k=function(t){var a=this,$=c,i=c,s=c,o=arguments.length;return 1!==o&&e.ac(o,1,this,"/"),function(){return $=t,D.get("Rational")["$==="]($)?(i=n(a.num,t.$denominator()),s=n(a.den,t.$numerator()),a.$Rational(i,s)):D.get("Integer")["$==="]($)?t["$=="](0)?r(a.$to_f(),0):a.$Rational(a.num,n(a.den,t)):D.get("Float")["$==="]($)?r(a.$to_f(),t):a.$__coerced__("/",t)}()},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(N,"$**",w=function(r){var a,n,$=this,s=c,o=arguments.length;return 1!==o&&e.ac(o,1,this,"**"),function(){return s=r,D.get("Integer")["$==="](s)?(a=(n=$["$=="](0))?t(r,0):$["$=="](0))===c||null==a||a.$$is_boolean&&1!=a?(a=i(r,0))===c||null==a||a.$$is_boolean&&1!=a?(a=t(r,0))===c||null==a||a.$$is_boolean&&1!=a?$.$Rational(1,1):$.$Rational($.den["$**"](r["$-@"]()),$.num["$**"](r["$-@"]())):$.$Rational($.num["$**"](r),$.den["$**"](r)):D.get("Float").$$scope.get("INFINITY"):D.get("Float")["$==="](s)?$.$to_f()["$**"](r):D.get("Rational")["$==="](s)?r["$=="](0)?$.$Rational(1,1):r.$denominator()["$=="](1)?(a=t(r,0))===c||null==a||a.$$is_boolean&&1!=a?$.$Rational($.num["$**"](r.$numerator()),$.den["$**"](r.$numerator())):$.$Rational($.den["$**"](r.$numerator().$abs()),$.num["$**"](r.$numerator().$abs())):(a=(n=$["$=="](0))?t(r,0):$["$=="](0))===c||null==a||a.$$is_boolean&&1!=a?$.$to_f()["$**"](r):$.$raise(D.get("ZeroDivisionError"),"divided by 0"):$.$__coerced__("**",r)}()},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(N,"$abs",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),t.$Rational(t.num.$abs(),t.den.$abs())},q.$$arity=0,q.$$parameters=[]),e.defn(N,"$ceil",S=function(t){var a=this;null==t&&(t=0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"ceil"),t["$=="](0)?r(a.num["$-@"](),a.den)["$-@"]().$ceil():a.$with_precision("ceil",t)},S.$$arity=-1,S.$$parameters=[["opt","precision"]]),e.alias(N,"divide","/"),e.defn(N,"$floor",E=function(t){var a=this;null==t&&(t=0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"floor"),t["$=="](0)?r(a.num["$-@"](),a.den)["$-@"]().$floor():a.$with_precision("floor",t)},E.$$arity=-1,E.$$parameters=[["opt","precision"]]),e.defn(N,"$hash",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Rational:"+t.num+":"+t.den},R.$$arity=0,R.$$parameters=[]),e.defn(N,"$inspect",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$to_s()+")"},O.$$arity=0,O.$$parameters=[]),e.alias(N,"quo","/"),e.defn(N,"$rationalize",M=function(t){var n=this,i=arguments.length;if(i>1&&e.ac(i,-1,this,"rationalize"),arguments.length>1&&n.$raise(D.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return n;for(var o,l,c,u,_,p=t.$abs(),d=a(n,p),h=$(n,p),f=0,m=1,g=1,b=0;;){if(c=d.$ceil(),s(c,h))break;u=c-1,o=u*m+f,l=u*b+g,_=r(1,a(h,u)),h=r(1,a(d,u)),d=_,f=m,g=b,m=o,b=l}return n.$Rational(c*m+f,c*b+g)},M.$$arity=-1,M.$$parameters=[["opt","eps"]]),e.defn(N,"$round",A=function(a){var i,s=this,o=c,l=c,u=c;null==a&&(a=0);var _=arguments.length;return _>1&&e.ac(_,-1,this,"round"),a["$=="](0)?s.num["$=="](0)?0:s.den["$=="](1)?s.num:(o=$(n(s.num.$abs(),2),s.den),l=n(s.den,2),u=r(o,l).$truncate(),(i=t(s.num,0))===c||null==i||i.$$is_boolean&&1!=i?u:u["$-@"]()):s.$with_precision("round",a)},A.$$arity=-1,A.$$parameters=[["opt","precision"]]),e.defn(N,"$to_f",z=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"to_f"),r(t.num,t.den)},z.$$arity=0,z.$$parameters=[]),e.defn(N,"$to_i",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),t.$truncate()},j.$$arity=0,j.$$parameters=[]),e.defn(N,"$to_r",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t},T.$$arity=0,T.$$parameters=[]),e.defn(N,"$to_s",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.num+"/"+t.den},I.$$arity=0,I.$$parameters=[]),e.defn(N,"$truncate",C=function(r){var a,n=this;null==r&&(r=0);var $=arguments.length;return $>1&&e.ac($,-1,this,"truncate"),r["$=="](0)?(a=t(n.num,0))===c||null==a||a.$$is_boolean&&1!=a?n.$floor():n.$ceil():n.$with_precision("truncate",r)},C.$$arity=-1,C.$$parameters=[["opt","precision"]]),e.defn(N,"$with_precision",P=function(a,$){var i,s=this,o=c,l=c,u=arguments.length;return 2!==u&&e.ac(u,2,this,"with_precision"),((i=D.get("Integer")["$==="]($))===c||null==i||i.$$is_boolean&&1!=i)&&s.$raise(D.get("TypeError"),"not an Integer"),o=10["$**"]($),l=n(s,o),
(i=t($,1))===c||null==i||i.$$is_boolean&&1!=i?s.$Rational(l.$send(a),o):r(l.$send(a),o).$to_i()},P.$$arity=2,P.$$parameters=[["req","method"],["req","precision"]])}(l.base,l.get("Numeric")),function(t){var r,a,n=r=_(t,"Kernel"),$=(n.$$proto,n.$$scope);e.defn(n,"$Rational",a=function(t,r){null==r&&(r=1);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"Rational"),$.get("Rational").$convert(t,r)},a.$$arity=-2,a.$$parameters=[["req","numerator"],["opt","denominator"]])}(l.base)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=e.top,o=e,l=e.nil,c=(e.breaker,e.slice),u=e.klass,_=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),s.$require("corelib/comparable"),function(s,$super){function o(){}function p(e,t,r,a,n,$){if(e=e.$$is_string?parseInt(e,10):ae.get("Opal")["$coerce_to!"](e,ae.get("Integer"),"to_int"),t===l)t=1;else if(!t.$$is_number)if(t["$respond_to?"]("to_str"))switch(t=t.$to_str(),t.toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=ae.get("Opal")["$coerce_to!"](t,ae.get("Integer"),"to_int");return(t<1||t>12)&&re.$raise(ae.get("ArgumentError"),"month out of range: "+t),t-=1,r=r===l?1:r.$$is_string?parseInt(r,10):ae.get("Opal")["$coerce_to!"](r,ae.get("Integer"),"to_int"),(r<1||r>31)&&re.$raise(ae.get("ArgumentError"),"day out of range: "+r),a=a===l?0:a.$$is_string?parseInt(a,10):ae.get("Opal")["$coerce_to!"](a,ae.get("Integer"),"to_int"),(a<0||a>24)&&re.$raise(ae.get("ArgumentError"),"hour out of range: "+a),n=n===l?0:n.$$is_string?parseInt(n,10):ae.get("Opal")["$coerce_to!"](n,ae.get("Integer"),"to_int"),(n<0||n>59)&&re.$raise(ae.get("ArgumentError"),"min out of range: "+n),$===l?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):ae.get("Opal")["$coerce_to!"]($,ae.get("Integer"),"to_int")),($<0||$>60)&&re.$raise(ae.get("ArgumentError"),"sec out of range: "+$),[e,t,r,a,n,$]}var d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re=o=u(s,$super,"Time",o),ae=(re.$$proto,re.$$scope);re.$include(ae.get("Comparable"));var ne=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],se=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs(re,"$at",d=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"at");var $;return ae.get("Time")["$==="](t)?(r!==undefined&&a.$raise(ae.get("TypeError"),"can't convert Time into an exact number"),$=new Date(t.getTime()),$.is_utc=t.is_utc,$):(t.$$is_number||(t=ae.get("Opal")["$coerce_to!"](t,ae.get("Integer"),"to_int")),r===undefined?new Date(1e3*t):(r.$$is_number||(r=ae.get("Opal")["$coerce_to!"](r,ae.get("Integer"),"to_int")),new Date(1e3*t+r/1e3)))},d.$$arity=-2,d.$$parameters=[["req","seconds"],["opt","frac"]]),e.defs(re,"$new",h=function(t,r,a,n,$,i,s){var o=this;null==r&&(r=l),null==a&&(a=l),null==n&&(n=l),null==$&&($=l),null==i&&(i=l),null==s&&(s=l);var c=arguments.length;c>7&&e.ac(c,-1,this,"new");var u,_;return t===undefined?new Date:(s!==l&&o.$raise(ae.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),u=p(t,r,a,n,$,i),t=u[0],r=u[1],a=u[2],n=u[3],$=u[4],i=u[5],_=new Date(t,r,a,n,$,0,1e3*i),t<100&&_.setFullYear(t),_)},h.$$arity=-1,h.$$parameters=[["opt","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","utc_offset"]]),e.defs(re,"$local",f=function(t,r,a,n,$,i,s,o,u,_){null==r&&(r=l),null==a&&(a=l),null==n&&(n=l),null==$&&($=l),null==i&&(i=l),null==s&&(s=l),null==o&&(o=l),null==u&&(u=l),null==_&&(_=l);var d=arguments.length;(d<1||d>10)&&e.ac(d,-2,this,"local");var h,f;return 10===arguments.length&&(h=c.call(arguments),t=h[5],r=h[4],a=h[3],n=h[2],$=h[1],i=h[0]),h=p(t,r,a,n,$,i),t=h[0],r=h[1],a=h[2],n=h[3],$=h[4],i=h[5],f=new Date(t,r,a,n,$,0,1e3*i),t<100&&f.setFullYear(t),f},f.$$arity=-2,f.$$parameters=[["req","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","millisecond"],["opt","_dummy1"],["opt","_dummy2"],["opt","_dummy3"]]),e.defs(re,"$gm",m=function(t,r,a,n,$,i,s,o,u,_){null==r&&(r=l),null==a&&(a=l),null==n&&(n=l),null==$&&($=l),null==i&&(i=l),null==s&&(s=l),null==o&&(o=l),null==u&&(u=l),null==_&&(_=l);var d=arguments.length;(d<1||d>10)&&e.ac(d,-2,this,"gm");var h,f;return 10===arguments.length&&(h=c.call(arguments),t=h[5],r=h[4],a=h[3],n=h[2],$=h[1],i=h[0]),h=p(t,r,a,n,$,i),t=h[0],r=h[1],a=h[2],n=h[3],$=h[4],i=h[5],f=new Date(Date.UTC(t,r,a,n,$,0,1e3*i)),t<100&&f.setUTCFullYear(t),f.is_utc=!0,f},m.$$arity=-2,m.$$parameters=[["req","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","millisecond"],["opt","_dummy1"],["opt","_dummy2"],["opt","_dummy3"]]),function(t){t.$$scope,t.$$proto;e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class(re)),e.defs(re,"$now",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"now"),t.$new()},g.$$arity=0,g.$$parameters=[]),e.defn(re,"$+",b=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"+"),(r=ae.get("Time")["$==="](t))===l||null==r||r.$$is_boolean&&1!=r||a.$raise(ae.get("TypeError"),"time + time?"),t.$$is_number||(t=ae.get("Opal")["$coerce_to!"](t,ae.get("Integer"),"to_int"));var $=new Date(a.getTime()+1e3*t);return $.is_utc=a.is_utc,$},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(re,"$-",v=function(t){var r,a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"-"),(r=ae.get("Time")["$==="](t))!==l&&null!=r&&(!r.$$is_boolean||1==r))return(a.getTime()-t.getTime())/1e3;t.$$is_number||(t=ae.get("Opal")["$coerce_to!"](t,ae.get("Integer"),"to_int"));var $=new Date(a.getTime()-1e3*t);return $.is_utc=a.is_utc,$},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(re,"$<=>",y=function(a){var n,$=this,i=l,s=arguments.length;return 1!==s&&e.ac(s,1,this,"<=>"),(n=ae.get("Time")["$==="](a))===l||null==n||n.$$is_boolean&&1!=n?(i=a["$<=>"]($),(n=i["$nil?"]())===l||null==n||n.$$is_boolean&&1!=n?(n=t(i,0))===l||null==n||n.$$is_boolean&&1!=n?(n=r(i,0))===l||null==n||n.$$is_boolean&&1!=n?0:1:-1:l):$.$to_f()["$<=>"](a.$to_f())},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(re,"$==",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),r.$to_f()===t.$to_f()},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(re,"$asctime",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"asctime"),t.$strftime("%a %b %e %H:%M:%S %Y")},k.$$arity=0,k.$$parameters=[]),e.alias(re,"ctime","asctime"),e.defn(re,"$day",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"day"),t.is_utc?t.getUTCDate():t.getDate()},w.$$arity=0,w.$$parameters=[]),e.defn(re,"$yday",q=function(){var t=this,r=l,i=l,s=l,o=arguments.length;return 0!==o&&e.ac(o,0,this,"yday"),r=ae.get("Time").$new(t.$year()).$to_i(),i=ae.get("Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),s=86400,a(n($(i,r),s).$round(),1)},q.$$arity=0,q.$$parameters=[]),e.defn(re,"$isdst",S=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"isdst");var a=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),n.getTimezoneOffset())},S.$$arity=0,S.$$parameters=[]),e.alias(re,"dst?","isdst"),e.defn(re,"$dup",E=function(){var t=this,r=l,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=new Date(t.getTime()),r.$copy_instance_variables(t),r.$initialize_dup(t),r},E.$$arity=0,E.$$parameters=[]),e.defn(re,"$eql?",R=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"eql?"),r=t["$is_a?"](ae.get("Time")),!1!==r&&r!==l&&null!=r?a["$<=>"](t)["$zero?"]():r},R.$$arity=1,R.$$parameters=[["req","other"]]),e.defn(re,"$friday?",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"friday?"),5==t.$wday()},O.$$arity=0,O.$$parameters=[]),e.defn(re,"$hash",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Time:"+t.getTime()},M.$$arity=0,M.$$parameters=[]),e.defn(re,"$hour",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hour"),t.is_utc?t.getUTCHours():t.getHours()},A.$$arity=0,A.$$parameters=[]),e.defn(re,"$inspect",z=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"inspect"),(t=r["$utc?"]())===l||null==t||t.$$is_boolean&&1!=t?r.$strftime("%Y-%m-%d %H:%M:%S %z"):r.$strftime("%Y-%m-%d %H:%M:%S UTC")},z.$$arity=0,z.$$parameters=[]),e.alias(re,"mday","day"),e.defn(re,"$min",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"min"),t.is_utc?t.getUTCMinutes():t.getMinutes()},j.$$arity=0,j.$$parameters=[]),e.defn(re,"$mon",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mon"),(t.is_utc?t.getUTCMonth():t.getMonth())+1},T.$$arity=0,T.$$parameters=[]),e.defn(re,"$monday?",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"monday?"),1==t.$wday()},I.$$arity=0,I.$$parameters=[]),e.alias(re,"month","mon"),e.defn(re,"$saturday?",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"saturday?"),6==t.$wday()},C.$$arity=0,C.$$parameters=[]),e.defn(re,"$sec",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"sec"),t.is_utc?t.getUTCSeconds():t.getSeconds()},P.$$arity=0,P.$$parameters=[]),e.defn(re,"$succ",N=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"succ");var a=new Date(t.getTime()+1e3);return a.is_utc=t.is_utc,a},N.$$arity=0,N.$$parameters=[]),e.defn(re,"$usec",F=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"usec"),1e3*t.getMilliseconds()},F.$$arity=0,F.$$parameters=[]),e.defn(re,"$zone",D=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"zone");var a,n=t.toString();return a=-1==n.indexOf("(")?n.match(/[A-Z]{3,4}/)[0]:n.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==a&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:a},D.$$arity=0,D.$$parameters=[]),e.defn(re,"$getgm",B=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"getgm");var a=new Date(t.getTime());return a.is_utc=!0,a},B.$$arity=0,B.$$parameters=[]),e.alias(re,"getutc","getgm"),e.defn(re,"$gmtime",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmtime"),t.is_utc=!0,t},H.$$arity=0,H.$$parameters=[]),e.alias(re,"utc","gmtime"),e.defn(re,"$gmt?",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmt?"),!0===t.is_utc},L.$$arity=0,L.$$parameters=[]),e.defn(re,"$gmt_offset",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmt_offset"),60*-t.getTimezoneOffset()},U.$$arity=0,U.$$parameters=[]),e.defn(re,"$strftime",G=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"strftime"),t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,a,n,$){var i="",s=-1!==t.indexOf("0"),o=-1===t.indexOf("-"),l=-1!==t.indexOf("_"),c=-1!==t.indexOf("^"),u=-1!==t.indexOf("#"),p=(t.match(":")||[]).length;switch(a=parseInt(a,10),s&&l&&(t.indexOf("0")<t.indexOf("_")?s=!1:l=!1),$){case"Y":i+=r.$year();break;case"C":s=!l,i+=Math.round(r.$year()/100);break;case"y":s=!l,i+=r.$year()%100;break;case"m":s=!l,i+=r.$mon();break;case"B":i+=se[r.$mon()-1];break;case"b":case"h":l=!s,i+=ie[r.$mon()-1];break;case"d":s=!l,i+=r.$day();break;case"e":l=!s,i+=r.$day();break;case"j":i+=r.$yday();break;case"H":s=!l,i+=r.$hour();break;case"k":l=!s,i+=r.$hour();break;case"I":s=!l,i+=r.$hour()%12||12;break;case"l":l=!s,i+=r.$hour()%12||12;break;case"P":i+=r.$hour()>=12?"pm":"am";break;case"p":i+=r.$hour()>=12?"PM":"AM";break;case"M":s=!l,i+=r.$min();break;case"S":s=!l,i+=r.$sec();break;case"L":s=!l,a=isNaN(a)?3:a,i+=r.getMilliseconds();break;case"N":a=isNaN(a)?9:a,i+=r.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust(a,"0");break;case"z":var d=r.getTimezoneOffset(),h=Math.floor(Math.abs(d)/60),f=Math.abs(d)%60;i+=d<0?"+":"-",i+=h<10?"0":"",i+=h,p>0&&(i+=":"),i+=f<10?"0":"",i+=f,p>1&&(i+=":00");break;case"Z":i+=r.$zone();break;case"A":i+=ne[r.$wday()];break;case"a":i+=$e[r.$wday()];break;case"u":i+=r.$wday()+1;break;case"w":i+=r.$wday();break;case"V":i+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":i+=r.$cweek_cyear()["$[]"](1);break;case"g":i+=r.$cweek_cyear()["$[]"](1)["$[]"](_(-2,-1,!1));break;case"s":i+=r.$to_i();break;case"n":i+="\n";break;case"t":i+="\t";break;case"%":i+="%";break;case"c":i+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=r.$strftime("%m/%d/%y");break;case"F":i+=r.$strftime("%Y-%m-%d");break;case"v":i+=r.$strftime("%e-%^b-%4Y");break;case"r":i+=r.$strftime("%I:%M:%S %p");break;case"R":i+=r.$strftime("%H:%M");break;case"T":case"X":i+=r.$strftime("%H:%M:%S");break;default:return e}return c&&(i=i.toUpperCase()),u&&(i=i.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),o&&(s||l)&&(i=i.$rjust(isNaN(a)?2:a,l?" ":"0")),i})},G.$$arity=1,G.$$parameters=[["req","format"]]),e.defn(re,"$sunday?",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"sunday?"),0==t.$wday()},Y.$$arity=0,Y.$$parameters=[]),e.defn(re,"$thursday?",V=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thursday?"),4==t.$wday()},V.$$arity=0,V.$$parameters=[]),e.defn(re,"$to_a",X=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},X.$$arity=0,X.$$parameters=[]),e.defn(re,"$to_f",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t.getTime()/1e3},K.$$arity=0,K.$$parameters=[]),e.defn(re,"$to_i",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),parseInt(t.getTime()/1e3,10)},W.$$arity=0,W.$$parameters=[]),e.alias(re,"to_s","inspect"),e.defn(re,"$tuesday?",Z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tuesday?"),2==t.$wday()},Z.$$arity=0,Z.$$parameters=[]),e.alias(re,"tv_sec","sec"),e.alias(re,"tv_usec","usec"),e.alias(re,"utc?","gmt?"),e.alias(re,"gmtoff","gmt_offset"),e.alias(re,"utc_offset","gmt_offset"),e.defn(re,"$wday",J=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"wday"),t.is_utc?t.getUTCDay():t.getDay()},J.$$arity=0,J.$$parameters=[]),e.defn(re,"$wednesday?",Q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"wednesday?"),3==t.$wday()},Q.$$arity=0,Q.$$parameters=[]),e.defn(re,"$year",ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"year"),t.is_utc?t.getUTCFullYear():t.getFullYear()},ee.$$arity=0,ee.$$parameters=[]),e.defn(re,"$cweek_cyear",te=function(){var t,r,s=this,o=l,c=l,u=l,_=l,p=l,d=l,h=l,f=arguments.length;return 0!==f&&e.ac(f,0,this,"cweek_cyear"),o=ae.get("Time").$new(s.$year(),1,1),c=o.$wday(),0,u=s.$year(),r=i(c,4),(t=!1!==r&&r!==l&&null!=r?c["$!="](0):r)===l||null==t||t.$$is_boolean&&1!=t?(_=$($(c,7),1),_["$=="](-8)&&(_=-1)):_=$(c,1),p=n(a(s.$yday(),_),7).$ceil(),(t=i(p,0))===l||null==t||t.$$is_boolean&&1!=t?(p["$=="](53)&&(d=ae.get("Time").$new(s.$year(),12,31),h=d.$wday(),r=i(h,3),(t=!1!==r&&r!==l&&null!=r?h["$!="](0):r)===l||null==t||t.$$is_boolean&&1!=t||(p=1,u=a(u,1))),[p,u]):ae.get("Time").$new($(s.$year(),1),12,31).$cweek_cyear()},te.$$arity=0,te.$$parameters=[]),l&&"cweek_cyear"}(o.base,Date)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=e.top,i=e,s=e.nil,o=(e.breaker,e.slice,e.klass),l=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]=","$[]","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$inspect","$each_pair","$inject","$flatten","$to_a","$values_at"]),$.$require("corelib/enumerable"),function($,$super){function i(){}var c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O=i=o($,$super,"Struct",i),M=(O.$$proto,O.$$scope);return O.$include(M.get("Enumerable")),e.defs(O,"$new",c=function(t){var r,a,n,$,i,o,l,u=this,_=c.$$p,p=_||s,d=s,h=arguments.length,f=h-1;f<0&&(f=0),l=new Array(f);for(var m=1;m<h;m++)l[m-1]=arguments[m];c.$$p=null;var g=arguments.length;if(g<1&&e.ac(g,-2,this,"new"),!1!==t&&t!==s&&null!=t)try{t=M.get("Opal")["$const_name!"](t)}catch(r){if(!e.rescue(r,[M.get("TypeError"),M.get("NameError")]))throw r;try{l.$unshift(t),t=s}finally{e.pop_exception()}}return(r=(a=l).$map,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=s),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"new")}return M.get("Opal")["$coerce_to!"](t,M.get("String"),"to_str")},n.$$s=u,n.$$arity=1,n.$$parameters=[["req","arg"]],n),r).call(a),d=(r=($=M.get("Class")).$new,r.$$p=(i=function(){var t,r,a,n=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"new")}return(t=(r=l).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"new")}return r.$define_struct_attribute(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r),function(t){var r;t.$$scope,t.$$proto;return e.defn(t,"$new",r=function(){var t,r,a=this,n=s,$=arguments.length,i=$-0;i<0&&(i=0),r=new Array(i);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n=a.$allocate(),n.$$data={},(t=n).$initialize.apply(t,e.to_a(r)),n},r.$$arity=-1,r.$$parameters=[["rest","args"]]),e.alias(t,"[]","new")}(e.get_singleton_class(n))},i.$$s=u,i.$$arity=0,i.$$parameters=[],i),r).call($,u),!1!==p&&p!==s&&null!=p&&(r=(o=d).$module_eval,r.$$p=p.$to_proc(),r).call(o),!1!==t&&t!==s&&null!=t&&M.get("Struct").$const_set(t,d),d},c.$$arity=-2,c.$$parameters=[["req","const_name"],["rest","args"],["block","block"]]),e.defs(O,"$define_struct_attribute",u=function(t){var r,a,n,$,i,o=this,l=arguments.length;return 1!==l&&e.ac(l,1,this,"define_struct_attribute"),o["$=="](M.get("Struct"))&&o.$raise(M.get("ArgumentError"),"you cannot define attributes to the Struct class"),o.$members()["$<<"](t),(r=(a=o).$define_method,r.$$p=(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"define_struct_attribute")}return r.$$data[t]},n.$$s=o,n.$$arity=0,n.$$parameters=[],n),r).call(a,t),(r=($=o).$define_method,r.$$p=(i=function(r){var a=i.$$s||this;if(null==r&&(r=s),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"define_struct_attribute")}return a.$$data[t]=r},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","value"]],i),r).call($,t+"=")},u.$$arity=1,u.$$parameters=[["req","name"]]),e.defs(O,"$members",_=function(){var t,r=this;null==r.members&&(r.members=s);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"members"),r["$=="](M.get("Struct"))&&r.$raise(M.get("ArgumentError"),"the Struct class has no members"),!1!==(t=r.members)&&t!==s&&null!=t?t:r.members=[]},_.$$arity=0,_.$$parameters=[]),e.defs(O,"$inherited",p=function(t){var r,a,n,$=this,i=s;null==$.members&&($.members=s);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"inherited"),i=$.members,(r=(a=t).$instance_eval,r.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"inherited")}return t.members=i},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a)},p.$$arity=1,p.$$parameters=[["req","klass"]]),e.defn(O,"$initialize",d=function(){var r,a,n,$,i=this,o=arguments.length,l=o-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<o;c++)$[c-0]=arguments[c];return(r=t($.$length(),i.$class().$members().$length()))===s||null==r||r.$$is_boolean&&1!=r||i.$raise(M.get("ArgumentError"),"struct size differs"),(r=(a=i.$class().$members()).$each_with_index,r.$$p=(n=function(t,r){var a=n.$$s||this;if(null==t&&(t=s),null==r&&(r=s),n.$$is_lambda||n.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"initialize")}return a["$[]="](t,$["$[]"](r))},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","name"],["req","index"]],n),r).call(a)},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(O,"$members",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"members"),t.$class().$members()},h.$$arity=0,h.$$parameters=[]),e.defn(O,"$hash",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),M.get("Hash").$new(t.$$data).$hash()},f.$$arity=0,f.$$parameters=[]),e.defn(O,"$[]",m=function(t){var n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"[]"),(n=M.get("Integer")["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(n=M.get("String")["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?$.$raise(M.get("TypeError"),"no implicit conversion of "+t.$class()+" into Integer"):$.$$data.hasOwnProperty(t)||$.$raise(M.get("NameError").$new("no member '"+t+"' in struct",t)):((n=r(t,$.$class().$members().$size()["$-@"]()))===s||null==n||n.$$is_boolean&&1!=n||$.$raise(M.get("IndexError"),"offset "+t+" too small for struct(size:"+$.$class().$members().$size()+")"),(n=a(t,$.$class().$members().$size()))===s||null==n||n.$$is_boolean&&1!=n||$.$raise(M.get("IndexError"),"offset "+t+" too large for struct(size:"+$.$class().$members().$size()+")"),t=$.$class().$members()["$[]"](t)),t=M.get("Opal")["$coerce_to!"](t,M.get("String"),"to_str"),$.$$data[t]},m.$$arity=1,m.$$parameters=[["req","name"]]),e.defn(O,"$[]=",g=function(t,n){var $,i=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"[]="),($=M.get("Integer")["$==="](t))===s||null==$||$.$$is_boolean&&1!=$?($=M.get("String")["$==="](t))===s||null==$||$.$$is_boolean&&1!=$?i.$raise(M.get("TypeError"),"no implicit conversion of "+t.$class()+" into Integer"):(($=i.$class().$members()["$include?"](t.$to_sym()))===s||null==$||$.$$is_boolean&&1!=$)&&i.$raise(M.get("NameError").$new("no member '"+t+"' in struct",t)):(($=r(t,i.$class().$members().$size()["$-@"]()))===s||null==$||$.$$is_boolean&&1!=$||i.$raise(M.get("IndexError"),"offset "+t+" too small for struct(size:"+i.$class().$members().$size()+")"),($=a(t,i.$class().$members().$size()))===s||null==$||$.$$is_boolean&&1!=$||i.$raise(M.get("IndexError"),"offset "+t+" too large for struct(size:"+i.$class().$members().$size()+")"),t=i.$class().$members()["$[]"](t)),t=M.get("Opal")["$coerce_to!"](t,M.get("String"),"to_str"),i.$$data[t]=n},g.$$arity=2,g.$$parameters=[["req","name"],["req","value"]]),e.defn(O,"$==",b=function(t){function r(e,t){var a,n,$;i[e.$__id__()]=!0,o[t.$__id__()]=!0;for(a in e.$$data)if(n=e.$$data[a],$=t.$$data[a],M.get("Struct")["$==="](n)){if(!(i.hasOwnProperty(n.$__id__())&&o.hasOwnProperty($.$__id__())||r(n,$)))return!1}else if(!n["$=="]($))return!1;return!0}var a,n=this,$=arguments.length;if(1!==$&&e.ac($,1,this,"=="),(a=t["$instance_of?"](n.$class()))===s||null==a||a.$$is_boolean&&1!=a)return!1;var i={},o={};return r(n,t)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(O,"$eql?",v=function(t){function r(e,t){var a,n,$;i[e.$__id__()]=!0,o[t.$__id__()]=!0;for(a in e.$$data)if(n=e.$$data[a],$=t.$$data[a],M.get("Struct")["$==="](n)){if(!(i.hasOwnProperty(n.$__id__())&&o.hasOwnProperty($.$__id__())||r(n,$)))return!1}else if(!n["$eql?"]($))return!1;return!0}var a,n=this,$=arguments.length;if(1!==$&&e.ac($,1,this,"eql?"),(a=t["$instance_of?"](n.$class()))===s||null==a||a.$$is_boolean&&1!=a)return!1;var i={},o={};return r(n,t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(O,"$each",y=function(){var t,r,a,n,$,i=this,o=y.$$p,l=o||s;y.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"each"),l===s?(t=(r=i).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each")}return t.$size()},a.$$s=i,a.$$arity=0,a.$$parameters=[],a),t).call(r,"each"):((t=(n=i.$class().$members()).$each,t.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"each")}return e.yield1(l,r["$[]"](t))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","name"]],$),t).call(n),i)},y.$$arity=0,y.$$parameters=[]),e.defn(O,"$each_pair",x=function(){var t,r,a,n,$,i=this,o=x.$$p,l=o||s;x.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"each_pair"),l===s?(t=(r=i).$enum_for,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"each_pair")}return t.$size()},a.$$s=i,a.$$arity=0,a.$$parameters=[],a),t).call(r,"each_pair"):((t=(n=i.$class().$members()).$each,t.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"each_pair")}return e.yield1(l,[t,r["$[]"](t)])},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","name"]],$),t).call(n),i)},x.$$arity=0,x.$$parameters=[]),e.defn(O,"$length",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.$class().$members().$length()},k.$$arity=0,k.$$parameters=[]),e.alias(O,"size","length"),e.defn(O,"$to_a",w=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"to_a"),(t=(r=n.$class().$members()).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"to_a")}return r["$[]"](t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","name"]],a),t).call(r)},w.$$arity=0,w.$$parameters=[]),e.alias(O,"values","to_a"),e.defn(O,"$inspect",q=function(){var t,r,a,$=this,i=s,o=arguments.length;return 0!==o&&e.ac(o,0,this,"inspect"),i="#<struct ",r=M.get("Struct")["$==="]($),(t=!1!==r&&r!==s&&null!=r?$.$class().$name():r)===s||null==t||t.$$is_boolean&&1!=t||(i=n(i,$.$class()+" ")),i=n(i,(t=(r=$.$each_pair()).$map,t.$$p=(a=function(t,r){a.$$s;if(null==t&&(t=s),null==r&&(r=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"inspect")}return t+"="+r.$inspect()},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","name"],["req","value"]],a),t).call(r).$join(", ")),i=n(i,">")},q.$$arity=0,q.$$parameters=[]),e.alias(O,"to_s","inspect"),e.defn(O,"$to_h",S=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"to_h"),(t=(r=n.$class().$members()).$inject,t.$$p=(a=function(t,r){var n=a.$$s||this;if(null==t&&(t=s),null==r&&(r=s),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"to_h")}return t["$[]="](r,n["$[]"](r)),t},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","h"],["req","name"]],a),t).call(r,l([],{}))},S.$$arity=0,S.$$parameters=[]),e.defn(O,"$values_at",E=function(){var t,r,a,n,$=this,i=arguments.length,o=i-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<i;l++)n[l-0]=arguments[l];n=(t=(r=n).$map,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"values_at")}return t.$$is_range?t.$to_a():t},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r).$flatten();for(var c=[],u=0,_=n.length;u<_;u++)n[u].$$is_number||$.$raise(M.get("TypeError"),"no implicit conversion of "+n[u].$class()+" into Integer"),c.push($["$[]"](n[u]));return c},E.$$arity=-1,E.$$parameters=[["rest","args"]]),e.defs(O,"$_load",R=function(t){var r,a,n=this,$=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"_load"),$=(r=t).$values_at.apply(r,e.to_a(n.$members())),(a=n).$new.apply(a,e.to_a($))},R.$$arity=1,R.$$parameters=[["req","args"]]),s&&"_load"}(i.base,null)},Opal.modules["corelib/io"]=function(e){var t,r,a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass),i=e.module,s=e.gvars;return e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$extend"]),function(t,$super){function r(){}var a,o,l,c,u=r=$(t,$super,"IO",r),_=u.$$proto,p=u.$$scope;_.tty=_.closed=n,e.cdecl(p,"SEEK_SET",0),e.cdecl(p,"SEEK_CUR",1),e.cdecl(p,"SEEK_END",2),e.defn(u,"$tty?",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tty?"),t.tty},a.$$arity=0,a.$$parameters=[]),e.defn(u,"$closed?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"closed?"),t.closed},o.$$arity=0,o.$$parameters=[]),u.$attr_accessor("write_proc"),e.defn(u,"$write",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"write"),r.write_proc(t),t.$size()},l.$$arity=1,l.$$parameters=[["req","string"]]),u.$attr_accessor("sync","tty"),e.defn(u,"$flush",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),n},c.$$arity=0,c.$$parameters=[]),function(t){var r,a,$,o,l=r=i(t,"Writable");l.$$proto,l.$$scope;e.defn(l,"$<<",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.$write(t),r},a.$$arity=1,a.$$parameters=[["req","string"]]),e.defn(l,"$print",$=function(){var t,r,a,$,i=this;null==s[","]&&(s[","]=n);var o=arguments.length,l=o-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<o;c++)$[c-0]=arguments[c];return i.$write((t=(r=$).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"print")}return r.$String(t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r).$join(s[","])),n},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(l,"$puts",o=function(){var t,r,a,$,i=this,o=n;null==s["/"]&&(s["/"]=n);var l=arguments.length,c=l-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<l;u++)$[u-0]=arguments[u];return o=s["/"],(t=$["$empty?"]())===n||null==t||t.$$is_boolean&&1!=t?i.$write((t=(r=$).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"puts")}return r.$String(t).$chomp()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r).$concat([n]).$join(o)):i.$write(s["/"]),n},o.$$arity=-1,o.$$parameters=[["rest","args"]])}(p.base),function(t){var r,a,$,o,l,c=r=i(t,"Readable"),u=(c.$$proto,c.$$scope);e.defn(c,"$readbyte",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"readbyte"),t.$getbyte()},a.$$arity=0,a.$$parameters=[]),e.defn(c,"$readchar",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"readchar"),t.$getc()},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$readline",o=function(t){var r=this;null==s["/"]&&(s["/"]=n),null==t&&(t=s["/"]);var a=arguments.length;return a>1&&e.ac(a,-1,this,"readline"),r.$raise(u.get("NotImplementedError"))},o.$$arity=-1,o.$$parameters=[["opt","sep"]]),e.defn(c,"$readpartial",l=function(t,r){var a=this;null==r&&(r=n);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"readpartial"),a.$raise(u.get("NotImplementedError"))},l.$$arity=-2,l.$$parameters=[["req","integer"],["opt","outbuf"]])}(p.base)}(a.base,null),e.cdecl(a,"STDERR",s.stderr=a.get("IO").$new()),e.cdecl(a,"STDIN",s.stdin=a.get("IO").$new()),e.cdecl(a,"STDOUT",s.stdout=a.get("IO").$new()),t=["object"==typeof process?function(e){process.stdout.write(e)}:function(e){console.log(e)}],r=a.get("STDOUT"),r["$write_proc="].apply(r,t),t[t.length-1],t=["object"==typeof process?function(e){process.stderr.write(e)}:function(e){console.warn(e)}],r=a.get("STDERR"),r["$write_proc="].apply(r,t),t[t.length-1],a.get("STDOUT").$extend(a.get("IO").$$scope.get("Writable")),a.get("STDERR").$extend(a.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(e){var t,r,a=e.top,n=e,$=e.nil;e.breaker,e.slice;return e.add_stubs(["$include"]),
e.defs(a,"$to_s",t=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_s"),"main"},t.$$arity=0,t.$$parameters=[]),e.defs(a,"$include",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"include"),n.get("Object").$include(t)},r.$$arity=1,r.$$parameters=[["req","mod"]]),$&&"include"},Opal.modules["corelib/dir"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]"]),function(t,$super){function n(){}var $=n=a(t,$super,"Dir",n);$.$$proto,$.$$scope;return function(t){var a,n,$,i=t.$$scope;t.$$proto;return e.defn(t,"$chdir",a=function(t){var n=a.$$p,$=n||r,i=r;a.$$p=null;var s=arguments.length;1!==s&&e.ac(s,1,this,"chdir");try{return i=e.current_dir,e.current_dir=t,e.yieldX($,[])}finally{e.current_dir=i}},a.$$arity=1,a.$$parameters=[["req","dir"]]),e.defn(t,"$pwd",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"pwd"),e.current_dir||"."},n.$$arity=0,n.$$parameters=[]),e.alias(t,"getwd","pwd"),e.defn(t,"$home",$=function(){var t,a=arguments.length;return 0!==a&&e.ac(a,0,this,"home"),!1!==(t=i.get("ENV")["$[]"]("HOME"))&&t!==r&&null!=t?t:"."},$.$$arity=0,$.$$parameters=[]),r&&"home"}(e.get_singleton_class($))}(t.base,null)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass),i=e.range;return e.add_stubs(["$join","$compact","$split","$==","$first","$[]=","$home","$pwd","$each","$pop","$<<","$raise","$respond_to?","$to_path","$class","$nil?","$is_a?","$basename","$empty?","$rindex","$[]","$+","$-","$length","$gsub","$find","$=~"]),function(a,$super){function s(){}var o=s=$(a,$super,"File",s),l=(o.$$proto,o.$$scope);return e.cdecl(l,"Separator",e.cdecl(l,"SEPARATOR","/")),e.cdecl(l,"ALT_SEPARATOR",n),e.cdecl(l,"PATH_SEPARATOR",":"),e.cdecl(l,"FNM_SYSCASE",0),function(a){function $(e){for(var t;e.length>0;)if(c(e)){for(t=e,e=e.substring(1,e.length);e.length>0&&c(e);)e=s(e);if(0==e.length)return t}else e=s(e);return e}function s(e){return e.substring(1,e.length)}function o(e){return e}function l(e){for(var t,r;e.length>0;)if(c(e)){for(t=e,e=s(e);e.length>0&&c(e);)e=s(e);if(!e)break;r=t}else e=s(e);return r}function c(e){return e.charAt(0)===x.get("SEPARATOR")}function u(e){for(;e.length>0&&c(e);)e=s(e);return e}function _(e,t){return 0==e.length?t.length:t.indexOf(e)}function p(e,t,r,a,$,i){var s;return e>=0&&(a===n?t=e:(s=".*"===a?"\\.\\w+":a.replace(/\?/g,"\\?"),s=new RegExp(s+x.get("Separator")+"*$").exec(r),t=s?s.index:e),t===i.length)?$:r.substring(0,t)}var d,h,f,m,g,b,v,y,x=a.$$scope;a.$$proto;return e.defn(a,"$expand_path",d=function(t,r){var a,$,i,s=this,o=n,l=n;null==r&&(r=n);var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"expand_path"),t=[r,t].$compact().$join(x.get("SEPARATOR")),o=t.$split(x.get("SEPARATOR")),l=[],o.$first()["$=="]("~")&&o["$[]="](0,x.get("Dir").$home()),o.$first()["$=="](".")&&o["$[]="](0,x.get("Dir").$pwd()),(a=($=o).$each,a.$$p=(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"expand_path")}return t["$=="]("..")?l.$pop():l["$<<"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","part"]],i),a).call($),l.$join(x.get("SEPARATOR"))},d.$$arity=-2,d.$$parameters=[["req","path"],["opt","basedir"]]),e.alias(a,"realpath","expand_path"),e.defn(a,"$dirname",h=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"dirname"),t===n&&r.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),t["$respond_to?"]("to_path")&&(t=t.$to_path()),t.$$is_string||r.$raise(x.get("TypeError"),"no implicit conversion of "+t.$class()+" into String");var $,i;return $=u(t),0==$.length?t=t.substring(t.length-1,t.length):$.length-t.length<0&&(t=t.substring(t.indexOf($)-1,t.length)),i=l($),i||(i=$),i===t?".":t.substring(0,t.length-i.length)},h.$$arity=1,h.$$parameters=[["req","path"]]),e.defn(a,"$basename",f=function(t,r){var a=this;null==r&&(r=n);var i=arguments.length;(i<1||i>2)&&e.ac(i,-2,this,"basename");var u,d,h,f,m,g=0,b=-1;if(t===n&&a.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),t["$respond_to?"]("to_path")&&(t=t.$to_path()),t.$$is_string||a.$raise(x.get("TypeError"),"no implicit conversion of "+t.$class()+" into String"),r===n||r.$$is_string||a.$raise(x.get("TypeError"),"no implicit conversion of "+r.$class()+" into String"),0==t.length)return t;for(m=t,t=o(t);c(t);)f=t,t=s(t);if(t){if(u=l(t))for(;c(u);)u=s(u);else u=t;for(b=_($(u),u),d=u;_(d,u)<b&&"."===d.charAt(0);d=s(d));for(h=null;_(d,u)<b;d=s(d))"."===d.charAt(0)&&(h=d);g=h?_(h,u):b}else u=f,g=1;return p(b,g,u,r,t,m)},f.$$arity=-2,f.$$parameters=[["req","name"],["opt","suffix"]]),e.defn(a,"$extname",m=function(a){var $,s,o=this,l=n,c=n,u=arguments.length;return 1!==u&&e.ac(u,1,this,"extname"),($=a["$nil?"]())===n||null==$||$.$$is_boolean&&1!=$||o.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),($=a["$respond_to?"]("to_path"))===n||null==$||$.$$is_boolean&&1!=$||(a=a.$to_path()),(($=a["$is_a?"](x.get("String")))===n||null==$||$.$$is_boolean&&1!=$)&&o.$raise(x.get("TypeError"),"no implicit conversion of "+a.$class()+" into String"),l=o.$basename(a),($=l["$empty?"]())===n||null==$||$.$$is_boolean&&1!=$?(c=l["$[]"](i(1,-1,!1)).$rindex("."),($=!1!==(s=c["$nil?"]())&&s!==n&&null!=s?s:t(c,1)["$=="](r(l.$length(),1)))===n||null==$||$.$$is_boolean&&1!=$?l["$[]"](i(t(c,1),-1,!1)):""):""},m.$$arity=1,m.$$parameters=[["req","path"]]),e.defn(a,"$exist?",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"exist?"),null!=e.modules[t]},g.$$arity=1,g.$$parameters=[["req","path"]]),e.alias(a,"exists?","exist?"),e.defn(a,"$directory?",b=function(t){var r,a,$,i=this,s=n,o=arguments.length;1!==o&&e.ac(o,1,this,"directory?"),s=[];for(var l in e.modules)s.push(l);return t=t.$gsub(new RegExp("(^."+x.get("SEPARATOR")+"+|"+x.get("SEPARATOR")+"+$)")),(r=(a=s).$find,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"directory?")}return r["$=~"](new RegExp("^"+t))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","file"]],$),r).call(a)},b.$$arity=1,b.$$parameters=[["req","path"]]),e.defn(a,"$join",v=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return e.$join(x.get("SEPARATOR")).$gsub(new RegExp(x.get("SEPARATOR")+"+"),x.get("SEPARATOR"))},v.$$arity=-1,v.$$parameters=[["rest","paths"]]),e.defn(a,"$split",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"split"),t.$split(x.get("SEPARATOR"))},y.$$arity=1,y.$$parameters=[["req","path"]]),n&&"split"}(e.get_singleton_class(o))}(a.base,a.get("IO"))},Opal.modules["corelib/process"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$to_f","$now","$new"]),function(t,$super){function n(){}var $,i,s,o=n=a(t,$super,"Process",n),l=(o.$$proto,o.$$scope);e.cdecl(l,"CLOCK_REALTIME",0),e.cdecl(l,"CLOCK_MONOTONIC",1),e.defs(o,"$pid",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"pid"),0},$.$$arity=0,$.$$parameters=[]),e.defs(o,"$times",i=function(){var t=r,a=arguments.length;return 0!==a&&e.ac(a,0,this,"times"),t=l.get("Time").$now().$to_f(),l.get("Benchmark").$$scope.get("Tms").$new(t,t,t,t,t)},i.$$arity=0,i.$$parameters=[]),e.defs(o,"$clock_gettime",s=function(t,a){null==a&&(a=r);var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"clock_gettime"),l.get("Time").$now().$to_f()},s.$$arity=-2,s.$$parameters=[["req","clock_id"],["opt","unit"]])}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"Signal",n);i.$$proto,i.$$scope;e.defs(i,"$trap",$=function(){return r},$.$$arity=-1,$.$$parameters=[["rest"]])}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"GC",n);i.$$proto,i.$$scope;return e.defs(i,"$start",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"start"),r},$.$$arity=0,$.$$parameters=[]),r&&"start"}(t.base,null)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":i.get("Kernel").$raise(i.get("NotImplementedError"),t);break;case"warning":r(t)}}function r(e){c[e]||(c[e]=!0,$.$warn(e))}var a,n,$=e.top,i=e,s=e.nil,o=(e.breaker,e.slice,e.klass),l=e.module;e.add_stubs(["$raise","$warn","$%"]);var c={};return function(t,$super){function r(){}var a,n,$,i,s,l,c,u,_,p,d,h,f,m,g,b,v,y,x=r=o(t,$super,"String",r),k=(x.$$proto,x.$$scope),w="String#%s not supported. Mutable String methods are not supported in Opal.";e.defn(x,"$<<",a=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("<<"))},a.$$arity=-1,a.$$parameters=[["rest"]]),e.defn(x,"$capitalize!",n=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("capitalize!"))},n.$$arity=-1,n.$$parameters=[["rest"]]),e.defn(x,"$chomp!",$=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("chomp!"))},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(x,"$chop!",i=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("chop!"))},i.$$arity=-1,i.$$parameters=[["rest"]]),e.defn(x,"$downcase!",s=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("downcase!"))},s.$$arity=-1,s.$$parameters=[["rest"]]),e.defn(x,"$gsub!",l=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("gsub!"))},l.$$arity=-1,l.$$parameters=[["rest"]]),e.defn(x,"$lstrip!",c=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("lstrip!"))},c.$$arity=-1,c.$$parameters=[["rest"]]),e.defn(x,"$next!",u=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("next!"))},u.$$arity=-1,u.$$parameters=[["rest"]]),e.defn(x,"$reverse!",_=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("reverse!"))},_.$$arity=-1,_.$$parameters=[["rest"]]),e.defn(x,"$slice!",p=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("slice!"))},p.$$arity=-1,p.$$parameters=[["rest"]]),e.defn(x,"$squeeze!",d=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("squeeze!"))},d.$$arity=-1,d.$$parameters=[["rest"]]),e.defn(x,"$strip!",h=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("strip!"))},h.$$arity=-1,h.$$parameters=[["rest"]]),e.defn(x,"$sub!",f=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("sub!"))},f.$$arity=-1,f.$$parameters=[["rest"]]),e.defn(x,"$succ!",m=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("succ!"))},m.$$arity=-1,m.$$parameters=[["rest"]]),e.defn(x,"$swapcase!",g=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("swapcase!"))},g.$$arity=-1,g.$$parameters=[["rest"]]),e.defn(x,"$tr!",b=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("tr!"))},b.$$arity=-1,b.$$parameters=[["rest"]]),e.defn(x,"$tr_s!",v=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("tr_s!"))},v.$$arity=-1,v.$$parameters=[["rest"]]),e.defn(x,"$upcase!",y=function(){return this.$raise(k.get("NotImplementedError"),w["$%"]("upcase!"))},y.$$arity=-1,y.$$parameters=[["rest"]])}(i.base,null),function(r){var a,n,$,i=a=l(r,"Kernel"),s=(i.$$proto,i.$$scope,"Object freezing is not supported by Opal");e.defn(i,"$freeze",n=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"freeze"),t(s),r},n.$$arity=0,n.$$parameters=[]),e.defn(i,"$frozen?",$=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"frozen?"),t(s),!1},$.$$arity=0,$.$$parameters=[])}(i.base),function(r){var a,n,$,i,s=a=l(r,"Kernel"),o=(s.$$proto,s.$$scope,"Object tainting is not supported by Opal");e.defn(s,"$taint",n=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"taint"),t(o),r},n.$$arity=0,n.$$parameters=[]),e.defn(s,"$untaint",$=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"untaint"),t(o),r},$.$$arity=0,$.$$parameters=[]),e.defn(s,"$tainted?",i=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"tainted?"),t(o),!1},i.$$arity=0,i.$$parameters=[])}(i.base),function(t,$super){function r(){}var a,n,$,i,l=r=o(t,$super,"Module",r);l.$$proto,l.$$scope;e.defn(l,"$public",a=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length&&(t.$$module_function=!1),s},a.$$arity=-1,a.$$parameters=[["rest","methods"]]),e.alias(l,"private","public"),e.alias(l,"protected","public"),e.alias(l,"nesting","public"),e.defn(l,"$private_class_method",n=function(){return this},n.$$arity=-1,n.$$parameters=[["rest"]]),e.alias(l,"public_class_method","private_class_method"),e.defn(l,"$private_method_defined?",$=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"private_method_defined?"),!1},$.$$arity=1,$.$$parameters=[["req","obj"]]),e.defn(l,"$private_constant",i=function(){return s},i.$$arity=-1,i.$$parameters=[["rest"]]),e.alias(l,"protected_method_defined?","private_method_defined?"),e.alias(l,"public_instance_methods","instance_methods"),e.alias(l,"public_method_defined?","method_defined?")}(i.base,null),function(t){var r,a,n=r=l(t,"Kernel");n.$$proto,n.$$scope;e.defn(n,"$private_methods",a=function(){return[]},a.$$arity=-1,a.$$parameters=[["rest"]]),e.alias(n,"private_instance_methods","private_methods")}(i.base),function(t){var r,a,n=r=l(t,"Kernel"),$=(n.$$proto,n.$$scope);e.defn(n,"$eval",a=function(){return this.$raise($.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+$.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},a.$$arity=-1,a.$$parameters=[["rest"]])}(i.base),e.defs($,"$public",a=function(){return s},a.$$arity=-1,a.$$parameters=[["rest"]]),e.defs($,"$private",n=function(){return s},n.$$arity=-1,n.$$parameters=[["rest"]]),s&&"private"},function(e){var t=e.top;e.nil,e.breaker,e.slice;e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/unsupported")}(Opal),Opal.modules["opal/rspec/fixes/opal/compatibility"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$include","$new","$===","$kind_of?","$==","$stuff"]),function(t){var $,i=$=a(t,"Opal"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o=$=a(t,"Compatibility"),l=(o.$$proto,o.$$scope);!function(e){var t,r=t=a(e,"ModuleCase");r.$$proto,r.$$scope}(l.base),function(e){var t,r=t=a(e,"ModuleCase2"),n=(r.$$proto,r.$$scope);r.$include(n.get("ModuleCase"))}(l.base),function(e,$super){function t(){}var r=t=n(e,$super,"ModuleCase3",t),a=(r.$$proto,r.$$scope);r.$include(a.get("ModuleCase2"))}(l.base,null),e.defs(o,"$module_case_works_right?",i=function(){var t,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"module_case_works_right?"),a=l.get("ModuleCase3").$new(),t=l.get("ModuleCase")["$==="](a),!1!==t&&t!==r&&null!=t?a["$kind_of?"](l.get("ModuleCase")):t},i.$$arity=0,i.$$parameters=[]),function(t){var r,n,$=r=a(t,"MultModSuper1");$.$$proto,$.$$scope;e.defn($,"$stuff",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"stuff"),"howdy"},n.$$arity=0,n.$$parameters=[])}(l.base),function(t){var n,$,i=n=a(t,"MultModSuper2");i.$$proto,i.$$scope;e.defn(i,"$stuff",$=function(){var t,a,n=this,i=$.$$p,s=r,o=r;$.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"stuff"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(a=n,t=e.find_super_dispatcher(n,"stuff",$,!1),t.$$p=i,t).apply(a,s)},$.$$arity=0,$.$$parameters=[])}(l.base),function(e){var t,r=t=a(e,"MultModSuper3"),n=(r.$$proto,r.$$scope);r.$include(n.get("MultModSuper1")),r.$include(n.get("MultModSuper2"))}(l.base),function(e,$super){function t(){}var r=t=n(e,$super,"MultModSuperClass",t),a=(r.$$proto,r.$$scope);r.$include(a.get("MultModSuper3"))}(l.base,null),e.defs(o,"$multiple_module_include_super_works_right?",s=function(){var t=arguments.length;0!==t&&e.ac(t,0,this,"multiple_module_include_super_works_right?");try{return l.get("MultModSuperClass").$new().$stuff()["$=="]("howdy")}catch(t){if(!e.rescue(t,[l.get("Exception")]))throw t;t;try{return!1}finally{e.pop_exception()}}},s.$$arity=0,s.$$parameters=[])}(s.base)}(s.base)}(t.base)},Opal.modules["opal/rspec/pre_require_fixes"]=function(e){var t,r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.klass);return((t=null!=a.RUBY_DESCRIPTION)===n||null==t||t.$$is_boolean&&1!=t)&&e.cdecl(a,"RUBY_DESCRIPTION",a.get("RUBY_VERSION")),((t=null!=a.SecurityError)===n||null==t||t.$$is_boolean&&1!=t)&&function(e,$super){function t(){}var r=t=$(e,$super,"SecurityError",t);r.$$proto,r.$$scope}(a.base,a.get("Exception")),r.$require("opal/rspec/pre_require_fixes/../fixes/opal/compatibility")},Opal.modules.template=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.hash2;return e.add_stubs(["$[]","$[]=","$keys","$attr_reader","$instance_exec","$to_proc","$new","$<<","$join"]),function(t,$super){function $(){}var i,s,o,l,c,u,_=$=a(t,$super,"Template",$),p=_.$$proto,d=_.$$scope;return p.name=p.body=r,_._cache=n([],{}),e.defs(_,"$[]",i=function(t){var a,n=this;null==n._cache&&(n._cache=r);var $=arguments.length;return 1!==$&&e.ac($,1,this,"[]"),!1!==(a=n._cache["$[]"](t))&&a!==r&&null!=a?a:n._cache["$[]"]("templates/"+t)},i.$$arity=1,i.$$parameters=[["req","name"]]),e.defs(_,"$[]=",s=function(t,a){var n=this;null==n._cache&&(n._cache=r);var $=arguments.length;return 2!==$&&e.ac($,2,this,"[]="),n._cache["$[]="](t,a)},s.$$arity=2,s.$$parameters=[["req","name"],["req","instance"]]),e.defs(_,"$paths",o=function(){var t=this;null==t._cache&&(t._cache=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"paths"),t._cache.$keys()},o.$$arity=0,o.$$parameters=[]),_.$attr_reader("body"),e.defn(_,"$initialize",l=function(t){var a,n=this,$=l.$$p,i=$||r;l.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),a=[t,i],n.name=a[0],n.body=a[1],d.get("Template")["$[]="](t,n)},l.$$arity=1,l.$$parameters=[["req","name"],["block","body"]]),e.defn(_,"$inspect",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Template: '"+t.name+"'>"},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$render",u=function(t){var r,a,n=this;null==t&&(t=n);var $=arguments.length;return $>1&&e.ac($,-1,this,"render"),(r=(a=t).$instance_exec,r.$$p=n.body.$to_proc(),r).call(a,d.get("OutputBuffer").$new())},u.$$arity=-1,u.$$parameters=[["opt","ctx"]]),function(t,$super){function n(){}var $,i,s,o=n=a(t,$super,"OutputBuffer",n),l=o.$$proto;o.$$scope;return l.buffer=r,e.defn(o,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.buffer=[]},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$append",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"append"),r.buffer["$<<"](t)},i.$$arity=1,i.$$parameters=[["req","str"]]),e.alias(o,"append=","append"),e.defn(o,"$join",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"join"),t.buffer.$join()},s.$$arity=0,s.$$parameters=[]),r&&"join"}(d.base,null)}(t.base,null)},Opal.modules.erb=function(e){var t=e.top,r=e,a=(e.nil,e.breaker,e.slice,e.klass),n=e.module;return e.add_stubs(["$require","$module_function"]),t.$require("template"),function(t,$super){function r(){}var $=r=a(t,$super,"ERB",r),i=($.$$proto,$.$$scope);return function(t){var r,a,$=r=n(t,"Util"),i=($.$$proto,$.$$scope,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),s=/[&<>"']/g;e.defn($,"$html_escape",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"html_escape"),(""+t).replace(s,function(e){return i[e]})},a.$$arity=1,a.$$parameters=[["req","str"]]),e.alias($,"h","html_escape"),$.$module_function("h"),$.$module_function("html_escape")}(i.base)}(r.base,null)},Opal.modules.json=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$new","$push","$[]=","$[]","$create_id","$json_create","$attr_accessor","$create_id=","$===","$parse","$generate","$from_object","$merge","$to_json","$responds_to?","$to_io","$write","$to_s","$to_a","$strftime"]),function(t){function $(t,a){var n,i,s,o,l,c;switch(typeof t){case"string":case"number":return t;case"boolean":return!!t;case"null":return r;case"object":if(!t)return r;if(t.$$is_array){for(i=a.array_class.$new(),o=0,l=t.length;o<l;o++)i.$push($(t[o],a));return i}s=a.object_class.$new();for(c in t)b.call(t,c)&&s["$[]="](c,$(t[c],a));return a.parse||(n=s["$[]"](m.get("JSON").$create_id()))==r?s:(n=e.get(n),n.$json_create(s))}}var i,s,o,l,c,u,_,p,d,h,f=i=a(t,"JSON"),m=(f.$$proto,f.$$scope),g=JSON.parse,b=e.hasOwnProperty;!function(e){e.$$scope,e.$$proto;e.$attr_accessor("create_id")}(e.get_singleton_class(f)),s=["json_class"],o=f,o["$create_id="].apply(o,s),s[s.length-1],e.defs(f,"$[]",l=function(t,a){var $,i=this;null==a&&(a=n([],{}));var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"[]"),($=m.get("String")["$==="](t))===r||null==$||$.$$is_boolean&&1!=$?i.$generate(t,a):i.$parse(t,a)},l.$$arity=-2,l.$$parameters=[["req","value"],["opt","options"]]),e.defs(f,"$parse",c=function(t,r){var a=this;null==r&&(r=n([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"parse"),a.$from_object(g(t),r.$merge(n(["parse"],{parse:!0})))},c.$$arity=-2,c.$$parameters=[["req","source"],["opt","options"]]),e.defs(f,"$parse!",u=function(t,r){var a=this;null==r&&(r=n([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"parse!"),a.$parse(t,r)},u.$$arity=-2,u.$$parameters=[["req","source"],["opt","options"]]),e.defs(f,"$load",_=function(t,r){var a=this;null==r&&(r=n([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"load"),a.$from_object(g(t),r)},_.$$arity=-2,_.$$parameters=[["req","source"],["opt","options"]]),e.defs(f,"$from_object",p=function(t,a){var i,s,o;null==a&&(a=n([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"from_object"),i="object_class",s=a,!1!==(o=s["$[]"](i))&&o!==r&&null!=o||s["$[]="](i,m.get("Hash")),i="array_class",s=a,!1!==(o=s["$[]"](i))&&o!==r&&null!=o||s["$[]="](i,m.get("Array")),$(t,a.$$smap)},p.$$arity=-2,p.$$parameters=[["req","js_object"],["opt","options"]]),e.defs(f,"$generate",d=function(t,r){null==r&&(r=n([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"generate"),t.$to_json(r)},d.$$arity=-2,d.$$parameters=[["req","obj"],["opt","options"]]),e.defs(f,"$dump",h=function(t,a,n){var $,i=this,s=r;null==a&&(a=r),null==n&&(n=r);var o=arguments.length;return(o<1||o>3)&&e.ac(o,-2,this,"dump"),s=i.$generate(t),!1!==a&&a!==r&&null!=a?(($=a["$responds_to?"]("to_io"))===r||null==$||$.$$is_boolean&&1!=$||(a=a.$to_io()),a.$write(s),a):s},h.$$arity=-2,h.$$parameters=[["req","obj"],["opt","io"],["opt","limit"]])}(t.base),function(t,$super){function r(){}var a,n=r=$(t,$super,"Object",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_s().$to_json()},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t){var r,n,$=r=a(t,"Enumerable");$.$$proto,$.$$scope;e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_a().$to_json()},n.$$arity=0,n.$$parameters=[])}(t.base),function(t,$super){function r(){}var a,n=r=$(t,$super,"Array",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_json");for(var a=[],n=0,$=t.length;n<$;n++)a.push(t[n].$to_json());return"["+a.join(", ")+"]"},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"Boolean",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),1==t?"true":"false"},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"Hash",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_json");for(var a,n,$=[],i=0,s=t.$$keys,o=s.length;i<o;i++)a=s[i],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),$.push(a.$to_s().$to_json()+":"+n.$to_json());return"{"+$.join(", ")+"}"},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"NilClass",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_json"),"null"},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"Numeric",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.toString()},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function r(){}var a=r=$(t,$super,"String",r);a.$$proto,a.$$scope;e.alias(a,"to_json","inspect")}(t.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"Time",r);n.$$proto,n.$$scope;e.defn(n,"$to_json",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$strftime("%FT%T%z").$to_json()},a.$$arity=0,a.$$parameters=[])}(t.base,null),function(t,$super){function a(){}var n,i,s=a=$(t,$super,"Date",a);s.$$proto,s.$$scope;return e.defn(s,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_s().$to_json()},n.$$arity=0,n.$$parameters=[]),e.defn(s,"$as_json",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_json"),t.$to_s()},i.$$arity=0,i.$$parameters=[]),r&&"as_json"}(t.base,null)},Opal.modules.pathname=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.klass),i=e.range,s=e.module;return e.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,$super){function a(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I=a=$(r,$super,"Pathname",a),C=I.$$proto,P=I.$$scope;C.path=n,I.$include(P.get("Comparable")),e.cdecl(P,"SEPARATOR_PAT",new RegExp(""+P.get("Regexp").$quote(P.get("File").$$scope.get("SEPARATOR")))),e.defn(I,"$initialize",s=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),(r=P.get("Pathname")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r?(r=t["$respond_to?"]("to_path"))===n||null==r||r.$$is_boolean&&1!=r?(r=t["$is_a?"](P.get("String")))===n||null==r||r.$$is_boolean&&1!=r?(r=t["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?a.$raise(P.get("TypeError"),"no implicit conversion of "+t.$class()+" into String"):a.$raise(P.get("TypeError"),"no implicit conversion of nil into String"):a.path=t:a.path=t.$to_path():a.path=t.$path().$to_s(),a.path["$=="]("\0")?a.$raise(P.get("ArgumentError")):n},s.$$arity=1,s.$$parameters=[["req","path"]]),I.$attr_reader("path"),e.defn(I,"$==",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$path()["$=="](r.path)},o.$$arity=1,o.$$parameters=[["req","other"]]),e.defn(I,"$absolute?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"absolute?"),t["$relative?"]()["$!"]()},l.$$arity=0,l.$$parameters=[]),e.defn(I,"$relative?",c=function(){var t,r,a=this,$=n,i=n,s=arguments.length;for(0!==s&&e.ac(s,0,this,"relative?"),$=a.path;(t=i=a.$chop_basename($))!==n&&null!=t&&(!t.$$is_boolean||1==t);)r=i,t=e.to_ary(r),$=null==t[0]?n:t[0];return $["$=="]("")},c.$$arity=0,c.$$parameters=[]),e.defn(I,"$chop_basename",u=function(t){var r,a=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"chop_basename"),a=P.get("File").$basename(t),(r=P.get("Regexp").$new("^"+P.get("Pathname").$$scope.get("SEPARATOR_PAT").$source()+"?$")["$=~"](a))===n||null==r||r.$$is_boolean&&1!=r?[t["$[]"](0,t.$rindex(a)),a]:n},u.$$arity=1,u.$$parameters=[["req","path"]]),e.defn(I,"$root?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"root?"),t.path["$=="]("/")},_.$$arity=0,_.$$parameters=[]),e.defn(I,"$parent",p=function(){var t,r=this,a=n,$=arguments.length;return 0!==$&&e.ac($,0,this,"parent"),a=r.path.$sub(/\/([^\/]+\/?$)/,""),a["$=="]("")&&(a=function(){return(t=r["$absolute?"]())===n||null==t||t.$$is_boolean&&1!=t?".":"/"}()),P.get("Pathname").$new(a)},p.$$arity=0,p.$$parameters=[]),e.defn(I,"$sub",d=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return P.get("Pathname").$new((t=a.path).$sub.apply(t,e.to_a(r)))},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(I,"$cleanpath",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"cleanpath"),e.normalize(t.path)},h.$$arity=0,h.$$parameters=[]),e.defn(I,"$to_path",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_path"),t.path},f.$$arity=0,f.$$parameters=[]),e.defn(I,"$hash",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.path},m.$$arity=0,m.$$parameters=[]),e.defn(I,"$expand_path",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expand_path"),P.get("File").$expand_path(t.path)},g.$$arity=0,g.$$parameters=[]),e.defn(I,"$+",b=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"+"),((r=P.get("Pathname")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r)&&(t=P.get("Pathname").$new(t)),P.get("Pathname").$new(a.$plus(a.path,t.$to_s()))},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(I,"$plus",v=function(r,a){var $,s,o,l,c=this,u=n,_=n,p=n,d=n,h=n,f=n,m=n,g=n,b=n,v=arguments.length;for(2!==v&&e.ac(v,2,this,"plus"),u=a,_=[],p=[];(s=d=c.$chop_basename(u))!==n&&null!=s&&(!s.$$is_boolean||1==s);)o=d,s=e.to_ary(o),u=null==s[0]?n:s[0],h=null==s[1]?n:s[1],_.$unshift(u.$length()),p.$unshift(h);if(($=u["$!="](""))!==n&&null!=$&&(!$.$$is_boolean||1==$))return a;for(f=r;(s=!0)!==n&&null!=s&&(!s.$$is_boolean||1==s);){for(;l=p["$empty?"]()["$!"](),(o=!1!==l&&l!==n&&null!=l?p.$first()["$=="]("."):l)!==n&&null!=o&&(!o.$$is_boolean||1==o);)_.$shift(),p.$shift();if((s=m=c.$chop_basename(f))===n||null==s||s.$$is_boolean&&1!=s)break;if(o=m,s=e.to_ary(o),f=null==s[0]?n:s[0],g=null==s[1]?n:s[1],!g["$=="](".")){if((s=!1!==(o=!1!==(l=g["$=="](".."))&&l!==n&&null!=l?l:p["$empty?"]())&&o!==n&&null!=o?o:p.$first()["$!="](".."))!==n&&null!=s&&(!s.$$is_boolean||1==s)){f=t(f,g);break}_.$shift(),p.$shift()}}if(m=c.$chop_basename(f),s=m["$!"](),($=!1!==s&&s!==n&&null!=s?new RegExp(""+P.get("SEPARATOR_PAT"))["$=~"](P.get("File").$basename(f)):s)!==n&&null!=$&&(!$.$$is_boolean||1==$))for(;o=p["$empty?"]()["$!"](),(s=!1!==o&&o!==n&&null!=o?p.$first()["$=="](".."):o)!==n&&null!=s&&(!s.$$is_boolean||1==s);)_.$shift(),p.$shift();return($=p["$empty?"]()["$!"]())===n||null==$||$.$$is_boolean&&1!=$?!1!==m&&m!==n&&null!=m?f:P.get("File").$dirname(f):(b=a["$[]"](i(_.$first(),-1,!1)),!1!==m&&m!==n&&null!=m?P.get("File").$join(f,b):t(f,b))},v.$$arity=2,v.$$parameters=[["req","path1"],["req","path2"]]),e.defn(I,"$join",y=function(){try{var r,a,$,i,s=this,o=n,l=arguments.length,c=l-0;c<0&&(c=0),i=new Array(c);for(var u=0;u<l;u++)i[u-0]=arguments[u];return(r=i["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(o=i.$pop(),((r=P.get("Pathname")["$==="](o))===n||null==r||r.$$is_boolean&&1!=r)&&(o=P.get("Pathname").$new(o)),(r=o["$absolute?"]())===n||null==r||r.$$is_boolean&&1!=r?((r=(a=i).$reverse_each,r.$$p=($=function(r){var a;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"join")}if(((a=P.get("Pathname")["$==="](r))===n||null==a||a.$$is_boolean&&1!=a)&&(r=P.get("Pathname").$new(r)),o=t(r,o),(a=o["$absolute?"]())===n||null==a||a.$$is_boolean&&1!=a)return n;e.ret(o)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","arg"]],$),r).call(a),t(s,o)):o):s}catch(t){if(t===e.returner)return t.$v;throw t}},y.$$arity=-1,y.$$parameters=[["rest","args"]]),e.defn(I,"$split",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"split"),
[t.$dirname(),t.$basename()]},x.$$arity=0,x.$$parameters=[]),e.defn(I,"$dirname",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dirname"),P.get("Pathname").$new(P.get("File").$dirname(t.path))},k.$$arity=0,k.$$parameters=[]),e.defn(I,"$basename",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"basename"),P.get("Pathname").$new(P.get("File").$basename(t.path))},w.$$arity=0,w.$$parameters=[]),e.defn(I,"$directory?",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"directory?"),P.get("File")["$directory?"](t.path)},q.$$arity=0,q.$$parameters=[]),e.defn(I,"$extname",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"extname"),P.get("File").$extname(t.path)},S.$$arity=0,S.$$parameters=[]),e.defn(I,"$<=>",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<=>"),r.$path()["$<=>"](t.$path())},E.$$arity=1,E.$$parameters=[["req","other"]]),e.alias(I,"eql?","=="),e.alias(I,"===","=="),e.alias(I,"to_str","to_path"),e.alias(I,"to_s","to_path"),e.cdecl(P,"SAME_PATHS",function(){return(R=P.get("File").$$scope.get("FNM_SYSCASE")["$nonzero?"]())===n||null==R||R.$$is_boolean&&1!=R?(R=(A=I).$proc,R.$$p=(z=function(t,r){z.$$s;if(null==t&&(t=n),null==r&&(r=n),z.$$is_lambda||z.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"<class:Pathname>")}return t["$=="](r)},z.$$s=I,z.$$arity=2,z.$$parameters=[["req","a"],["req","b"]],z),R).call(A):(R=(O=I).$proc,R.$$p=(M=function(t,r){M.$$s;if(null==t&&(t=n),null==r&&(r=n),M.$$is_lambda||M.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"<class:Pathname>")}return t.$casecmp(r)["$=="](0)},M.$$s=I,M.$$arity=2,M.$$parameters=[["req","a"],["req","b"]],M),R).call(O)}()),e.defn(I,"$relative_path_from",j=function(r){var a,$,i,s,o=this,l=n,c=n,u=n,_=n,p=n,d=n,h=n,f=n,m=arguments.length;for(1!==m&&e.ac(m,1,this,"relative_path_from"),l=o.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=l,u=[];($=_=o.$chop_basename(c))!==n&&null!=$&&(!$.$$is_boolean||1==$);)i=_,$=e.to_ary(i),c=null==$[0]?n:$[0],p=null==$[1]?n:$[1],($=p["$!="]("."))===n||null==$||$.$$is_boolean&&1!=$||u.$unshift(p);for(d=r,h=[];($=_=o.$chop_basename(d))!==n&&null!=$&&(!$.$$is_boolean||1==$);)i=_,$=e.to_ary(i),d=null==$[0]?n:$[0],p=null==$[1]?n:$[1],($=p["$!="]("."))===n||null==$||$.$$is_boolean&&1!=$||h.$unshift(p);for(((a=P.get("SAME_PATHS")["$[]"](c,d))===n||null==a||a.$$is_boolean&&1!=a)&&o.$raise(P.get("ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());s=u["$empty?"]()["$!"](),i=!1!==s&&s!==n&&null!=s?h["$empty?"]()["$!"]():s,($=!1!==i&&i!==n&&null!=i?P.get("SAME_PATHS")["$[]"](u.$first(),h.$first()):i)!==n&&null!=$&&(!$.$$is_boolean||1==$);)u.$shift(),h.$shift();return(a=h["$include?"](".."))===n||null==a||a.$$is_boolean&&1!=a||o.$raise(P.get("ArgumentError"),"base_directory has ..: "+r.$inspect()),h.$fill(".."),f=t(h,u),(a=f["$empty?"]())===n||null==a||a.$$is_boolean&&1!=a?P.get("Pathname").$new((a=P.get("File")).$join.apply(a,e.to_a(f))):P.get("Pathname").$new(".")},j.$$arity=1,j.$$parameters=[["req","base_directory"]]),e.defn(I,"$entries",T=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"entries"),(t=(r=P.get("Dir").$entries($.path)).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"entries")}return r.$class().$new(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r)},T.$$arity=0,T.$$parameters=[])}(a.base,null),function(t){var r,a,n=r=s(t,"Kernel"),$=(n.$$proto,n.$$scope);e.defn(n,"$Pathname",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"Pathname"),$.get("Pathname").$new(t)},a.$$arity=1,a.$$parameters=[["req","path"]])}(a.base)},Opal.modules.pp=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass,s=e.gvars;return e.add_stubs(["$inspect","$each","$pp","$<=","$size","$first","$module_function","$p","$args","$===","$+","$<<"]),function(r){var a,i,s,o=a=$(r,"Kernel"),l=(o.$$proto,o.$$scope);e.defn(o,"$pretty_inspect",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pretty_inspect"),t.$inspect()},i.$$arity=0,i.$$parameters=[]),e.defn(o,"$pp",s=function(){var r,a,$,i,s=this,o=arguments.length,c=o-0;c<0&&(c=0),i=new Array(c);for(var u=0;u<o;u++)i[u-0]=arguments[u];return(r=(a=i).$each,r.$$p=($=function(t){$.$$s;if(null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"pp")}return l.get("PP").$pp(t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","obj"]],$),r).call(a),(r=t(i.$size(),1))===n||null==r||r.$$is_boolean&&1!=r?i:i.$first()},s.$$arity=-1,s.$$parameters=[["rest","objs"]]),o.$module_function("pp")}(a.base),function(t,$super){function a(){}var $=a=i(t,$super,"PP",a);$.$$proto,$.$$scope;return function(t){var a,$,i,o=t.$$scope;t.$$proto;return(a="undefined"==typeof console||"undefined"==typeof console.log)===n||null==a||a.$$is_boolean&&1!=a?e.defn(t,"$pp",i=function(t,a,$){var i;null==s.stdout&&(s.stdout=n),null==a&&(a=s.stdout),null==$&&($=79);var l=arguments.length;return(l<1||l>3)&&e.ac(l,-2,this,"pp"),(i=o.get("String")["$==="](a))===n||null==i||i.$$is_boolean&&1!=i?a["$<<"](r(t.$inspect(),"\n")):r(r(a,t.$inspect()),"\n")},i.$$arity=-2,i.$$parameters=[["req","obj"],["opt","out"],["opt","width"]]):e.defn(t,"$pp",$=function(t,r,a){var $,i=this;null==s.stdout&&(s.stdout=n),null==r&&(r=s.stdout),null==a&&(a=79);var o=arguments.length;return(o<1||o>3)&&e.ac(o,-2,this,"pp"),($=i).$p.apply($,e.to_a(i.$args()))},$.$$arity=-2,$.$$parameters=[["req","obj"],["opt","out"],["opt","width"]]),e.alias(t,"singleline_pp","pp")}(e.get_singleton_class($))}(a.base,null)},Opal.modules.rbconfig=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$split","$[]"]),function(t){var $,i=$=a(t,"RbConfig"),s=(i.$$proto,i.$$scope),o=r;o=s.get("RUBY_VERSION").$split("."),e.cdecl(s,"CONFIG",n(["ruby_version","MAJOR","MINOR","TEENY","RUBY","RUBY_INSTALL_NAME","RUBY_SO_NAME","target_os","host_os","PATH_SEPARATOR"],{ruby_version:s.get("RUBY_VERSION"),MAJOR:o["$[]"](0),MINOR:o["$[]"](1),TEENY:o["$[]"](2),RUBY:s.get("RUBY_ENGINE"),RUBY_INSTALL_NAME:s.get("RUBY_ENGINE"),RUBY_SO_NAME:s.get("RUBY_ENGINE"),target_os:"ECMA-262",host_os:"ECMA-262",PATH_SEPARATOR:":"}))}(t.base),e.cdecl(t,"RUBY_EXE","bundle exec bin/opal")},Opal.modules["rspec/support"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$respond_to?","$__send__","$call","$require","$define_optimized_require_for_rspec","$require_rspec_support","$instance_method","$supports_rebinding_module_methods?","$bind","$method","$is_a?","$raise","$==="]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o,l,c,u=n=a(t,"Support"),_=(u.$$proto,u.$$scope);e.defs(u,"$define_optimized_require_for_rspec",$=function(t){var a,n,i,s,o,l=this,c=$.$$p,u=c||r,p=r;$.$$p=null;var d=arguments.length;return 1!==d&&e.ac(d,1,this,"define_optimized_require_for_rspec"),p="require_rspec_"+t,(a=_.get("Kernel")["$respond_to?"]("require_relative"))===r||null==a||a.$$is_boolean&&1!=a?(a=(s=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(l))).$__send__,a.$$p=(o=function(a){var n=o.$$s||this;if(null==a&&(a=r),o.$$is_lambda||o.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"define_optimized_require_for_rspec")}return n.$require("rspec/"+t+"/"+a)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","f"]],o),a).call(s,"define_method",p):(a=(n=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(l))).$__send__,a.$$p=(i=function(a){i.$$s;if(null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"define_optimized_require_for_rspec")}return u.$call(t+"/"+a)},i.$$s=l,i.$$arity=1,i.$$parameters=[["req","f"]],i),a).call(n,"define_method",p)},$.$$arity=1,$.$$parameters=[["req","lib"],["block","require_relative"]]),(i=(s=u).$define_optimized_require_for_rspec,i.$$p=(o=function(t){var a=o.$$s||this;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<module:Support>")}return a.$require("rspec/support/../"+t)},o.$$s=u,o.$$arity=1,o.$$parameters=[["req","f"]],o),i).call(s,"support"),u.$require_rspec_support("version"),u.$require_rspec_support("ruby_features"),e.cdecl(_,"KERNEL_METHOD_METHOD",e.get("Kernel").$instance_method("method")),(i=_.get("RubyFeatures")["$supports_rebinding_module_methods?"]())===r||null==i||i.$$is_boolean&&1!=i?e.defs(u,"$method_handle_for",c=function(t,a){var n,$=this,i=r,s=r,o=arguments.length;2!==o&&e.ac(o,2,this,"method_handle_for");try{return(n=e.get("Kernel")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n?t.$method(a):_.get("KERNEL_METHOD_METHOD").$bind(t).$call(a)}catch(o){if(!e.rescue(o,[_.get("NameError")]))throw o;i=o;try{try{return s=t.$method(a),((n=s["$is_a?"](_.get("Method")))===r||null==n||n.$$is_boolean&&1!=n)&&$.$raise(i),s}catch(t){if(!e.rescue(t,[_.get("Exception")]))throw t;try{return $.$raise(i)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},c.$$arity=2,c.$$parameters=[["req","object"],["req","method_name"]]):e.defs(u,"$method_handle_for",l=function(t,a){var n,$=this,i=r,s=r,o=arguments.length;2!==o&&e.ac(o,2,this,"method_handle_for");try{return _.get("KERNEL_METHOD_METHOD").$bind(t).$call(a)}catch(o){if(!e.rescue(o,[_.get("NameError")]))throw o;i=o;try{try{return s=t.$method(a),((n=s["$is_a?"](_.get("Method")))===r||null==n||n.$$is_boolean&&1!=n)&&$.$raise(i),s}catch(t){if(!e.rescue(t,[_.get("Exception")]))throw t;try{return $.$raise(i)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},l.$$arity=2,l.$$parameters=[["req","object"],["req","method_name"]])}(i.base)}(t.base)},Opal.modules["rspec/core/shared_context"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$each","$playback_onto","$__shared_context_recordings","$new","$__send__","$to_proc","$block","$method_name","$args","$define_method","$<<","$record","$+","$instance_methods"]),function(r){var $,i=$=n(r,"RSpec"),s=(i.$$proto,i.$$scope);!function(r){var $,i=$=n(r,"Core"),s=(i.$$proto,i.$$scope);!function(r){var $,i,s,o,l,c,u,_=$=n(r,"SharedContext"),p=(_.$$proto,_.$$scope);e.defn(_,"$included",i=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"included"),(r=(n=i.$__shared_context_recordings()).$each,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"included")}return r.$playback_onto(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","recording"]],$),r).call(n)},i.$$arity=1,i.$$parameters=[["req","group"]]),e.defn(_,"$__shared_context_recordings",s=function(){var t,r=this;null==r.__shared_context_recordings&&(r.__shared_context_recordings=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"__shared_context_recordings"),!1!==(t=r.__shared_context_recordings)&&t!==a&&null!=t?t:r.__shared_context_recordings=[]},s.$$arity=0,s.$$parameters=[]),e.cdecl(p,"Recording",(o=(l=p.get("Struct")).$new,o.$$p=(c=function(){var t,r=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<module:SharedContext>")}return e.def(r,"$playback_onto",t=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"playback_onto"),(r=(a=t).$__send__,r.$$p=n.$block().$to_proc(),r).apply(a,[n.$method_name()].concat(e.to_a(n.$args())))},t.$$arity=1,t.$$parameters=[["req","group"]]),a&&"playback_onto"},c.$$s=_,c.$$arity=0,c.$$parameters=[],c),o).call(l,"method_name","args","block")),e.defs(_,"$record",u=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"record"),(r=(n=t).$each,r.$$p=($=function(t){var r,n,i,s=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"record")}return(r=(n=s).$define_method,r.$$p=(i=function(){var e,r,n=i.$$s||this;e=i.$$p||a,i.$$p=null;var $=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n.$__shared_context_recordings()["$<<"](p.get("Recording").$new(t,r,e))},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","args"],["block","block"]],i),r).call(n,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","meth"]],$),r).call(n)},u.$$arity=1,u.$$parameters=[["req","methods"]]),_.$record(t(t(["describe","context"],p.get("Hooks").$instance_methods(!1)),p.get("MemoizedHelpers").$$scope.get("ClassMethods").$instance_methods(!1)))}(s.base)}(s.base),e.cdecl(s,"SharedContext",s.get("Core").$$scope.get("SharedContext"))}(r.base)},Opal.modules["rspec/core"]=function(e){var t,r,a,n,$,i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.gvars),c=e.module,u=e.hash2,_=e.klass;return e.add_stubs(["$now","$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_core","$autoload","$extend","$new","$expose_dsl_globally=","$configuration","$[]","$thread_local_metadata","$[]=","$current","$define_method","$to_proc","$method","$expand_path","$fetch","$const_get"]),l._rspec_core_load_started_at=s.get("Time").$now(),i.$require("rbconfig"),i.$require("rspec/support"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),(t=(r=s.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return r.$require("rspec/core/../"+t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r,"core"),(t=(n=["version","warnings","flat_map","filter_manager","dsl","notifications","reporter","hooks","memoized_helpers","metadata","metadata_filter","pending","formatters","ordering","world","configuration","option_parser","configuration_options","runner","example","shared_example_group","example_group"]).$each,t.$$p=($=function(t){$.$$s;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return s.get("RSpec").$$scope.get("Support").$require_rspec_core(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","name"]],$),t).call(n),function(t){var r,a,n,$,i,s,l,p,d,h=r=c(t,"RSpec"),f=(h.$$proto,h.$$scope);h.$autoload("SharedContext","rspec/core/shared_context"),h.$extend(f.get("RSpec").$$scope.get("Core").$$scope.get("Warnings")),e.defs(h,"$reset",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.world=o,t.configuration=o},a.$$arity=0,a.$$parameters=[]),e.defs(h,"$configuration",n=function(){var t,r,a,n=this,$=o;null==n.configuration&&(n.configuration=o);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"configuration"),!1!==(t=n.configuration)&&t!==o&&null!=t?t:n.configuration=function(){return $=f.get("RSpec").$$scope.get("Core").$$scope.get("Configuration").$new(),r=[!0],a=$,a["$expose_dsl_globally="].apply(a,r),r[r.length-1],$}()},n.$$arity=0,n.$$parameters=[]),e.defs(h,"$configure",$=function(){var t=this,r=$.$$p,a=r||o;$.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configure"),a!==o?e.yield1(a,t.$configuration()):o},$.$$arity=0,$.$$parameters=[]),e.defs(h,"$current_example",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"current_example"),t.$thread_local_metadata()["$[]"]("current_example")},i.$$arity=0,i.$$parameters=[]),e.defs(h,"$current_example=",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"current_example="),r.$thread_local_metadata()["$[]="]("current_example",t)},s.$$arity=1,s.$$parameters=[["req","example"]]),e.defs(h,"$thread_local_metadata",l=function(){var t,r,a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"thread_local_metadata"),t="_rspec",r=f.get("Thread").$current(),!1!==(a=r["$[]"](t))&&a!==o&&null!=a?a:r["$[]="](t,u([],{}))},l.$$arity=0,l.$$parameters=[]),e.defs(h,"$world",p=function(){var t,r=this;null==r.world&&(r.world=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"world"),!1!==(t=r.world)&&t!==o&&null!=t?t:r.world=f.get("RSpec").$$scope.get("Core").$$scope.get("World").$new()},p.$$arity=0,p.$$parameters=[]),function(t){var r,a,n=r=c(t,"Core"),$=(n.$$proto,n.$$scope);!function(t,$super){function r(){}var a=r=_(t,$super,"Time",r);a.$$proto,a.$$scope;(function(t){var r,a;t.$$scope,t.$$proto;(r=(a=t).$define_method,r.$$p=e.get("Time").$method("now").$to_proc(),r).call(a,"now")})(e.get_singleton_class(a))}($.base,null),e.defs(n,"$path_to_executable",a=function(){var t,r=this;null==r.path_to_executable&&(r.path_to_executable=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"path_to_executable"),!1!==(t=r.path_to_executable)&&t!==o&&null!=t?t:r.path_to_executable=$.get("File").$expand_path("../../../exe/rspec","rspec/core")},a.$$arity=0,a.$$parameters=[])}(f.base),e.cdecl(f,"MODULES_TO_AUTOLOAD",u(["Matchers","Expectations","Mocks"],{Matchers:"rspec/expectations",Expectations:"rspec/expectations",Mocks:"rspec/mocks"})),e.defs(h,"$const_missing",d=function(t){try{var r,a,n,$=this,i=d.$$p,s=o,l=o;d.$$p=null;var c=arguments.length;for(1!==c&&e.ac(c,1,this,"const_missing"),s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return $.$require((r=(a=f.get("MODULES_TO_AUTOLOAD")).$fetch,r.$$p=(n=function(){var t,r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"const_missing")}e.ret((r=a,t=e.find_iter_super_dispatcher(a,"const_missing",n.$$def||d,!1,!0),t.$$p=i,t).apply(r,s))},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,t)),e.get("RSpec").$const_get(t)}catch(t){if(t===e.returner)return t.$v;throw t}},d.$$arity=1,d.$$parameters=[["req","name"]])}(s.base)},Opal.modules["rspec/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Version"),$=(n.$$proto,n.$$scope);e.cdecl($,"STRING","3.1.0")}($.base)}(t.base)},Opal.modules.rspec=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("rspec/core"),t.$require("rspec/version")},Opal.modules["rspec/core/backport_random"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var l=(e.top,e),c=e.nil,u=(e.breaker,e.slice,e.module),_=e.klass,p=e.range;return e.add_stubs(["$kind_of?","$__send__","$raise","$inspect","$message","$class","$coerce_to","$new","$-","$seed=","$times","$|","$&","$[]","$+","$[]=","$^","$>>","$odd?","$===","$each","$*","$>=","$size","$max","$next_state","$<<","$/","$random_32_bits","$>","$mask_32_bits","$<","$map","$pack","$each_with_index","$state_as_bignum","$left","$abs","$==","$pop","$first","$convert_seed","$private","$attr_reader","$seed_rand","$coerce_to_int","$nonzero?","$new_seed","$random_float","$<=","$_rand_range","$random_integer","$random_bytes","$is_a?","$seed","$send","$state","$marshal_dump","$allocate","$marshal_load","$end","$begin","$!","$respond_to?","$exclude_end?","$loop","$**","$rand","$include"]),function(l){var d,h=d=u(l,"RSpec"),f=(h.$$proto,h.$$scope);!function(l){var d,h=d=u(l,"Core"),f=(h.$$proto,h.$$scope);!function(l){var d,h,f,m=d=u(l,"Backports"),g=(m.$$proto,m.$$scope);e.defs(m,"$coerce_to",h=function(t,r,a){var n,$=this,i=c,s=c,o=arguments.length;if(3!==o&&e.ac(o,3,this,"coerce_to"),(n=t["$kind_of?"](r))!==c&&null!=n&&(!n.$$is_boolean||1==n))return t;try{i=t.$__send__(a)}catch(n){if(!e.rescue(n,[g.get("Exception")]))throw n;s=n;try{$.$raise(g.get("TypeError"),"Coercion error: "+t.$inspect()+"."+a+" => "+r+" failed:\n("+s.$message()+")")}finally{e.pop_exception()}}return((n=i["$kind_of?"](r))===c||null==n||n.$$is_boolean&&1!=n)&&$.$raise(g.get("TypeError"),"Coercion error: obj."+a+" did NOT return a "+r+" (was "+i.$class()+")"),i},h.$$arity=3,h.$$parameters=[["req","obj"],["req","cls"],["req","meth"]]),e.defs(m,"$coerce_to_int",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"coerce_to_int"),r.$coerce_to(t,g.get("Integer"),"to_int")},f.$$arity=1,f.$$parameters=[["req","obj"]]),e.cdecl(g,"Undefined",g.get("Object").$new()),function(l,$super){function d(){}var h,f=d=_(l,$super,"Random",d),m=(f.$$proto,f.$$scope);(function(o,$super){function l(){}var u,d,h,f,m,g,b,v,y,x,k,w,q,S,E=l=_(o,$super,"MT19937",l),R=E.$$proto,O=E.$$scope;R.state=R.last_read=c,e.cdecl(O,"STATE_SIZE",624),e.cdecl(O,"LAST_STATE",t(O.get("STATE_SIZE"),1)),e.cdecl(O,"PAD_32_BITS",4294967295),e.defn(E,"$initialize",u=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),r=[t],a=n,a["$seed="].apply(a,r),r[r.length-1]},u.$$arity=1,u.$$parameters=[["req","seed"]]),e.cdecl(O,"LAST_31_BITS",2147483647),e.cdecl(O,"OFFSET",397),e.defn(E,"$next_state",d=function(){var a,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"next_state"),(a=(n=O.get("STATE_SIZE")).$times,a.$$p=($=function(a){var n,i,s=$.$$s||this,o=c;if(null==s.state&&(s.state=c),null==a&&(a=c),$.$$is_lambda||$.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"next_state")}return o=s.state["$[]"](a)["$&"](2147483648)["$|"](s.state["$[]"](t(r(a,1),O.get("STATE_SIZE")))["$&"](2147483647)),s.state["$[]="](a,s.state["$[]"](t(r(a,O.get("OFFSET")),O.get("STATE_SIZE")))["$^"](o["$>>"](1))),(n=o["$odd?"]())===c||null==n||n.$$is_boolean&&1!=n?c:(n=a,i=s.state,i["$[]="](n,i["$[]"](n)["$^"](2567483615)))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","i"]],$),a).call(n),i.last_read=-1},d.$$arity=0,d.$$parameters=[]),e.defn(E,"$seed=",h=function($){var i,s,o,l,u,_,d,h=this,f=c,m=c,g=c,b=arguments.length;return 1!==b&&e.ac(b,1,this,"seed="),function(){return f=$,O.get("Integer")["$==="](f)?(h.state=O.get("Array").$new(O.get("STATE_SIZE")),h.state["$[]="](0,$["$&"](O.get("PAD_32_BITS"))),(i=(s=p(1,O.get("LAST_STATE"),!1)).$each,i.$$p=(o=function(n){var $=o.$$s||this;if(null==$.state&&($.state=c),null==n&&(n=c),o.$$is_lambda||o.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"seed=")}return $.state["$[]="](n,r(a(1812433253,$.state["$[]"](t(n,1))["$^"]($.state["$[]"](t(n,1))["$>>"](30))),n)["$&"](O.get("PAD_32_BITS")))},o.$$s=h,o.$$arity=1,o.$$parameters=[["req","i"]],o),i).call(s),h.last_read=O.get("LAST_STATE")):O.get("Array")["$==="](f)?(i=[19650218],l=h,l["$seed="].apply(l,i),i[i.length-1],m=1,g=0,(i=(l=[O.get("STATE_SIZE"),$.$size()].$max()).$times,i.$$p=(u=function(){var i,s=u.$$s||this;if(null==s.state&&(s.state=c),u.$$is_lambda||u.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"seed=")}return s.state["$[]="](m,r(r(s.state["$[]"](m)["$^"](a(s.state["$[]"](t(m,1))["$^"](s.state["$[]"](t(m,1))["$>>"](30)),1664525)),g),$["$[]"](g))["$&"](O.get("PAD_32_BITS"))),(i=n(m=r(m,1),O.get("STATE_SIZE")))===c||null==i||i.$$is_boolean&&1!=i||(s.state["$[]="](0,s.state["$[]"](-1)),m=1),(i=n(g=r(g,1),$.$size()))===c||null==i||i.$$is_boolean&&1!=i?c:g=0},u.$$s=h,u.$$arity=0,u.$$parameters=[],u),i).call(l),(i=(_=t(O.get("STATE_SIZE"),1)).$times,i.$$p=(d=function(){var $,i=d.$$s||this;if(null==i.state&&(i.state=c),d.$$is_lambda||d.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"seed=")}return i.state["$[]="](m,t(i.state["$[]"](m)["$^"](a(i.state["$[]"](t(m,1))["$^"](i.state["$[]"](t(m,1))["$>>"](30)),1566083941)),m)["$&"](O.get("PAD_32_BITS"))),($=n(m=r(m,1),O.get("STATE_SIZE")))===c||null==$||$.$$is_boolean&&1!=$?c:(i.state["$[]="](0,i.state["$[]"](-1)),m=1)},d.$$s=h,d.$$arity=0,d.$$parameters=[],d),i).call(_),h.state["$[]="](0,2147483648)):h.$raise(O.get("ArgumentError"),"Seed must be an Integer or an Array")}()},h.$$arity=1,h.$$parameters=[["req","seed"]]),e.defn(E,"$random_32_bits",f=function(){var t,a=this,$=c,i=arguments.length;return 0!==i&&e.ac(i,0,this,"random_32_bits"),(t=n(a.last_read,O.get("LAST_STATE")))===c||null==t||t.$$is_boolean&&1!=t||a.$next_state(),a.last_read=r(a.last_read,1),$=a.state["$[]"](a.last_read),$=$["$^"]($["$>>"](11)),$=$["$^"]($["$<<"](7)["$&"](2636928640)),$=$["$^"]($["$<<"](15)["$&"](4022730752)),$=$["$^"]($["$>>"](18))},f.$$arity=0,f.$$parameters=[]),e.cdecl(O,"FLOAT_FACTOR",$(1,9007199254740992)),e.defn(E,"$random_float",m=function(){var t=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"random_float"),a(r(a(t.$random_32_bits()["$>>"](5),67108864),t.$random_32_bits()["$>>"](6)),O.get("FLOAT_FACTOR"))},m.$$arity=0,m.$$parameters=[]),e.defn(E,"$random_integer",g=function(a){var n,$,o,l=this,u=c,_=c,p=c,d=c,h=arguments.length;for(1!==h&&e.ac(h,1,this,"random_integer"),u=t(a,1),_=0;(n=i(u,O.get("PAD_32_BITS")))!==c&&null!=n&&(!n.$$is_boolean||1==n);)u=u["$>>"](32),_=r(_,1);for(p=l.$mask_32_bits(u);(n=s(d,a))===c||null==n||n.$$is_boolean&&1!=n;)d=l.$random_32_bits()["$&"](p),(n=($=_).$times,n.$$p=(o=function(){var t=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"random_integer")}return d=d["$<<"](32),d=d["$|"](t.$random_32_bits())},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),n).call($);return d},g.$$arity=1,g.$$parameters=[["req","upto"]]),e.defn(E,"$random_bytes",b=function(t){var n,i,s,o=this,l=c,u=c,_=arguments.length;return 1!==_&&e.ac(_,1,this,"random_bytes"),l=$(r(t,3),4),u=(n=(i=l.$times()).$map,n.$$p=(s=function(){var t=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"random_bytes")}return t.$random_32_bits()},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),n).call(i),u.$pack(a("L",l))["$[]"](0,t)},b.$$arity=1,b.$$parameters=[["req","nb"]]),e.defn(E,"$state_as_bignum",v=function(){var t,r,n,$=this,i=c,s=arguments.length;return 0!==s&&e.ac(s,0,this,"state_as_bignum"),i=0,(t=(r=$.state).$each_with_index,t.$$p=(n=function(t,r){n.$$s;if(null==t&&(t=c),null==r&&(r=c),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"state_as_bignum")}return i=i["$|"](t["$<<"](a(32,r)))},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","val"],["req","i"]],n),t).call(r),i},v.$$arity=0,v.$$parameters=[]),e.defn(E,"$left",y=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"left"),t(O.get("MT19937").$$scope.get("STATE_SIZE"),r.last_read)},y.$$arity=0,y.$$parameters=[]),e.defn(E,"$marshal_dump",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"marshal_dump"),[t.$state_as_bignum(),t.$left()]},x.$$arity=0,x.$$parameters=[]),e.defn(E,"$marshal_load",k=function(r){var a,n,$,i=this,s=c,o=c,l=arguments.length;return 1!==l&&e.ac(l,1,this,"marshal_load"),n=r,a=e.to_ary(n),s=null==a[0]?c:a[0],o=null==a[1]?c:a[1],i.last_read=t(O.get("MT19937").$$scope.get("STATE_SIZE"),o),i.state=O.get("Array").$new(O.get("STATE_SIZE")),(a=(n=O.get("STATE_SIZE")).$times,a.$$p=($=function(t){var r=$.$$s||this;if(null==r.state&&(r.state=c),null==t&&(t=c),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"marshal_load")}return r.state["$[]="](t,s["$&"](O.get("PAD_32_BITS"))),s=s["$>>"](32)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","i"]],$),a).call(n)},k.$$arity=1,k.$$parameters=[["req","ary"]]),e.defs(E,"$convert_seed",w=function(t){var r,a=c,n=arguments.length;for(1!==n&&e.ac(n,1,this,"convert_seed"),t=t.$abs(),a=[];!t["$=="](0);)a["$<<"](t["$&"](O.get("PAD_32_BITS"))),t=t["$>>"](32);return(r=a["$[]"](-1)["$=="](1)?i(a.$size(),1):a["$[]"](-1)["$=="](1))===c||null==r||r.$$is_boolean&&1!=r||a.$pop(),(r=i(a.$size(),1))===c||null==r||r.$$is_boolean&&1!=r?a.$first():a},w.$$arity=1,w.$$parameters=[["req","seed"]]),e.defs(E,"$[]",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.$new(r.$convert_seed(t))},q.$$arity=1,q.$$parameters=[["req","seed"]]),E.$private(),e.cdecl(O,"MASK_BY",[1,2,4,8,16]),e.defn(E,"$mask_32_bits",S=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"mask_32_bits"),(r=(a=O.get("MASK_BY")).$each,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=c),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"mask_32_bits")}return t=t["$|"](t["$>>"](r))},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","shift"]],n),r).call(a),t},S.$$arity=1,S.$$parameters=[["req","n"]])})(m.base,null),function(n){var $,l,_,p,d,h,f,m,g,b,v,y=$=u(n,"Implementation"),x=(y.$$proto,y.$$scope);y.$attr_reader("seed"),e.defn(y,"$initialize",l=function(t){var r,a,n=this;l.$$p;null==t&&(t=0),l.$$p=null;var $=arguments.length;return $>1&&e.ac($,-1,this,"initialize"),(a=n,r=e.find_super_dispatcher(n,"initialize",l,!1),r.$$p=null,r).call(a),n.$seed_rand(t)},l.$$arity=-1,l.$$parameters=[["opt","seed"]]),e.defn(y,"$seed_rand",_=function(t){var r,a,n=this,$=c;null==n.seed&&(n.seed=c),null==t&&(t=0);var i=arguments.length;return i>1&&e.ac(i,-1,this,"seed_rand"),t=x.get("Backports").$coerce_to_int(t),((r=null!=(a=n.seed)&&a!==c?"instance-variable":c)===c||null==r||r.$$is_boolean&&1!=r)&&(n.seed=c),r=[n.seed,!1!==(a=t["$nonzero?"]())&&a!==c&&null!=a?a:x.get("Random").$new_seed()],$=r[0],n.seed=r[1],n.mt=x.get("MT19937")["$[]"](n.seed),$},_.$$arity=-1,_.$$parameters=[["opt","new_seed"]]),e.defn(y,"$rand",p=function(t){var r,n,$=this,i=c;null==$.mt&&($.mt=c),null==t&&(t=x.get("Backports").$$scope.get("Undefined"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"rand"),!1!==(r=function(){return i=t,x.get("Backports").$$scope.get("Undefined")["$==="](i)?$.mt.$random_float():x.get("Float")["$==="](i)?(n=o(t,0))===c||null==n||n.$$is_boolean&&1!=n?a(t,$.mt.$random_float()):c:x.get("Range")["$==="](i)?$.$_rand_range(t):(t=x.get("Backports").$coerce_to_int(t),(n=o(t,0))===c||null==n||n.$$is_boolean&&1!=n?$.mt.$random_integer(t):c)}())&&r!==c&&null!=r?r:$.$raise(x.get("ArgumentError"),"invalid argument "+t)},p.$$arity=-1,p.$$parameters=[["opt","limit"]]),e.defn(y,"$bytes",d=function(t){var r,a=this;null==a.mt&&(a.mt=c);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"bytes"),t=x.get("Backports").$coerce_to_int(t),(r=s(t,0))===c||null==r||r.$$is_boolean&&1!=r||a.$raise(x.get("ArgumentError"),"negative size"),a.mt.$random_bytes(t)},d.$$arity=1,d.$$parameters=[["req","nb"]]),e.defn(y,"$==",h=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"=="),n=t["$is_a?"](x.get("Random")),a=!1!==n&&n!==c&&null!=n?$.$seed()["$=="](t.$seed()):n,r=!1!==a&&a!==c&&null!=a?$.$left()["$=="](t.$send("left")):a,!1!==r&&r!==c&&null!=r?$.$state()["$=="](t.$send("state")):r},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(y,"$marshal_dump",f=function(){var t=this;null==t.mt&&(t.mt=c),null==t.seed&&(t.seed=c);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"marshal_dump"),t.mt.$marshal_dump()["$<<"](t.seed)},f.$$arity=0,f.$$parameters=[]),e.defn(y,"$marshal_load",m=function(t){var r=this;null==r.mt&&(r.mt=c);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"marshal_load"),r.seed=t.$pop(),r.mt=x.get("MT19937").$allocate(),r.mt.$marshal_load(t)},m.$$arity=1,m.$$parameters=[["req","ary"]]),y.$private(),e.defn(y,"$state",g=function(){var t=this;null==t.mt&&(t.mt=c);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"state"),t.mt.$state_as_bignum()},g.$$arity=0,g.$$parameters=[]),e.defn(y,"$left",b=function(){var t=this;null==t.mt&&(t.mt=c);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"left"),t.mt.$left()},b.$$arity=0,b.$$parameters=[]),e.defn(y,"$_rand_range",v=function(n){var $,l,u,_,p=this,d=c;null==p.mt&&(p.mt=c);var h=arguments.length;return 1!==h&&e.ac(h,1,this,"_rand_range"),d=t(n.$end(),n.$begin()),u=d["$is_a?"](x.get("Float"))["$!"](),l=!1!==u&&u!==c&&null!=u?d["$respond_to?"]("to_int"):u,($=!1!==l&&l!==c&&null!=l?d=x.get("Backports").$coerce_to_int(d):l)===c||null==$||$.$$is_boolean&&1!=$?($=d=x.get("Backports").$coerce_to(d,x.get("Float"),"to_f"))===c||null==$||$.$$is_boolean&&1!=$?c:($=s(d,0))===c||null==$||$.$$is_boolean&&1!=$?($=n["$exclude_end?"]())===c||null==$||$.$$is_boolean&&1!=$?function(){var t=e.new_brk();try{return($=(l=p).$loop,$.$$p=(_=function(){var $,s=_.$$s||this,o=c;if(null==s.mt&&(s.mt=c),_.$$is_lambda||_.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"_rand_range")}if(o=a(a(s.mt.$random_float(),d),1.0001),!(($=i(o,d))===c||null==$||$.$$is_boolean&&1!=$))return c;e.brk(r(n.$begin(),o),t)},_.$$s=p,_.$$brk=t,
_.$$arity=0,_.$$parameters=[],_),$).call(l)}catch(e){if(e===t)return e.$v;throw e}}():($=o(d,0))===c||null==$||$.$$is_boolean&&1!=$?r(n.$begin(),a(p.mt.$random_float(),d)):c:c:((($=n["$exclude_end?"]())===c||null==$||$.$$is_boolean&&1!=$)&&(d=r(d,1)),($=o(d,0))===c||null==$||$.$$is_boolean&&1!=$?r(n.$begin(),p.mt.$random_integer(d)):c)},v.$$arity=1,v.$$parameters=[["req","limit"]])}(m.base),e.defs(f,"$new_seed",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_seed"),r(2["$**"](62),m.get("Kernel").$rand(2["$**"](62)))},h.$$arity=0,h.$$parameters=[])}(g.base,null),function(t,$super){function r(){}var a=r=_(t,$super,"Random",r),n=(a.$$proto,a.$$scope);a.$include(n.get("Implementation")),function(e){var t=e.$$scope;e.$$proto;e.$include(t.get("Implementation"))}(e.get_singleton_class(a))}(g.base,null)}(f.base)}(f.base)}(l.base)},Opal.modules["rspec/core/backtrace_formatter"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$attr_accessor","$==","$<<","$map!","$new","$gsub","$union","$matches?","$join","$getwd","$inclusion_patterns","$attr_writer","$empty?","$exclusion_patterns","$[]","$tap","$concat","$compact","$map","$backtrace_line","$exclude?","$relative_path","$!","$private","$any?","$=~"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p=a=n(t,$super,"BacktraceFormatter",a),d=p.$$proto,h=p.$$scope;d.exclusion_patterns=d.full_backtrace=r,p.$attr_accessor("exclusion_patterns","inclusion_patterns"),e.defn(p,"$initialize",i=function(){var t,a,n,$,i=this,s=r,o=arguments.length;return 0!==o&&e.ac(o,0,this,"initialize"),i.full_backtrace=!1,s=["/lib\\d*/ruby/","bin/","exe/rspec"],h.get("RUBY_PLATFORM")["$=="]("java")&&s["$<<"]("org/jruby/"),(t=(a=s)["$map!"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"initialize")}return h.get("Regexp").$new(t.$gsub("/",h.get("File").$$scope.get("SEPARATOR")))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","s"]],n),t).call(a),i.exclusion_patterns=[(t=h.get("Regexp")).$union.apply(t,[h.get("RSpec").$$scope.get("CallerFilter").$$scope.get("IGNORE_REGEX")].concat(e.to_a(s)))],i.inclusion_patterns=[],($=i["$matches?"](i.exclusion_patterns,h.get("File").$join(h.get("Dir").$getwd(),"lib","foo.rb:13")))===r||null==$||$.$$is_boolean&&1!=$?r:i.$inclusion_patterns()["$<<"](h.get("Regexp").$new(h.get("Dir").$getwd()))},i.$$arity=0,i.$$parameters=[]),p.$attr_writer("full_backtrace"),e.defn(p,"$full_backtrace?",s=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"full_backtrace?"),!1!==(t=a.full_backtrace)&&t!==r&&null!=t?t:a.$exclusion_patterns()["$empty?"]()},s.$$arity=0,s.$$parameters=[]),e.defn(p,"$filter_gem",o=function(t){var a=this,n=r,$=arguments.length;return 1!==$&&e.ac($,1,this,"filter_gem"),n=h.get("File").$$scope.get("SEPARATOR"),a.$exclusion_patterns()["$<<"](new RegExp(""+n+t+"(-[^"+n+"]+)?"+n))},o.$$arity=1,o.$$parameters=[["req","gem_name"]]),e.defn(p,"$format_backtrace",l=function(t,a){var n,i,s,o,l,c,u=this;null==a&&(a=$([],{}));var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"format_backtrace"),(n=a["$[]"]("full_backtrace"))===r||null==n||n.$$is_boolean&&1!=n?(n=(i=(o=(l=t).$map,o.$$p=(c=function(t){var a=c.$$s||this;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"format_backtrace")}return a.$backtrace_line(t)},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","l"]],c),o).call(l).$compact()).$tap,n.$$p=(s=function(a){var n;s.$$s;if(null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"format_backtrace")}return(n=a["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?r:(a.$concat(t),a["$<<"](""),a["$<<"]("  Showing full backtrace because every line was filtered out."),a["$<<"]("  See docs for RSpec::Configuration#backtrace_exclusion_patterns and"),a["$<<"]("  RSpec::Configuration#backtrace_inclusion_patterns for more information."))},s.$$s=u,s.$$arity=1,s.$$parameters=[["req","filtered"]],s),n).call(i):t},l.$$arity=-2,l.$$parameters=[["req","backtrace"],["opt","options"]]),e.defn(p,"$backtrace_line",c=function(t){var a,n=this,$=arguments.length;1!==$&&e.ac($,1,this,"backtrace_line");try{return(a=n["$exclude?"](t))===r||null==a||a.$$is_boolean&&1!=a?h.get("Metadata").$relative_path(t):r}catch(t){if(!e.rescue(t,[h.get("SecurityError")]))throw t;try{return r}finally{e.pop_exception()}}},c.$$arity=1,c.$$parameters=[["req","line"]]),e.defn(p,"$exclude?",u=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"exclude?"),!!((a=n.full_backtrace)===r||null==a||a.$$is_boolean&&1!=a)&&(a=n["$matches?"](n.$exclusion_patterns(),t),!1!==a&&a!==r&&null!=a?n["$matches?"](n.$inclusion_patterns(),t)["$!"]():a)},u.$$arity=1,u.$$parameters=[["req","line"]]),p.$private(),e.defn(p,"$matches?",_=function(t,a){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"matches?"),(n=($=t)["$any?"],n.$$p=(i=function(t){i.$$s;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"matches?")}return a["$=~"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","p"]],i),n).call($)},_.$$arity=2,_.$$parameters=[["req","patterns"],["req","line"]])}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/matchers"]=function(e){var t,r,a,n,$,i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.module),c=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_matchers","$lambda","$gsub","$split_words","$fetch","$define_method","$__send__","$to_proc","$new","$alias_matcher","$empty?","$equal","$be_a_kind_of","$alias_method","$contain_exactly","$sub","$configuration","$private","$to_s","$===","$respond_to?","$register_matcher_definition","$is_a_matcher?"]),i.$require("rspec/support"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("matcher_definition"),(t=(r=s.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return r.$require("rspec/matchers/../"+t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r,"matchers"),(t=(n=["pretty","composable","built_in","generated_descriptions","dsl","matcher_delegator","aliased_matcher"]).$each,t.$$p=($=function(t){$.$$s;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return s.get("RSpec").$$scope.get("Support").$require_rspec_matchers(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","file"]],$),t).call(n),function(t){var r,a=r=l(t,"RSpec"),n=(a.$$proto,a.$$scope);!function(t){var r,a,n,$,i,s,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te=r=l(t,"Matchers"),re=(te.$$proto,te.$$scope);e.defs(te,"$alias_matcher",a=function(t,r,n){var $,i,s,l,u,_,p,d=this,h=a.$$p,f=h||o,m=o;null==n&&(n=c([],{})),a.$$p=null;var g=arguments.length;return(g<2||g>3)&&e.ac(g,-3,this,"alias_matcher"),!1!==($=f)&&$!==o&&null!=$||(f=(i=(s=d).$lambda,i.$$p=(l=function(a){l.$$s;if(null==a&&(a=o),l.$$is_lambda||l.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"alias_matcher")}return a.$gsub(re.get("Pretty").$split_words(r),re.get("Pretty").$split_words(t))},l.$$s=d,l.$$arity=1,l.$$parameters=[["req","old_desc"]],l),i).call(s)),m=($=(i=n).$fetch,$.$$p=(u=function(){u.$$s;if(u.$$is_lambda||u.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"alias_matcher")}return re.get("AliasedMatcher")},u.$$s=d,u.$$arity=0,u.$$parameters=[],u),$).call(i,"klass"),($=(_=d).$define_method,$.$$p=(p=function(){var t,a,n,$,i=p.$$s||this,s=o;t=p.$$p||o,p.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<l;u++)a[u-0]=arguments[u];return s=(n=($=i).$__send__,n.$$p=t.$to_proc(),n).apply($,[r].concat(e.to_a(a))),m.$new(s,f)},p.$$s=d,p.$$arity=-1,p.$$parameters=[["rest","args"],["block","block"]],p),$).call(_,t)},a.$$arity=-3,a.$$parameters=[["req","new_name"],["req","old_name"],["opt","options"],["block","description_override"]]),e.defs(te,"$define_negated_matcher",n=function(t,r){var a,$,i=this,s=n.$$p,l=s||o;n.$$p=null;var u=arguments.length;return 2!==u&&e.ac(u,2,this,"define_negated_matcher"),(a=($=i).$alias_matcher,a.$$p=l.$to_proc(),a).call($,t,r,c(["klass"],{klass:re.get("AliasedNegatedMatcher")}))},n.$$arity=2,n.$$parameters=[["req","negated_name"],["req","base_name"],["block","description_override"]]),e.defn(te,"$be_truthy",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_truthy"),re.get("BuiltIn").$$scope.get("BeTruthy").$new()},$.$$arity=0,$.$$parameters=[]),te.$alias_matcher("a_truthy_value","be_truthy"),e.defn(te,"$be_falsey",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_falsey"),re.get("BuiltIn").$$scope.get("BeFalsey").$new()},i.$$arity=0,i.$$parameters=[]),te.$alias_matcher("be_falsy","be_falsey"),te.$alias_matcher("a_falsey_value","be_falsey"),te.$alias_matcher("a_falsy_value","be_falsey"),e.defn(te,"$be_nil",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_nil"),re.get("BuiltIn").$$scope.get("BeNil").$new()},s.$$arity=0,s.$$parameters=[]),te.$alias_matcher("a_nil_value","be_nil"),e.defn(te,"$be",u=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=r["$empty?"]())===o||null==t||t.$$is_boolean&&1!=t?(t=a).$equal.apply(t,e.to_a(r)):re.get("Matchers").$$scope.get("BuiltIn").$$scope.get("Be").$new()},u.$$arity=-1,u.$$parameters=[["rest","args"]]),te.$alias_matcher("a_value","be",c(["klass"],{klass:re.get("AliasedMatcherWithOperatorSupport")})),e.defn(te,"$be_a",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"be_a"),r.$be_a_kind_of(t)},_.$$arity=1,_.$$parameters=[["req","klass"]]),te.$alias_method("be_an","be_a"),e.defn(te,"$be_an_instance_of",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_an_instance_of"),re.get("BuiltIn").$$scope.get("BeAnInstanceOf").$new(t)},p.$$arity=1,p.$$parameters=[["req","expected"]]),te.$alias_method("be_instance_of","be_an_instance_of"),te.$alias_matcher("an_instance_of","be_an_instance_of"),e.defn(te,"$be_a_kind_of",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_a_kind_of"),re.get("BuiltIn").$$scope.get("BeAKindOf").$new(t)},d.$$arity=1,d.$$parameters=[["req","expected"]]),te.$alias_method("be_kind_of","be_a_kind_of"),te.$alias_matcher("a_kind_of","be_a_kind_of"),e.defn(te,"$be_between",h=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"be_between"),re.get("BuiltIn").$$scope.get("BeBetween").$new(t,r)},h.$$arity=2,h.$$parameters=[["req","min"],["req","max"]]),te.$alias_matcher("a_value_between","be_between"),e.defn(te,"$be_within",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_within"),re.get("BuiltIn").$$scope.get("BeWithin").$new(t)},f.$$arity=1,f.$$parameters=[["req","delta"]]),te.$alias_matcher("a_value_within","be_within"),te.$alias_matcher("within","be_within"),e.defn(te,"$change",m=function(t,r){var a,n,$=m.$$p,i=$||o;null==t&&(t=o),null==r&&(r=o),m.$$p=null;var s=arguments.length;return s>2&&e.ac(s,-1,this,"change"),(a=(n=re.get("BuiltIn").$$scope.get("Change")).$new,a.$$p=i.$to_proc(),a).call(n,t,r)},m.$$arity=-1,m.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),te.$alias_matcher("a_block_changing","change"),te.$alias_matcher("changing","change"),e.defn(te,"$contain_exactly",g=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return re.get("BuiltIn").$$scope.get("ContainExactly").$new(e)},g.$$arity=-1,g.$$parameters=[["rest","items"]]),te.$alias_matcher("a_collection_containing_exactly","contain_exactly"),te.$alias_matcher("containing_exactly","contain_exactly"),e.defn(te,"$cover",b=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("Cover")).$new.apply(t,e.to_a(r))},b.$$arity=-1,b.$$parameters=[["rest","values"]]),te.$alias_matcher("a_range_covering","cover"),te.$alias_matcher("covering","cover"),e.defn(te,"$end_with",v=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("EndWith")).$new.apply(t,e.to_a(r))},v.$$arity=-1,v.$$parameters=[["rest","expected"]]),te.$alias_matcher("a_collection_ending_with","end_with"),te.$alias_matcher("a_string_ending_with","end_with"),te.$alias_matcher("ending_with","end_with"),e.defn(te,"$eq",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"eq"),re.get("BuiltIn").$$scope.get("Eq").$new(t)},y.$$arity=1,y.$$parameters=[["req","expected"]]),te.$alias_matcher("an_object_eq_to","eq"),te.$alias_matcher("eq_to","eq"),e.defn(te,"$eql",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"eql"),re.get("BuiltIn").$$scope.get("Eql").$new(t)},x.$$arity=1,x.$$parameters=[["req","expected"]]),te.$alias_matcher("an_object_eql_to","eql"),te.$alias_matcher("eql_to","eql"),e.defn(te,"$equal",k=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"equal"),re.get("BuiltIn").$$scope.get("Equal").$new(t)},k.$$arity=1,k.$$parameters=[["req","expected"]]),te.$alias_matcher("an_object_equal_to","equal"),te.$alias_matcher("equal_to","equal"),e.defn(te,"$exist",w=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("Exist")).$new.apply(t,e.to_a(r))},w.$$arity=-1,w.$$parameters=[["rest","args"]]),te.$alias_matcher("an_object_existing","exist"),te.$alias_matcher("existing","exist"),e.defn(te,"$have_attributes",q=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"have_attributes"),re.get("BuiltIn").$$scope.get("HaveAttributes").$new(t)},q.$$arity=1,q.$$parameters=[["req","expected"]]),te.$alias_matcher("an_object_having_attributes","have_attributes"),e.defn(te,"$include",S=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("Include")).$new.apply(t,e.to_a(r))},S.$$arity=-1,S.$$parameters=[["rest","expected"]]),te.$alias_matcher("a_collection_including","include"),te.$alias_matcher("a_string_including","include"),te.$alias_matcher("a_hash_including","include"),te.$alias_matcher("including","include"),e.defn(te,"$all",E=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"all"),re.get("BuiltIn").$$scope.get("All").$new(t)},E.$$arity=1,E.$$parameters=[["req","expected"]]),e.defn(te,"$match",R=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"match"),re.get("BuiltIn").$$scope.get("Match").$new(t)},R.$$arity=1,R.$$parameters=[["req","expected"]]),te.$alias_matcher("match_regex","match"),te.$alias_matcher("an_object_matching","match"),te.$alias_matcher("a_string_matching","match"),te.$alias_matcher("matching","match"),e.defn(te,"$match_array",O=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"match_array"),(r=a).$contain_exactly.apply(r,e.to_a(t))},O.$$arity=1,O.$$parameters=[["req","items"]]),e.defn(te,"$output",M=function(t){null==t&&(t=o);var r=arguments.length;return r>1&&e.ac(r,-1,this,"output"),re.get("BuiltIn").$$scope.get("Output").$new(t)},M.$$arity=-1,M.$$parameters=[["opt","expected"]]),te.$alias_matcher("a_block_outputting","output"),e.defn(te,"$raise_error",A=function(t,r){var a,n,$=A.$$p,i=$||o;null==t&&(t=re.get("Exception")),null==r&&(r=o),A.$$p=null;var s=arguments.length;return s>2&&e.ac(s,-1,this,"raise_error"),(a=(n=re.get("BuiltIn").$$scope.get("RaiseError")).$new,a.$$p=i.$to_proc(),a).call(n,t,r)},A.$$arity=-1,A.$$parameters=[["opt","error"],["opt","message"],["block","block"]]),te.$alias_method("raise_exception","raise_error"),(z=(j=te).$alias_matcher,z.$$p=(T=function(t){T.$$s;if(null==t&&(t=o),T.$$is_lambda||T.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("raise","a block raising")},T.$$s=te,T.$$arity=1,T.$$parameters=[["req","desc"]],T),z).call(j,"a_block_raising","raise_error"),(z=(I=te).$alias_matcher,z.$$p=(C=function(t){C.$$s;if(null==t&&(t=o),C.$$is_lambda||C.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("raise","raising")},C.$$s=te,C.$$arity=1,C.$$parameters=[["req","desc"]],C),z).call(I,"raising","raise_error"),e.defn(te,"$respond_to",P=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("RespondTo")).$new.apply(t,e.to_a(r))},P.$$arity=-1,P.$$parameters=[["rest","names"]]),te.$alias_matcher("an_object_responding_to","respond_to"),te.$alias_matcher("responding_to","respond_to"),e.defn(te,"$satisfy",N=function(){var t,r,a=N.$$p,n=a||o;N.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"satisfy"),(t=(r=re.get("BuiltIn").$$scope.get("Satisfy")).$new,t.$$p=n.$to_proc(),t).call(r)},N.$$arity=0,N.$$parameters=[["block","block"]]),te.$alias_matcher("an_object_satisfying","satisfy"),te.$alias_matcher("satisfying","satisfy"),e.defn(te,"$start_with",F=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("StartWith")).$new.apply(t,e.to_a(r))},F.$$arity=-1,F.$$parameters=[["rest","expected"]]),te.$alias_matcher("a_collection_starting_with","start_with"),te.$alias_matcher("a_string_starting_with","start_with"),te.$alias_matcher("starting_with","start_with"),e.defn(te,"$throw_symbol",D=function(t,r){null==t&&(t=o),null==r&&(r=o);var a=arguments.length;return a>2&&e.ac(a,-1,this,"throw_symbol"),re.get("BuiltIn").$$scope.get("ThrowSymbol").$new(t,r)},D.$$arity=-1,D.$$parameters=[["opt","expected_symbol"],["opt","expected_arg"]]),(z=(B=te).$alias_matcher,z.$$p=(H=function(t){H.$$s;if(null==t&&(t=o),H.$$is_lambda||H.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("throw","a block throwing")},H.$$s=te,H.$$arity=1,H.$$parameters=[["req","desc"]],H),z).call(B,"a_block_throwing","throw_symbol"),(z=(L=te).$alias_matcher,z.$$p=(U=function(t){U.$$s;if(null==t&&(t=o),U.$$is_lambda||U.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("throw","throwing")},U.$$s=te,U.$$arity=1,U.$$parameters=[["req","desc"]],U),z).call(L,"throwing","throw_symbol"),e.defn(te,"$yield_control",G=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"yield_control"),re.get("BuiltIn").$$scope.get("YieldControl").$new()},G.$$arity=0,G.$$parameters=[]),te.$alias_matcher("a_block_yielding_control","yield_control"),te.$alias_matcher("yielding_control","yield_control"),e.defn(te,"$yield_with_no_args",Y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"yield_with_no_args"),re.get("BuiltIn").$$scope.get("YieldWithNoArgs").$new()},Y.$$arity=0,Y.$$parameters=[]),te.$alias_matcher("a_block_yielding_with_no_args","yield_with_no_args"),te.$alias_matcher("yielding_with_no_args","yield_with_no_args"),e.defn(te,"$yield_with_args",V=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("YieldWithArgs")).$new.apply(t,e.to_a(r))},V.$$arity=-1,V.$$parameters=[["rest","args"]]),te.$alias_matcher("a_block_yielding_with_args","yield_with_args"),te.$alias_matcher("yielding_with_args","yield_with_args"),e.defn(te,"$yield_successive_args",X=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=re.get("BuiltIn").$$scope.get("YieldSuccessiveArgs")).$new.apply(t,e.to_a(r))},X.$$arity=-1,X.$$parameters=[["rest","args"]]),te.$alias_matcher("a_block_yielding_successive_args","yield_successive_args"),te.$alias_matcher("yielding_successive_args","yield_successive_args"),e.defs(te,"$configuration",K=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"configuration"),re.get("Expectations").$configuration()},K.$$arity=0,K.$$parameters=[]),te.$private(),e.cdecl(re,"BE_PREDICATE_REGEX",/^(be_(?:an?_)?)(.*)/),e.cdecl(re,"HAS_REGEX",/^(?:have_)(.*)/),e.defn(te,"$method_missing",W=function(t){var r,a,n,$,i,s=this,l=W.$$p,c=l||o,u=o,_=o,p=o,d=arguments.length,h=d-1;h<0&&(h=0),i=new Array(h);for(var f=1;f<d;f++)i[f-1]=arguments[f];W.$$p=null;var m=arguments.length;for(m<1&&e.ac(m,-2,this,"method_missing"),_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return function(){return u=t.$to_s(),re.get("BE_PREDICATE_REGEX")["$==="](u)?(r=(a=re.get("BuiltIn").$$scope.get("BePredicate")).$new,r.$$p=c.$to_proc(),r).apply(a,[t].concat(e.to_a(i))):re.get("HAS_REGEX")["$==="](u)?(r=(n=re.get("BuiltIn").$$scope.get("Has")).$new,r.$$p=c.$to_proc(),r).apply(n,[t].concat(e.to_a(i))):($=s,r=e.find_super_dispatcher(s,"method_missing",W,!1),r.$$p=l,r).apply($,_)}()},W.$$arity=-2,W.$$parameters=[["req","method"],["rest","args"],["block","block"]]),e.defs(te,"$is_a_matcher?",Z=function(t){var r,a=arguments.length;if(1!==a&&e.ac(a,1,this,"is_a_matcher?"),(r=e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("BaseMatcher")["$==="](t))!==o&&null!=r&&(!r.$$is_boolean||1==r))return!0;try{if((r=t["$respond_to?"]("i_respond_to_everything_so_im_not_really_a_matcher"))!==o&&null!=r&&(!r.$$is_boolean||1==r))return!1}catch(t){if(!e.rescue(t,[re.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}return!((r=t["$respond_to?"]("matches?"))===o||null==r||r.$$is_boolean&&1!=r)&&(!1!==(r=t["$respond_to?"]("failure_message"))&&r!==o&&null!=r?r:t["$respond_to?"]("failure_message_for_should"))},Z.$$arity=1,Z.$$parameters=[["req","obj"]]),(z=(J=e.get("RSpec").$$scope.get("Support")).$register_matcher_definition,z.$$p=(Q=function(t){var r=Q.$$s||this;if(null==t&&(t=o),Q.$$is_lambda||Q.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<module:Matchers>")}return r["$is_a_matcher?"](t)},Q.$$s=te,Q.$$arity=1,Q.$$parameters=[["req","obj"]],Q),z).call(J),e.defs(te,"$is_a_describable_matcher?",ee=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"is_a_describable_matcher?"),r=a["$is_a_matcher?"](t),!1!==r&&r!==o&&null!=r?t["$respond_to?"]("description"):r},ee.$$arity=1,ee.$$parameters=[["req","obj"]])}(n.base)}(s.base)},Opal.modules["rspec/expectations"]=function(e){var t,r,a,n,$,i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.module);return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_expectations","$new"]),i.$require("rspec/support"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("warnings"),i.$require("rspec/matchers"),(t=(r=s.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return r.$require("rspec/expectations/../"+t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r,"expectations"),(t=(n=["expectation_target","configuration","fail_with","handler","version"]).$each,t.$$p=($=function(t){$.$$s;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return s.get("RSpec").$$scope.get("Support").$require_rspec_expectations(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","file"]],$),t).call(n),function(t){var r,a=r=l(t,"RSpec"),n=(a.$$proto,a.$$scope);!function(t){var r,a=r=l(t,"Expectations"),n=(a.$$proto,a.$$scope);e.cdecl(n,"ExpectationNotMetError",n.get("Class").$new(e.get("Exception")))}(n.base)}(s.base)},Opal.modules["rspec/core/minitest_assertions_adapter"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module);e.add_stubs(["$require","$include","$attr_writer"]);try{t.$require("minitest"),t.$require("minitest/assertions")}catch(a){if(!e.rescue(a,[r.get("LoadError")]))throw a;try{t.$require("minitest/unit"),e.cdecl(r,"Minitest",r.get("MiniTest"))}finally{e.pop_exception()}}return function(t){var r,$=r=n(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var r,$=r=n(t,"Core"),i=($.$$proto,$.$$scope);!function(t){var r,$,i=r=n(t,"MinitestAssertionsAdapter");i.$$proto,i.$$scope;i.$include(e.get("Minitest").$$scope.get("Assertions")),i.$attr_writer("assertions"),e.defn(i,"$assertions",$=function(){var t,r=this;null==r.assertions&&(r.assertions=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"assertions"),!1!==(t=r.assertions)&&t!==a&&null!=t?t:r.assertions=0},$.$$arity=0,$.$$parameters=[])}(i.base)}(i.base)}(r.base)},Opal.modules["rspec/core/test_unit_assertions_adapter"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$require","$include","$include?","$ancestors"]),t.$require("test/unit/assertions"),function(t){var r,$=r=n(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var r,$=r=n(t,"Core"),i=($.$$proto,$.$$scope);!function(t){var r,$,i=r=n(t,"TestUnitAssertionsAdapter"),s=(i.$$proto,i.$$scope);i.$include(e.get("Test").$$scope.get("Unit").$$scope.get("Assertions"));try{($=i.$ancestors()["$include?"](e.get("Minitest").$$scope.get("Assertions")))===a||null==$||$.$$is_boolean&&1!=$||(i.$require("rspec/core/minitest_assertions_adapter"),i.$include(e.get("RSpec").$$scope.get("Core").$$scope.get("MinitestAssertionsAdapter")))}catch(t){if(!e.rescue(t,[s.get("NameError")]))throw t;e.pop_exception()}}(i.base)}(i.base)}(r.base)},Opal.modules["rspec/core/configuration"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var i=(e.top,e),s=e.nil,o=(e.breaker,e.slice,e.module),l=e.klass,c=e.hash2,u=e.gvars,_=e.range;return e.add_stubs(["$require_rspec_core","$include","$define_method","$instance_variable_defined?","$instance_variable_get","$value_for","$alias_method","$define_predicate_for","$each","$key?","$raise","$attr_writer","$add_read_only_setting","$define_aliases","$Array","$[]","$define_reader","$add_setting","$exposed_globally?","$expose_globally!","$remove_globally!","$!","$equal?","$warn","$inspect","$deprecation_stream","$first_non_rspec_line","$output_stream","$update_pattern_attr","$deprecate","$attr_accessor","$attr_reader","$now","$new","$force","$ordering_manager","$merge!","$delete","$class_exec","$__send__","$nil?","$mock_with","$exclusion_patterns","$exclusion_patterns=","$inclusion_patterns","$inclusion_patterns=","$filter_gem","$is_a?","$fetch","$keys","$downcase","$to_s","$const_get","$map","$respond_to?","$framework_name","$==","$assert_no_example_groups_defined","$configuration","$empty?","$expect_with","$===","$require","$expecting_with_rspec=","$any?","$-","$>","$length","$first","$push","$full_backtrace?","$full_backtrace=","$output_to_tty?","$color","$windows_os?","$world","$warning","$unshift","$filter_run","$union","$filter","$<<","$add","$formatter_loader","$default_formatter","$default_formatter=","$dup","$formatters","$deprecation","$setup_default","$play_onto","$reporter","$flatten","$command","$running_in_drb?","$default_path","$get_files_to_run","$build_hash_from","$define_example_method","$define_example_group_method","$define_nested_shared_group_method","$include_with_low_priority","$filter_manager","$include_only","$inclusions","$exclude_with_low_priority","$exclude_only","$exclusions","$include_or_extend_modules","$any_apply?","$<","$select","$directory?","$add_to_load_path","$+","$>=","$to_f","$singleton_class","$extend","$include?","$included_modules","$mock_framework","$conditionally_disable_mocks_monkey_patching","$expectation_frameworks","$conditionally_disable_expectations_monkey_patching","$load","$expand_path","$uniq","$files_to_run","$lambda","$to_proc","$delegate_to_ordering_manager","$module_exec","$let","$deprecation_stream=","$expose_dsl_globally=","$disable_monkey_patching=","$call","$private","$sort","$flat_map","$gsub","$gather_directories","$extract_location","$paths_to_check","$pattern_might_load_specs_from_vendored_dirs?","$split","$pattern","$get_matching_files","$exclude_pattern","$file_glob_from","$=~","$escape","$absolute_pattern?","$join","$windows?","$windows_absolute_network_path?","$start_with?","$match","$captures","$to_i","$add_location","$last","$example_groups","$tty?","$disable_monkey_patching","$rspec_mocks_loaded?","$tap","$syntax=","$patch_marshal_to_support_partial_doubles=","$rspec_expectations_loaded?","$instance_variable_set"]),i.get("RSpec").$$scope.get("Support").$require_rspec_core("backtrace_formatter"),i.get("RSpec").$$scope.get("Support").$require_rspec_core("ruby_project"),i.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/deprecation_formatter"),function(i){var p,d=p=o(i,"RSpec"),h=(d.$$proto,d.$$scope);!function(i){var p,d=p=o(i,"Core"),h=(d.$$proto,d.$$scope);!function(i,$super){function p(){}var d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce,ue,_e,pe,de,he,fe,me,ge,be,ve,ye,xe,ke,we,qe,Se,Ee,Re,Oe,Me,Ae,ze,je,Te,Ie,Ce,Pe,Ne,Fe,De,Be,He,Le,Ue,Ge,Ye,Ve,Xe,Ke,We,Ze,Je,Qe,et,tt=p=l(i,$super,"Configuration",p),rt=tt.$$proto,at=tt.$$scope;rt.reporter=rt.deprecation_stream=rt.output_stream=rt.preferred_options=rt.mock_framework=rt.backtrace_formatter=rt.expectation_frameworks=rt.color=rt.formatter_loader=rt.reporter_buffer=rt.profile_examples=rt.files_to_run=rt.files_or_directories_to_run=rt.requires=rt.format_docstrings_block=rt.derived_metadata_blocks=rt.spec_files_loaded=s,tt.$include(at.get("RSpec").$$scope.get("Core").$$scope.get("Hooks")),function(e,$super){function t(){}var r=t=l(e,$super,"MustBeConfiguredBeforeExampleGroupsError",t);r.$$proto,r.$$scope}(at.base,at.get("StandardError")),e.defs(tt,"$define_reader",d=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"define_reader"),(r=(a=$).$define_method,r.$$p=(n=function(){var r,a=n.$$s||this,$=s;if(n.$$is_lambda||n.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"define_reader")}return $=function(){return(r=a["$instance_variable_defined?"]("@"+t))===s||null==r||r.$$is_boolean&&1!=r?s:a.$instance_variable_get("@"+t)}(),a.$value_for(t,$)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a,t)},d.$$arity=1,d.$$parameters=[["req","name"]]),e.defs(tt,"$define_aliases",h=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"define_aliases"),a.$alias_method(r,t),a.$alias_method(r+"=",t+"="),a.$define_predicate_for(r)},h.$$arity=2,h.$$parameters=[["req","name"],["req","alias_name"]]),e.defs(tt,"$define_predicate_for",f=function(){var t,r,a,n,$=this,i=arguments.length,o=i-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<i;l++)n[l-0]=arguments[l];return(t=(r=n).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"define_predicate_for")}return r.$alias_method(t+"?",t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","name"]],a),t).call(r)},f.$$arity=-1,f.$$parameters=[["rest","names"]]),e.defs(tt,"$add_setting",m=function(t,r){var a,n,$,i=this;null==r&&(r=c([],{}));var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"add_setting"),(a=r["$key?"]("default"))===s||null==a||a.$$is_boolean&&1!=a||i.$raise("Use the instance add_setting method if you want to set a default"),i.$attr_writer(t),i.$add_read_only_setting(t),(a=(n=i.$Array(r["$[]"]("alias_with"))).$each,a.$$p=($=function(r){var a=$.$$s||this;if(null==r&&(r=s),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"add_setting")}return a.$define_aliases(t,r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","alias_name"]],$),a).call(n)},m.$$arity=-2,m.$$parameters=[["req","name"],["opt","opts"]]),e.defs(tt,"$add_read_only_setting",g=function(t,r){var a,n=this;null==r&&(r=c([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"add_read_only_setting"),(a=r["$key?"]("default"))===s||null==a||a.$$is_boolean&&1!=a||n.$raise("Use the instance add_setting method if you want to set a default"),n.$define_reader(t),n.$define_predicate_for(t)
},g.$$arity=-2,g.$$parameters=[["req","name"],["opt","opts"]]),tt.$add_setting("default_path"),tt.$add_setting("drb"),tt.$add_setting("drb_port"),tt.$add_setting("error_stream"),e.defn(tt,"$expose_dsl_globally?",b=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expose_dsl_globally?"),at.get("Core").$$scope.get("DSL")["$exposed_globally?"]()},b.$$arity=0,b.$$parameters=[]),e.defn(tt,"$expose_dsl_globally=",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expose_dsl_globally="),!1!==t&&t!==s&&null!=t?(at.get("Core").$$scope.get("DSL")["$expose_globally!"](),at.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL")["$expose_globally!"]()):(at.get("Core").$$scope.get("DSL")["$remove_globally!"](),at.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL")["$remove_globally!"]())},v.$$arity=1,v.$$parameters=[["req","value"]]),tt.$define_reader("deprecation_stream"),e.defn(tt,"$deprecation_stream=",y=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"deprecation_stream="),a=n.reporter,(r=!1!==a&&a!==s&&null!=a?t["$equal?"](n.deprecation_stream)["$!"]():a)===s||null==r||r.$$is_boolean&&1!=r?n.deprecation_stream=t:n.$warn("RSpec's reporter has already been initialized with "+n.$deprecation_stream().$inspect()+" as the deprecation stream, so your change to `deprecation_stream` will be ignored. You should configure it earlier for it to take effect, or use the `--deprecation-out` CLI option. (Called from "+at.get("CallerFilter").$first_non_rspec_line()+")")},y.$$arity=1,y.$$parameters=[["req","value"]]),tt.$add_setting("fail_fast"),tt.$add_setting("dry_run"),tt.$add_setting("failure_exit_code"),tt.$define_reader("requires"),tt.$define_reader("libs"),tt.$define_reader("output_stream"),e.defn(tt,"$output_stream=",x=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"output_stream="),a=n.reporter,(r=!1!==a&&a!==s&&null!=a?t["$equal?"](n.output_stream)["$!"]():a)===s||null==r||r.$$is_boolean&&1!=r?n.output_stream=t:n.$warn("RSpec's reporter has already been initialized with "+n.$output_stream().$inspect()+" as the output stream, so your change to `output_stream` will be ignored. You should configure it earlier for it to take effect. (Called from "+at.get("CallerFilter").$first_non_rspec_line()+")")},x.$$arity=1,x.$$parameters=[["req","value"]]),tt.$define_reader("pattern"),e.defn(tt,"$pattern=",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pattern="),r.$update_pattern_attr("pattern",t)},k.$$arity=1,k.$$parameters=[["req","value"]]),tt.$define_reader("exclude_pattern"),e.defn(tt,"$exclude_pattern=",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exclude_pattern="),r.$update_pattern_attr("exclude_pattern",t)},w.$$arity=1,w.$$parameters=[["req","value"]]),tt.$add_setting("profile_examples"),tt.$add_setting("run_all_when_everything_filtered"),tt.$add_setting("success_color"),tt.$add_setting("pending_color"),tt.$add_setting("failure_color"),tt.$add_setting("default_color"),tt.$add_setting("fixed_color"),tt.$add_setting("detail_color"),e.defn(tt,"$treat_symbols_as_metadata_keys_with_true_values=",q=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"treat_symbols_as_metadata_keys_with_true_values="),at.get("RSpec").$deprecate("RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values=",c(["message"],{message:"RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values= is deprecated, it is now set to true as default and setting it to false has no effect."}))},q.$$arity=1,q.$$parameters=[["req","_value"]]),tt.$add_setting("start_time"),tt.$add_setting("tty"),tt.$add_setting("include_or_extend_modules"),tt.$attr_writer("files_to_run"),tt.$add_setting("expecting_with_rspec"),tt.$attr_accessor("filter_manager"),tt.$attr_reader("backtrace_formatter","ordering_manager"),e.defn(tt,"$initialize",S=function(){var t,r=this;null==u._rspec_core_load_started_at&&(u._rspec_core_load_started_at=s),null==u.stderr&&(u.stderr=s),null==u.stdout&&(u.stdout=s);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"initialize"),r.start_time=!1!==(t=u._rspec_core_load_started_at)&&t!==s&&null!=t?t:e.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now(),r.expectation_frameworks=[],r.include_or_extend_modules=[],r.mock_framework=s,r.files_or_directories_to_run=[],r.color=!1,r.pattern="**{,/*/**}/*_spec.rb",r.exclude_pattern="",r.failure_exit_code=1,r.spec_files_loaded=!1,r.backtrace_formatter=at.get("BacktraceFormatter").$new(),r.default_path="spec",r.deprecation_stream=u.stderr,r.output_stream=u.stdout,r.reporter=s,r.reporter_buffer=s,r.filter_manager=at.get("FilterManager").$new(),r.ordering_manager=at.get("Ordering").$$scope.get("ConfigurationManager").$new(),r.preferred_options=c([],{}),r.failure_color="red",r.success_color="green",r.pending_color="yellow",r.default_color="white",r.fixed_color="blue",r.detail_color="cyan",r.profile_examples=!1,r.requires=[],r.libs=[],r.derived_metadata_blocks=[]},S.$$arity=0,S.$$parameters=[]),e.defn(tt,"$force",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"force"),r.$ordering_manager().$force(t),r.preferred_options["$merge!"](t)},E.$$arity=1,E.$$parameters=[["req","hash"]]),e.defn(tt,"$reset",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.spec_files_loaded=!1,t.reporter=s,t.formatter_loader=s},R.$$arity=0,R.$$parameters=[]),e.defn(tt,"$add_setting",O=function(t,r){var a,n,$,i=this,o=s;null==r&&(r=c([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"add_setting"),o=r.$delete("default"),(a=(n=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(i))).$class_exec,a.$$p=($=function(){var a=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"add_setting")}return a.$add_setting(t,r)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n),!1!==o&&o!==s&&null!=o?i.$__send__(t+"=",o):s},O.$$arity=-2,O.$$parameters=[["req","name"],["opt","opts"]]),e.defn(tt,"$mock_framework",M=function(){var t,r=this,a=arguments.length;if(0!==a&&e.ac(a,0,this,"mock_framework"),(t=r.mock_framework["$nil?"]())!==s&&null!=t&&(!t.$$is_boolean||1==t))try{r.$mock_with("rspec")}catch(t){if(!e.rescue(t,[at.get("LoadError")]))throw t;try{r.$mock_with("nothing")}finally{e.pop_exception()}}return r.mock_framework},M.$$arity=0,M.$$parameters=[]),e.defn(tt,"$mock_framework=",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"mock_framework="),r.$mock_with(t)},A.$$arity=1,A.$$parameters=[["req","framework"]]),e.defn(tt,"$backtrace_exclusion_patterns",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"backtrace_exclusion_patterns"),t.backtrace_formatter.$exclusion_patterns()},z.$$arity=0,z.$$parameters=[]),e.defn(tt,"$backtrace_exclusion_patterns=",j=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"backtrace_exclusion_patterns="),r=[t],a=n.backtrace_formatter,a["$exclusion_patterns="].apply(a,r),r[r.length-1]},j.$$arity=1,j.$$parameters=[["req","patterns"]]),e.defn(tt,"$backtrace_inclusion_patterns",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"backtrace_inclusion_patterns"),t.backtrace_formatter.$inclusion_patterns()},T.$$arity=0,T.$$parameters=[]),e.defn(tt,"$backtrace_inclusion_patterns=",I=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"backtrace_inclusion_patterns="),r=[t],a=n.backtrace_formatter,a["$inclusion_patterns="].apply(a,r),r[r.length-1]},I.$$arity=1,I.$$parameters=[["req","patterns"]]),e.defn(tt,"$filter_gems_from_backtrace",C=function(){var t,r,a,n,$=this,i=arguments.length,o=i-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<i;l++)n[l-0]=arguments[l];return(t=(r=n).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==r.backtrace_formatter&&(r.backtrace_formatter=s),null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"filter_gems_from_backtrace")}return r.backtrace_formatter.$filter_gem(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","name"]],a),t).call(r)},C.$$arity=-1,C.$$parameters=[["rest","gem_names"]]),e.cdecl(at,"MOCKING_ADAPTERS",c(["rspec","flexmock","rr","mocha","nothing"],{rspec:"RSpec",flexmock:"Flexmock",rr:"RR",mocha:"Mocha",nothing:"Null"})),e.defn(tt,"$mock_with",P=function(t){var r,a,n,$,i,o,l,c=this,u=P.$$p,_=u||s,p=s,d=s,h=s,f=s;P.$$p=null;var m=arguments.length;return 1!==m&&e.ac(m,1,this,"mock_with"),p=function(){return(r=t["$is_a?"](at.get("Module")))===s||null==r||r.$$is_boolean&&1!=r?(d=(r=(a=at.get("MOCKING_ADAPTERS")).$fetch,r.$$p=(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"mock_with")}return r.$raise(at.get("ArgumentError"),"Unknown mocking framework: "+t.$inspect()+". Pass a module or one of "+at.get("MOCKING_ADAPTERS").$keys().$inspect())},n.$$s=c,n.$$arity=0,n.$$parameters=[],n),r).call(a,t),at.get("RSpec").$$scope.get("Support").$require_rspec_core("mocking_adapters/"+d.$to_s().$downcase()),at.get("RSpec").$$scope.get("Core").$$scope.get("MockingAdapters").$const_get(d)):t}(),$=(i=(o=[p,c.mock_framework]).$map,i.$$p=(l=function(t){var r;l.$$s;if(null==t&&(t=s),l.$$is_lambda||l.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"mock_with")}return(r=t["$respond_to?"]("framework_name"))===s||null==r||r.$$is_boolean&&1!=r?"unnamed":t.$framework_name()},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","mod"]],l),i).call(o),r=e.to_ary($),h=null==r[0]?s:r[0],f=null==r[1]?s:r[1],h["$=="](f)||c.$assert_no_example_groups_defined("mock_framework"),_!==s&&(((r=p["$respond_to?"]("configuration"))===s||null==r||r.$$is_boolean&&1!=r)&&c.$raise(p+" must respond to `configuration` so that mock_with can yield it."),e.yield1(_,p.$configuration())),c.mock_framework=p},P.$$arity=1,P.$$parameters=[["req","framework"]]),e.defn(tt,"$expectation_frameworks",N=function(){var t,r=this,a=arguments.length;if(0!==a&&e.ac(a,0,this,"expectation_frameworks"),(t=r.expectation_frameworks["$empty?"]())!==s&&null!=t&&(!t.$$is_boolean||1==t))try{r.$expect_with("rspec")}catch(t){if(!e.rescue(t,[at.get("LoadError")]))throw t;try{r.$expect_with(at.get("Module").$new())}finally{e.pop_exception()}}return r.expectation_frameworks},N.$$arity=0,N.$$parameters=[]),e.defn(tt,"$expectation_framework=",F=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"expectation_framework="),r.$expect_with(t)},F.$$arity=1,F.$$parameters=[["req","framework"]]),e.defn(tt,"$expect_with",D=function(){var a,n,$,i,o=this,l=D.$$p,c=l||s,u=s,_=arguments.length,p=_-0;p<0&&(p=0),i=new Array(p);for(var d=0;d<_;d++)i[d-0]=arguments[d];return D.$$p=null,u=(a=(n=i).$map,a.$$p=($=function(t){var r,a,n=$.$$s||this,i=s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"expect_with")}return function(){return i=t,at.get("Module")["$==="](i)?t:"rspec"["$==="](i)?(n.$require("rspec/expectations"),r=[!0],a=n,a["$expecting_with_rspec="].apply(a,r),r[r.length-1],e.get("RSpec").$$scope.get("Matchers")):"test_unit"["$==="](i)?(n.$require("rspec/core/test_unit_assertions_adapter"),e.get("RSpec").$$scope.get("Core").$$scope.get("TestUnitAssertionsAdapter")):"minitest"["$==="](i)?(n.$require("rspec/core/minitest_assertions_adapter"),e.get("RSpec").$$scope.get("Core").$$scope.get("MinitestAssertionsAdapter")):n.$raise(at.get("ArgumentError"),t.$inspect()+" is not supported")}()},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","framework"]],$),a).call(n),(a=t(u,o.expectation_frameworks)["$any?"]())===s||null==a||a.$$is_boolean&&1!=a||o.$assert_no_example_groups_defined("expect_with"),c!==s&&((a=r(u.$length(),1))===s||null==a||a.$$is_boolean&&1!=a||o.$raise("expect_with only accepts a block with a single argument. Call expect_with "+u.$length()+" times, once with each argument, instead."),((a=u.$first()["$respond_to?"]("configuration"))===s||null==a||a.$$is_boolean&&1!=a)&&o.$raise(u.$first()+" must respond to `configuration` so that expect_with can yield it."),e.yield1(c,u.$first().$configuration())),(a=o.expectation_frameworks).$push.apply(a,e.to_a(u))},D.$$arity=-1,D.$$parameters=[["rest","frameworks"]]),e.defn(tt,"$full_backtrace?",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_backtrace?"),t.backtrace_formatter["$full_backtrace?"]()},B.$$arity=0,B.$$parameters=[]),e.defn(tt,"$full_backtrace=",H=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"full_backtrace="),r=[t],a=n.backtrace_formatter,a["$full_backtrace="].apply(a,r),r[r.length-1]},H.$$arity=1,H.$$parameters=[["req","true_or_false"]]),e.defn(tt,"$color",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"color"),t.$value_for("color",t.color)},L.$$arity=0,L.$$parameters=[]),e.defn(tt,"$color_enabled?",U=function(t){var r,a=this;null==t&&(t=a.$output_stream());var n=arguments.length;return n>1&&e.ac(n,-1,this,"color_enabled?"),r=a["$output_to_tty?"](t),!1!==r&&r!==s&&null!=r?a.$color():r},U.$$arity=-1,U.$$parameters=[["opt","output"]]),e.defn(tt,"$color=",G=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"color="),!1===t||t===s||null==t?s:(a=at.get("RSpec").$world()["$windows_os?"](),(r=!1!==a&&a!==s&&null!=a?at.get("ENV")["$[]"]("ANSICON")["$!"]():a)===s||null==r||r.$$is_boolean&&1!=r?n.color=!0:(at.get("RSpec").$warning("You must use ANSICON 1.31 or later (http://adoxa.3eeweb.com/ansicon/) to use colour on Windows"),n.color=!1))},G.$$arity=1,G.$$parameters=[["req","true_or_false"]]),e.defn(tt,"$libs=",Y=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"libs="),(r=(a=t).$map,r.$$p=(n=function(t){var r=n.$$s||this;if(null==r.libs&&(r.libs=s),null==u.LOAD_PATH&&(u.LOAD_PATH=s),null==t&&(t=s),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"libs=")}return r.libs.$unshift(t),u.LOAD_PATH.$unshift(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","lib"]],n),r).call(a)},Y.$$arity=1,Y.$$parameters=[["req","libs"]]),e.defn(tt,"$full_description=",V=function(t){var r,a,n,$,i=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"full_description="),i.$filter_run(c(["full_description"],{full_description:(r=at.get("Regexp")).$union.apply(r,e.to_a((a=(n=i.$Array(t)).$map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"full_description=")}return at.get("Regexp").$new(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","d"]],$),a).call(n)))}))},V.$$arity=1,V.$$parameters=[["req","description"]]),e.defn(tt,"$full_description",X=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_description"),t.$filter().$fetch("full_description",s)},X.$$arity=0,X.$$parameters=[]),e.defn(tt,"$add_formatter",K=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var o=1;o<$;o++)a[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"add_formatter"),(r=a["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r||a["$<<"](n.$output_stream()),(r=n.$formatter_loader()).$add.apply(r,[t].concat(e.to_a(a)))},K.$$arity=-2,K.$$parameters=[["req","formatter_to_use"],["rest","paths"]]),tt.$alias_method("formatter=","add_formatter"),e.defn(tt,"$default_formatter",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"default_formatter"),t.$formatter_loader().$default_formatter()},W.$$arity=0,W.$$parameters=[]),e.defn(tt,"$default_formatter=",Z=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"default_formatter="),r=[t],a=n.$formatter_loader(),a["$default_formatter="].apply(a,r),r[r.length-1]},Z.$$arity=1,Z.$$parameters=[["req","value"]]),e.defn(tt,"$formatters",J=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatters"),t.$formatter_loader().$formatters().$dup()},J.$$arity=0,J.$$parameters=[]),e.defn(tt,"$formatter_loader",Q=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"formatter_loader"),!1!==(t=r.formatter_loader)&&t!==s&&null!=t?t:r.formatter_loader=at.get("Formatters").$$scope.get("Loader").$new(at.get("Reporter").$new(r))},Q.$$arity=0,Q.$$parameters=[]),function(t,$super){function r(){}var a,n,$,i=r=l(t,$super,"DeprecationReporterBuffer",r),o=i.$$proto;i.$$scope;o.calls=s,e.defn(i,"$initialize",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.calls=[]},a.$$arity=0,a.$$parameters=[]),e.defn(i,"$deprecation",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.calls["$<<"](e)},n.$$arity=-1,n.$$parameters=[["rest","args"]]),e.defn(i,"$play_onto",$=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"play_onto"),(r=(a=$.calls).$each,r.$$p=(n=function(r){var a;n.$$s;if(null==r&&(r=s),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"play_onto")}return(a=t).$deprecation.apply(a,e.to_a(r))},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","args"]],n),r).call(a)},$.$$arity=1,$.$$parameters=[["req","reporter"]])}(at.base,null),e.defn(tt,"$reporter",ee=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"reporter"),!1!==(t=a.reporter_buffer)&&t!==s&&null!=t?t:!1!==(r=a.reporter)&&r!==s&&null!=r?r:a.reporter=function(){return a.reporter_buffer=at.get("DeprecationReporterBuffer").$new(),a.$formatter_loader().$setup_default(a.$output_stream(),a.$deprecation_stream()),a.reporter_buffer.$play_onto(a.$formatter_loader().$reporter()),a.reporter_buffer=s,a.$formatter_loader().$reporter()}()},ee.$$arity=0,ee.$$parameters=[]),e.defn(tt,"$profile_examples",te=function(){var t,r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"profile_examples"),a=r.$value_for("profile_examples",r.profile_examples),(t=!1!==a&&a!==s&&null!=a?a["$is_a?"](at.get("Integer"))["$!"]():a)===s||null==t||t.$$is_boolean&&1!=t?a:10},te.$$arity=0,te.$$parameters=[]),e.defn(tt,"$files_or_directories_to_run=",re=function(){var e,t,r,a,n,$=this,i=arguments.length,o=i-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<i;l++)n[l-0]=arguments[l];return n=n.$flatten(),r=!1!==(a=$.$command()["$=="]("rspec"))&&a!==s&&null!=a?a:at.get("Runner")["$running_in_drb?"](),t=!1!==r&&r!==s&&null!=r?$.$default_path():r,(e=!1!==t&&t!==s&&null!=t?n["$empty?"]():t)===s||null==e||e.$$is_boolean&&1!=e||n["$<<"]($.$default_path()),$.files_or_directories_to_run=n,$.files_to_run=s},re.$$arity=-1,re.$$parameters=[["rest","files"]]),e.defn(tt,"$files_to_run",ae=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"files_to_run"),!1!==(t=r.files_to_run)&&t!==s&&null!=t?t:r.files_to_run=r.$get_files_to_run(r.files_or_directories_to_run)},ae.$$arity=0,ae.$$parameters=[]),e.defn(tt,"$alias_example_to",ne=function(t){var r,a=s,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=arguments.length;return o<1&&e.ac(o,-2,this,"alias_example_to"),a=at.get("Metadata").$build_hash_from(r),at.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_example_method(t,a)},ne.$$arity=-2,ne.$$parameters=[["req","name"],["rest","args"]]),e.defn(tt,"$alias_example_group_to",$e=function(t){var r,a=s,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=arguments.length;return o<1&&e.ac(o,-2,this,"alias_example_group_to"),a=at.get("Metadata").$build_hash_from(r),at.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_example_group_method(t,a)},$e.$$arity=-2,$e.$$parameters=[["req","new_name"],["rest","args"]]),e.defn(tt,"$alias_it_behaves_like_to",ie=function(t,r){null==r&&(r="");var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"alias_it_behaves_like_to"),at.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_nested_shared_group_method(t,r)},ie.$$arity=-2,ie.$$parameters=[["req","new_name"],["opt","report_label"]]),tt.$alias_method("alias_it_should_behave_like_to","alias_it_behaves_like_to"),e.defn(tt,"$filter_run_including",se=function(){var e,t=this,r=s,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<a;$++)e[$-0]=arguments[$];return r=at.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.$filter_manager().$include_with_low_priority(r)},se.$$arity=-1,se.$$parameters=[["rest","args"]]),tt.$alias_method("filter_run","filter_run_including"),e.defn(tt,"$inclusion_filter=",oe=function(t){var r=this,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"inclusion_filter="),a=at.get("Metadata").$build_hash_from([t],"warn_about_example_group_filtering"),r.$filter_manager().$include_only(a)},oe.$$arity=1,oe.$$parameters=[["req","filter"]]),tt.$alias_method("filter=","inclusion_filter="),e.defn(tt,"$inclusion_filter",le=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusion_filter"),t.$filter_manager().$inclusions()},le.$$arity=0,le.$$parameters=[]),tt.$alias_method("filter","inclusion_filter"),e.defn(tt,"$filter_run_excluding",ce=function(){var e,t=this,r=s,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<a;$++)e[$-0]=arguments[$];return r=at.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.$filter_manager().$exclude_with_low_priority(r)},ce.$$arity=-1,ce.$$parameters=[["rest","args"]]),e.defn(tt,"$exclusion_filter=",ue=function(t){var r=this,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"exclusion_filter="),a=at.get("Metadata").$build_hash_from([t],"warn_about_example_group_filtering"),r.$filter_manager().$exclude_only(a)},ue.$$arity=1,ue.$$parameters=[["req","filter"]]),e.defn(tt,"$exclusion_filter",_e=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusion_filter"),t.$filter_manager().$exclusions()},_e.$$arity=0,_e.$$parameters=[]),e.defn(tt,"$include",pe=function(t){var r,a=this,n=s,$=arguments.length,i=$-1;i<0&&(i=0),r=new Array(i);for(var o=1;o<$;o++)r[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"include"),n=at.get("Metadata").$build_hash_from(r,"warn_about_example_group_filtering"),a.$include_or_extend_modules()["$<<"](["include",t,n])},pe.$$arity=-2,pe.$$parameters=[["req","mod"],["rest","filters"]]),e.defn(tt,"$extend",de=function(t){var r,a=this,n=s,$=arguments.length,i=$-1;i<0&&(i=0),r=new Array(i);for(var o=1;o<$;o++)r[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"extend"),n=at.get("Metadata").$build_hash_from(r,"warn_about_example_group_filtering"),a.$include_or_extend_modules()["$<<"](["extend",t,n])},de.$$arity=-2,de.$$parameters=[["req","mod"],["rest","filters"]]),e.defn(tt,"$configure_group",he=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"configure_group"),(r=(a=$.$include_or_extend_modules()).$each,r.$$p=(n=function(r,a,$){var i,o,l=n.$$s||this;if(null==r&&(r=s),null==a&&(a=s),null==$&&($=s),n.$$is_lambda||n.$$define_meth){var c=arguments.length;3!==c&&e.block_ac(c,3,"configure_group")}return(i=!1!==(o=$["$empty?"]())&&o!==s&&null!=o?o:t["$any_apply?"]($))===s||null==i||i.$$is_boolean&&1!=i?s:l.$__send__("safe_"+r,a,t)},n.$$s=$,n.$$arity=3,n.$$parameters=[["req","include_or_extend"],["req","mod"],["req","filters"]],n),r).call(a)},he.$$arity=1,he.$$parameters=[["req","group"]]),e.defn(tt,"$safe_include",fe=function(t,r){var n,$=arguments.length;return 2!==$&&e.ac($,2,this,"safe_include"),(n=a(r,t))===s||null==n||n.$$is_boolean&&1!=n?r.$__send__("include",t):s},fe.$$arity=2,fe.$$parameters=[["req","mod"],["req","host"]]),e.defn(tt,"$requires=",me=function(t){var r,a,$,i,o,l,c=this,u=s,_=arguments.length;return 1!==_&&e.ac(_,1,this,"requires="),u=(r=(a=["lib",c.$default_path()]).$select,r.$$p=($=function(t){$.$$s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"requires=")}return at.get("File")["$directory?"](t)},$.$$s=c,$.$$arity=1,$.$$parameters=[["req","p"]],$),r).call(a),(r=at.get("RSpec").$$scope.get("Core").$$scope.get("RubyProject")).$add_to_load_path.apply(r,e.to_a(u)),(i=(o=t).$each,i.$$p=(l=function(t){var r=l.$$s||this;if(null==t&&(t=s),l.$$is_lambda||l.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"requires=")}return r.$require(t)},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","path"]],l),i).call(o),c.requires=n(c.requires,t)},me.$$arity=1,me.$$parameters=[["req","paths"]]),(ge=$(at.get("RUBY_VERSION").$to_f(),1.9))===s||null==ge||ge.$$is_boolean&&1!=ge?e.defn(tt,"$safe_extend",ve=function(t,r){var a,n=arguments.length;return 2!==n&&e.ac(n,2,this,"safe_extend"),(a=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(r)).$included_modules()["$include?"](t))===s||null==a||a.$$is_boolean&&1!=a?r.$extend(t):s},ve.$$arity=2,ve.$$parameters=[["req","mod"],["req","host"]]):e.defn(tt,"$safe_extend",be=function(t,r){var n,$=arguments.length;return 2!==$&&e.ac($,2,this,"safe_extend"),(n=a(r.$singleton_class(),t))===s||null==n||n.$$is_boolean&&1!=n?r.$extend(t):s},be.$$arity=2,be.$$parameters=[["req","mod"],["req","host"]]),e.defn(tt,"$configure_mock_framework",ye=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"configure_mock_framework"),at.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$__send__("include",t.$mock_framework()),t.$conditionally_disable_mocks_monkey_patching()},ye.$$arity=0,ye.$$parameters=[]),e.defn(tt,"$configure_expectation_framework",xe=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"configure_expectation_framework"),(t=(r=n.$expectation_frameworks()).$each,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"configure_expectation_framework")}return at.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$__send__("include",t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","framework"]],a),t).call(r),n.$conditionally_disable_expectations_monkey_patching()},xe.$$arity=0,xe.$$parameters=[]),e.defn(tt,"$load_spec_files",ke=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"load_spec_files"),(t=(r=n.$files_to_run().$uniq()).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"load_spec_files")}return r.$load(at.get("File").$expand_path(t))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r),n.spec_files_loaded=!0},ke.$$arity=0,ke.$$parameters=[]),e.cdecl(at,"DEFAULT_FORMATTER",(ge=(we=tt).$lambda,ge.$$p=(qe=function(t){qe.$$s;if(null==t&&(t=s),qe.$$is_lambda||qe.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<class:Configuration>")}return t},qe.$$s=tt,qe.$$arity=1,qe.$$parameters=[["req","string"]],qe),ge).call(we)),e.defn(tt,"$format_docstrings",Se=function(){var t=this,r=Se.$$p,a=r||s;Se.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"format_docstrings"),t.format_docstrings_block=function(){return a!==s?a:at.get("DEFAULT_FORMATTER")}()},Se.$$arity=0,Se.$$parameters=[["block","block"]]),e.defn(tt,"$format_docstrings_block",Ee=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"format_docstrings_block"),!1!==(t=r.format_docstrings_block)&&t!==s&&null!=t?t:r.format_docstrings_block=at.get("DEFAULT_FORMATTER")},Ee.$$arity=0,Ee.$$parameters=[]),e.defs(tt,"$delegate_to_ordering_manager",Re=function(){var t,r,a,n,$=this,i=arguments.length,o=i-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<i;l++)n[l-0]=arguments[l];return(t=(r=n).$each,t.$$p=(a=function(t){var r,n,$,i=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"delegate_to_ordering_manager")}return(r=(n=i).$define_method,r.$$p=($=function(){var r,a,n,i,o=$.$$s||this;r=$.$$p||s,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<l;u++)a[u-0]=arguments[u];return(n=(i=o.$ordering_manager()).$__send__,n.$$p=r.$to_proc(),n).apply(i,[t].concat(e.to_a(a)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),r).call(n,t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","method"]],a),t).call(r)},Re.$$arity=-1,Re.$$parameters=[["rest","methods"]]),tt.$delegate_to_ordering_manager("seed="),tt.$delegate_to_ordering_manager("seed"),tt.$delegate_to_ordering_manager("order="),tt.$delegate_to_ordering_manager("register_ordering"),tt.$delegate_to_ordering_manager("seed_used?","ordering_registry"),e.defn(tt,"$warnings=",Oe=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"warnings="),u.VERBOSE=t["$!"]()["$!"]()},Oe.$$arity=1,Oe.$$parameters=[["req","value"]]),e.defn(tt,"$warnings?",Me=function(){null==u.VERBOSE&&(u.VERBOSE=s);var t=arguments.length;return 0!==t&&e.ac(t,0,this,"warnings?"),u.VERBOSE},Me.$$arity=0,Me.$$parameters=[]),e.defn(tt,"$expose_current_running_example_as",Ae=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"expose_current_running_example_as"),(r=(a=at.get("ExposeCurrentExample")).$module_exec,r.$$p=(n=function(){var r,a,$,i=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"expose_current_running_example_as")}return i.$extend(at.get("RSpec").$$scope.get("SharedContext")),(r=(a=i).$let,r.$$p=($=function(t){$.$$s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"expose_current_running_example_as")}return t},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","ex"]],$),r).call(a,t)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a),$.$include(at.get("ExposeCurrentExample"))},Ae.$$arity=1,Ae.$$parameters=[["req","method_name"]]),function(e){var t,r=t=o(e,"ExposeCurrentExample");r.$$proto,r.$$scope}(at.base),e.defn(tt,"$raise_errors_for_deprecations!",ze=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"raise_errors_for_deprecations!"),t=[at.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("RaiseErrorStream").$new()],r=a,r["$deprecation_stream="].apply(r,t),t[t.length-1]},ze.$$arity=0,ze.$$parameters=[]),e.defn(tt,"$disable_monkey_patching!",je=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"disable_monkey_patching!"),t=[!1],r=a,r["$expose_dsl_globally="].apply(r,t),t[t.length-1],t=[!0],r=a,r["$disable_monkey_patching="].apply(r,t),t[t.length-1],a.$conditionally_disable_mocks_monkey_patching(),a.$conditionally_disable_expectations_monkey_patching()},je.$$arity=0,je.$$parameters=[]),tt.$attr_accessor("disable_monkey_patching"),e.defn(tt,"$define_derived_metadata",Te=function(){var e,t=this,r=Te.$$p,a=r||s,n=s,$=arguments.length,i=$-0;i<0&&(i=0),e=new Array(i);for(var o=0;o<$;o++)e[o-0]=arguments[o];return Te.$$p=null,n=at.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.derived_metadata_blocks["$<<"]([n,a])},Te.$$arity=-1,Te.$$parameters=[["rest","filters"],["block","block"]]),e.defn(tt,"$apply_derived_metadata_to",Ie=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"apply_derived_metadata_to"),(r=(a=$.derived_metadata_blocks).$each,r.$$p=(n=function(r,a){var $,i;n.$$s;if(null==r&&(r=s),null==a&&(a=s),n.$$is_lambda||n.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"apply_derived_metadata_to")}return($=!1!==(i=r["$empty?"]())&&i!==s&&null!=i?i:at.get("MetadataFilter")["$any_apply?"](r,t))===s||null==$||$.$$is_boolean&&1!=$?s:a.$call(t)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","filter"],["req","block"]],n),r).call(a)},Ie.$$arity=1,Ie.$$parameters=[["req","metadata"]]),tt.$private(),e.defn(tt,"$get_files_to_run",Ce=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"get_files_to_run"),(r=(a=at.get("FlatMap")).$flat_map,r.$$p=(n=function(t){var r,a=n.$$s||this;if(null==t&&(t=s),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"get_files_to_run")}return(r=at.get("File").$$scope.get("ALT_SEPARATOR"))===s||null==r||r.$$is_boolean&&1!=r||(t=t.$gsub(at.get("File").$$scope.get("ALT_SEPARATOR"),at.get("File").$$scope.get("SEPARATOR"))),(r=at.get("File")["$directory?"](t))===s||null==r||r.$$is_boolean&&1!=r?a.$extract_location(t):a.$gather_directories(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","path"]],n),r).call(a,$.$paths_to_check(t)).$sort().$uniq()},Ce.$$arity=1,Ce.$$parameters=[["req","paths"]]),e.defn(tt,"$paths_to_check",Pe=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"paths_to_check"),(r=a["$pattern_might_load_specs_from_vendored_dirs?"]())===s||null==r||r.$$is_boolean&&1!=r?n(t,["."]):t},Pe.$$arity=1,Pe.$$parameters=[["req","paths"]]),e.defn(tt,"$pattern_might_load_specs_from_vendored_dirs?",Ne=function(){
var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pattern_might_load_specs_from_vendored_dirs?"),t.$pattern().$split(at.get("File").$$scope.get("SEPARATOR")).$first()["$include?"]("**")},Ne.$$arity=0,Ne.$$parameters=[]),e.defn(tt,"$gather_directories",Fe=function(r){var a=this,n=s,$=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"gather_directories"),n=a.$get_matching_files(r,a.$pattern()),$=a.$get_matching_files(r,a.$exclude_pattern()),t(n,$).$sort().$uniq()},Fe.$$arity=1,Fe.$$parameters=[["req","path"]]),e.defn(tt,"$get_matching_files",De=function(t,r){var a,n,$,i=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"get_matching_files"),(a=(n=at.get("Dir")["$[]"](i.$file_glob_from(t,r))).$map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"get_matching_files")}return at.get("File").$expand_path(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","file"]],$),a).call(n)},De.$$arity=2,De.$$parameters=[["req","path"],["req","pattern"]]),e.defn(tt,"$file_glob_from",Be=function(t,r){var a,n,$=this,i=s,o=arguments.length;return 2!==o&&e.ac(o,2,this,"file_glob_from"),i="{"+r.$gsub(/\s*,\s*/,",")+"}",(a=!1!==(n=r["$=~"](new RegExp("^(\\.\\/)?"+at.get("Regexp").$escape(t))))&&n!==s&&null!=n?n:$["$absolute_pattern?"](r))===s||null==a||a.$$is_boolean&&1!=a?at.get("File").$join(t,i):i},Be.$$arity=2,Be.$$parameters=[["req","path"],["req","pattern"]]),(ge=at.get("RSpec").$$scope.get("Support").$$scope.get("OS")["$windows?"]())===s||null==ge||ge.$$is_boolean&&1!=ge?e.defn(tt,"$absolute_pattern?",Ue=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"absolute_pattern?"),t["$start_with?"](at.get("File").$$scope.get("Separator"))},Ue.$$arity=1,Ue.$$parameters=[["req","pattern"]]):(e.defn(tt,"$absolute_pattern?",He=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"absolute_pattern?"),!1!==(r=t["$=~"](/\A[A-Z]:\\/))&&r!==s&&null!=r?r:a["$windows_absolute_network_path?"](t)},He.$$arity=1,He.$$parameters=[["req","pattern"]]),e.defn(tt,"$windows_absolute_network_path?",Le=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"windows_absolute_network_path?"),!((r=e.get("File").$$scope.get("ALT_SEPARATOR"))===s||null==r||r.$$is_boolean&&1!=r)&&t["$start_with?"](n(e.get("File").$$scope.get("ALT_SEPARATOR"),e.get("File").$$scope.get("ALT_SEPARATOR")))},Le.$$arity=1,Le.$$parameters=[["req","pattern"]])),e.defn(tt,"$extract_location",Ge=function(t){var r,a,n,$,i=this,o=s,l=s,c=s,u=arguments.length;return 1!==u&&e.ac(u,1,this,"extract_location"),o=/^(.*?)((?:\:\d+)+)$/.$match(t),!1!==o&&o!==s&&null!=o&&(l=o.$captures(),r=[l["$[]"](0),(a=(n=l["$[]"](1)["$[]"](_(1,-1,!1)).$split(":")).$map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"extract_location")}return t.$to_i()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","n"]],$),a).call(n)],t=r[0],c=r[1],i.$filter_manager().$add_location(t,c)),t["$=="](i.$default_path())?[]:t},Ge.$$arity=1,Ge.$$parameters=[["req","path"]]),e.defn(tt,"$command",Ye=function(){null==u[0]&&(u[0]=s);var t=arguments.length;return 0!==t&&e.ac(t,0,this,"command"),u[0].$split(at.get("File").$$scope.get("SEPARATOR")).$last()},Ye.$$arity=0,Ye.$$parameters=[]),e.defn(tt,"$value_for",Ve=function(t,r){var a,n=this;null==r&&(r=s);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"value_for"),(a=n.preferred_options["$key?"](t))===s||null==a||a.$$is_boolean&&1!=a?r:n.preferred_options["$[]"](t)},Ve.$$arity=-2,Ve.$$parameters=[["req","key"],["opt","default"]]),e.defn(tt,"$assert_no_example_groups_defined",Xe=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"assert_no_example_groups_defined"),(r=at.get("RSpec").$world().$example_groups()["$any?"]())===s||null==r||r.$$is_boolean&&1!=r?s:a.$raise(at.get("MustBeConfiguredBeforeExampleGroupsError").$new("RSpec's "+t+" configuration option must be configured before any example groups are defined, but you have already defined a group."))},Xe.$$arity=1,Xe.$$parameters=[["req","config_option"]]),e.defn(tt,"$output_to_tty?",Ke=function(t){var r,a,n=this;null==t&&(t=n.$output_stream());var $=arguments.length;return $>1&&e.ac($,-1,this,"output_to_tty?"),!1!==(r=n["$tty?"]())&&r!==s&&null!=r?r:(a=t["$respond_to?"]("tty?"),!1!==a&&a!==s&&null!=a?t["$tty?"]():a)},Ke.$$arity=-1,Ke.$$parameters=[["opt","output"]]),e.defn(tt,"$conditionally_disable_mocks_monkey_patching",We=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"conditionally_disable_mocks_monkey_patching"),r=n.$disable_monkey_patching(),(t=!1!==r&&r!==s&&null!=r?n["$rspec_mocks_loaded?"]():r)===s||null==t||t.$$is_boolean&&1!=t?s:(t=(r=at.get("RSpec").$$scope.get("Mocks").$configuration()).$tap,t.$$p=(a=function(t){var r,n;a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"conditionally_disable_mocks_monkey_patching")}return r=["expect"],n=t,n["$syntax="].apply(n,r),r[r.length-1],r=[!1],n=t,n["$patch_marshal_to_support_partial_doubles="].apply(n,r),r[r.length-1]},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","config"]],a),t).call(r)},We.$$arity=0,We.$$parameters=[]),e.defn(tt,"$conditionally_disable_expectations_monkey_patching",Ze=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"conditionally_disable_expectations_monkey_patching"),r=a.$disable_monkey_patching(),(t=!1!==r&&r!==s&&null!=r?a["$rspec_expectations_loaded?"]():r)===s||null==t||t.$$is_boolean&&1!=t?s:(t=["expect"],r=at.get("RSpec").$$scope.get("Expectations").$configuration(),r["$syntax="].apply(r,t),t[t.length-1])},Ze.$$arity=0,Ze.$$parameters=[]),e.defn(tt,"$rspec_mocks_loaded?",Je=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rspec_mocks_loaded?"),(t=at.get("RSpec").$$scope.get("Mocks").$configuration)&&!t.$$stub||at.get("RSpec").$$scope.get("Mocks")["$respond_to_missing?"]("configuration")?"method":s},Je.$$arity=0,Je.$$parameters=[]),e.defn(tt,"$rspec_expectations_loaded?",Qe=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rspec_expectations_loaded?"),(t=at.get("RSpec").$$scope.get("Expectations").$configuration)&&!t.$$stub||at.get("RSpec").$$scope.get("Expectations")["$respond_to_missing?"]("configuration")?"method":s},Qe.$$arity=0,Qe.$$parameters=[]),e.defn(tt,"$update_pattern_attr",et=function(t,r){var a,n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"update_pattern_attr"),(a=n.spec_files_loaded)===s||null==a||a.$$is_boolean&&1!=a||at.get("RSpec").$warning("Configuring `"+t+"` to "+r+" has no effect since RSpec has already loaded the spec files."),n.$instance_variable_set("@"+t.$to_s(),r),n.files_to_run=s},et.$$arity=2,et.$$parameters=[["req","name"],["req","value"]])}(h.base,null)}(h.base)}(i.base)},Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass),i=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(a,$super){function i(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I=i=$(a,$super,"Set",i),C=I.$$proto,P=I.$$scope;C.hash=n,I.$include(P.get("Enumerable")),e.defs(I,"$[]",s=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$new(e)},s.$$arity=-1,s.$$parameters=[["rest","ary"]]),e.defn(I,"$initialize",o=function(t){var r,a,$,i=this,s=o.$$p,l=s||n;null==t&&(t=n),o.$$p=null;var c=arguments.length;return c>1&&e.ac(c,-1,this,"initialize"),i.hash=P.get("Hash").$new(),(r=t["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?(((r=P.get("Enumerable")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r)&&i.$raise(P.get("ArgumentError"),"value must be enumerable"),!1!==l&&l!==n&&null!=l?(r=(a=t).$each,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"initialize")}return r.$add(l.$call(t))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","item"]],$),r).call(a):i.$merge(t)):n},o.$$arity=-1,o.$$parameters=[["opt","enum"],["block","block"]]),e.defn(I,"$dup",l=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.$class().$new(),r.$merge(t)},l.$$arity=0,l.$$parameters=[]),e.defn(I,"$-",c=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"-"),((r=t["$respond_to?"]("each"))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(P.get("ArgumentError"),"value must be enumerable"),a.$dup().$subtract(t)},c.$$arity=1,c.$$parameters=[["req","enum"]]),e.alias(I,"difference","-"),e.defn(I,"$inspect",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Set: {"+t.$to_a().$join(",")+"}>"},u.$$arity=0,u.$$parameters=[]),e.defn(I,"$==",_=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"=="),!((r=i["$equal?"](t))===n||null==r||r.$$is_boolean&&1!=r)||((r=t["$instance_of?"](i.$class()))===n||null==r||r.$$is_boolean&&1!=r?(a=t["$is_a?"](P.get("Set")),!((r=!1!==a&&a!==n&&null!=a?i.$size()["$=="](t.$size()):a)===n||null==r||r.$$is_boolean&&1!=r)&&(r=(a=t)["$all?"],r.$$p=($=function(t){var r=$.$$s||this;if(null==r.hash&&(r.hash=n),null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"==")}return r.hash["$include?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","o"]],$),r).call(a)):i.hash["$=="](t.$instance_variable_get("@hash")))},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(I,"$add",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"add"),r.hash["$[]="](t,!0),r},p.$$arity=1,p.$$parameters=[["req","o"]]),e.alias(I,"<<","add"),e.defn(I,"$classify",d=function(){var t,r,a,$,i,s=this,o=d.$$p,l=o||n,c=n;d.$$p=null;var u=arguments.length;return 0!==u&&e.ac(u,0,this,"classify"),l===n?s.$enum_for("classify"):(c=(t=(r=P.get("Hash")).$new,t.$$p=(a=function(t,r){var $=a.$$s||this;if(null==t&&(t=n),null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"classify")}return t["$[]="](r,$.$class().$new())},a.$$s=s,a.$$arity=2,a.$$parameters=[["req","h"],["req","k"]],a),t).call(r),(t=($=s).$each,t.$$p=(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"classify")}return c["$[]"](e.yield1(l,t)).$add(t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","item"]],i),t).call($),c)},d.$$arity=0,d.$$parameters=[["block","block"]]),e.defn(I,"$collect!",h=function(){var t,r,a,$=this,i=h.$$p,s=i||n,o=n;h.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"collect!"),s===n?$.$enum_for("collect!"):(o=$.$class().$new(),(t=(r=$).$each,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"collect!")}return o["$<<"](e.yield1(s,t))},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","item"]],a),t).call(r),$.$replace(o))},h.$$arity=0,h.$$parameters=[["block","block"]]),e.alias(I,"map!","collect!"),e.defn(I,"$delete",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"delete"),r.hash.$delete(t),r},f.$$arity=1,f.$$parameters=[["req","o"]]),e.defn(I,"$delete?",m=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"delete?"),(r=a["$include?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:(a.$delete(t),a)},m.$$arity=1,m.$$parameters=[["req","o"]]),e.defn(I,"$delete_if",g=function(){try{var t,r,a,$,i,s,o=this,l=g.$$p,c=l||n;g.$$p=null;var u=arguments.length;return 0!==u&&e.ac(u,0,this,"delete_if"),!1!=(t=c!==n)&&t!==n&&null!=t||e.ret(o.$enum_for("delete_if")),(t=(r=($=(i=o).$select,$.$$p=(s=function(t){s.$$s;if(null==t&&(t=n),s.$$is_lambda||s.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"delete_if")}return e.yield1(c,t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","o"]],s),$).call(i)).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==r.hash&&(r.hash=n),null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"delete_if")}return r.hash.$delete(t)},a.$$s=o,a.$$arity=1,a.$$parameters=[["req","o"]],a),t).call(r),o}catch(t){if(t===e.returner)return t.$v;throw t}},g.$$arity=0,g.$$parameters=[]),e.defn(I,"$add?",b=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"add?"),(r=a["$include?"](t))===n||null==r||r.$$is_boolean&&1!=r?a.$add(t):n},b.$$arity=1,b.$$parameters=[["req","o"]]),e.defn(I,"$each",v=function(){var t,r,a=this,$=v.$$p,i=$||n;v.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"each"),i===n?a.$enum_for("each"):((t=(r=a.hash).$each_key,t.$$p=i.$to_proc(),t).call(r),a)},v.$$arity=0,v.$$parameters=[["block","block"]]),e.defn(I,"$empty?",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.hash["$empty?"]()},y.$$arity=0,y.$$parameters=[]),e.defn(I,"$eql?",x=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"eql?"),i.hash["$eql?"]((r=(a=t).$instance_eval,r.$$p=($=function(){var t=$.$$s||this;if(null==t.hash&&(t.hash=n),$.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"eql?")}return t.hash},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(a))},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(I,"$clear",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.hash.$clear(),t},k.$$arity=0,k.$$parameters=[]),e.defn(I,"$include?",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),r.hash["$include?"](t)},w.$$arity=1,w.$$parameters=[["req","o"]]),e.alias(I,"member?","include?"),e.defn(I,"$merge",q=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"merge"),(r=(a=t).$each,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"merge")}return r.$add(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","item"]],$),r).call(a),i},q.$$arity=1,q.$$parameters=[["req","enum"]]),e.defn(I,"$replace",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace"),r.$clear(),r.$merge(t),r},S.$$arity=1,S.$$parameters=[["req","enum"]]),e.defn(I,"$size",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"size"),t.hash.$size()},E.$$arity=0,E.$$parameters=[]),e.alias(I,"length","size"),e.defn(I,"$subtract",R=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"subtract"),(r=(a=t).$each,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"subtract")}return r.$delete(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","item"]],$),r).call(a),i},R.$$arity=1,R.$$parameters=[["req","enum"]]),e.defn(I,"$|",O=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"|"),((r=t["$respond_to?"]("each"))===n||null==r||r.$$is_boolean&&1!=r)&&a.$raise(P.get("ArgumentError"),"value must be enumerable"),a.$dup().$merge(t)},O.$$arity=1,O.$$parameters=[["req","enum"]]),e.defn(I,"$superset?",M=function(r){var a,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"superset?"),!1!==(a=r["$is_a?"](P.get("Set")))&&a!==n&&null!=a||s.$raise(P.get("ArgumentError"),"value must be a set"),!!((a=t(s.$size(),r.$size()))===n||null==a||a.$$is_boolean&&1!=a)&&(a=($=r)["$all?"],a.$$p=(i=function(t){var r=i.$$s||this;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"superset?")}return r["$include?"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","o"]],i),a).call($)},M.$$arity=1,M.$$parameters=[["req","set"]]),e.alias(I,">=","superset?"),e.defn(I,"$proper_superset?",A=function(t){var a,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"proper_superset?"),!1!==(a=t["$is_a?"](P.get("Set")))&&a!==n&&null!=a||s.$raise(P.get("ArgumentError"),"value must be a set"),!!((a=r(s.$size(),t.$size()))===n||null==a||a.$$is_boolean&&1!=a)&&(a=($=t)["$all?"],a.$$p=(i=function(t){var r=i.$$s||this;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"proper_superset?")}return r["$include?"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","o"]],i),a).call($)},A.$$arity=1,A.$$parameters=[["req","set"]]),e.alias(I,">","proper_superset?"),e.defn(I,"$subset?",z=function(r){var a,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"subset?"),!1!==(a=r["$is_a?"](P.get("Set")))&&a!==n&&null!=a||s.$raise(P.get("ArgumentError"),"value must be a set"),!!((a=t(r.$size(),s.$size()))===n||null==a||a.$$is_boolean&&1!=a)&&(a=($=s)["$all?"],a.$$p=(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"subset?")}return r["$include?"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","o"]],i),a).call($)},z.$$arity=1,z.$$parameters=[["req","set"]]),e.alias(I,"<=","subset?"),e.defn(I,"$proper_subset?",j=function(t){var a,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"proper_subset?"),!1!==(a=t["$is_a?"](P.get("Set")))&&a!==n&&null!=a||s.$raise(P.get("ArgumentError"),"value must be a set"),!!((a=r(t.$size(),s.$size()))===n||null==a||a.$$is_boolean&&1!=a)&&(a=($=s)["$all?"],a.$$p=(i=function(r){i.$$s;if(null==r&&(r=n),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"proper_subset?")}return t["$include?"](r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","o"]],i),a).call($)},j.$$arity=1,j.$$parameters=[["req","set"]]),e.alias(I,"<","proper_subset?"),e.alias(I,"+","|"),e.alias(I,"union","|"),e.defn(I,"$to_a",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t.hash.$keys()},T.$$arity=0,T.$$parameters=[])}(a.base,null),function(t){var r,a,$=r=i(t,"Enumerable"),s=($.$$proto,$.$$scope);e.defn($,"$to_set",a=function(t){var r,$,i,o=this,l=a.$$p,c=l||n;null==t&&(t=s.get("Set"));var u=arguments.length,_=u-1;_<0&&(_=0),i=new Array(_);for(var p=1;p<u;p++)i[p-1]=arguments[p];return a.$$p=null,(r=($=t).$new,r.$$p=c.$to_proc(),r).apply($,[o].concat(e.to_a(i)))},a.$$arity=-1,a.$$parameters=[["opt","klass"],["rest","args"],["block","block"]])}(a.base)},Opal.modules["rspec/core/configuration_options"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass,s=e.hash2,o=e.hash;return e.add_stubs(["$require","$dup","$organize_options","$process_options_into","$configure_filter_manager","$filter_manager","$load_formatters_into","$each","$__send__","$attr_reader","$private","$key?","$<<","$delete","$file_options","$command_line_options","$env_options","$inject","$merge","$include?","$+","$to_set","$!","$unshift","$reverse","$reject","$options","$force?","$force","$[]","$order","$keys","$add_formatter","$custom_options_file","$custom_options","$global_options","$project_options","$local_options","$parse","$split","$options_from","$local_options_file","$project_options_file","$global_options_file","$args_from_options_file","$exist?","$options_file_as_erb_string","$flat_map","$to_proc","$result","$new","$read","$binding","$join","$expand_path","$warning"]),r.$require("erb"),r.$require("shellwords"),r.$require("set"),function(r){var a,l=a=$(r,"RSpec"),c=(l.$$proto,l.$$scope);!function(r){var a,l=a=$(r,"Core"),c=(l.$$proto,l.$$scope);!function(r,$super){function a(){}var $,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M=a=i(r,$super,"ConfigurationOptions",a),A=M.$$proto,z=M.$$scope;A.filter_manager_options=A.options=A.command_line_options=A.args=A.local_options=A.project_options=A.global_options=n,e.defn(M,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.args=t.$dup(),r.$organize_options()},$.$$arity=1,$.$$parameters=[["req","args"]]),e.defn(M,"$configure",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"configure"),r.$process_options_into(t),r.$configure_filter_manager(t.$filter_manager()),r.$load_formatters_into(t)},l.$$arity=1,l.$$parameters=[["req","config"]]),e.defn(M,"$configure_filter_manager",c=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"configure_filter_manager"),(r=(a=i.filter_manager_options).$each,r.$$p=($=function(r,a){$.$$s;if(null==r&&(r=n),null==a&&(a=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"configure_filter_manager")}return t.$__send__(r,a)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","command"],["req","value"]],$),r).call(a)},c.$$arity=1,c.$$parameters=[["req","filter_manager"]]),M.$attr_reader("options"),M.$private(),e.defn(M,"$organize_options",u=function(){var r,a,$,i,o,l=this,c=arguments.length;return 0!==c&&e.ac(c,0,this,"organize_options"),l.filter_manager_options=[],l.options=(r=(a=l.$file_options()["$<<"](l.$command_line_options())["$<<"](l.$env_options())).$each,r.$$p=($=function(t){var r,a=$.$$s||this;if(null==a.filter_manager_options&&(a.filter_manager_options=n),null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"organize_options")}return(r=t["$key?"]("inclusion_filter"))===n||null==r||r.$$is_boolean&&1!=r||a.filter_manager_options["$<<"](["include",t.$delete("inclusion_filter")]),(r=t["$key?"]("exclusion_filter"))===n||null==r||r.$$is_boolean&&1!=r?n:a.filter_manager_options["$<<"](["exclude",t.$delete("exclusion_filter")])},$.$$s=l,$.$$arity=1,$.$$parameters=[["req","opts"]],$),r).call(a),l.options=(r=(i=l.options).$inject,r.$$p=(o=function(r,a){var $,i,s,l=o.$$s||this;if(null==r&&(r=n),null==a&&(a=n),o.$$is_lambda||o.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"organize_options")}return($=(i=r).$merge,$.$$p=(s=function(r,a,$){var i;s.$$s;if(null==r&&(r=n),null==a&&(a=n),null==$&&($=n),s.$$is_lambda||s.$$define_meth){var o=arguments.length;3!==o&&e.block_ac(o,3,"organize_options")}return(i=["libs","requires"]["$include?"](r))===n||null==i||i.$$is_boolean&&1!=i?$:t(a,$)},s.$$s=l,s.$$arity=3,s.$$parameters=[["req","key"],["req","oldval"],["req","newval"]],s),$).call(i,a)},o.$$s=l,o.$$arity=2,o.$$parameters=[["req","hash"],["req","opts"]],o),r).call(i,s(["libs","requires"],{libs:[],requires:[]}))},u.$$arity=0,u.$$parameters=[]),e.cdecl(z,"UNFORCED_OPTIONS",["requires","profile","drb","libs","files_or_directories_to_run","full_description","full_backtrace","tty"].$to_set()),e.cdecl(z,"UNPROCESSABLE_OPTIONS",["formatters"].$to_set()),e.defn(M,"$force?",_=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"force?"),z.get("UNFORCED_OPTIONS")["$include?"](t)["$!"]()},_.$$arity=1,_.$$parameters=[["req","key"]]),e.defn(M,"$order",p=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"order"),(r=(a=z.get("OPTIONS_ORDER").$reverse()).$each,r.$$p=($=function(r){var a;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"order")}return(a=t.$delete(r))===n||null==a||a.$$is_boolean&&1!=a?n:t.$unshift(r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","key"]],$),r).call(a),t},p.$$arity=1,p.$$parameters=[["req","keys"]]),e.cdecl(z,"OPTIONS_ORDER",["deprecation_stream","libs","default_path","files_or_directories_to_run","pattern","exclude_pattern","requires"]),e.defn(M,"$process_options_into",d=function(t){var r,a,$,i,s,l=this,c=n,u=arguments.length;return 1!==u&&e.ac(u,1,this,"process_options_into"),c=(r=(a=l.$options()).$reject,r.$$p=($=function(t,r){$.$$s;if(null==t&&(t=n),null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"process_options_into")}return z.get("UNPROCESSABLE_OPTIONS")["$include?"](t)},$.$$s=l,$.$$arity=2,$.$$parameters=[["req","k"],["req","_"]],$),r).call(a),(r=(i=l.$order(c.$keys())).$each,r.$$p=(s=function(r){var a,$=s.$$s||this;if(null==r&&(r=n),s.$$is_lambda||s.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"process_options_into")}return(a=$["$force?"](r))===n||null==a||a.$$is_boolean&&1!=a?t.$__send__(r+"=",c["$[]"](r)):t.$force(o(r,c["$[]"](r)))},s.$$s=l,s.$$arity=1,s.$$parameters=[["req","key"]],s),r).call(i)},d.$$arity=1,d.$$parameters=[["req","config"]]),e.defn(M,"$load_formatters_into",h=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"load_formatters_into"),(r=i.$options()["$[]"]("formatters"))===n||null==r||r.$$is_boolean&&1!=r?n:(r=(a=i.$options()["$[]"]("formatters")).$each,r.$$p=($=function(r){var a;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"load_formatters_into")}return(a=t).$add_formatter.apply(a,e.to_a(r))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","pair"]],$),r).call(a)},h.$$arity=1,h.$$parameters=[["req","config"]]),e.defn(M,"$file_options",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"file_options"),(t=r.$custom_options_file())===n||null==t||t.$$is_boolean&&1!=t?[r.$global_options(),r.$project_options(),r.$local_options()]:[r.$custom_options()]},f.$$arity=0,f.$$parameters=[]),e.defn(M,"$env_options",m=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"env_options"),(t=z.get("ENV")["$[]"]("SPEC_OPTS"))===n||null==t||t.$$is_boolean&&1!=t?s([],{}):z.get("Parser").$parse(z.get("Shellwords").$split(z.get("ENV")["$[]"]("SPEC_OPTS")))},m.$$arity=0,m.$$parameters=[]),e.defn(M,"$command_line_options",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"command_line_options"),!1!==(t=r.command_line_options)&&t!==n&&null!=t?t:r.command_line_options=z.get("Parser").$parse(r.args).$merge(s(["files_or_directories_to_run"],{files_or_directories_to_run:r.args}))},g.$$arity=0,g.$$parameters=[]),e.defn(M,"$custom_options",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"custom_options"),t.$options_from(t.$custom_options_file())},b.$$arity=0,b.$$parameters=[]),e.defn(M,"$local_options",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"local_options"),!1!==(t=r.local_options)&&t!==n&&null!=t?t:r.local_options=r.$options_from(r.$local_options_file())},v.$$arity=0,v.$$parameters=[]),e.defn(M,"$project_options",y=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"project_options"),!1!==(t=r.project_options)&&t!==n&&null!=t?t:r.project_options=r.$options_from(r.$project_options_file())},y.$$arity=0,y.$$parameters=[]),e.defn(M,"$global_options",x=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"global_options"),!1!==(t=r.global_options)&&t!==n&&null!=t?t:r.global_options=r.$options_from(r.$global_options_file())},x.$$arity=0,x.$$parameters=[]),e.defn(M,"$options_from",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_from"),z.get("Parser").$parse(r.$args_from_options_file(t))},k.$$arity=1,k.$$parameters=[["req","path"]]),e.defn(M,"$args_from_options_file",w=function(t){var r,a,$=this,i=n,s=arguments.length;return 1!==s&&e.ac(s,1,this,"args_from_options_file"),(r=(a=!1!==t&&t!==n&&null!=t)?z.get("File")["$exist?"](t):t)===n||null==r||r.$$is_boolean&&1!=r?[]:(i=$.$options_file_as_erb_string(t),(r=(a=z.get("FlatMap")).$flat_map,r.$$p="shellsplit".$to_proc(),r).call(a,i.$split(/\n+/)))},w.$$arity=1,w.$$parameters=[["req","path"]]),e.defn(M,"$options_file_as_erb_string",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_file_as_erb_string"),z.get("ERB").$new(z.get("File").$read(t),n,"-").$result(r.$binding())},q.$$arity=1,q.$$parameters=[["req","path"]]),e.defn(M,"$custom_options_file",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"custom_options_file"),t.$command_line_options()["$[]"]("custom_options_file")},S.$$arity=0,S.$$parameters=[]),e.defn(M,"$project_options_file",E=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"project_options_file"),".rspec"},E.$$arity=0,E.$$parameters=[]),e.defn(M,"$local_options_file",R=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"local_options_file"),".rspec-local"},R.$$arity=0,R.$$parameters=[]),e.defn(M,"$global_options_file",O=function(){var t=arguments.length;0!==t&&e.ac(t,0,this,"global_options_file");try{return z.get("File").$join(z.get("File").$expand_path("~"),".rspec")}catch(t){if(!e.rescue(t,[z.get("ArgumentError")]))throw t;try{return z.get("RSpec").$warning("Unable to find ~/.rspec because the HOME environment variable is not set"),n}finally{e.pop_exception()}}},O.$$arity=0,O.$$parameters=[])}(c.base,null)}(c.base)}(a.base)},Opal.modules["rspec/core/dsl"]=function(e){var t,r,a=e.top,n=e,$=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$<<","$example_group_aliases","$__send__","$register","$world","$to_proc","$exposed_globally?","$expose_example_group_alias_globally","$attr_accessor","$each","$change_global_dsl","$undef_method","$define_method","$class_exec","$top_level","$top_level="]),function(t){var r,a=r=i(t,"RSpec"),n=(a.$$proto,a.$$scope);!function(t){var r,a=r=i(t,"Core"),n=(a.$$proto,a.$$scope);!function(t){var r,a,n,s,o,l,c,u,_=r=i(t,"DSL"),p=(_.$$proto,_.$$scope);e.defs(_,"$example_group_aliases",a=function(){var t,r=this;null==r.example_group_aliases&&(r.example_group_aliases=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"example_group_aliases"),!1!==(t=r.example_group_aliases)&&t!==$&&null!=t?t:r.example_group_aliases=[]},a.$$arity=0,a.$$parameters=[]),e.defs(_,"$exposed_globally?",n=function(){var t,r=this;null==r.exposed_globally&&(r.exposed_globally=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"exposed_globally?"),!1!==(t=r.exposed_globally)&&t!==$&&null!=t?t:r.exposed_globally=!1},n.$$arity=0,n.$$parameters=[]),e.defs(_,"$expose_example_group_alias",s=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"expose_example_group_alias"),i.$example_group_aliases()["$<<"](t),(r=(a=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(p.get("RSpec")))).$__send__,r.$$p=(n=function(){var r,a,i,s;n.$$s;r=n.$$p||$,n.$$p=null;var o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return p.get("RSpec").$world().$register((i=(s=p.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup")).$__send__,i.$$p=r.$to_proc(),i).apply(s,[t].concat(e.to_a(a))))},n.$$s=i,n.$$arity=-1,n.$$parameters=[["rest","args"],["block","example_group_block"]],n),r).call(a,"define_method",t),(r=i["$exposed_globally?"]())===$||null==r||r.$$is_boolean&&1!=r?$:i.$expose_example_group_alias_globally(t)},s.$$arity=1,s.$$parameters=[["req","name"]]),function(e){e.$$scope,e.$$proto;e.$attr_accessor("top_level")}(e.get_singleton_class(_)),e.defs(_,"$expose_globally!",o=function(){var t,r,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expose_globally!"),(t=n["$exposed_globally?"]())===$||null==t||t.$$is_boolean&&1!=t?((t=(r=n.$example_group_aliases()).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"expose_globally!")}return r.$expose_example_group_alias_globally(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","method_name"]],a),t).call(r),n.exposed_globally=!0):$},o.$$arity=0,o.$$parameters=[]),e.defs(_,"$remove_globally!",l=function(){var t,r,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"remove_globally!"),(t=n["$exposed_globally?"]())===$||null==t||t.$$is_boolean&&1!=t?$:((t=(r=n.$example_group_aliases()).$each,t.$$p=(a=function(t){var r,n,i,s=a.$$s||this;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"remove_globally!")}return(r=(n=s).$change_global_dsl,r.$$p=(i=function(){var r=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"remove_globally!")}return r.$undef_method(t)},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),r).call(n)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","method_name"]],a),t).call(r),n.exposed_globally=!1)},l.$$arity=0,l.$$parameters=[]),e.defs(_,"$expose_example_group_alias_globally",c=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"expose_example_group_alias_globally"),(r=(a=i).$change_global_dsl,r.$$p=(n=function(){var r,a,i,s=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"expose_example_group_alias_globally")}return(r=(a=s).$define_method,
r.$$p=(i=function(){var r,a,n,s;i.$$s;r=i.$$p||$,i.$$p=null;var o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return(n=(s=e.get("RSpec")).$__send__,n.$$p=r.$to_proc(),n).apply(s,[t].concat(e.to_a(a)))},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","a"],["block","b"]],i),r).call(a,t)},n.$$s=i,n.$$arity=0,n.$$parameters=[],n),r).call(a)},c.$$arity=1,c.$$parameters=[["req","method_name"]]),e.defs(_,"$change_global_dsl",u=function(){var t,r,a,n=this,i=u.$$p,s=i||$;u.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"change_global_dsl"),(t=(r=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(n.$top_level()))).$class_exec,t.$$p=s.$to_proc(),t).call(r),(t=(a=p.get("Module")).$class_exec,t.$$p=s.$to_proc(),t).call(a)},u.$$arity=0,u.$$parameters=[["block","changes"]])}(n.base)}(n.base)}(n.base),t=[a],r=e.get("RSpec").$$scope.get("Core").$$scope.get("DSL"),r["$top_level="].apply(r,t),t[t.length-1]},Opal.modules["rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$define_method","$[]","$delegate_to_metadata","$empty?","$to_s","$metadata","$location","$call","$format_docstrings_block","$configuration","$attr_reader","$attr_accessor","$create","$alias_method","$current_example=","$start","$pending?","$mark_pending!","$pending","$skipped?","$skip","$!","$dry_run?","$with_around_example_hooks","$run_before_example","$instance_exec","$to_proc","$mark_fixed!","$raise","$set_exception","$run_after_example","$each","$instance_variable_set","$instance_variables","$finish","$==","$to_sym","$__send__","$public_instance_methods","$method","$new","$class","$example","$gsub","$inspect","$any_apply?","$all_apply?","$around_example_hooks_for","$hooks","$example_group","$===","$pending_exception=","$execution_result","$message","$first","$backtrace","$reporter","$mark_skipped!","$argument","$private","$around_example_hooks","$run","$example_started","$started_at=","$now","$clock","$pending_message","$record_finished","$exception=","$example_failed","$pending_message=","$example_pending","$example_passed","$setup_mocks_for_rspec","$verify_mocks","$expecting_with_rspec?","$assign_generated_description","$teardown_mocks_for_rspec","$mocks_need_verification?","$verify_mocks_for_rspec","$pending_fixed=","$nil?","$exception","$pending_fixed?","$generated_description","$[]=","$<<","$clear_generated_description","$include","$status=","$finished_at=","$run_time=","$to_f","$-","$started_at","$tap","$status","$deprecate"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Core"),l=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M=n=$(r,$super,"Example",n),A=M.$$proto,z=M.$$scope;A.example_group_class=A.example_group_instance=A.around_example_hooks=A.exception=a,e.defs(M,"$delegate_to_metadata",s=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"delegate_to_metadata"),(r=(n=i).$define_method,r.$$p=($=function(){var r=$.$$s||this;if(null==r.metadata&&(r.metadata=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"delegate_to_metadata")}return r.metadata["$[]"](t)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n,t)},s.$$arity=1,s.$$parameters=[["req","key"]]),M.$delegate_to_metadata("execution_result"),M.$delegate_to_metadata("file_path"),M.$delegate_to_metadata("full_description"),M.$delegate_to_metadata("location"),M.$delegate_to_metadata("pending"),M.$delegate_to_metadata("skip"),e.defn(M,"$description",o=function(){var t,r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"description"),n=function(){return(t=r.$metadata()["$[]"]("description").$to_s()["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?r.$metadata()["$[]"]("description"):"example at "+r.$location()}(),z.get("RSpec").$configuration().$format_docstrings_block().$call(n)},o.$$arity=0,o.$$parameters=[]),M.$attr_reader("exception"),M.$attr_reader("metadata"),M.$attr_reader("example_group_instance"),M.$attr_accessor("clock"),e.defn(M,"$initialize",l=function(t,r,n,$){var i=this;null==$&&($=a);var s=arguments.length;return(s<3||s>4)&&e.ac(s,-4,this,"initialize"),i.example_group_class=t,i.example_block=$,i.metadata=z.get("Metadata").$$scope.get("ExampleHash").$create(i.example_group_class.$metadata(),n,r,$),i.example_group_instance=i.exception=a,i.clock=z.get("RSpec").$$scope.get("Core").$$scope.get("Time")},l.$$arity=-4,l.$$parameters=[["req","example_group_class"],["req","description"],["req","user_metadata"],["opt","example_block"]]),e.defn(M,"$example_group",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group"),t.example_group_class},c.$$arity=0,c.$$parameters=[]),M.$alias_method("pending?","pending"),M.$alias_method("skipped?","skip"),e.defn(M,"$run",u=function(t,r){var n,$,i,s,o,l,c=this,u=a,_=arguments.length;2!==_&&e.ac(_,2,this,"run");try{c.example_group_instance=t,n=[c],$=z.get("RSpec"),$["$current_example="].apply($,n),n[n.length-1],c.$start(r),(n=c["$pending?"]())===a||null==n||n.$$is_boolean&&1!=n||z.get("Pending")["$mark_pending!"](c,c.$pending());try{try{(n=c["$skipped?"]())===a||null==n||n.$$is_boolean&&1!=n?(n=z.get("RSpec").$configuration()["$dry_run?"]()["$!"]())===a||null==n||n.$$is_boolean&&1!=n||(n=($=c).$with_around_example_hooks,n.$$p=(i=function(){var t,r,n=i.$$s||this,$=a;if(null==n.example_block&&(n.example_block=a),null==n.example_group_instance&&(n.example_group_instance=a),i.$$is_lambda||i.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"run")}try{try{return n.$run_before_example(),(t=(r=n.example_group_instance).$instance_exec,t.$$p=n.example_block.$to_proc(),t).call(r,n),(t=n["$pending?"]())===a||null==t||t.$$is_boolean&&1!=t?a:(z.get("Pending")["$mark_fixed!"](n),n.$raise(z.get("Pending").$$scope.get("PendingExampleFixedError"),"Expected example to fail since it is pending, but it passed.",[n.$location()]))}catch(t){if(e.rescue(t,[z.get("Pending").$$scope.get("SkipDeclaredInExample")]))try{return a}finally{e.pop_exception()}else{if(!e.rescue(t,[z.get("Exception")]))throw t;$=t;try{n.$set_exception($)}finally{e.pop_exception()}}}}finally{n.$run_after_example()}},i.$$s=c,i.$$arity=0,i.$$parameters=[],i),n).call($):z.get("Pending")["$mark_pending!"](c,c.$skip())}catch(t){if(!e.rescue(t,[z.get("Exception")]))throw t;u=t;try{c.$set_exception(u)}finally{e.pop_exception()}}}finally{(n=(s=c.example_group_instance.$instance_variables()).$each,n.$$p=(o=function(t){var r=o.$$s||this;if(null==r.example_group_instance&&(r.example_group_instance=a),null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run")}return r.example_group_instance.$instance_variable_set(t,a)},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","ivar"]],o),n).call(s),c.example_group_instance=a}return c.$finish(r)}finally{n=[a],l=z.get("RSpec"),l["$current_example="].apply(l,n),n[n.length-1]}},u.$$arity=2,u.$$parameters=[["req","example_group_instance"],["req","reporter"]]),function(t,$super){function r(){}var n,i,s,o,l,c,u,_,p,d,h,f=r=$(t,$super,"Procsy",r),m=f.$$proto,g=f.$$scope;m.proc=m.executed=m.example=a,f.$attr_reader("example"),(n=(i=g.get("Example").$public_instance_methods(!1)).$each,n.$$p=(s=function(t){var r,n,$,i=s.$$s||this;if(null==t&&(t=a),s.$$is_lambda||s.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"<class:Procsy>")}return(r=!1!==(n=t.$to_sym()["$=="]("run"))&&n!==a&&null!=n?n:t.$to_sym()["$=="]("inspect"))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=i).$define_method,r.$$p=($=function(){var r,n,i,s,o=$.$$s||this;null==o.example&&(o.example=a),r=$.$$p||a,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return(i=(s=o.example).$__send__,i.$$p=r.$to_proc(),i).apply(s,[t].concat(e.to_a(n)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","a"],["block","b"]],$),r).call(n,t):a},s.$$s=f,s.$$arity=1,s.$$parameters=[["req","name"]],s),n).call(i),(n=(o=g.get("Proc").$public_instance_methods(!1)).$each,n.$$p=(l=function(t){var r,n,$,i,s=l.$$s||this;if(null==t&&(t=a),l.$$is_lambda||l.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"<class:Procsy>")}return(r=!1!==(n=!1!==($=t.$to_sym()["$=="]("call"))&&$!==a&&null!=$?$:t.$to_sym()["$=="]("inspect"))&&n!==a&&null!=n?n:t.$to_sym()["$=="]("to_proc"))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=s).$define_method,r.$$p=(i=function(){var r,n,$,s,o=i.$$s||this;null==o.proc&&(o.proc=a),r=i.$$p||a,i.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return($=(s=o.proc).$__send__,$.$$p=r.$to_proc(),$).apply(s,[t].concat(e.to_a(n)))},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","a"],["block","b"]],i),r).call(n,t):a},l.$$s=f,l.$$arity=1,l.$$parameters=[["req","name"]],l),n).call(o),e.defn(f,"$call",c=function(){var t,r,n,$=this,i=c.$$p,s=i||a,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var u=0;u<o;u++)n[u-0]=arguments[u];return c.$$p=null,$.executed=!0,(t=(r=$.proc).$call,t.$$p=s.$to_proc(),t).apply(r,e.to_a(n))},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.alias(f,"run","call"),e.defn(f,"$to_proc",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t.$method("call").$to_proc()},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$initialize",_=function(t){var r=this,n=_.$$p,$=n||a;_.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),r.example=t,r.proc=$,r.executed=!1},_.$$arity=1,_.$$parameters=[["req","example"],["block","block"]]),e.defn(f,"$wrap",p=function(){var t,r,n=this,$=p.$$p,i=$||a;p.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"wrap"),(t=(r=n.$class()).$new,t.$$p=i.$to_proc(),t).call(r,n.$example())},p.$$arity=0,p.$$parameters=[["block","block"]]),e.defn(f,"$executed?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"executed?"),t.executed},d.$$arity=0,d.$$parameters=[]),e.defn(f,"$inspect",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.example.$inspect().$gsub("Example","ExampleProcsy")},h.$$arity=0,h.$$parameters=[])}(z.base,null),e.defn(M,"$any_apply?",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_apply?"),z.get("MetadataFilter")["$any_apply?"](t,r.$metadata())},_.$$arity=1,_.$$parameters=[["req","filters"]]),e.defn(M,"$all_apply?",p=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"all_apply?"),!1!==(r=z.get("MetadataFilter")["$all_apply?"](t,n.$metadata()))&&r!==a&&null!=r?r:n.example_group_class["$all_apply?"](t)},p.$$arity=1,p.$$parameters=[["req","filters"]]),e.defn(M,"$around_example_hooks",d=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"around_example_hooks"),!1!==(t=r.around_example_hooks)&&t!==a&&null!=t?t:r.around_example_hooks=r.$example_group().$hooks().$around_example_hooks_for(r)},d.$$arity=0,d.$$parameters=[]),e.defn(M,"$set_exception",h=function(t,r){var n,$,i=this,s=a;null==r&&(r=a);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"set_exception"),$=i["$pending?"](),(n=!1!==$&&$!==a&&null!=$?z.get("Pending").$$scope.get("PendingExampleFixedError")["$==="](t)["$!"]():$)===a||null==n||n.$$is_boolean&&1!=n?((n=i.exception)===a||null==n||n.$$is_boolean&&1!=n||(s="\n  An error occurred "+r+"\n    "+t.$class()+": "+t.$message()+"\n    occurred at "+t.$backtrace().$first()+"\n\n",z.get("RSpec").$configuration().$reporter().$message(s)),!1!==(n=i.exception)&&n!==a&&null!=n?n:i.exception=t):(n=[t],$=i.$execution_result(),$["$pending_exception="].apply($,n),n[n.length-1])},h.$$arity=-2,h.$$parameters=[["req","exception"],["opt","context"]]),e.defn(M,"$fail_with_exception",f=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"fail_with_exception"),a.$start(t),a.$set_exception(r),a.$finish(t)},f.$$arity=2,f.$$parameters=[["req","reporter"],["req","exception"]]),e.defn(M,"$skip_with_exception",m=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"skip_with_exception"),a.$start(t),z.get("Pending")["$mark_skipped!"](a,r.$argument()),a.$finish(t)},m.$$arity=2,m.$$parameters=[["req","reporter"],["req","exception"]]),e.defn(M,"$instance_exec_with_rescue",g=function(t){var r,n,$=this,i=g.$$p,s=i||a,o=a;g.$$p=null;var l=arguments.length;1!==l&&e.ac(l,1,this,"instance_exec_with_rescue");try{return(r=(n=$.example_group_instance).$instance_exec,r.$$p=s.$to_proc(),r).call(n,$)}catch(r){if(!e.rescue(r,[z.get("Exception")]))throw r;o=r;try{return $.$set_exception(o,t)}finally{e.pop_exception()}}},g.$$arity=1,g.$$parameters=[["req","context"],["block","block"]]),e.defn(M,"$instance_exec",b=function(){var t,r,n,$=this,i=b.$$p,s=i||a,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return b.$$p=null,(t=(r=$.example_group_instance).$instance_exec,t.$$p=s.$to_proc(),t).apply(r,e.to_a(n))},b.$$arity=-1,b.$$parameters=[["rest","args"],["block","block"]]),M.$private(),e.defn(M,"$with_around_example_hooks",v=function(){var t,r,n=this,$=v.$$p,i=$||a,s=a;v.$$p=null;var o=arguments.length;0!==o&&e.ac(o,0,this,"with_around_example_hooks");try{return(t=n.$around_example_hooks()["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?n.example_group_class.$hooks().$run("around","example",n,(t=(r=z.get("Procsy")).$new,t.$$p=i.$to_proc(),t).call(r,n)):e.yieldX(i,[])}catch(t){if(!e.rescue(t,[z.get("Exception")]))throw t;s=t;try{return n.$set_exception(s,"in an `around(:example)` hook")}finally{e.pop_exception()}}},v.$$arity=0,v.$$parameters=[["block","block"]]),e.defn(M,"$start",y=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"start"),t.$example_started(n),r=[n.$clock().$now()],a=n.$execution_result(),a["$started_at="].apply(a,r),r[r.length-1]},y.$$arity=1,y.$$parameters=[["req","reporter"]]),e.defn(M,"$finish",x=function(t){var r,n,$=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"finish"),i=$.$execution_result().$pending_message(),(r=$.exception)===a||null==r||r.$$is_boolean&&1!=r?!1!==i&&i!==a&&null!=i?($.$record_finished("pending"),r=[i],n=$.$execution_result(),n["$pending_message="].apply(n,r),r[r.length-1],t.$example_pending($),!0):($.$record_finished("passed"),t.$example_passed($),!0):($.$record_finished("failed"),r=[$.exception],n=$.$execution_result(),n["$exception="].apply(n,r),r[r.length-1],t.$example_failed($),!1)},x.$$arity=1,x.$$parameters=[["req","reporter"]]),e.defn(M,"$record_finished",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"record_finished"),r.$execution_result().$record_finished(t,r.$clock().$now())},k.$$arity=1,k.$$parameters=[["req","status"]]),e.defn(M,"$run_before_example",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"run_before_example"),t.example_group_instance.$setup_mocks_for_rspec(),t.example_group_class.$hooks().$run("before","example",t)},w.$$arity=0,w.$$parameters=[]),e.defn(M,"$run_after_example",q=function(){var t,r=this,n=a,$=arguments.length;0!==$&&e.ac($,0,this,"run_after_example");try{try{return r.example_group_class.$hooks().$run("after","example",r),r.$verify_mocks(),(t=z.get("RSpec").$configuration()["$expecting_with_rspec?"]())===a||null==t||t.$$is_boolean&&1!=t?a:r.$assign_generated_description()}catch(t){if(!e.rescue(t,[z.get("Exception")]))throw t;n=t;try{return r.$set_exception(n,"in an `after(:example)` hook")}finally{e.pop_exception()}}}finally{r.example_group_instance.$teardown_mocks_for_rspec()}},q.$$arity=0,q.$$parameters=[]),e.defn(M,"$verify_mocks",S=function(){var t,r,n=this,$=a,i=arguments.length;0!==i&&e.ac(i,0,this,"verify_mocks");try{return(t=n["$mocks_need_verification?"]())===a||null==t||t.$$is_boolean&&1!=t?a:n.example_group_instance.$verify_mocks_for_rspec()}catch(i){if(!e.rescue(i,[z.get("Exception")]))throw i;$=i;try{return(t=n["$pending?"]())===a||null==t||t.$$is_boolean&&1!=t?n.$set_exception($):(t=[!1],r=n.$execution_result(),r["$pending_fixed="].apply(r,t),t[t.length-1],n.exception=a)}finally{e.pop_exception()}}},S.$$arity=0,S.$$parameters=[]),e.defn(M,"$mocks_need_verification?",E=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"mocks_need_verification?"),!1!==(t=r.$exception()["$nil?"]())&&t!==a&&null!=t?t:r.$execution_result()["$pending_fixed?"]()},E.$$arity=0,E.$$parameters=[]),e.defn(M,"$assign_generated_description",R=function(){var t,r,n=this,$=a,i=a,s=arguments.length;0!==s&&e.ac(s,0,this,"assign_generated_description");try{try{return r=n.$metadata()["$[]"]("description")["$empty?"](),(t=!1!==r&&r!==a&&null!=r?$=z.get("RSpec").$$scope.get("Matchers").$generated_description():r)===a||null==t||t.$$is_boolean&&1!=t?a:(n.$metadata()["$[]="]("description",$),n.$metadata()["$[]"]("full_description")["$<<"]($))}catch(t){if(!e.rescue(t,[z.get("Exception")]))throw t;i=t;try{return n.$set_exception(i,"while assigning the example description")}finally{e.pop_exception()}}}finally{z.get("RSpec").$$scope.get("Matchers").$clear_generated_description()}},R.$$arity=0,R.$$parameters=[]),e.defn(M,"$skip_message",O=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"skip_message"),(t=z.get("String")["$==="](r.$skip()))===a||null==t||t.$$is_boolean&&1!=t?z.get("Pending").$$scope.get("NO_REASON_GIVEN"):r.$skip()},O.$$arity=0,O.$$parameters=[]),function(r,$super){function n(){}var s,o,l,c,u,_=n=$(r,$super,"ExecutionResult",n),p=(_.$$proto,_.$$scope);_.$include(p.get("HashImitatable")),_.$attr_accessor("status"),_.$attr_accessor("exception"),_.$attr_accessor("started_at"),_.$attr_accessor("finished_at"),_.$attr_accessor("run_time"),_.$attr_accessor("pending_message"),_.$attr_accessor("pending_exception"),_.$attr_accessor("pending_fixed"),e.alias(_,"pending_fixed?","pending_fixed"),e.defn(_,"$record_finished",s=function(r,a){var n,$,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"record_finished"),n=[r],$=i,$["$status="].apply($,n),n[n.length-1],n=[a],$=i,$["$finished_at="].apply($,n),n[n.length-1],n=[t(a,i.$started_at()).$to_f()],$=i,$["$run_time="].apply($,n),n[n.length-1]},s.$$arity=2,s.$$parameters=[["req","status"],["req","finished_at"]]),_.$private(),e.defn(_,"$hash_for_delegation",o=function(){var t,r,n,$,i,s=this,l=o.$$p,c=a,u=a;o.$$p=null;var _=arguments.length;for(0!==_&&e.ac(_,0,this,"hash_for_delegation"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(t=(r=(i=s,$=e.find_super_dispatcher(s,"hash_for_delegation",o,!1),$.$$p=l,$).apply(i,c)).$tap,t.$$p=(n=function(t){var r,$,i,s=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"hash_for_delegation")}return r="status",$=t,i=$["$[]"](r),!1!==i&&i!==a&&null!=i?$["$[]="](r,s.$status().$to_s()):i},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","hash"]],n),t).call(r)},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$set_value",l=function(t,r){var n,$,i=this;l.$$p;l.$$p=null;var s=arguments.length;return 2!==s&&e.ac(s,2,this,"set_value"),t["$=="]("status")&&(n=!1!==r&&r!==a&&null!=r)&&(r=r.$to_sym()),($=i,n=e.find_super_dispatcher(i,"set_value",l,!1),n.$$p=null,n).call($,t,r)},l.$$arity=2,l.$$parameters=[["req","name"],["req","value"]]),e.defn(_,"$get_value",c=function(t){var r,n,$=this,i=c.$$p,s=a,o=a;c.$$p=null;var l=arguments.length;for(1!==l&&e.ac(l,1,this,"get_value"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t["$=="]("status")?(r=$.$status())===a||null==r||r.$$is_boolean&&1!=r?a:$.$status().$to_s():(n=$,r=e.find_super_dispatcher($,"get_value",c,!1),r.$$p=i,r).apply(n,s)},c.$$arity=1,c.$$parameters=[["req","name"]]),e.defn(_,"$issue_deprecation",u=function(){var t,r=arguments.length,a=r-1;a<0&&(a=0),t=new Array(a);for(var n=1;n<r;n++)t[n-1]=arguments[n];var $=arguments.length;return $<1&&e.ac($,-2,this,"issue_deprecation"),p.get("RSpec").$deprecate("Treating `metadata[:execution_result]` as a hash",i(["replacement"],{replacement:"the attributes methods to access the data"}))},u.$$arity=-2,u.$$parameters=[["req","_method_name"],["rest","_args"]])}(z.base,null)}(l.base,null),function(t,$super){function r(){}var n,s,o=r=$(t,$super,"SuiteHookContext",r),l=(o.$$proto,o.$$scope);e.defn(o,"$initialize",n=function(){var t,r,a=this;n.$$p;n.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"initialize"),(r=a,t=e.find_super_dispatcher(a,"initialize",n,!1),t.$$p=null,t).call(r,l.get("AnonymousExampleGroup"),"",i([],{}))},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$set_exception",s=function(t,r){var n=this;null==r&&(r=a);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"set_exception"),n.$raise(t)},s.$$arity=-2,s.$$parameters=[["req","exception"],["opt","_context"]])}(l.base,l.get("Example"))}(l.base)}(r.base)},Opal.modules["rspec/core/example_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice),i=e.module,s=e.klass,o=e.hash2;return e.add_stubs(["$require_rspec_support","$extend","$include","$respond_to?","$__send__","$to_proc","$superclass","$metadata","$each","$define_singleton_method","$fetch","$delegate_to_metadata","$[]","$call","$format_docstrings_block","$configuration","$described_class","$class","$build_hash_from","$update","$<<","$examples","$new","$last","$define_example_method","$thread_local_metadata","$==","$raise","$[]=","$shift","$dup","$is_a?","$merge!","$pop","$tap","$children","$subclass","$delete","$expose_example_group_alias","$define_example_group_method","$example_group","$find_and_eval_shared","$caller","$define_nested_shared_group_method","$find","$shared_example_group_registry","$world","$parent_groups","$inspect","$module_exec","$set_it_up","$assign_const","$define_helpers_on","$ensure_example_groups_are_configured","$unshift","$create","$superclass_metadata","$register_globals","$hooks","$configure_group","$filtered_examples","$+","$inject","$descendant_filtered_examples","$descendants","$select","$<","$ancestors","$configure_mock_framework","$configure_expectation_framework","$empty?","$instance_variables","$before_context_ivars","$instance_variable_get","$set_ivars","$isolate_for_context_hook","$run","$store_before_context_ivars","$wants_to_quit","$top_level?","$clear_remaining_example_groups","$example_group_started","$run_before_context_hooks","$run_examples","$all?","$map","$order","$ordering_strategy","$for_filtered_examples","$skip_with_exception","$fail_fast?","$wants_to_quit=","$fail_with_exception","$run_after_context_hooks","$clear","$example_group_finished","$ordering_registry","$warn","$gsub","$location","$!","$any_apply?","$all_apply?","$declaration_line_numbers","$description","$instance_variable_set","$base_name_for","$constant_scope_for","$disambiguate","$const_set","$gsub!","$upcase","$last_match","$lstrip!","$_base_name_for","$private_class_method","$const_defined_on?","$next!"]),a.get("RSpec").$$scope.get("Support").$require_rspec_support("recursive_const_methods"),function(a){var l,c=l=i(a,"RSpec"),u=(c.$$proto,c.$$scope);!function(a){var l,c=l=i(a,"Core"),u=(c.$$proto,c.$$scope);!function(a,$super){function i(){}var l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y=i=s(a,$super,"ExampleGroup",i),V=(Y.$$proto,Y.$$scope);Y.$extend(V.get("Hooks")),Y.$include(V.get("MemoizedHelpers")),Y.$extend(V.get("MemoizedHelpers").$$scope.get("ClassMethods")),Y.$include(V.get("Pending")),Y.$extend(V.get("SharedExampleGroup")),((l=Y["$respond_to?"]("define_singleton_method"))===n||null==l||l.$$is_boolean&&1!=l)&&e.defs(Y,"$define_singleton_method",c=function(){var t,r,a,$=this,i=c.$$p,s=i||n,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var u=0;u<o;u++)a[u-0]=arguments[u];return c.$$p=null,(t=(r=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class($))).$__send__,t.$$p=s.$to_proc(),t).apply(r,["define_method"].concat(e.to_a(a)))},c.$$arity=-1,c.$$parameters=[["rest","a"],["block","b"]]),e.defs(Y,"$metadata",u=function(){var t,r,a=this;null==a.metadata&&(a.metadata=n);var $=arguments.length;return 0!==$&&e.ac($,0,this,"metadata"),(t=null!=(r=a.metadata)&&r!==n?"instance-variable":n)===n||null==t||t.$$is_boolean&&1!=t?n:a.metadata},u.$$arity=0,u.$$parameters=[]),e.defs(Y,"$superclass_metadata",_=function(){var t,r,a=this;null==a.superclass_metadata&&(a.superclass_metadata=n);var $=arguments.length;return 0!==$&&e.ac($,0,this,"superclass_metadata"),!1!==(t=a.superclass_metadata)&&t!==n&&null!=t?t:a.superclass_metadata=function(){return(r=a.$superclass()["$respond_to?"]("metadata"))===n||null==r||r.$$is_boolean&&1!=r?n:a.$superclass().$metadata()}()},_.$$arity=0,_.$$parameters=[]),e.defs(Y,"$delegate_to_metadata",p=function(){var t,r,a,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(r=$).$each,t.$$p=(a=function(t){var r,$,i,s=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"delegate_to_metadata")}return(r=($=s).$define_singleton_method,r.$$p=(i=function(){var r=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"delegate_to_metadata")}return r.$metadata().$fetch(t)},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),r).call($,t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","name"]],a),t).call(r)},p.$$arity=-1,p.$$parameters=[["rest","names"]]),Y.$delegate_to_metadata("described_class","file_path","location"),e.defs(Y,"$description",d=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),r=t.$metadata()["$[]"]("description"),V.get("RSpec").$configuration().$format_docstrings_block().$call(r)},d.$$arity=0,d.$$parameters=[]),e.defn(Y,"$described_class",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"described_class"),t.$class().$described_class()},h.$$arity=0,h.$$parameters=[]),e.defs(Y,"$define_example_method",f=function(t,r){var a,i,s,l=this;null==r&&(r=o([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"define_example_method"),(a=(i=l).$define_singleton_method,a.$$p=(s=function(){var t,a,i,l=s.$$s||this,c=n,u=n,_=n;t=s.$$p||n,s.$$p=null;var p=arguments.length,d=p-0;d<0&&(d=0),a=new Array(d);for(var h=0;h<p;h++)a[h-0]=arguments[h];return i=e.to_a(a),c=null==i[0]?n:i[0],u=$.call(i,1),_=V.get("Metadata").$build_hash_from(u),!1!==t&&t!==n&&null!=t||_.$update(o(["skip"],{skip:V.get("RSpec").$$scope.get("Core").$$scope.get("Pending").$$scope.get("NOT_YET_IMPLEMENTED")})),_.$update(r),l.$examples()["$<<"](V.get("RSpec").$$scope.get("Core").$$scope.get("Example").$new(l,c,_,t)),l.$examples().$last()},s.$$s=l,s.$$arity=-1,s.$$parameters=[["rest","all_args"],["block","block"]],s),a).call(i,t)},f.$$arity=-2,f.$$parameters=[["req","name"],["opt","extra_options"]]),Y.$define_example_method("example"),Y.$define_example_method("it"),Y.$define_example_method("specify"),Y.$define_example_method("focus",o(["focus"],{focus:!0})),Y.$define_example_method("fexample",o(["focus"],{focus:!0})),Y.$define_example_method("fit",o(["focus"],{focus:!0})),Y.$define_example_method("fspecify",o(["focus"],{focus:!0})),Y.$define_example_method("xexample",o(["skip"],{skip:"Temporarily skipped with xexample"})),Y.$define_example_method("xit",o(["skip"],{skip:"Temporarily skipped with xit"})),Y.$define_example_method("xspecify",o(["skip"],{skip:"Temporarily skipped with xspecify"})),Y.$define_example_method("skip",o(["skip"],{skip:!0})),Y.$define_example_method("pending",o(["pending"],{pending:!0})),e.defs(Y,"$define_example_group_method",m=function(t,r){var a,$,i,s=this;null==r&&(r=o([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"define_example_group_method"),(a=($=s).$define_singleton_method,a.$$p=(i=function(){var a,$,s,o,l,c,u,_=i.$$s||this,p=n,d=n,h=n,f=n;a=i.$$p||n,i.$$p=null;var m=arguments.length,g=m-0;g<0&&(g=0),$=new Array(g);for(var b=0;b<m;b++)$[b-0]=arguments[b];p=V.get("RSpec").$thread_local_metadata(),!1!==(d=_["$=="](V.get("ExampleGroup")))&&d!==n&&null!=d&&((s=p["$[]"]("in_example_group"))===n||null==s||s.$$is_boolean&&1!=s||_.$raise("Creating an isolated context from within a context is not allowed. Change `RSpec."+t+"` to `"+t+"` or move this to a top-level scope."),p["$[]="]("in_example_group",!0));try{return h=$.$shift(),f=r.$dup(),(s=$.$last()["$is_a?"](V.get("Hash")))===n||null==s||s.$$is_boolean&&1!=s||f["$merge!"]($.$pop()),$["$<<"](f),(s=(o=(c=(u=_).$subclass,c.$$p=a.$to_proc(),c).call(u,_,h,$)).$tap,s.$$p=(l=function(t){var r=l.$$s||this;if(null==t&&(t=n),l.$$is_lambda||l.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"define_example_group_method")}return r.$children()["$<<"](t)},l.$$s=_,l.$$arity=1,l.$$parameters=[["req","child"]],l),s).call(o)}finally{!1!==d&&d!==n&&null!=d&&p.$delete("in_example_group")}},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","args"],["block","example_group_block"]],i),a).call($,t),V.get("RSpec").$$scope.get("Core").$$scope.get("DSL").$expose_example_group_alias(t)},m.$$arity=-2,m.$$parameters=[["req","name"],["opt","metadata"]]),Y.$define_example_group_method("example_group"),Y.$define_example_group_method("describe"),Y.$define_example_group_method("context"),Y.$define_example_group_method("xdescribe",o(["skip"],{skip:"Temporarily skipped with xdescribe"})),Y.$define_example_group_method("xcontext",o(["skip"],{skip:"Temporarily skipped with xcontext"})),Y.$define_example_group_method("fdescribe",o(["focus"],{focus:!0})),Y.$define_example_group_method("fcontext",o(["focus"],{focus:!0})),e.defs(Y,"$define_nested_shared_group_method",g=function(t,r){var a,$,i,s=this;null==r&&(r="it should behave like");var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"define_nested_shared_group_method"),(a=($=s).$define_singleton_method,a.$$p=(i=function(t){var a,$,s,l,c,u=i.$$s||this,_=n;a=i.$$p||n,i.$$p=null;var p=arguments.length,d=p-1;d<0&&(d=0),$=new Array(d);for(var h=1;h<p;h++)$[h-1]=arguments[h];if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var f=arguments.length;f<1&&e.block_ac(f,-2,"define_nested_shared_group_method")}return _=(s=(l=u).$example_group,s.$$p=(c=function(){var r,n,i=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"define_nested_shared_group_method")}return(r=(n=i).$find_and_eval_shared,r.$$p=a.$to_proc(),r).apply(n,["examples",t].concat(e.to_a($)))},c.$$s=u,c.$$arity=0,c.$$parameters=[],c),s).call(l,r+" "+t,o(["caller"],{caller:u.$caller()})),_.$metadata()["$[]="]("shared_group_name",t),_},i.$$s=s,i.$$arity=-2,i.$$parameters=[["req","name"],["rest","args"],["block","customization_block"]],i),a).call($,t)},g.$$arity=-2,g.$$parameters=[["req","new_name"],["opt","report_label"]]),Y.$define_nested_shared_group_method("it_behaves_like","behaves like"),Y.$define_nested_shared_group_method("it_should_behave_like"),e.defs(Y,"$include_context",b=function(t){var r,a,$,i=this,s=b.$$p,o=s||n,l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<l;u++)$[u-1]=arguments[u];b.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"include_context"),(r=(a=i).$find_and_eval_shared,r.$$p=o.$to_proc(),r).apply(a,["context",t].concat(e.to_a($)))},b.$$arity=-2,b.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defs(Y,"$include_examples",v=function(t){var r,a,$,i=this,s=v.$$p,o=s||n,l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<l;u++)$[u-1]=arguments[u];v.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"include_examples"),(r=(a=i).$find_and_eval_shared,r.$$p=o.$to_proc(),r).apply(a,["examples",t].concat(e.to_a($)))},v.$$arity=-2,v.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defs(Y,"$find_and_eval_shared",y=function(t,r){var a,$,i,s,o=this,l=y.$$p,c=l||n,u=n,_=arguments.length,p=_-2;p<0&&(p=0),s=new Array(p);for(var d=2;d<_;d++)s[d-2]=arguments[d];y.$$p=null;var h=arguments.length;return h<2&&e.ac(h,-3,this,"find_and_eval_shared"),u=V.get("RSpec").$world().$shared_example_group_registry().$find(o.$parent_groups(),r),!1!==u&&u!==n&&null!=u||o.$raise(V.get("ArgumentError"),"Could not find shared "+t+" "+r.$inspect()),(a=($=o).$module_exec,a.$$p=u.$to_proc(),a).apply($,e.to_a(s)),!1!==c&&c!==n&&null!=c?(a=(i=o).$module_exec,a.$$p=c.$to_proc(),a).call(i):n},y.$$arity=-3,y.$$parameters=[["req","label"],["req","name"],["rest","args"],["block","customization_block"]]),e.defs(Y,"$subclass",x=function(t,r,a){var $,i,s,o=x.$$p,l=o||n,c=n;x.$$p=null;var u=arguments.length;return 3!==u&&e.ac(u,3,this,"subclass"),c=V.get("Class").$new(t),($=(i=c).$set_it_up,$.$$p=l.$to_proc(),
$).apply(i,[r].concat(e.to_a(a))),V.get("ExampleGroups").$assign_const(c),!1!==l&&l!==n&&null!=l&&($=(s=c).$module_exec,$.$$p=l.$to_proc(),$).call(s),V.get("MemoizedHelpers").$define_helpers_on(c),c},x.$$arity=3,x.$$parameters=[["req","parent"],["req","description"],["req","args"],["block","example_group_block"]]),e.defs(Y,"$set_it_up",k=function(){var t,r,a,$=this,i=k.$$p,s=i||n,o=n,l=n,c=arguments.length,u=c-0;u<0&&(u=0),a=new Array(u);for(var _=0;_<c;_++)a[_-0]=arguments[_];return k.$$p=null,$.$ensure_example_groups_are_configured(),o=a.$shift(),l=V.get("Metadata").$build_hash_from(a),a.$unshift(o),$.metadata=(t=(r=V.get("Metadata").$$scope.get("ExampleGroupHash")).$create,t.$$p=s.$to_proc(),t).apply(r,[$.$superclass_metadata(),l].concat(e.to_a(a))),$.$hooks().$register_globals($,V.get("RSpec").$configuration().$hooks()),V.get("RSpec").$world().$configure_group($)},k.$$arity=-1,k.$$parameters=[["rest","args"],["block","example_group_block"]]),e.defs(Y,"$examples",w=function(){var t,r=this;null==r.examples&&(r.examples=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"examples"),!1!==(t=r.examples)&&t!==n&&null!=t?t:r.examples=[]},w.$$arity=0,w.$$parameters=[]),e.defs(Y,"$filtered_examples",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"filtered_examples"),V.get("RSpec").$world().$filtered_examples()["$[]"](t)},q.$$arity=0,q.$$parameters=[]),e.defs(Y,"$descendant_filtered_examples",S=function(){var r,a,$,i,s=this;null==s.descendant_filtered_examples&&(s.descendant_filtered_examples=n);var o=arguments.length;return 0!==o&&e.ac(o,0,this,"descendant_filtered_examples"),!1!==(r=s.descendant_filtered_examples)&&r!==n&&null!=r?r:s.descendant_filtered_examples=t(s.$filtered_examples(),(a=($=s.$children()).$inject,a.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=n),null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"descendant_filtered_examples")}return t(r,a.$descendant_filtered_examples())},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","a"],["req","e"]],i),a).call($,[]))},S.$$arity=0,S.$$parameters=[]),e.defs(Y,"$children",E=function(){var t,r=this;null==r.children&&(r.children=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"children"),!1!==(t=r.children)&&t!==n&&null!=t?t:r.children=[]},E.$$arity=0,E.$$parameters=[]),e.defs(Y,"$descendants",R=function(){var r,a,$,i,s=this;null==s._descendants&&(s._descendants=n);var o=arguments.length;return 0!==o&&e.ac(o,0,this,"descendants"),!1!==(r=s._descendants)&&r!==n&&null!=r?r:s._descendants=t([s],(a=($=s.$children()).$inject,a.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=n),null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"descendants")}return t(r,a.$descendants())},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","a"],["req","e"]],i),a).call($,[]))},R.$$arity=0,R.$$parameters=[]),e.defs(Y,"$parent_groups",O=function(){var t,a,$,i,s=this;null==s.parent_groups&&(s.parent_groups=n);var o=arguments.length;return 0!==o&&e.ac(o,0,this,"parent_groups"),!1!==(t=s.parent_groups)&&t!==n&&null!=t?t:s.parent_groups=(a=($=s.$ancestors()).$select,a.$$p=(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"parent_groups")}return r(t,V.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup"))},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","a"]],i),a).call($)},O.$$arity=0,O.$$parameters=[]),e.defs(Y,"$top_level?",M=function(){var t,r=this;null==r.top_level&&(r.top_level=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"top_level?"),!1!==(t=r.top_level)&&t!==n&&null!=t?t:r.top_level=r.$superclass()["$=="](V.get("ExampleGroup"))},M.$$arity=0,M.$$parameters=[]),e.defs(Y,"$ensure_example_groups_are_configured",A=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ensure_example_groups_are_configured"),(t=null!=e.cvars["@@example_groups_configured"]?"class variable":n)===n||null==t||t.$$is_boolean&&1!=t?(V.get("RSpec").$configuration().$configure_mock_framework(),V.get("RSpec").$configuration().$configure_expectation_framework(),e.cvars["@@example_groups_configured"]=!0):n},A.$$arity=0,A.$$parameters=[]),e.defs(Y,"$before_context_ivars",z=function(){var t,r=this;null==r.before_context_ivars&&(r.before_context_ivars=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"before_context_ivars"),!1!==(t=r.before_context_ivars)&&t!==n&&null!=t?t:r.before_context_ivars=o([],{})},z.$$arity=0,z.$$parameters=[]),e.defs(Y,"$store_before_context_ivars",j=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"store_before_context_ivars"),(r=t.$instance_variables()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(r=(a=t.$instance_variables()).$each,r.$$p=($=function(r){var a=$.$$s||this;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"store_before_context_ivars")}return a.$before_context_ivars()["$[]="](r,t.$instance_variable_get(r))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","ivar"]],$),r).call(a):n},j.$$arity=1,j.$$parameters=[["req","example_group_instance"]]),e.defs(Y,"$run_before_context_hooks",T=function(t){var r,a,$,i=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"run_before_context_hooks"),(r=i.$descendant_filtered_examples()["$empty?"]())!==n&&null!=r&&(!r.$$is_boolean||1==r))return n;try{return i.$set_ivars(t,i.$superclass().$before_context_ivars()),(r=(a=V.get("ContextHookMemoizedHash").$$scope.get("Before")).$isolate_for_context_hook,r.$$p=($=function(){var r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"run_before_context_hooks")}return r.$hooks().$run("before","context",t)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(a,t)}finally{i.$store_before_context_ivars(t)}},T.$$arity=1,T.$$parameters=[["req","example_group_instance"]]),e.defs(Y,"$run_after_context_hooks",I=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"run_after_context_hooks"),(r=i.$descendant_filtered_examples()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(i.$set_ivars(t,i.$before_context_ivars()),(r=(a=V.get("ContextHookMemoizedHash").$$scope.get("After")).$isolate_for_context_hook,r.$$p=($=function(){var r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"run_after_context_hooks")}return r.$hooks().$run("after","context",t)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(a,t)):n},I.$$arity=1,I.$$parameters=[["req","example_group_instance"]]),e.defs(Y,"$run",C=function(t){var r,a,$,i,s,o,l,c=this,u=n,_=n,p=n,d=arguments.length;if(1!==d&&e.ac(d,1,this,"run"),(r=V.get("RSpec").$world().$wants_to_quit())!==n&&null!=r&&(!r.$$is_boolean||1==r))return(r=c["$top_level?"]())===n||null==r||r.$$is_boolean&&1!=r||V.get("RSpec").$world().$clear_remaining_example_groups(),n;t.$example_group_started(c);try{try{return c.$run_before_context_hooks(c.$new()),u=c.$run_examples(t),_=(r=(a=c.$ordering_strategy().$order(c.$children())).$map,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"run")}return r.$run(t)},$.$$s=c,$.$$arity=1,$.$$parameters=[["req","child"]],$),r).call(a)["$all?"](),(r=!1!==u&&u!==n&&null!=u)?_:u}catch(a){if(e.rescue(a,[V.get("Pending").$$scope.get("SkipDeclaredInExample")])){p=a;try{return(r=(i=c).$for_filtered_examples,r.$$p=(s=function(r){s.$$s;if(null==r&&(r=n),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"run")}return r.$skip_with_exception(t,p)},s.$$s=c,s.$$arity=1,s.$$parameters=[["req","example"]],s),r).call(i,t)}finally{e.pop_exception()}}else{if(!e.rescue(a,[V.get("Exception")]))throw a;p=a;try{(r=c["$fail_fast?"]())===n||null==r||r.$$is_boolean&&1!=r||(r=[!0],o=V.get("RSpec").$world(),o["$wants_to_quit="].apply(o,r),r[r.length-1]),(r=(o=c).$for_filtered_examples,r.$$p=(l=function(r){l.$$s;if(null==r&&(r=n),l.$$is_lambda||l.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"run")}return r.$fail_with_exception(t,p)},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","example"]],l),r).call(o,t)}finally{e.pop_exception()}}}}finally{c.$run_after_context_hooks(c.$new()),c.$before_context_ivars().$clear(),t.$example_group_finished(c)}},C.$$arity=1,C.$$parameters=[["req","reporter"]]),e.defs(Y,"$ordering_strategy",P=function(){var t,r,a,$=this,i=n,s=n,o=arguments.length;return 0!==o&&e.ac(o,0,this,"ordering_strategy"),i=$.$metadata().$fetch("order","global"),s=V.get("RSpec").$configuration().$ordering_registry(),(t=(r=s).$fetch,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"ordering_strategy")}return t.$warn(("            |WARNING: Ignoring unknown ordering specified using `:order => "+i.$inspect()+"` metadata.\n            |         Falling back to configured global ordering.\n            |         Unrecognized ordering specified at: "+t.$location()+"\n").$gsub(/^ +\|/,"")),s.$fetch("global")},a.$$s=$,a.$$arity=0,a.$$parameters=[],a),t).call(r,i)},P.$$arity=0,P.$$parameters=[]),e.defs(Y,"$run_examples",N=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"run_examples"),(r=(a=i.$ordering_strategy().$order(i.$filtered_examples())).$map,r.$$p=($=function(r){var a,i,s=$.$$s||this,o=n,l=n;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"run_examples")}return(a=V.get("RSpec").$world().$wants_to_quit())===n||null==a||a.$$is_boolean&&1!=a?(o=s.$new(),s.$set_ivars(o,s.$before_context_ivars()),l=r.$run(o,t),i=s["$fail_fast?"](),(a=!1!==i&&i!==n&&null!=i?l["$!"]():i)===n||null==a||a.$$is_boolean&&1!=a||(a=[!0],i=V.get("RSpec").$world(),i["$wants_to_quit="].apply(i,a),a[a.length-1]),l):n},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","example"]],$),r).call(a)["$all?"]()},N.$$arity=1,N.$$parameters=[["req","reporter"]]),e.defs(Y,"$for_filtered_examples",F=function(t){var r,a,$,i,s=this,o=F.$$p,l=o||n;F.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"for_filtered_examples"),(r=(a=s.$filtered_examples()).$each,r.$$p=l.$to_proc(),r).call(a),(r=($=s.$children()).$each,r.$$p=(i=function(r){var a,$;i.$$s;if(null==r&&(r=n),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"for_filtered_examples")}return t.$example_group_started(r),(a=($=r).$for_filtered_examples,a.$$p=l.$to_proc(),a).call($,t),t.$example_group_finished(r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","child"]],i),r).call($),!1},F.$$arity=1,F.$$parameters=[["req","reporter"],["block","block"]]),e.defs(Y,"$fail_fast?",D=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"fail_fast?"),V.get("RSpec").$configuration()["$fail_fast?"]()},D.$$arity=0,D.$$parameters=[]),e.defs(Y,"$any_apply?",B=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_apply?"),V.get("MetadataFilter")["$any_apply?"](t,r.$metadata())},B.$$arity=1,B.$$parameters=[["req","filters"]]),e.defs(Y,"$all_apply?",H=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"all_apply?"),V.get("MetadataFilter")["$all_apply?"](t,r.$metadata())},H.$$arity=1,H.$$parameters=[["req","filters"]]),e.defs(Y,"$declaration_line_numbers",L=function(){var r,a,$,i,s,o,l=this;null==l.declaration_line_numbers&&(l.declaration_line_numbers=n);var c=arguments.length;return 0!==c&&e.ac(c,0,this,"declaration_line_numbers"),!1!==(r=l.declaration_line_numbers)&&r!==n&&null!=r?r:l.declaration_line_numbers=t(t([l.$metadata()["$[]"]("line_number")],(a=($=l.$examples()).$map,a.$$p=(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"declaration_line_numbers")}return t.$metadata()["$[]"]("line_number")},i.$$s=l,i.$$arity=1,i.$$parameters=[["req","e"]],i),a).call($)),(a=(s=l.$children()).$inject,a.$$p=(o=function(r,a){o.$$s;if(null==r&&(r=n),null==a&&(a=n),o.$$is_lambda||o.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"declaration_line_numbers")}return t(r,a.$declaration_line_numbers())},o.$$s=l,o.$$arity=2,o.$$parameters=[["req","a"],["req","e"]],o),a).call(s,[]))},L.$$arity=0,L.$$parameters=[]),e.defs(Y,"$top_level_description",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"top_level_description"),t.$parent_groups().$last().$description()},U.$$arity=0,U.$$parameters=[]),e.defs(Y,"$set_ivars",G=function(t,r){var a,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"set_ivars"),(a=($=r).$each,a.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=n),null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"set_ivars")}return t.$instance_variable_set(r,a)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","name"],["req","value"]],i),a).call($)},G.$$arity=2,G.$$parameters=[["req","instance"],["req","ivars"]])}(u.base,null),function(t,$super){function r(){}var a,n=r=s(t,$super,"AnonymousExampleGroup",r);n.$$proto,n.$$scope;e.defs(n,"$metadata",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"metadata"),o([],{})},a.$$arity=0,a.$$parameters=[])}(u.base,u.get("ExampleGroup"))}(u.base),function(r){var a,$,s,o,l,c=a=i(r,"ExampleGroups"),u=(c.$$proto,c.$$scope);c.$extend(u.get("Support").$$scope.get("RecursiveConstMethods")),e.defs(c,"$assign_const",$=function(t){var r=this,a=n,$=n,i=n,s=arguments.length;return 1!==s&&e.ac(s,1,this,"assign_const"),a=r.$base_name_for(t),$=r.$constant_scope_for(t),i=r.$disambiguate(a,$),$.$const_set(i,t)},$.$$arity=1,$.$$parameters=[["req","group"]]),e.defs(c,"$constant_scope_for",s=function(t){var r=this,a=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"constant_scope_for"),a=t.$superclass(),a["$=="](e.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup"))&&(a=r),a},s.$$arity=1,s.$$parameters=[["req","group"]]),e.defs(c,"$base_name_for",o=function(r){var a,$,i,s=this,o=n,l=arguments.length;return 1!==l&&e.ac(l,1,this,"base_name_for"),(a=r.$description()["$empty?"]())===n||null==a||a.$$is_boolean&&1!=a?(o=t(" ",r.$description()),(a=($=o)["$gsub!"],a.$$p=(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"base_name_for")}return u.get("Regexp").$last_match()["$[]"](1).$upcase()},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),a).call($,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),o["$lstrip!"](),o["$gsub!"](/\W/,""),o["$gsub!"](/\A([^A-Z]|\z)/,"Nested\\1"),o):"Anonymous"},o.$$arity=1,o.$$parameters=[["req","group"]]),u.get("RUBY_VERSION")["$=="]("1.9.2")&&(!function(r){var a;r.$$scope,r.$$proto;e.alias(r,"_base_name_for","base_name_for"),e.defn(r,"$base_name_for",a=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"base_name_for"),t(a.$_base_name_for(r),"_")},a.$$arity=1,a.$$parameters=[["req","group"]])}(e.get_singleton_class(c)),c.$private_class_method("_base_name_for")),e.defs(c,"$disambiguate",l=function(t,r){var a,$,i=this,s=arguments.length;if(2!==s&&e.ac(s,2,this,"disambiguate"),(a=i["$const_defined_on?"](r,t))===n||null==a||a.$$is_boolean&&1!=a)return t;for(t["$<<"]("_2");($=i["$const_defined_on?"](r,t))!==n&&null!=$&&(!$.$$is_boolean||1==$);)t["$next!"]();return t},l.$$arity=2,l.$$parameters=[["req","name"],["req","const_scope"]])}(u.base)}(a.base)},Opal.modules["rspec/core/filter_manager"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$attr_reader","$build","$delete","$inclusions","$new","$[]=","$push","$[]","$expand_path","$add_location","$empty?","$exclusions","$standalone?","$select","$!","$include_example?","$include?","$exclude?","$add","$last","$use_only","$add_with_low_priority","$attr_accessor","$opposite=","$to_proc","$each_key","$opposite","$merge!","$merge","$each_pair","$==","$replace","$clear","$fetch","$rules","$gsub","$inspect","$replace_filters","$apply_standalone_filter","$any_apply?","$is_standalone_filter?","$private","$any?","$key?","$freeze","$lambda"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m=a=n(t,$super,"FilterManager",a),g=(m.$$proto,m.$$scope);m.$attr_reader("exclusions","inclusions"),e.defn(m,"$initialize",$=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"initialize"),a=g.get("FilterRules").$build(),t=e.to_ary(a),n.exclusions=null==t[0]?r:t[0],n.inclusions=null==t[1]?r:t[1],a},$.$$arity=0,$.$$parameters=[]),e.defn(m,"$add_location",i=function(t,a){var n,$,i,s,o=this,l=r,c=arguments.length;return 2!==c&&e.ac(c,2,this,"add_location"),l=!1!==(n=o.$inclusions().$delete("locations"))&&n!==r&&null!=n?n:($=(i=g.get("Hash")).$new,$.$$p=(s=function(t,a){s.$$s;if(null==t&&(t=r),null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"add_location")}return t["$[]="](a,[])},s.$$s=o,s.$$arity=2,s.$$parameters=[["req","h"],["req","k"]],s),$).call(i),(n=l["$[]"](g.get("File").$expand_path(t))).$push.apply(n,e.to_a(a)),o.$inclusions().$add_location(l)},i.$$arity=2,i.$$parameters=[["req","file_path"],["req","line_numbers"]]),e.defn(m,"$empty?",s=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"empty?"),t=a.$inclusions()["$empty?"](),!1!==t&&t!==r&&null!=t?a.$exclusions()["$empty?"]():t},s.$$arity=0,s.$$parameters=[]),e.defn(m,"$prune",o=function(t){var a,n,$,i,s,o=this,l=r,c=arguments.length;return 1!==c&&e.ac(c,1,this,"prune"),(a=o.$inclusions()["$standalone?"]())===r||null==a||a.$$is_boolean&&1!=a?(a=(i=t).$select,a.$$p=(s=function(t){var a,n=s.$$s||this;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"prune")}return a=n["$exclude?"](t)["$!"](),!1!==a&&a!==r&&null!=a?n["$include?"](t):a},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","e"]],s),a).call(i):(l=g.get("ExclusionRules").$new(),(a=(n=t).$select,a.$$p=($=function(t){var a,n=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"prune")}return a=l["$include_example?"](t)["$!"](),!1!==a&&a!==r&&null!=a?n["$include?"](t):a},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","e"]],$),a).call(n))},o.$$arity=1,o.$$parameters=[["req","examples"]]),e.defn(m,"$exclude",l=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$add(e.$last())},l.$$arity=-1,l.$$parameters=[["rest","args"]]),e.defn(m,"$exclude_only",c=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$use_only(e.$last())},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(m,"$exclude_with_low_priority",u=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$add_with_low_priority(e.$last())},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(m,"$exclude?",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exclude?"),r.$exclusions()["$include_example?"](t)},_.$$arity=1,_.$$parameters=[["req","example"]]),e.defn(m,"$include",p=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$add(e.$last())},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(m,"$include_only",d=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$use_only(e.$last())},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(m,"$include_with_low_priority",h=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$add_with_low_priority(e.$last())},h.$$arity=-1,h.$$parameters=[["rest","args"]]),e.defn(m,"$include?",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),r.$inclusions()["$include_example?"](t)},f.$$arity=1,f.$$parameters=[["req","example"]])}(o.base,null),function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m=a=n(t,$super,"FilterRules",a),g=m.$$proto,b=m.$$scope;g.rules=r,e.cdecl(b,"PROC_HEX_NUMBER",/0x[0-9a-f]+@/),e.cdecl(b,"PROJECT_DIR",b.get("File").$expand_path(".")),m.$attr_accessor("opposite"),m.$attr_reader("rules"),e.defs(m,"$build",$=function(){var t,a,n=r,$=r,i=arguments.length;return 0!==i&&e.ac(i,0,this,"build"),n=b.get("ExclusionRules").$new(),$=b.get("InclusionRules").$new(),t=[$],a=n,a["$opposite="].apply(a,t),t[t.length-1],t=[n],a=$,a["$opposite="].apply(a,t),t[t.length-1],[n,$]},$.$$arity=0,$.$$parameters=[]),e.defn(m,"$initialize",i=function(){var t,a,n,$=this,s=i.$$p,o=s||r,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return i.$$p=null,$.rules=(t=(a=b.get("Hash")).$new,t.$$p=o.$to_proc(),t).apply(a,e.to_a(n))},i.$$arity=-1,i.$$parameters=[["rest","args"],["block","block"]]),e.defn(m,"$add",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add"),(a=(n=i.rules["$merge!"](t)).$each_key,a.$$p=($=function(t){var a=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"add")}return a.$opposite().$delete(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","k"]],$),a).call(n)},s.$$arity=1,s.$$parameters=[["req","updated"]]),e.defn(m,"$add_with_low_priority",o=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add_with_low_priority"),t=t.$merge(i.rules),(a=(n=i.$opposite()).$each_pair,a.$$p=($=function(a,n){$.$$s;if(null==a&&(a=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"add_with_low_priority")}return t["$[]"](a)["$=="](n)?t.$delete(a):r},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","k"],["req","v"]],$),a).call(n),i.rules.$replace(t)},o.$$arity=1,o.$$parameters=[["req","updated"]]),e.defn(m,"$use_only",l=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"use_only"),(a=(n=t).$each_key,a.$$p=($=function(t){var a=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"use_only")}return a.$opposite().$delete(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","k"]],$),a).call(n),i.rules.$replace(t)},l.$$arity=1,l.$$parameters=[["req","updated"]]),e.defn(m,"$clear",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.rules.$clear()},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$delete",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"delete"),r.rules.$delete(t)},u.$$arity=1,u.$$parameters=[["req","key"]]),e.defn(m,"$fetch",_=function(){var t,a,n,$=this,i=_.$$p,s=i||r,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return _.$$p=null,(t=(a=$.rules).$fetch,t.$$p=s.$to_proc(),t).apply(a,e.to_a(n))},_.$$arity=-1,_.$$parameters=[["rest","args"],["block","block"]]),e.defn(m,"$[]",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.rules["$[]"](t)},p.$$arity=1,p.$$parameters=[["req","key"]]),e.defn(m,"$empty?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.$rules()["$empty?"]()},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$each_pair",h=function(){var t,a,n=this,$=h.$$p,i=$||r;h.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"each_pair"),(t=(a=n.rules).$each_pair,t.$$p=i.$to_proc(),t).call(a)},h.$$arity=0,h.$$parameters=[["block","block"]]),e.defn(m,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$rules().$inspect().$gsub(b.get("PROC_HEX_NUMBER"),"").$gsub(b.get("PROJECT_DIR"),".").$gsub(" (lambda)","")},f.$$arity=0,f.$$parameters=[])}(o.base,null),function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h=a=n(t,$super,"InclusionRules",a),f=h.$$proto,m=h.$$scope;f.rules=r,e.cdecl(m,"STANDALONE_FILTERS",["locations","full_description"]),e.defn(h,"$add_location",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"add_location"),r.$replace_filters($(["locations"],{locations:t}))},i.$$arity=1,i.$$parameters=[["req","locations"]]),e.defn(h,"$add",s=function(){var t,a,n,$,i,o=this,l=s.$$p,c=r,u=r,_=arguments.length,p=_-0;p<0&&(p=0),i=new Array(p);for(var d=0;d<_;d++)i[d-0]=arguments[d];for(s.$$p=null,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(t=(a=o).$apply_standalone_filter.apply(a,e.to_a(i)))&&t!==r&&null!=t?t:($=o,n=e.find_super_dispatcher(o,"add",s,!1),n.$$p=l,n).apply($,c)},s.$$arity=-1,s.$$parameters=[["rest","args"]]),e.defn(h,"$add_with_low_priority",o=function(){var t,a,n,$,i,s=this,l=o.$$p,c=r,u=r,_=arguments.length,p=_-0;p<0&&(p=0),i=new Array(p);for(var d=0;d<_;d++)i[d-0]=arguments[d];for(o.$$p=null,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(t=(a=s).$apply_standalone_filter.apply(a,e.to_a(i)))&&t!==r&&null!=t?t:($=s,n=e.find_super_dispatcher(s,"add_with_low_priority",o,!1),n.$$p=l,n).apply($,c)},o.$$arity=-1,o.$$parameters=[["rest","args"]]),e.defn(h,"$use",l=function(){var t,a,n,$,i,s=this,o=l.$$p,c=r,u=r,_=arguments.length,p=_-0;p<0&&(p=0),i=new Array(p);for(var d=0;d<_;d++)i[d-0]=arguments[d];for(l.$$p=null,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(t=(a=s).$apply_standalone_filter.apply(a,e.to_a(i)))&&t!==r&&null!=t?t:($=s,n=e.find_super_dispatcher(s,"use",l,!1),n.$$p=o,n).apply($,c)},l.$$arity=-1,l.$$parameters=[["rest","args"]]),e.defn(h,"$include_example?",c=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"include_example?"),!((a=n.rules["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a)||t["$any_apply?"](n.rules)},c.$$arity=1,c.$$parameters=[["req","example"]]),e.defn(h,"$standalone?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"standalone?"),t["$is_standalone_filter?"](t.rules)},u.$$arity=0,u.$$parameters=[]),h.$private(),e.defn(h,"$apply_standalone_filter",_=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"apply_standalone_filter"),!((a=n["$standalone?"]())===r||null==a||a.$$is_boolean&&1!=a)||((a=n["$is_standalone_filter?"](t))===r||null==a||a.$$is_boolean&&1!=a?r:(n.$replace_filters(t),!0))},_.$$arity=1,_.$$parameters=[["req","updated"]]),e.defn(h,"$replace_filters",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace_filters"),r.rules.$replace(t),r.$opposite().$clear()},p.$$arity=1,p.$$parameters=[["req","new_rules"]]),e.defn(h,"$is_standalone_filter?",d=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"is_standalone_filter?"),(a=(n=m.get("STANDALONE_FILTERS"))["$any?"],a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"is_standalone_filter?")}return t["$key?"](a)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","key"]],$),a).call(n)},d.$$arity=1,d.$$parameters=[["req","rules"]])}(o.base,o.get("FilterRules")),function(t,$super){function a(){}var i,s,o,l,c,u,_=a=n(t,$super,"ExclusionRules",a),p=_.$$proto,d=_.$$scope;p.rules=r,e.cdecl(d,"CONDITIONAL_FILTERS",$(["if","unless"],{"if":(i=(s=_).$lambda,i.$$p=(o=function(t){o.$$s;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<class:ExclusionRules>")}return t["$!"]()},o.$$s=_,o.$$arity=1,o.$$parameters=[["req","value"]],o),i).call(s),unless:(i=(l=_).$lambda,i.$$p=(c=function(t){c.$$s;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<class:ExclusionRules>")}return t},c.$$s=_,c.$$arity=1,c.$$parameters=[["req","value"]],c),i).call(l)}).$freeze()),e.defn(_,"$include_example?",u=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"include_example?"),!1!==(a=t["$any_apply?"](n.rules))&&a!==r&&null!=a?a:t["$any_apply?"](d.get("CONDITIONAL_FILTERS"))},u.$$arity=1,u.$$parameters=[["req","example"]])}(o.base,o.get("FilterRules"))}(o.base)}(t.base)},Opal.modules["rspec/core/flat_map"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$respond_to?","$flat_map","$flatten","$map","$module_function"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=a(t,"Core"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o=n=a(t,"FlatMap");o.$$proto,o.$$scope;($=[]["$respond_to?"]("flat_map"))===r||null==$||$.$$is_boolean&&1!=$?e.defn(o,"$flat_map",s=function(t){var a,n,$,i=this,o=s.$$p,l=o||r;s.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"flat_map"),(a=(n=t).$map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"flat_map")}return e.yield1(l,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","item"]],$),a).call(n).$flatten()},s.$$arity=1,s.$$parameters=[["req","array"]]):e.defn(o,"$flat_map",i=function(t){var a,n,$,s=this,o=i.$$p,l=o||r;i.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"flat_map"),(a=(n=t).$flat_map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"flat_map")}return e.yield1(l,t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","item"]],$),a).call(n)},i.$$arity=1,i.$$parameters=[["req","array"]]),o.$module_function("flat_map")}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/core/formatters/documentation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$require_rspec_core","$register","$==","$puts","$output","$current_indentation","$strip","$description","$group","$+","$-","$passed_output","$example","$pending_output","$pending_message","$execution_result","$failure_output","$exception","$private","$wrap","$next_failure_index","$*","$reverse","$parent_groups","$example_group"]),n.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),function(n){var o,l=o=i(n,"RSpec"),c=(l.$$proto,l.$$scope);!function(n){var o,l=o=i(n,"Core"),c=(l.$$proto,l.$$scope);!function(n){var o,l=o=i(n,"Formatters"),c=(l.$$proto,l.$$scope);!function(n,$super){function i(){}var o,l,c,u,_,p,d,h,f,m,g,b,v=i=s(n,$super,"DocumentationFormatter",i),y=v.$$proto,x=v.$$scope;y.group_level=y.next_failure_index=$,x.get("Formatters").$register(v,"example_group_started","example_group_finished","example_passed","example_pending","example_failed"),e.defn(v,"$initialize",o=function(){var t,r,a=this,n=o.$$p,i=$,s=$;o.$$p=null;var l=arguments.length;for(1!==l&&e.ac(l,1,this,"initialize"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"initialize",o,!1),t.$$p=n,t).apply(r,i),a.group_level=0},o.$$arity=1,o.$$parameters=[["req","output"]]),e.defn(v,"$example_group_started",l=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"example_group_started"),a.group_level["$=="](0)&&a.$output().$puts(),a.$output().$puts(""+a.$current_indentation()+r.$group().$description().$strip()),a.group_level=t(a.group_level,1)},l.$$arity=1,l.$$parameters=[["req","notification"]]),e.defn(v,"$example_group_finished",c=function(){var t=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_finished"),t.group_level=r(t.group_level,1)},c.$$arity=1,c.$$parameters=[["req","_notification"]]),e.defn(v,"$example_passed",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.$output().$puts(r.$passed_output(t.$example()))},u.$$arity=1,u.$$parameters=[["req","passed"]]),e.defn(v,"$example_pending",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_pending"),r.$output().$puts(r.$pending_output(t.$example(),t.$example().$execution_result().$pending_message()))},_.$$arity=1,_.$$parameters=[["req","pending"]]),e.defn(v,"$example_failed",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_failed"),r.$output().$puts(r.$failure_output(t.$example(),t.$example().$execution_result().$exception()))},p.$$arity=1,p.$$parameters=[["req","failure"]]),v.$private(),e.defn(v,"$passed_output",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"passed_output"),x.get("ConsoleCodes").$wrap(""+r.$current_indentation()+t.$description().$strip(),"success")},d.$$arity=1,d.$$parameters=[["req","example"]]),e.defn(v,"$pending_output",h=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"pending_output"),
x.get("ConsoleCodes").$wrap(""+a.$current_indentation()+t.$description().$strip()+" (PENDING: "+r+")","pending")},h.$$arity=2,h.$$parameters=[["req","example"],["req","message"]]),e.defn(v,"$failure_output",f=function(t){var r=this,a=arguments.length;return 2!==a&&e.ac(a,2,this,"failure_output"),x.get("ConsoleCodes").$wrap(""+r.$current_indentation()+t.$description().$strip()+" (FAILED - "+r.$next_failure_index()+")","failure")},f.$$arity=2,f.$$parameters=[["req","example"],["req","_exception"]]),e.defn(v,"$next_failure_index",m=function(){var r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"next_failure_index"),!1!==(r=a.next_failure_index)&&r!==$&&null!=r||(a.next_failure_index=0),a.next_failure_index=t(a.next_failure_index,1)},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$current_indentation",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"current_indentation"),a("  ",t.group_level)},g.$$arity=0,g.$$parameters=[]),e.defn(v,"$example_group_chain",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group_chain"),t.$example_group().$parent_groups().$reverse()},b.$$arity=0,b.$$parameters=[])}(c.base,c.get("BaseTextFormatter"))}(c.base)}(c.base)}(n.base)},Opal.modules["rspec/core/formatters/html_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,e),i=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,l=e.hash2;return e.add_stubs(["$require_rspec_core","$register","$new","$print_html_start","$flush","$+","$==","$example_group_number","$print_example_group_end","$print_example_group_start","$description","$group","$size","$parent_groups","$move_progress","$percent_done","$print_example_passed","$example","$run_time","$execution_result","$<<","$make_header_red","$make_example_group_header_red","$exception","$message","$join","$formatted_backtrace","$extra_failure_content","$print_example_failed","$pending_fixed","$make_header_yellow","$make_example_group_header_yellow","$print_example_pending","$pending_message","$print_summary","$duration","$example_count","$failure_count","$pending_count","$private","$>","$to_f","$/","$to_i","$*","$example_number","$map","$backtrace_line","$backtrace_formatter","$configuration","$backtrace","$compact!","$snippet"]),$.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),$.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/html_printer"),function($){var c,u=c=s($,"RSpec"),_=(u.$$proto,u.$$scope);!function($){var c,u=c=s($,"Core"),_=(u.$$proto,u.$$scope);!function($){var c,u=c=s($,"Formatters"),_=(u.$$proto,u.$$scope);!function($,$super){function s(){}var c,u,_,p,d,h,f,m,g,b,v,y,x,k=s=o($,$super,"HtmlFormatter",s),w=k.$$proto,q=k.$$scope;w.printer=w.example_group_number=w.example_number=w.failed_examples=w.header_red=w.example_group_red=w.example_count=w.snippet_extractor=i,q.get("Formatters").$register(k,"start","example_group_started","start_dump","example_started","example_passed","example_failed","example_pending","dump_summary"),e.defn(k,"$initialize",c=function(t){var r,a,n=this;c.$$p;c.$$p=null;var $=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),(a=n,r=e.find_super_dispatcher(n,"initialize",c,!1),r.$$p=null,r).call(a,t),n.failed_examples=[],n.example_group_number=0,n.example_number=0,n.header_red=i,n.printer=q.get("HtmlPrinter").$new(t)},c.$$arity=1,c.$$parameters=[["req","output"]]),e.defn(k,"$start",u=function(){var t,r,a=this,n=u.$$p,$=i,s=i;u.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"start"),$=[],s=0;s<arguments.length;s++)$[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"start",u,!1),t.$$p=n,t).apply(r,$),a.printer.$print_html_start(),a.printer.$flush()},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(k,"$example_group_started",_=function(r){var a,n,$=this,s=_.$$p,o=i,l=i;_.$$p=null;var c=arguments.length;for(1!==c&&e.ac(c,1,this,"example_group_started"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(n=$,a=e.find_super_dispatcher($,"example_group_started",_,!1),a.$$p=s,a).apply(n,o),$.example_group_red=!1,$.example_group_number=t($.example_group_number,1),$.$example_group_number()["$=="](1)||$.printer.$print_example_group_end(),$.printer.$print_example_group_start($.$example_group_number(),r.$group().$description(),r.$group().$parent_groups().$size()),$.printer.$flush()},_.$$arity=1,_.$$parameters=[["req","notification"]]),e.defn(k,"$start_dump",p=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"start_dump"),t.printer.$print_example_group_end(),t.printer.$flush()},p.$$arity=1,p.$$parameters=[["req","_notification"]]),e.defn(k,"$example_started",d=function(){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_started"),r.example_number=t(r.example_number,1)},d.$$arity=1,d.$$parameters=[["req","_notification"]]),e.defn(k,"$example_passed",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.printer.$move_progress(r.$percent_done()),r.printer.$print_example_passed(t.$example().$description(),t.$example().$execution_result().$run_time()),r.printer.$flush()},h.$$arity=1,h.$$parameters=[["req","passed"]]),e.defn(k,"$example_failed",f=function(t){var r,a=this,n=i,$=i,s=i,o=i,c=arguments.length;return 1!==c&&e.ac(c,1,this,"example_failed"),a.failed_examples["$<<"](t.$example()),((r=a.header_red)===i||null==r||r.$$is_boolean&&1!=r)&&(a.header_red=!0,a.printer.$make_header_red()),((r=a.example_group_red)===i||null==r||r.$$is_boolean&&1!=r)&&(a.example_group_red=!0,a.printer.$make_example_group_header_red(a.$example_group_number())),a.printer.$move_progress(a.$percent_done()),n=t.$example(),$=t.$exception(),s=function(){return!1!==$&&$!==i&&null!=$&&l(["message","backtrace"],{message:$.$message(),backtrace:t.$formatted_backtrace().$join("\n")})}(),o=a.$extra_failure_content(t),a.printer.$print_example_failed(n.$execution_result().$pending_fixed(),n.$description(),n.$execution_result().$run_time(),a.failed_examples.$size(),s,function(){return!!((r=o["$=="](""))===i||null==r||r.$$is_boolean&&1!=r)&&o}(),!0),a.printer.$flush()},f.$$arity=1,f.$$parameters=[["req","failure"]]),e.defn(k,"$example_pending",m=function(t){var r,a=this,n=i,$=arguments.length;return 1!==$&&e.ac($,1,this,"example_pending"),n=t.$example(),((r=a.header_red)===i||null==r||r.$$is_boolean&&1!=r)&&a.printer.$make_header_yellow(),((r=a.example_group_red)===i||null==r||r.$$is_boolean&&1!=r)&&a.printer.$make_example_group_header_yellow(a.$example_group_number()),a.printer.$move_progress(a.$percent_done()),a.printer.$print_example_pending(n.$description(),n.$execution_result().$pending_message()),a.printer.$flush()},m.$$arity=1,m.$$parameters=[["req","pending"]]),e.defn(k,"$dump_summary",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_summary"),r.printer.$print_summary(t.$duration(),t.$example_count(),t.$failure_count(),t.$pending_count()),r.printer.$flush()},g.$$arity=1,g.$$parameters=[["req","summary"]]),k.$private(),e.defn(k,"$example_group_number",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group_number"),t.example_group_number},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$example_number",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_number"),t.example_number},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$percent_done",y=function(){var t,$=this,s=i,o=arguments.length;return 0!==o&&e.ac(o,0,this,"percent_done"),s=100,(t=r($.example_count,0))===i||null==t||t.$$is_boolean&&1!=t||(s=a(n(a($.$example_number().$to_f(),$.example_count.$to_f()),1e3).$to_i(),10).$to_f()),s},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$extra_failure_content",x=function(t){var r,a,n,$=this,s=i,o=arguments.length;return 1!==o&&e.ac(o,1,this,"extra_failure_content"),q.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/snippet_extractor"),s=(r=(a=t.$exception().$backtrace()).$map,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=i),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"extra_failure_content")}return q.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","line"]],n),r).call(a),s["$compact!"](),!1!==(r=$.snippet_extractor)&&r!==i&&null!=r||($.snippet_extractor=q.get("SnippetExtractor").$new()),'    <pre class="ruby"><code>'+$.snippet_extractor.$snippet(s)+"</code></pre>"},x.$$arity=1,x.$$parameters=[["req","failure"]])}(_.base,_.get("BaseFormatter"))}(_.base)}(_.base)}($.base)},Opal.modules["rspec/core/formatters/progress_formatter"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require_rspec_core","$register","$print","$output","$wrap","$puts"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),function(t){var n,$=n=r(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Core"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Formatters"),i=($.$$proto,$.$$scope);!function(t,$super){function r(){}var n,$,i,s,o=r=a(t,$super,"ProgressFormatter",r),l=(o.$$proto,o.$$scope);l.get("Formatters").$register(o,"example_passed","example_pending","example_failed","start_dump"),e.defn(o,"$example_passed",n=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_passed"),t.$output().$print(l.get("ConsoleCodes").$wrap(".","success"))},n.$$arity=1,n.$$parameters=[["req","_notification"]]),e.defn(o,"$example_pending",$=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_pending"),t.$output().$print(l.get("ConsoleCodes").$wrap("*","pending"))},$.$$arity=1,$.$$parameters=[["req","_notification"]]),e.defn(o,"$example_failed",i=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_failed"),t.$output().$print(l.get("ConsoleCodes").$wrap("F","failure"))},i.$$arity=1,i.$$parameters=[["req","_notification"]]),e.defn(o,"$start_dump",s=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"start_dump"),t.$output().$puts()},s.$$arity=1,s.$$parameters=[["req","_notification"]])}(i.base,i.get("BaseTextFormatter"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/core/formatters/profile_formatter"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_core","$register","$attr_reader","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$private","$puts","$size","$slowest_examples","$format_seconds","$slow_duration","$percentage","$each","$full_description","$bold","$run_time","$execution_result","$format_caller","$location","$empty?","$slowest_groups","$[]","$pluralize","$backtrace_line","$backtrace_formatter","$configuration","$first","$split","$to_s","$wrap"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/console_codes"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Core"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Formatters"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u=a=n(t,$super,"ProfileFormatter",a),_=u.$$proto,p=u.$$scope;_.output=r,p.get("Formatters").$register(u,"dump_profile"),e.defn(u,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.output=t},$.$$arity=1,$.$$parameters=[["req","output"]]),u.$attr_reader("output"),e.defn(u,"$dump_profile",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_profile"),r.$dump_profile_slowest_examples(t),r.$dump_profile_slowest_example_groups(t)},i.$$arity=1,i.$$parameters=[["req","profile"]]),u.$private(),e.defn(u,"$dump_profile_slowest_examples",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"dump_profile_slowest_examples"),i.output.$puts("\nTop "+t.$slowest_examples().$size()+" slowest examples ("+p.get("Helpers").$format_seconds(t.$slow_duration())+" seconds, "+t.$percentage()+"% of total time):\n"),(a=(n=t.$slowest_examples()).$each,a.$$p=($=function(t){var a=$.$$s||this;if(null==a.output&&(a.output=r),null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"dump_profile_slowest_examples")}return a.output.$puts("  "+t.$full_description()),a.output.$puts("    "+a.$bold(p.get("Helpers").$format_seconds(t.$execution_result().$run_time()))+" "+a.$bold("seconds")+" "+a.$format_caller(t.$location()))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","example"]],$),a).call(n)},s.$$arity=1,s.$$parameters=[["req","profile"]]),e.defn(u,"$dump_profile_slowest_example_groups",o=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"dump_profile_slowest_example_groups"),(a=t.$slowest_groups()["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a?(i.output.$puts("\nTop "+t.$slowest_groups().$size()+" slowest example groups:"),(a=(n=t.$slowest_groups()).$each,a.$$p=($=function(t,a){var n=$.$$s||this,i=r,s=r,o=r;if(null==n.output&&(n.output=r),null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"dump_profile_slowest_example_groups")}return i=n.$bold(p.get("Helpers").$format_seconds(a["$[]"]("average")))+" "+n.$bold("seconds")+" average",s=p.get("Helpers").$format_seconds(a["$[]"]("total_time"))+" seconds",o=p.get("Helpers").$pluralize(a["$[]"]("count"),"example"),n.output.$puts("  "+a["$[]"]("description")),n.output.$puts("    "+i+" ("+s+" / "+o+") "+t)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","loc"],["req","hash"]],$),a).call(n)):r},o.$$arity=1,o.$$parameters=[["req","profile"]]),e.defn(u,"$format_caller",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_caller"),p.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(t.$to_s().$split(":in `block").$first())},l.$$arity=1,l.$$parameters=[["req","caller_info"]]),e.defn(u,"$bold",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bold"),p.get("ConsoleCodes").$wrap(t,"bold")},c.$$arity=1,c.$$parameters=[["req","text"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/formatters/json_formatter"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2,s=e.gvars;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$<<","$[]","$[]=","$message","$duration","$example_count","$failure_count","$pending_count","$totals_line","$map","$tap","$exception","$name","$class","$backtrace","$format_example","$examples","$write","$output","$to_json","$===","$!=","$close","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$slowest_examples","$run_time","$execution_result","$slow_duration","$update","$slowest_groups","$private","$description","$full_description","$to_s","$status","$metadata"]),r.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_formatter"),t.$require("json"),function(t){var r,o=r=n(t,"RSpec"),l=(o.$$proto,o.$$scope);!function(t){var r,o=r=n(t,"Core"),l=(o.$$proto,o.$$scope);!function(t){var r,o=r=n(t,"Formatters"),l=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var n,o,l,c,u,_,p,d,h,f=r=$(t,$super,"JsonFormatter",r),m=f.$$proto,g=f.$$scope;m.output_hash=a,g.get("Formatters").$register(f,"message","dump_summary","dump_profile","stop","close"),f.$attr_reader("output_hash"),e.defn(f,"$initialize",n=function(){var t,r,$=this,s=n.$$p,o=a,l=a;n.$$p=null;var c=arguments.length;for(1!==c&&e.ac(c,1,this,"initialize"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(r=$,t=e.find_super_dispatcher($,"initialize",n,!1),t.$$p=s,t).apply(r,o),$.output_hash=i([],{})},n.$$arity=1,n.$$parameters=[["req","output"]]),e.defn(f,"$message",o=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"message"),(r="messages",n=i.output_hash,!1!==($=n["$[]"](r))&&$!==a&&null!=$?$:n["$[]="](r,[]))["$<<"](t.$message())},o.$$arity=1,o.$$parameters=[["req","notification"]]),e.defn(f,"$dump_summary",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_summary"),r.output_hash["$[]="]("summary",i(["duration","example_count","failure_count","pending_count"],{duration:t.$duration(),example_count:t.$example_count(),failure_count:t.$failure_count(),pending_count:t.$pending_count()})),r.output_hash["$[]="]("summary_line",t.$totals_line())},l.$$arity=1,l.$$parameters=[["req","summary"]]),e.defn(f,"$stop",c=function(t){var r,n,$,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"stop"),s.output_hash["$[]="]("examples",(r=(n=t.$examples()).$map,r.$$p=($=function(t){var r,n,s,o=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"stop")}return(r=(n=o.$format_example(t)).$tap,r.$$p=(s=function(r){var n=(s.$$s,a);if(null==r&&(r=a),s.$$is_lambda||s.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"stop")}return n=t.$exception(),!1!==n&&n!==a&&null!=n?r["$[]="]("exception",i(["class","message","backtrace"],{"class":n.$class().$name(),message:n.$message(),backtrace:n.$backtrace()})):a},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","hash"]],s),r).call(n)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","example"]],$),r).call(n))},c.$$arity=1,c.$$parameters=[["req","notification"]]),e.defn(f,"$close",u=function(){var t,r,n=this;null==s.stdout&&(s.stdout=a);var $=arguments.length;return 1!==$&&e.ac($,1,this,"close"),n.$output().$write(n.output_hash.$to_json()),r=g.get("IO")["$==="](n.$output()),(t=!1!==r&&r!==a&&null!=r?n.$output()["$!="](s.stdout):r)===a||null==t||t.$$is_boolean&&1!=t?a:n.$output().$close()},u.$$arity=1,u.$$parameters=[["req","_notification"]]),e.defn(f,"$dump_profile",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_profile"),r.output_hash["$[]="]("profile",i([],{})),r.$dump_profile_slowest_examples(t),r.$dump_profile_slowest_example_groups(t)},_.$$arity=1,_.$$parameters=[["req","profile"]]),e.defn(f,"$dump_profile_slowest_examples",p=function(t){var r,n,$,s=this,o=a,l=arguments.length;return 1!==l&&e.ac(l,1,this,"dump_profile_slowest_examples"),s.output_hash["$[]="]("profile",i([],{})),o=t.$slowest_examples(),s.output_hash["$[]"]("profile")["$[]="]("examples",(r=(n=o).$map,r.$$p=($=function(t){var r,n,i,s=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"dump_profile_slowest_examples")}return(r=(n=s.$format_example(t)).$tap,r.$$p=(i=function(r){i.$$s;if(null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"dump_profile_slowest_examples")}return r["$[]="]("run_time",t.$execution_result().$run_time())},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","hash"]],i),r).call(n)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","example"]],$),r).call(n)),s.output_hash["$[]"]("profile")["$[]="]("slowest",t.$slow_duration()),s.output_hash["$[]"]("profile")["$[]="]("total",t.$duration())},p.$$arity=1,p.$$parameters=[["req","profile"]]),e.defn(f,"$dump_profile_slowest_example_groups",d=function(t){var r,n,$,s,o=this,l=arguments.length;return 1!==l&&e.ac(l,1,this,"dump_profile_slowest_example_groups"),r="profile",n=o.output_hash,!1!==($=n["$[]"](r))&&$!==a&&null!=$||n["$[]="](r,i([],{})),o.output_hash["$[]"]("profile")["$[]="]("groups",(r=(n=t.$slowest_groups()).$map,r.$$p=(s=function(t,r){s.$$s;if(null==t&&(t=a),null==r&&(r=a),s.$$is_lambda||s.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"dump_profile_slowest_example_groups")}return r.$update(i(["location"],{location:t}))},s.$$s=o,s.$$arity=2,s.$$parameters=[["req","loc"],["req","hash"]],s),r).call(n))},d.$$arity=1,d.$$parameters=[["req","profile"]]),f.$private(),e.defn(f,"$format_example",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_example"),i(["description","full_description","status","file_path","line_number","run_time"],{description:t.$description(),full_description:t.$full_description(),status:t.$execution_result().$status().$to_s(),file_path:t.$metadata()["$[]"]("file_path"),line_number:t.$metadata()["$[]"]("line_number"),run_time:t.$execution_result().$run_time()})},h.$$arity=1,h.$$parameters=[["req","example"]])}(l.base,l.get("BaseFormatter"))}(l.base)}(l.base)}(r.base)},Opal.modules["rspec/core/formatters"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$require_rspec_support","$autoload","$[]=","$formatters","$default_formatter=","$attr_reader","$attr_accessor","$empty?","$add","$default_formatter","$any?","$===","$profile_examples?","$configuration","$!","$existing_formatter_implements?","$find_formatter","$map","$respond_to?","$file_at","$nil?","$[]","$new","$register_listener","$notifications_for","$load_formatter","$notifications","$first_non_rspec_line","$warn_deprecation","$gsub","$duplicate_formatter_exists?","$<<","$private","$built_in_formatter","$custom_formatter","$raise","$class","$==","$output","$registered_listeners","$to_s","$inject","$+","$fetch","$ancestors","$string_const?","$const_get","$split","$require","$path_for","$retry","$is_a?","$=~","$underscore_with_fix_for_non_standard_rspec_naming","$sub","$underscore","$dup","$gsub!","$tr!","$downcase!","$mkdir_p","$dirname"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("directory_maker"),function(r){var s,o,l=s=n(r,"Formatters"),c=(l.$$proto,l.$$scope);l.$autoload("DocumentationFormatter","rspec/core/formatters/documentation_formatter"),l.$autoload("HtmlFormatter","rspec/core/formatters/html_formatter"),l.$autoload("ProgressFormatter","rspec/core/formatters/progress_formatter"),l.$autoload("ProfileFormatter","rspec/core/formatters/profile_formatter"),l.$autoload("JsonFormatter","rspec/core/formatters/json_formatter"),e.defs(l,"$register",o=function(t){var r,a=arguments.length,n=a-1;n<0&&(n=0),r=new Array(n);for(var $=1;$<a;$++)r[$-1]=arguments[$];var i=arguments.length;return i<1&&e.ac(i,-2,this,"register"),c.get("Loader").$formatters()["$[]="](t,r)},o.$$arity=-2,o.$$parameters=[["req","formatter_class"],["rest","notifications"]]),function(r,$super){function n(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=n=$(r,$super,"Loader",n),k=x.$$proto,w=x.$$scope;k.formatters=k.reporter=a,e.defs(x,"$formatters",s=function(){var t,r=this;null==r.formatters&&(r.formatters=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"formatters"),!1!==(t=r.formatters)&&t!==a&&null!=t?t:r.formatters=i([],{})},s.$$arity=0,s.$$parameters=[]),e.defn(x,"$initialize",o=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),n.formatters=[],n.reporter=t,r=["progress"],a=n,a["$default_formatter="].apply(a,r),r[r.length-1]},o.$$arity=1,o.$$parameters=[["req","reporter"]]),x.$attr_reader("formatters"),x.$attr_reader("reporter"),x.$attr_accessor("default_formatter"),e.defn(x,"$setup_default",l=function(t,r){var n,$,i,s,o=this,l=arguments.length;return 2!==l&&e.ac(l,2,this,"setup_default"),(n=o.formatters["$empty?"]())===a||null==n||n.$$is_boolean&&1!=n||o.$add(o.$default_formatter(),t),((n=($=(i=o.formatters)["$any?"],$.$$p=(s=function(t){s.$$s;if(null==t&&(t=a),s.$$is_lambda||s.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"setup_default")}return w.get("DeprecationFormatter")["$==="](t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","formatter"]],s),$).call(i))===a||null==n||n.$$is_boolean&&1!=n)&&o.$add(w.get("DeprecationFormatter"),r,t),$=w.get("RSpec").$configuration()["$profile_examples?"](),(n=!1!==$&&$!==a&&null!=$?o["$existing_formatter_implements?"]("dump_profile")["$!"]():$)===a||null==n||n.$$is_boolean&&1!=n?a:o.$add(w.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ProfileFormatter"),t)},l.$$arity=2,l.$$parameters=[["req","output_stream"],["req","deprecation_stream"]]),e.defn(x,"$add",c=function(t){var r,n,$,i,s,o,l,c,u=this,_=a,p=a,d=a,h=a,f=a,m=arguments.length,g=m-1;g<0&&(g=0),c=new Array(g);for(var b=1;b<m;b++)c[b-1]=arguments[b];var v=arguments.length;if(v<1&&e.ac(v,-2,this,"add"),_=u.$find_formatter(t),p=(r=(n=c).$map,r.$$p=($=function(t){var r,n=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add")}return(r=t["$respond_to?"]("puts"))===a||null==r||r.$$is_boolean&&1!=r?n.$file_at(t):t},$.$$s=u,$.$$arity=1,$.$$parameters=[["req","p"]],$),r).call(n),(r=w.get("Loader").$formatters()["$[]"](_)["$nil?"]()["$!"]())===a||null==r||r.$$is_boolean&&1!=r){if((s=function(){try{return null!=w.get("RSpec").$$scope.get("LegacyFormatters")?"constant":a}catch(t){if(t.$$class===e.NameError)return a;throw t}}())===a||null==s||s.$$is_boolean&&1!=s)return h=e.get("RSpec").$$scope.get("CallerFilter").$first_non_rspec_line(),f=!1!==h&&h!==a&&null!=h?"Formatter added at: "+h:"The formatter was added via command line flag or your `.rspec` file.",w.get("RSpec").$warn_deprecation(("          |The "+_+" formatter uses the deprecated formatter\n          |interface not supported directly by RSpec 3.\n          |\n          |To continue to use this formatter you must install the\n          |`rspec-legacy_formatters` gem, which provides support\n          |for legacy formatters or upgrade the formatter to a\n          |compatible version.\n          |\n          |"+f+"\n").$gsub(/\s*\|/," ")),a;d=(s=w.get("RSpec").$$scope.get("LegacyFormatters")).$load_formatter.apply(s,[_].concat(e.to_a(p))),(o=u.reporter).$register_listener.apply(o,[d].concat(e.to_a(d.$notifications())))}else d=(r=_).$new.apply(r,e.to_a(p)),(i=u.reporter).$register_listener.apply(i,[d].concat(e.to_a(u.$notifications_for(_))));return((l=u["$duplicate_formatter_exists?"](d))===a||null==l||l.$$is_boolean&&1!=l)&&u.formatters["$<<"](d),d},c.$$arity=-2,c.$$parameters=[["req","formatter_to_use"],["rest","paths"]]),x.$private(),e.defn(x,"$find_formatter",u=function(t){var r,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"find_formatter"),!1!==(r=!1!==(n=$.$built_in_formatter(t))&&n!==a&&null!=n?n:$.$custom_formatter(t))&&r!==a&&null!=r?r:$.$raise(w.get("ArgumentError"),"Formatter '"+t+"' unknown - maybe you meant 'documentation' or 'progress'?.")},u.$$arity=1,u.$$parameters=[["req","formatter_to_use"]]),e.defn(x,"$duplicate_formatter_exists?",_=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"duplicate_formatter_exists?"),(r=(n=i.formatters)["$any?"],r.$$p=($=function(r){var n;$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"duplicate_formatter_exists?")}return n=r.$class()["$==="](t),!1!==n&&n!==a&&null!=n?r.$output()["$=="](t.$output()):n},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","formatter"]],$),r).call(n)},_.$$arity=1,_.$$parameters=[["req","new_formatter"]]),e.defn(x,"$existing_formatter_implements?",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"existing_formatter_implements?"),r.reporter.$registered_listeners(t)["$any?"]()},p.$$arity=1,p.$$parameters=[["req","notification"]]),e.defn(x,"$built_in_formatter",d=function(t){var r=a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"built_in_formatter"),function(){return r=t.$to_s(),"d"["$==="](r)||"doc"["$==="](r)||"documentation"["$==="](r)?w.get("DocumentationFormatter"):"h"["$==="](r)||"html"["$==="](r)?w.get("HtmlFormatter"):"p"["$==="](r)||"progress"["$==="](r)?w.get("ProgressFormatter"):"j"["$==="](r)||"json"["$==="](r)?w.get("JsonFormatter"):a}()},d.$$arity=1,d.$$parameters=[["req","key"]]),e.defn(x,"$notifications_for",h=function(r){var n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"notifications_for"),(n=($=r.$ancestors()).$inject,n.$$p=(i=function(r,n){var $,s,o,l=i.$$s||this;if(null==r&&(r=a),null==n&&(n=a),i.$$is_lambda||i.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"notifications_for")}return t(r,($=(s=w.get("Loader").$formatters()).$fetch,$.$$p=(o=function(){o.$$s;if(o.$$is_lambda||o.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"notifications_for")}return w.get("Set").$new()},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),$).call(s,n))},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","notifications"],["req","klass"]],i),n).call($,w.get("Set").$new())},h.$$arity=1,h.$$parameters=[["req","formatter_class"]]),e.defn(x,"$custom_formatter",f=function(t){var r,n,$,i=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"custom_formatter"),!((r=w.get("Class")["$==="](t))===a||null==r||r.$$is_boolean&&1!=r))return t;if((r=i["$string_const?"](t))===a||null==r||r.$$is_boolean&&1!=r)return a;try{return(r=(n=t.$gsub(/^::/,"").$split("::")).$inject,r.$$p=($=function(t,r){$.$$s;if(null==t&&(t=a),null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"custom_formatter")}return t.$const_get(r)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","a"],["req","e"]],$),r).call(n,w.get("Object"))}catch(n){if(!e.rescue(n,[w.get("NameError")]))throw n;try{return(r=i.$require(i.$path_for(t)))===a||null==r||r.$$is_boolean&&1!=r?i.$raise():i.$retry()}finally{e.pop_exception()}}},f.$$arity=1,f.$$parameters=[["req","formatter_ref"]]),e.defn(x,"$string_const?",m=function(t){var r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"string_const?"),r=t["$is_a?"](w.get("String")),!1!==r&&r!==a&&null!=r?/\A[A-Z][a-zA-Z0-9_:]*\z/["$=~"](t):r},m.$$arity=1,m.$$parameters=[["req","str"]]),e.defn(x,"$path_for",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"path_for"),r.$underscore_with_fix_for_non_standard_rspec_naming(t)},g.$$arity=1,g.$$parameters=[["req","const_ref"]]),e.defn(x,"$underscore_with_fix_for_non_standard_rspec_naming",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"underscore_with_fix_for_non_standard_rspec_naming"),r.$underscore(t).$sub(/(^|\/)r_spec($|\/)/,"\\1rspec\\2")},b.$$arity=1,b.$$parameters=[["req","string"]]),e.defn(x,"$underscore",v=function(t){var r=a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),r=t.$to_s().$dup(),r["$gsub!"](/::/,"/"),r["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),r["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),r["$tr!"]("-","_"),r["$downcase!"](),r},v.$$arity=1,v.$$parameters=[["req","camel_cased_word"]]),e.defn(x,"$file_at",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"file_at"),w.get("RSpec").$$scope.get("Support").$$scope.get("DirectoryMaker").$mkdir_p(w.get("File").$dirname(t)),w.get("File").$new(t,"w")},y.$$arity=1,y.$$parameters=[["req","path"]])}(c.base,null)}(r.get("RSpec").$$scope.get("Core"))},Opal.modules.stringio=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),i=e.nil,s=(e.breaker,e.slice,e.klass),o=e.range;return e.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function($,$super){function l(){}var c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R=l=s($,$super,"StringIO",l),O=R.$$proto,M=R.$$scope;return O.position=O.string=O.closed=i,R.$include(M.get("IO").$$scope.get("Readable")),R.$include(M.get("IO").$$scope.get("Writable")),e.defs(R,"$open",c=function(t,r){var a=this,n=c.$$p,$=n||i,s=i,o=i;null==t&&(t=""),null==r&&(r=i),c.$$p=null;var l=arguments.length;return l>2&&e.ac(l,-1,this,"open"),s=a.$new(t,r),o=$.$call(s),s.$close(),o},c.$$arity=-1,c.$$parameters=[["opt","string"],["opt","mode"],["block","block"]]),R.$attr_accessor("string"),e.defn(R,"$initialize",u=function(t,r){var a,n,$=this;null==t&&(t=""),null==r&&(r="rw");var s=arguments.length;return s>2&&e.ac(s,-1,this,"initialize"),$.string=t,$.position=t.$length(),n=r["$include?"]("r"),(a=!1!==n&&n!==i&&null!=n?r["$include?"]("w")["$!"]():n)===i||null==a||a.$$is_boolean&&1!=a?(n=r["$include?"]("w"),(a=!1!==n&&n!==i&&null!=n?r["$include?"]("r")["$!"]():n)===i||null==a||a.$$is_boolean&&1!=a?i:$.closed="read"):$.closed="write"},u.$$arity=-1,u.$$parameters=[["opt","string"],["opt","mode"]]),e.defn(R,"$eof?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"eof?"),t.$check_readable(),t.position["$=="](t.string.$length())
},_.$$arity=0,_.$$parameters=[]),e.alias(R,"eof","eof?"),e.defn(R,"$seek",p=function($,s){var o,l=this,c=i;null==s&&(s=M.get("IO").$$scope.get("SEEK_SET"));var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"seek"),c=s,M.get("IO").$$scope.get("SEEK_SET")["$==="](c)?(((o=t($,0))===i||null==o||o.$$is_boolean&&1!=o)&&l.$raise(M.get("Errno").$$scope.get("EINVAL")),l.position=$):M.get("IO").$$scope.get("SEEK_CUR")["$==="](c)?(o=r(a(l.position,$),l.string.$length()))===i||null==o||o.$$is_boolean&&1!=o?l.position=a(l.position,$):l.position=l.string.$length():M.get("IO").$$scope.get("SEEK_END")["$==="](c)&&((o=r($,l.string.$length()))===i||null==o||o.$$is_boolean&&1!=o?l.position=n(l.position,$):l.position=0),0},p.$$arity=-2,p.$$parameters=[["req","pos"],["opt","whence"]]),e.defn(R,"$tell",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tell"),t.position},d.$$arity=0,d.$$parameters=[]),e.alias(R,"pos","tell"),e.alias(R,"pos=","seek"),e.defn(R,"$rewind",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rewind"),t.$seek(0)},h.$$arity=0,h.$$parameters=[]),e.defn(R,"$each_byte",f=function(){var t,r=this,n=f.$$p,$=n||i,s=i;f.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_byte"),!1===$||$===i||null==$)return r.$enum_for("each_byte");for(r.$check_readable(),s=r.position;(t=r["$eof?"]())===i||null==t||t.$$is_boolean&&1!=t;)$.$call(r.string["$[]"](s).$ord()),s=a(s,1);return r},f.$$arity=0,f.$$parameters=[["block","block"]]),e.defn(R,"$each_char",m=function(){var t,r=this,n=m.$$p,$=n||i,s=i;m.$$p=null;var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each_char"),!1===$||$===i||null==$)return r.$enum_for("each_char");for(r.$check_readable(),s=r.position;(t=r["$eof?"]())===i||null==t||t.$$is_boolean&&1!=t;)$.$call(r.string["$[]"](s)),s=a(s,1);return r},m.$$arity=0,m.$$parameters=[["block","block"]]),e.defn(R,"$write",g=function(t){var r=this,$=i,s=i,l=arguments.length;return 1!==l&&e.ac(l,1,this,"write"),r.$check_writable(),t=r.$String(t),r.string.$length()["$=="](r.position)?(r.string=a(r.string,t),r.position=a(r.position,t.$length())):($=r.string["$[]"](o(0,n(r.position,1),!1)),s=r.string["$[]"](o(a(r.position,t.$length()),-1,!1)),r.string=a(a($,t),s),r.position=a(r.position,t.$length()))},g.$$arity=1,g.$$parameters=[["req","string"]]),e.defn(R,"$read",b=function(t,r){var n,$=this,s=i,l=i;null==t&&(t=i),null==r&&(r=i);var c=arguments.length;return c>2&&e.ac(c,-1,this,"read"),$.$check_readable(),(n=$["$eof?"]())===i||null==n||n.$$is_boolean&&1!=n?(s=function(){return!1!==t&&t!==i&&null!=t?(l=$.string["$[]"]($.position,t),$.position=a($.position,t),l):(l=$.string["$[]"](o($.position,-1,!1)),$.position=$.string.$length(),l)}(),!1!==r&&r!==i&&null!=r?r.$write(s):s):i},b.$$arity=-1,b.$$parameters=[["opt","length"],["opt","outbuf"]]),e.defn(R,"$close",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close"),t.closed="both"},v.$$arity=0,v.$$parameters=[]),e.defn(R,"$close_read",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close_read"),t.closed["$=="]("write")?t.closed="both":t.closed="read"},y.$$arity=0,y.$$parameters=[]),e.defn(R,"$close_write",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close_write"),t.closed["$=="]("read")?t.closed="both":t.closed="write"},x.$$arity=0,x.$$parameters=[]),e.defn(R,"$closed?",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"closed?"),t.closed["$=="]("both")},k.$$arity=0,k.$$parameters=[]),e.defn(R,"$closed_read?",w=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"closed_read?"),!1!==(t=r.closed["$=="]("read"))&&t!==i&&null!=t?t:r.closed["$=="]("both")},w.$$arity=0,w.$$parameters=[]),e.defn(R,"$closed_write?",q=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"closed_write?"),!1!==(t=r.closed["$=="]("write"))&&t!==i&&null!=t?t:r.closed["$=="]("both")},q.$$arity=0,q.$$parameters=[]),e.defn(R,"$check_writable",S=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"check_writable"),(t=r["$closed_write?"]())===i||null==t||t.$$is_boolean&&1!=t?i:r.$raise(M.get("IOError"),"not opened for writing")},S.$$arity=0,S.$$parameters=[]),e.defn(R,"$check_readable",E=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"check_readable"),(t=r["$closed_read?"]())===i||null==t||t.$$is_boolean&&1!=t?i:r.$raise(M.get("IOError"),"not opened for reading")},E.$$arity=0,E.$$parameters=[]),i&&"check_readable"}($.base,$.get("IO"))},Opal.modules["rspec/core/formatters/base_formatter"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_accessor","$attr_reader","$new","$start_sync_output","$count","$group","$restore_sync_output","$private","$output_supports_sync","$sync","$output","$sync=","$!","$closed?","$respond_to?"]),r.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),t.$require("stringio"),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Core"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Formatters"),s=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var n,i,s,o,l,c,u,_=r=$(t,$super,"BaseFormatter",r),p=_.$$proto,d=_.$$scope;p.old_sync=a,d.get("Formatters").$register(_,"start","example_group_started","close"),_.$attr_accessor("example_group"),_.$attr_reader("output"),e.defn(_,"$initialize",n=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),n.output=!1!==(r=t)&&r!==a&&null!=r?r:d.get("StringIO").$new(),n.example_group=a},n.$$arity=1,n.$$parameters=[["req","output"]]),e.defn(_,"$start",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"start"),r.$start_sync_output(),r.example_count=t.$count()},i.$$arity=1,i.$$parameters=[["req","notification"]]),e.defn(_,"$example_group_started",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_started"),r.example_group=t.$group()},s.$$arity=1,s.$$parameters=[["req","notification"]]),e.defn(_,"$close",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"close"),t.$restore_sync_output()},o.$$arity=1,o.$$parameters=[["req","_notification"]]),_.$private(),e.defn(_,"$start_sync_output",l=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"start_sync_output"),(t=r.$output_supports_sync())===a||null==t||t.$$is_boolean&&1!=t?a:(t=[r.$output().$sync(),!0],r.old_sync=t[0],r.$output()["$sync="](t[1]),t)},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$restore_sync_output",c=function(){var t,r,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"restore_sync_output"),r=n.$output_supports_sync(),(t=!1!==r&&r!==a&&null!=r?n.$output()["$closed?"]()["$!"]():r)===a||null==t||t.$$is_boolean&&1!=t?a:(t=[n.old_sync],r=n.$output(),r["$sync="].apply(r,t),t[t.length-1])},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$output_supports_sync",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"output_supports_sync"),t.$output()["$respond_to?"]("sync=")},u.$$arity=0,u.$$parameters=[])}(s.base,null)}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/core/formatters/base_text_formatter"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.gvars;return e.add_stubs(["$require_rspec_core","$register","$puts","$output","$message","$empty?","$failure_notifications","$fully_formatted_failed_examples","$fully_formatted","$pending_examples","$fully_formatted_pending_examples","$seed_used?","$===","$closed?","$==","$close"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_formatter"),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/console_codes"),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Formatters"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_=a=n(t,$super,"BaseTextFormatter",a),p=(_.$$proto,_.$$scope);p.get("Formatters").$register(_,"message","dump_summary","dump_failures","dump_pending","seed"),e.defn(_,"$message",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"message"),r.$output().$puts(t.$message())},i.$$arity=1,i.$$parameters=[["req","notification"]]),e.defn(_,"$dump_failures",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"dump_failures"),(a=t.$failure_notifications()["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a?n.$output().$puts(t.$fully_formatted_failed_examples()):r},s.$$arity=1,s.$$parameters=[["req","notification"]]),e.defn(_,"$dump_summary",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_summary"),r.$output().$puts(t.$fully_formatted())},o.$$arity=1,o.$$parameters=[["req","summary"]]),e.defn(_,"$dump_pending",l=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"dump_pending"),(a=t.$pending_examples()["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a?n.$output().$puts(t.$fully_formatted_pending_examples()):r},l.$$arity=1,l.$$parameters=[["req","notification"]]),e.defn(_,"$seed",c=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"seed"),(a=t["$seed_used?"]())===r||null==a||a.$$is_boolean&&1!=a?r:n.$output().$puts(t.$fully_formatted())},c.$$arity=1,c.$$parameters=[["req","notification"]]),e.defn(_,"$close",u=function(){var t,a,n=this;null==$.stdout&&($.stdout=r);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"close"),(t=p.get("IO")["$==="](n.$output()))===r||null==t||t.$$is_boolean&&1!=t?r:(t=!1!==(a=n.$output()["$closed?"]())&&a!==r&&null!=a?a:n.$output()["$=="]($.stdout))===r||null==t||t.$$is_boolean&&1!=t?n.$output().$close():r},u.$$arity=1,u.$$parameters=[["req","_notification"]])}(o.base,o.get("BaseFormatter"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/formatters/console_codes"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$invert","$module_function","$respond_to?","$configuration","$to_s","$console_code_for","$configuration_color","$key?","$fetch","$color_enabled?","$__send__"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Core"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Formatters"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o,l=$=a(t,"ConsoleCodes"),c=(l.$$proto,l.$$scope);e.cdecl(c,"VT100_CODES",n(["black","red","green","yellow","blue","magenta","cyan","white","bold"],{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,bold:1})),e.cdecl(c,"VT100_CODE_VALUES",c.get("VT100_CODES").$invert()),l.$module_function(),e.defn(l,"$console_code_for",i=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"console_code_for"),(a=c.get("RSpec").$configuration()["$respond_to?"](t.$to_s()+"_color"))===r||null==a||a.$$is_boolean&&1!=a?(a=c.get("VT100_CODE_VALUES")["$key?"](t))===r||null==a||a.$$is_boolean&&1!=a?(a=(n=c.get("VT100_CODES")).$fetch,a.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"console_code_for")}return t.$console_code_for("white")},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n,t):t:i.$console_code_for(i.$configuration_color(t))},i.$$arity=1,i.$$parameters=[["req","code_or_symbol"]]),e.defn(l,"$wrap",s=function(t,a){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"wrap"),(n=c.get("RSpec").$configuration()["$color_enabled?"]())===r||null==n||n.$$is_boolean&&1!=n?t:"e["+$.$console_code_for(a)+"m"+t+"e[0m"},s.$$arity=2,s.$$parameters=[["req","text"],["req","code_or_symbol"]]),e.defn(l,"$configuration_color",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"configuration_color"),c.get("RSpec").$configuration().$__send__(t.$to_s()+"_color")},o.$$arity=1,o.$$parameters=[["req","code"]])}(s.base)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=e.top,i=e,s=e.nil,o=(e.breaker,e.slice,e.module),l=e.klass;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$new","$deprecation_stream","$===","$summary_stream","$include?","$+","$print_deprecation_message","$printer","$<<","$deprecation_summary","$message","$gsub","$deprecation_type_for","$output_formatted","$private","$>","$count","$lines","$*","$chomp","$deprecated","$replacement","$call_site","$type","$deprecation_message_for","$deprecation_formatter","$puts","$to_s","$zero?","$summarize","$[]=","$[]","$stash_deprecation_message","$<","$==","$too_many_warnings_message","$any?","$print_deferred_deprecation_warnings","$pluralize","$each","$sort_by","$to_proc","$keys","$raise","$sync=","$path"]),i.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),$.$require("set"),function($){var i,c=i=o($,"RSpec"),u=(c.$$proto,c.$$scope);!function($){var i,c=i=o($,"Core"),u=(c.$$proto,c.$$scope);!function($){var i,c=i=o($,"Formatters"),u=(c.$$proto,c.$$scope);!function($,$super){function i(){}var o,c,u,_,p,d,h,f,m,g,b=i=l($,$super,"DeprecationFormatter",i),v=b.$$proto,y=b.$$scope;v.printer=v.seen_deprecations=v.count=s,y.get("Formatters").$register(b,"deprecation","deprecation_summary"),b.$attr_reader("count","deprecation_stream","summary_stream"),e.defn(b,"$initialize",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.deprecation_stream=t,a.summary_stream=r,a.seen_deprecations=y.get("Set").$new(),a.count=0},o.$$arity=2,o.$$parameters=[["req","deprecation_stream"],["req","summary_stream"]]),e.alias(b,"output","deprecation_stream"),e.defn(b,"$printer",c=function(){var t,r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"printer"),!1!==(t=r.printer)&&t!==s&&null!=t?t:r.printer=function(){return a=r.$deprecation_stream(),y.get("File")["$==="](a)?y.get("ImmediatePrinter").$new(y.get("FileStream").$new(r.$deprecation_stream()),r.$summary_stream(),r):y.get("RaiseErrorStream")["$==="](a)?y.get("ImmediatePrinter").$new(r.$deprecation_stream(),r.$summary_stream(),r):y.get("DelayedPrinter").$new(r.$deprecation_stream(),r.$summary_stream(),r)}()},c.$$arity=0,c.$$parameters=[]),e.defn(b,"$deprecation",u=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"deprecation"),(a=n.seen_deprecations["$include?"](r))===s||null==a||a.$$is_boolean&&1!=a?(n.count=t(n.count,1),n.$printer().$print_deprecation_message(r),n.seen_deprecations["$<<"](r)):s},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(b,"$deprecation_summary",_=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"deprecation_summary"),t.$printer().$deprecation_summary()},_.$$arity=1,_.$$parameters=[["req","_notification"]]),e.defn(b,"$deprecation_message_for",p=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"deprecation_message_for"),(r=t.$message())===s||null==r||r.$$is_boolean&&1!=r?y.get("GeneratedDeprecationMessage").$new(t):y.get("SpecifiedDeprecationMessage").$new(t)},p.$$arity=1,p.$$parameters=[["req","data"]]),e.cdecl(y,"RAISE_ERROR_CONFIG_NOTICE","          |\n          |If you need more of the backtrace for any of these deprecations to\n          |identify where to make the necessary changes, you can configure\n          |`config.raise_errors_for_deprecations!`, and it will turn the\n          |deprecation warnings into errors, giving you the full backtrace.\n".$gsub(/^\s+\|/,"")),e.cdecl(y,"DEPRECATION_STREAM_NOTICE","Pass `--deprecation-out` or set `config.deprecation_stream` to a file for full output."),e.cdecl(y,"SpecifiedDeprecationMessage",(d=(h=y.get("Struct")).$new,d.$$p=(f=function(){var t,n,$,i,o,l=f.$$s||this;if(f.$$is_lambda||f.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"<class:DeprecationFormatter>")}return e.def(l,"$initialize",t=function(r){var a,n,$=this;t.$$p;t.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),$.message=r.$message(),(n=$,a=e.find_super_dispatcher($,"initialize",t,!1),a.$$p=null,a).call(n,$.$deprecation_type_for(r))},t.$$arity=1,t.$$parameters=[["req","data"]]),e.def(l,"$to_s",n=function(){var t=this;null==t.message&&(t.message=s);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.$output_formatted(t.message)},n.$$arity=0,n.$$parameters=[]),e.def(l,"$too_many_warnings_message",$=function(){var t=s,r=arguments.length;return 0!==r&&e.ac(r,0,this,"too_many_warnings_message"),t="Too many similar deprecation messages reported, disregarding further reports. ",t["$<<"](y.get("DEPRECATION_STREAM_NOTICE")),t},$.$$arity=0,$.$$parameters=[]),l.$private(),e.def(l,"$output_formatted",i=function(t){var n,$=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"output_formatted"),(n=r(t.$lines().$count(),1))===s||null==n||n.$$is_boolean&&1!=n?t:($=""+a("-",80))+"\n"+t.$chomp()+"\n"+$},i.$$arity=1,i.$$parameters=[["req","str"]]),e.def(l,"$deprecation_type_for",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"deprecation_type_for"),t.$message().$gsub(/(\w+\/)+\w+\.rb:\d+/,"")},o.$$arity=1,o.$$parameters=[["req","data"]]),s&&"deprecation_type_for"},f.$$s=b,f.$$arity=0,f.$$parameters=[],f),d).call(h,"type")),e.cdecl(y,"GeneratedDeprecationMessage",(d=(m=y.get("Struct")).$new,d.$$p=(g=function(){var t,r,a,n=g.$$s||this;if(g.$$is_lambda||g.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"<class:DeprecationFormatter>")}return e.def(n,"$initialize",t=function(r){var a,n,$=this;t.$$p;t.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),$.data=r,(n=$,a=e.find_super_dispatcher($,"initialize",t,!1),a.$$p=null,a).call(n,r.$deprecated())},t.$$arity=1,t.$$parameters=[["req","data"]]),e.def(n,"$to_s",r=function(){var t,r=this,a=s;null==r.data&&(r.data=s);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"to_s"),a=r.data.$deprecated()+" is deprecated.",(t=r.data.$replacement())===s||null==t||t.$$is_boolean&&1!=t||a["$<<"](" Use "+r.data.$replacement()+" instead."),(t=r.data.$call_site())===s||null==t||t.$$is_boolean&&1!=t||a["$<<"](" Called from "+r.data.$call_site()+"."),a},r.$$arity=0,r.$$parameters=[]),e.def(n,"$too_many_warnings_message",a=function(){var t=this,r=s,a=arguments.length;return 0!==a&&e.ac(a,0,this,"too_many_warnings_message"),r="Too many uses of deprecated '"+t.$type()+"'. ",r["$<<"](y.get("DEPRECATION_STREAM_NOTICE")),r},a.$$arity=0,a.$$parameters=[]),s&&"too_many_warnings_message"},g.$$s=b,g.$$arity=0,g.$$parameters=[],g),d).call(m,"type")),function(t,$super){function r(){}var a,n,$,i=r=l(t,$super,"ImmediatePrinter",r);i.$$proto,i.$$scope;i.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(i,"$initialize",a=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.deprecation_stream=t,n.summary_stream=r,n.deprecation_formatter=a},a.$$arity=3,a.$$parameters=[["req","deprecation_stream"],["req","summary_stream"],["req","deprecation_formatter"]]),e.defn(i,"$print_deprecation_message",n=function(t){var r=this,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"print_deprecation_message"),a=r.$deprecation_formatter().$deprecation_message_for(t),r.$deprecation_stream().$puts(a.$to_s())},n.$$arity=1,n.$$parameters=[["req","data"]]),e.defn(i,"$deprecation_summary",$=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"deprecation_summary"),(t=r.$deprecation_formatter().$count()["$zero?"]())===s||null==t||t.$$is_boolean&&1!=t?r.$deprecation_stream().$summarize(r.$summary_stream(),r.$deprecation_formatter().$count()):s},$.$$arity=0,$.$$parameters=[])}(y.base,null),function(r,$super){function a(){}var $,i,o,c,u,_=a=l(r,$super,"DelayedPrinter",a),p=_.$$proto,d=_.$$scope;p.seen_deprecations=p.deprecation_messages=s,e.cdecl(d,"TOO_MANY_USES_LIMIT",4),_.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(_,"$initialize",$=function(t,r,a){var n,$,i,o,l,c=this,u=arguments.length;return 3!==u&&e.ac(u,3,this,"initialize"),c.deprecation_stream=t,c.summary_stream=r,c.deprecation_formatter=a,c.seen_deprecations=(n=($=d.get("Hash")).$new,n.$$p=(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"initialize")}return 0},i.$$s=c,i.$$arity=0,i.$$parameters=[],i),n).call($),c.deprecation_messages=(n=(o=d.get("Hash")).$new,n.$$p=(l=function(t,r){l.$$s;if(null==t&&(t=s),null==r&&(r=s),l.$$is_lambda||l.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"initialize")}return t["$[]="](r,[])},l.$$s=c,l.$$arity=2,l.$$parameters=[["req","h"],["req","k"]],l),n).call(o)},$.$$arity=3,$.$$parameters=[["req","deprecation_stream"],["req","summary_stream"],["req","deprecation_formatter"]]),e.defn(_,"$print_deprecation_message",i=function(r){var a,n,$=this,i=s,o=arguments.length;return 1!==o&&e.ac(o,1,this,"print_deprecation_message"),i=$.$deprecation_formatter().$deprecation_message_for(r),a=i,n=$.seen_deprecations,n["$[]="](a,t(n["$[]"](a),1)),$.$stash_deprecation_message(i)},i.$$arity=1,i.$$parameters=[["req","data"]]),e.defn(_,"$stash_deprecation_message",o=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"stash_deprecation_message"),(r=n(a.seen_deprecations["$[]"](t),d.get("TOO_MANY_USES_LIMIT")))===s||null==r||r.$$is_boolean&&1!=r?a.seen_deprecations["$[]"](t)["$=="](d.get("TOO_MANY_USES_LIMIT"))?a.deprecation_messages["$[]"](t)["$<<"](t.$too_many_warnings_message()):s:a.deprecation_messages["$[]"](t)["$<<"](t.$to_s())},o.$$arity=1,o.$$parameters=[["req","deprecation_message"]]),e.defn(_,"$deprecation_summary",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"deprecation_summary"),(t=r.deprecation_messages["$any?"]())===s||null==t||t.$$is_boolean&&1!=t?s:(r.$print_deferred_deprecation_warnings(),r.$deprecation_stream().$puts(d.get("RAISE_ERROR_CONFIG_NOTICE")),r.$summary_stream().$puts("\n"+d.get("Helpers").$pluralize(r.$deprecation_formatter().$count(),"deprecation warning")+" total"))},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$print_deferred_deprecation_warnings",u=function(){var t,r,a,n,$,i=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"print_deferred_deprecation_warnings"),i.$deprecation_stream().$puts("\nDeprecation Warnings:\n\n"),(t=(r=(n=($=i.deprecation_messages.$keys()).$sort_by,n.$$p="type".$to_proc(),n).call($)).$each,t.$$p=(a=function(t){var r,n,$,i=a.$$s||this,o=s;if(null==i.deprecation_messages&&(i.deprecation_messages=s),null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"print_deferred_deprecation_warnings")}return o=i.deprecation_messages["$[]"](t),(r=(n=o).$each,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=s),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"print_deferred_deprecation_warnings")}return r.$deprecation_stream().$puts(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","msg"]],$),r).call(n),i.$deprecation_stream().$puts()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","deprecation"]],a),t).call(r)},u.$$arity=0,u.$$parameters=[])}(y.base,null),function(t,$super){function r(){}var a,n,$=r=l(t,$super,"RaiseErrorStream",r),i=($.$$proto,$.$$scope);e.defn($,"$puts",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"puts"),r.$raise(i.get("DeprecationError"),t)},a.$$arity=1,a.$$parameters=[["req","message"]]),e.defn($,"$summarize",n=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"summarize"),t.$puts("\n"+i.get("Helpers").$pluralize(r,"deprecation")+" found.")},n.$$arity=2,n.$$parameters=[["req","summary_stream"],["req","deprecation_count"]])}(y.base,null),function(t,$super){function r(){}var a,n,$,i=r=l(t,$super,"FileStream",r),o=i.$$proto,c=i.$$scope;o.file=s,e.defn(i,"$initialize",a=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),n.file=t,r=[!0],a=n.file,a["$sync="].apply(a,r),r[r.length-1]},a.$$arity=1,a.$$parameters=[["req","file"]]),e.defn(i,"$puts",n=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a.file).$puts.apply(t,e.to_a(r))},n.$$arity=-1,n.$$parameters=[["rest","args"]]),e.defn(i,"$summarize",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"summarize"),t.$puts("\n"+c.get("Helpers").$pluralize(r,"deprecation")+" logged to "+a.file.$path()),a.$puts(c.get("RAISE_ERROR_CONFIG_NOTICE"))},$.$$arity=2,$.$$parameters=[["req","summary_stream"],["req","deprecation_count"]])}(y.base,null)}(u.base,null)}(u.base),e.cdecl(u,"DeprecationError",u.get("Class").$new(u.get("StandardError")))}(u.base)}(i.base)},Opal.modules["rspec/core/formatters/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var i=(e.top,e),s=e.nil,o=(e.breaker,e.slice,e.module);return e.add_stubs(["$<","$>","$to_i","$/","$-","$*","$pluralize","$format_seconds","$%","$strip_trailing_zeroes","$sub","$empty?","$private_class_method","$==","$to_f"]),function(i){var l,c=l=o(i,"RSpec"),u=(c.$$proto,c.$$scope);!function(i){var l,c=l=o(i,"Core"),u=(c.$$proto,c.$$scope);!function(i){var l,c=l=o(i,"Formatters"),u=(c.$$proto,c.$$scope);!function(i){var l,c,u,_,p,d=l=o(i,"Helpers"),h=(d.$$proto,d.$$scope);e.cdecl(h,"SUB_SECOND_PRECISION",5),e.cdecl(h,"DEFAULT_PRECISION",2),e.defs(d,"$format_duration",c=function(i){var o,l=this,c=s,u=s,_=s,p=arguments.length;return 1!==p&&e.ac(p,1,this,"format_duration"),c=function(){return(o=t(i,1))===s||null==o||o.$$is_boolean&&1!=o?(o=t(i,120))===s||null==o||o.$$is_boolean&&1!=o?(o=t(i,300))===s||null==o||o.$$is_boolean&&1!=o?0:1:h.get("DEFAULT_PRECISION"):h.get("SUB_SECOND_PRECISION")}(),(o=r(i,60))===s||null==o||o.$$is_boolean&&1!=o?l.$pluralize(l.$format_seconds(i,c),"second"):(u=a(i.$to_i(),60).$to_i(),_=n(i,$(u,60)),l.$pluralize(u,"minute")+" "+l.$pluralize(l.$format_seconds(_,c),"second"))},c.$$arity=1,c.$$parameters=[["req","duration"]]),e.defs(d,"$format_seconds",u=function(r,a){var n,$,i=this,o=s;null==a&&(a=s);var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"format_seconds"),!1!==(n=a)&&n!==s&&null!=n||(a=function(){return($=t(r,1))===s||null==$||$.$$is_boolean&&1!=$?h.get("DEFAULT_PRECISION"):h.get("SUB_SECOND_PRECISION")}()),o=("%."+a+"f")["$%"](r),i.$strip_trailing_zeroes(o)},u.$$arity=-2,u.$$parameters=[["req","float"],["opt","precision"]]),e.defs(d,"$strip_trailing_zeroes",_=function(t){var r,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"strip_trailing_zeroes"),a=t.$sub(/[^1-9]+$/,""),(r=a["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r?a:"0"},_.$$arity=1,_.$$parameters=[["req","string"]]),d.$private_class_method("strip_trailing_zeroes"),e.defs(d,"$pluralize",p=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"pluralize"),t+" "+r+function(){return t.$to_f()["$=="](1)?s:"s"}()},p.$$arity=2,p.$$parameters=[["req","count"],["req","string"]])}(u.base)}(u.base)}(u.base)}(i.base)},Opal.modules["rspec/core/formatters/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,$=e,i=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$require","$include","$puts","$indentation_style","$h","$%","$[]","$==","$<<","$>","$flush","$private","$*","$-"]),n.$require("erb"),function(n){var $,l=$=s(n,"RSpec"),c=(l.$$proto,l.$$scope);!function(n){var $,l=$=s(n,"Core"),c=(l.$$proto,l.$$scope);!function(n){var $,l=$=s(n,"Formatters"),c=(l.$$proto,l.$$scope);!function(n,$super){function $(){}var s,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k=$=o(n,$super,"HtmlPrinter",$),w=k.$$proto,q=k.$$scope;w.output=i,k.$include(q.get("ERB").$$scope.get("Util")),e.defn(k,"$initialize",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.output=t},s.$$arity=1,s.$$parameters=[["req","output"]]),e.defn(k,"$print_html_start",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"print_html_start"),t.output.$puts(q.get("HTML_HEADER")),t.output.$puts(q.get("REPORT_HEADER"))},l.$$arity=0,l.$$parameters=[]),e.defn(k,"$print_example_group_end",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"print_example_group_end"),t.output.$puts("  </dl>"),t.output.$puts("</div>")},c.$$arity=0,c.$$parameters=[]),e.defn(k,"$print_example_group_start",u=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"print_example_group_start"),n.output.$puts('<div id="div_group_'+t+'" class="example_group passed">'),n.output.$puts("  <dl "+n.$indentation_style(a)+">"),n.output.$puts('  <dt id="example_group_'+t+'" class="passed">'+n.$h(r)+"</dt>")},u.$$arity=3,u.$$parameters=[["req","group_id"],["req","description"],["req","number_of_parents"]]),e.defn(k,"$print_example_passed",_=function(t,r){var a=this,n=i,$=arguments.length;return 2!==$&&e.ac($,2,this,"print_example_passed"),n="%.5f"["$%"](r),a.output.$puts('    <dd class="example passed"><span class="passed_spec_name">'+a.$h(t)+"</span><span class='duration'>"+n+"s</span></dd>")},_.$$arity=2,_.$$parameters=[["req","description"],["req","run_time"]]),e.defn(k,"$print_example_failed",p=function(t,r,a,n,$,s,o){var l=this,c=i;null==o&&(o=!1);var u=arguments.length;return(u<6||u>7)&&e.ac(u,-7,this,"print_example_failed"),c="%.5f"["$%"](a),l.output.$puts('    <dd class="example '+function(){return!1!==t&&t!==i&&null!=t?"pending_fixed":"failed"}()+'">'),l.output.$puts('      <span class="failed_spec_name">'+l.$h(r)+"</span>"),l.output.$puts('      <span class="duration">'+c+"s</span>"),l.output.$puts('      <div class="failure" id="failure_'+n+'">'),!1!==$&&$!==i&&null!=$&&(l.output.$puts('        <div class="message"><pre>'+l.$h($["$[]"]("message"))+"</pre></div>"),!1!==o&&o!==i&&null!=o?l.output.$puts('        <div class="backtrace"><pre>'+l.$h($["$[]"]("backtrace"))+"</pre></div>"):l.output.$puts('        <div class="backtrace"><pre>'+$["$[]"]("backtrace")+"</pre></div>")),!1!==s&&s!==i&&null!=s&&l.output.$puts(s),l.output.$puts("      </div>"),l.output.$puts("    </dd>")},p.$$arity=-7,p.$$parameters=[["req","pending_fixed"],["req","description"],["req","run_time"],["req","failure_id"],["req","exception"],["req","extra_content"],["opt","escape_backtrace"]]),e.defn(k,"$print_example_pending",d=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"print_example_pending"),a.output.$puts('    <dd class="example not_implemented"><span class="not_implemented_spec_name">'+a.$h(t)+" (PENDING: "+a.$h(r)+")</span></dd>")},d.$$arity=2,d.$$parameters=[["req","description"],["req","pending_message"]]),e.defn(k,"$print_summary",h=function(r,a,n,$){var s,o=this,l=i,c=i,u=arguments.length;return 4!==u&&e.ac(u,4,this,"print_summary"),l=a+" example"+function(){return a["$=="](1)?i:"s"}()+", ",l["$<<"](n+" failure"+function(){return n["$=="](1)?i:"s"}()),(s=t($,0))===i||null==s||s.$$is_boolean&&1!=s||l["$<<"](", "+$+" pending"),c="%.5f"["$%"](r),o.output.$puts('<script type="text/javascript">document.getElementById(\'duration\').innerHTML = "Finished in <strong>'+c+' seconds</strong>";</script>'),o.output.$puts('<script type="text/javascript">document.getElementById(\'totals\').innerHTML = "'+l+'";</script>'),o.output.$puts("</div>"),o.output.$puts("</div>"),o.output.$puts("</body>"),o.output.$puts("</html>")},h.$$arity=4,h.$$parameters=[["req","duration"],["req","example_count"],["req","failure_count"],["req","pending_count"]]),e.defn(k,"$flush",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"flush"),t.output.$flush()},f.$$arity=0,f.$$parameters=[]),e.defn(k,"$move_progress",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"move_progress"),r.output.$puts('    <script type="text/javascript">moveProgressBar(\''+t+"');</script>"),r.output.$flush()},m.$$arity=1,m.$$parameters=[["req","percent_done"]]),e.defn(k,"$make_header_red",g=function(){var t=this,r=arguments.length
;return 0!==r&&e.ac(r,0,this,"make_header_red"),t.output.$puts("    <script type=\"text/javascript\">makeRed('rspec-header');</script>")},g.$$arity=0,g.$$parameters=[]),e.defn(k,"$make_header_yellow",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"make_header_yellow"),t.output.$puts("    <script type=\"text/javascript\">makeYellow('rspec-header');</script>")},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$make_example_group_header_red",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"make_example_group_header_red"),r.output.$puts('    <script type="text/javascript">makeRed(\'div_group_'+t+"');</script>"),r.output.$puts('    <script type="text/javascript">makeRed(\'example_group_'+t+"');</script>")},v.$$arity=1,v.$$parameters=[["req","group_id"]]),e.defn(k,"$make_example_group_header_yellow",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"make_example_group_header_yellow"),r.output.$puts('    <script type="text/javascript">makeYellow(\'div_group_'+t+"');</script>"),r.output.$puts('    <script type="text/javascript">makeYellow(\'example_group_'+t+"');</script>")},y.$$arity=1,y.$$parameters=[["req","group_id"]]),k.$private(),e.defn(k,"$indentation_style",x=function(t){var n=arguments.length;return 1!==n&&e.ac(n,1,this,"indentation_style"),'style="margin-left: '+r(a(t,1),15)+'px;"'},x.$$arity=1,x.$$parameters=[["req","number_of_parents"]]),e.cdecl(q,"REPORT_HEADER",'<div class="rspec-report">\n\n<div id="rspec-header">\n  <div id="label">\n    <h1>RSpec Code Examples</h1>\n  </div>\n\n  <div id="display-filters">\n    <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>\n    <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>\n    <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>\n  </div>\n\n  <div id="summary">\n    <p id="totals">&#160;</p>\n    <p id="duration">&#160;</p>\n  </div>\n</div>\n\n\n<div class="results">\n'),e.cdecl(q,"GLOBAL_SCRIPTS","\nfunction addClass(element_id, classname) {\n  document.getElementById(element_id).className += (\" \" + classname);\n}\n\nfunction removeClass(element_id, classname) {\n  var elem = document.getElementById(element_id);\n  var classlist = elem.className.replace(classname,'');\n  elem.className = classlist;\n}\n\nfunction moveProgressBar(percentDone) {\n  document.getElementById(\"rspec-header\").style.width = percentDone +\"%\";\n}\n\nfunction makeRed(element_id) {\n  removeClass(element_id, 'passed');\n  removeClass(element_id, 'not_implemented');\n  addClass(element_id,'failed');\n}\n\nfunction makeYellow(element_id) {\n  var elem = document.getElementById(element_id);\n  if (elem.className.indexOf(\"failed\") == -1) {  // class doesn't includes failed\n    if (elem.className.indexOf(\"not_implemented\") == -1) { // class doesn't include not_implemented\n      removeClass(element_id, 'passed');\n      addClass(element_id,'not_implemented');\n    }\n  }\n}\n\nfunction apply_filters() {\n  var passed_filter = document.getElementById('passed_checkbox').checked;\n  var failed_filter = document.getElementById('failed_checkbox').checked;\n  var pending_filter = document.getElementById('pending_checkbox').checked;\n\n  assign_display_style(\"example passed\", passed_filter);\n  assign_display_style(\"example failed\", failed_filter);\n  assign_display_style(\"example not_implemented\", pending_filter);\n\n  assign_display_style_for_group(\"example_group passed\", passed_filter);\n  assign_display_style_for_group(\"example_group not_implemented\", pending_filter, pending_filter || passed_filter);\n  assign_display_style_for_group(\"example_group failed\", failed_filter, failed_filter || pending_filter || passed_filter);\n}\n\nfunction get_display_style(display_flag) {\n  var style_mode = 'none';\n  if (display_flag == true) {\n    style_mode = 'block';\n  }\n  return style_mode;\n}\n\nfunction assign_display_style(classname, display_flag) {\n  var style_mode = get_display_style(display_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    elems[i].style.display = style_mode;\n  }\n}\n\nfunction assign_display_style_for_group(classname, display_flag, subgroup_flag) {\n  var display_style_mode = get_display_style(display_flag);\n  var subgroup_style_mode = get_display_style(subgroup_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    var style_mode = display_style_mode;\n    if ((display_flag != subgroup_flag) && (elems[i].getElementsByTagName('dt')[0].innerHTML.indexOf(\", \") != -1)) {\n      elems[i].style.display = subgroup_style_mode;\n    } else {\n      elems[i].style.display = display_style_mode;\n    }\n  }\n}\n"),e.cdecl(q,"GLOBAL_STYLES",'#rspec-header {\n  background: #65C400; color: #fff; height: 4em;\n}\n\n.rspec-report h1 {\n  margin: 0px 10px 0px 10px;\n  padding: 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  font-size: 1.8em;\n  position: absolute;\n}\n\n#label {\n  float:left;\n}\n\n#display-filters {\n  float:left;\n  padding: 28px 0 0 40%;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n}\n\n#summary {\n  float:right;\n  padding: 5px 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  text-align: right;\n}\n\n#summary p {\n  margin: 0 0 0 2px;\n}\n\n#summary #totals {\n  font-size: 1.2em;\n}\n\n.example_group {\n  margin: 0 10px 5px;\n  background: #fff;\n}\n\ndl {\n  margin: 0; padding: 0 0 5px;\n  font: normal 11px "Lucida Grande", Helvetica, sans-serif;\n}\n\ndt {\n  padding: 3px;\n  background: #65C400;\n  color: #fff;\n  font-weight: bold;\n}\n\ndd {\n  margin: 5px 0 5px 5px;\n  padding: 3px 3px 3px 18px;\n}\n\ndd .duration {\n  padding-left: 5px;\n  text-align: right;\n  right: 0px;\n  float:right;\n}\n\ndd.example.passed {\n  border-left: 5px solid #65C400;\n  border-bottom: 1px solid #65C400;\n  background: #DBFFB4; color: #3D7700;\n}\n\ndd.example.not_implemented {\n  border-left: 5px solid #FAF834;\n  border-bottom: 1px solid #FAF834;\n  background: #FCFB98; color: #131313;\n}\n\ndd.example.pending_fixed {\n  border-left: 5px solid #0000C2;\n  border-bottom: 1px solid #0000C2;\n  color: #0000C2; background: #D3FBFF;\n}\n\ndd.example.failed {\n  border-left: 5px solid #C20000;\n  border-bottom: 1px solid #C20000;\n  color: #C20000; background: #FFFBD3;\n}\n\n\ndt.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\ndt.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\ndt.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n#rspec-header.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\n#rspec-header.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n#rspec-header.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n.backtrace {\n  color: #000;\n  font-size: 12px;\n}\n\na {\n  color: #BE5C00;\n}\n\n/* Ruby code, style similar to vibrant ink */\n.ruby {\n  font-size: 12px;\n  font-family: monospace;\n  color: white;\n  background-color: black;\n  padding: 0.1em 0 0.2em 0;\n}\n\n.ruby .keyword { color: #FF6600; }\n.ruby .constant { color: #339999; }\n.ruby .attribute { color: white; }\n.ruby .global { color: white; }\n.ruby .module { color: white; }\n.ruby .class { color: white; }\n.ruby .string { color: #66FF00; }\n.ruby .ident { color: white; }\n.ruby .method { color: #FFCC00; }\n.ruby .number { color: white; }\n.ruby .char { color: white; }\n.ruby .comment { color: #9933CC; }\n.ruby .symbol { color: white; }\n.ruby .regex { color: #44B4CC; }\n.ruby .punct { color: white; }\n.ruby .escape { color: white; }\n.ruby .interp { color: white; }\n.ruby .expr { color: white; }\n\n.ruby .offending { background-color: gray; }\n.ruby .linenum {\n  width: 75px;\n  padding: 0.1em 1em 0.2em 0;\n  color: #000000;\n  background-color: #FFFBD3;\n}\n'),e.cdecl(q,"HTML_HEADER",'<!DOCTYPE html>\n<html lang=\'en\'>\n<head>\n  <title>RSpec results</title>\n  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n  <meta http-equiv="Expires" content="-1" />\n  <meta http-equiv="Pragma" content="no-cache" />\n  <style type="text/css">\n  body {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    font-size: 80%;\n  }\n  </style>\n  <script type="text/javascript">\n    // <![CDATA[\n'+q.get("GLOBAL_SCRIPTS")+'\n    // ]]>\n  </script>\n  <style type="text/css">\n'+q.get("GLOBAL_STYLES")+"\n  </style>\n</head>\n<body>\n")}(c.base,null)}(c.base)}(c.base)}($.base)},Opal.modules["rspec/core/hooks"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$register","$to_proc","$hooks","$alias_method","$new","$private","$attr_reader","$all_apply?","$options","$instance_exec","$block","$instance_exec_with_rescue","$message","$reporter","$configuration","$class","$first","$backtrace","$executed?","$mark_skipped!","$hook_description","$method_defined?","$relative_path","$join","$source_location","$each","$define_method","$__send__","$public_instance_methods","$protected","$with","$select","$options_apply?","$run","$call","$inject","$wrap","$execute_with","$empty?","$shift","$[]","$process","$for","$flat_map","$parent_groups","$scope_and_options_from","$dry_run?","$find_hook","$[]=","$==","$any?","$include?","$<<","$extract_scope_from","$build_hash_from","$known_scope?","$normalized_scope_for","$is_a?","$keys","$raise","$===","$before_context_hooks_for","$after_context_hooks_for","$around_example_hooks_for","$before_example_hooks_for","$after_example_hooks_for","$reverse"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t){var i,s,o,l,c,u,_,p=i=a(t,"Hooks"),d=(p.$$proto,p.$$scope);e.defn(p,"$before",s=function(){var t,a,n,$=this,i=s.$$p,o=i||r,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return s.$$p=null,(t=(a=$.$hooks()).$register,t.$$p=o.$to_proc(),t).apply(a,["append","before"].concat(e.to_a(n)))},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]]),p.$alias_method("append_before","before"),e.defn(p,"$prepend_before",o=function(){var t,a,n,$=this,i=o.$$p,s=i||r,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return o.$$p=null,(t=(a=$.$hooks()).$register,t.$$p=s.$to_proc(),t).apply(a,["prepend","before"].concat(e.to_a(n)))},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.defn(p,"$after",l=function(){var t,a,n,$=this,i=l.$$p,s=i||r,o=arguments.length,c=o-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<o;u++)n[u-0]=arguments[u];return l.$$p=null,(t=(a=$.$hooks()).$register,t.$$p=s.$to_proc(),t).apply(a,["prepend","after"].concat(e.to_a(n)))},l.$$arity=-1,l.$$parameters=[["rest","args"],["block","block"]]),p.$alias_method("prepend_after","after"),e.defn(p,"$append_after",c=function(){var t,a,n,$=this,i=c.$$p,s=i||r,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var u=0;u<o;u++)n[u-0]=arguments[u];return c.$$p=null,(t=(a=$.$hooks()).$register,t.$$p=s.$to_proc(),t).apply(a,["append","after"].concat(e.to_a(n)))},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.defn(p,"$around",u=function(){var t,a,n,$=this,i=u.$$p,s=i||r,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return u.$$p=null,(t=(a=$.$hooks()).$register,t.$$p=s.$to_proc(),t).apply(a,["prepend","around"].concat(e.to_a(n)))},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),e.defn(p,"$hooks",_=function(){var t,a=this;null==a.hooks&&(a.hooks=r);var $=arguments.length;return 0!==$&&e.ac($,0,this,"hooks"),!1!==(t=a.hooks)&&t!==r&&null!=t?t:a.hooks=d.get("HookCollections").$new(a,n(["around","before","after"],{around:n(["example"],{example:d.get("AroundHookCollection").$new()}),before:n(["example","context","suite"],{example:d.get("HookCollection").$new(),context:d.get("HookCollection").$new(),suite:d.get("HookCollection").$new()}),after:n(["example","context","suite"],{example:d.get("HookCollection").$new(),context:d.get("HookCollection").$new(),suite:d.get("HookCollection").$new()})}))},_.$$arity=0,_.$$parameters=[]),p.$private(),function(t,$super){function r(){}var a,n,i=r=$(t,$super,"Hook",r);i.$$proto,i.$$scope;i.$attr_reader("block","options"),e.defn(i,"$initialize",a=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.block=t,a.options=r},a.$$arity=2,a.$$parameters=[["req","block"],["req","options"]]),e.defn(i,"$options_apply?",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_apply?"),t["$all_apply?"](r.$options())},n.$$arity=1,n.$$parameters=[["req","example_or_group"]])}(d.base,null),function(t,$super){function r(){}var a,n=r=$(t,$super,"BeforeHook",r);n.$$proto,n.$$scope;e.defn(n,"$run",a=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"run"),(r=(a=t).$instance_exec,r.$$p=n.$block().$to_proc(),r).call(a,t)},a.$$arity=1,a.$$parameters=[["req","example"]])}(d.base,d.get("Hook")),function(t,$super){function r(){}var a,n=r=$(t,$super,"AfterHook",r);n.$$proto,n.$$scope;e.defn(n,"$run",a=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"run"),(r=(a=t).$instance_exec_with_rescue,r.$$p=n.$block().$to_proc(),r).call(a,"in an after hook")},a.$$arity=1,a.$$parameters=[["req","example"]])}(d.base,d.get("Hook")),function(t,$super){function a(){}var n,i=a=$(t,$super,"AfterContextHook",a),s=(i.$$proto,i.$$scope);e.defn(i,"$run",n=function(t){var a,n,$=this,i=r,o=arguments.length;1!==o&&e.ac(o,1,this,"run");try{return(a=(n=t).$instance_exec,a.$$p=$.$block().$to_proc(),a).call(n,t)}catch(t){if(!e.rescue(t,[s.get("Exception")]))throw t;i=t;try{return s.get("RSpec").$configuration().$reporter().$message("\nAn error occurred in an `after(:context)` hook.\n  "+i.$class()+": "+i.$message()+"\n  occurred at "+i.$backtrace().$first()+"\n\n")}finally{e.pop_exception()}}},n.$$arity=1,n.$$parameters=[["req","example"]])}(d.base,d.get("Hook")),function(t,$super){function a(){}var n,i,s,o,l=a=$(t,$super,"AroundHook",a),c=(l.$$proto,l.$$scope);e.defn(l,"$execute_with",n=function(t,a){var n,$,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"execute_with"),(n=($=t).$instance_exec,n.$$p=i.$block().$to_proc(),n).call($,a),(n=a["$executed?"]())===r||null==n||n.$$is_boolean&&1!=n?c.get("Pending")["$mark_skipped!"](t,i.$hook_description()+" did not execute the example"):r},n.$$arity=2,n.$$parameters=[["req","example"],["req","procsy"]]),(i=c.get("Proc")["$method_defined?"]("source_location"))===r||null==i||i.$$is_boolean&&1!=i?e.defn(l,"$hook_description",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_description"),"around hook"},o.$$arity=0,o.$$parameters=[]):e.defn(l,"$hook_description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hook_description"),"around hook at "+c.get("Metadata").$relative_path(t.$block().$source_location().$join(":"))},s.$$arity=0,s.$$parameters=[])}(d.base,d.get("Hook")),function(t,$super){function a(){}var n,i,s,o,l=a=$(t,$super,"BaseHookCollection",a),c=(l.$$proto,l.$$scope);(n=(i=c.get("Array").$public_instance_methods(!1)).$each,n.$$p=(s=function(t){var a,n,$,i=s.$$s||this;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"<class:BaseHookCollection>")}return(a=(n=i).$define_method,a.$$p=($=function(){var a,n,i,s,o=$.$$s||this;a=$.$$p||r,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return(i=(s=o.$hooks()).$__send__,i.$$p=a.$to_proc(),i).apply(s,[t].concat(e.to_a(n)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","a"],["block","b"]],$),a).call(n,t)},s.$$s=l,s.$$arity=1,s.$$parameters=[["req","name"]],s),n).call(i),l.$attr_reader("hooks"),l.$protected("hooks"),e.alias(l,"append","push"),e.alias(l,"prepend","unshift"),e.defn(l,"$initialize",o=function(t){var r=this;null==t&&(t=[]);var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),r.hooks=t},o.$$arity=-1,o.$$parameters=[["opt","hooks"]])}(d.base,null),function(t,$super){function a(){}var n,i,s,o=a=$(t,$super,"HookCollection",a);o.$$proto,o.$$scope;e.defn(o,"$for",n=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"for"),i.$class().$new((a=(n=i.$hooks()).$select,a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"for")}return a["$options_apply?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","hook"]],$),a).call(n)).$with(t)},n.$$arity=1,n.$$parameters=[["req","example_or_group"]]),e.defn(o,"$with",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"with"),r.example=t,r},i.$$arity=1,i.$$parameters=[["req","example"]]),e.defn(o,"$run",s=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"run"),(t=(a=$.$hooks()).$each,t.$$p=(n=function(t){var a=n.$$s||this;if(null==a.example&&(a.example=r),null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return t.$run(a.example)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","h"]],n),t).call(a)},s.$$arity=0,s.$$parameters=[])}(d.base,d.get("BaseHookCollection")),function(t,$super){function a(){}var n,i,s,o=a=$(t,$super,"AroundHookCollection",a),l=o.$$proto;o.$$scope;l.initial_procsy=r,e.defn(o,"$for",n=function(t,a){var n,$,i,s=this;null==a&&(a=r);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"for"),s.$class().$new((n=($=s.$hooks()).$select,n.$$p=(i=function(a){i.$$s;if(null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"for")}return a["$options_apply?"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","hook"]],i),n).call($)).$with(t,a)},n.$$arity=-2,n.$$parameters=[["req","example"],["opt","initial_procsy"]]),e.defn(o,"$with",i=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"with"),a.example=t,a.initial_procsy=r,a},i.$$arity=2,i.$$parameters=[["req","example"],["req","initial_procsy"]]),e.defn(o,"$run",s=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"run"),(t=(a=$.$hooks()).$inject,t.$$p=(n=function(t,a){var $,i,s,o=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"run")}return($=(i=t).$wrap,$.$$p=(s=function(){var n=s.$$s||this;if(null==n.example&&(n.example=r),s.$$is_lambda||s.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"run")}return a.$execute_with(n.example,t)},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),$).call(i)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","procsy"],["req","around_hook"]],n),t).call(a,$.initial_procsy).$call()},s.$$arity=0,s.$$parameters=[])}(d.base,d.get("BaseHookCollection")),function(t,$super){function a(){}var n,i,s=a=$(t,$super,"GroupHookCollection",a),o=s.$$proto;s.$$scope;o.group=r,e.defn(s,"$for",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"for"),r.group=t,r},n.$$arity=1,n.$$parameters=[["req","group"]]),e.defn(s,"$run",i=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"run"),function(){for(;(t=a.$hooks()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t;)a.$hooks().$shift().$run(a.group);return r}()},i.$$arity=0,i.$$parameters=[])}(d.base,d.get("BaseHookCollection")),function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O=a=$(t,$super,"HookCollections",a),M=O.$$proto,A=O.$$scope;M.data=M.owner=r,e.defn(O,"$initialize",i=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.owner=t,a.data=r},i.$$arity=2,i.$$parameters=[["req","owner"],["req","data"]]),e.defn(O,"$[]",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.data["$[]"](t)},s.$$arity=1,s.$$parameters=[["req","key"]]),e.defn(O,"$register_globals",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"register_globals"),a.$process(t,r,"before","example"),a.$process(t,r,"after","example"),a.$process(t,r,"around","example"),a.$process(t,r,"before","context"),a.$process(t,r,"after","context")},o.$$arity=2,o.$$parameters=[["req","host"],["req","globals"]]),e.defn(O,"$around_example_hooks_for",l=function(t,a){var n,$,i,s=this;null==a&&(a=r);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"around_example_hooks_for"),A.get("AroundHookCollection").$new((n=($=A.get("FlatMap")).$flat_map,n.$$p=(i=function(t){i.$$s;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"around_example_hooks_for")}return t.$hooks()["$[]"]("around")["$[]"]("example")},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","a"]],i),n).call($,s.owner.$parent_groups())).$for(t,a)},l.$$arity=-2,l.$$parameters=[["req","example"],["opt","initial_procsy"]]),e.defn(O,"$register",c=function(t,a){var n,$,i,s,o=this,l=c.$$p,u=l||r,_=r,p=r,d=arguments.length,h=d-2;h<0&&(h=0),s=new Array(h);for(var f=2;f<d;f++)s[f-2]=arguments[f];c.$$p=null;var m=arguments.length;return m<2&&e.ac(m,-3,this,"register"),$=(i=o).$scope_and_options_from.apply(i,e.to_a(s)),n=e.to_ary($),_=null==n[0]?r:n[0],p=null==n[1]?r:n[1],o["$[]"](a)["$[]"](_).$__send__(t,A.get("HOOK_TYPES")["$[]"](a)["$[]"](_).$new(u,p))},c.$$arity=-3,c.$$parameters=[["req","prepend_or_append"],["req","hook"],["rest","args"],["block","block"]]),e.defn(O,"$run",u=function(t,a,n,$){var i,s=this;null==$&&($=r);var o=arguments.length;return(o<3||o>4)&&e.ac(o,-4,this,"run"),(i=A.get("RSpec").$configuration()["$dry_run?"]())===r||null==i||i.$$is_boolean&&1!=i?s.$find_hook(t,a,n,$).$run():r},u.$$arity=-4,u.$$parameters=[["req","hook"],["req","scope"],["req","example_or_group"],["opt","initial_procsy"]]),e.cdecl(A,"SCOPES",["example","context","suite"]),e.cdecl(A,"SCOPE_ALIASES",n(["each","all"],{each:"example",all:"context"})),e.cdecl(A,"HOOK_TYPES",n(["before","after","around"],{before:(_=(p=A.get("Hash")).$new,_.$$p=(d=function(){d.$$s;if(d.$$is_lambda||d.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return A.get("BeforeHook")},d.$$s=O,d.$$arity=0,d.$$parameters=[],d),_).call(p),after:(_=(h=A.get("Hash")).$new,_.$$p=(f=function(){f.$$s;if(f.$$is_lambda||f.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return A.get("AfterHook")},f.$$s=O,f.$$arity=0,f.$$parameters=[],f),_).call(h),around:(_=(m=A.get("Hash")).$new,_.$$p=(g=function(){g.$$s;if(g.$$is_lambda||g.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return A.get("AroundHook")},g.$$s=O,g.$$arity=0,g.$$parameters=[],g),_).call(m)})),A.get("HOOK_TYPES")["$[]"]("after")["$[]="]("context",A.get("AfterContextHook")),O.$private(),e.defn(O,"$process",b=function(t,a,n,$){var i,s,o,l=this,c=arguments.length;return 4!==c&&e.ac(c,4,this,"process"),(i=(s=a["$[]"](n)["$[]"]($)).$each,i.$$p=(o=function(a){var i,s,l,c,u=o.$$s||this;if(null==a&&(a=r),o.$$is_lambda||o.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"process")}return(i=!1!==(s=$["$=="]("example"))&&s!==r&&null!=s?s:a["$options_apply?"](t))===r||null==i||i.$$is_boolean&&1!=i?r:(i=(s=(l=t.$parent_groups())["$any?"],s.$$p=(c=function(t){c.$$s;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"process")}return t.$hooks()["$[]"](n)["$[]"]($)["$include?"](a)},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","a"]],c),s).call(l))===r||null==i||i.$$is_boolean&&1!=i?u["$[]"](n)["$[]"]($)["$<<"](a):r},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","hook"]],o),i).call(s)},b.$$arity=4,b.$$parameters=[["req","host"],["req","globals"],["req","position"],["req","scope"]]),e.defn(O,"$scope_and_options_from",v=function(){var e,t=this,a=r,n=r,$=arguments.length,i=$-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<$;s++)e[s-0]=arguments[s];return a=t.$extract_scope_from(e),n=A.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),[a,n]},v.$$arity=-1,v.$$parameters=[["rest","args"]]),e.defn(O,"$extract_scope_from",y=function(t){var a,n,$,i,s=this,o=r,l=arguments.length;return 1!==l&&e.ac(l,1,this,"extract_scope_from"),(a=s["$known_scope?"](t.$first()))===r||null==a||a.$$is_boolean&&1!=a?(a=(n=($=t)["$any?"],n.$$p=(i=function(t){i.$$s;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"extract_scope_from")}return t["$is_a?"](A.get("Symbol"))},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","a"]],i),n).call($))===r||null==a||a.$$is_boolean&&1!=a?"example":(o="You must explicitly give a scope ("+A.get("SCOPES").$join(", ")+") or scope alias ("+A.get("SCOPE_ALIASES").$keys().$join(", ")+") when using symbols as metadata for a hook.",s.$raise(A.get("ArgumentError").$new(o))):s.$normalized_scope_for(t.$shift())},y.$$arity=1,y.$$parameters=[["req","args"]]),e.defn(O,"$known_scope?",x=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"known_scope?"),!1!==(a=A.get("SCOPES")["$include?"](t))&&a!==r&&null!=a?a:A.get("SCOPE_ALIASES").$keys()["$include?"](t)},x.$$arity=1,x.$$parameters=[["req","scope"]]),e.defn(O,"$normalized_scope_for",k=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"normalized_scope_for"),!1!==(a=A.get("SCOPE_ALIASES")["$[]"](t))&&a!==r&&null!=a?a:t},k.$$arity=1,k.$$parameters=[["req","scope"]]),e.defn(O,"$find_hook",w=function(t,a,n,$){var i=this,s=r,o=arguments.length;return 4!==o&&e.ac(o,4,this,"find_hook"),function(){return s=[t,a],["before","context"]["$==="](s)?i.$before_context_hooks_for(n):["after","context"]["$==="](s)?i.$after_context_hooks_for(n):["around","example"]["$==="](s)?i.$around_example_hooks_for(n,$):["before","example"]["$==="](s)?i.$before_example_hooks_for(n):["after","example"]["$==="](s)?i.$after_example_hooks_for(n):["before","suite"]["$==="](s)||["after","suite"]["$==="](s)?i["$[]"](t)["$[]"]("suite").$with(n):r}()},w.$$arity=4,w.$$parameters=[["req","hook"],["req","scope"],["req","example_or_group"],["req","initial_procsy"]]),e.defn(O,"$before_context_hooks_for",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"before_context_hooks_for"),A.get("GroupHookCollection").$new(r["$[]"]("before")["$[]"]("context")).$for(t)},q.$$arity=1,q.$$parameters=[["req","group"]]),e.defn(O,"$after_context_hooks_for",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"after_context_hooks_for"),A.get("GroupHookCollection").$new(r["$[]"]("after")["$[]"]("context")).$for(t)},S.$$arity=1,S.$$parameters=[["req","group"]]),e.defn(O,"$before_example_hooks_for",E=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"before_example_hooks_for"),A.get("HookCollection").$new((a=(n=A.get("FlatMap")).$flat_map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"before_example_hooks_for")}return t.$hooks()["$[]"]("before")["$[]"]("example")},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","a"]],$),a).call(n,i.owner.$parent_groups().$reverse())).$for(t)},E.$$arity=1,E.$$parameters=[["req","example"]]),e.defn(O,"$after_example_hooks_for",R=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"after_example_hooks_for"),A.get("HookCollection").$new((a=(n=A.get("FlatMap")).$flat_map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"after_example_hooks_for")}return t.$hooks()["$[]"]("after")["$[]"]("example")},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","a"]],$),a).call(n,i.owner.$parent_groups())).$for(t)},R.$$arity=1,R.$$parameters=[["req","example"]])}(d.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/memoized_helpers"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$fetch","$[]=","$__memoized","$described_class","$first","$metadata","$class","$===","$new","$handle_matcher","$subject","$expect","$private","$instance_exec","$==","$raise","$article","$hook_expression","$first_non_rspec_line","$hook_intention","$nil?","$__send__","$to_proc","$module_for","$arity","$define_method","$current_example","$let","$before","$alias_method","$get_constant_or_yield","$include","$const_set","$method","$const_defined?","$const_get"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t){var i,s,o,l,c,u,_,p,d,h,f=i=a(t,"MemoizedHelpers"),m=(f.$$proto,f.$$scope);e.defn(f,"$subject",s=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"subject"),(t=(a=$.$__memoized()).$fetch,t.$$p=(n=function(){var t,a=n.$$s||this,$=r;if(n.$$is_lambda||n.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"subject")}return a.$__memoized()["$[]="]("subject",function(){return $=!1!==(t=a.$described_class())&&t!==r&&null!=t?t:a.$class().$metadata().$fetch("description_args").$first(),(t=m.get("Class")["$==="]($))===r||null==t||t.$$is_boolean&&1!=t?$:$.$new()}())},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a,"subject")},s.$$arity=0,s.$$parameters=[]),e.defn(f,"$should",o=function(t,a){var n=this;null==t&&(t=r),null==a&&(a=r);var $=arguments.length;return $>2&&e.ac($,-1,this,"should"),m.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler").$handle_matcher(n.$subject(),t,a)},o.$$arity=-1,o.$$parameters=[["opt","matcher"],["opt","message"]]),e.defn(f,"$should_not",l=function(t,a){var n=this;null==t&&(t=r),null==a&&(a=r);var $=arguments.length;return $>2&&e.ac($,-1,this,"should_not"),m.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler").$handle_matcher(n.$subject(),t,a)},l.$$arity=-1,l.$$parameters=[["opt","matcher"],["opt","message"]]),e.defn(f,"$is_expected",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"is_expected"),t.$expect(t.$subject())},c.$$arity=0,c.$$parameters=[]),f.$private(),e.defn(f,"$__memoized",u=function(){var t,a=this;null==a.__memoized&&(a.__memoized=r);var $=arguments.length;return 0!==$&&e.ac($,0,this,"__memoized"),!1!==(t=a.__memoized)&&t!==r&&null!=t?t:a.__memoized=n([],{})},u.$$arity=0,u.$$parameters=[]),function(t,$super){function a(){}var n,i,s=a=$(t,$super,"ContextHookMemoizedHash",a),o=(s.$$proto,s.$$scope);e.defs(s,"$isolate_for_context_hook",n=function(t){var a,$,i,s=this,o=n.$$p,l=o||r,c=r;n.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"isolate_for_context_hook"),c=s,(a=($=t).$instance_exec,a.$$p=(i=function(){var t=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"isolate_for_context_hook")}t.__memoized=c;try{return e.yieldX(l,[])}finally{t.__memoized=r}},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),a).call($)},n.$$arity=1,n.$$parameters=[["req","example_group_instance"]]),e.defs(s,"$fetch",i=function(t){var a=this,n=(i.$$p,r);i.$$p=null;var $=arguments.length;return 1!==$&&e.ac($,1,this,"fetch"),n=function(){return t["$=="]("subject")?"subject":"let declaration `"+t+"`"}(),a.$raise(n+" accessed in "+a.$article()+" "+a.$hook_expression()+" hook at:\n  "+o.get("CallerFilter").$first_non_rspec_line()+"\n\n`let` and `subject` declarations are not intended to be called\nin "+a.$article()+" "+a.$hook_expression()+" hook, as they exist to define state that\nis reset between each example, while "+a.$hook_expression()+" exists to\n"+a.$hook_intention()+".\n")},i.$$arity=1,i.$$parameters=[["req","key"],["block","_block"]]),function(t,$super){function r(){}var a,n,i,s=r=$(t,$super,"Before",r);s.$$proto,s.$$scope;e.defs(s,"$hook_expression",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_expression"),"`before(:context)`"},a.$$arity=0,a.$$parameters=[]),e.defs(s,"$article",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"article"),"a"},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$hook_intention",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_intention"),"define state that is shared across examples in an example group"},i.$$arity=0,i.$$parameters=[])}(o.base,s),function(t,$super){function r(){}var a,n,i,s=r=$(t,$super,"After",r);s.$$proto,s.$$scope;e.defs(s,"$hook_expression",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_expression"),"`after(:context)`"},a.$$arity=0,a.$$parameters=[]),e.defs(s,"$article",n=function(){
var t=arguments.length;return 0!==t&&e.ac(t,0,this,"article"),"an"},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$hook_intention",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_intention"),"cleanup state that is shared across examples in an example group"},i.$$arity=0,i.$$parameters=[])}(o.base,s)}(m.base,null),function(t){var n,$,i,s,o,l=n=a(t,"ClassMethods"),c=(l.$$proto,l.$$scope);e.defn(l,"$let",$=function(t){var a,n,i,s,o,l,u=this,_=$.$$p,p=_||r;$.$$p=null;var d=arguments.length;return 1!==d&&e.ac(d,1,this,"let"),(a=p["$nil?"]())===r||null==a||a.$$is_boolean&&1!=a||u.$raise("#let or #subject called without a block"),(a=(n=c.get("MemoizedHelpers").$module_for(u)).$__send__,a.$$p=p.$to_proc(),a).call(n,"define_method",t),p.$arity()["$=="](1)?(a=(i=u).$define_method,a.$$p=(s=function(){var a,n,i,o=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"let")}return(a=(n=o.$__memoized()).$fetch,a.$$p=(i=function(t){var a,n,o=i.$$s||this;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"let")}return o.$__memoized()["$[]="](t,(n=o,a=e.find_iter_super_dispatcher(o,"let",i.$$def||s.$$def||$,!1,!1),a.$$p=r.$to_proc(),a).call(n,c.get("RSpec").$current_example()))},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","k"]],i),a).call(n,t)},s.$$s=u,s.$$arity=0,s.$$parameters=[],s),a).call(i,t):(a=(o=u).$define_method,a.$$p=(l=function(){var a,n,i,s=l.$$s||this;if(l.$$is_lambda||l.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"let")}return(a=(n=s.$__memoized()).$fetch,a.$$p=(i=function(t){var a,n,s=i.$$s||this;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"let")}return s.$__memoized()["$[]="](t,(n=s,a=e.find_iter_super_dispatcher(s,"let",i.$$def||l.$$def||$,!1,!1),a.$$p=r.$to_proc(),a).call(n))},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","k"]],i),a).call(n,t)},l.$$s=u,l.$$arity=0,l.$$parameters=[],l),a).call(o,t)},$.$$arity=1,$.$$parameters=[["req","name"],["block","block"]]),e.defn(l,"$let!",i=function(t){var a,n,$,s,o=this,l=i.$$p,c=l||r;i.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"let!"),(a=(n=o).$let,a.$$p=c.$to_proc(),a).call(n,t),(a=($=o).$before,a.$$p=(s=function(){var r=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"let!")}return r.$__send__(t)},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),a).call($)},i.$$arity=1,i.$$parameters=[["req","name"],["block","block"]]),e.defn(l,"$subject",s=function(t){var a,n,$,i,o,l=this,u=s.$$p,_=u||r;null==t&&(t=r),s.$$p=null;var p=arguments.length;return p>1&&e.ac(p,-1,this,"subject"),!1!==t&&t!==r&&null!=t?((a=(n=l).$let,a.$$p=_.$to_proc(),a).call(n,t),l.$alias_method("subject",t),(a=($=l.$$scope.get("NamedSubjectPreventSuper")).$__send__,a.$$p=(i=function(){var t=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"subject")}return t.$raise(c.get("NotImplementedError"),"`super` in named subjects is not supported")},i.$$s=l,i.$$arity=0,i.$$parameters=[],i),a).call($,"define_method",t)):(a=(o=l).$let,a.$$p=_.$to_proc(),a).call(o,"subject")},s.$$arity=-1,s.$$parameters=[["opt","name"],["block","block"]]),e.defn(l,"$subject!",o=function(t){var a,n,$,i,s=this,l=o.$$p,c=l||r;null==t&&(t=r),o.$$p=null;var u=arguments.length;return u>1&&e.ac(u,-1,this,"subject!"),(a=(n=s).$subject,a.$$p=c.$to_proc(),a).call(n,t),(a=($=s).$before,a.$$p=(i=function(){var t=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"subject!")}return t.$subject()},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),a).call($)},o.$$arity=-1,o.$$parameters=[["opt","name"],["block","block"]])}(m.base),e.defs(f,"$module_for",_=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"module_for"),(a=(n=i).$get_constant_or_yield,a.$$p=($=function(){var a,n,i,s=$.$$s||this,o=r;if($.$$is_lambda||$.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"module_for")}return o=(a=(n=m.get("Module")).$new,a.$$p=(i=function(){var r,a,n,$=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"module_for")}return $.$include((r=(a=m.get("Module")).$new,r.$$p=(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"module_for")}return t.$const_set("NamedSubjectPreventSuper",r)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a))},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),a).call(n),t.$const_set("LetDefinitions",o),o},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n,t,"LetDefinitions")},_.$$arity=1,_.$$parameters=[["req","example_group"]]),e.defs(f,"$define_helpers_on",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"define_helpers_on"),t.$__send__("include",r.$module_for(t))},p.$$arity=1,p.$$parameters=[["req","example_group"]]),m.get("Module").$method("const_defined?").$arity()["$=="](1)?e.defs(f,"$get_constant_or_yield",d=function(t,a){var n,$=d.$$p,i=$||r;d.$$p=null;var s=arguments.length;return 2!==s&&e.ac(s,2,this,"get_constant_or_yield"),(n=t["$const_defined?"](a))===r||null==n||n.$$is_boolean&&1!=n?e.yieldX(i,[]):t.$const_get(a)},d.$$arity=2,d.$$parameters=[["req","example_group"],["req","name"]]):e.defs(f,"$get_constant_or_yield",h=function(t,a){var n,$=h.$$p,i=$||r,s=r;h.$$p=null;var o=arguments.length;return 2!==o&&e.ac(o,2,this,"get_constant_or_yield"),(n=t["$const_defined?"](a,s=!1))===r||null==n||n.$$is_boolean&&1!=n?e.yieldX(i,[]):t.$const_get(a,s)},h.$$arity=2,h.$$parameters=[["req","example_group"],["req","name"]])}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/metadata"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.hash2,o=e.klass;return e.add_stubs(["$expand_path","$sub","$==","$is_a?","$last","$pop","$[]=","$key?","$deprecate","$respond_to?","$caller","$join","$source_location","$attr_reader","$ensure_valid_user_keys","$metadata","$new","$block","$description_args","$build_description_from","$[]","$full_description","$described_class","$populate_location_attributes","$update","$user_metadata","$apply_derived_metadata_to","$configuration","$private","$delete","$file_path_and_line_number_from","$relative_path","$to_i","$find","$!~","$first","$captures","$match","$=~","$to_s","$description_separator","$+","$each","$raise","$gsub","$*","$first_non_rspec_line","$dup","$to_proc","$backwards_compatibility_default_proc","$compact","$populate","$hash_with_backwards_compatibility_default_proc","$===","$thread_local_metadata","$call","$extend","$extra_hash_attributes","$__send__","$hash_attribute_names","$class","$include?","$to_sym","$define_method","$issue_deprecation","$hash_for_delegation","$instance_variable_defined?","$tap","$directly_supports_attribute?","$set_value","$-","$public_instance_methods","$get_value","$to_h","$concat","$include","$fetch","$merge","$!="]),function(n){var l,c=l=i(n,"RSpec"),u=(c.$$proto,c.$$scope);!function(n){var l,c=l=i(n,"Core"),u=(c.$$proto,c.$$scope);!function(a){var n,l,c,u,_=n=i(a,"Metadata"),p=(_.$$proto,_.$$scope);e.defs(_,"$relative_path",l=function(t){var r=$,a=arguments.length;1!==a&&e.ac(a,1,this,"relative_path");try{return r=new RegExp("(\\A|\\s)"+p.get("File").$expand_path(".")+"("+p.get("File").$$scope.get("SEPARATOR")+"|\\s|\\Z)"),t=t.$sub(r,"\\1.\\2"),t=t.$sub(/\A([^:]+:\d+)$/,"\\1"),t["$=="]("-e:1")?$:t}catch(t){if(!e.rescue(t,[p.get("SecurityError")]))throw t;try{return $}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","line"]]),e.defs(_,"$build_hash_from",c=function(t,r){var a,n,i=$;null==r&&(r=!1);var o=arguments.length;for((o<1||o>2)&&e.ac(o,-2,this,"build_hash_from"),i=function(){return(a=t.$last()["$is_a?"](p.get("Hash")))===$||null==a||a.$$is_boolean&&1!=a?s([],{}):t.$pop()}();(n=t.$last()["$is_a?"](p.get("Symbol")))!==$&&null!=n&&(!n.$$is_boolean||1==n);)i["$[]="](t.$pop(),!0);return(a=(n=!1!==r&&r!==$&&null!=r)?i["$key?"]("example_group"):r)===$||null==a||a.$$is_boolean&&1!=a||p.get("RSpec").$deprecate("Filtering by an `:example_group` subhash",s(["replacement"],{replacement:"the subhash to filter directly"})),i},c.$$arity=-2,c.$$parameters=[["req","args"],["opt","warn_about_example_group_filtering"]]),e.defs(_,"$backtrace_from",u=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"backtrace_from"),(r=t["$respond_to?"]("source_location"))===$||null==r||r.$$is_boolean&&1!=r?a.$caller():[t.$source_location().$join(":")]},u.$$arity=1,u.$$parameters=[["req","block"]]),function(a,$super){function n(){}var i,s,l,c,u,_,p,d=n=o(a,$super,"HashPopulator",n),h=(d.$$proto,d.$$scope);d.$attr_reader("metadata","user_metadata","description_args","block"),e.defn(d,"$initialize",i=function(t,r,a,n){var $=this,i=arguments.length;return 4!==i&&e.ac(i,4,this,"initialize"),$.metadata=t,$.user_metadata=r,$.description_args=a,$.block=n},i.$$arity=4,i.$$parameters=[["req","metadata"],["req","user_metadata"],["req","description_args"],["req","block"]]),e.defn(d,"$populate",s=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"populate"),r.$ensure_valid_user_keys(),r.$metadata()["$[]="]("execution_result",h.get("Example").$$scope.get("ExecutionResult").$new()),r.$metadata()["$[]="]("block",r.$block()),r.$metadata()["$[]="]("description_args",r.$description_args()),r.$metadata()["$[]="]("description",(t=r).$build_description_from.apply(t,e.to_a(r.$metadata()["$[]"]("description_args")))),r.$metadata()["$[]="]("full_description",r.$full_description()),r.$metadata()["$[]="]("described_class",r.$described_class()),r.$populate_location_attributes(),r.$metadata().$update(r.$user_metadata()),h.get("RSpec").$configuration().$apply_derived_metadata_to(r.$metadata())},s.$$arity=0,s.$$parameters=[]),d.$private(),e.defn(d,"$populate_location_attributes",l=function(){var t,r,a,n=this,i=$,s=$,o=$,l=arguments.length;return 0!==l&&e.ac(l,0,this,"populate_location_attributes"),i=n.$user_metadata().$delete("caller"),r=function(){return!1!==i&&i!==$&&null!=i?n.$file_path_and_line_number_from(i):(a=n.$block()["$respond_to?"]("source_location"))===$||null==a||a.$$is_boolean&&1!=a?n.$file_path_and_line_number_from(n.$caller()):n.$block().$source_location()}(),t=e.to_ary(r),s=null==t[0]?$:t[0],o=null==t[1]?$:t[1],s=h.get("Metadata").$relative_path(s),n.$metadata()["$[]="]("file_path",s),n.$metadata()["$[]="]("line_number",o.$to_i()),n.$metadata()["$[]="]("location",s+":"+o)},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$file_path_and_line_number_from",c=function(t){var r,a,n,i=this,s=$,o=arguments.length;return 1!==o&&e.ac(o,1,this,"file_path_and_line_number_from"),s=(r=(a=t).$find,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=$),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"file_path_and_line_number_from")}return t["$!~"](h.get("CallerFilter").$$scope.get("LIB_REGEX"))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","l"]],n),r).call(a),!1!==(r=s)&&r!==$&&null!=r||(s=t.$first()),/(.+?):(\d+)(?:|:\d+)/.$match(s).$captures()},c.$$arity=1,c.$$parameters=[["req","backtrace"]]),e.defn(d,"$description_separator",u=function(t,r){var a,n,i=arguments.length;return 2!==i&&e.ac(i,2,this,"description_separator"),n=t["$is_a?"](h.get("Module")),(a=!1!==n&&n!==$&&null!=n?r["$=~"](/^(#|::|\.)/):n)===$||null==a||a.$$is_boolean&&1!=a?" ":""},u.$$arity=2,u.$$parameters=[["req","parent_part"],["req","child_part"]]),e.defn(d,"$build_description_from",_=function(r,a){var n=this,i=$;null==r&&(r=$),null==a&&(a=$);var s=arguments.length;return s>2&&e.ac(s,-1,this,"build_description_from"),!1===a||a===$||null==a?r.$to_s():(i=n.$description_separator(r,a),t(t(r.$to_s(),i),a.$to_s()))},_.$$arity=-1,_.$$parameters=[["opt","parent_description"],["opt","my_description"]]),e.defn(d,"$ensure_valid_user_keys",p=function(){var t,a,n,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"ensure_valid_user_keys"),(t=(a=h.get("RESERVED_KEYS")).$each,t.$$p=(n=function(t){var a,i=n.$$s||this;if(null==t&&(t=$),n.$$is_lambda||n.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"ensure_valid_user_keys")}return(a=i.$user_metadata()["$key?"](t))===$||null==a||a.$$is_boolean&&1!=a?$:i.$raise(("              |"+r("*",50)+"\n              |:"+t+" is not allowed\n              |\n              |RSpec reserves some hash keys for its own internal use,\n              |including :"+t+", which is used on:\n              |\n              |  "+h.get("CallerFilter").$first_non_rspec_line()+".\n              |\n              |Here are all of RSpec's reserved hash keys:\n              |\n              |  "+h.get("RESERVED_KEYS").$join("\n  ")+"\n              |"+r("*",50)+"\n").$gsub(/^\s+\|/,""))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","key"]],n),t).call(a)},p.$$arity=0,p.$$parameters=[])}(p.base,null),function(t,$super){function r(){}var a,n,i,s=r=o(t,$super,"ExampleHash",r),l=(s.$$proto,s.$$scope);e.defs(s,"$create",a=function(t,r,a,n){var i,s,o,c,u,_=this,p=$,d=$,h=arguments.length;return 4!==h&&e.ac(h,4,this,"create"),p=t.$dup(),t=(i=(s=l.get("Hash")).$new,i.$$p=(o=(c=l.get("ExampleGroupHash")).$backwards_compatibility_default_proc,o.$$p=(u=function(t){u.$$s;if(null==t&&(t=$),u.$$is_lambda||u.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"create")}return t["$[]"]("parent_example_group")},u.$$s=_,u.$$arity=1,u.$$parameters=[["req","hash"]],u),o).call(c).$to_proc(),i).call(s),t.$update(p),p["$[]="]("example_group",t),p.$delete("parent_example_group"),d=_.$new(p,r,[a].$compact(),n),d.$populate(),d.$metadata()},a.$$arity=4,a.$$parameters=[["req","group_metadata"],["req","user_metadata"],["req","description"],["req","block"]]),s.$private(),e.defn(s,"$described_class",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"described_class"),t.$metadata()["$[]"]("example_group")["$[]"]("described_class")},n.$$arity=0,n.$$parameters=[]),e.defn(s,"$full_description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_description"),t.$build_description_from(t.$metadata()["$[]"]("example_group")["$[]"]("full_description"),t.$metadata()["$[]"]("description"))},i.$$arity=0,i.$$parameters=[])}(p.base,p.get("HashPopulator")),function(r,$super){function a(){}var n,i,l,c,u,_=a=o(r,$super,"ExampleGroupHash",a),p=(_.$$proto,_.$$scope);e.defs(_,"$create",n=function(t,r){var a,i=this,s=n.$$p,o=s||$,l=$,c=$,u=arguments.length,_=u-2;_<0&&(_=0),a=new Array(_);for(var p=2;p<u;p++)a[p-2]=arguments[p];n.$$p=null;var d=arguments.length;return d<2&&e.ac(d,-3,this,"create"),l=i.$hash_with_backwards_compatibility_default_proc(),!1!==t&&t!==$&&null!=t&&(l.$update(t),l["$[]="]("parent_example_group",t)),c=i.$new(l,r,a,o),c.$populate(),c.$metadata()},n.$$arity=-3,n.$$parameters=[["req","parent_group_metadata"],["req","user_metadata"],["rest","args"],["block","block"]]),e.defs(_,"$hash_with_backwards_compatibility_default_proc",i=function(){var t,r,a,n,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"hash_with_backwards_compatibility_default_proc"),(t=(r=p.get("Hash")).$new,t.$$p=(a=(n=s).$backwards_compatibility_default_proc,a.$$p=(i=function(t){i.$$s;if(null==t&&(t=$),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"hash_with_backwards_compatibility_default_proc")}return t},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","hash"]],i),a).call(n).$to_proc(),t).call(r)},i.$$arity=0,i.$$parameters=[]),e.defs(_,"$backwards_compatibility_default_proc",l=function(){var t,r,a,n=this,i=l.$$p,o=i||$;l.$$p=null;var c=arguments.length;return 0!==c&&e.ac(c,0,this,"backwards_compatibility_default_proc"),(t=(r=p.get("Proc")).$new,t.$$p=(a=function(t,r){var n,i=(a.$$s,$),l=$;if(null==t&&(t=$),null==r&&(r=$),a.$$is_lambda||a.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"backwards_compatibility_default_proc")}return function(){return i=r,"example_group"["$==="](i)?(((n=p.get("RSpec").$thread_local_metadata()["$[]"]("silence_metadata_example_group_deprecations"))===$||null==n||n.$$is_boolean&&1!=n)&&p.get("RSpec").$deprecate("The `:example_group` key in an example group's metadata hash",s(["replacement"],{replacement:"the example group's hash directly for the computed keys and `:parent_example_group` to access the parent example group metadata"})),l=o.$call(t),!1!==l&&l!==$&&null!=l?p.get("LegacyExampleGroupHash").$new(l):$):"example_group_block"["$==="](i)?(p.get("RSpec").$deprecate("`metadata[:example_group_block]`",s(["replacement"],{replacement:"`metadata[:block]`"})),t["$[]"]("block")):"describes"["$==="](i)?(p.get("RSpec").$deprecate("`metadata[:describes]`",s(["replacement"],{replacement:"`metadata[:described_class]`"})),t["$[]"]("described_class")):$}()},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","hash"],["req","key"]],a),t).call(r)},l.$$arity=0,l.$$parameters=[["block","example_group_selector"]]),_.$private(),e.defn(_,"$described_class",c=function(){var t,r,a=this,n=$,i=$,s=arguments.length;return 0!==s&&e.ac(s,0,this,"described_class"),n=a.$metadata()["$[]"]("description_args").$first(),(t=!1!==(r=p.get("NilClass")["$==="](n))&&r!==$&&null!=r?r:p.get("String")["$==="](n))===$||null==t||t.$$is_boolean&&1!=t?n:(i=a.$metadata()["$[]"]("parent_example_group"),(t=!1!==i&&i!==$&&null!=i)?i["$[]"]("described_class"):i)},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$full_description",u=function(){var r=this,a=$,n=$,i=$,s=$,o=arguments.length;return 0!==o&&e.ac(o,0,this,"full_description"),a=r.$metadata()["$[]"]("description"),!1===(n=r.$metadata()["$[]"]("parent_example_group"))||n===$||null==n?a:(i=n["$[]"]("full_description"),s=r.$description_separator(n["$[]"]("description_args").$last(),r.$metadata()["$[]"]("description_args").$first()),t(t(i,s),a))},u.$$arity=0,u.$$parameters=[])}(p.base,p.get("HashPopulator")),e.cdecl(p,"RESERVED_KEYS",["description","example_group","parent_example_group","execution_result","file_path","full_description","line_number","location","block"])}(u.base),function(t){var r,n,o,l,c,u,_,p,d,h,f,m,g,b,v=r=i(t,"HashImitatable"),y=(v.$$proto,v.$$scope);e.defs(v,"$included",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"included"),t.$extend(y.get("ClassMethods"))},n.$$arity=1,n.$$parameters=[["req","klass"]]),e.defn(v,"$to_h",o=function(){var t,r,a,n=this,i=$,s=arguments.length;return 0!==s&&e.ac(s,0,this,"to_h"),i=n.$extra_hash_attributes().$dup(),(t=(r=n.$class().$hash_attribute_names()).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"to_h")}return i["$[]="](t,r.$__send__(t))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","name"]],a),t).call(r),i},o.$$arity=0,o.$$parameters=[]),(l=(c=a(y.get("Hash").$public_instance_methods(),y.get("Object").$public_instance_methods())).$each,l.$$p=(u=function(t){var r,a,n,i=u.$$s||this;if(null==t&&(t=$),u.$$is_lambda||u.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<module:HashImitatable>")}return(r=["[]","[]=","to_h"]["$include?"](t.$to_sym()))===$||null==r||r.$$is_boolean&&1!=r?(r=(a=i).$define_method,r.$$p=(n=function(){var r,a,i,s,o,l,c,u,_,p,d=n.$$s||this,h=$;r=n.$$p||$,n.$$p=null;var f=arguments.length,m=f-0;m<0&&(m=0),a=new Array(m);for(var g=0;g<f;g++)a[g-0]=arguments[g];return(i=d).$issue_deprecation.apply(i,[t].concat(e.to_a(a))),h=d.$hash_for_delegation(),(s=(o=d.$class().$hash_attribute_names()).$each,s.$$p=(l=function(t){var r,a=l.$$s||this;if(null==t&&(t=$),l.$$is_lambda||l.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<module:HashImitatable>")}return(r=a["$instance_variable_defined?"]("@"+t.$to_s()))===$||null==r||r.$$is_boolean&&1!=r?h.$delete(t):$},l.$$s=d,l.$$arity=1,l.$$parameters=[["req","name"]],l),s).call(o),(s=(c=(_=(p=h).$__send__,_.$$p=r.$to_proc(),_).apply(p,[t].concat(e.to_a(a)))).$tap,s.$$p=(u=function(){var t,r,a,n=u.$$s||this;if(u.$$is_lambda||u.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<module:HashImitatable>")}return(t=(r=h).$each,t.$$p=(a=function(t,r){var n,i=a.$$s||this;if(null==t&&(t=$),null==r&&(r=$),a.$$is_lambda||a.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"<module:HashImitatable>")}return(n=i["$directly_supports_attribute?"](t))===$||null==n||n.$$is_boolean&&1!=n?i.$extra_hash_attributes()["$[]="](t,r):i.$set_value(t,r)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","name"],["req","value"]],a),t).call(r)},u.$$s=d,u.$$arity=0,u.$$parameters=[],u),s).call(c)},n.$$s=i,n.$$arity=-1,n.$$parameters=[["rest","args"],["block","block"]],n),r).call(a,t):$},u.$$s=v,u.$$arity=1,u.$$parameters=[["req","method_name"]],u),l).call(c),e.defn(v,"$[]",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"[]"),a.$issue_deprecation("[]",t),(r=a["$directly_supports_attribute?"](t))===$||null==r||r.$$is_boolean&&1!=r?a.$extra_hash_attributes()["$[]"](t):a.$get_value(t)},_.$$arity=1,_.$$parameters=[["req","key"]]),e.defn(v,"$[]=",p=function(t,r){var a,n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"[]="),n.$issue_deprecation("[]=",t,r),(a=n["$directly_supports_attribute?"](t))===$||null==a||a.$$is_boolean&&1!=a?n.$extra_hash_attributes()["$[]="](t,r):n.$set_value(t,r)},p.$$arity=2,p.$$parameters=[["req","key"],["req","value"]]),v.$private(),e.defn(v,"$extra_hash_attributes",d=function(){var t,r=this;null==r.extra_hash_attributes&&(r.extra_hash_attributes=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"extra_hash_attributes"),!1!==(t=r.extra_hash_attributes)&&t!==$&&null!=t?t:r.extra_hash_attributes=s([],{})},d.$$arity=0,d.$$parameters=[]),e.defn(v,"$directly_supports_attribute?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"directly_supports_attribute?"),r.$class().$hash_attribute_names()["$include?"](t)},h.$$arity=1,h.$$parameters=[["req","name"]]),e.defn(v,"$get_value",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"get_value"),r.$__send__(t)},f.$$arity=1,f.$$parameters=[["req","name"]]),e.defn(v,"$set_value",m=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"set_value"),a.$__send__(t.$to_s()+"=",r)},m.$$arity=2,m.$$parameters=[["req","name"],["req","value"]]),e.defn(v,"$hash_for_delegation",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash_for_delegation"),t.$to_h()},g.$$arity=0,g.$$parameters=[]),e.defn(v,"$issue_deprecation",b=function(){var t,r=arguments.length,a=r-1;a<0&&(a=0),t=new Array(a);for(var n=1;n<r;n++)t[n-1]=arguments[n];var i=arguments.length;return i<1&&e.ac(i,-2,this,"issue_deprecation"),$},b.$$arity=-2,b.$$parameters=[["req","_method_name"],["rest","_args"]]),function(t){var r,a,n,s=r=i(t,"ClassMethods");s.$$proto,s.$$scope;e.defn(s,"$hash_attribute_names",a=function(){var t,r=this;null==r.hash_attribute_names&&(r.hash_attribute_names=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"hash_attribute_names"),!1!==(t=r.hash_attribute_names)&&t!==$&&null!=t?t:r.hash_attribute_names=[]},a.$$arity=0,a.$$parameters=[]),e.defn(s,"$attr_accessor",n=function(){var t,r,a,i=this,s=n.$$p,o=$,l=$,c=arguments.length,u=c-0;u<0&&(u=0),a=new Array(u);for(var _=0;_<c;_++)a[_-0]=arguments[_];for(n.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i.$hash_attribute_names().$concat(a),(r=i,t=e.find_super_dispatcher(i,"attr_accessor",n,!1),t.$$p=s,t).apply(r,o)},n.$$arity=-1,n.$$parameters=[["rest","names"]])}(y.base)}(u.base),function(t,$super){function r(){}var a,n,i,l,c,u=r=o(t,$super,"LegacyExampleGroupHash",r),_=u.$$proto,p=u.$$scope;_.metadata=$,u.$include(p.get("HashImitatable")),e.defn(u,"$initialize",a=function(t){var r,a,n,i=this,o=$,l=arguments.length;return 1!==l&&e.ac(l,1,this,"initialize"),i.metadata=t,o=(r=(a=t).$fetch,r.$$p=(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"initialize")}return s([],{})},n.$$s=i,n.$$arity=0,n.$$parameters=[],n),r).call(a,"parent_example_group")["$[]"]("example_group"),!1!==o&&o!==$&&null!=o?i["$[]="]("example_group",o):$},a.$$arity=1,a.$$parameters=[["req","metadata"]]),e.defn(u,"$to_h",n=function(){var t,r,a=this,i=n.$$p,s=$,o=$;n.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"to_h"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=a,t=e.find_super_dispatcher(a,"to_h",n,!1),t.$$p=i,t).apply(r,s).$merge(a.metadata)},n.$$arity=0,n.$$parameters=[]),u.$private(),e.defn(u,"$directly_supports_attribute?",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"directly_supports_attribute?"),t["$!="]("example_group")},i.$$arity=1,i.$$parameters=[["req","name"]]),e.defn(u,"$get_value",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"get_value"),r.metadata["$[]"](t)},l.$$arity=1,l.$$parameters=[["req","name"]]),e.defn(u,"$set_value",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"set_value"),a.metadata["$[]="](t,r)},c.$$arity=2,c.$$parameters=[["req","name"],["req","value"]])}(u.base,null)}(u.base)}(n.base)},Opal.modules["rspec/core/metadata_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash;return e.add_stubs(["$any?","$filter_applies?","$all?","$silence_metadata_example_group_deprecations","$===","$[]","$!","$filter_applies_to_any_value?","$==","$location_filter_applies?","$filters_apply?","$key?","$=~","$arity","$call","$to_s","$private","$example_group_declaration_line","$line_number_filter_applies?","$map","$preceding_declaration_line","$world","$empty?","$&","$relevant_line_numbers","$+","$compact","$parent_of","$expand_path","$[]=","$thread_local_metadata","$delete"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Core"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"MetadataFilter");s.$$proto,s.$$scope;!function(r){var n,i,s,o,l,c,u,_,p,d,h,f=r.$$scope;r.$$proto;e.defn(r,"$any_apply?",n=function(t,r){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"any_apply?"),(n=($=t)["$any?"],n.$$p=(i=function(t,n){var $=i.$$s||this;if(null==t&&(t=a),null==n&&(n=a),i.$$is_lambda||i.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"any_apply?")}return $["$filter_applies?"](t,n,r)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","k"],["req","v"]],i),n).call($)},n.$$arity=2,n.$$parameters=[["req","filters"],["req","metadata"]]),e.defn(r,"$all_apply?",i=function(t,r){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"all_apply?"),(n=($=t)["$all?"],n.$$p=(i=function(t,n){var $=i.$$s||this;if(null==t&&(t=a),null==n&&(n=a),i.$$is_lambda||i.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"all_apply?")}return $["$filter_applies?"](t,n,r)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","k"],["req","v"]],i),n).call($)},i.$$arity=2,i.$$parameters=[["req","filters"],["req","metadata"]]),e.defn(r,"$filter_applies?",s=function(t,r,n){try{var $,i,s,o=this,l=arguments.length;return 3!==l&&e.ac(l,3,this,"filter_applies?"),($=(i=o).$silence_metadata_example_group_deprecations,$.$$p=(s=function(){var $,i,o=s.$$s||this,l=a;if(s.$$is_lambda||s.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"filter_applies?")}return i=f.get("Array")["$==="](n["$[]"](t)),($=!1!==i&&i!==a&&null!=i?f.get("Proc")["$==="](r)["$!"]():i)===a||null==$||$.$$is_boolean&&1!=$||e.ret(o["$filter_applies_to_any_value?"](t,r,n)),t["$=="]("locations")&&e.ret(o["$location_filter_applies?"](r,n)),($=f.get("Hash")["$==="](r))===a||null==$||$.$$is_boolean&&1!=$||e.ret(o["$filters_apply?"](t,r,n)),(($=n["$key?"](t))===a||null==$||$.$$is_boolean&&1!=$)&&e.ret(!1),function(){return l=r,f.get("Regexp")["$==="](l)?n["$[]"](t)["$=~"](r):f.get("Proc")["$==="](l)?function(){return l=r.$arity(),(0)["$==="](l)?r.$call():2["$==="](l)?r.$call(n["$[]"](t),n):r.$call(n["$[]"](t))}():n["$[]"](t).$to_s()["$=="](r.$to_s())}()},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),$).call(i)}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=3,s.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),r.$private(),e.defn(r,"$filter_applies_to_any_value?",o=function(t,r,n){var i,s,o,l=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"filter_applies_to_any_value?"),(i=(s=n["$[]"](t))["$any?"],i.$$p=(o=function(n){var i=o.$$s||this;if(null==n&&(n=a),o.$$is_lambda||o.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"filter_applies_to_any_value?")}return i["$filter_applies?"](t,n,$(t,r))},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","v"]],o),i).call(s)},o.$$arity=3,o.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),e.defn(r,"$location_filter_applies?",l=function(t,r){var n=this,$=a,i=arguments.length;return 2!==i&&e.ac(i,2,this,"location_filter_applies?"),!1===($=n.$example_group_declaration_line(t,r))||$===a||null==$||n["$line_number_filter_applies?"]($,r)},l.$$arity=2,l.$$parameters=[["req","locations"],["req","metadata"]]),e.defn(r,"$line_number_filter_applies?",c=function(t,r){var n,$,i,s=this,o=a,l=arguments.length;return 2!==l&&e.ac(l,2,this,"line_number_filter_applies?"),o=(n=($=t).$map,n.$$p=(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"line_number_filter_applies?")}return f.get("RSpec").$world().$preceding_declaration_line(t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","n"]],i),n).call($),s.$relevant_line_numbers(r)["$&"](o)["$empty?"]()["$!"]()},c.$$arity=2,c.$$parameters=[["req","line_numbers"],["req","metadata"]]),e.defn(r,"$relevant_line_numbers",u=function(r){var n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"relevant_line_numbers"),!1===r||r===a||null==r?[]:t([r["$[]"]("line_number")].$compact(),n.$relevant_line_numbers(n.$parent_of(r)))},u.$$arity=1,u.$$parameters=[["req","metadata"]]),e.defn(r,"$example_group_declaration_line",_=function(t,r){var n=this,$=a,i=arguments.length;return 2!==i&&e.ac(i,2,this,"example_group_declaration_line"),$=n.$parent_of(r),!1===$||$===a||null==$?a:t["$[]"](f.get("File").$expand_path($["$[]"]("file_path")))},_.$$arity=2,_.$$parameters=[["req","locations"],["req","metadata"]]),e.defn(r,"$filters_apply?",p=function(t,r,n){var $,i,s,o=this,l=a,c=arguments.length;return 3!==c&&e.ac(c,3,this,"filters_apply?"),l=n["$[]"](t),!(($=!1!==(i=f.get("Hash")["$==="](l))&&i!==a&&null!=i?i:f.get("HashImitatable")["$==="](l))===a||null==$||$.$$is_boolean&&1!=$)&&($=(i=r)["$all?"],$.$$p=(s=function(t,r){var n=s.$$s||this;if(null==t&&(t=a),null==r&&(r=a),s.$$is_lambda||s.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"filters_apply?")}return n["$filter_applies?"](t,r,l)},s.$$s=o,s.$$arity=2,s.$$parameters=[["req","k"],["req","v"]],s),$).call(i)},p.$$arity=3,p.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),e.defn(r,"$parent_of",d=function(t){var r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"parent_of"),(r=t["$key?"]("example_group"))===a||null==r||r.$$is_boolean&&1!=r?t["$[]"]("parent_example_group"):t["$[]"]("example_group")},d.$$arity=1,d.$$parameters=[["req","metadata"]]),e.defn(r,"$silence_metadata_example_group_deprecations",h=function(){var t=h.$$p,r=t||a;h.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"silence_metadata_example_group_deprecations");try{return f.get("RSpec").$thread_local_metadata()["$[]="]("silence_metadata_example_group_deprecations",!0),e.yieldX(r,[])}finally{f.get("RSpec").$thread_local_metadata().$delete("silence_metadata_example_group_deprecations")}},h.$$arity=0,h.$$parameters=[])}(e.get_singleton_class(s))}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/mocks/any_instance"]=function(e){var t,r,a,n=e.top,$=e,i=e.nil;e.breaker,e.slice;return e.add_stubs(["$each","$require_rspec_mocks"]),(t=(r=["any_instance/chain","any_instance/stub_chain","any_instance/stub_chain_chain","any_instance/expect_chain_chain","any_instance/expectation_chain","any_instance/message_chains","any_instance/recorder","any_instance/proxy"]).$each,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return $.get("RSpec").$$scope.get("Support").$require_rspec_mocks(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r)},Opal.modules["rspec/mocks/message_chain"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2
;return e.add_stubs(["$attr_reader","$format_chain","$to_proc","$>","$length","$chain","$find_matching_stub","$shift","$chain_on","$invoke","$find_matching_expectation","$invoke_without_incrementing_received_count","$new","$expectation","$object","$private","$raise","$initialize","$setup_chain","$===","$last","$pop","$each","$<<","$split","$join","$__send__","$proxy_for","$space","$to_sym","$first","$expect_message","$allow_message"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Mocks"),l=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var i,s,o,l,c,u,_,p=n=$(r,$super,"MessageChain",n),d=p.$$proto,h=p.$$scope;d.block=a,p.$attr_reader("object","chain","block"),e.defn(p,"$initialize",i=function(t){var r,n,$,s,o,l=this,c=i.$$p,u=c||a,_=arguments.length,p=_-1;p<0&&(p=0),o=new Array(p);for(var d=1;d<_;d++)o[d-1]=arguments[d];i.$$p=null;var h=arguments.length;return h<1&&e.ac(h,-2,this,"initialize"),l.object=t,n=($=(s=l).$format_chain,$.$$p=u.$to_proc(),$).apply(s,e.to_a(o)),r=e.to_ary(n),l.chain=null==r[0]?a:r[0],l.block=null==r[1]?a:r[1],n},i.$$arity=-2,i.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),e.defn(p,"$setup_chain",s=function(){var r,n,$,i,s,o,l,c=this,u=a,_=a,p=a,d=arguments.length;return 0!==d&&e.ac(d,0,this,"setup_chain"),(r=t(c.$chain().$length(),1))===a||null==r||r.$$is_boolean&&1!=r?(r=(l=c).$expectation,r.$$p=c.block.$to_proc(),r).call(l,c.$object(),c.$chain().$shift()):(r=u=c.$find_matching_stub())===a||null==r||r.$$is_boolean&&1!=r?(r=_=c.$find_matching_expectation())===a||null==r||r.$$is_boolean&&1!=r?(p=h.get("Double").$new(),(r=(i=c).$expectation,r.$$p=(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"setup_chain")}return p},s.$$s=c,s.$$arity=0,s.$$parameters=[],s),r).call(i,c.$object(),c.$chain().$shift()),(r=(o=c).$chain_on,r.$$p=c.block.$to_proc(),r).apply(o,[p].concat(e.to_a(c.$chain())))):(c.$chain().$shift(),(r=($=c).$chain_on,r.$$p=c.block.$to_proc(),r).apply($,[_.$invoke_without_incrementing_received_count(a)].concat(e.to_a(c.$chain())))):(c.$chain().$shift(),(r=(n=c).$chain_on,r.$$p=c.block.$to_proc(),r).apply(n,[u.$invoke(a)].concat(e.to_a(c.$chain()))))},s.$$arity=0,s.$$parameters=[]),p.$private(),e.defn(p,"$expectation",o=function(){var t=this;o.$$p;o.$$p=null;var r=arguments.length;return 2!==r&&e.ac(r,2,this,"expectation"),t.$raise(h.get("NotImplementedError"))},o.$$arity=2,o.$$parameters=[["req","_object"],["req","_message"],["block","_return_block"]]),e.defn(p,"$chain_on",l=function(t){var r,n,$,i=this,s=l.$$p,o=s||a,c=arguments.length,u=c-1;u<0&&(u=0),$=new Array(u);for(var _=1;_<c;_++)$[_-1]=arguments[_];l.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"chain_on"),(r=(n=i).$initialize,r.$$p=o.$to_proc(),r).apply(n,[t].concat(e.to_a($))),i.$setup_chain()},l.$$arity=-2,l.$$parameters=[["req","object"],["rest","chain"],["block","block"]]),e.defn(p,"$format_chain",c=function(){var t,r,n,$,i=this,s=c.$$p,o=s||a,l=a,u=arguments.length,_=u-0;_<0&&(_=0),$=new Array(_);for(var p=0;p<u;p++)$[p-0]=arguments[p];return c.$$p=null,(t=h.get("Hash")["$==="]($.$last()))===a||null==t||t.$$is_boolean&&1!=t||(l=$.$pop(),(t=(r=l).$each,t.$$p=(n=function(t,r){var i,s,l,c=n.$$s||this;if(null==t&&(t=a),null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var u=arguments.length;2!==u&&e.block_ac(u,2,"format_chain")}return $["$<<"](t),o=(i=(s=h.get("Proc")).$new,i.$$p=(l=function(){l.$$s;if(l.$$is_lambda||l.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"format_chain")}return r},l.$$s=c,l.$$arity=0,l.$$parameters=[],l),i).call(s)},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","k"],["req","v"]],n),t).call(r)),[$.$join(".").$split("."),o]},c.$$arity=-1,c.$$parameters=[["rest","chain"],["block","blk"]]),e.defn(p,"$find_matching_stub",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"find_matching_stub"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_method_stub",t.$chain().$first().$to_sym())},u.$$arity=0,u.$$parameters=[]),e.defn(p,"$find_matching_expectation",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"find_matching_expectation"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_expectation",t.$chain().$first().$to_sym())},_.$$arity=0,_.$$parameters=[])}(l.base,null),function(t,$super){function r(){}var n,s,o=r=$(t,$super,"ExpectChain",r);o.$$proto,o.$$scope;e.defs(o,"$expect_chain_on",n=function(t){var r,$,i,s=this,o=n.$$p,l=o||a,c=arguments.length,u=c-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<c;_++)i[_-1]=arguments[_];n.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"expect_chain_on"),(r=($=s).$new,r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i))).$setup_chain()},n.$$arity=-2,n.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),o.$private(),e.defn(o,"$expectation",s=function(t,r){var n,$,o=s.$$p,l=o||a;s.$$p=null;var c=arguments.length;return 2!==c&&e.ac(c,2,this,"expectation"),(n=($=e.get("RSpec").$$scope.get("Mocks")).$expect_message,n.$$p=l.$to_proc(),n).call($,t,r,i([],{}))},s.$$arity=2,s.$$parameters=[["req","object"],["req","message"],["block","return_block"]])}(l.base,l.get("MessageChain")),function(t,$super){function r(){}var n,s,o=r=$(t,$super,"StubChain",r);o.$$proto,o.$$scope;e.defs(o,"$stub_chain_on",n=function(t){var r,$,i,s=this,o=n.$$p,l=o||a,c=arguments.length,u=c-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<c;_++)i[_-1]=arguments[_];n.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"stub_chain_on"),(r=($=s).$new,r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i))).$setup_chain()},n.$$arity=-2,n.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),o.$private(),e.defn(o,"$expectation",s=function(t,r){var n,$,o=s.$$p,l=o||a;s.$$p=null;var c=arguments.length;return 2!==c&&e.ac(c,2,this,"expectation"),(n=($=e.get("RSpec").$$scope.get("Mocks")).$allow_message,n.$$p=l.$to_proc(),n).call($,t,r,i([],{}))},s.$$arity=2,s.$$parameters=[["req","object"],["req","message"],["block","return_block"]])}(l.base,l.get("MessageChain"))}(l.base)}(r.base)},Opal.modules["rspec/mocks/marshal_extension"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$respond_to?","$instance_eval","$!","$registered?","$space","$===","$dump_without_rspec_mocks","$dup","$alias_method","$undef_method"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s=a=n(t,$super,"MarshalExtension",a),o=(s.$$proto,s.$$scope);e.defs(s,"$patch!",$=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"patch!"),(t=o.get("Marshal")["$respond_to?"]("dump_with_rspec_mocks"))===r||null==t||t.$$is_boolean&&1!=t?(t=(a=o.get("Marshal")).$instance_eval,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"patch!")}return function(t){var a,n=t.$$scope;t.$$proto;return e.defn(t,"$dump_with_rspec_mocks",a=function(t){var a,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"dump_with_rspec_mocks"),(a=!1!==($=e.get("RSpec").$$scope.get("Mocks").$space()["$registered?"](t)["$!"]())&&$!==r&&null!=$?$:n.get("NilClass")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a?($=s).$dump_without_rspec_mocks.apply($,[t.$dup()].concat(e.to_a(i))):(a=s).$dump_without_rspec_mocks.apply(a,[t].concat(e.to_a(i)))},a.$$arity=-2,a.$$parameters=[["req","object"],["rest","rest"]]),t.$alias_method("dump_without_rspec_mocks","dump"),t.$undef_method("dump"),t.$alias_method("dump","dump_with_rspec_mocks")}(e.get_singleton_class(t))},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a):r},$.$$arity=0,$.$$parameters=[]),e.defs(s,"$unpatch!",i=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"unpatch!"),(t=o.get("Marshal")["$respond_to?"]("dump_with_rspec_mocks"))===r||null==t||t.$$is_boolean&&1!=t?r:(t=(a=o.get("Marshal")).$instance_eval,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"unpatch!")}return function(e){e.$$scope,e.$$proto;return e.$undef_method("dump_with_rspec_mocks"),e.$undef_method("dump"),e.$alias_method("dump","dump_without_rspec_mocks"),e.$undef_method("dump_without_rspec_mocks")}(e.get_singleton_class(t))},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a)},i.$$arity=0,i.$$parameters=[])}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/mocks/matchers/have_received"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$+","$expect","$ensure_implemented","$mock_proxy","$expected_messages_received_in_order?","$ensure_count_unconstrained","$never","$generate_failure_message","$description","$each","$define_method","$<<","$disallow","$private","$raise","$build_expectation","$apply_constraints_to","$send","$count_constraint","$find","$include?","$map","$to_proc","$check_for_unexpected_arguments","$generate_error","$message","$replay_received_message_on","$expected_messages_received?","$ensure_expected_ordering_received!","$proxy_for","$space"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Mocks"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Matchers"),o=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E=n=$(r,$super,"HaveReceived",n),R=E.$$proto,O=E.$$scope;R.block=R.method_name=R.expectation=R.constraints=R.subject=a,e.cdecl(O,"COUNT_CONSTRAINTS",["exactly","at_least","at_most","times","once","twice","thrice"]),e.cdecl(O,"ARGS_CONSTRAINTS",["with"]),e.cdecl(O,"CONSTRAINTS",t(t(O.get("COUNT_CONSTRAINTS"),O.get("ARGS_CONSTRAINTS")),["ordered"])),e.defn(E,"$initialize",i=function(t){var r=this,n=i.$$p,$=n||a;i.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),r.method_name=t,r.block=$,r.constraints=[],r.subject=a},i.$$arity=1,i.$$parameters=[["req","method_name"],["block","block"]]),e.defn(E,"$name",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"have_received"},s.$$arity=0,s.$$parameters=[]),e.defn(E,"$matches?",o=function(t){var r,n=this,$=o.$$p,i=$||a;o.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"matches?"),!1!==(r=n.block)&&r!==a&&null!=r||(n.block=i),n.subject=t,n.expectation=n.$expect(),n.$mock_proxy().$ensure_implemented(n.method_name),n["$expected_messages_received_in_order?"]()},o.$$arity=1,o.$$parameters=[["req","subject"],["block","block"]]),e.defn(E,"$does_not_match?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.subject=t,r.$ensure_count_unconstrained(),r.expectation=r.$expect().$never(),r.$mock_proxy().$ensure_implemented(r.method_name),r["$expected_messages_received_in_order?"]()},l.$$arity=1,l.$$parameters=[["req","subject"]]),e.defn(E,"$failure_message",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$generate_failure_message()},c.$$arity=0,c.$$parameters=[]),e.defn(E,"$failure_message_when_negated",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$generate_failure_message()},u.$$arity=0,u.$$parameters=[]),e.defn(E,"$description",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$expect().$description()},_.$$arity=0,_.$$parameters=[]),(p=(d=O.get("CONSTRAINTS")).$each,p.$$p=(h=function(t){var r,n,$,i=h.$$s||this;if(null==t&&(t=a),h.$$is_lambda||h.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:HaveReceived>")}return(r=(n=i).$define_method,r.$$p=($=function(){var r,n=$.$$s||this;null==n.constraints&&(n.constraints=a);var i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<i;o++)r[o-0]=arguments[o];return n.constraints["$<<"]([t].concat(e.to_a(r))),n},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"]],$),r).call(n,t)},h.$$s=E,h.$$arity=1,h.$$parameters=[["req","expectation"]],h),p).call(d),e.defn(E,"$setup_allowance",f=function(){var t=this;f.$$p;f.$$p=null;var r=arguments.length;return 1!==r&&e.ac(r,1,this,"setup_allowance"),t.$disallow("allow"," as it would have no effect")},f.$$arity=1,f.$$parameters=[["req","_subject"],["block","_block"]]),e.defn(E,"$setup_any_instance_allowance",m=function(){var t=this;m.$$p;m.$$p=null;var r=arguments.length;return 1!==r&&e.ac(r,1,this,"setup_any_instance_allowance"),t.$disallow("allow_any_instance_of")},m.$$arity=1,m.$$parameters=[["req","_subject"],["block","_block"]]),e.defn(E,"$setup_any_instance_expectation",g=function(){var t=this;g.$$p;g.$$p=null;var r=arguments.length;return 1!==r&&e.ac(r,1,this,"setup_any_instance_expectation"),t.$disallow("expect_any_instance_of")},g.$$arity=1,g.$$parameters=[["req","_subject"],["block","_block"]]),E.$private(),e.defn(E,"$disallow",b=function(t,r){var a=this;null==r&&(r="");var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"disallow"),a.$raise(O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Using "+t+"(...) with the `have_received` matcher is not supported"+r+".")},b.$$arity=-2,b.$$parameters=[["req","type"],["opt","reason"]]),e.defn(E,"$expect",v=function(){var t,r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"expect"),!1!==(t=r.expectation)&&t!==a&&null!=t?t:r.expectation=function(){return n=r.$mock_proxy().$build_expectation(r.method_name),r.$apply_constraints_to(n),n}()},v.$$arity=0,v.$$parameters=[]),e.defn(E,"$apply_constraints_to",y=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"apply_constraints_to"),(r=(n=i.constraints).$each,r.$$p=($=function(r){var n;$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"apply_constraints_to")}return(n=t).$send.apply(n,e.to_a(r))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","constraint"]],$),r).call(n)},y.$$arity=1,y.$$parameters=[["req","expectation"]]),e.defn(E,"$ensure_count_unconstrained",x=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"ensure_count_unconstrained"),(t=r.$count_constraint())===a||null==t||t.$$is_boolean&&1!=t?a:r.$raise(O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"can't use "+r.$count_constraint()+" when negative")},x.$$arity=0,x.$$parameters=[]),e.defn(E,"$count_constraint",k=function(){var t,r,n,$,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"count_constraint"),(t=(r=($=(i=s.constraints).$map,$.$$p="first".$to_proc(),$).call(i)).$find,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"count_constraint")}return O.get("COUNT_CONSTRAINTS")["$include?"](t)},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","constraint"]],n),t).call(r)},k.$$arity=0,k.$$parameters=[]),e.defn(E,"$generate_failure_message",w=function(){var t=this,r=a,n=arguments.length;0!==n&&e.ac(n,0,this,"generate_failure_message");try{return t.$mock_proxy().$check_for_unexpected_arguments(t.expectation),t.expectation.$generate_error()}catch(t){if(!e.rescue(t,[O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError")]))throw t;r=t;try{return r.$message()}finally{e.pop_exception()}}},w.$$arity=0,w.$$parameters=[]),e.defn(E,"$expected_messages_received_in_order?",q=function(){var t,r,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"expected_messages_received_in_order?"),(t=(r=n.$mock_proxy()).$replay_received_message_on,t.$$p=n.block.$to_proc(),t).call(r,n.expectation),t=n.expectation["$expected_messages_received?"](),!1!==t&&t!==a&&null!=t?n.expectation["$ensure_expected_ordering_received!"]():t},q.$$arity=0,q.$$parameters=[]),e.defn(E,"$mock_proxy",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mock_proxy"),O.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t.subject)},S.$$arity=0,S.$$parameters=[])}(o.base,null)}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/mocks/matchers/receive"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_mocks","$warn_if_any_instance","$setup_mock_proxy_method_substitute","$unshift","$new","$setup_expectation","$to_proc","$setup_any_instance_method_substitute","$each","$method_defined?","$define_method","$<<","$public_instance_methods","$private","$===","$warning","$klass","$proxy_for","$space","$setup_method_substitute","$any_instance_proxy_for","$to_sym","$move_block_to_last_customization","$__send__","$playback_onto","$last","$block","$block="]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("matchers/expectation_customization"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y=a=n(t,$super,"Receive",a),x=y.$$proto,k=y.$$scope;x.recorded_customizations=x.message=x.block=r,e.defn(y,"$initialize",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.message=t,a.block=r,a.recorded_customizations=[]},$.$$arity=2,$.$$parameters=[["req","message"],["req","block"]]),e.defn(y,"$name",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive"},i.$$arity=0,i.$$parameters=[]),e.defn(y,"$setup_expectation",s=function(t){var a=this,n=s.$$p,$=n||r;s.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_expectation"),a.$warn_if_any_instance("expect",t),a.$setup_mock_proxy_method_substitute(t,"add_message_expectation",$)},s.$$arity=1,s.$$parameters=[["req","subject"],["block","block"]]),e.alias(y,"matches?","setup_expectation"),e.defn(y,"$setup_negative_expectation",o=function(t){var a,n,$=this,i=o.$$p,s=i||r;o.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"setup_negative_expectation"),$.recorded_customizations.$unshift(k.get("ExpectationCustomization").$new("never",[],r)),$.$warn_if_any_instance("expect",t),(a=(n=$).$setup_expectation,a.$$p=s.$to_proc(),a).call(n,t)},o.$$arity=1,o.$$parameters=[["req","subject"],["block","block"]]),e.alias(y,"does_not_match?","setup_negative_expectation"),e.defn(y,"$setup_allowance",l=function(t){var a=this,n=l.$$p,$=n||r;l.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_allowance"),a.$warn_if_any_instance("allow",t),a.$setup_mock_proxy_method_substitute(t,"add_stub",$)},l.$$arity=1,l.$$parameters=[["req","subject"],["block","block"]]),e.defn(y,"$setup_any_instance_expectation",c=function(t){var a=this,n=c.$$p,$=n||r;c.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_any_instance_expectation"),a.$setup_any_instance_method_substitute(t,"should_receive",$)},c.$$arity=1,c.$$parameters=[["req","subject"],["block","block"]]),e.defn(y,"$setup_any_instance_negative_expectation",u=function(t){var a=this,n=u.$$p,$=n||r;u.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_any_instance_negative_expectation"),a.$setup_any_instance_method_substitute(t,"should_not_receive",$)},u.$$arity=1,u.$$parameters=[["req","subject"],["block","block"]]),e.defn(y,"$setup_any_instance_allowance",_=function(t){var a=this,n=_.$$p,$=n||r;_.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_any_instance_allowance"),a.$setup_any_instance_method_substitute(t,"stub",$)},_.$$arity=1,_.$$parameters=[["req","subject"],["block","block"]]),(p=(d=k.get("MessageExpectation").$public_instance_methods(!1)).$each,p.$$p=(h=function(t){var a,n,$,i=h.$$s||this;if(null==t&&(t=r),h.$$is_lambda||h.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:Receive>")}return(a=i["$method_defined?"](t))===r||null==a||a.$$is_boolean&&1!=a?(a=(n=i).$define_method,a.$$p=($=function(){var e,a,n=$.$$s||this;null==n.recorded_customizations&&(n.recorded_customizations=r),e=$.$$p||r,$.$$p=null;var i=arguments.length,s=i-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<i;o++)a[o-0]=arguments[o];return n.recorded_customizations["$<<"](k.get("ExpectationCustomization").$new(t,a,e)),n},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),a).call(n,t):r},h.$$s=y,h.$$arity=1,h.$$parameters=[["req","method"]],h),p).call(d),y.$private(),e.defn(y,"$warn_if_any_instance",f=function(t,a){var n,$=arguments.length;return 2!==$&&e.ac($,2,this,"warn_if_any_instance"),(n=k.get("AnyInstance").$$scope.get("Proxy")["$==="](a))===r||null==n||n.$$is_boolean&&1!=n?r:k.get("RSpec").$warning("`"+t+"("+a.$klass()+".any_instance).to` is probably not what you meant, it does not operate on any instance of `"+a.$klass()+"`. Use `"+t+"_any_instance_of("+a.$klass()+").to` instead.")},f.$$arity=2,f.$$parameters=[["req","expression"],["req","subject"]]),e.defn(y,"$setup_mock_proxy_method_substitute",m=function(t,a,n){var $=this,i=r,s=arguments.length;return 3!==s&&e.ac(s,3,this,"setup_mock_proxy_method_substitute"),i=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),$.$setup_method_substitute(i,a,n)},m.$$arity=3,m.$$parameters=[["req","subject"],["req","method"],["req","block"]]),e.defn(y,"$setup_any_instance_method_substitute",g=function(t,a,n){var $=this,i=r,s=arguments.length;return 3!==s&&e.ac(s,3,this,"setup_any_instance_method_substitute"),i=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),$.$setup_method_substitute(i,a,n)},g.$$arity=3,g.$$parameters=[["req","subject"],["req","method"],["req","block"]]),e.defn(y,"$setup_method_substitute",b=function(t,a,n){var $,i,s,o,l,c=this,u=r,_=arguments.length,p=_-3;p<0&&(p=0),l=new Array(p);for(var d=3;d<_;d++)l[d-3]=arguments[d];var h=arguments.length;return h<3&&e.ac(h,-4,this,"setup_method_substitute"),l["$<<"](c.message.$to_sym()),n=c.$move_block_to_last_customization(n),u=($=(i=t).$__send__,$.$$p=(!1!==(s=c.block)&&s!==r&&null!=s?s:n).$to_proc(),$).apply(i,[a].concat(e.to_a(l))),($=(s=c.recorded_customizations).$each,$.$$p=(o=function(t){o.$$s;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"setup_method_substitute")}return t.$playback_onto(u)},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","customization"]],o),$).call(s),u},b.$$arity=-4,b.$$parameters=[["req","host"],["req","method"],["req","block"],["rest","args"]]),e.defn(y,"$move_block_to_last_customization",v=function(t){var a,n,$=this,i=r,s=arguments.length;return 1!==s&&e.ac(s,1,this,"move_block_to_last_customization"),!1===(i=$.recorded_customizations.$last())||i===r||null==i?t:(a=i,!1!==(n=a.$block())&&n!==r&&null!=n||a["$block="](t),r)},v.$$arity=1,v.$$parameters=[["req","block"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/matchers/receive_message_chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_mocks","$each","$define_method","$<<","$new","$stub_chain_on","$to_proc","$replay_customizations","$any_instance_proxy_for","$space","$stub_chain","$expect_chain","$expect_chain_on","$raise","$private","$playback_onto"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("matchers/expectation_customization"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"ReceiveMessageChain",a),m=f.$$proto,g=f.$$scope;m.block=m.chain=m.recorded_customizations=r,e.defn(f,"$initialize",$=function(t){var a=this,n=$.$$p,i=n||r;$.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),a.chain=t,a.block=i,a.recorded_customizations=[]},$.$$arity=1,$.$$parameters=[["req","chain"],["block","block"]]),(i=(s=["with","and_return","and_throw","and_raise","and_yield","and_call_original"]).$each,i.$$p=(o=function(t){var a,n,$,i=o.$$s||this;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:ReceiveMessageChain>")}return(a=(n=i).$define_method,a.$$p=($=function(){var e,a,n=$.$$s||this;null==n.recorded_customizations&&(n.recorded_customizations=r),e=$.$$p||r,$.$$p=null;var i=arguments.length,s=i-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<i;o++)a[o-0]=arguments[o];return n.recorded_customizations["$<<"](g.get("ExpectationCustomization").$new(t,a,e)),n},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),a).call(n,t)},o.$$s=f,o.$$arity=1,o.$$parameters=[["req","msg"]],o),i).call(s),e.defn(f,"$name",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive_message_chain"},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$setup_allowance",c=function(t){var a,n,$,i=this,s=c.$$p,o=s||r,l=r;c.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"setup_allowance"),l=(a=(n=g.get("StubChain")).$stub_chain_on,a.$$p=(!1!==($=i.block)&&$!==r&&null!=$?$:o).$to_proc(),a).apply(n,[t].concat(e.to_a(i.chain))),i.$replay_customizations(l)},c.$$arity=1,c.$$parameters=[["req","subject"],["block","block"]]),e.defn(f,"$setup_any_instance_allowance",u=function(t){var a,n,$,i=this,s=u.$$p,o=s||r,l=r,c=r;u.$$p=null;var _=arguments.length;return 1!==_&&e.ac(_,1,this,"setup_any_instance_allowance"),l=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),c=(a=(n=l).$stub_chain,a.$$p=(!1!==($=i.block)&&$!==r&&null!=$?$:o).$to_proc(),a).apply(n,e.to_a(i.chain)),i.$replay_customizations(c)},u.$$arity=1,u.$$parameters=[["req","subject"],["block","block"]]),e.defn(f,"$setup_any_instance_expectation",_=function(t){var a,n,$,i=this,s=_.$$p,o=s||r,l=r,c=r;_.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"setup_any_instance_expectation"),l=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),c=(a=(n=l).$expect_chain,a.$$p=(!1!==($=i.block)&&$!==r&&null!=$?$:o).$to_proc(),a).apply(n,e.to_a(i.chain)),i.$replay_customizations(c)},_.$$arity=1,_.$$parameters=[["req","subject"],["block","block"]]),e.defn(f,"$setup_expectation",p=function(t){var a,n,$,i=this,s=p.$$p,o=s||r,l=r;p.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"setup_expectation"),l=(a=(n=g.get("ExpectChain")).$expect_chain_on,a.$$p=(!1!==($=i.block)&&$!==r&&null!=$?$:o).$to_proc(),a).apply(n,[t].concat(e.to_a(i.chain))),i.$replay_customizations(l)},p.$$arity=1,p.$$parameters=[["req","subject"],["block","block"]]),e.defn(f,"$setup_negative_expectation",d=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise(g.get("NegationUnsupportedError"),"`expect(...).not_to receive_message_chain` is not supported since it doesn't really make sense. What would it even mean?")},d.$$arity=-1,d.$$parameters=[["rest","_args"]]),e.alias(f,"matches?","setup_expectation"),e.alias(f,"does_not_match?","setup_negative_expectation"),f.$private(),e.defn(f,"$replay_customizations",h=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"replay_customizations"),(a=(n=i.recorded_customizations).$each,a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"replay_customizations")}return a.$playback_onto(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","customization"]],$),a).call(n)},h.$$arity=1,h.$$parameters=[["req","chain"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/matchers/receive_messages"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$first_non_rspec_line","$warn_about_block","$each_message_on","$add_simple_expectation","$proxy_on","$raise","$add_simple_stub","$and_return","$should_receive","$any_instance_of","$stub","$private","$proxy_for","$space","$any_instance_proxy_for","$each"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"ReceiveMessages",a),m=f.$$proto,g=f.$$scope;m.message_return_value_hash=r,e.defn(f,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.message_return_value_hash=t,r.backtrace_line=g.get("CallerFilter").$first_non_rspec_line()},$.$$arity=1,$.$$parameters=[["req","message_return_value_hash"]]),e.defn(f,"$name",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive_messages"},i.$$arity=0,i.$$parameters=[]),e.defn(f,"$setup_expectation",s=function(t){var a,n,$,i=this,o=s.$$p,l=o||r;s.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"setup_expectation"),l!==r&&i.$warn_about_block(),(a=(n=i).$each_message_on,a.$$p=($=function(t,a,n){var i=$.$$s||this;if(null==i.backtrace_line&&(i.backtrace_line=r),null==t&&(t=r),null==a&&(a=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;3!==s&&e.block_ac(s,3,"setup_expectation")}return t.$add_simple_expectation(a,n,i.backtrace_line)},$.$$s=i,$.$$arity=3,$.$$parameters=[["req","host"],["req","message"],["req","return_value"]],$),a).call(n,i.$proxy_on(t))},s.$$arity=1,s.$$parameters=[["req","subject"]]),e.alias(f,"matches?","setup_expectation"),e.defn(f,"$setup_negative_expectation",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"setup_negative_expectation"),t.$raise(g.get("NegationUnsupportedError"),"`expect(...).to_not receive_messages` is not supported since it doesn't really make sense. What would it even mean?")},o.$$arity=1,o.$$parameters=[["req","_subject"]]),e.alias(f,"does_not_match?","setup_negative_expectation"),e.defn(f,"$setup_allowance",l=function(t){var a,n,$,i=this,s=l.$$p,o=s||r;l.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"setup_allowance"),o!==r&&i.$warn_about_block(),(a=(n=i).$each_message_on,a.$$p=($=function(t,a,n){$.$$s;if(null==t&&(t=r),null==a&&(a=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;3!==i&&e.block_ac(i,3,"setup_allowance")}return t.$add_simple_stub(a,n)},$.$$s=i,$.$$arity=3,$.$$parameters=[["req","host"],["req","message"],["req","return_value"]],$),a).call(n,i.$proxy_on(t))},l.$$arity=1,l.$$parameters=[["req","subject"]]),e.defn(f,"$setup_any_instance_expectation",c=function(t){var a,n,$,i=this,s=c.$$p,o=s||r;c.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"setup_any_instance_expectation"),o!==r&&i.$warn_about_block(),(a=(n=i).$each_message_on,a.$$p=($=function(t,a,n){$.$$s;if(null==t&&(t=r),null==a&&(a=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;3!==i&&e.block_ac(i,3,"setup_any_instance_expectation")}return t.$should_receive(a).$and_return(n)},$.$$s=i,$.$$arity=3,$.$$parameters=[["req","host"],["req","message"],["req","return_value"]],$),a).call(n,i.$any_instance_of(t))},c.$$arity=1,c.$$parameters=[["req","subject"]]),e.defn(f,"$setup_any_instance_allowance",u=function(t){var a=this,n=u.$$p,$=n||r;u.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"setup_any_instance_allowance"),$!==r&&a.$warn_about_block(),a.$any_instance_of(t).$stub(a.message_return_value_hash)},u.$$arity=1,u.$$parameters=[["req","subject"]]),e.defn(f,"$warn_about_block",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_block"),t.$raise("Implementation blocks aren't supported with `receive_messages`")},_.$$arity=0,_.$$parameters=[]),f.$private(),e.defn(f,"$proxy_on",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"proxy_on"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t)},p.$$arity=1,p.$$parameters=[["req","subject"]]),e.defn(f,"$any_instance_of",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"any_instance_of"),e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t)},d.$$arity=1,d.$$parameters=[["req","subject"]]),e.defn(f,"$each_message_on",h=function(t){var a,n,$,i=this,s=h.$$p,o=s||r;h.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"each_message_on"),(a=(n=i.message_return_value_hash).$each,a.$$p=($=function(a,n){$.$$s;if(null==a&&(a=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"each_message_on")}return e.yieldX(o,[t,a,n])},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","message"],["req","value"]],$),a).call(n)},h.$$arity=1,h.$$parameters=[["req","host"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},
Opal.modules["rspec/mocks"]=function(e){var t,r,a,n,$,i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.module),c=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_mocks","$<<","$new_scope","$space","$verify_all","$reset_all","$pop","$last","$add_stub","$to_proc","$proxy_for","$add_message_expectation","$setup","$verify","$teardown","$attr_reader","$new","$autoload"]),i.$require("rspec/support"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("warnings"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("ruby_features"),(t=(r=s.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return r.$require("rspec/mocks/../"+t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","f"]],a),t).call(r,"mocks"),(t=(n=["instance_method_stasher","method_double","argument_matchers","example_methods","proxy","test_double","argument_list_matcher","message_expectation","order_group","error_generator","space","mutate_const","targets","syntax","configuration","verifying_double","version"]).$each,t.$$p=($=function(t){$.$$s;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return s.get("RSpec").$$scope.get("Support").$require_rspec_mocks(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","name"]],$),t).call(n),function(t){var r,a=r=l(t,"RSpec"),n=(a.$$proto,a.$$scope);!function(t){var r,a,n,$,i,s,u,_=r=l(t,"Mocks"),p=(_.$$proto,_.$$scope);e.defs(_,"$setup",a=function(){var t=this;null==t.space_stack&&(t.space_stack=o);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"setup"),t.space_stack["$<<"](t.space=t.$space().$new_scope())},a.$$arity=0,a.$$parameters=[]),e.defs(_,"$verify",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify"),t.$space().$verify_all()},n.$$arity=0,n.$$parameters=[]),e.defs(_,"$teardown",$=function(){var t,r=this;null==r.space_stack&&(r.space_stack=o),null==r.root_space&&(r.root_space=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"teardown"),r.$space().$reset_all(),r.space_stack.$pop(),r.space=!1!==(t=r.space_stack.$last())&&t!==o&&null!=t?t:r.root_space},$.$$arity=0,$.$$parameters=[]),e.defs(_,"$allow_message",i=function(t,r,a){var n,$,s=this,l=i.$$p,u=l||o;null==a&&(a=c([],{})),i.$$p=null;var _=arguments.length;return(_<2||_>3)&&e.ac(_,-3,this,"allow_message"),(n=($=s.$space().$proxy_for(t)).$add_stub,n.$$p=u.$to_proc(),n).call($,r,a)},i.$$arity=-3,i.$$parameters=[["req","subject"],["req","message"],["opt","opts"],["block","block"]]),e.defs(_,"$expect_message",s=function(t,r,a){var n,$,i=this,l=s.$$p,u=l||o;null==a&&(a=c([],{})),s.$$p=null;var _=arguments.length;return(_<2||_>3)&&e.ac(_,-3,this,"expect_message"),(n=($=i.$space().$proxy_for(t)).$add_message_expectation,n.$$p=u.$to_proc(),n).call($,r,a)},s.$$arity=-3,s.$$parameters=[["req","subject"],["req","message"],["opt","opts"],["block","block"]]),e.defs(_,"$with_temporary_scope",u=function(){var t=this,r=u.$$p,a=r||o;u.$$p=null;var n=arguments.length;0!==n&&e.ac(n,0,this,"with_temporary_scope"),t.$setup();try{return e.yieldX(a,[]),t.$verify()}finally{t.$teardown()}},u.$$arity=0,u.$$parameters=[]),function(e){e.$$scope,e.$$proto;e.$attr_reader("space")}(e.get_singleton_class(_)),_.space_stack=[],_.root_space=_.space=p.get("RSpec").$$scope.get("Mocks").$$scope.get("RootSpace").$new(),e.cdecl(p,"IGNORED_BACKTRACE_LINE","this backtrace line is ignored"),_.$autoload("AnyInstance","rspec/mocks/any_instance"),_.$autoload("ExpectChain","rspec/mocks/message_chain"),_.$autoload("StubChain","rspec/mocks/message_chain"),_.$autoload("MarshalExtension","rspec/mocks/marshal_extension"),function(e){var t,r=t=l(e,"Matchers");r.$$proto,r.$$scope;r.$autoload("HaveReceived","rspec/mocks/matchers/have_received"),r.$autoload("Receive","rspec/mocks/matchers/receive"),r.$autoload("ReceiveMessageChain","rspec/mocks/matchers/receive_message_chain"),r.$autoload("ReceiveMessages","rspec/mocks/matchers/receive_messages")}(p.base)}(n.base)}(s.base)},Opal.modules["rspec/core/mocking_adapters/rspec"]=function(e){var t=e.top,r=e,a=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require","$include","$configuration","$setup","$verify","$teardown"]),t.$require("rspec/mocks"),function(t){var r,n=r=a(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var r,n=r=a(t,"Core"),$=(n.$$proto,n.$$scope);!function(t){var r,n=r=a(t,"MockingAdapters"),$=(n.$$proto,n.$$scope);!function(t){var r,n,$,i,s,o,l=r=a(t,"RSpec");l.$$proto,l.$$scope;l.$include(e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods")),e.defs(l,"$framework_name",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"framework_name"),"rspec"},n.$$arity=0,n.$$parameters=[]),e.defs(l,"$configuration",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"configuration"),e.get("RSpec").$$scope.get("Mocks").$configuration()},$.$$arity=0,$.$$parameters=[]),e.defn(l,"$setup_mocks_for_rspec",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"setup_mocks_for_rspec"),e.get("RSpec").$$scope.get("Mocks").$setup()},i.$$arity=0,i.$$parameters=[]),e.defn(l,"$verify_mocks_for_rspec",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verify_mocks_for_rspec"),e.get("RSpec").$$scope.get("Mocks").$verify()},s.$$arity=0,s.$$parameters=[]),e.defn(l,"$teardown_mocks_for_rspec",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"teardown_mocks_for_rspec"),e.get("RSpec").$$scope.get("Mocks").$teardown()},o.$$arity=0,o.$$parameters=[])}($.base)}($.base)}($.base)}(r.base)},Opal.modules["rspec/core/notifications"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=(e.top,e),o=e.nil,l=(e.breaker,e.slice,e.module),c=e.klass,u=e.range,_=e.hash2;return e.add_stubs(["$require_rspec_core","$require_rspec_support","$module_function","$new","$pending_fixed?","$execution_result","$==","$status","$private_class_method","$examples","$failed_examples","$pending_examples","$format_examples","$each_with_index","$<<","$fully_formatted","$next","$failure_notifications","$each","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$private","$map","$for","$public_class_method","$exception","$example","$add_shared_group_line","$failure_lines","$failure_color","$format_backtrace","$backtrace","$metadata","$detail_color","$formatted_backtrace","$description","$encoding_of","$colorized_message_lines","$colorized_formatted_backtrace","$method_defined?","$encoding","$to_s","$name","$class","$strip","$read_failed_line","$=~","$exception_class_name","$message","$split","$shared_group_line","$default_color","$find","$[]","$group_and_parent_groups","$shared_group","$+","$parent_groups","$example_group","$find_failed_line","$match","$exist?","$readlines","$-","$to_i","$expand_path","$file_path","$downcase","$fixed_color","$message_lines","$!","$used","$seed","$size","$pluralize","$example_count","$failure_count","$>","$pending_count","$totals_line","$pending_color","$success_color","$join","$format_duration","$duration","$load_time","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$colorized_rerun_commands","$first","$sort_by","$-@","$run_time","$number_of_examples","$inject","$slowest_examples","$/","$slow_duration","$%","$*","$nan?","$calculate_slowest_groups","$last","$[]=","$key?","$top_level_description","$<=","$length","$keys","$each_value","$to_f"]),s.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("encoded_string"),function(s){var p,d=p=l(s,"Core"),h=(d.$$proto,d.$$scope);!function(s){var p,d,h,f,m,g,b,v,y,x,k,w,q=p=l(s,"Notifications"),S=(q.$$proto,q.$$scope);!function(t){var r,a,n=r=l(t,"NullColorizer");n.$$proto,n.$$scope;n.$module_function(),e.defn(n,"$wrap",a=function(t){var r=arguments.length;return 2!==r&&e.ac(r,2,this,"wrap"),t},a.$$arity=2,a.$$parameters=[["req","line"],["req","_code_or_symbol"]])}(S.base),e.cdecl(S,"StartNotification",S.get("Struct").$new("count","load_time")),e.cdecl(S,"ExampleNotification",(d=(h=S.get("Struct")).$new,d.$$p=(f=function(){var t,r=f.$$s||this;if(f.$$is_lambda||f.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<module:Notifications>")}return e.defs(r,"$for",t=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"for"),(r=t.$execution_result()["$pending_fixed?"]())===o||null==r||r.$$is_boolean&&1!=r?t.$execution_result().$status()["$=="]("failed")?S.get("FailedExampleNotification").$new(t):a.$new(t):S.get("PendingExampleFixedNotification").$new(t)},t.$$arity=1,t.$$parameters=[["req","example"]]),r.$private_class_method("new")},f.$$s=q,f.$$arity=0,f.$$parameters=[],f),d).call(h,"example")),function(t,$super){function r(){}var a,n,$,i,s,l,u,_,p,d=r=c(t,$super,"ExamplesNotification",r),h=d.$$proto,f=d.$$scope;h.reporter=h.notifications=h.failed_notifications=o,e.defn(d,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.reporter=t},a.$$arity=1,a.$$parameters=[["req","reporter"]]),e.defn(d,"$examples",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"examples"),t.reporter.$examples()},n.$$arity=0,n.$$parameters=[]),e.defn(d,"$failed_examples",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failed_examples"),t.reporter.$failed_examples()},$.$$arity=0,$.$$parameters=[]),e.defn(d,"$pending_examples",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pending_examples"),t.reporter.$pending_examples()},i.$$arity=0,i.$$parameters=[]),e.defn(d,"$notifications",s=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"notifications"),!1!==(t=r.notifications)&&t!==o&&null!=t?t:r.notifications=r.$format_examples(r.$examples())},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$failure_notifications",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_notifications"),!1!==(t=r.failed_notifications)&&t!==o&&null!=t?t:r.failed_notifications=r.$format_examples(r.$failed_examples())},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$fully_formatted_failed_examples",u=function(t){var r,a,n,$=this,i=o;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"fully_formatted_failed_examples"),i="\nFailures:\n",(r=(a=$.$failure_notifications()).$each_with_index,r.$$p=(n=function(r,a){n.$$s;if(null==r&&(r=o),null==a&&(a=o),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"fully_formatted_failed_examples")}return i["$<<"](r.$fully_formatted(a.$next(),t))},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","failure"],["req","index"]],n),r).call(a),i},u.$$arity=-1,u.$$parameters=[["opt","colorizer"]]),e.defn(d,"$fully_formatted_pending_examples",_=function(t){var r,a,n,$=this,i=o;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"fully_formatted_pending_examples"),i="\nPending:\n",(r=(a=$.$pending_examples()).$each,r.$$p=(n=function(r){var a=(n.$$s,o);if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"fully_formatted_pending_examples")}return a=f.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(r.$location()),i["$<<"]("  "+t.$wrap(r.$full_description(),"pending")+"\n    # "+t.$wrap(r.$execution_result().$pending_message(),"detail")+"\n    # "+t.$wrap(a,"detail")+"\n")},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","example"]],n),r).call(a),i},_.$$arity=-1,_.$$parameters=[["opt","colorizer"]]),d.$private(),e.defn(d,"$format_examples",p=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"format_examples"),(r=(a=t).$map,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"format_examples")}return f.get("ExampleNotification").$for(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","example"]],n),r).call(a)},p.$$arity=1,p.$$parameters=[["req","examples"]])}(S.base,null),function(a,$super){function n(){}var $,i,s,l,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E=n=c(a,$super,"FailedExampleNotification",n),R=E.$$proto,O=E.$$scope;R.failure_lines=R.shared_group=R.shared_group_line=o,E.$public_class_method("new"),e.defn(E,"$exception",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exception"),t.$example().$execution_result().$exception()},$.$$arity=0,$.$$parameters=[]),e.defn(E,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$example().$full_description()},i.$$arity=0,i.$$parameters=[]),e.defn(E,"$message_lines",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message_lines"),t.$add_shared_group_line(t.$failure_lines(),O.get("NullColorizer"))},s.$$arity=0,s.$$parameters=[]),e.defn(E,"$colorized_message_lines",l=function(t){var r,a,n,$=this;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"colorized_message_lines"),(r=(a=$.$add_shared_group_line($.$failure_lines(),t)).$map,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"colorized_message_lines")}return t.$wrap(r,O.get("RSpec").$configuration().$failure_color())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","line"]],n),r).call(a)},l.$$arity=-1,l.$$parameters=[["opt","colorizer"]]),e.defn(E,"$formatted_backtrace",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_backtrace"),t.$backtrace_formatter().$format_backtrace(t.$exception().$backtrace(),t.$example().$metadata())},_.$$arity=0,_.$$parameters=[]),e.defn(E,"$colorized_formatted_backtrace",p=function(t){var r,a,n,$=this;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"colorized_formatted_backtrace"),(r=(a=$.$formatted_backtrace()).$map,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"colorized_formatted_backtrace")}return t.$wrap("# "+r,O.get("RSpec").$configuration().$detail_color())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","backtrace_info"]],n),r).call(a)},p.$$arity=-1,p.$$parameters=[["opt","colorizer"]]),e.defn(E,"$fully_formatted",d=function(t,r){var a,n,$,i,s,l=this,c=o;null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"fully_formatted"),c="\n  "+t+") "+l.$description()+"\n",(a=(n=l.$colorized_message_lines(r)).$each,a.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=o),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"fully_formatted")}return c["$<<"](O.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+t+"\n",r.$encoding_of(c)))},$.$$s=l,$.$$arity=1,$.$$parameters=[["req","line"]],$),a).call(n),(a=(i=l.$colorized_formatted_backtrace(r)).$each,a.$$p=(s=function(t){var r=s.$$s||this;if(null==t&&(t=o),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"fully_formatted")}return c["$<<"](O.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+t+"\n",r.$encoding_of(c)))},s.$$s=l,s.$$arity=1,s.$$parameters=[["req","line"]],s),a).call(i),c},d.$$arity=-2,d.$$parameters=[["req","failure_number"],["opt","colorizer"]]),E.$private(),(h=O.get("String")["$method_defined?"]("encoding"))===o||null==h||h.$$is_boolean&&1!=h?e.defn(E,"$encoding_of",m=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"encoding_of"),o},m.$$arity=1,m.$$parameters=[["req","_string"]]):e.defn(E,"$encoding_of",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"encoding_of"),t.$encoding()},f.$$arity=1,f.$$parameters=[["req","string"]]),e.defn(E,"$backtrace_formatter",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"backtrace_formatter"),O.get("RSpec").$configuration().$backtrace_formatter()},g.$$arity=0,g.$$parameters=[]),e.defn(E,"$exception_class_name",b=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"exception_class_name"),r=t.$exception().$class().$name().$to_s(),r["$=="]("")&&(r="(anonymous error class)"),r},b.$$arity=0,b.$$parameters=[]),e.defn(E,"$failure_lines",v=function(){var t,r,a,n,$=this,i=o,s=arguments.length;return 0!==s&&e.ac(s,0,this,"failure_lines"),!1!==(t=$.failure_lines)&&t!==o&&null!=t?t:$.failure_lines=function(){return i=["Failure/Error: "+$.$read_failed_line().$strip()],((r=$.$exception_class_name()["$=~"](/RSpec/))===o||null==r||r.$$is_boolean&&1!=r)&&i["$<<"]($.$exception_class_name()+":"),(r=(a=$.$exception().$message().$to_s().$split("\n")).$each,r.$$p=(n=function(t){var r,a=n.$$s||this;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"failure_lines")}return(r=a.$exception().$message())===o||null==r||r.$$is_boolean&&1!=r?o:i["$<<"]("  "+t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","line"]],n),r).call(a),i}()},v.$$arity=0,v.$$parameters=[]),e.defn(E,"$add_shared_group_line",y=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_shared_group_line"),a.$shared_group_line()["$=="]("")||t["$<<"](r.$wrap(a.$shared_group_line(),O.get("RSpec").$configuration().$default_color())),t},y.$$arity=2,y.$$parameters=[["req","lines"],["req","colorizer"]]),e.defn(E,"$shared_group",x=function(){var t,r,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"shared_group"),!1!==(t=$.shared_group)&&t!==o&&null!=t?t:$.shared_group=(r=(a=$.$group_and_parent_groups()).$find,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"shared_group")}return t.$metadata()["$[]"]("shared_group_name")},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","group"]],n),r).call(a)},x.$$arity=0,x.$$parameters=[]),e.defn(E,"$shared_group_line",k=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"shared_group_line"),!1!==(t=a.shared_group_line)&&t!==o&&null!=t?t:a.shared_group_line=function(){return(r=a.$shared_group())===o||null==r||r.$$is_boolean&&1!=r?"":'Shared Example Group: "'+a.$shared_group().$metadata()["$[]"]("shared_group_name")+'" called from '+a.$backtrace_formatter().$backtrace_line(a.$shared_group().$location())}()},k.$$arity=0,k.$$parameters=[]),e.defn(E,"$group_and_parent_groups",w=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"group_and_parent_groups"),t(r.$example().$example_group().$parent_groups(),[r.$example().$example_group()])},w.$$arity=0,w.$$parameters=[]),e.defn(E,"$read_failed_line",q=function(){var t,a,n=this,$=o,i=o,s=o,l=arguments.length;0!==l&&e.ac(l,0,this,"read_failed_line");try{return!1===($=n.$find_failed_line())||$===o||null==$?"Unable to find matching line from backtrace":(a=$.$match(/(.+?):(\d+)(|:\d+)/)["$[]"](u(1,2,!1)),t=e.to_ary(a),i=null==t[0]?o:t[0],s=null==t[1]?o:t[1],(t=O.get("File")["$exist?"](i))===o||null==t||t.$$is_boolean&&1!=t?"Unable to find "+i+" to read failed line":!1!==(t=O.get("File").$readlines(i)["$[]"](r(s.$to_i(),1)))&&t!==o&&null!=t?t:"Unable to find matching line in "+i)}catch(t){if(!e.rescue(t,[O.get("SecurityError")]))throw t;try{return"Unable to read failed line"}finally{e.pop_exception()}}},q.$$arity=0,q.$$parameters=[]),e.defn(E,"$find_failed_line",S=function(){var t,r,a,n=this,$=o,i=arguments.length;return 0!==i&&e.ac(i,0,this,"find_failed_line"),$=O.get("File").$expand_path(n.$example().$file_path()),(t=(r=n.$exception().$backtrace()).$find,t.$$p=(a=function(t){var r=(a.$$s,o);if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"find_failed_line")}return r=t.$match(/(.+?):(\d+)(|:\d+)/),!1!==r&&r!==o&&null!=r?r["$[]"](1).$downcase()["$=="]($.$downcase()):r},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","line"]],a),t).call(r)},S.$$arity=0,S.$$parameters=[])}(S.base,S.get("ExampleNotification")),function(t,$super){function r(){}var a,n,$,i=r=c(t,$super,"PendingExampleFixedNotification",r),s=(i.$$proto,i.$$scope);i.$public_class_method("new"),e.defn(i,"$description",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$example().$full_description()+" FIXED"},a.$$arity=0,a.$$parameters=[]),e.defn(i,"$message_lines",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message_lines"),["Expected pending '"+t.$example().$execution_result().$pending_message()+"' to fail. No Error was raised."]},n.$$arity=0,n.$$parameters=[]),e.defn(i,"$colorized_message_lines",$=function(t){var r,a,n,$=this;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"colorized_message_lines"),(r=(a=$.$message_lines()).$map,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=o),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"colorized_message_lines")}return t.$wrap(r,s.get("RSpec").$configuration().$fixed_color())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","line"]],n),r).call(a)},$.$$arity=-1,$.$$parameters=[["opt","colorizer"]])}(S.base,S.get("FailedExampleNotification")),e.cdecl(S,"GroupNotification",S.get("Struct").$new("group")),e.cdecl(S,"MessageNotification",S.get("Struct").$new("message")),e.cdecl(S,"SeedNotification",(d=(m=S.get("Struct")).$new,d.$$p=(g=function(){var t,r,a=g.$$s||this;if(g.$$is_lambda||g.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<module:Notifications>")}return e.def(a,"$seed_used?",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"seed_used?"),t.$used()["$!"]()["$!"]()},t.$$arity=0,t.$$parameters=[]),a.$private("used"),e.def(a,"$fully_formatted",r=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"fully_formatted"),"\nRandomized with seed "+t.$seed()+"\n\n"},r.$$arity=0,r.$$parameters=[]),o&&"fully_formatted"},g.$$s=q,g.$$arity=0,g.$$parameters=[],g),d).call(m,"seed","used")),e.cdecl(S,"SummaryNotification",(d=(b=S.get("Struct")).$new,d.$$p=(v=function(){var r,n,$,i,s,l,c,u,_,p=v.$$s||this;if(v.$$is_lambda||v.$$define_meth){var d=arguments.length;0!==d&&e.block_ac(d,0,"<module:Notifications>")}return e.def(p,"$example_count",r=function(){var t,r=this;null==r.example_count&&(r.example_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"example_count"),!1!==(t=r.example_count)&&t!==o&&null!=t?t:r.example_count=r.$examples().$size()},r.$$arity=0,r.$$parameters=[]),e.def(p,"$failure_count",n=function(){var t,r=this;null==r.failure_count&&(r.failure_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_count"),!1!==(t=r.failure_count)&&t!==o&&null!=t?t:r.failure_count=r.$failed_examples().$size()},n.$$arity=0,n.$$parameters=[]),e.def(p,"$pending_count",$=function(){var t,r=this;null==r.pending_count&&(r.pending_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"pending_count"),!1!==(t=r.pending_count)&&t!==o&&null!=t?t:r.pending_count=r.$pending_examples().$size()},$.$$arity=0,$.$$parameters=[]),e.def(p,"$totals_line",i=function(){var t,r=this,n=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"totals_line"),n=S.get("Formatters").$$scope.get("Helpers").$pluralize(r.$example_count(),"example"),n["$<<"](", ")["$<<"](S.get("Formatters").$$scope.get("Helpers").$pluralize(r.$failure_count(),"failure")),(t=a(r.$pending_count(),0))===o||null==t||t.$$is_boolean&&1!=t||n["$<<"](", "+r.$pending_count()+" pending"),n},i.$$arity=0,i.$$parameters=[]),e.def(p,"$colorized_totals_line",s=function(t){var r,n=this;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var $=arguments.length;return $>1&&e.ac($,-1,this,"colorized_totals_line"),(r=a(n.$failure_count(),0))===o||null==r||r.$$is_boolean&&1!=r?(r=a(n.$pending_count(),0))===o||null==r||r.$$is_boolean&&1!=r?t.$wrap(n.$totals_line(),S.get("RSpec").$configuration().$success_color()):t.$wrap(n.$totals_line(),S.get("RSpec").$configuration().$pending_color()):t.$wrap(n.$totals_line(),S.get("RSpec").$configuration().$failure_color())},s.$$arity=-1,s.$$parameters=[["opt","colorizer"]]),e.def(p,"$colorized_rerun_commands",l=function(r){var a,n,$,i=this;null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"colorized_rerun_commands"),t("\nFailed examples:\n\n",(a=(n=i.$failed_examples()).$map,a.$$p=($=function(a){$.$$s;if(null==a&&(a=o),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"colorized_rerun_commands")}return t(t(r.$wrap("rspec "+a.$location(),S.get("RSpec").$configuration().$failure_color())," "),r.$wrap("# "+a.$full_description(),S.get("RSpec").$configuration().$detail_color()))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","example"]],$),a).call(n).$join("\n"))},l.$$arity=-1,l.$$parameters=[["opt","colorizer"]]),e.def(p,"$formatted_duration",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_duration"),S.get("Formatters").$$scope.get("Helpers").$format_duration(t.$duration())},c.$$arity=0,c.$$parameters=[]),e.def(p,"$formatted_load_time",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_load_time"),S.get("Formatters").$$scope.get("Helpers").$format_duration(t.$load_time())},u.$$arity=0,u.$$parameters=[]),e.def(p,"$fully_formatted",_=function(t){var r,a=this,n=o;null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var $=arguments.length;return $>1&&e.ac($,-1,this,"fully_formatted"),n="\nFinished in "+a.$formatted_duration()+" (files took "+a.$formatted_load_time()+" to load)\n"+a.$colorized_totals_line(t)+"\n",((r=a.$failed_examples()["$empty?"]())===o||null==r||r.$$is_boolean&&1!=r)&&n["$<<"](a.$colorized_rerun_commands(t))["$<<"]("\n"),n},_.$$arity=-1,_.$$parameters=[["opt","colorizer"]]),o&&"fully_formatted"},v.$$s=q,v.$$arity=0,v.$$parameters=[],v),d).call(b,"duration","examples","failed_examples","pending_examples","load_time")),e.cdecl(S,"ProfileNotification",(d=(y=S.get("Struct")).$new,d.$$p=(x=function(){var r,a,s,l,c,u=x.$$s||this;if(x.$$is_lambda||x.$$define_meth){var p=arguments.length;0!==p&&e.block_ac(p,0,"<module:Notifications>")}return e.def(u,"$slowest_examples",r=function(){var t,r,a,n,$=this;null==$.slowest_examples&&($.slowest_examples=o);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"slowest_examples"),!1!==(t=$.slowest_examples)&&t!==o&&null!=t?t:$.slowest_examples=(r=(a=$.$examples()).$sort_by,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"slowest_examples")}return t.$execution_result().$run_time()["$-@"]()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","example"]],n),r).call(a).$first($.$number_of_examples())},r.$$arity=0,r.$$parameters=[]),e.def(u,"$slow_duration",a=function(){var r,a,n,$,i=this;null==i.slow_duration&&(i.slow_duration=o);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"slow_duration"),!1!==(r=i.slow_duration)&&r!==o&&null!=r?r:i.slow_duration=(a=(n=i.$slowest_examples()).$inject,a.$$p=($=function(r,a){$.$$s;if(null==r&&(r=o),null==a&&(a=o),$.$$is_lambda||$.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"slow_duration")}return t(r,a.$execution_result().$run_time())},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","i"],["req","e"]],$),a).call(n,0)},a.$$arity=0,a.$$parameters=[]),e.def(u,"$percentage",s=function(){var t,r,a=this,i=o;null==a.percentage&&(a.percentage=o);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"percentage"),!1!==(t=a.percentage)&&t!==o&&null!=t?t:a.percentage=function(){return i=n(a.$slow_duration(),a.$duration()),"%.1f"["$%"]($(function(){return(r=i["$nan?"]())===o||null==r||r.$$is_boolean&&1!=r?i:0}(),100))}()},s.$$arity=0,s.$$parameters=[]),e.def(u,"$slowest_groups",l=function(){var t,r=this;null==r.slowest_groups&&(r.slowest_groups=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"slowest_groups"),!1!==(t=r.slowest_groups)&&t!==o&&null!=t?t:r.slowest_groups=r.$calculate_slowest_groups()},l.$$arity=0,l.$$parameters=[]),u.$private(),e.def(u,"$calculate_slowest_groups",c=function(){var r,a,$,s,l,c,u,p=this,d=o,h=arguments.length;return 0!==h&&e.ac(h,0,this,"calculate_slowest_groups"),d=_([],{}),(r=(a=p.$examples()).$each,r.$$p=($=function(r){var a,n,i,s=($.$$s,o),l=o;if(null==r&&(r=o),$.$$is_lambda||$.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"calculate_slowest_groups")}return s=r.$example_group().$parent_groups().$last().$metadata()["$[]"]("location"),a=s,n=d,l=!1!==(i=n["$[]"](a))&&i!==o&&null!=i?i:n["$[]="](a,S.get("Hash").$new(0)),a="total_time",n=l,n["$[]="](a,t(n["$[]"](a),r.$execution_result().$run_time())),a="count",n=l,n["$[]="](a,t(n["$[]"](a),1)),(a=l["$key?"]("description"))===o||null==a||a.$$is_boolean&&1!=a?l["$[]="]("description",r.$example_group().$top_level_description()):o},$.$$s=p,$.$$arity=1,$.$$parameters=[["req","example"]],$),r).call(a),(r=i(d.$keys().$length(),1))===o||null==r||r.$$is_boolean&&1!=r?((r=(s=d).$each_value,r.$$p=(l=function(t){l.$$s;if(null==t&&(t=o),l.$$is_lambda||l.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"calculate_slowest_groups")}return t["$[]="]("average",n(t["$[]"]("total_time").$to_f(),t["$[]"]("count")))},l.$$s=p,l.$$arity=1,l.$$parameters=[["req","hash"]],l),r).call(s),(r=(c=d).$sort_by,r.$$p=(u=function(t,r){u.$$s;if(null==t&&(t=o),null==r&&(r=o),u.$$is_lambda||u.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"calculate_slowest_groups")}return r["$[]"]("average")["$-@"]()},u.$$s=p,u.$$arity=2,u.$$parameters=[["req","_"],["req","hash"]],u),r).call(c).$first(p.$number_of_examples())):_([],{})},c.$$arity=0,c.$$parameters=[]),o&&"calculate_slowest_groups"},x.$$s=q,x.$$arity=0,x.$$parameters=[],x),d).call(y,"duration","examples","number_of_examples")),e.cdecl(S,"DeprecationNotification",(d=(k=S.get("Struct")).$new,d.$$p=(w=function(){var t,r=w.$$s||this;if(w.$$is_lambda||w.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<module:Notifications>")}return r.$private_class_method("new"),e.defs(r,"$from_hash",t=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from_hash"),r.$new(t["$[]"]("deprecated"),t["$[]"]("message"),t["$[]"]("replacement"),t["$[]"]("call_site"))},t.$$arity=1,t.$$parameters=[["req","data"]]),o&&"from_hash"},w.$$s=q,w.$$arity=0,w.$$parameters=[],w),d).call(k,"deprecated","message","replacement","call_site")),function(e,$super){function t(){}var r=t=c(e,$super,"NullNotification",t);r.$$proto,r.$$scope}(S.base,null)}(h.base)}(s.get("RSpec"))},Opal.modules["rspec/core/option_parser"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2,s=e.gvars,o=e.range;return e.add_stubs(["$require","$parse","$new","$empty?","$delete","$parse!","$parser","$abort","$message","$banner=","$on","$[]","$[]=","$<<","$to_i","$require_rspec_core","$run","$exit","$separator","$last","$nil?","$==","$Integer","$warning","$compile","$escape","$=~","$split","$gsub","$to_sym","$===","$Float","$puts","$on_tail","$to_s","$join","$each","$raise"]),t.$require("optparse"),function(t){var r,l=r=n(t,"Core"),c=(l.$$proto,l.$$scope);!function(t,$super){function r(){}var n,l,c,u=r=$(t,$super,"Parser",r),_=(u.$$proto,u.$$scope);e.defs(u,"$parse",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"parse"),r.$new().$parse(t)},n.$$arity=1,n.$$parameters=[["req","args"]]),e.defn(u,"$parse",l=function(t){var r,n=this,$=a,s=a,o=arguments.length;if(1!==o&&e.ac(o,1,this,"parse"),(r=t["$empty?"]())!==a&&null!=r&&(!r.$$is_boolean||1==r))return i([],{});$=function(){
return(r=t.$delete("--tty"))===a||null==r||r.$$is_boolean&&1!=r?i([],{}):i(["tty"],{tty:!0})}();try{n.$parser($)["$parse!"](t)}catch(t){if(!e.rescue(t,[_.get("OptionParser").$$scope.get("InvalidOption")]))throw t;s=t;try{n.$abort(s.$message()+"\n\nPlease use --help for a listing of valid options")}finally{e.pop_exception()}}return $},l.$$arity=1,l.$$parameters=[["req","args"]]),e.defn(u,"$parser",c=function(t){var r,n,$,l=this,c=arguments.length;return 1!==c&&e.ac(c,1,this,"parser"),(r=(n=_.get("OptionParser")).$new,r.$$p=($=function(r){var n,l,c,u,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le,ce=$.$$s||this,ue=a;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var _e=arguments.length;1!==_e&&e.block_ac(_e,1,"parser")}return n=["Usage: rspec [options] [files or directories]\n\n"],l=r,l["$banner="].apply(l,n),n[n.length-1],(n=(l=r).$on,n.$$p=(c=function(r){var n,$,i;c.$$s;if(null==r&&(r=a),c.$$is_lambda||c.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return n="libs",$=t,!1!==(i=$["$[]"](n))&&i!==a&&null!=i||$["$[]="](n,[]),t["$[]"]("libs")["$<<"](r)},c.$$s=ce,c.$$arity=1,c.$$parameters=[["req","dir"]],c),n).call(l,"-I PATH","Specify PATH to add to $LOAD_PATH (may be used more than once)."),(n=(u=r).$on,n.$$p=(p=function(r){var n,$,i;p.$$s;if(null==r&&(r=a),p.$$is_lambda||p.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return n="requires",$=t,!1!==(i=$["$[]"](n))&&i!==a&&null!=i||$["$[]="](n,[]),t["$[]"]("requires")["$<<"](r)},p.$$s=ce,p.$$arity=1,p.$$parameters=[["req","path"]],p),n).call(u,"-r","--require PATH","Require a file."),(n=(d=r).$on,n.$$p=(h=function(r){h.$$s;if(null==r&&(r=a),h.$$is_lambda||h.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("custom_options_file",r)},h.$$s=ce,h.$$arity=1,h.$$parameters=[["req","path"]],h),n).call(d,"-O","--options PATH","Specify the path to a custom options file."),(n=(f=r).$on,n.$$p=(m=function(r){m.$$s;if(null==r&&(r=a),m.$$is_lambda||m.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("order",r)},m.$$s=ce,m.$$arity=1,m.$$parameters=[["req","o"]],m),n).call(f,"--order TYPE[:SEED]","Run examples by the specified order type.","  [defined] examples and groups are run in the order they are defined","  [rand]    randomize the order of groups and examples","  [random]  alias for rand","  [random:SEED] e.g. --order random:123"),(n=(g=r).$on,n.$$p=(b=function(r){b.$$s;if(null==r&&(r=a),b.$$is_lambda||b.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("order","rand:"+r)},b.$$s=ce,b.$$arity=1,b.$$parameters=[["req","seed"]],b),n).call(g,"--seed SEED",_.get("Integer"),"Equivalent of --order rand:SEED."),(n=(v=r).$on,n.$$p=(y=function(r){y.$$s;if(null==r&&(r=a),y.$$is_lambda||y.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("fail_fast",!0)},y.$$s=ce,y.$$arity=1,y.$$parameters=[["req","_o"]],y),n).call(v,"--fail-fast","Abort the run on first failure."),(n=(x=r).$on,n.$$p=(k=function(r){k.$$s;if(null==r&&(r=a),k.$$is_lambda||k.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("fail_fast",!1)},k.$$s=ce,k.$$arity=1,k.$$parameters=[["req","_o"]],k),n).call(x,"--no-fail-fast","Do not abort the run on first failure."),(n=(w=r).$on,n.$$p=(q=function(r){q.$$s;if(null==r&&(r=a),q.$$is_lambda||q.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("failure_exit_code",r)},q.$$s=ce,q.$$arity=1,q.$$parameters=[["req","code"]],q),n).call(w,"--failure-exit-code CODE",_.get("Integer"),"Override the exit code used when there are failing specs."),(n=(S=r).$on,n.$$p=(E=function(r){E.$$s;if(null==r&&(r=a),E.$$is_lambda||E.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("dry_run",!0)},E.$$s=ce,E.$$arity=1,E.$$parameters=[["req","_o"]],E),n).call(S,"--dry-run","Print the formatter output of your suite without","  running any examples or hooks"),(n=(R=r).$on,n.$$p=(O=function(r){O.$$s;if(null==r&&(r=a),O.$$is_lambda||O.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("drb",r)},O.$$s=ce,O.$$arity=1,O.$$parameters=[["req","o"]],O),n).call(R,"-X","--[no-]drb","Run examples via DRb."),(n=(M=r).$on,n.$$p=(A=function(r){A.$$s;if(null==r&&(r=a),A.$$is_lambda||A.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("drb_port",r.$to_i())},A.$$s=ce,A.$$arity=1,A.$$parameters=[["req","o"]],A),n).call(M,"--drb-port PORT","Port to connect to the DRb server."),(n=(z=r).$on,n.$$p=(j=function(t){var r=j.$$s||this;if(null==t&&(t=a),j.$$is_lambda||j.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return _.get("RSpec").$$scope.get("Support").$require_rspec_core("project_initializer"),_.get("ProjectInitializer").$new().$run(),r.$exit()},j.$$s=ce,j.$$arity=1,j.$$parameters=[["req","_cmd"]],j),n).call(z,"--init","Initialize your project with RSpec."),r.$separator("\n  **** Output ****\n\n"),(n=(T=r).$on,n.$$p=(I=function(r){var n,$,i;I.$$s;if(null==r&&(r=a),I.$$is_lambda||I.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return n="formatters",$=t,!1!==(i=$["$[]"](n))&&i!==a&&null!=i||$["$[]="](n,[]),t["$[]"]("formatters")["$<<"]([r])},I.$$s=ce,I.$$arity=1,I.$$parameters=[["req","o"]],I),n).call(T,"-f","--format FORMATTER","Choose a formatter.","  [p]rogress (default - dots)","  [d]ocumentation (group and example names)","  [h]tml","  [j]son","  custom formatter class name"),(n=(C=r).$on,n.$$p=(P=function(r){var n,$,i;P.$$s;if(null==r&&(r=a),P.$$is_lambda||P.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return n="formatters",$=t,!1!==(i=$["$[]"](n))&&i!==a&&null!=i||$["$[]="](n,[["progress"]]),t["$[]"]("formatters").$last()["$<<"](r)},P.$$s=ce,P.$$arity=1,P.$$parameters=[["req","o"]],P),n).call(C,"-o","--out FILE","Write output to a file instead of $stdout. This option applies","  to the previously specified --format, or the default format","  if no format is specified."),(n=(N=r).$on,n.$$p=(F=function(r){F.$$s;if(null==r&&(r=a),F.$$is_lambda||F.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("deprecation_stream",r)},F.$$s=ce,F.$$arity=1,F.$$parameters=[["req","file"]],F),n).call(N,"--deprecation-out FILE","Write deprecation warnings to a file instead of $stderr."),(n=(D=r).$on,n.$$p=(B=function(r){B.$$s;if(null==r&&(r=a),B.$$is_lambda||B.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("full_backtrace",!0)},B.$$s=ce,B.$$arity=1,B.$$parameters=[["req","_o"]],B),n).call(D,"-b","--backtrace","Enable full backtrace."),(n=(H=r).$on,n.$$p=(L=function(r){L.$$s;if(null==r&&(r=a),L.$$is_lambda||L.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("color",r)},L.$$s=ce,L.$$arity=1,L.$$parameters=[["req","o"]],L),n).call(H,"-c","--[no-]color","--[no-]colour","Enable color in the output."),(n=(U=r).$on,n.$$p=(G=function(r){var n,$=G.$$s||this;if(null==r&&(r=a),G.$$is_lambda||G.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return t["$[]="]("profile_examples",function(){if(!((n=r["$nil?"]())===a||null==n||n.$$is_boolean&&1!=n))return!0;if(r["$=="](!1))return!1;try{return $.$Integer(r)}catch(t){if(!e.rescue(t,[_.get("ArgumentError")]))throw t;try{return _.get("RSpec").$warning("Non integer specified as profile count, seperate your path from options with -- e.g. `rspec --profile -- "+r+"`",i(["call_site"],{call_site:a})),!0}finally{e.pop_exception()}}return a}())},G.$$s=ce,G.$$arity=1,G.$$parameters=[["req","argument"]],G),n).call(U,"-p","--[no-]profile [COUNT]","Enable profiling of examples and list the slowest examples (default: 10)."),(n=(Y=r).$on,n.$$p=(V=function(){V.$$s;if(V.$$is_lambda||V.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"parser")}return s.VERBOSE=!0},V.$$s=ce,V.$$arity=0,V.$$parameters=[],V),n).call(Y,"-w","--warnings","Enable ruby warnings"),r.$separator("\n  **** Filtering/tags ****\n\n    In addition to the following options for selecting specific files, groups,\n    or examples, you can select a single example by appending the line number to\n    the filename:\n\n      rspec path/to/a_spec.rb:37\n\n"),(n=(X=r).$on,n.$$p=(K=function(r){K.$$s;if(null==r&&(r=a),K.$$is_lambda||K.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("pattern",r)},K.$$s=ce,K.$$arity=1,K.$$parameters=[["req","o"]],K),n).call(X,"-P","--pattern PATTERN",'Load files matching pattern (default: "spec/**/*_spec.rb").'),(n=(W=r).$on,n.$$p=(Z=function(r){Z.$$s;if(null==r&&(r=a),Z.$$is_lambda||Z.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("exclude_pattern",r)},Z.$$s=ce,Z.$$arity=1,Z.$$parameters=[["req","o"]],Z),n).call(W,"--exclude-pattern PATTERN","Load files except those matching pattern. Opposite effect of --pattern."),(n=(J=r).$on,n.$$p=(Q=function(r){var n,$,i;Q.$$s;if(null==r&&(r=a),Q.$$is_lambda||Q.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"parser")}return(n="full_description",$=t,!1!==(i=$["$[]"](n))&&i!==a&&null!=i?i:$["$[]="](n,[]))["$<<"](_.get("Regexp").$compile(_.get("Regexp").$escape(r)))},Q.$$s=ce,Q.$$arity=1,Q.$$parameters=[["req","o"]],Q),n).call(J,"-e","--example STRING","Run examples whose full nested names include STRING (may be","  used more than once)"),(n=(ee=r).$on,n.$$p=(te=function(r){var n,$,s,l=te.$$s||this,c=a,u=a,_=a,p=a;if(null==r&&(r=a),te.$$is_lambda||te.$$define_meth){var d=arguments.length;1!==d&&e.block_ac(d,1,"parser")}return c=function(){return(n=r["$=~"](/^~/))===a||null==n||n.$$is_boolean&&1!=n?"inclusion_filter":"exclusion_filter"}(),$=r.$gsub(/^(~@|~|@)/,"").$split(":",2),n=e.to_ary($),u=null==n[0]?a:n[0],_=null==n[1]?a:n[1],u=u.$to_sym(),n=c,$=t,!1!==(s=$["$[]"](n))&&s!==a&&null!=s||$["$[]="](n,i([],{})),t["$[]"](c)["$[]="](u,function(){return p=_,!!a["$==="](p)||(!!"true"["$==="](p)||!"false"["$==="](p)&&("nil"["$==="](p)?a:/^:/["$==="](p)?_["$[]"](o(1,-1,!1)).$to_sym():/^\d+$/["$==="](p)?l.$Integer(_):/^\d+.\d+$/["$==="](p)?l.$Float(_):_))}())},te.$$s=ce,te.$$arity=1,te.$$parameters=[["req","tag"]],te),n).call(ee,"-t","--tag TAG[:VALUE]","Run examples with the specified tag, or exclude examples","by adding ~ before the tag.","  - e.g. ~slow","  - TAG is always converted to a symbol"),(n=(re=r).$on,n.$$p=(ae=function(r){ae.$$s;if(null==r&&(r=a),ae.$$is_lambda||ae.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parser")}return t["$[]="]("default_path",r)},ae.$$s=ce,ae.$$arity=1,ae.$$parameters=[["req","path"]],ae),n).call(re,"--default-path PATH","Set the default path where RSpec looks for examples (can","  be a path to a file or a directory)."),r.$separator("\n  **** Utility ****\n\n"),(n=(ne=r).$on,n.$$p=($e=function(){var t=$e.$$s||this;if($e.$$is_lambda||$e.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"parser")}return t.$puts(_.get("RSpec").$$scope.get("Core").$$scope.get("Version").$$scope.get("STRING")),t.$exit()},$e.$$s=ce,$e.$$arity=0,$e.$$parameters=[],$e),n).call(ne,"-v","--version","Display the version."),ue=["-d","--I"],(n=(ie=r).$on_tail,n.$$p=(se=function(){var t=se.$$s||this;if(se.$$is_lambda||se.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"parser")}return t.$puts(r.$to_s().$gsub(new RegExp("^\\s+("+ue.$join("|")+")\\s*$\\n"),"")),t.$exit()},se.$$s=ce,se.$$arity=0,se.$$parameters=[],se),n).call(ie,"-h","--help","You're looking at it."),(n=(oe=ue).$each,n.$$p=(le=function(t){var n,$,i,s=le.$$s||this;if(null==t&&(t=a),le.$$is_lambda||le.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"parser")}return(n=($=r).$on,n.$$p=(i=function(){var t=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"parser")}return t.$raise(_.get("OptionParser").$$scope.get("InvalidOption").$new())},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),n).call($,t)},le.$$s=ce,le.$$arity=1,le.$$parameters=[["req","option"]],le),n).call(oe)},$.$$s=l,$.$$arity=1,$.$$parameters=[["req","parser"]],$),r).call(n)},c.$$arity=1,c.$$parameters=[["req","options"]])}(c.base,null)}(r.get("RSpec"))},Opal.modules["rspec/core/ordering"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass,o=e.hash2;return e.add_stubs(["$require_rspec_core","$new","$seed","$shuffle","$>","$dup","$times","$+","$rand","$-","$size","$==","$[]","$[]=","$call","$register","$fetch","$to_proc","$used?","$attr_reader","$used_random_seed?","$ordering_registry","$register_ordering","$to_i","$split","$to_s","$include?","$key?","$seed=","$order="]),function(n){var l,c=l=i(n,"RSpec"),u=(c.$$proto,c.$$scope);!function(n){var l,c,u=l=i(n,"Core"),_=(u.$$proto,u.$$scope);(c=null==e.Object.$$scope.Random?$:"constant")===$||null==c||c.$$is_boolean&&1!=c?(_.get("RSpec").$$scope.get("Support").$require_rspec_core("backport_random"),e.cdecl(_,"RandomNumberGenerator",_.get("RSpec").$$scope.get("Core").$$scope.get("Backports").$$scope.get("Random"))):e.cdecl(_,"RandomNumberGenerator",e.get("Random")),function(n){var l,c=l=i(n,"Ordering"),u=(c.$$proto,c.$$scope);!function(t,$super){function r(){}var a,n=r=s(t,$super,"Identity",r);n.$$proto,n.$$scope;e.defn(n,"$order",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"order"),t},a.$$arity=1,a.$$parameters=[["req","items"]])}(u.base,null),function(n,$super){function i(){}var l,c,u,_,p,d,h=i=s(n,$super,"Random",i),f=h.$$proto,m=h.$$scope;f.used=f.configuration=$,e.defn(h,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.configuration=t,r.used=!1},l.$$arity=1,l.$$parameters=[["req","configuration"]]),e.defn(h,"$used?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"used?"),t.used},c.$$arity=0,c.$$parameters=[]),e.defn(h,"$order",u=function(t){var r=this,a=$,n=arguments.length;return 1!==n&&e.ac(n,1,this,"order"),r.used=!0,a=m.get("RandomNumberGenerator").$new(r.configuration.$seed()),r.$shuffle(t,a)},u.$$arity=1,u.$$parameters=[["req","items"]]),(_=t(m.get("RUBY_VERSION"),"1.9.3"))===$||null==_||_.$$is_boolean&&1!=_?e.defn(h,"$shuffle",d=function(t,n){var i,s,o,l=this,c=$,u=arguments.length;return 2!==u&&e.ac(u,2,this,"shuffle"),c=t.$dup(),(i=(s=c.$size()).$times,i.$$p=(o=function(t){var i,s=(o.$$s,$);if(null==t&&(t=$),o.$$is_lambda||o.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"shuffle")}return s=r(t,n.$rand(a(c.$size(),t))),t["$=="](s)?$:(i=[c["$[]"](s),c["$[]"](t)],c["$[]="](t,i[0]),c["$[]="](s,i[1]),i)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","i"]],o),i).call(s),c},d.$$arity=2,d.$$parameters=[["req","list"],["req","rng"]]):e.defn(h,"$shuffle",p=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"shuffle"),t.$shuffle(o(["random"],{random:r}))},p.$$arity=2,p.$$parameters=[["req","list"],["req","rng"]])}(u.base,null),function(t,$super){function r(){}var a,n,i=r=s(t,$super,"Custom",r),o=i.$$proto;i.$$scope;o.callable=$,e.defn(i,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.callable=t},a.$$arity=1,a.$$parameters=[["req","callable"]]),e.defn(i,"$order",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"order"),r.callable.$call(t)},n.$$arity=1,n.$$parameters=[["req","list"]])}(u.base,null),function(t,$super){function r(){}var a,n,i,l,c=r=s(t,$super,"Registry",r),u=c.$$proto,_=c.$$scope;u.strategies=$,e.defn(c,"$initialize",a=function(t){var r=this,a=$,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),r.configuration=t,r.strategies=o([],{}),r.$register("random",_.get("Random").$new(t)),a=_.get("Identity").$new(),r.$register("defined",a),r.$register("global",a)},a.$$arity=1,a.$$parameters=[["req","configuration"]]),e.defn(c,"$fetch",n=function(t){var r,a,i=this,s=n.$$p,o=s||$;n.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"fetch"),(r=(a=i.strategies).$fetch,r.$$p=o.$to_proc(),r).call(a,t)},n.$$arity=1,n.$$parameters=[["req","name"],["block","fallback"]]),e.defn(c,"$register",i=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"register"),a.strategies["$[]="](t,r)},i.$$arity=2,i.$$parameters=[["req","sym"],["req","strategy"]]),e.defn(c,"$used_random_seed?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"used_random_seed?"),t.strategies["$[]"]("random")["$used?"]()},l.$$arity=0,l.$$parameters=[])}(u.base,null),function(t,$super){function r(){}var a,n,i,o,l,c,u=r=s(t,$super,"ConfigurationManager",r),_=u.$$proto,p=u.$$scope;_.seed_forced=_.order_forced=$,u.$attr_reader("seed","ordering_registry"),e.defn(u,"$initialize",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.ordering_registry=p.get("Registry").$new(t),t.seed=t.$rand(65535),t.seed_forced=!1,t.order_forced=!1},a.$$arity=0,a.$$parameters=[]),e.defn(u,"$seed_used?",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"seed_used?"),t.$ordering_registry()["$used_random_seed?"]()},n.$$arity=0,n.$$parameters=[]),e.defn(u,"$seed=",i=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"seed="),(r=a.seed_forced)===$||null==r||r.$$is_boolean&&1!=r?(a.$register_ordering("global",a.$ordering_registry().$fetch("random")),a.seed=t.$to_i()):$},i.$$arity=1,i.$$parameters=[["req","seed"]]),e.defn(u,"$order=",o=function(t){var r,a,n=this,i=$,s=$,o=$,l=arguments.length;return 1!==l&&e.ac(l,1,this,"order="),a=t.$to_s().$split(":"),r=e.to_ary(a),i=null==r[0]?$:r[0],s=null==r[1]?$:r[1],!1!==s&&s!==$&&null!=s&&(n.seed=s.$to_i()),o=function(){return(r=i["$include?"]("rand"))===$||null==r||r.$$is_boolean&&1!=r?i["$=="]("defined")?"defined":$:"random"}(),!1!==o&&o!==$&&null!=o?n.$register_ordering("global",n.$ordering_registry().$fetch(o)):$},o.$$arity=1,o.$$parameters=[["req","type"]]),e.defn(u,"$force",l=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"force"),(r=t["$key?"]("seed"))===$||null==r||r.$$is_boolean&&1!=r?(r=t["$key?"]("order"))===$||null==r||r.$$is_boolean&&1!=r?$:(r=[t["$[]"]("order")],a=n,a["$order="].apply(a,r),r[r.length-1],n.order_forced=!0):(r=[t["$[]"]("seed")],a=n,a["$seed="].apply(a,r),r[r.length-1],n.seed_forced=!0,n.order_forced=!0)},l.$$arity=1,l.$$parameters=[["req","hash"]]),e.defn(u,"$register_ordering",c=function(t,r){var a,n,i,s=this,o=c.$$p,l=o||$;null==r&&(r=p.get("Custom").$new((a=(n=p.get("Proc")).$new,a.$$p=(i=function(t){i.$$s;if(null==t&&(t=$),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"register_ordering")}return e.yield1(l,t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","l"]],i),a).call(n))),c.$$p=null;var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"register_ordering"),n=s.order_forced,(a=!1!==n&&n!==$&&null!=n?t["$=="]("global"):n)===$||null==a||a.$$is_boolean&&1!=a?s.$ordering_registry().$register(t,r):$},c.$$arity=-2,c.$$parameters=[["req","name"],["opt","strategy"]])}(u.base,null)}(_.base)}(u.base)}(n.base)},Opal.modules["rspec/core/pending"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$attr_reader","$current_example","$raise","$gsub","$first_non_rspec_line","$mark_pending!","$mark_skipped!","$new","$[]=","$metadata","$!","$===","$pending_message=","$execution_result","$pending_fixed="]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Core"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o,l,c,u=$=a(t,"Pending"),_=(u.$$proto,u.$$scope);!function(t,$super){function r(){}var a,$=r=n(t,$super,"SkipDeclaredInExample",r);$.$$proto,$.$$scope;$.$attr_reader("argument"),e.defn($,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.argument=t},a.$$arity=1,a.$$parameters=[["req","argument"]])}(_.base,_.get("StandardError"));try{!function(e,$super){function t(){}var r=t=n(e,$super,"PendingExampleFixedError",t);r.$$proto,r.$$scope}(_.base,_.get("Test").$$scope.get("Unit").$$scope.get("AssertionFailedError"))}catch(t){if(!e.rescue(t,[_.get("StandardError")]))throw t;try{!function(e,$super){function t(){}var r=t=n(e,$super,"PendingExampleFixedError",t);r.$$proto,r.$$scope}(_.base,_.get("StandardError"))}finally{e.pop_exception()}}e.cdecl(_,"NO_REASON_GIVEN","No reason given"),e.cdecl(_,"NOT_YET_IMPLEMENTED","Not yet implemented"),e.defn(u,"$pending",i=function(t){var a=this,n=i.$$p,$=n||r,s=r;null==t&&(t=r),i.$$p=null;var o=arguments.length;return o>1&&e.ac(o,-1,this,"pending"),s=_.get("RSpec").$current_example(),$!==r?a.$raise(_.get("ArgumentError"),("            |The semantics of `RSpec::Core::Pending#pending` have changed in\n            |RSpec 3.  In RSpec 2.x, it caused the example to be skipped. In\n            |RSpec 3, the rest of the example is still run but is expected to\n            |fail, and will be marked as a failure (rather than as pending) if\n            |the example passes.\n            |\n            |Passing a block within an example is now deprecated. Marking the\n            |example as pending provides the same behavior in RSpec 3 which was\n            |provided only by the block in RSpec 2.x.\n            |\n            |Move the code in the block provided to `pending` into the rest of\n            |the example body.\n            |\n            |Called from "+_.get("CallerFilter").$first_non_rspec_line()+".\n            |\n").$gsub(/^\s+\|/,"")):!1!==s&&s!==r&&null!=s?_.get("Pending")["$mark_pending!"](s,t):a.$raise("`pending` may not be used outside of examples, such as in before(:context). Maybe you want `skip`?")},i.$$arity=-1,i.$$parameters=[["opt","message"]]),e.defn(u,"$skip",s=function(t){var a=this,n=r;null==t&&(t=r);var $=arguments.length;return $>1&&e.ac($,-1,this,"skip"),n=_.get("RSpec").$current_example(),!1!==n&&n!==r&&null!=n&&_.get("Pending")["$mark_skipped!"](n,t),a.$raise(_.get("SkipDeclaredInExample").$new(t))},s.$$arity=-1,s.$$parameters=[["opt","message"]]),e.defs(u,"$mark_skipped!",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"mark_skipped!"),_.get("Pending")["$mark_pending!"](t,r),t.$metadata()["$[]="]("skip",!0)},o.$$arity=2,o.$$parameters=[["req","example"],["req","message_or_bool"]]),e.defs(u,"$mark_pending!",l=function(t,a){var n,$,i=r,s=arguments.length;return 2!==s&&e.ac(s,2,this,"mark_pending!"),i=function(){return(n=!1!==($=a["$!"]())&&$!==r&&null!=$?$:_.get("String")["$==="](a)["$!"]())===r||null==n||n.$$is_boolean&&1!=n?a:_.get("NO_REASON_GIVEN")}(),t.$metadata()["$[]="]("pending",!0),n=[i],$=t.$execution_result(),$["$pending_message="].apply($,n),n[n.length-1],n=[!1],$=t.$execution_result(),$["$pending_fixed="].apply($,n),n[n.length-1]},l.$$arity=2,l.$$parameters=[["req","example"],["req","message_or_bool"]]),e.defs(u,"$mark_fixed!",c=function(t){var r,a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"mark_fixed!"),r=[!0],a=t.$execution_result(),a["$pending_fixed="].apply(a,r),r[r.length-1]},c.$$arity=1,c.$$parameters=[["req","example"]])}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/reporter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$new","$[]=","$attr_reader","$each","$<<","$[]","$to_sym","$to_a","$start","$finish","$to_f","$-","$start_time","$notify","$now","$empty?","$descendant_filtered_examples","$for","$from_hash","$stop","$mute_profile_output?","$profile_examples","$seed","$seed_used?","$__send__","$registered_listeners","$private","$!","$profile_examples?","$fail_fast?","$>","$size"]),function(a){var s,o=s=$(a,"Core"),l=(o.$$proto,o.$$scope);!function(a,$super){function $(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q=$=i(a,$super,"Reporter",$),S=q.$$proto,E=q.$$scope;S.listeners=S.start=S.configuration=S.load_time=S.examples=S.failed_examples=S.pending_examples=S.duration=n,e.defn(q,"$initialize",s=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),i.configuration=t,i.listeners=(r=(a=E.get("Hash")).$new,r.$$p=($=function(t,r){$.$$s;if(null==t&&(t=n),null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"initialize")}return t["$[]="](r,E.get("Set").$new())},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","h"],["req","k"]],$),r).call(a),i.examples=[],i.failed_examples=[],i.pending_examples=[],i.duration=i.start=i.load_time=n},s.$$arity=1,s.$$parameters=[["req","configuration"]]),q.$attr_reader("examples","failed_examples","pending_examples"),e.defn(q,"$register_listener",o=function(t){var r,a,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"register_listener"),(r=(a=i).$each,r.$$p=($=function(r){var a=$.$$s||this;if(null==a.listeners&&(a.listeners=n),null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"register_listener")}return a.listeners["$[]"](r.$to_sym())["$<<"](t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","notification"]],$),r).call(a),!0},o.$$arity=-2,o.$$parameters=[["req","listener"],["rest","notifications"]]),e.defn(q,"$registered_listeners",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"registered_listeners"),r.listeners["$[]"](t).$to_a()},l.$$arity=1,l.$$parameters=[["req","notification"]]),e.defn(q,"$report",c=function(t){var r=this,a=c.$$p,$=a||n;c.$$p=null;var i=arguments.length;1!==i&&e.ac(i,1,this,"report"),r.$start(t);try{return e.yield1($,r)}finally{r.$finish()}},c.$$arity=1,c.$$parameters=[["req","expected_example_count"]]),e.defn(q,"$start",u=function(r,a){var n=this;null==a&&(a=E.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now());var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"start"),n.start=a,n.load_time=t(n.start,n.configuration.$start_time()).$to_f(),n.$notify("start",E.get("Notifications").$$scope.get("StartNotification").$new(r,n.load_time))},u.$$arity=-2,u.$$parameters=[["req","expected_example_count"],["opt","time"]]),e.defn(q,"$message",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"message"),r.$notify("message",E.get("Notifications").$$scope.get("MessageNotification").$new(t))},_.$$arity=1,_.$$parameters=[["req","message"]]),e.defn(q,"$example_group_started",p=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"example_group_started"),(r=t.$descendant_filtered_examples()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?a.$notify("example_group_started",E.get("Notifications").$$scope.get("GroupNotification").$new(t)):n},p.$$arity=1,p.$$parameters=[["req","group"]]),e.defn(q,"$example_group_finished",d=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"example_group_finished"),(r=t.$descendant_filtered_examples()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?a.$notify("example_group_finished",E.get("Notifications").$$scope.get("GroupNotification").$new(t)):n},d.$$arity=1,d.$$parameters=[["req","group"]]),e.defn(q,"$example_started",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_started"),r.examples["$<<"](t),r.$notify("example_started",E.get("Notifications").$$scope.get("ExampleNotification").$for(t))},h.$$arity=1,h.$$parameters=[["req","example"]]),e.defn(q,"$example_passed",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.$notify("example_passed",E.get("Notifications").$$scope.get("ExampleNotification").$for(t))},f.$$arity=1,f.$$parameters=[["req","example"]]),e.defn(q,"$example_failed",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_failed"),r.failed_examples["$<<"](t),r.$notify("example_failed",E.get("Notifications").$$scope.get("ExampleNotification").$for(t))},m.$$arity=1,m.$$parameters=[["req","example"]]),e.defn(q,"$example_pending",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_pending"),r.pending_examples["$<<"](t),r.$notify("example_pending",E.get("Notifications").$$scope.get("ExampleNotification").$for(t))},g.$$arity=1,g.$$parameters=[["req","example"]]),e.defn(q,"$deprecation",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"deprecation"),r.$notify("deprecation",E.get("Notifications").$$scope.get("DeprecationNotification").$from_hash(t))},b.$$arity=1,b.$$parameters=[["req","hash"]]),e.defn(q,"$finish",v=function(){var t,r=this,a=arguments.length;0!==a&&e.ac(a,0,this,"finish");try{return r.$stop(),r.$notify("start_dump",E.get("Notifications").$$scope.get("NullNotification")),r.$notify("dump_pending",E.get("Notifications").$$scope.get("ExamplesNotification").$new(r)),r.$notify("dump_failures",E.get("Notifications").$$scope.get("ExamplesNotification").$new(r)),r.$notify("deprecation_summary",E.get("Notifications").$$scope.get("NullNotification")),r.$notify("dump_summary",E.get("Notifications").$$scope.get("SummaryNotification").$new(r.duration,r.examples,r.failed_examples,r.pending_examples,r.load_time)),((t=r["$mute_profile_output?"]())===n||null==t||t.$$is_boolean&&1!=t)&&r.$notify("dump_profile",E.get("Notifications").$$scope.get("ProfileNotification").$new(r.duration,r.examples,r.configuration.$profile_examples())),r.$notify("seed",E.get("Notifications").$$scope.get("SeedNotification").$new(r.configuration.$seed(),r["$seed_used?"]()))}finally{r.$notify("close",E.get("Notifications").$$scope.get("NullNotification"))}},v.$$arity=0,v.$$parameters=[]),e.defn(q,"$stop",y=function(){var r,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"stop"),(r=a.start)===n||null==r||r.$$is_boolean&&1!=r||(a.duration=t(E.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now(),a.start).$to_f()),a.$notify("stop",E.get("Notifications").$$scope.get("ExamplesNotification").$new(a))},y.$$arity=0,y.$$parameters=[]),e.defn(q,"$notify",x=function(t,r){var a,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"notify"),(a=($=s.$registered_listeners(t)).$each,a.$$p=(i=function(a){i.$$s;if(null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"notify")}return a.$__send__(t,r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","formatter"]],i),a).call($)},x.$$arity=2,x.$$parameters=[["req","event"],["req","notification"]]),q.$private(),e.defn(q,"$mute_profile_output?",k=function(){var t,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"mute_profile_output?"),!1!==(t=$.configuration["$profile_examples?"]()["$!"]())&&t!==n&&null!=t?t:(a=$.configuration["$fail_fast?"](),!1!==a&&a!==n&&null!=a?r($.failed_examples.$size(),0):a)},k.$$arity=0,k.$$parameters=[]),e.defn(q,"$seed_used?",w=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"seed_used?"),t=r.configuration.$seed(),!1!==t&&t!==n&&null!=t?r.configuration["$seed_used?"]():t},w.$$arity=0,w.$$parameters=[])}(l.base,null)}(a.get("RSpec"))},Opal.modules["rspec/core/ruby_project"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.gvars;return e.add_stubs(["$require","$map","$add_dir_to_load_path","$join","$root","$include?","$unshift","$determine_root","$find_first_parent_containing","$ascend_until","$exist?","$ascend","$Pathname","$expand_path","$module_function"]),t.$require("pathname"),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Core"),s=(i.$$proto,i.$$scope);!function(t){var r,i,s,o,l,c,u,_=r=n(t,"RubyProject"),p=(_.$$proto,_.$$scope);e.defn(_,"$add_to_load_path",i=function(){var t,r,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(r=$).$map,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"add_to_load_path")}return r.$add_dir_to_load_path(p.get("File").$join(r.$root(),t))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","dir"]],n),t).call(r)},i.$$arity=-1,i.$$parameters=[["rest","dirs"]]),e.defn(_,"$add_dir_to_load_path",s=function(t){var r;null==$.LOAD_PATH&&($.LOAD_PATH=a);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"add_dir_to_load_path"),(r=$.LOAD_PATH["$include?"](t))===a||null==r||r.$$is_boolean&&1!=r?$.LOAD_PATH.$unshift(t):a
},s.$$arity=1,s.$$parameters=[["req","dir"]]),e.defn(_,"$root",o=function(){var t,r=this;null==r.project_root&&(r.project_root=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"root"),!1!==(t=r.project_root)&&t!==a&&null!=t?t:r.project_root=r.$determine_root()},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$determine_root",l=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"determine_root"),!1!==(t=r.$find_first_parent_containing("spec"))&&t!==a&&null!=t?t:"."},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$find_first_parent_containing",c=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"find_first_parent_containing"),(r=(n=i).$ascend_until,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"find_first_parent_containing")}return p.get("File")["$exist?"](p.get("File").$join(r,t))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","path"]],$),r).call(n)},c.$$arity=1,c.$$parameters=[["req","dir"]]),e.defn(_,"$ascend_until",u=function(){try{var t,r,n,$=this,i=u.$$p,s=i||a;u.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"ascend_until"),(t=(r=$.$Pathname(p.get("File").$expand_path("."))).$ascend,t.$$p=(n=function(t){var r;n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"ascend_until")}if((r=e.yield1(s,t))===a||null==r||r.$$is_boolean&&1!=r)return a;e.ret(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","path"]],n),t).call(r)}catch(t){if(t===e.returner)return t.$v;throw t}},u.$$arity=0,u.$$parameters=[]),_.$module_function("add_to_load_path"),_.$module_function("add_dir_to_load_path"),_.$module_function("root"),_.$module_function("determine_root"),_.$module_function("find_first_parent_containing"),_.$module_function("ascend_until")}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/core/drb"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require","$configuration","$[]","$options","$start_service","$new_with_uri","$drb_port","$run","$drb_argv","$configure_filter_manager","$filter_manager","$new","$<<","$add_failure_exit_code","$add_full_description","$add_filter","$inclusions","$exclusions","$add_formatters","$add_libs","$add_requires","$+","$to_s","$each","$delete","$source","$empty?","$each_pair","$include?","$==","$is_a?"]),r.$require("drb/drb"),function(r){var a,s=a=$(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var a,s=a=$(r,"Core"),o=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var a,$,s,o,l=r=i(t,$super,"DRbRunner",r),c=l.$$proto,u=l.$$scope;c.options=c.drb_argv=c.configuration=n,e.defn(l,"$initialize",a=function(t,r){var a=this;null==r&&(r=u.get("RSpec").$configuration());var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"initialize"),a.options=t,a.configuration=r},a.$$arity=-2,a.$$parameters=[["req","options"],["opt","configuration"]]),e.defn(l,"$drb_port",$=function(){var t,r,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"drb_port"),!1!==(t=!1!==(r=a.options.$options()["$[]"]("drb_port"))&&r!==n&&null!=r?r:u.get("ENV")["$[]"]("RSPEC_DRB"))&&t!==n&&null!=t?t:8989},$.$$arity=0,$.$$parameters=[]),e.defn(l,"$run",s=function(t,r){var a=this,$=n,i=arguments.length;2!==i&&e.ac(i,2,this,"run");try{u.get("DRb").$start_service("druby://localhost:0")}catch(t){if(!e.rescue(t,[u.get("SocketError"),u.get("Errno").$$scope.get("EADDRNOTAVAIL")]))throw t;try{u.get("DRb").$start_service("druby://:0")}finally{e.pop_exception()}}return $=u.get("DRbObject").$new_with_uri("druby://127.0.0.1:"+a.$drb_port()),$.$run(a.$drb_argv(),t,r)},s.$$arity=2,s.$$parameters=[["req","err"],["req","out"]]),e.defn(l,"$drb_argv",o=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"drb_argv"),!1!==(t=r.drb_argv)&&t!==n&&null!=t?t:r.drb_argv=function(){return r.options.$configure_filter_manager(r.configuration.$filter_manager()),u.get("DRbOptions").$new(r.options.$options(),r.configuration.$filter_manager()).$options()}()},o.$$arity=0,o.$$parameters=[])}(o.base,null),function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d=a=i(r,$super,"DRbOptions",a),h=d.$$proto,f=d.$$scope;h.submitted_options=h.filter_manager=n,e.defn(d,"$initialize",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.submitted_options=t,a.filter_manager=r},$.$$arity=2,$.$$parameters=[["req","submitted_options"],["req","filter_manager"]]),e.defn(d,"$options",s=function(){var r,a=this,$=n,i=arguments.length;return 0!==i&&e.ac(i,0,this,"options"),$=[],(r=a.submitted_options["$[]"]("color"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--color"),(r=a.submitted_options["$[]"]("profile_examples"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--profile"),(r=a.submitted_options["$[]"]("full_backtrace"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--backtrace"),(r=a.submitted_options["$[]"]("tty"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--tty"),(r=a.submitted_options["$[]"]("fail_fast"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--fail-fast"),(r=a.submitted_options["$[]"]("custom_options_file"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--options")["$<<"](a.submitted_options["$[]"]("custom_options_file")),(r=a.submitted_options["$[]"]("order"))===n||null==r||r.$$is_boolean&&1!=r||$["$<<"]("--order")["$<<"](a.submitted_options["$[]"]("order")),a.$add_failure_exit_code($),a.$add_full_description($),a.$add_filter($,"inclusion",a.filter_manager.$inclusions()),a.$add_filter($,"exclusion",a.filter_manager.$exclusions()),a.$add_formatters($),a.$add_libs($),a.$add_requires($),t($,a.submitted_options["$[]"]("files_or_directories_to_run"))},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$add_failure_exit_code",o=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"add_failure_exit_code"),(r=a.submitted_options["$[]"]("failure_exit_code"))===n||null==r||r.$$is_boolean&&1!=r?n:t["$<<"]("--failure-exit-code")["$<<"](a.submitted_options["$[]"]("failure_exit_code").$to_s())},o.$$arity=1,o.$$parameters=[["req","argv"]]),e.defn(d,"$add_full_description",l=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add_full_description"),(r=i.submitted_options["$[]"]("full_description"))===n||null==r||r.$$is_boolean&&1!=r?n:(r=(a=i.submitted_options["$[]"]("full_description")).$each,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"add_full_description")}return t["$<<"]("--example")["$<<"](r.$source().$delete("\\"))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","description"]],$),r).call(a)},l.$$arity=1,l.$$parameters=[["req","argv"]]),e.cdecl(f,"CONDITIONAL_FILTERS",["if","unless"]),e.defn(d,"$add_filter",c=function(t,r,a){var $,i,s,o=this,l=arguments.length;return 3!==l&&e.ac(l,3,this,"add_filter"),($=a["$empty?"]())===n||null==$||$.$$is_boolean&&1!=$?($=(i=a).$each_pair,$.$$p=(s=function(a,$){var i,o=(s.$$s,n);if(null==a&&(a=n),null==$&&($=n),s.$$is_lambda||s.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"add_filter")}return(i=f.get("CONDITIONAL_FILTERS")["$include?"](a))===n||null==i||i.$$is_boolean&&1!=i?(o=function(){return r["$=="]("inclusion")?a.$to_s():"~"+a}(),(i=$["$is_a?"](f.get("String")))===n||null==i||i.$$is_boolean&&1!=i||o["$<<"](":"+$),t["$<<"]("--tag")["$<<"](o)):n},s.$$s=o,s.$$arity=2,s.$$parameters=[["req","k"],["req","v"]],s),$).call(i):n},c.$$arity=3,c.$$parameters=[["req","argv"],["req","name"],["req","hash"]]),e.defn(d,"$add_formatters",u=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add_formatters"),(r=i.submitted_options["$[]"]("formatters"))===n||null==r||r.$$is_boolean&&1!=r?n:(r=(a=i.submitted_options["$[]"]("formatters")).$each,r.$$p=($=function(r){var a;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_formatters")}return t["$<<"]("--format")["$<<"](r["$[]"](0)),(a=r["$[]"](1))===n||null==a||a.$$is_boolean&&1!=a?n:t["$<<"]("--out")["$<<"](r["$[]"](1))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","pair"]],$),r).call(a)},u.$$arity=1,u.$$parameters=[["req","argv"]]),e.defn(d,"$add_libs",_=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add_libs"),(r=i.submitted_options["$[]"]("libs"))===n||null==r||r.$$is_boolean&&1!=r?n:(r=(a=i.submitted_options["$[]"]("libs")).$each,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"add_libs")}return t["$<<"]("-I")["$<<"](r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","path"]],$),r).call(a)},_.$$arity=1,_.$$parameters=[["req","argv"]]),e.defn(d,"$add_requires",p=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"add_requires"),(r=i.submitted_options["$[]"]("requires"))===n||null==r||r.$$is_boolean&&1!=r?n:(r=(a=i.submitted_options["$[]"]("requires")).$each,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"add_requires")}return t["$<<"]("--require")["$<<"](r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","path"]],$),r).call(a)},p.$$arity=1,p.$$parameters=[["req","argv"]])}(o.base,null)}(o.base)}(a.base)},Opal.modules["rspec/core/runner"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.gvars;return e.add_stubs(["$autorun_disabled?","$deprecate","$installed_at_exit?","$running_in_drb?","$at_exit","$nil?","$is_a?","$invoke","$disable_autorun!","$to_i","$run","$!=","$exit","$trap_interrupt","$new","$[]","$options","$require","$puts","$configuration","$world","$setup","$run_specs","$ordered_example_groups","$error_stream=","$==","$output_stream","$output_stream=","$configure","$load_spec_files","$announce_filters","$report","$hooks","$all?","$map","$failure_exit_code","$reporter","$example_count","$current_server","$getaddress","$gethostname","$any?","$host","$URI","$uri","$trap","$wants_to_quit","$exit!","$wants_to_quit="]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g=a=n(t,$super,"Runner",a),b=g.$$proto,v=g.$$scope;b.world=b.configuration=b.options=r,e.defs(g,"$autorun",i=function(){var t,a,n,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"autorun"),(t=i["$autorun_disabled?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=!1!==(a=i["$installed_at_exit?"]())&&a!==r&&null!=a?a:i["$running_in_drb?"]())===r||null==t||t.$$is_boolean&&1!=t?((t=(a=i).$at_exit,t.$$p=(n=function(){var t,a,i=n.$$s||this;if(null==$["!"]&&($["!"]=r),n.$$is_lambda||n.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"autorun")}return(t=!1!==(a=$["!"]["$nil?"]())&&a!==r&&null!=a?a:$["!"]["$is_a?"](v.get("SystemExit")))===r||null==t||t.$$is_boolean&&1!=t?r:i.$invoke()},n.$$s=i,n.$$arity=0,n.$$parameters=[],n),t).call(a),i.installed_at_exit=!0):r:(v.get("RSpec").$deprecate("Requiring `rspec/autorun` when running RSpec via the `rspec` command"),r)},i.$$arity=0,i.$$parameters=[]),e.defs(g,"$invoke",s=function(){var t,a=this,n=r;null==$.stderr&&($.stderr=r),null==$.stdout&&($.stdout=r);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"invoke"),a["$disable_autorun!"](),n=a.$run(v.get("ARGV"),$.stderr,$.stdout).$to_i(),(t=n["$!="](0))===r||null==t||t.$$is_boolean&&1!=t?r:a.$exit(n)},s.$$arity=0,s.$$parameters=[]),e.defs(g,"$run",o=function(t,a,n){var i,s=this,o=r;null==$.stderr&&($.stderr=r),null==$.stdout&&($.stdout=r),null==a&&(a=$.stderr),null==n&&(n=$.stdout);var l=arguments.length;if((l<1||l>3)&&e.ac(l,-2,this,"run"),s.$trap_interrupt(),o=v.get("ConfigurationOptions").$new(t),(i=o.$options()["$[]"]("drb"))===r||null==i||i.$$is_boolean&&1!=i)return s.$new(o).$run(a,n);s.$require("rspec/core/drb");try{return v.get("DRbRunner").$new(o).$run(a,n)}catch(t){if(!e.rescue(t,[v.get("DRb").$$scope.get("DRbConnError")]))throw t;try{return a.$puts("No DRb server is running. Running in local process instead ..."),s.$new(o).$run(a,n)}finally{e.pop_exception()}}},o.$$arity=-2,o.$$parameters=[["req","args"],["opt","err"],["opt","out"]]),e.defn(g,"$initialize",l=function(t,r,a){var n=this;null==r&&(r=v.get("RSpec").$configuration()),null==a&&(a=v.get("RSpec").$world());var $=arguments.length;return($<1||$>3)&&e.ac($,-2,this,"initialize"),n.options=t,n.configuration=r,n.world=a},l.$$arity=-2,l.$$parameters=[["req","options"],["opt","configuration"],["opt","world"]]),e.defn(g,"$run",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"run"),a.$setup(t,r),a.$run_specs(a.world.$ordered_example_groups())},c.$$arity=2,c.$$parameters=[["req","err"],["req","out"]]),e.defn(g,"$setup",u=function(t,a){var n,i,s=this;null==$.stdout&&($.stdout=r);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"setup"),n=[t],i=s.configuration,i["$error_stream="].apply(i,n),n[n.length-1],s.configuration.$output_stream()["$=="]($.stdout)&&(n=[a],i=s.configuration,i["$output_stream="].apply(i,n),n[n.length-1]),s.options.$configure(s.configuration),s.configuration.$load_spec_files(),s.world.$announce_filters()},u.$$arity=2,u.$$parameters=[["req","err"],["req","out"]]),e.defn(g,"$run_specs",_=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"run_specs"),(a=(n=i.configuration.$reporter()).$report,a.$$p=($=function(a){var n,i,s,o,l=$.$$s||this,c=r;if(null==l.configuration&&(l.configuration=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"run_specs")}try{return c=v.get("SuiteHookContext").$new(),l.configuration.$hooks().$run("before","suite",c),(n=(i=(s=t).$map,i.$$p=(o=function(t){o.$$s;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run_specs")}return t.$run(a)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","g"]],o),i).call(s)["$all?"]())===r||null==n||n.$$is_boolean&&1!=n?l.configuration.$failure_exit_code():0}finally{l.configuration.$hooks().$run("after","suite",c)}},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","reporter"]],$),a).call(n,i.world.$example_count(t))},_.$$arity=1,_.$$parameters=[["req","example_groups"]]),e.defs(g,"$disable_autorun!",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"disable_autorun!"),t.autorun_disabled=!0},p.$$arity=0,p.$$parameters=[]),e.defs(g,"$autorun_disabled?",d=function(){var t,a=this;null==a.autorun_disabled&&(a.autorun_disabled=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"autorun_disabled?"),!1!==(t=a.autorun_disabled)&&t!==r&&null!=t?t:a.autorun_disabled=!1},d.$$arity=0,d.$$parameters=[]),e.defs(g,"$installed_at_exit?",h=function(){var t,a=this;null==a.installed_at_exit&&(a.installed_at_exit=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"installed_at_exit?"),!1!==(t=a.installed_at_exit)&&t!==r&&null!=t?t:a.installed_at_exit=!1},h.$$arity=0,h.$$parameters=[]),e.defs(g,"$running_in_drb?",f=function(){var t,a,n,$=this,i=r,s=r,o=arguments.length;0!==o&&e.ac(o,0,this,"running_in_drb?");try{try{return a=null!=v.DRb,(t=!1!==a&&a!==r&&null!=a?v.get("DRb").$current_server():a)===r||null==t||t.$$is_boolean&&1!=t?r:($.$require("socket"),$.$require("uri"),i=v.get("IPSocket").$getaddress(v.get("Socket").$gethostname()),s=(t=(a=["127.0.0.1","localhost",i])["$any?"],t.$$p=(n=function(t){var a=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"running_in_drb?")}return t["$=="](a.$URI(v.get("DRb").$current_server().$uri()).$host())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","addr"]],n),t).call(a))}catch(t){if(!e.rescue(t,[v.get("DRb").$$scope.get("DRbServerNotFound")]))throw t;try{return r}finally{e.pop_exception()}}}finally{return!1!==(t=s)&&t!==r&&null!=t&&t}},f.$$arity=0,f.$$parameters=[]),e.defs(g,"$trap_interrupt",m=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"trap_interrupt"),(t=(a=$).$trap,t.$$p=(n=function(){var t,a,$=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"trap_interrupt")}return(t=v.get("RSpec").$world().$wants_to_quit())===r||null==t||t.$$is_boolean&&1!=t||$["$exit!"](1),t=[!0],a=v.get("RSpec").$world(),a["$wants_to_quit="].apply(a,t),t[t.length-1],v.get("STDERR").$puts("\nExiting... Interrupt again to exit immediately.")},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a,"INT")},m.$$arity=0,m.$$parameters=[])}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/core/shared_example_group"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$==","$[]","$thread_local_metadata","$raise","$add","$to_proc","$shared_example_group_registry","$world","$proc","$exposed_globally?","$change_global_dsl","$definitions","$ensure_block_has_source_location","$first_non_rspec_line","$valid_name?","$warn_if_key_taken","$[]=","$shared_example_groups","$unshift","$empty?","$new","$__send__","$class_exec","$include","$configuration","$each","$private","$===","$warn_with","$gsub","$formatted_location","$join","$source_location","$method_defined?","$split","$extend","$define_method","$instance_exec"]),function(t){var i,s,o,l=i=a(t,"RSpec"),c=(l.$$proto,l.$$scope);!function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t){var i,s,o=i=a(t,"SharedExampleGroup"),l=(o.$$proto,o.$$scope);e.defn(o,"$shared_examples",s=function(t){var a,n,$,i=this,o=s.$$p,c=o||r,u=r,_=arguments.length,p=_-1;p<0&&(p=0),$=new Array(p);for(var d=1;d<_;d++)$[d-1]=arguments[d];s.$$p=null;var h=arguments.length;return h<1&&e.ac(h,-2,this,"shared_examples"),u=i["$=="](l.get("ExampleGroup")),(a=(n=!1!==u&&u!==r&&null!=u)?l.get("RSpec").$thread_local_metadata()["$[]"]("in_example_group"):u)===r||null==a||a.$$is_boolean&&1!=a||i.$raise("Creating isolated shared examples from within a context is not allowed. Remove `RSpec.` prefix or move this to a top-level scope."),(a=(n=l.get("RSpec").$world().$shared_example_group_registry()).$add,a.$$p=c.$to_proc(),a).apply(n,[i,t].concat(e.to_a($)))},s.$$arity=-2,s.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.alias(o,"shared_context","shared_examples"),e.alias(o,"shared_examples_for","shared_examples"),function(t){var n,$,i,s,o,l=n=a(t,"TopLevelDSL"),c=(l.$$proto,l.$$scope);e.defs(l,"$definitions",$=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"definitions"),(t=(a=$).$proc,t.$$p=(n=function(){var t,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"definitions")}return e.def(a,"$shared_examples",t=function(a){var n,$,i,s=t.$$p,o=s||r,l=arguments.length,u=l-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<l;_++)i[_-1]=arguments[_];t.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"shared_examples"),(n=($=c.get("RSpec").$world().$shared_example_group_registry()).$add,n.$$p=o.$to_proc(),n).apply($,["main",a].concat(e.to_a(i)))},t.$$arity=-2,t.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.alias(a,"shared_context","shared_examples"),e.alias(a,"shared_examples_for","shared_examples")},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a)},$.$$arity=0,$.$$parameters=[]),e.defs(l,"$exposed_globally?",i=function(){var t,a=this;null==a.exposed_globally&&(a.exposed_globally=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"exposed_globally?"),!1!==(t=a.exposed_globally)&&t!==r&&null!=t?t:a.exposed_globally=!1},i.$$arity=0,i.$$parameters=[]),e.defs(l,"$expose_globally!",s=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"expose_globally!"),(t=n["$exposed_globally?"]())===r||null==t||t.$$is_boolean&&1!=t?((t=(a=c.get("Core").$$scope.get("DSL")).$change_global_dsl,t.$$p=n.$definitions().$to_proc(),t).call(a),n.exposed_globally=!0):r},s.$$arity=0,s.$$parameters=[]),e.defs(l,"$remove_globally!",o=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"remove_globally!"),(t=$["$exposed_globally?"]())===r||null==t||t.$$is_boolean&&1!=t?r:((t=(a=c.get("Core").$$scope.get("DSL")).$change_global_dsl,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"remove_globally!")}return e.udef(t,"$shared_examples"),e.udef(t,"$shared_context"),e.udef(t,"$shared_examples_for")},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a),$.exposed_globally=!1)},o.$$arity=0,o.$$parameters=[])}(l.base),function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h=a=n(t,$super,"Registry",a),f=h.$$proto,m=h.$$scope;f.shared_example_groups=r,e.defn(h,"$add",i=function(t,a){var n,$,s,o,l,c,u=this,_=i.$$p,p=_||r,d=r,h=arguments.length,f=h-2;f<0&&(f=0),c=new Array(f);for(var g=2;g<h;g++)c[g-2]=arguments[g];i.$$p=null;var b=arguments.length;return b<2&&e.ac(b,-3,this,"add"),(n=($=u).$ensure_block_has_source_location,n.$$p=(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add")}return m.get("CallerFilter").$first_non_rspec_line()},s.$$s=u,s.$$arity=0,s.$$parameters=[],s),n).call($,p),(n=u["$valid_name?"](a))===r||null==n||n.$$is_boolean&&1!=n?c.$unshift(a):(u.$warn_if_key_taken(t,a,p),u.$shared_example_groups()["$[]"](t)["$[]="](a,p)),(n=c["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?(d=m.get("Module").$new(),(n=(o=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(d))).$__send__,n.$$p=(l=function(t){var a,n;l.$$s;if(null==t&&(t=r),l.$$is_lambda||l.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"add")}return(a=(n=t).$class_exec,a.$$p=p.$to_proc(),a).call(n)},l.$$s=u,l.$$arity=1,l.$$parameters=[["req","host"]],l),n).call(o,"define_method","included"),(n=m.get("RSpec").$configuration()).$include.apply(n,[d].concat(e.to_a(c)))):r},i.$$arity=-3,i.$$parameters=[["req","context"],["req","name"],["rest","metadata_args"],["block","block"]]),e.defn(h,"$find",s=function(t,a){try{var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"find"),(n=($=t).$each,n.$$p=(i=function(t){var n=i.$$s||this,$=r;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find")}if(!1===($=n.$shared_example_groups()["$[]"](t)["$[]"](a))||$===r||null==$)return r;e.ret($)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","context"]],i),n).call($),s.$shared_example_groups()["$[]"]("main")["$[]"](a)}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=2,s.$$parameters=[["req","lookup_contexts"],["req","name"]]),h.$private(),e.defn(h,"$shared_example_groups",o=function(){var t,a,n,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"shared_example_groups"),!1!==(t=s.shared_example_groups)&&t!==r&&null!=t?t:s.shared_example_groups=(a=(n=m.get("Hash")).$new,a.$$p=(i=function(t,a){i.$$s;if(null==t&&(t=r),null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"shared_example_groups")}return t["$[]="](a,$([],{}))},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","hash"],["req","context"]],i),a).call(n)},o.$$arity=0,o.$$parameters=[]),e.defn(h,"$valid_name?",l=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"valid_name?"),function(){return a=t,!!(m.get("String")["$==="](a)||m.get("Symbol")["$==="](a)||m.get("Module")["$==="](a))}()},l.$$arity=1,l.$$parameters=[["req","candidate"]]),e.defn(h,"$warn_if_key_taken",c=function(t,a,n){var i=this,s=r,o=arguments.length;return 3!==o&&e.ac(o,3,this,"warn_if_key_taken"),s=i.$shared_example_groups()["$[]"](t)["$[]"](a),!1===s||s===r||null==s?r:m.get("RSpec").$warn_with(("            |WARNING: Shared example group '"+a+"' has been previously defined at:\n            |  "+i.$formatted_location(s)+"\n            |...and you are now defining it at:\n            |  "+i.$formatted_location(n)+"\n            |The new definition will overwrite the original one.\n").$gsub(/^ +\|/,""),$(["call_site"],{call_site:r}))},c.$$arity=3,c.$$parameters=[["req","context"],["req","key"],["req","new_block"]]),e.defn(h,"$formatted_location",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"formatted_location"),t.$source_location().$join(":")},u.$$arity=1,u.$$parameters=[["req","block"]]),(_=m.get("Proc")["$method_defined?"]("source_location"))===r||null==_||_.$$is_boolean&&1!=_?e.defn(h,"$ensure_block_has_source_location",d=function(t){var a,n,$,i=this,s=d.$$p,o=s||r,l=r;d.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"ensure_block_has_source_location"),l=e.yieldX(o,[]).$split(":"),t.$extend((a=(n=m.get("Module")).$new,a.$$p=($=function(){var t,r,a,n=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"ensure_block_has_source_location")}return(t=(r=n).$define_method,t.$$p=(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"ensure_block_has_source_location")}return l},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"source_location")},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n))},d.$$arity=1,d.$$parameters=[["req","block"]]):e.defn(h,"$ensure_block_has_source_location",p=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"ensure_block_has_source_location"),r},p.$$arity=1,p.$$parameters=[["req","_block"]])}(l.base,null)}(o.base)}(c.base),(s=(o=l).$instance_exec,s.$$p=c.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL").$definitions().$to_proc(),s).call(o)}(t.base)},Opal.modules["rspec/core/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Core"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Version"),$=(n.$$proto,n.$$scope);e.cdecl($,"STRING","3.1.7")}($.base)}($.base)}(t.base)},Opal.modules["rspec/support/warnings"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$warn_with","$fetch","$first_non_rspec_line","$[]","$<<","$warn","$extend"]),t.$require("rspec/support"),r.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Support"),s=(i.$$proto,i.$$scope);!function(t){var r,i,s,o,l,c=r=n(t,"Warnings"),u=(c.$$proto,c.$$scope);e.defn(c,"$deprecate",i=function(t,r){var a=this;null==r&&(r=$([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"deprecate"),a.$warn_with("DEPRECATION: "+t+" is deprecated.",r)},i.$$arity=-2,i.$$parameters=[["req","deprecated"],["opt","options"]]),e.defn(c,"$warn_deprecation",s=function(t,r){var a=this;null==r&&(r=$([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"warn_deprecation"),a.$warn_with("DEPRECATION: \n "+t,r)},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","options"]]),e.defn(c,"$warning",o=function(t,r){var a=this;null==r&&(r=$([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"warning"),a.$warn_with("WARNING: "+t+".",r)},o.$$arity=-2,o.$$parameters=[["req","text"],["opt","options"]]),e.defn(c,"$warn_with",l=function(t,r){var n,i,s,o=this,l=a;null==r&&(r=$([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"warn_with"),l=(n=(i=r).$fetch,n.$$p=(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"warn_with")}return u.get("CallerFilter").$first_non_rspec_line()},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),n).call(i,"call_site"),(n=r["$[]"]("replacement"))===a||null==n||n.$$is_boolean&&1!=n||t["$<<"](" Use "+r["$[]"]("replacement")+" instead."),!1!==l&&l!==a&&null!=l&&t["$<<"](" Called from "+l+"."),e.get("Kernel").$warn(t)},l.$$arity=-2,l.$$parameters=[["req","message"],["opt","options"]])}(s.base)}(s.base),i.$extend(s.get("RSpec").$$scope.get("Support").$$scope.get("Warnings"))}(r.base)},Opal.modules["rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.hash2;return e.add_stubs(["$require","$deprecation","$reporter","$configuration","$merge","$first_non_rspec_line","$[]","$end_with?","$+","$current_example","$location"]),r.$require("rspec/support/warnings"),function(r){var a,s=a=$(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var a,s=a=$(r,"Core"),o=(s.$$proto,s.$$scope);!function(r){var a,s,o,l,c=a=$(r,"Warnings"),u=(c.$$proto,c.$$scope);e.defn(c,"$deprecate",s=function(t,r){null==r&&(r=i([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"deprecate"),u.get("RSpec").$configuration().$reporter().$deprecation(i(["deprecated","call_site"],{deprecated:t,call_site:u.get("CallerFilter").$first_non_rspec_line()}).$merge(r))},s.$$arity=-2,s.$$parameters=[["req","deprecated"],["opt","data"]]),e.defn(c,"$warn_deprecation",o=function(t,r){null==r&&(r=i([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"warn_deprecation"),u.get("RSpec").$configuration().$reporter().$deprecation(r.$merge(i(["message"],{message:t})))},o.$$arity=-2,o.$$parameters=[["req","message"],["opt","opts"]]),e.defn(c,"$warn_with",l=function(r,a){var $,s,o=this;l.$$p;null==a&&(a=i([],{})),l.$$p=null;var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"warn_with"),($=a["$[]"]("use_spec_location_as_call_site"))===n||null==$||$.$$is_boolean&&1!=$||((($=r["$end_with?"]("."))===n||null==$||$.$$is_boolean&&1!=$)&&(r=t(r,".")),($=u.get("RSpec").$current_example())===n||null==$||$.$$is_boolean&&1!=$||(r=t(r," Warning generated from spec at `"+u.get("RSpec").$current_example().$location()+"`."))),(s=o,$=e.find_super_dispatcher(o,"warn_with",l,!1),$.$$p=null,$).call(s,r,a)},l.$$arity=-2,l.$$parameters=[["req","message"],["opt","options"]])}(o.base)}(o.base)}(a.base)},Opal.modules["rspec/core/world"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=e.top,n=e,$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$require","$include","$attr_reader","$attr_accessor","$new","$[]=","$dup","$examples","$prune","$filter_manager","$uniq!","$configuration","$clear","$example_groups","$=~","$[]","$fetch","$ordering_registry","$order","$<<","$inclusion_filter","$exclusion_filter","$configure_group","$inject","$+","$size","$filtered_examples","$flat_map","$descendants","$<=","$sort","$declaration_line_numbers","$reporter","$announce_inclusion_filter","$announce_exclusion_filter","$empty?","$==","$length","$message","$join","$run_all_when_everything_filtered?","$zero?","$example_count","$everything_filtered_message","$description","$private"]),a.$require("rbconfig"),function(a){var n,o=n=i(a,"RSpec"),l=(o.$$proto,o.$$scope);!function(a){var n,o=n=i(a,"Core"),l=(o.$$proto,o.$$scope);!function(a,$super){function n(){}var i,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S=n=s(a,$super,"World",n),E=S.$$proto,R=S.$$scope;E.configuration=E.example_groups=E.shared_example_group_registry=E.line_numbers=$,S.$include(R.get("RSpec").$$scope.get("Core").$$scope.get("Hooks")),S.$attr_reader("example_groups","filtered_examples"),S.$attr_accessor("wants_to_quit"),e.defn(S,"$initialize",i=function(t){var r,a,n,i=this;null==t&&(t=R.get("RSpec").$configuration());var s=arguments.length;return s>1&&e.ac(s,-1,this,"initialize"),i.configuration=t,i.example_groups=[],i.filtered_examples=(r=(a=R.get("Hash")).$new,r.$$p=(n=function(t,r){var a=n.$$s||this,i=$;if(null==t&&(t=$),null==r&&(r=$),n.$$is_lambda||n.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"initialize")}return t["$[]="](r,function(){return i=r.$examples().$dup(),i=a.$filter_manager().$prune(i),i["$uniq!"](),i}())},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","hash"],["req","group"]],n),r).call(a)},i.$$arity=-1,i.$$parameters=[["opt","configuration"]]),e.defn(S,"$clear_remaining_example_groups",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear_remaining_example_groups"),t.$example_groups().$clear()},o.$$arity=0,o.$$parameters=[]),e.defn(S,"$windows_os?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows_os?"),R.get("RbConfig").$$scope.get("CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},l.$$arity=0,l.$$parameters=[]),e.defn(S,"$ordered_example_groups",c=function(){var t=this,r=$,a=arguments.length;return 0!==a&&e.ac(a,0,this,"ordered_example_groups"),r=t.configuration.$ordering_registry().$fetch("global"),r.$order(t.example_groups)},c.$$arity=0,c.$$parameters=[]),e.defn(S,"$reset",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.$example_groups().$clear(),
t.shared_example_group_registry=$},u.$$arity=0,u.$$parameters=[]),e.defn(S,"$filter_manager",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"filter_manager"),t.configuration.$filter_manager()},_.$$arity=0,_.$$parameters=[]),e.defn(S,"$register",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register"),r.$example_groups()["$<<"](t),t},p.$$arity=1,p.$$parameters=[["req","example_group"]]),e.defn(S,"$shared_example_group_registry",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"shared_example_group_registry"),!1!==(t=r.shared_example_group_registry)&&t!==$&&null!=t?t:r.shared_example_group_registry=R.get("SharedExampleGroup").$$scope.get("Registry").$new()},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$inclusion_filter",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusion_filter"),t.configuration.$inclusion_filter()},h.$$arity=0,h.$$parameters=[]),e.defn(S,"$exclusion_filter",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusion_filter"),t.configuration.$exclusion_filter()},f.$$arity=0,f.$$parameters=[]),e.defn(S,"$configure_group",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"configure_group"),r.configuration.$configure_group(t)},m.$$arity=1,m.$$parameters=[["req","group"]]),e.defn(S,"$example_count",g=function(r){var a,n,i,s,o,l,c=this;null==r&&(r=c.$example_groups());var u=arguments.length;return u>1&&e.ac(u,-1,this,"example_count"),(a=(n=(s=(o=R.get("FlatMap")).$flat_map,s.$$p=(l=function(t){l.$$s;if(null==t&&(t=$),l.$$is_lambda||l.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"example_count")}return t.$descendants()},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","g"]],l),s).call(o,r)).$inject,a.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=$),null==a&&(a=$),i.$$is_lambda||i.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"example_count")}return t(r,a.$filtered_examples().$size())},i.$$s=c,i.$$arity=2,i.$$parameters=[["req","a"],["req","e"]],i),a).call(n,0)},g.$$arity=-1,g.$$parameters=[["opt","groups"]]),e.defn(S,"$preceding_declaration_line",b=function(t){var a,n,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"preceding_declaration_line"),(a=(n=s.$declaration_line_numbers().$sort()).$inject,a.$$p=(i=function(a,n){var s;i.$$s;if(null==a&&(a=$),null==n&&(n=$),i.$$is_lambda||i.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"preceding_declaration_line")}return(s=r(n,t))===$||null==s||s.$$is_boolean&&1!=s?a:n},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","highest_prior_declaration_line"],["req","line"]],i),a).call(n,$)},b.$$arity=1,b.$$parameters=[["req","filter_line"]]),e.defn(S,"$reporter",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reporter"),t.configuration.$reporter()},v.$$arity=0,v.$$parameters=[]),e.defn(S,"$announce_filters",y=function(){var t,r,a=this,n=$,i=$,s=arguments.length;return 0!==s&&e.ac(s,0,this,"announce_filters"),n=[],a.$announce_inclusion_filter(n),a.$announce_exclusion_filter(n),((t=a.$filter_manager()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t)&&(n.$length()["$=="](1)?a.$reporter().$message("Run options: "+n["$[]"](0)):a.$reporter().$message("Run options:\n  "+n.$join("\n  "))),r=a.configuration["$run_all_when_everything_filtered?"](),(t=!1!==r&&r!==$&&null!=r?a.$example_count()["$zero?"]():r)===$||null==t||t.$$is_boolean&&1!=t||(a.$reporter().$message(a.$everything_filtered_message()+"; ignoring "+a.$inclusion_filter().$description()),a.$filtered_examples().$clear(),a.$inclusion_filter().$clear()),(t=a.$example_count()["$zero?"]())===$||null==t||t.$$is_boolean&&1!=t?$:(a.$example_groups().$clear(),(t=a.$filter_manager()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?(t=a.$exclusion_filter()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?(t=a.$inclusion_filter()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?$:a.$reporter().$message(a.$everything_filtered_message()):(i=a.$everything_filtered_message(),(t=a.configuration["$run_all_when_everything_filtered?"]())===$||null==t||t.$$is_boolean&&1!=t||i["$<<"]("; ignoring "+a.$inclusion_filter().$description()),a.$reporter().$message(i)):a.$reporter().$message("No examples found."))},y.$$arity=0,y.$$parameters=[]),e.defn(S,"$everything_filtered_message",x=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"everything_filtered_message"),"\nAll examples were filtered out"},x.$$arity=0,x.$$parameters=[]),e.defn(S,"$announce_inclusion_filter",k=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"announce_inclusion_filter"),(r=a.$inclusion_filter()["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?t["$<<"]("include "+a.$inclusion_filter().$description()):$},k.$$arity=1,k.$$parameters=[["req","announcements"]]),e.defn(S,"$announce_exclusion_filter",w=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"announce_exclusion_filter"),(r=a.$exclusion_filter()["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?t["$<<"]("exclude "+a.$exclusion_filter().$description()):$},w.$$arity=1,w.$$parameters=[["req","announcements"]]),S.$private(),e.defn(S,"$declaration_line_numbers",q=function(){var r,a,n,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"declaration_line_numbers"),!1!==(r=s.line_numbers)&&r!==$&&null!=r?r:s.line_numbers=(a=(n=s.$example_groups()).$inject,a.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=$),null==a&&(a=$),i.$$is_lambda||i.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"declaration_line_numbers")}return t(r,a.$declaration_line_numbers())},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","lines"],["req","g"]],i),a).call(n,[])},q.$$arity=0,q.$$parameters=[])}(l.base,null)}(l.base)}(n.base)},Opal.modules["rspec/expectations/configuration"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_expectations","$include?","$Array","$enable_expect","$disable_expect","$enable_should","$disable_should","$should_enabled?","$<<","$expect_enabled?","$respond_to?","$color_enabled?","$configuration","$attr_writer","$each","$backtrace_formatter","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default"]),t.get("RSpec").$$scope.get("Support").$require_rspec_expectations("syntax"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s=$=a(t,"Expectations"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"Configuration",a),m=f.$$proto,g=f.$$scope;m.color=m.backtrace_formatter=m.include_chain_clauses_in_custom_matcher_descriptions=r,e.defn(f,"$syntax=",$=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"syntax="),(a=n.$Array(t)["$include?"]("expect"))===r||null==a||a.$$is_boolean&&1!=a?g.get("Expectations").$$scope.get("Syntax").$disable_expect():g.get("Expectations").$$scope.get("Syntax").$enable_expect(),(a=n.$Array(t)["$include?"]("should"))===r||null==a||a.$$is_boolean&&1!=a?g.get("Expectations").$$scope.get("Syntax").$disable_should():g.get("Expectations").$$scope.get("Syntax").$enable_should()},$.$$arity=1,$.$$parameters=[["req","values"]]),e.defn(f,"$syntax",i=function(){var t,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"syntax"),a=[],(t=g.get("Expectations").$$scope.get("Syntax")["$should_enabled?"]())===r||null==t||t.$$is_boolean&&1!=t||a["$<<"]("should"),(t=g.get("Expectations").$$scope.get("Syntax")["$expect_enabled?"]())===r||null==t||t.$$is_boolean&&1!=t||a["$<<"]("expect"),a},i.$$arity=0,i.$$parameters=[]),(s=e.get("RSpec")["$respond_to?"]("configuration"))===r||null==s||s.$$is_boolean&&1!=s?(f.$attr_writer("color"),e.defn(f,"$color?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"color?"),t.color},l.$$arity=0,l.$$parameters=[])):e.defn(f,"$color?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"color?"),e.get("RSpec").$configuration()["$color_enabled?"]()},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$add_should_and_should_not_to",c=function(){var t,a,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(a=$).$each,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"add_should_and_should_not_to")}return g.get("Expectations").$$scope.get("Syntax").$enable_should(t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","mod"]],n),t).call(a)},c.$$arity=-1,c.$$parameters=[["rest","modules"]]),f.$attr_writer("backtrace_formatter"),e.defn(f,"$backtrace_formatter",u=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"backtrace_formatter"),!1!==(t=$.backtrace_formatter)&&t!==r&&null!=t?t:$.backtrace_formatter=function(){return(a=(n=e.get("RSpec").$configuration().$backtrace_formatter)&&!n.$$stub||e.get("RSpec").$configuration()["$respond_to_missing?"]("backtrace_formatter")?"method":r)===r||null==a||a.$$is_boolean&&1!=a?g.get("NullBacktraceFormatter"):e.get("RSpec").$configuration().$backtrace_formatter()}()},u.$$arity=0,u.$$parameters=[]),f.$attr_writer("include_chain_clauses_in_custom_matcher_descriptions"),e.defn(f,"$include_chain_clauses_in_custom_matcher_descriptions?",_=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"include_chain_clauses_in_custom_matcher_descriptions?"),!1!==(t=a.include_chain_clauses_in_custom_matcher_descriptions)&&t!==r&&null!=t?t:a.include_chain_clauses_in_custom_matcher_descriptions=!1},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$reset_syntaxes_to_default",p=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"reset_syntaxes_to_default"),t=[["should","expect"]],r=a,r["$syntax="].apply(r,t),t[t.length-1],g.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax")["$warn_about_should!"]()},p.$$arity=0,p.$$parameters=[]),e.cdecl(g,"NullBacktraceFormatter",(s=(d=g.get("Module")).$new,s.$$p=(h=function(){var t,a=h.$$s||this;if(h.$$is_lambda||h.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<class:Configuration>")}return e.defs(a,"$format_backtrace",t=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_backtrace"),t},t.$$arity=1,t.$$parameters=[["req","backtrace"]]),r&&"format_backtrace"},h.$$s=f,h.$$arity=0,h.$$parameters=[],h),s).call(d))}(o.base,null),e.defs(s,"$configuration",i=function(){var t,a=this;null==a.configuration&&(a.configuration=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configuration"),!1!==(t=a.configuration)&&t!==r&&null!=t?t:a.configuration=o.get("Configuration").$new()},i.$$arity=0,i.$$parameters=[]),s.$configuration().$reset_syntaxes_to_default()}(s.base)}(t.base)},Opal.modules["rspec/expectations/expectation_target"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$new","$equal?","$raise","$prevent_operator_matchers","$handle_matcher","$to_proc","$private","$enforce_block_expectation","$supports_block_expectations?","$description_of","$description","$inspect"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Expectations"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"ExpectationTarget",a),u=c.$$proto,_=c.$$scope;u.target=r,e.cdecl(_,"UndefinedValue",_.get("Module").$new()),e.defn(c,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.target=t},$.$$arity=1,$.$$parameters=[["req","value"]]),e.defs(c,"$for",i=function(t,a){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"for"),(n=_.get("UndefinedValue")["$equal?"](t))===r||null==n||n.$$is_boolean&&1!=n?!1!==a&&a!==r&&null!=a?$.$raise(_.get("ArgumentError"),"You cannot pass both an argument and a block to `expect`."):$.$new(t):(!1!==a&&a!==r&&null!=a||$.$raise(_.get("ArgumentError"),"You must pass either an argument or a block to `expect`."),_.get("BlockExpectationTarget").$new(a))},i.$$arity=2,i.$$parameters=[["req","value"],["req","block"]]),e.defn(c,"$to",s=function(t,a){var n,$,i=this,o=s.$$p,l=o||r;null==t&&(t=r),null==a&&(a=r),s.$$p=null;var c=arguments.length;return c>2&&e.ac(c,-1,this,"to"),!1!==t&&t!==r&&null!=t||i.$prevent_operator_matchers("to"),(n=($=_.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler")).$handle_matcher,n.$$p=l.$to_proc(),n).call($,i.target,t,a)},s.$$arity=-1,s.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.defn(c,"$not_to",o=function(t,a){var n,$,i=this,s=o.$$p,l=s||r;null==t&&(t=r),null==a&&(a=r),o.$$p=null;var c=arguments.length;return c>2&&e.ac(c,-1,this,"not_to"),!1!==t&&t!==r&&null!=t||i.$prevent_operator_matchers("not_to"),(n=($=_.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler")).$handle_matcher,n.$$p=l.$to_proc(),n).call($,i.target,t,a)},o.$$arity=-1,o.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.alias(c,"to_not","not_to"),c.$private(),e.defn(c,"$prevent_operator_matchers",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"prevent_operator_matchers"),r.$raise(_.get("ArgumentError"),"The expect syntax does not support operator matchers, so you must pass a matcher to `#"+t+"`.")},l.$$arity=1,l.$$parameters=[["req","verb"]])}(s.base,null),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"BlockExpectationTarget",a),u=(c.$$proto,c.$$scope);e.defn(c,"$to",$=function(t,a){var n,i,s=this,o=$.$$p,l=r,c=r;null==a&&(a=r),$.$$p=null;var u=arguments.length;for((u<1||u>2)&&e.ac(u,-2,this,"to"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s.$enforce_block_expectation(t),(i=s,n=e.find_super_dispatcher(s,"to",$,!1),n.$$p=o,n).apply(i,l)},$.$$arity=-2,$.$$parameters=[["req","matcher"],["opt","message"],["block","block"]]),e.defn(c,"$not_to",i=function(t,a){var n,$,s=this,o=i.$$p,l=r,c=r;null==a&&(a=r),i.$$p=null;var u=arguments.length;for((u<1||u>2)&&e.ac(u,-2,this,"not_to"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s.$enforce_block_expectation(t),($=s,n=e.find_super_dispatcher(s,"not_to",i,!1),n.$$p=o,n).apply($,l)},i.$$arity=-2,i.$$parameters=[["req","matcher"],["opt","message"],["block","block"]]),e.alias(c,"to_not","not_to"),c.$private(),e.defn(c,"$enforce_block_expectation",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"enforce_block_expectation"),(a=n["$supports_block_expectations?"](t))===r||null==a||a.$$is_boolean&&1!=a?n.$raise(u.get("ExpectationNotMetError"),"You must pass an argument rather than a block to use the provided matcher ("+n.$description_of(t)+"), or the matcher must implement `supports_block_expectations?`."):r},s.$$arity=1,s.$$parameters=[["req","matcher"]]),e.defn(c,"$supports_block_expectations?",o=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"supports_block_expectations?");try{return t["$supports_block_expectations?"]()}catch(t){if(!e.rescue(t,[u.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},o.$$arity=1,o.$$parameters=[["req","matcher"]]),e.defn(c,"$description_of",l=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"description_of");try{return t.$description()}catch(r){if(!e.rescue(r,[u.get("NoMethodError")]))throw r;try{return t.$inspect()}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","matcher"]])}(s.base,s.get("ExpectationTarget"))}(s.base)}(t.base)},Opal.modules["rspec/expectations/fail_with"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$require_rspec_support","$new","$lambda","$surface_descriptions_in","$color?","$configuration","$raise","$diff","$differ","$empty?"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("differ"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Expectations");i.$$proto,i.$$scope;!function(t){var a,$,i=t.$$scope;t.$$proto;e.defn(t,"$differ",a=function(){var t,a,$,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"differ"),i.get("RSpec").$$scope.get("Support").$$scope.get("Differ").$new(n(["object_preparer","color"],{object_preparer:(t=(a=s).$lambda,t.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"differ")}return i.get("RSpec").$$scope.get("Matchers").$$scope.get("Composable").$surface_descriptions_in(t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","object"]],$),t).call(a),color:i.get("RSpec").$$scope.get("Matchers").$configuration()["$color?"]()}))},a.$$arity=0,a.$$parameters=[]),e.defn(t,"$fail_with",$=function(t,a,n){var $,s=this,o=r;null==a&&(a=r),null==n&&(n=r);var l=arguments.length;return(l<1||l>3)&&e.ac(l,-2,this,"fail_with"),!1!==t&&t!==r&&null!=t||s.$raise(i.get("ArgumentError"),"Failure message is nil. Does your matcher define the appropriate failure_message[_when_negated] method to return a string?"),o=s.$differ().$diff(n,a),(($=o["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$)&&(t=t+"\nDiff:"+o),s.$raise(i.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError"),t)},$.$$arity=-2,$.$$parameters=[["req","message"],["opt","expected"],["opt","actual"]])}(e.get_singleton_class(i))}(s.base)}(t.base)},Opal.modules["rspec/expectations/handler"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$nil?","$respond_to?","$warn","$join","$inspect","$wrap","$check_message","$last_expectation_handler=","$last_matcher=","$modern_matcher_from","$call","$__send__","$diffable?","$fail_with","$expected","$actual","$setup","$new","$matches?","$to_proc","$handle_failure","$!","$does_not_match?","$warn_deprecation","$gsub","$name","$class","$first_non_rspec_line","$interface_matches?","$failure_message_for_should","$base_matcher","$failure_message_for_should_not","$failure_message","$negative_failure_message"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Expectations"),o=(s.$$proto,s.$$scope);!function(t){var n,$,i,s,o,l=n=a(t,"ExpectationHelper"),c=(l.$$proto,l.$$scope);e.defs(l,"$check_message",$=function(t){var a,n,$,i=arguments.length;return 1!==i&&e.ac(i,1,this,"check_message"),(a=!1!==(n=!1!==($=t["$nil?"]())&&$!==r&&null!=$?$:t["$respond_to?"]("to_str"))&&n!==r&&null!=n?n:t["$respond_to?"]("call"))===r||null==a||a.$$is_boolean&&1!=a?e.get("Kernel").$warn(["WARNING: ignoring the provided expectation message argument (",t.$inspect(),") since it is not a string or a proc."].$join()):r},$.$$arity=1,$.$$parameters=[["req","msg"]]),e.defs(l,"$modern_matcher_from",i=function(t){var a,n,$=arguments.length;return 1!==$&&e.ac($,1,this,"modern_matcher_from"),!1!==(a=!1!==(n=c.get("LegacyMatcherAdapter").$$scope.get("RSpec2").$wrap(t))&&n!==r&&null!=n?n:c.get("LegacyMatcherAdapter").$$scope.get("RSpec1").$wrap(t))&&a!==r&&null!=a?a:t},i.$$arity=1,i.$$parameters=[["req","matcher"]]),e.defs(l,"$setup",s=function(t,r,a){var n,$,i=this,s=arguments.length;return 3!==s&&e.ac(s,3,this,"setup"),i.$check_message(a),n=[t],$=e.get("RSpec").$$scope.get("Matchers"),$["$last_expectation_handler="].apply($,n),n[n.length-1],n=[i.$modern_matcher_from(r)],$=e.get("RSpec").$$scope.get("Matchers"),$["$last_matcher="].apply($,n),n[n.length-1]},s.$$arity=3,s.$$parameters=[["req","handler"],["req","matcher"],["req","message"]]),e.defs(l,"$handle_failure",o=function(t,a,n){var $,i,s=arguments.length;return 3!==s&&e.ac(s,3,this,"handle_failure"),($=a["$respond_to?"]("call"))===r||null==$||$.$$is_boolean&&1!=$||(a=a.$call()),!1!==($=a)&&$!==r&&null!=$||(a=t.$__send__(n)),i=t["$respond_to?"]("diffable?"),($=!1!==i&&i!==r&&null!=i?t["$diffable?"]():i)===r||null==$||$.$$is_boolean&&1!=$?e.get("RSpec").$$scope.get("Expectations").$fail_with(a):e.get("RSpec").$$scope.get("Expectations").$fail_with(a,t.$expected(),t.$actual())},o.$$arity=3,o.$$parameters=[["req","matcher"],["req","message"],["req","failure_message_method"]])}(o.base),function(t,$super){function a(){}var $,i,s,o,l=a=n(t,$super,"PositiveExpectationHandler",a),c=(l.$$proto,l.$$scope);e.defs(l,"$handle_matcher",$=function(t,a,n){var i,s,o,l=this,u=$.$$p,_=u||r,p=r;null==n&&(n=r),$.$$p=null;var d=arguments.length;return(d<2||d>3)&&e.ac(d,-3,this,"handle_matcher"),p=c.get("ExpectationHelper").$setup(l,a,n),!1===a||a===r||null==a?e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("PositiveOperatorMatcher").$new(t):!1!==(i=(s=(o=p)["$matches?"],s.$$p=_.$to_proc(),s).call(o,t))&&i!==r&&null!=i?i:c.get("ExpectationHelper").$handle_failure(p,n,"failure_message")},$.$$arity=-3,$.$$parameters=[["req","actual"],["req","initial_matcher"],["opt","message"],["block","block"]]),e.defs(l,"$verb",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verb"),"should"},i.$$arity=0,i.$$parameters=[]),e.defs(l,"$should_method",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"should_method"),"should"},s.$$arity=0,s.$$parameters=[]),e.defs(l,"$opposite_should_method",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"opposite_should_method"),"should_not"},o.$$arity=0,o.$$parameters=[])}(o.base,null),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"NegativeExpectationHandler",a),u=(c.$$proto,c.$$scope);e.defs(c,"$handle_matcher",$=function(t,a,n){var i,s,o,l=this,c=$.$$p,_=c||r,p=r;null==n&&(n=r),$.$$p=null;var d=arguments.length;return(d<2||d>3)&&e.ac(d,-3,this,"handle_matcher"),p=u.get("ExpectationHelper").$setup(l,a,n),!1===a||a===r||null==a?e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("NegativeOperatorMatcher").$new(t):(!1!==(i=(s=(o=l)["$does_not_match?"],s.$$p=_.$to_proc(),s).call(o,p,t))&&i!==r&&null!=i?i:u.get("ExpectationHelper").$handle_failure(p,n,"failure_message_when_negated"))["$!"]()},$.$$arity=-3,$.$$parameters=[["req","actual"],["req","initial_matcher"],["opt","message"],["block","block"]]),e.defs(c,"$does_not_match?",i=function(t,a){var n,$,s,o=i.$$p,l=o||r;i.$$p=null;var c=arguments.length;return 2!==c&&e.ac(c,2,this,"does_not_match?"),(n=t["$respond_to?"]("does_not_match?"))===r||null==n||n.$$is_boolean&&1!=n?(n=(s=t)["$matches?"],n.$$p=l.$to_proc(),n).call(s,a)["$!"]():(n=($=t)["$does_not_match?"],n.$$p=l.$to_proc(),n).call($,a)},i.$$arity=2,i.$$parameters=[["req","matcher"],["req","actual"],["block","block"]]),e.defs(c,"$verb",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verb"),"should not"},s.$$arity=0,s.$$parameters=[]),e.defs(c,"$should_method",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"should_method"),"should_not"},o.$$arity=0,o.$$parameters=[]),e.defs(c,"$opposite_should_method",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"opposite_should_method"),"should"},l.$$arity=0,l.$$parameters=[])}(o.base,null),function(t,$super){function a(){}var i,s,o=a=n(t,$super,"LegacyMatcherAdapter",a),l=(o.$$proto,o.$$scope);e.defn(o,"$initialize",i=function(t){var a,n,s=this,o=i.$$p,c=r,u=r;i.$$p=null;var _=arguments.length;for(1!==_&&e.ac(_,1,this,"initialize"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(n=s,a=e.find_super_dispatcher(s,"initialize",i,!1),a.$$p=o,a).apply(n,c),e.get("RSpec").$warn_deprecation(("          |"+(!1!==(a=t.$class().$name())&&a!==r&&null!=a?a:t.$inspect())+" implements a legacy RSpec matcher\n          |protocol. For the current protocol you should expose the failure messages\n          |via the `failure_message` and `failure_message_when_negated` methods.\n          |(Used from "+l.get("CallerFilter").$first_non_rspec_line()+")\n").$gsub(/^\s+\|/,""),$(["type"],{type:"legacy_matcher"}))},i.$$arity=1,i.$$parameters=[["req","matcher"]]),e.defs(o,"$wrap",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"wrap"),(a=n["$interface_matches?"](t))===r||null==a||a.$$is_boolean&&1!=a?r:n.$new(t)},s.$$arity=1,s.$$parameters=[["req","matcher"]]),function(t,$super){function a(){}var $,i,s,o=a=n(t,$super,"RSpec2",a);o.$$proto,o.$$scope;e.defn(o,"$failure_message",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$base_matcher().$failure_message_for_should()},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$failure_message_when_negated",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$base_matcher().$failure_message_for_should_not()},i.$$arity=0,i.$$parameters=[]),e.defs(o,"$interface_matches?",s=function(t){var a,n,$=arguments.length;return 1!==$&&e.ac($,1,this,"interface_matches?"),!1!==(n=t["$respond_to?"]("failure_message")["$!"](),a=!1!==n&&n!==r&&null!=n?t["$respond_to?"]("failure_message_for_should"):n)&&a!==r&&null!=a?a:(n=t["$respond_to?"]("failure_message_when_negated")["$!"](),!1!==n&&n!==r&&null!=n?t["$respond_to?"]("failure_message_for_should_not"):n)},s.$$arity=1,s.$$parameters=[["req","matcher"]])}(l.base,o),function(t,$super){function a(){}var $,i,s,o=a=n(t,$super,"RSpec1",a);o.$$proto,o.$$scope;e.defn(o,"$failure_message",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$base_matcher().$failure_message()},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$failure_message_when_negated",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$base_matcher().$negative_failure_message()},i.$$arity=0,i.$$parameters=[]),e.defs(o,"$interface_matches?",s=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"interface_matches?"),a=t["$respond_to?"]("failure_message_when_negated")["$!"](),!1!==a&&a!==r&&null!=a?t["$respond_to?"]("negative_failure_message"):a},s.$$arity=1,s.$$parameters=[["req","matcher"]])}(l.base,o)}(o.base,o.get("Matchers").$$scope.get("MatcherDelegator")),e.cdecl(o,"LegacyMacherAdapter",o.get("LegacyMatcherAdapter"))}(o.base)}(t.base)},Opal.modules["rspec/expectations/syntax"]=function(e){var t,r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,i=e.klass;return e.add_stubs(["$module_function","$last","$ancestors","$deprecate","$==","$default_should_host","$should_enabled?","$module_exec","$warn_about_should_unless_configured","$handle_matcher","$to_proc","$expect_enabled?","$for","$method_defined?"]),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Expectations"),s=(i.$$proto,i.$$scope);!function(t){var r,i,s,o,l,c,u,_,p,d,h=r=n(t,"Syntax"),f=(h.$$proto,h.$$scope);h.$module_function(),e.defn(h,"$default_should_host",i=function(){var t,r=this;null==r.default_should_host&&(r.default_should_host=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"default_should_host"),!1!==(t=r.default_should_host)&&t!==a&&null!=t?t:r.default_should_host=e.get("Object").$ancestors().$last()},i.$$arity=0,i.$$parameters=[]),e.defn(h,"$warn_about_should!",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_should!"),t.warn_about_should=!0},s.$$arity=0,s.$$parameters=[]),e.defn(h,"$warn_about_should_unless_configured",o=function(t){var r,n=this;null==n.warn_about_should&&(n.warn_about_should=a);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"warn_about_should_unless_configured"),(r=n.warn_about_should)===a||null==r||r.$$is_boolean&&1!=r?a:(f.get("RSpec").$deprecate("Using `"+t+"` from rspec-expectations' old `:should` syntax without explicitly enabling the syntax",$(["replacement"],{replacement:"the new `:expect` syntax or explicitly enable `:should`"})),n.warn_about_should=!1)},o.$$arity=1,o.$$parameters=[["req","method_name"]]),e.defn(h,"$enable_should",l=function(t){var r,n,$,i=this;null==t&&(t=i.$default_should_host());var s=arguments.length;return s>1&&e.ac(s,-1,this,"enable_should"),t["$=="](i.$default_should_host())&&(i.warn_about_should=!1),(r=i["$should_enabled?"](t))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=t).$module_exec,r.$$p=($=function(){var t,r,n=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"enable_should")}return e.def(n,"$should",t=function(r,n){var $,i,s=this,o=t.$$p,l=o||a;null==r&&(r=a),null==n&&(n=a),t.$$p=null;var c=arguments.length;return c>2&&e.ac(c,-1,this,"should"),e.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax").$warn_about_should_unless_configured("should"),($=(i=e.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler")).$handle_matcher,$.$$p=l.$to_proc(),$).call(i,s,r,n)},t.$$arity=-1,t.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.def(n,"$should_not",r=function(t,n){var $,i,s=this,o=r.$$p,l=o||a;null==t&&(t=a),null==n&&(n=a),r.$$p=null;var c=arguments.length;return c>2&&e.ac(c,-1,this,"should_not"),e.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax").$warn_about_should_unless_configured("should_not"),($=(i=e.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler")).$handle_matcher,$.$$p=l.$to_proc(),$).call(i,s,t,n)},r.$$arity=-1,r.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),a&&"should_not"},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n):a},l.$$arity=-1,l.$$parameters=[["opt","syntax_host"]]),e.defn(h,"$disable_should",c=function(t){var r,n,$,i=this;null==t&&(t=i.$default_should_host());var s=arguments.length;return s>1&&e.ac(s,-1,this,"disable_should"),(r=i["$should_enabled?"](t))===a||null==r||r.$$is_boolean&&1!=r?a:(r=(n=t).$module_exec,r.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_should")}return e.udef(t,"$should"),e.udef(t,"$should_not")},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n)},c.$$arity=-1,c.$$parameters=[["opt","syntax_host"]]),e.defn(h,"$enable_expect",u=function(t){var r,n,$,i=this;null==t&&(t=e.get("RSpec").$$scope.get("Matchers"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"enable_expect"),(r=i["$expect_enabled?"](t))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=t).$module_exec,r.$$p=($=function(){var t,r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"enable_expect")}return e.def(r,"$expect",t=function(r){var n=t.$$p,$=n||a;null==r&&(r=e.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationTarget").$$scope.get("UndefinedValue")),t.$$p=null;var i=arguments.length;return i>1&&e.ac(i,-1,this,"expect"),e.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationTarget").$for(r,$)},t.$$arity=-1,t.$$parameters=[["opt","value"],["block","block"]]),a&&"expect"},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n):a},u.$$arity=-1,u.$$parameters=[["opt","syntax_host"]]),e.defn(h,"$disable_expect",_=function(t){var r,n,$,i=this;null==t&&(t=e.get("RSpec").$$scope.get("Matchers"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"disable_expect"),(r=i["$expect_enabled?"](t))===a||null==r||r.$$is_boolean&&1!=r?a:(r=(n=t).$module_exec,r.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_expect")}return e.udef(t,"$expect")},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n)},_.$$arity=-1,_.$$parameters=[["opt","syntax_host"]]),e.defn(h,"$should_enabled?",p=function(t){var r=this;null==t&&(t=r.$default_should_host());var a=arguments.length;return a>1&&e.ac(a,-1,this,"should_enabled?"),t["$method_defined?"]("should")},p.$$arity=-1,p.$$parameters=[["opt","syntax_host"]]),e.defn(h,"$expect_enabled?",d=function(t){null==t&&(t=e.get("RSpec").$$scope.get("Matchers"));var r=arguments.length;return r>1&&e.ac(r,-1,this,"expect_enabled?"),t["$method_defined?"]("expect")},d.$$arity=-1,d.$$parameters=[["opt","syntax_host"]])}(s.base)}(s.base)}(r.base),(t=null!=r.BasicObject)===a||null==t||t.$$is_boolean&&1!=t?a:function(e,$super){function t(){}var r=t=i(e,$super,"BasicObject",t);r.$$proto,r.$$scope;return a}(r.base,null)},Opal.modules["rspec/expectations/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Expectations"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Version"),$=(n.$$proto,n.$$scope);e.cdecl($,"STRING","3.1.2")}($.base)}($.base)}(t.base)},Opal.modules["rspec/matchers/aliased_matcher"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$is_a_matcher?","$new","$class","$call","$respond_to?","$does_not_match?","$to_proc","$!","$matches?","$optimal_failure_message","$private","$has_default_failure_messages?","$__send__","$!="]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}
var $,i,s,o,l,c=a=n(t,$super,"AliasedMatcher",a),u=c.$$proto,_=c.$$scope;u.description_block=r,e.defn(c,"$initialize",$=function(t,r){var a,n,i=this;$.$$p;$.$$p=null;var s=arguments.length;return 2!==s&&e.ac(s,2,this,"initialize"),i.description_block=r,(n=i,a=e.find_super_dispatcher(i,"initialize",$,!1),a.$$p=null,a).call(n,t)},$.$$arity=2,$.$$parameters=[["req","base_matcher"],["req","description_block"]]),e.defn(c,"$method_missing",i=function(){var t,a,n=this,$=i.$$p,s=r,o=r,l=r;for(i.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s=(a=n,t=e.find_super_dispatcher(n,"method_missing",i,!1),t.$$p=$,t).apply(a,o),(t=_.get("RSpec").$$scope.get("Matchers")["$is_a_matcher?"](s))===r||null==t||t.$$is_boolean&&1!=t?s:n.$class().$new(s,n.description_block)},i.$$arity=-1,i.$$parameters=[["rest"]]),e.defn(c,"$description",s=function(){var t,a,n=this,$=s.$$p,i=r,o=r;s.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"description"),i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.description_block.$call((a=n,t=e.find_super_dispatcher(n,"description",s,!1),t.$$p=$,t).apply(a,i))},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$failure_message",o=function(){var t,a,n=this,$=o.$$p,i=r,s=r;o.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n.description_block.$call((a=n,t=e.find_super_dispatcher(n,"failure_message",o,!1),t.$$p=$,t).apply(a,i))},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$failure_message_when_negated",l=function(){var t,a,n=this,$=l.$$p,i=r,s=r;l.$$p=null;var o=arguments.length;for(0!==o&&e.ac(o,0,this,"failure_message_when_negated"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n.description_block.$call((a=n,t=e.find_super_dispatcher(n,"failure_message_when_negated",l,!1),t.$$p=$,t).apply(a,i))},l.$$arity=0,l.$$parameters=[])}(s.base,s.get("MatcherDelegator")),function(t,$super){function r(){}var a=r=n(t,$super,"AliasedMatcherWithOperatorSupport",r);a.$$proto,a.$$scope;e.udef(a,"$=="),e.udef(a,"$===")}(s.base,s.get("AliasedMatcher")),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"AliasedNegatedMatcher",a),u=c.$$proto,_=c.$$scope;u.base_matcher=u.description_block=r,e.defn(c,"$matches?",$=function(){var t,a,n,i,s=this,o=$.$$p,l=o||r,c=r,u=r,_=arguments.length,p=_-0;p<0&&(p=0),i=new Array(p);for(var d=0;d<_;d++)i[d-0]=arguments[d];for($.$$p=null,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(t=s.base_matcher["$respond_to?"]("does_not_match?"))===r||null==t||t.$$is_boolean&&1!=t?(n=s,t=e.find_super_dispatcher(s,"matches?",$,!1),t.$$p=o,t).apply(n,c)["$!"]():(t=(a=s.base_matcher)["$does_not_match?"],t.$$p=l.$to_proc(),t).apply(a,e.to_a(i))},$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]]),e.defn(c,"$does_not_match?",i=function(){var t,a,n,$=this,s=i.$$p,o=s||r,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return i.$$p=null,(t=(a=$.base_matcher)["$matches?"],t.$$p=o.$to_proc(),t).apply(a,e.to_a(n))},i.$$arity=-1,i.$$parameters=[["rest","args"],["block","block"]]),e.defn(c,"$failure_message",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$optimal_failure_message("failure_message","failure_message_when_negated")},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$failure_message_when_negated",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$optimal_failure_message("failure_message_when_negated","failure_message")},o.$$arity=0,o.$$parameters=[]),c.$private(),e.cdecl(_,"DefaultFailureMessages",_.get("BuiltIn").$$scope.get("BaseMatcher").$$scope.get("DefaultFailureMessages")),e.defn(c,"$optimal_failure_message",l=function(t,a){var n,$=this,i=r,s=r,o=arguments.length;return 2!==o&&e.ac(o,2,this,"optimal_failure_message"),(n=_.get("DefaultFailureMessages")["$has_default_failure_messages?"]($.base_matcher))===r||null==n||n.$$is_boolean&&1!=n||(i=$.base_matcher.$__send__(t),s=$.description_block.$call(i),(n=s["$!="](i))===r||null==n||n.$$is_boolean&&1!=n)?$.base_matcher.$__send__(a):s},l.$$arity=2,l.$$parameters=[["req","same"],["req","inverted"]])}(s.base,s.get("AliasedMatcher"))}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_kind_of"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$private","$kind_of?"]),function(t){var n,$=n=r(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Matchers"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"BuiltIn"),i=($.$$proto,$.$$scope);!function(t,$super){function r(){}var n,$=r=a(t,$super,"BeAKindOf",r);$.$$proto,$.$$scope;$.$private(),e.defn($,"$match",n=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$kind_of?"](t)},n.$$arity=2,n.$$parameters=[["req","expected"],["req","actual"]])}(i.base,i.get("BaseMatcher"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_instance_of"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$expected","$private","$instance_of?"]),function(t){var n,$=n=r(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Matchers"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"BuiltIn"),i=($.$$proto,$.$$scope);!function(t,$super){function r(){}var n,$,i=r=a(t,$super,"BeAnInstanceOf",r);i.$$proto,i.$$scope;e.defn(i,"$description",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be an instance of "+t.$expected()},n.$$arity=0,n.$$parameters=[]),i.$private(),e.defn(i,"$match",$=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$instance_of?"](t)},$.$$arity=2,$.$$parameters=[["req","expected"],["req","actual"]])}(i.base,i.get("BaseMatcher"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_between"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$inclusive","$comparable?","$compare","$not_comparable_clause","$inspect","$private","$respond_to?","$__send__"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d=a=n(t,$super,"BeBetween",a),h=d.$$proto,f=d.$$scope;h.min=h.max=h.mode=h.actual=h.less_than_operator=h.greater_than_operator=r,e.defn(d,"$initialize",$=function(t,r){var a,n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"initialize"),a=[t,r],n.min=a[0],n.max=a[1],n.$inclusive()},$.$$arity=2,$.$$parameters=[["req","min"],["req","max"]]),e.defn(d,"$inclusive",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusive"),t.less_than_operator="<=",t.greater_than_operator=">=",t.mode="inclusive",t},i.$$arity=0,i.$$parameters=[]),e.defn(d,"$exclusive",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusive"),t.less_than_operator="<",t.greater_than_operator=">",t.mode="exclusive",t},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$matches?",o=function(t){var a,n=this,$=arguments.length;1!==$&&e.ac($,1,this,"matches?");try{return n.actual=t,a=n["$comparable?"](),!1!==a&&a!==r&&null!=a?n.$compare():a}catch(t){if(!e.rescue(t,[f.get("ArgumentError")]))throw t;try{return!1}finally{e.pop_exception()}}},o.$$arity=1,o.$$parameters=[["req","actual"]]),e.defn(d,"$failure_message",l=function(){var t,a,n=this,$=l.$$p,i=r,s=r;l.$$p=null;var o=arguments.length;for(0!==o&&e.ac(o,0,this,"failure_message"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return""+(a=n,t=e.find_super_dispatcher(n,"failure_message",l,!1),t.$$p=$,t).apply(a,i)+n.$not_comparable_clause()},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be between "+t.min.$inspect()+" and "+t.max.$inspect()+" ("+t.mode+")"},c.$$arity=0,c.$$parameters=[]),d.$private(),e.defn(d,"$comparable?",u=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"comparable?"),t=a.actual["$respond_to?"](a.less_than_operator),!1!==t&&t!==r&&null!=t?a.actual["$respond_to?"](a.greater_than_operator):t},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$not_comparable_clause",_=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"not_comparable_clause"),(t=a["$comparable?"]())===r||null==t||t.$$is_boolean&&1!=t?", but it does not respond to `"+a.less_than_operator+"` and `"+a.greater_than_operator+"`":r},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$compare",p=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"compare"),t=a.actual.$__send__(a.greater_than_operator,a.min),!1!==t&&t!==r&&null!=t?a.actual.$__send__(a.less_than_operator,a.max):t},p.$$arity=0,p.$$parameters=[])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$inspect","$actual","$private","$!","$nil?","$empty?","$parenthesize","$join","$inspected_args","$map","$split_words","$to_sentence","$include","$each","$define_method","$new","$__send__","$gsub","$to_s","$include?","$+","$expected_to_sentence","$args_to_sentence","$parse_expected","$shift","$predicate_accessible?","$predicate_matches?","$failure_message_expecting","$prefix_to_sentence","$private_predicate?","$predicate_exists?","$===","$first","$methods","$private_methods","$predicate","$respond_to?","$present_tense_predicate","$to_proc","$prefix_and_expected","$compact","$captures","$match","$validity_message","$args_to_s"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Matchers"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var a,n,i,s=r=$(t,$super,"BeTruthy",r);s.$$proto,s.$$scope;e.defn(s,"$failure_message",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: truthy value\n     got: "+t.$actual().$inspect()},a.$$arity=0,a.$$parameters=[]),e.defn(s,"$failure_message_when_negated",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected: falsey value\n     got: "+t.$actual().$inspect()},n.$$arity=0,n.$$parameters=[]),s.$private(),e.defn(s,"$match",i=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()["$!"]()},i.$$arity=2,i.$$parameters=[["req","_"],["req","actual"]])}(o.base,o.get("BaseMatcher")),function(t,$super){function r(){}var a,n,i,s=r=$(t,$super,"BeFalsey",r);s.$$proto,s.$$scope;e.defn(s,"$failure_message",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: falsey value\n     got: "+t.$actual().$inspect()},a.$$arity=0,a.$$parameters=[]),e.defn(s,"$failure_message_when_negated",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected: truthy value\n     got: "+t.$actual().$inspect()},n.$$arity=0,n.$$parameters=[]),s.$private(),e.defn(s,"$match",i=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()},i.$$arity=2,i.$$parameters=[["req","_"],["req","actual"]])}(o.base,o.get("BaseMatcher")),function(t,$super){function r(){}var a,n,i,s=r=$(t,$super,"BeNil",r);s.$$proto,s.$$scope;e.defn(s,"$failure_message",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: nil\n     got: "+t.$actual().$inspect()},a.$$arity=0,a.$$parameters=[]),e.defn(s,"$failure_message_when_negated",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"failure_message_when_negated"),"expected: not nil\n     got: nil"},n.$$arity=0,n.$$parameters=[]),s.$private(),e.defn(s,"$match",i=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$nil?"]()},i.$$arity=2,i.$$parameters=[["req","_"],["req","actual"]])}(o.base,o.get("BaseMatcher")),function(t){var r,$,i,s,o,l,c=r=n(t,"BeHelpers");c.$$proto,c.$$scope;c.$private(),e.defn(c,"$args_to_s",$=function(){var t,r=this;null==r.args&&(r.args=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"args_to_s"),(t=r.args["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?r.$parenthesize(r.$inspected_args().$join(", ")):""},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$parenthesize",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"parenthesize"),"("+t+")"},i.$$arity=1,i.$$parameters=[["req","string"]]),e.defn(c,"$inspected_args",s=function(){var t,r,n,$=this;null==$.args&&($.args=a);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"inspected_args"),(t=(r=$.args).$map,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"inspected_args")}return t.$inspect()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","a"]],n),t).call(r)},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$expected_to_sentence",o=function(){var t=this;null==t.expected&&(t.expected=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_to_sentence"),t.$split_words(t.expected)},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$args_to_sentence",l=function(){var t=this;null==t.args&&(t.args=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"args_to_sentence"),t.$to_sentence(t.args)},l.$$arity=0,l.$$parameters=[])}(o.base),function(t,$super){function r(){}var n,i,s,o,l,c,u,_=r=$(t,$super,"Be",r),p=_.$$proto,d=_.$$scope;p.actual=a,_.$include(d.get("BeHelpers")),e.defn(_,"$initialize",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.args=e},n.$$arity=-1,n.$$parameters=[["rest","args"]]),e.defn(_,"$failure_message",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to evaluate to true"},i.$$arity=0,i.$$parameters=[]),e.defn(_,"$failure_message_when_negated",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" to evaluate to false"},s.$$arity=0,s.$$parameters=[]),(o=(l=["==","<","<=",">=",">","===","=~"]).$each,o.$$p=(c=function(t){var r,n,$,i=c.$$s||this;if(null==t&&(t=a),c.$$is_lambda||c.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:Be>")}return(r=(n=i).$define_method,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<class:Be>")}return d.get("BeComparedTo").$new(r,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","operand"]],$),r).call(n,t)},c.$$s=_,c.$$arity=1,c.$$parameters=[["req","operator"]],c),o).call(l),_.$private(),e.defn(_,"$match",u=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()["$!"]()},u.$$arity=2,u.$$parameters=[["req","_"],["req","actual"]])}(o.base,o.get("BaseMatcher")),function(r,$super){function n(){}var i,s,o,l,c,u=n=$(r,$super,"BeComparedTo",n),_=u.$$proto,p=u.$$scope;_.actual=_.operator=_.expected=a,u.$include(p.get("BeHelpers")),e.defn(u,"$initialize",i=function(t,r){var a,n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"initialize"),a=[t,r],n.expected=a[0],n.operator=a[1],n.args=[]},i.$$arity=2,i.$$parameters=[["req","operand"],["req","operator"]]),e.defn(u,"$matches?",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.actual.$__send__(r.operator,r.expected)},s.$$arity=1,s.$$parameters=[["req","actual"]]),e.defn(u,"$failure_message",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: "+t.operator+" "+t.expected.$inspect()+"\n     got: "+t.operator.$to_s().$gsub(/./," ")+" "+t.actual.$inspect()},o.$$arity=0,o.$$parameters=[]),e.defn(u,"$failure_message_when_negated",l=function(){var r,n=this,$=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message_when_negated"),$="`expect("+n.actual.$inspect()+").not_to be "+n.operator+" "+n.expected.$inspect()+"`",(r=["<",">","<=",">="]["$include?"](n.operator))===a||null==r||r.$$is_boolean&&1!=r?$:t($," not only FAILED, it is a bit confusing.")},l.$$arity=0,l.$$parameters=[]),e.defn(u,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be "+t.operator+" "+t.$expected_to_sentence()+t.$args_to_sentence()},c.$$arity=0,c.$$parameters=[])}(o.base,o.get("BaseMatcher")),function(t,$super){function r(){}var n,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w=r=$(t,$super,"BePredicate",r),q=w.$$proto,S=w.$$scope;q.block=q.actual=q.args=q.expected=q.prefix=q.predicate_matches=a,w.$include(S.get("BeHelpers")),e.defn(w,"$initialize",n=function(){var e,t=this,r=n.$$p,$=r||a,i=arguments.length,s=i-0;s<0&&(s=0),e=new Array(s);for(var o=0;o<i;o++)e[o-0]=arguments[o];return n.$$p=null,t.expected=t.$parse_expected(e.$shift()),t.args=e,t.block=$},n.$$arity=-1,n.$$parameters=[["rest","args"],["block","block"]]),e.defn(w,"$matches?",i=function(t){var r,n=this,$=i.$$p,s=$||a;i.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),n.actual=t,!1!==(r=n.block)&&r!==a&&null!=r||(n.block=s),r=n["$predicate_accessible?"](),!1!==r&&r!==a&&null!=r?n["$predicate_matches?"]():r},i.$$arity=1,i.$$parameters=[["req","actual"],["block","block"]]),e.defn(w,"$does_not_match?",s=function(t){var r,n=this,$=s.$$p,i=$||a;s.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"does_not_match?"),n.actual=t,!1!==(r=n.block)&&r!==a&&null!=r||(n.block=i),r=n["$predicate_accessible?"](),!1!==r&&r!==a&&null!=r?n["$predicate_matches?"]()["$!"]():r},s.$$arity=1,s.$$parameters=[["req","actual"],["block","block"]]),e.defn(w,"$failure_message",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$failure_message_expecting(!0)},o.$$arity=0,o.$$parameters=[]),e.defn(w,"$failure_message_when_negated",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$failure_message_expecting(!1)},l.$$arity=0,l.$$parameters=[]),e.defn(w,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),""+t.$prefix_to_sentence()+t.$expected_to_sentence()+t.$args_to_sentence()},c.$$arity=0,c.$$parameters=[]),w.$private(),e.defn(w,"$predicate_accessible?",u=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate_accessible?"),t=r["$private_predicate?"]()["$!"](),!1!==t&&t!==a&&null!=t?r["$predicate_exists?"]():t},u.$$arity=0,u.$$parameters=[]),(_=S.get("String")["$==="](w.$methods().$first()))===a||null==_||_.$$is_boolean&&1!=_?e.defn(w,"$private_predicate?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate())},d.$$arity=0,d.$$parameters=[]):e.defn(w,"$private_predicate?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate().$to_s())},p.$$arity=0,p.$$parameters=[]),e.defn(w,"$predicate_exists?",h=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate_exists?"),!1!==(t=r.$actual()["$respond_to?"](r.$predicate()))&&t!==a&&null!=t?t:r.$actual()["$respond_to?"](r.$present_tense_predicate())},h.$$arity=0,h.$$parameters=[]),e.defn(w,"$predicate_matches?",f=function(){var t,r,n=this,$=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"predicate_matches?"),$=function(){return(t=n.$actual()["$respond_to?"](n.$predicate()))===a||null==t||t.$$is_boolean&&1!=t?n.$present_tense_predicate():n.$predicate()}(),n.predicate_matches=(t=(r=n.$actual()).$__send__,t.$$p=n.block.$to_proc(),t).apply(r,[$].concat(e.to_a(n.args)))},f.$$arity=0,f.$$parameters=[]),e.defn(w,"$predicate",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"predicate"),t.expected.$to_s()+"?"},m.$$arity=0,m.$$parameters=[]),e.defn(w,"$present_tense_predicate",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"present_tense_predicate"),t.expected.$to_s()+"s?"},g.$$arity=0,g.$$parameters=[]),e.defn(w,"$parse_expected",b=function(t){var r,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"parse_expected"),n=$.$prefix_and_expected(t),r=e.to_ary(n),$.prefix=null==r[0]?a:r[0],t=null==r[1]?a:r[1],t},b.$$arity=1,b.$$parameters=[["req","expected"]]),e.defn(w,"$prefix_and_expected",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"prefix_and_expected"),S.get("Matchers").$$scope.get("BE_PREDICATE_REGEX").$match(t.$to_s()).$captures().$compact()},v.$$arity=1,v.$$parameters=[["req","symbol"]]),e.defn(w,"$prefix_to_sentence",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"prefix_to_sentence"),t.$split_words(t.prefix)},y.$$arity=0,y.$$parameters=[]),e.defn(w,"$failure_message_expecting",x=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"failure_message_expecting"),!1!==(r=n.$validity_message())&&r!==a&&null!=r?r:"expected `"+n.actual.$inspect()+"."+n.$predicate()+n.$args_to_s()+"` to return "+t+", got "+n.predicate_matches.$inspect()},x.$$arity=1,x.$$parameters=[["req","value"]]),e.defn(w,"$validity_message",k=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"validity_message"),(t=r["$private_predicate?"]())===a||null==t||t.$$is_boolean&&1!=t?(t=r["$predicate_exists?"]()["$!"]())===a||null==t||t.$$is_boolean&&1!=t?a:"expected "+r.actual+" to respond to `"+r.$predicate()+"`":"expected "+r.actual+" to respond to `"+r.$predicate()+"` but `"+r.$predicate()+"` is a private method"},k.$$arity=0,k.$$parameters=[])}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/matchers/built_in/be_within"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),i=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$/","$*","$abs","$raise","$needs_expected","$numeric?","$<=","$-","$inspect","$description","$not_numeric_clause","$private","$respond_to?","$new"]),function($){var l,c=l=s($,"RSpec"),u=(c.$$proto,c.$$scope);!function($){var l,c=l=s($,"Matchers"),u=(c.$$proto,c.$$scope);!function($){var l,c=l=s($,"BuiltIn"),u=(c.$$proto,c.$$scope);!function($,$super){function s(){}var l,c,u,_,p,d,h,f,m,g,b=s=o($,$super,"BeWithin",s),v=b.$$proto,y=b.$$scope;v.delta=v.expected=v.actual=v.tolerance=v.unit=i,e.defn(b,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.delta=t},l.$$arity=1,l.$$parameters=[["req","delta"]]),e.defn(b,"$of",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"of"),r.expected=t,r.tolerance=r.delta,r.unit="",r},c.$$arity=1,c.$$parameters=[["req","expected"]]),e.defn(b,"$percent_of",u=function(a){var n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"percent_of"),n.expected=a,n.tolerance=t(r(n.delta,n.expected.$abs()),100),n.unit="%",n},u.$$arity=1,u.$$parameters=[["req","expected"]]),e.defn(b,"$matches?",_=function(t){var r,$,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),s.actual=t,((r=null!=($=s.expected)&&$!==i?"instance-variable":i)===i||null==r||r.$$is_boolean&&1!=r)&&s.$raise(s.$needs_expected()),r=s["$numeric?"](),!1!==r&&r!==i&&null!=r?a(n(s.actual,s.expected).$abs(),s.tolerance):r},_.$$arity=1,_.$$parameters=[["req","actual"]]),e.defn(b,"$failure_message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to "+t.$description()+t.$not_numeric_clause()},p.$$arity=0,p.$$parameters=[]),e.defn(b,"$failure_message_when_negated",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" not to "+t.$description()},d.$$arity=0,d.$$parameters=[]),e.defn(b,"$description",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be within "+t.delta+t.unit+" of "+t.expected},h.$$arity=0,h.$$parameters=[]),b.$private(),e.defn(b,"$numeric?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numeric?"),t.actual["$respond_to?"]("-")},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$needs_expected",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"needs_expected"),y.get("ArgumentError").$new("You must set an expected value using #of: be_within("+t.delta+").of(expected_value)")},m.$$arity=0,m.$$parameters=[]),e.defn(b,"$not_numeric_clause",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"not_numeric_clause"),(t=r["$numeric?"]())===i||null==t||t.$$is_boolean&&1!=t?", but it could not be treated as a numeric value":i},g.$$arity=0,g.$$parameters=[])}(u.base,u.get("BaseMatcher"))}(u.base)}(u.base)}($.base)},Opal.modules["rspec/matchers/built_in/change"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$new","$values_match?","$>=","$<=","$===","$raise_block_syntax_error","$perform_change","$changed?","$!","$matches?","$message","$positive_failure_reason","$negative_failure_reason","$private","$to_proc","$raise","$description_of","$actual_before","$actual_after","$gsub","$to_s","$failure_reason","$call","$actual_delta","$last","$ancestors","$matches_before?","$matches_after?","$change_description","$not_given_a_block_failure","$before_value_failure","$did_not_change_failure","$after_value_failure","$did_change_failure","$attr_reader","$lambda","$__send__","$evaluate_value_proc","$!=","$-","$dup"]),function(n){var o,l=o=i(n,"RSpec"),c=(l.$$proto,l.$$scope);!function(n){var o,l=o=i(n,"Matchers"),c=(l.$$proto,l.$$scope);!function(n){var o,l=o=i(n,"BuiltIn"),c=(l.$$proto,l.$$scope);!function(a,$super){function n(){}var i,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=n=s(a,$super,"Change",n),k=x.$$proto,w=x.$$scope;k.change_details=k.event_proc=$,e.defn(x,"$by",i=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"by"),(r=(a=w.get("ChangeRelatively")).$new,r.$$p=(n=function(r){var a=n.$$s||this;if(null==r&&(r=$),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"by")}return a["$values_match?"](t,r)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","actual_delta"]],n),r).call(a,i.change_details,t,"by")},i.$$arity=1,i.$$parameters=[["req","expected_delta"]]),e.defn(x,"$by_at_least",o=function(r){var a,n,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"by_at_least"),(a=(n=w.get("ChangeRelatively")).$new,a.$$p=(i=function(a){i.$$s;if(null==a&&(a=$),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"by_at_least")}return t(a,r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","actual_delta"]],i),a).call(n,s.change_details,r,"by_at_least")},o.$$arity=1,o.$$parameters=[["req","minimum"]]),e.defn(x,"$by_at_most",l=function(t){var a,n,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"by_at_most"),(a=(n=w.get("ChangeRelatively")).$new,a.$$p=(i=function(a){i.$$s;if(null==a&&(a=$),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"by_at_most")}return r(a,t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","actual_delta"]],i),a).call(n,s.change_details,t,"by_at_most")},l.$$arity=1,l.$$parameters=[["req","maximum"]]),e.defn(x,"$to",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"to"),w.get("ChangeToValue").$new(r.change_details,t)},c.$$arity=1,c.$$parameters=[["req","value"]]),e.defn(x,"$from",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from"),w.get("ChangeFromValue").$new(r.change_details,t)},u.$$arity=1,u.$$parameters=[["req","value"]]),e.defn(x,"$matches?",_=function(t){var r,a=this,n=_.$$p,i=n||$;_.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"matches?"),a.event_proc=t,!((r=w.get("Proc")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r)&&(i!==$&&a.$raise_block_syntax_error(),a.change_details.$perform_change(t),a.change_details["$changed?"]())},_.$$arity=1,_.$$parameters=[["req","event_proc"]]),e.defn(x,"$does_not_match?",p=function(t){var r,a=this,n=p.$$p,i=n||$;p.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"does_not_match?"),i!==$&&a.$raise_block_syntax_error(),r=a["$matches?"](t)["$!"](),!1!==r&&r!==$&&null!=r?w.get("Proc")["$==="](t):r},p.$$arity=1,p.$$parameters=[["req","event_proc"]]),e.defn(x,"$failure_message",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.change_details.$message()+" to have changed, but "+t.$positive_failure_reason()},d.$$arity=0,d.$$parameters=[]),e.defn(x,"$failure_message_when_negated",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.change_details.$message()+" not to have changed, but "+t.$negative_failure_reason()},h.$$arity=0,h.$$parameters=[]),e.defn(x,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()},f.$$arity=0,f.$$parameters=[]),e.defn(x,"$supports_block_expectations?",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},m.$$arity=0,m.$$parameters=[]),x.$private(),e.defn(x,"$initialize",g=function(t,r){var a,n,i=this,s=g.$$p,o=s||$;null==t&&(t=$),null==r&&(r=$),g.$$p=null;var l=arguments.length;return l>2&&e.ac(l,-1,this,"initialize"),i.change_details=(a=(n=w.get("ChangeDetails")).$new,a.$$p=o.$to_proc(),a).call(n,t,r)},g.$$arity=-1,g.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),e.defn(x,"$raise_block_syntax_error",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_block_syntax_error"),t.$raise(w.get("SyntaxError"),"The block passed to the `change` matcher must use `{ ... }` instead of do/end")},b.$$arity=0,b.$$parameters=[]),e.defn(x,"$positive_failure_reason",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"positive_failure_reason"),(t=w.get("Proc")["$==="](r.event_proc))===$||null==t||t.$$is_boolean&&1!=t?"was not given a block":"is still "+r.$description_of(r.change_details.$actual_before())},v.$$arity=0,v.$$parameters=[]),e.defn(x,"$negative_failure_reason",y=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"negative_failure_reason"),(t=w.get("Proc")["$==="](r.event_proc))===$||null==t||t.$$is_boolean&&1!=t?"was not given a block":"did change from "+r.$description_of(r.change_details.$actual_before())+" to "+r.$description_of(r.change_details.$actual_after())},y.$$arity=0,y.$$parameters=[])}(c.base,c.get("BaseMatcher")),function(t,$super){function r(){}var a,n,i,o,l,c,u,_=r=s(t,$super,"ChangeRelatively",r),p=_.$$proto,d=_.$$scope;p.change_details=p.relativity=p.expected_delta=p.comparer=p.event_proc=$,e.defn(_,"$initialize",a=function(t,r,n){var i=this,s=a.$$p,o=s||$;a.$$p=null;var l=arguments.length;return 3!==l&&e.ac(l,3,this,"initialize"),i.change_details=t,i.expected_delta=r,i.relativity=n,i.comparer=o},a.$$arity=3,a.$$parameters=[["req","change_details"],["req","expected_delta"],["req","relativity"],["block","comparer"]]),e.defn(_,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.change_details.$message()+" to have changed "+t.relativity.$to_s().$gsub("_"," ")+" "+t.$description_of(t.expected_delta)+", but "+t.$failure_reason()},n.$$arity=0,n.$$parameters=[]),e.defn(_,"$matches?",i=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"matches?"),a.event_proc=t,!((r=d.get("Proc")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r)&&(a.change_details.$perform_change(t),a.comparer.$call(a.change_details.$actual_delta()))},i.$$arity=1,i.$$parameters=[["req","event_proc"]]),e.defn(_,"$does_not_match?",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(d.get("NotImplementedError"),"`expect { }.not_to change { }."+t.relativity+"()` is not supported")},o.$$arity=1,o.$$parameters=[["req","_event_proc"]]),
e.defn(_,"$description",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()+" "+t.relativity.$to_s().$gsub("_"," ")+" "+t.$description_of(t.expected_delta)},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$supports_block_expectations?",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},c.$$arity=0,c.$$parameters=[]),_.$private(),e.defn(_,"$failure_reason",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_reason"),(t=d.get("Proc")["$==="](r.event_proc))===$||null==t||t.$$is_boolean&&1!=t?"was not given a block":"was changed by "+r.$description_of(r.change_details.$actual_delta())},u.$$arity=0,u.$$parameters=[])}(c.base,c.get("BaseMatcher")),function(t,$super){function r(){}var a,n,i,o,l,c,u,_,p,d,h,f,m=r=s(t,$super,"SpecificValuesChange",r),g=m.$$proto,b=m.$$scope;g.change_details=g.event_proc=g.expected_before=g.expected_after=$,e.cdecl(b,"MATCH_ANYTHING",e.get("Object").$ancestors().$last()),e.defn(m,"$initialize",a=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.change_details=t,n.expected_before=r,n.expected_after=a},a.$$arity=3,a.$$parameters=[["req","change_details"],["req","from"],["req","to"]]),e.defn(m,"$matches?",n=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"matches?"),n.event_proc=t,!((r=b.get("Proc")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r)&&(n.change_details.$perform_change(t),a=n.change_details["$changed?"](),r=!1!==a&&a!==$&&null!=a?n["$matches_before?"]():a,!1!==r&&r!==$&&null!=r?n["$matches_after?"]():r)},n.$$arity=1,n.$$parameters=[["req","event_proc"]]),e.defn(m,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()+" "+t.$change_description()},i.$$arity=0,i.$$parameters=[]),e.defn(m,"$failure_message",o=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message"),(t=b.get("Proc")["$==="](r.event_proc))===$||null==t||t.$$is_boolean&&1!=t?r.$not_given_a_block_failure():(t=r["$matches_before?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$before_value_failure():(t=r.change_details["$changed?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$did_not_change_failure():r.$after_value_failure()},o.$$arity=0,o.$$parameters=[]),e.defn(m,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),m.$private(),e.defn(m,"$matches_before?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_before?"),t["$values_match?"](t.expected_before,t.change_details.$actual_before())},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$matches_after?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_after?"),t["$values_match?"](t.expected_after,t.change_details.$actual_after())},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$before_value_failure",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"before_value_failure"),"expected "+t.change_details.$message()+" to have initially been "+t.$description_of(t.expected_before)+", but was "+t.$description_of(t.change_details.$actual_before())},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$after_value_failure",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"after_value_failure"),"expected "+t.change_details.$message()+" to have changed to "+t.$description_of(t.expected_after)+", but is now "+t.$description_of(t.change_details.$actual_after())},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$did_not_change_failure",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"did_not_change_failure"),"expected "+t.change_details.$message()+" to have changed "+t.$change_description()+", but did not change"},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$did_change_failure",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"did_change_failure"),"expected "+t.change_details.$message()+" not to have changed, but did change from "+t.$description_of(t.change_details.$actual_before())+" to "+t.$description_of(t.change_details.$actual_after())},h.$$arity=0,h.$$parameters=[]),e.defn(m,"$not_given_a_block_failure",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"not_given_a_block_failure"),"expected "+t.change_details.$message()+" to have changed "+t.$change_description()+", but was not given a block"},f.$$arity=0,f.$$parameters=[])}(c.base,c.get("BaseMatcher")),function(t,$super){function r(){}var a,n,i,o,l,c=r=s(t,$super,"ChangeFromValue",r),u=c.$$proto,_=c.$$scope;u.description_suffix=u.change_details=u.event_proc=u.expected_before=$,e.defn(c,"$initialize",a=function(t,r){var n,i,s=this;a.$$p;a.$$p=null;var o=arguments.length;return 2!==o&&e.ac(o,2,this,"initialize"),s.description_suffix=$,(i=s,n=e.find_super_dispatcher(s,"initialize",a,!1),n.$$p=null,n).call(i,t,r,_.get("MATCH_ANYTHING"))},a.$$arity=2,a.$$parameters=[["req","change_details"],["req","expected_before"]]),e.defn(c,"$to",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"to"),r.expected_after=t,r.description_suffix=" to "+r.$description_of(t),r},n.$$arity=1,n.$$parameters=[["req","value"]]),e.defn(c,"$does_not_match?",i=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),(r=a.description_suffix)===$||null==r||r.$$is_boolean&&1!=r||a.$raise(_.get("NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported"),a.event_proc=t,!((r=_.get("Proc")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r)&&(a.change_details.$perform_change(t),r=a.change_details["$changed?"]()["$!"](),!1!==r&&r!==$&&null!=r?a["$matches_before?"]():r)},i.$$arity=1,i.$$parameters=[["req","event_proc"]]),e.defn(c,"$failure_message_when_negated",o=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message_when_negated"),(t=_.get("Proc")["$==="](r.event_proc))===$||null==t||t.$$is_boolean&&1!=t?r.$not_given_a_block_failure():(t=r["$matches_before?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$before_value_failure():r.$did_change_failure()},o.$$arity=0,o.$$parameters=[]),c.$private(),e.defn(c,"$change_description",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"change_description"),"from "+t.$description_of(t.expected_before)+t.description_suffix},l.$$arity=0,l.$$parameters=[])}(c.base,c.get("SpecificValuesChange")),function(t,$super){function r(){}var a,n,i,o,l=r=s(t,$super,"ChangeToValue",r),c=l.$$proto,u=l.$$scope;c.expected_after=c.description_suffix=$,e.defn(l,"$initialize",a=function(t,r){var n,i,s=this;a.$$p;a.$$p=null;var o=arguments.length;return 2!==o&&e.ac(o,2,this,"initialize"),s.description_suffix=$,(i=s,n=e.find_super_dispatcher(s,"initialize",a,!1),n.$$p=null,n).call(i,t,u.get("MATCH_ANYTHING"),r)},a.$$arity=2,a.$$parameters=[["req","change_details"],["req","expected_after"]]),e.defn(l,"$from",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from"),r.expected_before=t,r.description_suffix=" from "+r.$description_of(t),r},n.$$arity=1,n.$$parameters=[["req","value"]]),e.defn(l,"$does_not_match?",i=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(u.get("NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported")},i.$$arity=1,i.$$parameters=[["req","_event_proc"]]),l.$private(),e.defn(l,"$change_description",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"change_description"),"to "+t.$description_of(t.expected_after)+t.description_suffix},o.$$arity=0,o.$$parameters=[])}(c.base,c.get("SpecificValuesChange")),function(t,$super){function r(){}var n,i,o,l,c,u=r=s(t,$super,"ChangeDetails",r),_=u.$$proto,p=u.$$scope;_.actual_before=_.actual_after=_.value_proc=$,u.$attr_reader("message","actual_before","actual_after"),e.defn(u,"$initialize",n=function(t,r){var a,i,s,o,l=this,c=n.$$p,u=c||$;null==t&&(t=$),null==r&&(r=$),n.$$p=null;var _=arguments.length;return _>2&&e.ac(_,-1,this,"initialize"),(a=(i=!1!==t&&t!==$&&null!=t)?r["$!"]():t)===$||null==a||a.$$is_boolean&&1!=a||l.$raise(p.get("ArgumentError"),"`change` requires either an object and message (`change(obj, :msg)`) or a block (`change { }`). You passed an object but no message."),l.message=function(){return!1!==r&&r!==$&&null!=r?"#"+r:"result"}(),l.value_proc=!1!==(a=u)&&a!==$&&null!=a?a:(i=(s=l).$lambda,i.$$p=(o=function(){o.$$s;if(o.$$is_lambda||o.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"initialize")}return t.$__send__(r)},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),i).call(s)},n.$$arity=-1,n.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),e.defn(u,"$perform_change",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"perform_change"),r.actual_before=r.$evaluate_value_proc(),t.$call(),r.actual_after=r.$evaluate_value_proc()},i.$$arity=1,i.$$parameters=[["req","event_proc"]]),e.defn(u,"$changed?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"changed?"),t.actual_before["$!="](t.actual_after)},o.$$arity=0,o.$$parameters=[]),e.defn(u,"$actual_delta",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_delta"),a(t.actual_after,t.actual_before)},l.$$arity=0,l.$$parameters=[]),u.$private(),e.defn(u,"$evaluate_value_proc",c=function(){var t=this,r=$,a=$,n=arguments.length;return 0!==n&&e.ac(n,0,this,"evaluate_value_proc"),function(){return r=a=t.value_proc.$call(),p.get("IO")["$==="](r)?a:p.get("Enumerable")["$==="](r)||p.get("String")["$==="](r)?a.$dup():a}()},c.$$arity=0,c.$$parameters=[])}(c.base,null)}(c.base)}(c.base)}(n.base)},Opal.modules["rspec/matchers/built_in/compound"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass,s=e.hash2;return e.add_stubs(["$attr_reader","$raise","$conjunction","$singleline_message","$description","$matcher_1","$matcher_2","$matcher_supports_block_expectations?","$matcher_expects_call_stack_jump?","$private","$clone","$supports_block_expectations?","$===","$new","$join","$map","$=~","$+","$lines","$failure_message","$multiline?","$multiline_message","$indent_multiline_message","$sub","$>","$count","$matcher_matches?","$matches?","$order_block_matchers","$[]=","$inner_matcher_block","$fetch","$empty?","$call","$class","$expects_call_stack_jump?","$matcher_1_matches?","$matcher_2_matches?","$compound_failure_message"]),function(a){var o,l=o=$(a,"RSpec"),c=(l.$$proto,l.$$scope);!function(a){var o,l=o=$(a,"Matchers"),c=(l.$$proto,l.$$scope);!function(a){var o,l=o=$(a,"BuiltIn"),c=(l.$$proto,l.$$scope);!function(a,$super){function $(){}var o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k=$=i(a,$super,"Compound",$),w=k.$$proto,q=k.$$scope;w.matcher_1=w.matcher_2=w.evaluator=n,k.$attr_reader("matcher_1","matcher_2"),e.defn(k,"$initialize",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.matcher_1=t,a.matcher_2=r},o.$$arity=2,o.$$parameters=[["req","matcher_1"],["req","matcher_2"]]),e.defn(k,"$does_not_match?",l=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(q.get("NotImplementedError"),"`expect(...).not_to matcher."+t.$conjunction()+" matcher` is not supported, since it creates a bit of an ambiguity. Instead, define negated versions of whatever matchers you wish to negate with `RSpec::Matchers.define_negated_matcher` and use `expect(...).to matcher."+t.$conjunction()+" matcher`.")},l.$$arity=1,l.$$parameters=[["req","_actual"]]),e.defn(k,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$singleline_message(t.$matcher_1().$description(),t.$matcher_2().$description())},c.$$arity=0,c.$$parameters=[]),e.defn(k,"$supports_block_expectations?",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"supports_block_expectations?"),t=r["$matcher_supports_block_expectations?"](r.$matcher_1()),!1!==t&&t!==n&&null!=t?r["$matcher_supports_block_expectations?"](r.$matcher_2()):t},u.$$arity=0,u.$$parameters=[]),e.defn(k,"$expects_call_stack_jump?",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expects_call_stack_jump?"),!1!==(t=q.get("NestedEvaluator")["$matcher_expects_call_stack_jump?"](r.$matcher_1()))&&t!==n&&null!=t?t:q.get("NestedEvaluator")["$matcher_expects_call_stack_jump?"](r.$matcher_2())},_.$$arity=0,_.$$parameters=[]),k.$private(),e.defn(k,"$initialize_copy",p=function(){var t,r,a=this,$=p.$$p,i=n,s=n;p.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"initialize_copy"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a.matcher_1=a.matcher_1.$clone(),a.matcher_2=a.matcher_2.$clone(),(r=a,t=e.find_super_dispatcher(a,"initialize_copy",p,!1),t.$$p=$,t).apply(r,i)},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(k,"$match",d=function(t,r){var a,$,i=this,s=n,o=arguments.length;return 2!==o&&e.ac(o,2,this,"match"),s=function(){return $=i["$supports_block_expectations?"](),(a=!1!==$&&$!==n&&null!=$?q.get("Proc")["$==="](r):$)===n||null==a||a.$$is_boolean&&1!=a?q.get("SequentialEvaluator"):q.get("NestedEvaluator")}(),i.evaluator=s.$new(r,i.$matcher_1(),i.$matcher_2())},d.$$arity=2,d.$$parameters=[["req","_expected"],["req","actual"]]),e.defn(k,"$indent_multiline_message",h=function(r){var a,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"indent_multiline_message"),(a=($=r.$lines()).$map,a.$$p=(i=function(r){var a;i.$$s;if(null==r&&(r=n),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"indent_multiline_message")}return(a=r["$=~"](/\S/))===n||null==a||a.$$is_boolean&&1!=a?r:t("   ",r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","line"]],i),a).call($).$join()},h.$$arity=1,h.$$parameters=[["req","message"]]),e.defn(k,"$compound_failure_message",f=function(){var t,r,a=this,$=n,i=n,s=arguments.length;return 0!==s&&e.ac(s,0,this,"compound_failure_message"),$=a.$matcher_1().$failure_message(),i=a.$matcher_2().$failure_message(),(t=!1!==(r=a["$multiline?"]($))&&r!==n&&null!=r?r:a["$multiline?"](i))===n||null==t||t.$$is_boolean&&1!=t?a.$singleline_message($,i):a.$multiline_message($,i)},f.$$arity=0,f.$$parameters=[]),e.defn(k,"$multiline_message",m=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"multiline_message"),[a.$indent_multiline_message(t.$sub(/\n+\z/,"")),"..."+a.$conjunction()+":",a.$indent_multiline_message(r.$sub(/\A\n+/,""))].$join("\n\n")},m.$$arity=2,m.$$parameters=[["req","message_1"],["req","message_2"]]),e.defn(k,"$multiline?",g=function(t){var a=arguments.length;return 1!==a&&e.ac(a,1,this,"multiline?"),r(t.$lines().$count(),1)},g.$$arity=1,g.$$parameters=[["req","message"]]),e.defn(k,"$singleline_message",b=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"singleline_message"),[t,a.$conjunction(),r].$join(" ")},b.$$arity=2,b.$$parameters=[["req","message_1"],["req","message_2"]]),e.defn(k,"$matcher_1_matches?",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matcher_1_matches?"),t.evaluator["$matcher_matches?"](t.$matcher_1())},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$matcher_2_matches?",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matcher_2_matches?"),t.evaluator["$matcher_matches?"](t.$matcher_2())},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$matcher_supports_block_expectations?",x=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"matcher_supports_block_expectations?");try{return t["$supports_block_expectations?"]()}catch(t){if(!e.rescue(t,[q.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},x.$$arity=1,x.$$parameters=[["req","matcher"]]),function(t,$super){function r(){}var a,$,s=r=i(t,$super,"SequentialEvaluator",r),o=s.$$proto;s.$$scope;o.actual=n,e.defn(s,"$initialize",a=function(t){var r=this,a=arguments.length;return a<1&&e.ac(a,-2,this,"initialize"),r.actual=t},a.$$arity=-2,a.$$parameters=[["req","actual"],["rest"]]),e.defn(s,"$matcher_matches?",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matcher_matches?"),t["$matches?"](r.actual)},$.$$arity=1,$.$$parameters=[["req","matcher"]])}(q.base,null),function(t,$super){function r(){}var a,$,o,l,c,u=r=i(t,$super,"NestedEvaluator",r),_=u.$$proto,p=u.$$scope;_.match_results=_.actual=_.matcher_2=_.matcher_1=n,e.defn(u,"$initialize",a=function(t,r,a){var $,i,o,l=this,c=n,u=n,_=arguments.length;return 3!==_&&e.ac(_,3,this,"initialize"),l.actual=t,l.matcher_1=r,l.matcher_2=a,l.match_results=s([],{}),i=l.$order_block_matchers(),$=e.to_ary(i),c=null==$[0]?n:$[0],u=null==$[1]?n:$[1],l.match_results["$[]="](u,u["$matches?"](($=(i=p.get("Proc")).$new,$.$$p=(o=function(){var e,t=o.$$s||this;null==t.match_results&&(t.match_results=n);var r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<r;$++)e[$-0]=arguments[$];return t.match_results["$[]="](c,c["$matches?"](t.$inner_matcher_block(e)))},o.$$s=l,o.$$arity=-1,o.$$parameters=[["rest","args"]],o),$).call(i)))},a.$$arity=3,a.$$parameters=[["req","actual"],["req","matcher_1"],["req","matcher_2"]]),e.defn(u,"$matcher_matches?",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matcher_matches?"),r.match_results.$fetch(t)},$.$$arity=1,$.$$parameters=[["req","matcher"]]),u.$private(),e.defn(u,"$inner_matcher_block",o=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"inner_matcher_block"),(r=t["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(r=(a=p.get("Proc")).$new,r.$$p=($=function(){var r,a,i=$.$$s||this;null==i.matcher_1&&(i.matcher_1=n),null==i.matcher_2&&(i.matcher_2=n),null==i.actual&&(i.actual=n);var s=arguments.length,o=s-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<s;l++)r[l-0]=arguments[l];return((a=r["$empty?"]())===n||null==a||a.$$is_boolean&&1!=a)&&i.$raise(p.get("ArgumentError"),"("+i.matcher_1.$description()+") and ("+i.matcher_2.$description()+") cannot be combined in a compound expectation since both matchers pass arguments to the block."),(a=i.actual).$call.apply(a,e.to_a(t))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","inner_args"]],$),r).call(a):i.actual},o.$$arity=1,o.$$parameters=[["req","outer_args"]]),e.defn(u,"$order_block_matchers",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"order_block_matchers"),(t=r.$class()["$matcher_expects_call_stack_jump?"](r.matcher_2))===n||null==t||t.$$is_boolean&&1!=t?[r.matcher_1,r.matcher_2]:(t=r.$class()["$matcher_expects_call_stack_jump?"](r.matcher_1))===n||null==t||t.$$is_boolean&&1!=t?[r.matcher_2,r.matcher_1]:r.$raise(p.get("ArgumentError"),"("+r.matcher_1.$description()+") and ("+r.matcher_2.$description()+") cannot be combined in a compound expectation because they both expect a call stack jump.")},l.$$arity=0,l.$$parameters=[]),e.defs(u,"$matcher_expects_call_stack_jump?",c=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"matcher_expects_call_stack_jump?");try{return t["$expects_call_stack_jump?"]()}catch(t){if(!e.rescue(t,[p.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},c.$$arity=1,c.$$parameters=[["req","matcher"]])}(q.base,null),function(t,$super){function r(){}var a,$,s,o=r=i(t,$super,"And",r);o.$$proto,o.$$scope;e.defn(o,"$failure_message",a=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message"),(t=r["$matcher_1_matches?"]())===n||null==t||t.$$is_boolean&&1!=t?(t=r["$matcher_2_matches?"]())===n||null==t||t.$$is_boolean&&1!=t?r.$compound_failure_message():r.$matcher_1().$failure_message():r.$matcher_2().$failure_message()},a.$$arity=0,a.$$parameters=[]),o.$private(),e.defn(o,"$match",$=function(){var t,r,a=this,i=$.$$p,s=n,o=n;for($.$$p=null,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=a,t=e.find_super_dispatcher(a,"match",$,!1),t.$$p=i,t).apply(r,s),t=a["$matcher_1_matches?"](),!1!==t&&t!==n&&null!=t?a["$matcher_2_matches?"]():t},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(o,"$conjunction",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"conjunction"),"and"},s.$$arity=0,s.$$parameters=[])}(q.base,k),function(t,$super){function r(){}var a,$,s,o=r=i(t,$super,"Or",r);o.$$proto,o.$$scope;e.defn(o,"$failure_message",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$compound_failure_message()},a.$$arity=0,a.$$parameters=[]),o.$private(),e.defn(o,"$match",$=function(){var t,r,a=this,i=$.$$p,s=n,o=n;for($.$$p=null,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=a,t=e.find_super_dispatcher(a,"match",$,!1),t.$$p=i,t).apply(r,s),!1!==(t=a["$matcher_1_matches?"]())&&t!==n&&null!=t?t:a["$matcher_2_matches?"]()},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(o,"$conjunction",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"conjunction"),"or"},s.$$arity=0,s.$$parameters=[])}(q.base,k)}(c.base,c.get("BaseMatcher"))}(c.base)}(c.base)}(a.base)},Opal.modules["rspec/matchers/built_in/contain_exactly"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass,o=e.hash2;return e.add_stubs(["$===","$actual","$inspect","$safe_sort","$surface_descriptions_in","$expected","$+","$empty?","$missing_items","$extra_items","$to_sentence","$private","$convert_actual_to_an_array","$match_when_sorted?","$values_match?","$respond_to?","$to_ary","$enumerable?","$to_a","$sort","$map","$[]","$unmatched_expected_indexes","$best_solution","$unmatched_actual_indexes","$find_best_solution","$pairings_maximizer","$new","$size","$each_with_index","$<<","$>","$unmatched_item_count","$indeterminate_expected_indexes","$indeterminate_actual_indexes","$candidate?","$count","$class","$attr_reader","$categorize_indexes","$solution","$first","$expected_to_actual_matched_indexes","$each","$best_solution_for_pairing","$ideal?","$worse_than?","$each_pair","$!","$reciprocal_single_match?","$one?","$==","$apply_pairing_to","$delete","$actual_to_expected_matched_indexes","$inject","$[]=","$-"]),function(n){var l,c=l=i(n,"RSpec"),u=(c.$$proto,c.$$scope);!function(n){var l,c=l=i(n,"Matchers"),u=(c.$$proto,c.$$scope);!function(n){var l,c=l=i(n,"BuiltIn"),u=(c.$$proto,c.$$scope);!function(n,$super){function i(){}var l,c,u,_,p,d,h,f,m,g,b,v=i=s(n,$super,"ContainExactly",i),y=v.$$proto,x=v.$$scope;y.missing_items=y.extra_items=y.best_solution=y.pairings_maximizer=$,e.defn(v,"$failure_message",l=function(){var r,a=this,n=$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message"),(r=x.get("Array")["$==="](a.$actual()))===$||null==r||r.$$is_boolean&&1!=r?"expected a collection that can be converted to an array with `#to_ary` or `#to_a`, but got "+a.$actual().$inspect():(n="expected collection contained:  "+a.$safe_sort(a.$surface_descriptions_in(a.$expected())).$inspect()+"\n",n=t(n,"actual collection contained:    "+a.$safe_sort(a.$actual()).$inspect()+"\n"),((r=a.$missing_items()["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r)&&(n=t(n,"the missing elements were:      "+a.$safe_sort(a.$surface_descriptions_in(a.$missing_items())).$inspect()+"\n")),((r=a.$extra_items()["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r)&&(n=t(n,"the extra elements were:        "+a.$safe_sort(a.$extra_items()).$inspect()+"\n")),n)},l.$$arity=0,l.$$parameters=[]),e.defn(v,"$failure_message_when_negated",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.$actual().$inspect()+" not to contain exactly"+t.$to_sentence(t.$surface_descriptions_in(t.$expected()))},c.$$arity=0,c.$$parameters=[]),e.defn(v,"$description",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"contain exactly"+t.$to_sentence(t.$surface_descriptions_in(t.$expected()))},u.$$arity=0,u.$$parameters=[]),v.$private(),e.defn(v,"$match",_=function(){var t,r,a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"match"),!((t=a.$convert_actual_to_an_array())===$||null==t||t.$$is_boolean&&1!=t)&&(!1!==(t=a["$match_when_sorted?"]())&&t!==$&&null!=t?t:(r=a.$extra_items()["$empty?"](),!1!==r&&r!==$&&null!=r?a.$missing_items()["$empty?"]():r))},_.$$arity=2,_.$$parameters=[["req","_expected"],["req","_actual"]]),e.defn(v,"$match_when_sorted?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"match_when_sorted?"),t["$values_match?"](t.$safe_sort(t.$expected()),t.$safe_sort(t.$actual()))},p.$$arity=0,p.$$parameters=[]),e.defn(v,"$convert_actual_to_an_array",d=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"convert_actual_to_an_array"),(t=a.$actual()["$respond_to?"]("to_ary"))===$||null==t||t.$$is_boolean&&1!=t?(r=a["$enumerable?"](a.$actual()),!((t=!1!==r&&r!==$&&null!=r?a.$actual()["$respond_to?"]("to_a"):r)===$||null==t||t.$$is_boolean&&1!=t)&&(a.actual=a.$actual().$to_a())):a.actual=a.$actual().$to_ary()},d.$$arity=0,d.$$parameters=[]),e.defn(v,"$safe_sort",h=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"safe_sort");try{return t.$sort()}catch(r){if(e.rescue(r,[x.get("StandardError")]))return t;throw r}},h.$$arity=1,h.$$parameters=[["req","array"]]),e.defn(v,"$missing_items",f=function(){var t,r,a,n,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"missing_items"),!1!==(t=i.missing_items)&&t!==$&&null!=t?t:i.missing_items=(r=(a=i.$best_solution().$unmatched_expected_indexes()).$map,r.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=$),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"missing_items")}return r.$expected()["$[]"](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","index"]],n),r).call(a)},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$extra_items",m=function(){var t,r,a,n,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"extra_items"),!1!==(t=i.extra_items)&&t!==$&&null!=t?t:i.extra_items=(r=(a=i.$best_solution().$unmatched_actual_indexes()).$map,r.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=$),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"extra_items")}return r.$actual()["$[]"](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","index"]],n),r).call(a)},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$best_solution",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"best_solution"),!1!==(t=r.best_solution)&&t!==$&&null!=t?t:r.best_solution=r.$pairings_maximizer().$find_best_solution()},g.$$arity=0,g.$$parameters=[]),e.defn(v,"$pairings_maximizer",b=function(){var t,r,a,n,i,s,o,l,c=this,u=$,_=$,p=arguments.length;return 0!==p&&e.ac(p,0,this,"pairings_maximizer"),!1!==(t=c.pairings_maximizer)&&t!==$&&null!=t?t:c.pairings_maximizer=function(){return u=x.get("Hash")["$[]"]((r=(a=x.get("Array")).$new,r.$$p=(n=function(t){n.$$s;if(null==t&&(t=$),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"pairings_maximizer")}return[t,[]]},n.$$s=c,n.$$arity=1,n.$$parameters=[["req","i"]],n),r).call(a,c.$expected().$size())),_=x.get("Hash")["$[]"]((r=(i=x.get("Array")).$new,r.$$p=(s=function(t){s.$$s;if(null==t&&(t=$),s.$$is_lambda||s.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"pairings_maximizer")}return[t,[]]},s.$$s=c,s.$$arity=1,s.$$parameters=[["req","i"]],s),r).call(i,c.$actual().$size())),(r=(o=c.$expected()).$each_with_index,r.$$p=(l=function(t,r){var a,n,i,s=l.$$s||this;if(null==t&&(t=$),null==r&&(r=$),l.$$is_lambda||l.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"pairings_maximizer")}return(a=(n=s.$actual()).$each_with_index,a.$$p=(i=function(a,n){var s,o=i.$$s||this;if(null==a&&(a=$),null==n&&(n=$),i.$$is_lambda||i.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"pairings_maximizer")}return(s=o["$values_match?"](t,a))===$||null==s||s.$$is_boolean&&1!=s?$:(u["$[]"](r)["$<<"](n),_["$[]"](n)["$<<"](r))},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","a"],["req","ai"]],i),a).call(n)},l.$$s=c,l.$$arity=2,l.$$parameters=[["req","e"],["req","ei"]],l),r).call(o),x.get("PairingsMaximizer").$new(u,_)}()},b.$$arity=0,b.$$parameters=[]),function(n,$super){function i(){}var l,c,u,_,p,d,h,f,m,g,b,v=i=s(n,$super,"PairingsMaximizer",i),y=(v.$$proto,v.$$scope);e.cdecl(y,"Solution",(l=(c=y.get("Struct")).$new,l.$$p=(u=function(){var a,n,i,s,o,l=u.$$s||this;if(u.$$is_lambda||u.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"<class:PairingsMaximizer>")}return e.def(l,"$worse_than?",a=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"worse_than?"),r(a.$unmatched_item_count(),t.$unmatched_item_count())},a.$$arity=1,a.$$parameters=[["req","other"]]),e.def(l,"$candidate?",n=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"candidate?"),t=r.$indeterminate_expected_indexes()["$empty?"](),!1!==t&&t!==$&&null!=t?r.$indeterminate_actual_indexes()["$empty?"]():t},n.$$arity=0,n.$$parameters=[]),e.def(l,"$ideal?",i=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"ideal?"),t=a["$candidate?"](),!1!==t&&t!==$&&null!=t?!1!==(r=a.$unmatched_expected_indexes()["$empty?"]())&&r!==$&&null!=r?r:a.$unmatched_actual_indexes()["$empty?"]():t},i.$$arity=0,i.$$parameters=[]),e.def(l,"$unmatched_item_count",s=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"unmatched_item_count"),t(r.$unmatched_expected_indexes().$count(),r.$unmatched_actual_indexes().$count())},s.$$arity=0,s.$$parameters=[]),e.def(l,"$+",o=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"+"),a.$class().$new(t(a.$unmatched_expected_indexes(),r.$unmatched_expected_indexes()),t(a.$unmatched_actual_indexes(),r.$unmatched_actual_indexes()),[],[])},o.$$arity=1,o.$$parameters=[["req","derived_candidate_solution"]]),$&&"+"},u.$$s=v,u.$$arity=0,u.$$parameters=[],u),l).call(c,"unmatched_expected_indexes","unmatched_actual_indexes","indeterminate_expected_indexes","indeterminate_actual_indexes")),v.$attr_reader("expected_to_actual_matched_indexes","actual_to_expected_matched_indexes","solution"),e.defn(v,"$initialize",_=function(t,r){var a,n,i=this,s=$,o=$,l=$,c=$,u=arguments.length;return 2!==u&&e.ac(u,2,this,"initialize"),i.expected_to_actual_matched_indexes=t,i.actual_to_expected_matched_indexes=r,n=i.$categorize_indexes(t,r),a=e.to_ary(n),s=null==a[0]?$:a[0],o=null==a[1]?$:a[1],n=i.$categorize_indexes(r,t),a=e.to_ary(n),l=null==a[0]?$:a[0],c=null==a[1]?$:a[1],i.solution=y.get("Solution").$new(s,l,o,c)},_.$$arity=2,_.$$parameters=[["req","expected_to_actual_matched_indexes"],["req","actual_to_expected_matched_indexes"]]),e.defn(v,"$find_best_solution",p=function(){try{var t,r,a,n=this,i=$,s=$,o=$,l=arguments.length;return 0!==l&&e.ac(l,0,this,"find_best_solution"),(t=n.$solution()["$candidate?"]())===$||null==t||t.$$is_boolean&&1!=t?(i=y.get("NullSolution"),s=n.$solution().$indeterminate_expected_indexes().$first(),o=n.$expected_to_actual_matched_indexes()["$[]"](s),(t=(r=o).$each,t.$$p=(a=function(t){var r,n=a.$$s||this,o=$;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"find_best_solution")}return o=n.$best_solution_for_pairing(s,t),(r=o["$ideal?"]())===$||null==r||r.$$is_boolean&&1!=r||e.ret(o),(r=i["$worse_than?"](o))===$||null==r||r.$$is_boolean&&1!=r?$:i=o},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","actual_index"]],a),t).call(r),i):n.$solution()}catch(t){if(t===e.returner)return t.$v;throw t}},p.$$arity=0,p.$$parameters=[]),v.$private(),e.cdecl(y,"NullSolution",(l=(d=y.get("Class")).$new,l.$$p=(h=function(){var t,r=h.$$s||this;if(h.$$is_lambda||h.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<class:PairingsMaximizer>")}return e.defs(r,"$worse_than?",t=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"worse_than?"),!0},t.$$arity=1,t.$$parameters=[["req","_other"]]),$&&"worse_than?"},h.$$s=v,h.$$arity=0,h.$$parameters=[],h),l).call(d)),e.defn(v,"$categorize_indexes",f=function(t,r){var a,n,i,s=this,o=$,l=$,c=arguments.length;return 2!==c&&e.ac(c,2,this,"categorize_indexes"),o=[],l=[],(a=(n=t).$each_pair,a.$$p=(i=function(t,a){var n,s=i.$$s||this;if(null==t&&(t=$),null==a&&(a=$),i.$$is_lambda||i.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"categorize_indexes")}
return(n=a["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n?(n=s["$reciprocal_single_match?"](a,t,r)["$!"]())===$||null==n||n.$$is_boolean&&1!=n?$:l["$<<"](t):o["$<<"](t)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","index"],["req","matches"]],i),a).call(n),[o,l]},f.$$arity=2,f.$$parameters=[["req","indexes_to_categorize"],["req","other_indexes"]]),e.defn(v,"$reciprocal_single_match?",m=function(t,r,a){var n,i=arguments.length;return 3!==i&&e.ac(i,3,this,"reciprocal_single_match?"),!((n=t["$one?"]())===$||null==n||n.$$is_boolean&&1!=n)&&a["$[]"](t.$first())["$=="]([r])},m.$$arity=3,m.$$parameters=[["req","matches"],["req","index"],["req","other_list"]]),e.defn(v,"$best_solution_for_pairing",g=function(r,a){var n=this,i=$,s=$,o=arguments.length;return 2!==o&&e.ac(o,2,this,"best_solution_for_pairing"),i=n.$apply_pairing_to(n.$solution().$indeterminate_expected_indexes(),n.$expected_to_actual_matched_indexes(),a),i.$delete(r),s=n.$apply_pairing_to(n.$solution().$indeterminate_actual_indexes(),n.$actual_to_expected_matched_indexes(),r),s.$delete(a),t(n.$solution(),n.$class().$new(i,s).$find_best_solution())},g.$$arity=2,g.$$parameters=[["req","expected_index"],["req","actual_index"]]),e.defn(v,"$apply_pairing_to",b=function(t,r,n){var i,s,l,c=this,u=arguments.length;return 3!==u&&e.ac(u,3,this,"apply_pairing_to"),(i=(s=t).$inject,i.$$p=(l=function(t,i){l.$$s;if(null==t&&(t=$),null==i&&(i=$),l.$$is_lambda||l.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"apply_pairing_to")}return t["$[]="](i,a(r["$[]"](i),[n])),t},l.$$s=c,l.$$arity=2,l.$$parameters=[["req","accum"],["req","index"]],l),i).call(s,o([],{}))},b.$$arity=3,b.$$parameters=[["req","indeterminates"],["req","original_matches"],["req","other_list_index"]])}(x.base,null)}(u.base,u.get("BaseMatcher"))}(u.base)}(u.base)}(n.base)},Opal.modules["rspec/matchers/built_in/cover"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$all?","$cover?","$none?","$expected"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o=a=n(t,$super,"Cover",a),l=o.$$proto;o.$$scope;l.expected=r,e.defn(o,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},$.$$arity=-1,$.$$parameters=[["rest","expected"]]),e.defn(o,"$matches?",i=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"matches?"),i.actual=t,(a=(n=i.expected)["$all?"],a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"matches?")}return t["$cover?"](a)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","e"]],$),a).call(n)},i.$$arity=1,i.$$parameters=[["req","range"]]),e.defn(o,"$does_not_match?",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"does_not_match?"),i.actual=t,(a=(n=i.$expected())["$none?"],a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"does_not_match?")}return t["$cover?"](a)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","e"]],$),a).call(n)},s.$$arity=1,s.$$parameters=[["req","range"]])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/start_and_end_with"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$==","$length","$first","$tap","$<<","$!","$respond_to?","$actual","$===","$expected","$name_to_sentence","$inspect","$surface_descriptions_in","$private","$subset_matches?","$element_matches?","$new","$values_match?","$[]","$-@"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"StartAndEndWith",a),u=(c.$$proto,c.$$scope);e.defn(c,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.actual_does_not_have_ordered_elements=!1,t.expected=function(){return e.$length()["$=="](1)?e.$first():e}()},$.$$arity=-1,$.$$parameters=[["rest","expected"]]),e.defn(c,"$failure_message",i=function(){var t,a,n,$,s,o=this,l=i.$$p,c=r,u=r;i.$$p=null;var _=arguments.length;for(0!==_&&e.ac(_,0,this,"failure_message"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(t=(a=(s=o,$=e.find_super_dispatcher(o,"failure_message",i,!1),$.$$p=l,$).apply(s,c)).$tap,t.$$p=(n=function(t){var a,$=n.$$s||this;if(null==$.actual_does_not_have_ordered_elements&&($.actual_does_not_have_ordered_elements=r),null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"failure_message")}return(a=$.actual_does_not_have_ordered_elements)===r||null==a||a.$$is_boolean&&1!=a?(a=$.$actual()["$respond_to?"]("[]")["$!"]())===r||null==a||a.$$is_boolean&&1!=a?r:t["$<<"](", but it cannot be indexed using #[]"):t["$<<"](", but it does not have ordered elements")},n.$$s=o,n.$$arity=1,n.$$parameters=[["req","msg"]],n),t).call(a)},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$description",s=function(){var t,a,n=this,$=s.$$p,i=r,o=r;s.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"description"),i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(t=u.get("Hash")["$==="](n.$expected()))===r||null==t||t.$$is_boolean&&1!=t?(a=n,t=e.find_super_dispatcher(n,"description",s,!1),t.$$p=$,t).apply(a,i):n.$name_to_sentence()+" "+n.$surface_descriptions_in(n.$expected()).$inspect()},s.$$arity=0,s.$$parameters=[]),c.$private(),e.defn(c,"$match",o=function(t,a){var n,$,i=this,s=arguments.length;if(2!==s&&e.ac(s,2,this,"match"),(n=a["$respond_to?"]("[]"))===r||null==n||n.$$is_boolean&&1!=n)return!1;try{return $=u.get("Struct")["$==="](t)["$!"](),(n=!1!==$&&$!==r&&null!=$?t["$respond_to?"]("length"):$)===r||null==n||n.$$is_boolean&&1!=n?i["$element_matches?"]():i["$subset_matches?"]()}catch(t){if(!e.rescue(t,[u.get("ArgumentError")]))throw t;try{return i.actual_does_not_have_ordered_elements=!0,!1}finally{e.pop_exception()}}},o.$$arity=2,o.$$parameters=[["req","expected"],["req","actual"]]),e.defn(c,"$actual_is_unordered",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_is_unordered"),u.get("ArgumentError").$new(t.$actual().$inspect()+" does not have ordered elements")},l.$$arity=0,l.$$parameters=[])}(s.base,s.get("BaseMatcher")),function(t,$super){function r(){}var a,$,i=r=n(t,$super,"StartWith",r);i.$$proto,i.$$scope;i.$private(),e.defn(i,"$subset_matches?",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"subset_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](0,t.$expected().$length()))},a.$$arity=0,a.$$parameters=[]),e.defn(i,"$element_matches?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"element_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](0))},$.$$arity=0,$.$$parameters=[])}(s.base,s.get("StartAndEndWith")),function(t,$super){function r(){}var a,$,i=r=n(t,$super,"EndWith",r);i.$$proto,i.$$scope;i.$private(),e.defn(i,"$subset_matches?",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"subset_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](t.$expected().$length()["$-@"](),t.$expected().$length()))},a.$$arity=0,a.$$parameters=[]),e.defn(i,"$element_matches?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"element_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](-1))},$.$$arity=0,$.$$parameters=[])}(s.base,s.get("StartAndEndWith"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/eq"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$format_object","$expected","$actual","$name_to_sentence","$inspect","$private","$==","$===","$format_time","$format_date_time","$to_s","$method_defined?","$strftime","$%","$nsec","$usec"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h=a=n(t,$super,"Eq",a),f=h.$$proto,m=h.$$scope;f.expected=r,e.defn(h,"$failure_message",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"\nexpected: "+t.$format_object(t.$expected())+"\n     got: "+t.$format_object(t.$actual())+"\n\n(compared using ==)\n"},$.$$arity=0,$.$$parameters=[]),e.defn(h,"$failure_message_when_negated",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected: value != "+t.$format_object(t.$expected())+"\n     got: "+t.$format_object(t.$actual())+"\n\n(compared using ==)\n"},i.$$arity=0,i.$$parameters=[]),e.defn(h,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$name_to_sentence()+" "+t.expected.$inspect()},s.$$arity=0,s.$$parameters=[]),e.defn(h,"$diffable?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},o.$$arity=0,o.$$parameters=[]),h.$private(),e.defn(h,"$match",l=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$=="](t)},l.$$arity=2,l.$$parameters=[["req","expected"],["req","actual"]]),e.defn(h,"$format_object",c=function(t){var a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"format_object"),(a=m.get("Time")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a?(n=null!=m.DateTime,(a=!1!==n&&n!==r&&null!=n?m.get("DateTime")["$==="](t):n)===r||null==a||a.$$is_boolean&&1!=a?(n=null!=m.BigDecimal,(a=!1!==n&&n!==r&&null!=n?m.get("BigDecimal")["$==="](t):n)===r||null==a||a.$$is_boolean&&1!=a?t.$inspect():t.$to_s("F")+" ("+t.$inspect()+")"):$.$format_date_time(t)):$.$format_time(t)},c.$$arity=1,c.$$parameters=[["req","object"]]),e.cdecl(m,"TIME_FORMAT","%Y-%m-%d %H:%M:%S"),(u=m.get("Time")["$method_defined?"]("nsec"))===r||null==u||u.$$is_boolean&&1!=u?e.defn(h,"$format_time",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_time"),t.$strftime(m.get("TIME_FORMAT")+"."+"%06d"["$%"](t.$usec())+" %z")},p.$$arity=1,p.$$parameters=[["req","time"]]):e.defn(h,"$format_time",_=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_time"),t.$strftime(m.get("TIME_FORMAT")+"."+"%09d"["$%"](t.$nsec())+" %z")},_.$$arity=1,_.$$parameters=[["req","time"]]),e.cdecl(m,"DATE_TIME_FORMAT","%a, %d %b %Y %H:%M:%S.%N %z"),e.defn(h,"$format_date_time",d=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"format_date_time"),(a=null!=m.ActiveSupport)===r||null==a||a.$$is_boolean&&1!=a?t.$inspect():t.$strftime(m.get("DATE_TIME_FORMAT"))},d.$$arity=1,d.$$parameters=[["req","date_time"]])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/eql"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$inspect","$expected","$actual","$private","$eql?"]),function(t){var n,$=n=r(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Matchers"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"BuiltIn"),i=($.$$proto,$.$$scope);!function(t,$super){function r(){}var n,$,i,s,o=r=a(t,$super,"Eql",r);o.$$proto,o.$$scope;e.defn(o,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"\nexpected: "+t.$expected().$inspect()+"\n     got: "+t.$actual().$inspect()+"\n\n(compared using eql?)\n"},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected: value != "+t.$expected().$inspect()+"\n     got: "+t.$actual().$inspect()+"\n\n(compared using eql?)\n"},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$diffable?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},i.$$arity=0,i.$$parameters=[]),o.$private(),e.defn(o,"$match",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$eql?"](t)},s.$$arity=2,s.$$parameters=[["req","expected"],["req","actual"]])}(i.base,i.get("BaseMatcher"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/matchers/built_in/equal"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$expected_is_a_literal_singleton?","$simple_failure_message","$detailed_failure_message","$inspect_object","$actual","$expected","$!","$private","$equal?","$include?","$inspect","$actual_inspected","$class","$object_id"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d=a=n(t,$super,"Equal",a),h=(d.$$proto,d.$$scope);e.defn(d,"$failure_message",$=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message"),(t=a["$expected_is_a_literal_singleton?"]())===r||null==t||t.$$is_boolean&&1!=t?a.$detailed_failure_message():a.$simple_failure_message()},$.$$arity=0,$.$$parameters=[]),e.defn(d,"$failure_message_when_negated",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected not "+t.$inspect_object(t.$actual())+"\n         got "+t.$inspect_object(t.$expected())+"\n\nCompared using equal?, which compares object identity.\n\n"},i.$$arity=0,i.$$parameters=[]),e.defn(d,"$diffable?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"diffable?"),t["$expected_is_a_literal_singleton?"]()["$!"]()},s.$$arity=0,s.$$parameters=[]),d.$private(),e.defn(d,"$match",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$equal?"](t)},o.$$arity=2,o.$$parameters=[["req","expected"],["req","actual"]]),e.cdecl(h,"LITERAL_SINGLETONS",[!0,!1,r]),e.defn(d,"$expected_is_a_literal_singleton?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_is_a_literal_singleton?"),h.get("LITERAL_SINGLETONS")["$include?"](t.$expected())},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$actual_inspected",c=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"actual_inspected"),(t=h.get("LITERAL_SINGLETONS")["$include?"](a.$actual()))===r||null==t||t.$$is_boolean&&1!=t?a.$inspect_object(a.$actual()):a.$actual().$inspect()},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$simple_failure_message",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"simple_failure_message"),"\nexpected "+t.$expected().$inspect()+"\n     got "+t.$actual_inspected()+"\n"},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$detailed_failure_message",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"detailed_failure_message"),"\nexpected "+t.$inspect_object(t.$expected())+"\n     got "+t.$inspect_object(t.$actual())+"\n\nCompared using equal?, which compares object identity,\nbut expected and actual are not the same object. Use\n`expect(actual).to eq(expected)` if you don't care about\nobject identity in this example.\n\n"},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$inspect_object",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"inspect_object"),"#<"+t.$class()+":"+t.$object_id()+"> => "+t.$inspect()},p.$$arity=1,p.$$parameters=[["req","o"]])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/exist"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$new","$valid_test?","$actual_exists?","$!","$inspect","$validity_message","$==","$size","$uniq_truthy_values","$first","$existence_values","$===","$last","$private","$uniq","$map","$__send__","$actual","$expected","$predicates","$select","$respond_to?"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"Exist",a),u=c.$$proto,_=c.$$scope;u.actual=u.expected=u.test=r,e.defn(c,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},$.$$arity=-1,$.$$parameters=[["rest","expected"]]),e.defn(c,"$matches?",i=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),n.actual=t,n.test=_.get("ExistenceTest").$new(n.actual,n.expected),a=n.test["$valid_test?"](),!1!==a&&a!==r&&null!=a?n.test["$actual_exists?"]():a},i.$$arity=1,i.$$parameters=[["req","actual"]]),e.defn(c,"$does_not_match?",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),n.actual=t,n.test=_.get("ExistenceTest").$new(n.actual,n.expected),a=n.test["$valid_test?"](),!1!==a&&a!==r&&null!=a?n.test["$actual_exists?"]()["$!"]():a},s.$$arity=1,s.$$parameters=[["req","actual"]]),e.defn(c,"$failure_message",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to exist"+t.test.$validity_message()},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$failure_message_when_negated",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" not to exist"+t.test.$validity_message()},l.$$arity=0,l.$$parameters=[]),function(t,$super){function a(){}var $,i,s,o,l,c,u=a=n(t,$super,"ExistenceTest",a),_=u.$$proto;u.$$scope;_.uniq_truthy_values=_.existence_values=_.predicates=r,e.defn(u,"$valid_test?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"valid_test?"),t.$uniq_truthy_values().$size()["$=="](1)},$.$$arity=0,$.$$parameters=[]),e.defn(u,"$actual_exists?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_exists?"),t.$existence_values().$first()},i.$$arity=0,i.$$parameters=[]),e.defn(u,"$validity_message",s=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"validity_message"),function(){return a=t.$uniq_truthy_values().$size(),(0)["$==="](a)?" but it does not respond to either `exist?` or `exists?`":2["$==="](a)?" but `exist?` and `exists?` returned different values:\n\n exist?: "+t.$existence_values().$first()+"\nexists?: "+t.$existence_values().$last():r}()},s.$$arity=0,s.$$parameters=[]),u.$private(),e.defn(u,"$uniq_truthy_values",o=function(){var t,a,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"uniq_truthy_values"),!1!==(t=i.uniq_truthy_values)&&t!==r&&null!=t?t:i.uniq_truthy_values=(a=(n=i.$existence_values()).$map,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"uniq_truthy_values")}return t["$!"]()["$!"]()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","v"]],$),a).call(n).$uniq()},o.$$arity=0,o.$$parameters=[]),e.defn(u,"$existence_values",l=function(){var t,a,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"existence_values"),!1!==(t=i.existence_values)&&t!==r&&null!=t?t:i.existence_values=(a=(n=i.$predicates()).$map,a.$$p=($=function(t){var a,n=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"existence_values")}return(a=n.$actual()).$__send__.apply(a,[t].concat(e.to_a(n.$expected())))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","p"]],$),a).call(n)},l.$$arity=0,l.$$parameters=[]),e.defn(u,"$predicates",c=function(){var t,a,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"predicates"),!1!==(t=i.predicates)&&t!==r&&null!=t?t:i.predicates=(a=(n=["exist?","exists?"]).$select,a.$$p=($=function(t){var a=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"predicates")}return a.$actual()["$respond_to?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","p"]],$),a).call(n)},c.$$arity=0,c.$$parameters=[])}(_.base,_.get("Struct").$new("actual","expected"))}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/has"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$predicate_accessible?","$predicate_matches?","$!","$validity_message","$predicate","$failure_message_args_description","$join","$compact","$method_description","$args_description","$private","$private_predicate?","$predicate_exists?","$===","$first","$methods","$include?","$private_methods","$to_s","$respond_to?","$__send__","$to_proc","$captures","$match","$gsub","$empty?","$map","$inspect"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=a=n(t,$super,"Has",a),k=x.$$proto,w=x.$$scope;k.block=k.actual=k.args=k.predicate=k.method_name=r,e.defn(x,"$initialize",$=function(t){var a,n,i=this,s=$.$$p,o=s||r,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];$.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"initialize"),a=[t,n,o],i.method_name=a[0],i.args=a[1],i.block=a[2],a},$.$$arity=-2,$.$$parameters=[["req","method_name"],["rest","args"],["block","block"]]),e.defn(x,"$matches?",i=function(t){var a,n=this,$=i.$$p,s=$||r;i.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),n.actual=t,!1!==(a=n.block)&&a!==r&&null!=a||(n.block=s),a=n["$predicate_accessible?"](),!1!==a&&a!==r&&null!=a?n["$predicate_matches?"]():a},i.$$arity=1,i.$$parameters=[["req","actual"],["block","block"]]),e.defn(x,"$does_not_match?",s=function(t){var a,n=this,$=s.$$p,i=$||r;s.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"does_not_match?"),n.actual=t,!1!==(a=n.block)&&a!==r&&null!=a||(n.block=i),a=n["$predicate_accessible?"](),!1!==a&&a!==r&&null!=a?n["$predicate_matches?"]()["$!"]():a},s.$$arity=1,s.$$parameters=[["req","actual"],["block","block"]]),e.defn(x,"$failure_message",o=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message"),!1!==(t=a.$validity_message())&&t!==r&&null!=t?t:"expected #"+a.$predicate()+a.$failure_message_args_description()+" to return true, got false"},o.$$arity=0,o.$$parameters=[]),e.defn(x,"$failure_message_when_negated",l=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message_when_negated"),!1!==(t=a.$validity_message())&&t!==r&&null!=t?t:"expected #"+a.$predicate()+a.$failure_message_args_description()+" to return false, got true"},l.$$arity=0,l.$$parameters=[]),e.defn(x,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),[t.$method_description(),t.$args_description()].$compact().$join(" ")},c.$$arity=0,c.$$parameters=[]),x.$private(),e.defn(x,"$predicate_accessible?",u=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate_accessible?"),t=a["$private_predicate?"]()["$!"](),!1!==t&&t!==r&&null!=t?a["$predicate_exists?"]():t},u.$$arity=0,u.$$parameters=[]),(_=w.get("String")["$==="](x.$methods().$first()))===r||null==_||_.$$is_boolean&&1!=_?e.defn(x,"$private_predicate?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate())},d.$$arity=0,d.$$parameters=[]):e.defn(x,"$private_predicate?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate().$to_s())},p.$$arity=0,p.$$parameters=[]),e.defn(x,"$predicate_exists?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"predicate_exists?"),t.actual["$respond_to?"](t.$predicate())},h.$$arity=0,h.$$parameters=[]),e.defn(x,"$predicate_matches?",f=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate_matches?"),(t=(r=a.actual).$__send__,t.$$p=a.block.$to_proc(),t).apply(r,[a.$predicate()].concat(e.to_a(a.args)))},f.$$arity=0,f.$$parameters=[]),e.defn(x,"$predicate",m=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate"),!1!==(t=a.predicate)&&t!==r&&null!=t?t:a.predicate="has_"+w.get("Matchers").$$scope.get("HAS_REGEX").$match(a.method_name.$to_s()).$captures().$first().$to_s()+"?"},m.$$arity=0,m.$$parameters=[]),e.defn(x,"$method_description",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_description"),t.method_name.$to_s().$gsub("_"," ")},g.$$arity=0,g.$$parameters=[]),e.defn(x,"$args_description",b=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"args_description"),(t=$.args["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=(a=$.args).$map,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"args_description")}return t.$inspect()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","arg"]],n),t).call(a).$join(", "):r},b.$$arity=0,b.$$parameters=[]),e.defn(x,"$failure_message_args_description",v=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message_args_description"),a=t.$args_description(),!1!==a&&a!==r&&null!=a?"("+a+")":r},v.$$arity=0,v.$$parameters=[]),e.defn(x,"$validity_message",y=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"validity_message"),(t=a["$private_predicate?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=a["$predicate_exists?"]()["$!"]())===r||null==t||t.$$is_boolean&&1!=t?r:"expected "+a.actual+" to respond to `"+a.$predicate()+"`":"expected "+a.actual+" to respond to `"+a.$predicate()+"` but `"+a.$predicate()+"` is a private method"},y.$$arity=0,y.$$parameters=[])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/have_attributes"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$attr_reader","$respond_to_attributes?","$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$inspect","$respond_to_failure_message_or","$private","$__send__","$actual_has_attribute?","$actual","$values_match?","$matches?","$respond_to_matcher","$!","$arguments","$with","$new","$keys","$respond_to_failed","$failure_message"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"HaveAttributes",a),m=f.$$proto,g=f.$$scope;m.respond_to_matcher=r,f.$attr_reader("respond_to_failed"),e.defn(f,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t,r.respond_to_failed=!1},$.$$arity=1,$.$$parameters=[["req","expected"]]),e.defn(f,"$matches?",i=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),n.actual=t,!((a=n["$respond_to_attributes?"]())===r||null==a||a.$$is_boolean&&1!=a)&&n.$perform_match("all?")},i.$$arity=1,i.$$parameters=[["req","actual"]]),e.defn(f,"$does_not_match?",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),n.actual=t,!((a=n["$respond_to_attributes?"]())===r||null==a||a.$$is_boolean&&1!=a)&&n.$perform_match("none?")},s.$$arity=1,s.$$parameters=[["req","actual"]]),e.defn(f,"$description",o=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),a=t.$surface_descriptions_in(t.$expected()),t.$improve_hash_formatting("have attributes "+a.$inspect())},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$failure_message",l=function(){var t,a,n,$=this,i=l.$$p,s=r,o=r;l.$$p=null;var c=arguments.length;for(0!==c&&e.ac(c,0,this,"failure_message"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(t=(a=$).$respond_to_failure_message_or,t.$$p=(n=function(){var t,r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"failure_message")}return(r=a,t=e.find_iter_super_dispatcher(a,"failure_message",n.$$def||l,!1,!0),t.$$p=i,t).apply(r,s)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a)},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$failure_message_when_negated",c=function(){var t,a,n,$=this,i=c.$$p,s=r,o=r;c.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message_when_negated"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(t=(a=$).$respond_to_failure_message_or,t.$$p=(n=function(){var t,r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"failure_message_when_negated")}return(r=a,t=e.find_iter_super_dispatcher(a,"failure_message_when_negated",n.$$def||c,!1,!0),t.$$p=i,t).apply(r,s)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(a)},c.$$arity=0,c.$$parameters=[]),f.$private(),e.defn(f,"$perform_match",u=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"perform_match"),(a=(n=i.$expected()).$__send__,a.$$p=($=function(t,a){var n=$.$$s||this;if(null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"perform_match")}return n["$actual_has_attribute?"](t,a)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","attribute_key"],["req","attribute_value"]],$),a).call(n,t)},u.$$arity=1,u.$$parameters=[["req","predicate"]]),e.defn(f,"$actual_has_attribute?",_=function(t,a){var n=this,$=r,i=arguments.length;return 2!==i&&e.ac(i,2,this,"actual_has_attribute?"),$=n.$actual().$__send__(t),n["$values_match?"](a,$)},_.$$arity=2,_.$$parameters=[["req","attribute_key"],["req","attribute_value"]]),e.defn(f,"$respond_to_attributes?",p=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"respond_to_attributes?"),a=t.$respond_to_matcher()["$matches?"](t.$actual()),t.respond_to_failed=a["$!"](),a},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$respond_to_matcher",d=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"respond_to_matcher"),!1!==(t=n.respond_to_matcher)&&t!==r&&null!=t?t:n.respond_to_matcher=(a=g.get("RespondTo")).$new.apply(a,e.to_a(n.$expected().$keys())).$with(0).$arguments()},d.$$arity=0,d.$$parameters=[]),e.defn(f,"$respond_to_failure_message_or",h=function(){var t,a=this,n=h.$$p,$=n||r;h.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"respond_to_failure_message_or"),(t=a.$respond_to_failed())===r||null==t||t.$$is_boolean&&1!=t?a.$improve_hash_formatting(e.yieldX($,[])):a.$respond_to_matcher().$failure_message()},h.$$arity=0,h.$$parameters=[])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/include"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$to_sentence","$+","$invalid_type_message","$private","$respond_to?","$actual","$__send__","$comparing_hash_to_a_subset?","$actual_hash_includes?","$comparing_hash_keys?","$actual_hash_has_key?","$actual_collection_includes?","$is_a?","$fetch","$values_match?","$!","$key?","$any?","$keys","$include?"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Matchers"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v=n=$(r,$super,"Include",n),y=(v.$$proto,v.$$scope);e.defn(v,"$initialize",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},i.$$arity=-1,i.$$parameters=[["rest","expected"]]),e.defn(v,"$matches?",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.$perform_match("all?","all?")},s.$$arity=1,s.$$parameters=[["req","actual"]]),e.defn(v,"$does_not_match?",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.actual=t,r.$perform_match("none?","any?")},o.$$arity=1,o.$$parameters=[["req","actual"]]),e.defn(v,"$description",l=function(){var t=this,r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),r=t.$surface_descriptions_in(t.$expected()),t.$improve_hash_formatting("include"+t.$to_sentence(r))
},l.$$arity=0,l.$$parameters=[]),e.defn(v,"$failure_message",c=function(){var r,n,$=this,i=c.$$p,s=a,o=a;c.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t($.$improve_hash_formatting((n=$,r=e.find_super_dispatcher($,"failure_message",c,!1),r.$$p=i,r).apply(n,s)),$.$invalid_type_message())},c.$$arity=0,c.$$parameters=[]),e.defn(v,"$failure_message_when_negated",u=function(){var r,n,$=this,i=u.$$p,s=a,o=a;u.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message_when_negated"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t($.$improve_hash_formatting((n=$,r=e.find_super_dispatcher($,"failure_message_when_negated",u,!1),r.$$p=i,r).apply(n,s)),$.$invalid_type_message())},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$diffable?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},_.$$arity=0,_.$$parameters=[]),v.$private(),e.defn(v,"$invalid_type_message",p=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invalid_type_message"),(t=r.$actual()["$respond_to?"]("include?"))===a||null==t||t.$$is_boolean&&1!=t?", but it does not respond to `include?`":""},p.$$arity=0,p.$$parameters=[]),e.defn(v,"$perform_match",d=function(t,r){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"perform_match"),!((n=s.$actual()["$respond_to?"]("include?"))===a||null==n||n.$$is_boolean&&1!=n)&&(n=($=s.$expected()).$__send__,n.$$p=(i=function(t){var n,$,s,o=i.$$s||this;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"perform_match")}return(n=o["$comparing_hash_to_a_subset?"](t))===a||null==n||n.$$is_boolean&&1!=n?(n=o["$comparing_hash_keys?"](t))===a||null==n||n.$$is_boolean&&1!=n?o["$actual_collection_includes?"](t):o["$actual_hash_has_key?"](t):(n=($=t).$__send__,n.$$p=(s=function(t){var r,n,$,i=s.$$s||this;if(null==t&&(t=a),t=e.to_ary(t),r=e.slice.call(t,0,t.length),n=r.splice(0,1)[0],null==n&&(n=a),$=r.splice(0,1)[0],null==$&&($=a),s.$$is_lambda||s.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"perform_match")}return i["$actual_hash_includes?"](n,$)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req"]],s.$$has_top_level_mlhs_arg=!0,s),n).call($,r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","expected_item"]],i),n).call($,t)},d.$$arity=2,d.$$parameters=[["req","predicate"],["req","hash_subset_predicate"]]),e.defn(v,"$comparing_hash_to_a_subset?",h=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"comparing_hash_to_a_subset?"),r=n.$actual()["$is_a?"](y.get("Hash")),!1!==r&&r!==a&&null!=r?t["$is_a?"](y.get("Hash")):r},h.$$arity=1,h.$$parameters=[["req","expected_item"]]),e.defn(v,"$actual_hash_includes?",f=function(t,r){try{var n,$,i,s=this,o=a,l=arguments.length;return 2!==l&&e.ac(l,2,this,"actual_hash_includes?"),o=(n=($=s.$actual()).$fetch,n.$$p=(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"actual_hash_includes?")}e.ret(!1)},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),n).call($,t),s["$values_match?"](r,o)}catch(t){if(t===e.returner)return t.$v;throw t}},f.$$arity=2,f.$$parameters=[["req","expected_key"],["req","expected_value"]]),e.defn(v,"$comparing_hash_keys?",m=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"comparing_hash_keys?"),r=n.$actual()["$is_a?"](y.get("Hash")),!1!==r&&r!==a&&null!=r?t["$is_a?"](y.get("Hash"))["$!"]():r},m.$$arity=1,m.$$parameters=[["req","expected_item"]]),e.defn(v,"$actual_hash_has_key?",g=function(t){var r,n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"actual_hash_has_key?"),!1!==(r=s.$actual()["$key?"](t))&&r!==a&&null!=r?r:(n=($=s.$actual().$keys())["$any?"],n.$$p=(i=function(r){var n=i.$$s||this;if(null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"actual_hash_has_key?")}return n["$values_match?"](t,r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","key"]],i),n).call($)},g.$$arity=1,g.$$parameters=[["req","expected_key"]]),e.defn(v,"$actual_collection_includes?",b=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"actual_collection_includes?"),!((r=i.$actual()["$include?"](t))===a||null==r||r.$$is_boolean&&1!=r)||!((r=i.$actual()["$respond_to?"]("any?"))===a||null==r||r.$$is_boolean&&1!=r)&&(r=(n=i.$actual())["$any?"],r.$$p=($=function(r){var n=$.$$s||this;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"actual_collection_includes?")}return n["$values_match?"](t,r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","value"]],$),r).call(n)},b.$$arity=1,b.$$parameters=[["req","expected_item"]])}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$raise","$iterable?","$improve_hash_formatting","$each","$<<","$failure_message_for_item","$failed_objects","$join","$description_of","$matcher","$private","$index_failed_objects","$empty?","$each_with_index","$clone","$matches?","$[]=","$failure_message","$actual","$indent_multiline_message","$add_new_line_if_needed","$start_with?","$sub","$map","$=~","$+","$lines","$respond_to?"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Matchers"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"BuiltIn"),l=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var s,o,l,c,u,_,p,d,h,f,m,g=n=$(r,$super,"All",n),b=g.$$proto,v=g.$$scope;b.matcher=b.actual=a,g.$attr_reader("matcher","failed_objects"),e.defn(g,"$initialize",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.matcher=t,r.failed_objects=i([],{})},s.$$arity=1,s.$$parameters=[["req","matcher"]]),e.defn(g,"$does_not_match?",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(v.get("NotImplementedError"),"`expect().not_to all( matcher )` is not supported.")},o.$$arity=1,o.$$parameters=[["req","_actual"]]),e.defn(g,"$failure_message",l=function(){var t,r,n,$,i,s=this,o=l.$$p,c=a,u=a,_=a;l.$$p=null;var p=arguments.length;for(0!==p&&e.ac(p,0,this,"failure_message"),u=[],_=0;_<arguments.length;_++)u[_]=arguments[_];return(t=s["$iterable?"]())===a||null==t||t.$$is_boolean&&1!=t?s.$improve_hash_formatting((r=s,t=e.find_super_dispatcher(s,"failure_message",l,!1),t.$$p=o,t).apply(r,u))+", but was not iterable":(c=[s.$improve_hash_formatting((n=s,t=e.find_super_dispatcher(s,"failure_message",l,!1),t.$$p=o,t).apply(n,u))],(t=($=s.$failed_objects()).$each,t.$$p=(i=function(t,r){var n=i.$$s||this;if(null==t&&(t=a),null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"failure_message")}return c["$<<"](n.$failure_message_for_item(t,r))},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","index"],["req","matcher_failure_message"]],i),t).call($),c.$join("\n\n"))},l.$$arity=0,l.$$parameters=[]),e.defn(g,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$improve_hash_formatting("all "+t.$description_of(t.$matcher()))},c.$$arity=0,c.$$parameters=[]),g.$private(),e.defn(g,"$match",u=function(){var t,r=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"match"),!((t=r["$iterable?"]())===a||null==t||t.$$is_boolean&&1!=t)&&(r.$index_failed_objects(),r.$failed_objects()["$empty?"]())},u.$$arity=2,u.$$parameters=[["req","_expected"],["req","_actual"]]),e.defn(g,"$index_failed_objects",_=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"index_failed_objects"),(t=(r=$.$actual()).$each_with_index,t.$$p=(n=function(t,r){var $=n.$$s||this,i=a,s=a;if(null==t&&(t=a),null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"index_failed_objects")}return i=$.$matcher().$clone(),s=i["$matches?"](t),!1!==s&&s!==a&&null!=s?a:$.$failed_objects()["$[]="](r,i.$failure_message())},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","actual_item"],["req","index"]],n),t).call(r)},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$failure_message_for_item",p=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"failure_message_for_item"),r=a.$indent_multiline_message(a.$add_new_line_if_needed(r)),a.$indent_multiline_message("object at index "+t+" failed to match:"+r)},p.$$arity=2,p.$$parameters=[["req","index"],["req","failure_message"]]),e.defn(g,"$add_new_line_if_needed",d=function(t){var r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"add_new_line_if_needed"),(r=t["$start_with?"]("\n"))===a||null==r||r.$$is_boolean&&1!=r?"\n"+t:t},d.$$arity=1,d.$$parameters=[["req","message"]]),e.defn(g,"$indent_multiline_message",h=function(r){var n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"indent_multiline_message"),r=r.$sub(/\n+\z/,""),(n=($=r.$lines()).$map,n.$$p=(i=function(r){var n;i.$$s;if(null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"indent_multiline_message")}return(n=r["$=~"](/\S/))===a||null==n||n.$$is_boolean&&1!=n?r:t("   ",r)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","line"]],i),n).call($).$join()},h.$$arity=1,h.$$parameters=[["req","message"]]),e.defn(g,"$initialize_copy",f=function(){var t,r,n=this,$=f.$$p,i=a,s=a;f.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"initialize_copy"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n.matcher=n.matcher.$clone(),(r=n,t=e.find_super_dispatcher(n,"initialize_copy",f,!1),t.$$p=$,t).apply(r,i)},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(g,"$iterable?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"iterable?"),t.actual["$respond_to?"]("each_with_index")},m.$$arity=0,m.$$parameters=[])}(l.base,l.get("BaseMatcher"))}(l.base)}(l.base)}(r.base)},Opal.modules["rspec/matchers/built_in/match"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$inspect","$surface_descriptions_in","$expected","$private","$values_match?","$respond_to?","$match"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o=a=n(t,$super,"Match",a);o.$$proto,o.$$scope;e.defn(o,"$description",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"match "+t.$surface_descriptions_in(t.$expected()).$inspect()},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$diffable?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},i.$$arity=0,i.$$parameters=[]),o.$private(),e.defn(o,"$match",s=function(t,a){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"match"),!((n=$["$values_match?"](t,a))===r||null==n||n.$$is_boolean&&1!=n)||((n=a["$respond_to?"]("match"))===r||null==n||n.$$is_boolean&&1!=n?r:a.$match(t))},s.$$arity=2,s.$$parameters=[["req","expected"],["req","actual"]])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/operators"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$require","$registry","$[]","$[]=","$delete","$each","$ancestors","$register","$define_method","$!","$has_non_generic_implementation_of?","$get","$class","$__send__","$should_method","$last_expectation_handler","$new","$eval_match","$sub","$!=","$respond_to?","$opposite_should_method","$raise","$use_custom_matcher_or_delegate","$fail_with","$inspect","$private","$owner","$method_handle_for","$last_matcher=","$__delegate_operator","$include?","$fail_with_message","$gsub"]),t.$require("rspec/support"),function(t){var r,s=r=n(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var r,s=r=n(t,"Matchers"),o=(s.$$proto,s.$$scope);!function(t){var r,s=r=n(t,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var n,s,o,l,c,u,_,p,d,h=r=$(t,$super,"OperatorMatcher",r),f=h.$$proto,m=h.$$scope;f.expected=f.actual=f.operator=a,function(t){var r,n,$,s;t.$$scope,t.$$proto;e.defn(t,"$registry",r=function(){var t,r=this;null==r.registry&&(r.registry=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"registry"),!1!==(t=r.registry)&&t!==a&&null!=t?t:r.registry=i([],{})},r.$$arity=0,r.$$parameters=[]),e.defn(t,"$register",n=function(t,r,n){var $,s,o,l=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"register"),$=t,s=l.$registry(),!1!==(o=s["$[]"]($))&&o!==a&&null!=o||s["$[]="]($,i([],{})),l.$registry()["$[]"](t)["$[]="](r,n)},n.$$arity=3,n.$$parameters=[["req","klass"],["req","operator"],["req","matcher"]]),e.defn(t,"$unregister",$=function(t,r){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"unregister"),n=$.$registry()["$[]"](t),!1!==n&&n!==a&&null!=n?$.$registry()["$[]"](t).$delete(r):n},$.$$arity=2,$.$$parameters=[["req","klass"],["req","operator"]]),e.defn(t,"$get",s=function(t,r){try{var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"get"),(n=($=t.$ancestors()).$each,n.$$p=(i=function(t){var n,$=i.$$s||this,s=a;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"get")}if(n=$.$registry()["$[]"](t),!1===(s=!1!==n&&n!==a&&null!=n?$.$registry()["$[]"](t)["$[]"](r):n)||s===a||null==s)return a;e.ret(s)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","ancestor"]],i),n).call($),a}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=2,s.$$parameters=[["req","klass"],["req","operator"]])}(e.get_singleton_class(h)),h.$register(m.get("Enumerable"),"=~",m.get("BuiltIn").$$scope.get("ContainExactly")),e.defn(h,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.actual=t},n.$$arity=1,n.$$parameters=[["req","actual"]]),e.defs(h,"$use_custom_matcher_or_delegate",s=function(t){var r,n,$,i,s,o=this,l=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"use_custom_matcher_or_delegate"),(r=(n=o).$define_method,r.$$p=($=function(r){var n,i,s=$.$$s||this,o=a;if(null==s.actual&&(s.actual=a),null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"use_custom_matcher_or_delegate")}return i=s["$has_non_generic_implementation_of?"](t)["$!"](),(n=!1!==i&&i!==a&&null!=i?o=m.get("OperatorMatcher").$get(s.actual.$class(),t):i)===a||null==n||n.$$is_boolean&&1!=n?s.$eval_match(s.actual,t,r):s.actual.$__send__(e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$should_method(),o.$new(r))},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","expected"]],$),r).call(n,t),l=t.$sub(/^=/,"!"),i=l["$!="](t),(r=!1!==i&&i!==a&&null!=i?o["$respond_to?"](l):i)===a||null==r||r.$$is_boolean&&1!=r?a:(r=(i=o).$define_method,r.$$p=(s=function(r){var n=s.$$s||this,$=a;if(null==r&&(r=a),s.$$is_lambda||s.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"use_custom_matcher_or_delegate")}return $=e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$opposite_should_method(),n.$raise("RSpec does not support `"+e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$should_method()+" "+l+" expected`.  Use `"+$+" "+t+" expected` instead.")},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","_expected"]],s),r).call(i,l)},s.$$arity=1,s.$$parameters=[["req","operator"]]),(o=(l=["==","===","=~",">",">=","<","<="]).$each,o.$$p=(c=function(t){var r=c.$$s||this;if(null==t&&(t=a),c.$$is_lambda||c.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<class:OperatorMatcher>")}return r.$use_custom_matcher_or_delegate(t)},c.$$s=h,c.$$arity=1,c.$$parameters=[["req","operator"]],c),o).call(l),e.defn(h,"$fail_with_message",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"fail_with_message"),m.get("RSpec").$$scope.get("Expectations").$fail_with(t,r.expected,r.actual)},u.$$arity=1,u.$$parameters=[["req","message"]]),e.defn(h,"$description",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.operator+" "+t.expected.$inspect()},_.$$arity=0,_.$$parameters=[]),h.$private(),e.defn(h,"$has_non_generic_implementation_of?",p=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_non_generic_implementation_of?");try{return m.get("Support").$method_handle_for(r.actual,t).$owner()["$!="](e.get("Kernel"))}catch(t){if(!e.rescue(t,[m.get("NameError")]))throw t;try{return!1}finally{e.pop_exception()}}},p.$$arity=1,p.$$parameters=[["req","op"]]),e.defn(h,"$eval_match",d=function(t,r,a){var n,$,i=this,s=arguments.length;return 3!==s&&e.ac(s,3,this,"eval_match"),n=[i],$=e.get("RSpec").$$scope.get("Matchers"),$["$last_matcher="].apply($,n),n[n.length-1],n=[r,a],i.operator=n[0],i.expected=n[1],i.$__delegate_operator(t,r,a)},d.$$arity=3,d.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(o.base,null),function(t,$super){function r(){}var n,i=r=$(t,$super,"PositiveOperatorMatcher",r);i.$$proto,i.$$scope;e.defn(i,"$__delegate_operator",n=function(t,r,n){var $,i=this,s=arguments.length;return 3!==s&&e.ac(s,3,this,"__delegate_operator"),!(($=t.$__send__(r,n))===a||null==$||$.$$is_boolean&&1!=$)||(($=["==","===","=~"]["$include?"](r))===a||null==$||$.$$is_boolean&&1!=$?i.$fail_with_message("expected: "+r+" "+n.$inspect()+"\n     got: "+r.$gsub(/./," ")+" "+t.$inspect()):i.$fail_with_message("expected: "+n.$inspect()+"\n     got: "+t.$inspect()+" (using "+r+")"))},n.$$arity=3,n.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(o.base,o.get("OperatorMatcher")),function(t,$super){function r(){}var n,i=r=$(t,$super,"NegativeOperatorMatcher",r);i.$$proto,i.$$scope;e.defn(i,"$__delegate_operator",n=function(t,r,n){var $,i=this,s=arguments.length;return 3!==s&&e.ac(s,3,this,"__delegate_operator"),!(($=t.$__send__(r,n))===a||null==$||$.$$is_boolean&&1!=$)&&i.$fail_with_message("expected not: "+r+" "+n.$inspect()+"\n         got: "+r.$gsub(/./," ")+" "+t.$inspect())},n.$$arity=3,n.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(o.base,o.get("OperatorMatcher"))}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/matchers/built_in/output"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass,s=e.gvars;return e.add_stubs(["$require","$===","$capture","$values_match?","$captured?","$!","$matches?","$description","$positive_failure_reason","$negative_failure_reason","$description_of","$name","$private","$>","$length","$actual_output_description","$inspect","$raise","$new","$call","$string"]),r.$require("stringio"),function(r){var a,o=a=$(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var a,o=a=$(r,"Matchers"),l=(o.$$proto,o.$$scope);!function(r){var a,o=a=$(r,"BuiltIn"),l=(o.$$proto,o.$$scope);!function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d,h,f,m,g,b,v=a=i(r,$super,"Output",a),y=v.$$proto,x=v.$$scope;y.stream_capturer=y.expected=y.actual=y.block=n,e.defn(v,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t,r.actual="",r.block=n,r.stream_capturer=x.get("NullCapture")},$.$$arity=1,$.$$parameters=[["req","expected"]]),e.defn(v,"$matches?",s=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),a.block=t,!((r=x.get("Proc")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r)&&(a.actual=a.stream_capturer.$capture(t),(r=a.expected)===n||null==r||r.$$is_boolean&&1!=r?a["$captured?"]():a["$values_match?"](a.expected,a.actual))},s.$$arity=1,s.$$parameters=[["req","block"]]),e.defn(v,"$does_not_match?",o=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=a["$matches?"](t)["$!"](),!1!==r&&r!==n&&null!=r?x.get("Proc")["$==="](t):r},o.$$arity=1,o.$$parameters=[["req","block"]]),e.defn(v,"$to_stdout",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_stdout"),t.stream_capturer=x.get("CaptureStdout"),t},l.$$arity=0,l.$$parameters=[]),e.defn(v,"$to_stderr",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_stderr"),t.stream_capturer=x.get("CaptureStderr"),t},c.$$arity=0,c.$$parameters=[]),e.defn(v,"$failure_message",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected block to "+t.$description()+", but "+t.$positive_failure_reason()},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$failure_message_when_negated",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected block to not "+t.$description()+", but "+t.$negative_failure_reason()},_.$$arity=0,_.$$parameters=[]),e.defn(v,"$description",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),(t=r.expected)===n||null==t||t.$$is_boolean&&1!=t?"output to "+r.stream_capturer.$name():"output "+r.$description_of(r.expected)+" to "+r.stream_capturer.$name()},p.$$arity=0,p.$$parameters=[]),e.defn(v,"$diffable?",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},d.$$arity=0,d.$$parameters=[]),e.defn(v,"$supports_block_expectations?",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},h.$$arity=0,h.$$parameters=[]),v.$private(),e.defn(v,"$captured?",f=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"captured?"),t(r.actual.$length(),0)},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$positive_failure_reason",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"positive_failure_reason"),(t=x.get("Proc")["$==="](r.block))===n||null==t||t.$$is_boolean&&1!=t?"was not a block":(t=r.expected)===n||null==t||t.$$is_boolean&&1!=t?"did not":"output "+r.$actual_output_description()},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$negative_failure_reason",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"negative_failure_reason"),(t=x.get("Proc")["$==="](r.block))===n||null==t||t.$$is_boolean&&1!=t?"was not a block":"output "+r.$actual_output_description()},g.$$arity=0,g.$$parameters=[]),e.defn(v,"$actual_output_description",b=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"actual_output_description"),(t=r["$captured?"]())===n||null==t||t.$$is_boolean&&1!=t?"nothing":r.actual.$inspect()},b.$$arity=0,b.$$parameters=[])}(l.base,l.get("BaseMatcher")),function(t){var r,a,n,i=r=$(t,"NullCapture");i.$$proto,i.$$scope;e.defs(i,"$name",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"some stream"},a.$$arity=0,a.$$parameters=[]),e.defs(i,"$capture",n=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"capture"),t.$raise("You must chain `to_stdout` or `to_stderr` off of the `output(...)` matcher.")},n.$$arity=1,n.$$parameters=[["req","_block"]])}(l.base),function(t){var r,a,i,o=r=$(t,"CaptureStdout"),l=(o.$$proto,o.$$scope);e.defs(o,"$name",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"stdout"},a.$$arity=0,a.$$parameters=[]),e.defs(o,"$capture",i=function(t){var r=n,a=n;null==s.stdout&&(s.stdout=n);var $=arguments.length;1!==$&&e.ac($,1,this,"capture");try{return r=l.get("StringIO").$new(),a=s.stdout,s.stdout=r,t.$call(),r.$string()}finally{s.stdout=a}},i.$$arity=1,i.$$parameters=[["req","block"]])}(l.base),function(t){var r,a,i,o=r=$(t,"CaptureStderr"),l=(o.$$proto,o.$$scope);e.defs(o,"$name",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"stderr"},a.$$arity=0,a.$$parameters=[]),e.defs(o,"$capture",i=function(t){var r=n,a=n;null==s.stderr&&(s.stderr=n);var $=arguments.length;1!==$&&e.ac($,1,this,"capture");try{return r=l.get("StringIO").$new(),a=s.stderr,s.stderr=r,t.$call(),r.$string()}finally{s.stderr=a}},i.$$arity=1,i.$$parameters=[["req","block"]])}(l.base)}(l.base)}(l.base)}(a.base)},Opal.modules["rspec/matchers/built_in/raise_error"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$include","$===","$raise_message_already_set","$call","$values_match?","$verify_message","$eval_block","$expectation_matched?","$prevent_invalid_expectations","$!","$matches?","$message","$expected_error","$given_error","$private","$error_and_message_match?","$block_matches?","$[]","$nil?","$expecting_specific_exception?","$new","$raise","$description_of","$inspect","$backtrace_formatter","$configuration","$format_backtrace","$backtrace","$join","$!="]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q=a=n(t,$super,"RaiseError",a),S=q.$$proto,E=q.$$scope;S.expected_message=S.block=S.expected_error=S.actual_error=S.raised_expected_error=S.with_expected_message=S.eval_block=S.eval_block_passed=S.given_proc=r,q.$include(E.get("Composable")),e.defn(q,"$initialize",$=function(t,a){var n,i=this,s=$.$$p,o=s||r,l=r;null==t&&(t=E.get("Exception")),null==a&&(a=r),$.$$p=null;var c=arguments.length;return c>2&&e.ac(c,-1,this,"initialize"),i.block=o,i.actual_error=r,function(){return l=t,E.get("String")["$==="](l)||E.get("Regexp")["$==="](l)?(n=[E.get("Exception"),t],i.expected_error=n[0],i.expected_message=n[1],n):(n=[t,a],i.expected_error=n[0],i.expected_message=n[1],n)}()},$.$$arity=-1,$.$$parameters=[["opt","expected_error_or_message"],["opt","expected_message"],["block","block"]]),e.defn(q,"$with_message",i=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"with_message"),(a=n.expected_message)===r||null==a||a.$$is_boolean&&1!=a||n.$raise_message_already_set(),n.expected_message=t,n},i.$$arity=1,i.$$parameters=[["req","expected_message"]]),e.defn(q,"$matches?",s=function(t,a){var n,$,i,o=this,l=s.$$p,c=l||r;null==a&&(a=!1),s.$$p=null;var u=arguments.length;if((u<1||u>2)&&e.ac(u,-2,this,"matches?"),o.given_proc=t,!1!==(n=o.block)&&n!==r&&null!=n||(o.block=c),o.raised_expected_error=!1,o.with_expected_message=!1,o.eval_block=!1,o.eval_block_passed=!1,(n=E.get("Proc")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n)return!1;try{t.$call()}catch(t){if(!e.rescue(t,[E.get("Exception")]))throw t;o.actual_error=t;try{(n=o["$values_match?"](o.expected_error,o.actual_error))===r||null==n||n.$$is_boolean&&1!=n||(o.raised_expected_error=!0,o.with_expected_message=o.$verify_message())}finally{e.pop_exception()}}return!1!==a&&a!==r&&null!=a||(i=o.raised_expected_error,$=!1!==i&&i!==r&&null!=i?o.with_expected_message:i,(n=!1!==$&&$!==r&&null!=$?o.block:$)===r||null==n||n.$$is_boolean&&1!=n||o.$eval_block()),o["$expectation_matched?"]()},s.$$arity=-2,s.$$parameters=[["req","given_proc"],["opt","negative_expectation"],["block","block"]]),e.defn(q,"$does_not_match?",o=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),n.$prevent_invalid_expectations(),a=n["$matches?"](t,"negative_expectation")["$!"](),!1!==a&&a!==r&&null!=a?E.get("Proc")["$==="](t):a},o.$$arity=1,o.$$parameters=[["req","given_proc"]]),e.defn(q,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),e.defn(q,"$expects_call_stack_jump?",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!0},c.$$arity=0,c.$$parameters=[]),e.defn(q,"$failure_message",u=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message"),(t=a.eval_block)===r||null==t||t.$$is_boolean&&1!=t?"expected "+a.$expected_error()+a.$given_error():a.actual_error.$message()},u.$$arity=0,u.$$parameters=[]),e.defn(q,"$failure_message_when_negated",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected no "+t.$expected_error()+t.$given_error()},_.$$arity=0,_.$$parameters=[]),e.defn(q,"$description",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"raise "+t.$expected_error()},p.$$arity=0,p.$$parameters=[]),q.$private(),e.defn(q,"$expectation_matched?",d=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expectation_matched?"),t=a["$error_and_message_match?"](),!1!==t&&t!==r&&null!=t?a["$block_matches?"]():t},d.$$arity=0,d.$$parameters=[]),e.defn(q,"$error_and_message_match?",h=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"error_and_message_match?"),t=a.raised_expected_error,!1!==t&&t!==r&&null!=t?a.with_expected_message:t},h.$$arity=0,h.$$parameters=[]),e.defn(q,"$block_matches?",f=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"block_matches?"),!!((t=a.eval_block)===r||null==t||t.$$is_boolean&&1!=t)||a.eval_block_passed},f.$$arity=0,f.$$parameters=[]),e.defn(q,"$eval_block",m=function(){var t=this,a=r,n=arguments.length;0!==n&&e.ac(n,0,this,"eval_block"),t.eval_block=!0;try{return t.block["$[]"](t.actual_error),t.eval_block_passed=!0}catch(r){if(!e.rescue(r,[E.get("Exception")]))throw r;a=r;try{return t.actual_error=a}finally{e.pop_exception()}}},m.$$arity=0,m.$$parameters=[]),e.defn(q,"$verify_message",g=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"verify_message"),!((t=a.expected_message["$nil?"]())===r||null==t||t.$$is_boolean&&1!=t)||a["$values_match?"](a.expected_message,a.actual_error.$message())},g.$$arity=0,g.$$parameters=[]),e.defn(q,"$prevent_invalid_expectations",b=function(){var t,a,n=this,$=r,i=r,s=arguments.length;return 0!==s&&e.ac(s,0,this,"prevent_invalid_expectations"),!1===($=function(){return a=n["$expecting_specific_exception?"](),(t=!1!==a&&a!==r&&null!=a?n.expected_message:a)===r||null==t||t.$$is_boolean&&1!=t?(t=n["$expecting_specific_exception?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=n.expected_message)===r||null==t||t.$$is_boolean&&1!=t?r:"`expect { }.not_to raise_error(message)`":"`expect { }.not_to raise_error(SpecificErrorClass)`":"`expect { }.not_to raise_error(SpecificErrorClass, message)`"}())||$===r||null==$?r:(i=E.get("ArgumentError").$new($+" is not valid, use `expect { }.not_to raise_error` (with no args) instead"),n.$raise(i))},b.$$arity=0,b.$$parameters=[]),e.defn(q,"$expected_error",v=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expected_error"),function(){return a=t.expected_message,r["$==="](a)?t.$description_of(t.expected_error):E.get("Regexp")["$==="](a)?t.expected_error+" with message matching "+t.expected_message.$inspect():t.expected_error+" with "+t.$description_of(t.expected_message)}()},v.$$arity=0,v.$$parameters=[]),e.defn(q,"$format_backtrace",y=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"format_backtrace"),a=E.get("Matchers").$configuration().$backtrace_formatter(),a.$format_backtrace(t)},y.$$arity=1,y.$$parameters=[["req","backtrace"]]),e.defn(q,"$given_error",x=function(){var t,a=this,n=r,$=arguments.length;return 0!==$&&e.ac($,0,this,"given_error"),(t=E.get("Proc")["$==="](a.given_proc))===r||null==t||t.$$is_boolean&&1!=t?" but was not given a block":(t=a.actual_error)===r||null==t||t.$$is_boolean&&1!=t?" but nothing was raised":(n=a.$format_backtrace(a.actual_error.$backtrace()),[", got "+a.actual_error.$inspect()+" with backtrace:"].concat(e.to_a(n)).$join("\n  # "))},x.$$arity=0,x.$$parameters=[]),e.defn(q,"$expecting_specific_exception?",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expecting_specific_exception?"),t.expected_error["$!="](E.get("Exception"))},k.$$arity=0,k.$$parameters=[]),e.defn(q,"$raise_message_already_set",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_message_already_set"),t.$raise("`expect { }.to raise_error(message).with_message(message)` is not valid. The matcher only allows the expected message to be specified once")},w.$$arity=0,w.$$parameters=[])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/respond_to"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_support","$empty?","$find_failing_method_names","$inspect","$join","$map","$with_arity","$sub","$failure_message","$pp_names","$private","$__send__","$respond_to?","$matches_arity?","$new","$method","$valid?","$==","$length","$first"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){
var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f,m=a=n(t,$super,"RespondTo",a),g=m.$$proto,b=m.$$scope;g.actual=g.failing_method_names=g.names=g.expected_arity=r,e.defn(m,"$initialize",$=function(){var e,t=this,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<a;$++)e[$-0]=arguments[$];return t.names=e,t.expected_arity=r},$.$$arity=-1,$.$$parameters=[["rest","names"]]),e.defn(m,"$with",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"with"),r.expected_arity=t,r},i.$$arity=1,i.$$parameters=[["req","n"]]),e.defn(m,"$argument",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"argument"),t},s.$$arity=0,s.$$parameters=[]),e.alias(m,"arguments","argument"),e.defn(m,"$matches?",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.$find_failing_method_names(t,"reject")["$empty?"]()},o.$$arity=1,o.$$parameters=[["req","actual"]]),e.defn(m,"$does_not_match?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.$find_failing_method_names(t,"select")["$empty?"]()},l.$$arity=1,l.$$parameters=[["req","actual"]]),e.defn(m,"$failure_message",c=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message"),"expected "+$.actual.$inspect()+" to respond to "+(t=(a=$.failing_method_names).$map,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"failure_message")}return t.$inspect()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","name"]],n),t).call(a).$join(", ")+$.$with_arity()},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$failure_message_when_negated",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$failure_message().$sub(/to respond to/,"not to respond to")},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$description",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"respond to "+t.$pp_names()+t.$with_arity()},_.$$arity=0,_.$$parameters=[]),m.$private(),e.defn(m,"$find_failing_method_names",p=function(t,a){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"find_failing_method_names"),s.actual=t,s.failing_method_names=(n=($=s.names).$__send__,n.$$p=(i=function(a){var n,$=i.$$s||this;if(null==$.actual&&($.actual=r),null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_failing_method_names")}return n=$.actual["$respond_to?"](a),!1!==n&&n!==r&&null!=n?$["$matches_arity?"](t,a):n},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","name"]],i),n).call($,a)},p.$$arity=2,p.$$parameters=[["req","actual"],["req","filter_method"]]),e.defn(m,"$matches_arity?",d=function(t,a){var n,$=this,i=r,s=arguments.length;return 2!==s&&e.ac(s,2,this,"matches_arity?"),!!((n=$.expected_arity)===r||null==n||n.$$is_boolean&&1!=n)||(i=b.get("Support").$$scope.get("MethodSignature").$new(t.$method(a)),b.get("Support").$$scope.get("StrictSignatureVerifier").$new(i,b.get("Array").$new($.expected_arity))["$valid?"]())},d.$$arity=2,d.$$parameters=[["req","actual"],["req","name"]]),e.defn(m,"$with_arity",h=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"with_arity"),(t=a.expected_arity)===r||null==t||t.$$is_boolean&&1!=t?"":" with "+a.expected_arity+" argument"+function(){return a.expected_arity["$=="](1)?"":"s"}()},h.$$arity=0,h.$$parameters=[]),e.defn(m,"$pp_names",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pp_names"),t.names.$length()["$=="](1)?"#"+t.names.$first():t.names.$inspect()},f.$$arity=0,f.$$parameters=[])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/satisfy"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$call"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"BuiltIn"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"Satisfy",a),u=c.$$proto;c.$$scope;u.block=u.actual=r,e.defn(c,"$initialize",$=function(){var t=this,a=$.$$p,n=a||r;$.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),t.block=n},$.$$arity=0,$.$$parameters=[["block","block"]]),e.defn(c,"$matches?",i=function(t){var a=this,n=i.$$p,$=n||r;i.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"matches?"),!1!==$&&$!==r&&null!=$&&(a.block=$),a.actual=t,a.block.$call(t)},i.$$arity=1,i.$$parameters=[["req","actual"],["block","block"]]),e.defn(c,"$failure_message",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual+" to satisfy block"},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$failure_message_when_negated",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual+" not to satisfy block"},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$description",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"satisfy block"},l.$$arity=0,l.$$parameters=[])}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/matchers/built_in/throw_symbol"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$include","$===","$nil?","$call","$catch","$throw","$==","$match","$message","$raise","$to_sym","$[]","$captures","$!","$values_match?","$matches?","$expected","$actual_result","$private","$caught","$throw_description","$is_a?","$inspect","$description_of","$+"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Matchers"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var i,s,o,l,c,u,_,p,d,h,f,m,g=n=$(r,$super,"ThrowSymbol",n),b=g.$$proto,v=g.$$scope;b.expected_symbol=b.caught_arg=b.caught_symbol=b.expected_arg=b.block=a,g.$include(v.get("Composable")),e.defn(g,"$initialize",i=function(t,r){var n=this;null==t&&(t=a),null==r&&(r=a);var $=arguments.length;return $>2&&e.ac($,-1,this,"initialize"),n.expected_symbol=t,n.expected_arg=r,n.caught_symbol=n.caught_arg=a},i.$$arity=-1,i.$$parameters=[["opt","expected_symbol"],["opt","expected_arg"]]),e.defn(g,"$matches?",s=function(t){var r,n,$,i=this,s=a,o=a,l=a,c=arguments.length;if(1!==c&&e.ac(c,1,this,"matches?"),i.block=t,(r=v.get("Proc")["$==="](t))===a||null==r||r.$$is_boolean&&1!=r)return!1;try{try{return(r=i.expected_symbol["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?(i.caught_arg=(r=(n=i).$catch,r.$$p=($=function(){var r,n,i,s=$.$$s||this;if(null==s.expected_symbol&&(s.expected_symbol=a),$.$$is_lambda||$.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"matches?")}return(r=(n=s).$catch,r.$$p=(i=function(){var r=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"matches?")}return t.$call(),r.$throw("proc_did_not_throw_anything","nothing_thrown")},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),r).call(n,s.expected_symbol)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n,"proc_did_not_throw_anything"),i.caught_arg["$=="]("nothing_thrown")?i.caught_arg=a:i.caught_symbol=i.expected_symbol):t.$call()}catch(t){if(e.rescue(t,[v.get("NameError"),v.get("ArgumentError")])){s=t;try{return((r=o=s.$message().$match(/uncaught throw (`|\:)([a-zA-Z0-9_]*)(')?/))===a||null==r||r.$$is_boolean&&1!=r)&&(l=s,i.$raise()),i.caught_symbol=o.$captures()["$[]"](1).$to_sym()}finally{e.pop_exception()}}else{if(!e.rescue(t,[v.get("StandardError")]))throw t;l=t;try{i.$raise()}finally{e.pop_exception()}}}}finally{if(!1===l||l===a||null==l)return(r=i.expected_symbol["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?(r=i.expected_arg["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?(r=i.caught_symbol["$=="](i.expected_symbol),!1!==r&&r!==a&&null!=r?i["$values_match?"](i.expected_arg,i.caught_arg):r):i.caught_symbol["$=="](i.expected_symbol):i.caught_symbol["$!"]()["$!"]()}},s.$$arity=1,s.$$parameters=[["req","given_proc"]]),e.defn(g,"$does_not_match?",o=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=n["$matches?"](t)["$!"](),!1!==r&&r!==a&&null!=r?v.get("Proc")["$==="](t):r},o.$$arity=1,o.$$parameters=[["req","given_proc"]]),e.defn(g,"$failure_message",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.$expected()+" to be thrown, "+t.$actual_result()},l.$$arity=0,l.$$parameters=[]),e.defn(g,"$failure_message_when_negated",c=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message_when_negated"),"expected "+r.$expected("no Symbol")+function(){return(t=r.expected_symbol)===a||null==t||t.$$is_boolean&&1!=t?a:" not"}()+" to be thrown, "+r.$actual_result()},c.$$arity=0,c.$$parameters=[]),e.defn(g,"$description",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"throw "+t.$expected()},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$supports_block_expectations?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$expects_call_stack_jump?",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!0},p.$$arity=0,p.$$parameters=[]),g.$private(),e.defn(g,"$actual_result",d=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"actual_result"),(t=v.get("Proc")["$==="](r.block))===a||null==t||t.$$is_boolean&&1!=t?"but was not a block":"got "+r.$caught()},d.$$arity=0,d.$$parameters=[]),e.defn(g,"$expected",h=function(t){var r,n=this;null==t&&(t="a Symbol");var $=arguments.length;return $>1&&e.ac($,-1,this,"expected"),n.$throw_description(!1!==(r=n.expected_symbol)&&r!==a&&null!=r?r:t,n.expected_arg)},h.$$arity=-1,h.$$parameters=[["opt","symbol_desc"]]),e.defn(g,"$caught",f=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"caught"),r.$throw_description(!1!==(t=r.caught_symbol)&&t!==a&&null!=t?t:"nothing",r.caught_arg)},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$throw_description",m=function(r,n){var $,i,s=this,o=a,l=a,c=arguments.length;return 2!==c&&e.ac(c,2,this,"throw_description"),o=function(){return($=r["$is_a?"](v.get("String")))===a||null==$||$.$$is_boolean&&1!=$?r.$inspect():r}(),l=function(){return!1!==n&&n!==a&&null!=n?" with "+s.$description_of(n):(i=s.expected_arg,($=!1!==i&&i!==a&&null!=i?s.caught_symbol["$=="](s.expected_symbol):i)===a||null==$||$.$$is_boolean&&1!=$?"":" with no argument")}(),t(o,l)},m.$$arity=2,m.$$parameters=[["req","symbol"],["req","arg"]])}(o.base,null)}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require_rspec_support","$new","$has_block?","$assert_valid_expect_block!","$call","$assert_used!","$attr_accessor","$num_yields=","$yielded_args=","$===","$+","$num_yields","$<<","$yielded_args","$first","$raise","$map","$==","$size","$>","$to_f","$valid?","$exactly","$set_expected_yields_count","$probe","$__send__","$yielded_once?","$!","$matches?","$failure_reason","$private","$human_readable_expecation_type","$human_readable_count","$empty?","$single_yield_args","$positive_failure_reason","$negative_failure_reason","$zero?","$inspect","$args_match?","$expected_arg_description","$join","$description_of","$all_args_match?","$surface_descriptions_in","$values_match?","$successive_yield_args"]),a.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(a){var s,o=s=$(a,"RSpec"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"Matchers"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"BuiltIn"),l=(o.$$proto,o.$$scope);!function(a,$super){function $(){}var s,o,l,c,u,_,p,d,h,f,m,g=$=i(a,$super,"YieldProbe",$),b=g.$$proto,v=g.$$scope;b.block=b.used=n,e.defs(g,"$probe",s=function(t){var r,a=this,$=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"probe"),$=a.$new(t),(r=$["$has_block?"]())===n||null==r||r.$$is_boolean&&1!=r?$:($["$assert_valid_expect_block!"](),t.$call($),$["$assert_used!"](),$)},s.$$arity=1,s.$$parameters=[["req","block"]]),g.$attr_accessor("num_yields","yielded_args"),e.defn(g,"$initialize",o=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),a.block=t,a.used=!1,r=[0,[]],a["$num_yields="](r[0]),a["$yielded_args="](r[1]),r},o.$$arity=1,o.$$parameters=[["req","block"]]),e.defn(g,"$has_block?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"has_block?"),v.get("Proc")["$==="](t.block)},l.$$arity=0,l.$$parameters=[]),e.defn(g,"$to_proc",c=function(){var r,a,$,i=this,s=n,o=arguments.length;return 0!==o&&e.ac(o,0,this,"to_proc"),i.used=!0,s=i,(r=(a=v.get("Proc")).$new,r.$$p=($=function(){var e,r,a=($.$$s,arguments.length),i=a-0;i<0&&(i=0),e=new Array(i);for(var o=0;o<a;o++)e[o-0]=arguments[o];return r=s,r["$num_yields="](t(r.$num_yields(),1)),s.$yielded_args()["$<<"](e),n},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"]],$),r).call(a)},c.$$arity=0,c.$$parameters=[]),e.defn(g,"$single_yield_args",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"single_yield_args"),t.$yielded_args().$first()},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$yielded_once?",_=function(t){var r=this,a=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"yielded_once?"),function(){return a=r.$num_yields(),!!1["$==="](a)||!(0)["$==="](a)&&r.$raise("The "+t+" matcher is not designed to be used with a method that yields multiple times. Use the yield_successive_args matcher for that case.")}()},_.$$arity=1,_.$$parameters=[["req","matcher_name"]]),e.defn(g,"$successive_yield_args",p=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"successive_yield_args"),(t=(r=$.$yielded_args()).$map,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"successive_yield_args")}return t.$size()["$=="](1)?t.$first():t},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","arg_array"]],a),t).call(r)},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$assert_used!",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"assert_used!"),(t=r.used)===n||null==t||t.$$is_boolean&&1!=t?r.$raise("You must pass the argument yielded to your expect block on to the method-under-test as a block. It acts as a probe that allows the matcher to detect whether or not the method-under-test yields, and, if so, how many times, and what the yielded arguments are."):n},d.$$arity=0,d.$$parameters=[]),(h=r(v.get("RUBY_VERSION").$to_f(),1.8))===n||null==h||h.$$is_boolean&&1!=h?e.defn(g,"$assert_valid_expect_block!",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"assert_valid_expect_block!"),n},m.$$arity=0,m.$$parameters=[]):e.defn(g,"$assert_valid_expect_block!",f=function(){var t,r=this,a=n,$=arguments.length;return 0!==$&&e.ac($,0,this,"assert_valid_expect_block!"),a=v.get("RSpec").$$scope.get("Support").$$scope.get("BlockSignature").$new(r.block),(t=v.get("RSpec").$$scope.get("Support").$$scope.get("StrictSignatureVerifier").$new(a,[r])["$valid?"]())===n||null==t||t.$$is_boolean&&1!=t?r.$raise("Your expect block must accept an argument to be used with this matcher. Pass the argument as a block on to the method you are testing."):n},f.$$arity=0,f.$$parameters=[])}(l.base,null),function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k=a=i(r,$super,"YieldControl",a),w=k.$$proto,q=k.$$scope;w.probe=w.expectation_type=w.expected_yields_count=n,e.defn(k,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.expectation_type=n,t.expected_yields_count=n},$.$$arity=0,$.$$parameters=[]),e.defn(k,"$once",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"once"),t.$exactly(1),t},s.$$arity=0,s.$$parameters=[]),e.defn(k,"$twice",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"twice"),t.$exactly(2),t},o.$$arity=0,o.$$parameters=[]),e.defn(k,"$thrice",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thrice"),t.$exactly(3),t},l.$$arity=0,l.$$parameters=[]),e.defn(k,"$exactly",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exactly"),r.$set_expected_yields_count("==",t),r},c.$$arity=1,c.$$parameters=[["req","number"]]),e.defn(k,"$at_most",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at_most"),r.$set_expected_yields_count("<=",t),r},u.$$arity=1,u.$$parameters=[["req","number"]]),e.defn(k,"$at_least",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at_least"),r.$set_expected_yields_count(">=",t),r},_.$$arity=1,_.$$parameters=[["req","number"]]),e.defn(k,"$times",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"times"),t},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$matches?",d=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),a.probe=q.get("YieldProbe").$probe(t),!((r=a.probe["$has_block?"]())===n||null==r||r.$$is_boolean&&1!=r)&&((r=a.expectation_type)===n||null==r||r.$$is_boolean&&1!=r?a.probe["$yielded_once?"]("yield_control"):a.probe.$num_yields().$__send__(a.expectation_type,a.expected_yields_count))},d.$$arity=1,d.$$parameters=[["req","block"]]),e.defn(k,"$does_not_match?",h=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=a["$matches?"](t)["$!"](),!1!==r&&r!==n&&null!=r?a.probe["$has_block?"]():r},h.$$arity=1,h.$$parameters=[["req","block"]]),e.defn(k,"$failure_message",f=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message"),t("expected given block to yield control",r.$failure_reason())},f.$$arity=0,f.$$parameters=[]),e.defn(k,"$failure_message_when_negated",m=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message_when_negated"),t("expected given block not to yield control",r.$failure_reason())},m.$$arity=0,m.$$parameters=[]),e.defn(k,"$supports_block_expectations?",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},g.$$arity=0,g.$$parameters=[]),k.$private(),e.defn(k,"$set_expected_yields_count",b=function(t,r){var a=this,$=n,i=arguments.length;return 2!==i&&e.ac(i,2,this,"set_expected_yields_count"),a.expectation_type=t,a.expected_yields_count=function(){return $=r,q.get("Numeric")["$==="]($)?r:"once"["$==="]($)?1:"twice"["$==="]($)?2:"thrice"["$==="]($)?3:n}()},b.$$arity=2,b.$$parameters=[["req","relativity"],["req","n"]]),e.defn(k,"$failure_reason",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?" but was not a block":(t=r.expected_yields_count)===n||null==t||t.$$is_boolean&&1!=t?"":" "+r.$human_readable_expecation_type()+r.$human_readable_count()},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$human_readable_expecation_type",y=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"human_readable_expecation_type"),function(){return r=t.expectation_type,"<="["$==="](r)?"at most ":">="["$==="](r)?"at least ":""}()},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$human_readable_count",x=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"human_readable_count"),function(){return r=t.expected_yields_count,1["$==="](r)?"once":2["$==="](r)?"twice":t.expected_yields_count+" times"}()},x.$$arity=0,x.$$parameters=[])}(l.base,l.get("BaseMatcher")),function(t,$super){function r(){}var a,$,s,o,l,c,u,_=r=i(t,$super,"YieldWithNoArgs",r),p=_.$$proto,d=_.$$scope;p.probe=n,e.defn(_,"$matches?",a=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),a.probe=d.get("YieldProbe").$probe(t),!((r=a.probe["$has_block?"]())===n||null==r||r.$$is_boolean&&1!=r)&&(r=a.probe["$yielded_once?"]("yield_with_no_args"),!1!==r&&r!==n&&null!=r?a.probe.$single_yield_args()["$empty?"]():r)},a.$$arity=1,a.$$parameters=[["req","block"]]),e.defn(_,"$does_not_match?",$=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=a["$matches?"](t)["$!"](),!1!==r&&r!==n&&null!=r?a.probe["$has_block?"]():r},$.$$arity=1,$.$$parameters=[["req","block"]]),e.defn(_,"$failure_message",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield with no arguments, but "+t.$positive_failure_reason()},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$failure_message_when_negated",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield with no arguments, but "+t.$negative_failure_reason()},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),_.$private(),e.defn(_,"$positive_failure_reason",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"positive_failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?"was not a block":(t=r.probe.$num_yields()["$zero?"]())===n||null==t||t.$$is_boolean&&1!=t?"yielded with arguments: "+r.probe.$single_yield_args().$inspect():"did not yield"},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$negative_failure_reason",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"negative_failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?"was not a block":"did"},u.$$arity=0,u.$$parameters=[])}(l.base,l.get("BaseMatcher")),function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d,h,f,m,g=a=i(r,$super,"YieldWithArgs",a),b=g.$$proto,v=g.$$scope;b.probe=b.expected=b.positive_args_failure=b.actual=n,e.defn(g,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(g,"$matches?",s=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),a.probe=v.get("YieldProbe").$probe(t),!((r=a.probe["$has_block?"]())===n||null==r||r.$$is_boolean&&1!=r)&&(a.actual=a.probe.$single_yield_args(),r=a.probe["$yielded_once?"]("yield_with_args"),!1!==r&&r!==n&&null!=r?a["$args_match?"]():r)},s.$$arity=1,s.$$parameters=[["req","block"]]),e.defn(g,"$does_not_match?",o=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=a["$matches?"](t)["$!"](),!1!==r&&r!==n&&null!=r?a.probe["$has_block?"]():r},o.$$arity=1,o.$$parameters=[["req","block"]]),e.defn(g,"$failure_message",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield with arguments, but "+t.$positive_failure_reason()},l.$$arity=0,l.$$parameters=[]),e.defn(g,"$failure_message_when_negated",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield with arguments, but "+t.$negative_failure_reason()},c.$$arity=0,c.$$parameters=[]),e.defn(g,"$description",u=function(){var t,r=this,a=n,$=arguments.length;return 0!==$&&e.ac($,0,this,"description"),a="yield with args",((t=r.expected["$empty?"]())===n||null==t||t.$$is_boolean&&1!=t)&&a["$<<"]("("+r.$expected_arg_description()+")"),a},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$supports_block_expectations?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},_.$$arity=0,_.$$parameters=[]),g.$private(),e.defn(g,"$positive_failure_reason",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"positive_failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?"was not a block":(t=r.probe.$num_yields()["$zero?"]())===n||null==t||t.$$is_boolean&&1!=t?r.positive_args_failure:"did not yield"},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$expected_arg_description",d=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expected_arg_description"),(t=(r=$.expected).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"expected_arg_description")}return r.$description_of(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","e"]],a),t).call(r).$join(", ")},d.$$arity=0,d.$$parameters=[]),e.defn(g,"$negative_failure_reason",h=function(){var r,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"negative_failure_reason"),(r=a.probe["$has_block?"]()["$!"]())===n||null==r||r.$$is_boolean&&1!=r?(r=a["$all_args_match?"]())===n||null==r||r.$$is_boolean&&1!=r?"did":t("yielded with expected arguments\nexpected not: "+a.$surface_descriptions_in(a.expected).$inspect(),"\n         got: "+a.actual.$inspect()):"was not a block"},h.$$arity=0,h.$$parameters=[]),e.defn(g,"$args_match?",f=function(){var r,a=this,$=n,i=arguments.length;return 0!==i&&e.ac(i,0,this,"args_match?"),(r=a.expected["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(((r=$=a["$all_args_match?"]())===n||null==r||r.$$is_boolean&&1!=r)&&(a.positive_args_failure=t("yielded with unexpected arguments\nexpected: "+a.$surface_descriptions_in(a.expected).$inspect(),"\n     got: "+a.actual.$inspect())),$):((r=a.actual["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r||(a.positive_args_failure="yielded with no arguments"),a.actual["$empty?"]()["$!"]())},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$all_args_match?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"all_args_match?"),t["$values_match?"](t.expected,t.actual)},m.$$arity=0,m.$$parameters=[])}(l.base,l.get("BaseMatcher")),function(t,$super){function r(){}var a,$,s,o,l,c,u,_,p,d,h,f=r=i(t,$super,"YieldSuccessiveArgs",r),m=f.$$proto,g=f.$$scope;m.probe=m.expected=m.actual=n,e.defn(f,"$initialize",a=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},a.$$arity=-1,a.$$parameters=[["rest","args"]]),e.defn(f,"$matches?",$=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),a.probe=g.get("YieldProbe").$probe(t),!((r=a.probe["$has_block?"]())===n||null==r||r.$$is_boolean&&1!=r)&&(a.actual=a.probe.$successive_yield_args(),a["$args_match?"]())},$.$$arity=1,$.$$parameters=[["req","block"]]),e.defn(f,"$does_not_match?",s=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),r=a["$matches?"](t)["$!"](),!1!==r&&r!==n&&null!=r?a.probe["$has_block?"]():r},s.$$arity=1,s.$$parameters=[["req","block"]]),e.defn(f,"$failure_message",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield successively with arguments, but "+t.$positive_failure_reason()},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$failure_message_when_negated",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield successively with arguments, but "+t.$negative_failure_reason()},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$description",c=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),r="yield successive args",r["$<<"]("("+t.$expected_arg_description()+")"),r},c.$$arity=0,c.$$parameters=[]),e.defn(f,"$supports_block_expectations?",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},u.$$arity=0,u.$$parameters=[]),f.$private(),e.defn(f,"$args_match?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"args_match?"),t["$values_match?"](t.expected,t.actual)},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$expected_arg_description",p=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expected_arg_description"),(t=(r=$.expected).$map,t.$$p=(a=function(t){var r=a.$$s||this;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"expected_arg_description")}return r.$description_of(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","e"]],a),t).call(r).$join(", ")},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$positive_failure_reason",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"positive_failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?"was not a block":"yielded with unexpected arguments\nexpected: "+r.$surface_descriptions_in(r.expected).$inspect()+"\n     got: "+r.actual.$inspect()},d.$$arity=0,d.$$parameters=[]),e.defn(f,"$negative_failure_reason",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"negative_failure_reason"),(t=r.probe["$has_block?"]())===n||null==t||t.$$is_boolean&&1!=t?"was not a block":"yielded with expected arguments\nexpected not: "+r.$surface_descriptions_in(r.expected).$inspect()+"\n         got: "+r.actual.$inspect()},h.$$arity=0,h.$$parameters=[])}(l.base,l.get("BaseMatcher"))}(l.base)}(l.base)}(a.base)},Opal.modules["rspec/matchers/built_in"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require_rspec_matchers","$autoload"]),t.get("RSpec").$$scope.get("Support").$require_rspec_matchers("built_in/base_matcher"),function(e){var t,a=t=r(e,"RSpec"),n=(a.$$proto,a.$$scope);!function(e){var t,a=t=r(e,"Matchers"),n=(a.$$proto,a.$$scope);!function(e){var t,a=t=r(e,"BuiltIn");a.$$proto,a.$$scope;a.$autoload("BeAKindOf","rspec/matchers/built_in/be_kind_of"),a.$autoload("BeAnInstanceOf","rspec/matchers/built_in/be_instance_of"),a.$autoload("BeBetween","rspec/matchers/built_in/be_between"),a.$autoload("Be","rspec/matchers/built_in/be"),a.$autoload("BeComparedTo","rspec/matchers/built_in/be"),a.$autoload("BeFalsey","rspec/matchers/built_in/be"),a.$autoload("BeNil","rspec/matchers/built_in/be"),a.$autoload("BePredicate","rspec/matchers/built_in/be"),a.$autoload("BeTruthy","rspec/matchers/built_in/be"),a.$autoload("BeWithin","rspec/matchers/built_in/be_within"),a.$autoload("Change","rspec/matchers/built_in/change"),a.$autoload("Compound","rspec/matchers/built_in/compound"),a.$autoload("ContainExactly","rspec/matchers/built_in/contain_exactly"),a.$autoload("Cover","rspec/matchers/built_in/cover"),a.$autoload("EndWith","rspec/matchers/built_in/start_and_end_with"),a.$autoload("Eq","rspec/matchers/built_in/eq"),a.$autoload("Eql","rspec/matchers/built_in/eql"),a.$autoload("Equal","rspec/matchers/built_in/equal"),a.$autoload("Exist","rspec/matchers/built_in/exist"),a.$autoload("Has","rspec/matchers/built_in/has"),a.$autoload("HaveAttributes","rspec/matchers/built_in/have_attributes"),a.$autoload("Include","rspec/matchers/built_in/include"),a.$autoload("All","rspec/matchers/built_in/all"),a.$autoload("Match","rspec/matchers/built_in/match"),a.$autoload("NegativeOperatorMatcher","rspec/matchers/built_in/operators"),a.$autoload("OperatorMatcher","rspec/matchers/built_in/operators"),a.$autoload("Output","rspec/matchers/built_in/output"),a.$autoload("PositiveOperatorMatcher","rspec/matchers/built_in/operators"),a.$autoload("RaiseError","rspec/matchers/built_in/raise_error"),a.$autoload("RespondTo","rspec/matchers/built_in/respond_to"),a.$autoload("Satisfy","rspec/matchers/built_in/satisfy"),a.$autoload("StartWith","rspec/matchers/built_in/start_and_end_with"),a.$autoload("ThrowSymbol","rspec/matchers/built_in/throw_symbol"),a.$autoload("YieldControl","rspec/matchers/built_in/yield"),a.$autoload("YieldSuccessiveArgs","rspec/matchers/built_in/yield"),a.$autoload("YieldWithArgs","rspec/matchers/built_in/yield"),a.$autoload("YieldWithNoArgs","rspec/matchers/built_in/yield")}(n.base)}(n.base)}(t.base)},Opal.modules["rspec/matchers/built_in/base_matcher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass
;return e.add_stubs(["$include","$freeze","$new","$attr_reader","$equal?","$match","$expected","$empty?","$unshift","$name_to_sentence","$to_sentence","$private","$any?","$-","$present_ivars","$raise","$name","$class","$<","$to_f","$map","$to_sym","$instance_variables","$inspect","$actual","$description","$==","$owner","$method"]),function(a){var s,o=s=$(a,"RSpec"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"Matchers"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"BuiltIn"),l=(o.$$proto,o.$$scope);!function(a,$super){function s(){}var o,l,c,u,_,p,d,h,f,m,g=s=i(a,$super,"BaseMatcher",s),b=g.$$proto,v=g.$$scope;b.expected=n,g.$include(v.get("RSpec").$$scope.get("Matchers").$$scope.get("Pretty")),g.$include(v.get("RSpec").$$scope.get("Matchers").$$scope.get("Composable")),e.cdecl(v,"UNDEFINED",v.get("Object").$new().$freeze()),g.$attr_reader("actual","expected","rescued_exception"),e.defn(g,"$initialize",o=function(t){var r,a=this;null==t&&(t=v.get("UNDEFINED"));var $=arguments.length;return $>1&&e.ac($,-1,this,"initialize"),(r=v.get("UNDEFINED")["$equal?"](t))===n||null==r||r.$$is_boolean&&1!=r?a.expected=t:n},o.$$arity=-1,o.$$parameters=[["opt","expected"]]),e.defn(g,"$matches?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.$match(r.$expected(),t)},l.$$arity=1,l.$$parameters=[["req","actual"]]),e.defn(g,"$match_unless_raises",c=function(){var t,r,a=this,$=c.$$p,i=$||n,s=arguments.length,o=s-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<s;l++)r[l-0]=arguments[l];c.$$p=null,(t=r["$empty?"]())===n||null==t||t.$$is_boolean&&1!=t||r.$unshift(v.get("Exception"));try{return e.yieldX(i,[]),!0}catch(t){if(!e.rescue(t,[r]))throw t;a.rescued_exception=t;try{return!1}finally{e.pop_exception()}}},c.$$arity=-1,c.$$parameters=[["rest","exceptions"]]),e.defn(g,"$description",u=function(){var t,r,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"description"),(t=null!=(r=a.expected)&&r!==n?"instance-variable":n)===n||null==t||t.$$is_boolean&&1!=t?a.$name_to_sentence():""+a.$name_to_sentence()+a.$to_sentence(a.expected)},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$diffable?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!1},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$supports_block_expectations?",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!1},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$expects_call_stack_jump?",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!1},d.$$arity=0,d.$$parameters=[]),g.$private(),e.defn(g,"$assert_ivars",h=function(){var e,r,a=this,$=arguments.length,i=$-0;i<0&&(i=0),r=new Array(i);for(var s=0;s<$;s++)r[s-0]=arguments[s];return(e=t(r,a.$present_ivars())["$any?"]())===n||null==e||e.$$is_boolean&&1!=e?n:a.$raise(a.$class().$name()+" needs to supply"+a.$to_sentence(r))},h.$$arity=-1,h.$$parameters=[["rest","expected_ivars"]]),(f=r(v.get("RUBY_VERSION").$to_f(),1.9))===n||null==f||f.$$is_boolean&&1!=f?e.alias(g,"present_ivars","instance_variables"):e.defn(g,"$present_ivars",m=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"present_ivars"),(t=(r=$.$instance_variables()).$map,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"present_ivars")}return t.$to_sym()},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","v"]],a),t).call(r)},m.$$arity=0,m.$$parameters=[]),function(t){var r,a,n,i,s=r=$(t,"DefaultFailureMessages"),o=(s.$$proto,s.$$scope);e.defn(s,"$failure_message",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.$actual().$inspect()+" to "+t.$description()},a.$$arity=0,a.$$parameters=[]),e.defn(s,"$failure_message_when_negated",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.$actual().$inspect()+" not to "+t.$description()},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$has_default_failure_messages?",i=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_default_failure_messages?");try{return t.$method("failure_message").$owner()["$=="](r)?t.$method("failure_message_when_negated").$owner()["$=="](r):t.$method("failure_message").$owner()["$=="](r)}catch(t){if(!e.rescue(t,[o.get("NameError")]))throw t;try{return!1}finally{e.pop_exception()}}},i.$$arity=1,i.$$parameters=[["req","matcher"]])}(v.base),g.$include(v.get("DefaultFailureMessages"))}(l.base,null)}(l.base)}(l.base)}(a.base)},Opal.modules["rspec/matchers/composable"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$require_rspec_support","$new","$matches?","$private","$with_matchers_cloned","$values_match?","$is_a_describable_matcher?","$description","$inspect","$===","$[]","$surface_descriptions_in","$to_a","$enumerable?","$map","$is_a_matcher?","$clone","$include?","$ancestors","$module_function","$item","$text"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("fuzzy_matcher"),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=a(t,"Matchers"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o,l,c,u,_,p,d,h,f,m=n=a(t,"Composable"),g=(m.$$proto,m.$$scope);e.defn(m,"$and",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"and"),g.get("BuiltIn").$$scope.get("Compound").$$scope.get("And").$new(r,t)},$.$$arity=1,$.$$parameters=[["req","matcher"]]),e.alias(m,"&","and"),e.defn(m,"$or",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"or"),g.get("BuiltIn").$$scope.get("Compound").$$scope.get("Or").$new(r,t)},i.$$arity=1,i.$$parameters=[["req","matcher"]]),e.alias(m,"|","or"),e.defn(m,"$===",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),r["$matches?"](t)},s.$$arity=1,s.$$parameters=[["req","value"]]),m.$private(),e.defn(m,"$values_match?",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"values_match?"),t=a.$with_matchers_cloned(t),g.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](t,r)},o.$$arity=2,o.$$parameters=[["req","expected"],["req","actual"]]),e.defn(m,"$description_of",l=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"description_of"),(a=g.get("Matchers")["$is_a_describable_matcher?"](t))===r||null==a||a.$$is_boolean&&1!=a?t.$inspect():t.$description()},l.$$arity=1,l.$$parameters=[["req","object"]]),e.defn(m,"$surface_descriptions_in",c=function(t){var a,n,$,i=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"surface_descriptions_in"),!((a=g.get("Matchers")["$is_a_describable_matcher?"](t))===r||null==a||a.$$is_boolean&&1!=a))return g.get("DescribableItem").$new(t);if(!((a=g.get("Hash")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a))return g.get("Hash")["$[]"](i.$surface_descriptions_in(t.$to_a()));if(!((a=g.get("Struct")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a))return t.$inspect();if((a=i["$enumerable?"](t))===r||null==a||a.$$is_boolean&&1!=a)return t;try{return(a=(n=t).$map,a.$$p=($=function(t){var a=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"surface_descriptions_in")}return a.$surface_descriptions_in(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","subitem"]],$),a).call(n)}catch(r){if(!e.rescue(r,[g.get("IOError")]))throw r;try{return t.$inspect()}finally{e.pop_exception()}}},c.$$arity=1,c.$$parameters=[["req","item"]]),e.defn(m,"$with_matchers_cloned",u=function(t){var a,n,$,i=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"with_matchers_cloned"),!((a=g.get("Matchers")["$is_a_matcher?"](t))===r||null==a||a.$$is_boolean&&1!=a))return t.$clone();if(!((a=g.get("Hash")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a))return g.get("Hash")["$[]"](i.$with_matchers_cloned(t.$to_a()));if(!((a=g.get("Struct")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a))return t;if((a=i["$enumerable?"](t))===r||null==a||a.$$is_boolean&&1!=a)return t;try{return(a=(n=t).$map,a.$$p=($=function(t){var a=$.$$s||this;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"with_matchers_cloned")}return a.$with_matchers_cloned(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","subobject"]],$),a).call(n)}catch(r){if(!e.rescue(r,[g.get("IOError")]))throw r;try{return t}finally{e.pop_exception()}}},u.$$arity=1,u.$$parameters=[["req","object"]]),(_=g.get("String").$ancestors()["$include?"](g.get("Enumerable")))===r||null==_||_.$$is_boolean&&1!=_?e.defn(m,"$enumerable?",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"enumerable?"),g.get("Enumerable")["$==="](t)},d.$$arity=1,d.$$parameters=[["req","item"]]):e.defn(m,"$enumerable?",p=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"enumerable?"),!!((a=g.get("String")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a)&&g.get("Enumerable")["$==="](t)},p.$$arity=1,p.$$parameters=[["req","item"]]),m.$module_function("surface_descriptions_in","enumerable?"),e.cdecl(g,"DescribableItem",(_=(h=g.get("Struct")).$new,_.$$p=(f=function(){var t,a,n=f.$$s||this;if(f.$$is_lambda||f.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"<module:Composable>")}return e.def(n,"$inspect",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$item().$description()+")"},t.$$arity=0,t.$$parameters=[]),e.def(n,"$pretty_print",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pretty_print"),t.$text("("+r.$item().$description()+")")},a.$$arity=1,a.$$parameters=[["req","pp"]]),r&&"pretty_print"},f.$$s=m,f.$$arity=0,f.$$parameters=[],f),_).call(h,"item"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/matchers/dsl"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,i=e.klass;return e.add_stubs(["$define_method","$new","$alias_method","$respond_to?","$configure","$extend","$define_user_override","$actual_arg_for","$to_proc","$push","$private","$__send__","$lambda","$deprecate","$match","$match_when_negated","$failure_message","$failure_message_when_negated","$include","$name_to_sentence","$to_sentence","$expected","$chained_method_clause_sentences","$include_chain_clauses_in_custom_matcher_descriptions?","$configuration","$join","$map","$split_words","$attr_reader","$class_exec","$==","$size","$expected_as_array","$[]","$name","$class","$>=","$to_f","$zero?","$arity"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Matchers"),l=(o.$$proto,o.$$scope);!function(r){var s,o,l,c,u,_=s=n(r,"DSL"),p=(_.$$proto,_.$$scope);e.defn(_,"$define",o=function(t){var r,n,$,i=this,s=o.$$p,l=s||a;o.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"define"),(r=(n=i).$define_method,r.$$p=($=function(){var r,a,n=$.$$s||this,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<i;o++)r[o-0]=arguments[o];return(a=p.get("RSpec").$$scope.get("Matchers").$$scope.get("DSL").$$scope.get("Matcher")).$new.apply(a,[t,l,n].concat(e.to_a(r)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","expected"]],$),r).call(n,t)},o.$$arity=1,o.$$parameters=[["req","name"],["block","declarations"]]),_.$alias_method("matcher","define"),(l=p.get("RSpec")["$respond_to?"]("configure"))===a||null==l||l.$$is_boolean&&1!=l||(l=(c=p.get("RSpec")).$configure,l.$$p=(u=function(t){var r=u.$$s||this;if(null==t&&(t=a),u.$$is_lambda||u.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<module:DSL>")}return t.$extend(r)},u.$$s=_,u.$$arity=1,u.$$parameters=[["req","c"]],u),l).call(c),function(t){var r,i,s,o,l,c,u,_,p,d,h,f=r=n(t,"Macros"),m=(f.$$proto,f.$$scope);e.defn(f,"$match",i=function(){var t,r,n,$=this,s=i.$$p,o=s||a;i.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"match"),(t=(r=$).$define_user_override,t.$$p=(n=function(t){var r,$,s=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"match")}try{return s.actual=t,($=s,r=e.find_iter_super_dispatcher(s,"match",n.$$def||i,!1,!1),r.$$p=null,r).apply($,e.to_a(s.$actual_arg_for(o)))}catch(t){if(!e.rescue(t,[m.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError")]))throw t;try{return!1}finally{e.pop_exception()}}},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","actual"]],n),t).call(r,"matches?",o)},i.$$arity=0,i.$$parameters=[["block","match_block"]]),e.defn(f,"$match_when_negated",s=function(){var t,r,n,$=this,i=s.$$p,o=i||a;s.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"match_when_negated"),(t=(r=$).$define_user_override,t.$$p=(n=function(t){var r,$,i=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"match_when_negated")}return i.actual=t,($=i,r=e.find_iter_super_dispatcher(i,"match_when_negated",n.$$def||s,!1,!1),r.$$p=null,r).apply($,e.to_a(i.$actual_arg_for(o)))},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","actual"]],n),t).call(r,"does_not_match?",o)},s.$$arity=0,s.$$parameters=[["block","match_block"]]),e.defn(f,"$match_unless_raises",o=function(t){var r,n,$,i=this,s=o.$$p,l=s||a;null==t&&(t=m.get("Exception")),o.$$p=null;var c=arguments.length;return c>1&&e.ac(c,-1,this,"match_unless_raises"),(r=(n=i).$define_user_override,r.$$p=($=function(r){var n,i,s=$.$$s||this;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"match_unless_raises")}s.actual=r;var u=!0;try{return(i=s,n=e.find_iter_super_dispatcher(s,"match_unless_raises",$.$$def||o,!1,!1),n.$$p=null,n).apply(i,e.to_a(s.$actual_arg_for(l)))}catch(r){if(u=!1,!e.rescue(r,[t]))throw r;s.rescued_exception=r;try{return!1}finally{e.pop_exception()}}finally{if(u)return!0}},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","actual"]],$),r).call(n,"matches?",l)},o.$$arity=-1,o.$$parameters=[["opt","expected_exception"],["block","match_block"]]),e.defn(f,"$failure_message",l=function(){var t=this,r=l.$$p,n=r||a;l.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"failure_message"),t.$define_user_override("failure_message",n)},l.$$arity=0,l.$$parameters=[["block","definition"]]),e.defn(f,"$failure_message_when_negated",c=function(){var t=this,r=c.$$p,n=r||a;c.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"failure_message_when_negated"),t.$define_user_override("failure_message_when_negated",n)},c.$$arity=0,c.$$parameters=[["block","definition"]]),e.defn(f,"$description",u=function(){var t=this,r=u.$$p,n=r||a;u.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"description"),t.$define_user_override("description",n)},u.$$arity=0,u.$$parameters=[["block","definition"]]),e.defn(f,"$diffable",_=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"diffable"),(t=(r=n).$define_method,t.$$p=(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"diffable")}return!0},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"diffable?")},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$supports_block_expectations",p=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"supports_block_expectations"),(t=(r=n).$define_method,t.$$p=(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"supports_block_expectations")}return!0},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,"supports_block_expectations?")},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$chain",d=function(t){var r,n,$,i=this,s=d.$$p,o=s||a;d.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"chain"),(r=(n=i).$define_user_override,r.$$p=($=function(){var r,n,i,s,o=$.$$s||this;null==o.chained_method_clauses&&(o.chained_method_clauses=a),r=$.$$p||a,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return(s=o,i=e.find_iter_super_dispatcher(o,"chain",$.$$def||d,!1,!1),i.$$p=r.$to_proc(),i).apply(s,e.to_a(n)),o.chained_method_clauses.$push([t,n]),o},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),r).call(n,t,o)},d.$$arity=1,d.$$parameters=[["req","name"],["block","definition"]]),f.$private(),e.defn(f,"$define_user_override",h=function(t,r){var n,$,i,s,o,l=this,c=h.$$p,u=c||a;null==l.user_method_defs&&(l.user_method_defs=a),h.$$p=null;var _=arguments.length;return 2!==_&&e.ac(_,2,this,"define_user_override"),(n=($=l.user_method_defs).$__send__,n.$$p=r.$to_proc(),n).call($,"define_method",t),!1!==(n=u)&&n!==a&&null!=n||(u=(i=(s=l).$lambda,i.$$p=(o=function(){var t,a,n=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"define_user_override")}return(a=n,t=e.find_iter_super_dispatcher(n,"define_user_override",o.$$def||h,!1,!1),t.$$p=null,t).apply(a,e.to_a(n.$actual_arg_for(r)))},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),i).call(s)),(n=(i=l).$define_method,n.$$p=u.$to_proc(),n).call(i,t)},h.$$arity=2,h.$$parameters=[["req","method_name"],["req","user_def"],["block","our_def"]]),function(t){var r,i,s,o,l,c=r=n(t,"Deprecated"),u=(c.$$proto,c.$$scope);e.defn(c,"$match_for_should",i=function(){var t,r,n=this,s=i.$$p,o=s||a;i.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"match_for_should"),u.get("RSpec").$deprecate("`match_for_should`",$(["replacement"],{replacement:"`match`"})),(t=(r=n).$match,t.$$p=o.$to_proc(),t).call(r)},i.$$arity=0,i.$$parameters=[["block","definition"]]),e.defn(c,"$match_for_should_not",s=function(){var t,r,n=this,i=s.$$p,o=i||a;s.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"match_for_should_not"),u.get("RSpec").$deprecate("`match_for_should_not`",$(["replacement"],{replacement:"`match_when_negated`"})),(t=(r=n).$match_when_negated,t.$$p=o.$to_proc(),t).call(r)},s.$$arity=0,s.$$parameters=[["block","definition"]]),e.defn(c,"$failure_message_for_should",o=function(){var t,r,n=this,i=o.$$p,s=i||a;o.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"failure_message_for_should"),u.get("RSpec").$deprecate("`failure_message_for_should`",$(["replacement"],{replacement:"`failure_message`"})),(t=(r=n).$failure_message,t.$$p=s.$to_proc(),t).call(r)},o.$$arity=0,o.$$parameters=[["block","definition"]]),e.defn(c,"$failure_message_for_should_not",l=function(){var t,r,n=this,i=l.$$p,s=i||a;l.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"failure_message_for_should_not"),u.get("RSpec").$deprecate("`failure_message_for_should_not`",$(["replacement"],{replacement:"`failure_message_when_negated`"})),(t=(r=n).$failure_message_when_negated,t.$$p=s.$to_proc(),t).call(r)},l.$$arity=0,l.$$parameters=[["block","definition"]])}(m.base)}(p.base),function(t){var r,$,i,s,o,l,c=r=n(t,"DefaultImplementations"),u=(c.$$proto,c.$$scope);c.$include(u.get("BuiltIn").$$scope.get("BaseMatcher").$$scope.get("DefaultFailureMessages")),e.defn(c,"$diffable?",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!1},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),""+t.$name_to_sentence()+t.$to_sentence(t.$expected())+t.$chained_method_clause_sentences()},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$supports_block_expectations?",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!1},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$expects_call_stack_jump?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!1},o.$$arity=0,o.$$parameters=[]),c.$private(),e.defn(c,"$chained_method_clause_sentences",l=function(){var t,r,n,$=this;null==$.chained_method_clauses&&($.chained_method_clauses=a);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"chained_method_clause_sentences"),(t=u.get("Expectations").$configuration()["$include_chain_clauses_in_custom_matcher_descriptions?"]())===a||null==t||t.$$is_boolean&&1!=t?"":(t=(r=$.chained_method_clauses).$map,t.$$p=(n=function(t){var r,$,i,s=n.$$s||this;if(null==t&&(t=a),t=e.to_ary(t),r=e.slice.call(t,0,t.length),$=r.splice(0,1)[0],null==$&&($=a),i=r.splice(0,1)[0],null==i&&(i=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"chained_method_clause_sentences")}return" "+s.$split_words($)+s.$to_sentence(i)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req"]],n.$$has_top_level_mlhs_arg=!0,n),t).call(r).$join()},l.$$arity=0,l.$$parameters=[])}(p.base),function(r,$super){function n(){}var $,s,o,l,c,u,_,p,d=n=i(r,$super,"Matcher",n),h=d.$$proto,f=d.$$scope;h.matcher_execution_context=h.actual=a,d.$include(f.get("DefaultImplementations")),d.$include(f.get("RSpec").$$scope.get("Matchers")),d.$include(f.get("RSpec").$$scope.get("Matchers").$$scope.get("Pretty")),d.$include(f.get("Composable")),d.$extend(f.get("Macros")),d.$extend(f.get("Macros").$$scope.get("Deprecated")),d.$attr_reader("actual"),d.$attr_reader("rescued_exception"),e.defn(d,"$initialize",$=function(t,r,n){var $,i,s,o=this,l=arguments.length,c=l-3;c<0&&(c=0),s=new Array(c);for(var u=3;u<l;u++)s[u-3]=arguments[u];var _=arguments.length;return _<3&&e.ac(_,-4,this,"initialize"),o.name=t,o.actual=a,o.expected_as_array=s,o.matcher_execution_context=n,o.chained_method_clauses=[],($=(i=function(e){var t=e.$$scope;e.$$proto;return e.$include(e.user_method_defs=t.get("Module").$new()),e}(e.get_singleton_class(o))).$class_exec,$.$$p=r.$to_proc(),$).apply(i,e.to_a(s))},$.$$arity=-4,$.$$parameters=[["req","name"],["req","declarations"],["req","matcher_execution_context"],["rest","expected"]]),e.defn(d,"$expected",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected"),t.$expected_as_array().$size()["$=="](1)?t.$expected_as_array()["$[]"](0):t.$expected_as_array()},s.$$arity=0,s.$$parameters=[]),d.$attr_reader("expected_as_array"),e.defn(d,"$inspect",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class().$name()+" "+t.$name()+">"},o.$$arity=0,o.$$parameters=[]),(l=t(f.get("RUBY_VERSION").$to_f(),1.9))===a||null==l||l.$$is_boolean&&1!=l?e.defn(d,"$respond_to?",u=function(t,r){var n,$,i,s=this,o=u.$$p,l=a,c=a;null==r&&(r=!1),u.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to?"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return!1!==(n=(i=s,$=e.find_super_dispatcher(s,"respond_to?",u,!1),$.$$p=o,$).apply(i,l))&&n!==a&&null!=n?n:s.matcher_execution_context["$respond_to?"](t,r)},u.$$arity=-2,u.$$parameters=[["req","method"],["opt","include_private"]]):e.defn(d,"$respond_to_missing?",c=function(t,r){var n,$,i,s=this,o=c.$$p,l=a,u=a;null==r&&(r=!1),c.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to_missing?"),l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return!1!==(n=(i=s,$=e.find_super_dispatcher(s,"respond_to_missing?",c,!1),$.$$p=o,$).apply(i,l))&&n!==a&&null!=n?n:s.matcher_execution_context["$respond_to?"](t,r)},c.$$arity=-2,c.$$parameters=[["req","method"],["opt","include_private"]]),d.$private(),e.defn(d,"$actual_arg_for",_=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"actual_arg_for"),(r=t.$arity()["$zero?"]())===a||null==r||r.$$is_boolean&&1!=r?[n.actual]:[]},_.$$arity=1,_.$$parameters=[["req","block"]]),e.defn(d,"$method_missing",p=function(t){var r,n,$,i,s=this,o=p.$$p,l=o||a,c=arguments.length,u=c-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<c;_++)i[_-1]=arguments[_];p.$$p=null;var d=arguments.length;return d<1&&e.ac(d,-2,this,"method_missing"),(r=s.matcher_execution_context["$respond_to?"](t))===a||null==r||r.$$is_boolean&&1!=r?($=s,r=e.find_super_dispatcher(s,"method_missing",p,!1),r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i))):(r=(n=s.matcher_execution_context).$__send__,r.$$p=l.$to_proc(),r).apply(n,[t].concat(e.to_a(i)))},p.$$arity=-2,p.$$parameters=[["req","method"],["rest","args"],["block","block"]])}(p.base,null)}(l.base)}(l.base)}(r.base),r.get("RSpec").$$scope.get("Matchers").$extend(r.get("RSpec").$$scope.get("Matchers").$$scope.get("DSL"))},Opal.modules["rspec/matchers/generated_descriptions"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$attr_accessor","$last_matcher=","$last_expectation_handler=","$nil?","$last_expectation_handler","$verb","$last_description","$private","$respond_to?","$last_matcher","$description"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o=n=a(t,"Matchers");o.$$proto,o.$$scope;!function(e){e.$$scope,e.$$proto;e.$attr_accessor("last_matcher","last_expectation_handler")}(e.get_singleton_class(o)),e.defs(o,"$clear_generated_description",$=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"clear_generated_description"),t=[r],a=n,a["$last_matcher="].apply(a,t),t[t.length-1],t=[r],a=n,a["$last_expectation_handler="].apply(a,t),t[t.length-1]},$.$$arity=0,$.$$parameters=[]),e.defs(o,"$generated_description",i=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"generated_description"),(t=a.$last_expectation_handler()["$nil?"]())===r||null==t||t.$$is_boolean&&1!=t?a.$last_expectation_handler().$verb()+" "+a.$last_description():r},i.$$arity=0,i.$$parameters=[]),o.$private(),e.defs(o,"$last_description",s=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"last_description"),(t=a.$last_matcher()["$respond_to?"]("description"))===r||null==t||t.$$is_boolean&&1!=t?"When you call a matcher in an example without a String, like this:\n\nspecify { expect(object).to matcher }\n\nor this:\n\nit { is_expected.to matcher }\n\nRSpec expects the matcher to have a #description method. You should either\nadd a String to the example this matcher is being used in, or give it a\ndescription method. Then you won't have to suffer this lengthy warning again.\n":a.$last_matcher().$description()},s.$$arity=0,s.$$parameters=[])}(i.base)}(t.base)},Opal.modules["rspec/matchers/matcher_delegator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$include","$attr_reader","$__send__","$to_proc","$base_matcher","$>","$to_f","$respond_to?","$clone"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Matchers"),o=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var i,s,o,l,c,u,_=n=$(r,$super,"MatcherDelegator",n),p=_.$$proto,d=_.$$scope;p.base_matcher=a,_.$include(d.get("Composable")),_.$attr_reader("base_matcher"),e.defn(_,"$initialize",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.base_matcher=t},i.$$arity=1,i.$$parameters=[["req","base_matcher"]]),e.defn(_,"$method_missing",s=function(){var t,r,n,$=this,i=s.$$p,o=i||a,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return s.$$p=null,(t=(r=$.$base_matcher()).$__send__,t.$$p=o.$to_proc(),t).apply(r,e.to_a(n))},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]]),(o=t(e.get("RUBY_VERSION").$to_f(),1.8))===a||null==o||o.$$is_boolean&&1!=o?e.defn(_,"$respond_to?",c=function(t,r){var n,$,i,s=this,o=c.$$p,l=a,u=a;null==r&&(r=!1),c.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to?"),l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return!1!==(n=(i=s,$=e.find_super_dispatcher(s,"respond_to?",c,!1),$.$$p=o,$).apply(i,l))&&n!==a&&null!=n?n:s.$base_matcher()["$respond_to?"](t,r)},c.$$arity=-2,c.$$parameters=[["req","name"],["opt","include_all"]]):e.defn(_,"$respond_to_missing?",l=function(t,r){var n,$,i,s=this,o=l.$$p,c=a,u=a;null==r&&(r=!1),l.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to_missing?"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(n=(i=s,$=e.find_super_dispatcher(s,"respond_to_missing?",l,!1),$.$$p=o,$).apply(i,c))&&n!==a&&null!=n?n:s.$base_matcher()["$respond_to?"](t,r)},l.$$arity=-2,l.$$parameters=[["req","name"],["opt","include_all"]]),e.defn(_,"$initialize_copy",u=function(){var t,r,n=this,$=u.$$p,i=a,s=a;u.$$p=null;var o=arguments.length;for(1!==o&&e.ac(o,1,this,"initialize_copy"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n.base_matcher=n.base_matcher.$clone(),(r=n,t=e.find_super_dispatcher(n,"initialize_copy",u,!1),t.$$p=$,t).apply(r,i)},u.$$arity=1,u.$$parameters=[["req","other"]])}(o.base,null)}(o.base)}(r.base)},Opal.modules["rspec/matchers/pretty"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.range;return e.add_stubs(["$gsub","$to_s","$module_function","$!","$===","$inspect","$map","$to_word","$Array","$length","$[]","$join","$is_matcher_with_description?","$description","$split_words","$name","$underscore","$last","$split","$class","$dup","$gsub!","$tr!","$downcase!","$private","$is_a_matcher?","$respond_to?"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o,l,c,u,_,p,d=$=a(t,"Pretty"),h=(d.$$proto,d.$$scope);e.defn(d,"$split_words",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"split_words"),t.$to_s().$gsub(/_/," ")},i.$$arity=1,i.$$parameters=[["req","sym"]]),d.$module_function("split_words"),e.defn(d,"$to_sentence",s=function(t){var a,$,i,s=this,o=r,l=arguments.length;return 1!==l&&e.ac(l,1,this,"to_sentence"),(a=!1!==($=t["$!"]())&&$!==r&&null!=$?$:h.get("Struct")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a?(t=(a=($=s.$Array(t)).$map,a.$$p=(i=function(t){var a=i.$$s||this;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"to_sentence")}return a.$to_word(t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","w"]],i),a).call($),function(){return o=t.$length(),(0)["$==="](o)?"":1["$==="](o)?" "+t["$[]"](0):2["$==="](o)?" "+t["$[]"](0)+" and "+t["$[]"](1):" "+t["$[]"](n(0,-1,!0)).$join(", ")+", and "+t["$[]"](-1)}()):" "+t.$inspect()},s.$$arity=1,s.$$parameters=[["req","words"]]),e.defn(d,"$to_word",o=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"to_word"),(a=n["$is_matcher_with_description?"](t))===r||null==a||a.$$is_boolean&&1!=a?t.$inspect():t.$description()},o.$$arity=1,o.$$parameters=[["req","item"]]),e.defn(d,"$name_to_sentence",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"name_to_sentence"),t.$split_words(t.$name())},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$name",c=function(){var t,a,n=this;null==n.name&&(n.name=r);var $=arguments.length;return 0!==$&&e.ac($,0,this,"name"),(t=null!=(a=n.name)&&a!==r?"instance-variable":r)===r||null==t||t.$$is_boolean&&1!=t?n.$underscore(n.$class().$name().$split("::").$last()):n.name},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$underscore",u=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=t.$to_s().$dup(),a["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),a["$tr!"]("-","_"),a["$downcase!"](),a},u.$$arity=1,u.$$parameters=[["req","camel_cased_word"]]),d.$private(),e.defn(d,"$is_matcher_with_description?",_=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"is_matcher_with_description?"),a=h.get("RSpec").$$scope.get("Matchers")["$is_a_matcher?"](t),!1!==a&&a!==r&&null!=a?t["$respond_to?"]("description"):a},_.$$arity=1,_.$$parameters=[["req","object"]]),e.defn(d,"$improve_hash_formatting",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"improve_hash_formatting"),t.$gsub(/(\S)=>(\S)/,"\\1 => \\2")},p.$$arity=1,p.$$parameters=[["req","inspect_string"]])}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$define_method","$record","$to_proc","$include","$create_message_expectation_on","$inject","$__send__","$last","$first","$messages","$any?","$==","$args_match?","$negated?","$raise_double_negation_error","$new","$private","$empty?","$verify_invocation_order","$<<","$unshift"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"AnyInstance"),s=(i.$$proto,i.$$scope);!function(t,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f,m=$=n(t,$super,"Chain",$),g=m.$$proto,b=m.$$scope;g.argument_list_matcher=g.messages=r,e.defn(m,"$initialize",i=function(t){var a,n=this,$=i.$$p,s=$||r,o=arguments.length,l=o-1;l<0&&(l=0),a=new Array(l);for(var c=1;c<o;c++)a[c-1]=arguments[c];i.$$p=null;var u=arguments.length;return u<1&&e.ac(u,-2,this,"initialize"),n.recorder=t,n.expectation_args=a,n.expectation_block=s,
n.argument_list_matcher=b.get("ArgumentListMatcher").$$scope.get("MATCH_ALL")},i.$$arity=-2,i.$$parameters=[["req","recorder"],["rest","args"],["block","block"]]),function(t){var n,$,i=n=a(t,"Customizations");i.$$proto,i.$$scope;e.defs(i,"$record",$=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"record"),(a=(n=i).$define_method,a.$$p=($=function(){var a,n,i,s,o=$.$$s||this;a=$.$$p||r,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return(i=(s=o).$record,i.$$p=a.$to_proc(),i).apply(s,[t].concat(e.to_a(n)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),a).call(n,t)},$.$$arity=1,$.$$parameters=[["req","method_name"]]),i.$record("and_return"),i.$record("and_raise"),i.$record("and_throw"),i.$record("and_yield"),i.$record("and_call_original"),i.$record("with"),i.$record("once"),i.$record("twice"),i.$record("thrice"),i.$record("exactly"),i.$record("times"),i.$record("never"),i.$record("at_least"),i.$record("at_most")}(b.base),m.$include(b.get("Customizations")),e.defn(m,"$playback!",s=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"playback!"),s=i.$create_message_expectation_on(t),(a=(n=i.$messages()).$inject,a.$$p=($=function(t,a){var n,i;$.$$s;if(null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"playback!")}return(n=(i=t).$__send__,n.$$p=a.$last().$to_proc(),n).apply(i,e.to_a(a.$first()))},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","object"],["req","message"]],$),a).call(n,s)},s.$$arity=1,s.$$parameters=[["req","instance"]]),e.defn(m,"$constrained_to_any_of?",o=function(){var t,a,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(a=$)["$any?"],t.$$p=(n=function(t){var a,$,i,s=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"constrained_to_any_of?")}return(a=($=s.$messages())["$any?"],a.$$p=(i=function(a){i.$$s;if(null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"constrained_to_any_of?")}return a.$first().$first()["$=="](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","message"]],i),a).call($)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","constraint"]],n),t).call(a)},o.$$arity=-1,o.$$parameters=[["rest","constraints"]]),e.defn(m,"$matches_args?",l=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a.argument_list_matcher)["$args_match?"].apply(t,e.to_a(r))},l.$$arity=-1,l.$$parameters=[["rest","args"]]),e.defn(m,"$expectation_fulfilled!",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectation_fulfilled!"),t.expectation_fulfilled=!0},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$never",u=function(){var t,a,n=this,$=u.$$p,i=r,s=r;u.$$p=null;var o=arguments.length;for(0!==o&&e.ac(o,0,this,"never"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(t=n["$negated?"]())===r||null==t||t.$$is_boolean&&1!=t||b.get("ErrorGenerator").$raise_double_negation_error("expect_any_instance_of(MyClass)"),(a=n,t=e.find_super_dispatcher(n,"never",u,!1),t.$$p=$,t).apply(a,i)},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$with",_=function(){var t,a,n,$,i=this,s=_.$$p,o=r,l=r,c=arguments.length,u=c-0;u<0&&(u=0),$=new Array(u);for(var p=0;p<c;p++)$[p-0]=arguments[p];for(_.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i.argument_list_matcher=(t=b.get("ArgumentListMatcher")).$new.apply(t,e.to_a($)),(n=i,a=e.find_super_dispatcher(i,"with",_,!1),a.$$p=s,a).apply(n,o)},_.$$arity=-1,_.$$parameters=[["rest","args"],["block","block"]]),m.$private(),e.defn(m,"$negated?",p=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"negated?"),(t=(a=$.$messages())["$any?"],t.$$p=(n=function(t,a){var $,i,a;n.$$s;if(null==t&&(t=r),t=e.to_ary(t),$=e.slice.call(t,0,t.length),i=$.splice(0,1)[0],null==i&&(i=r),a=0<$.length?$.splice(0,$.length-0):[],null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"negated?")}return i["$=="]("never")},n.$$s=$,n.$$arity=2,n.$$parameters=[["req"],["req","_"]],n.$$has_top_level_mlhs_arg=!0,n),t).call(a)},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$messages",d=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"messages"),!1!==(t=a.messages)&&t!==r&&null!=t?t:a.messages=[]},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$last_message",h=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"last_message"),(t=a.$messages()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?a.$messages().$last().$first().$first():r},h.$$arity=0,h.$$parameters=[]),e.defn(m,"$record",f=function(t){var a,n,$,i=this,s=f.$$p,o=s||r,l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<l;u++)$[u-1]=arguments[u];f.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"record"),(a=(n=i).$verify_invocation_order,a.$$p=o.$to_proc(),a).apply(n,[t].concat(e.to_a($))),i.$messages()["$<<"]([$.$unshift(t),o]),i},f.$$arity=-2,f.$$parameters=[["req","rspec_method_name"],["rest","args"],["block","block"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/expect_chain_chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$tap","$private","$expect_chain_on","$to_proc"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"AnyInstance"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u=a=n(t,$super,"ExpectChainChain",a),_=u.$$proto;u.$$scope;_.expectation_fulfilled=_.expectation_block=_.expectation_args=_.invocation_order=r,e.defn(u,"$initialize",i=function(){var t,a,n,$=this,s=i.$$p,o=r,l=r,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];for(i.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(a=$,t=e.find_super_dispatcher($,"initialize",i,!1),t.$$p=s,t).apply(a,o),$.expectation_fulfilled=!1},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.defn(u,"$expectation_fulfilled?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectation_fulfilled?"),t.expectation_fulfilled},s.$$arity=0,s.$$parameters=[]),e.defn(u,"$playback!",o=function(){var t,a,n,$,i,s=this,l=o.$$p,c=r,u=r;o.$$p=null;var _=arguments.length;for(1!==_&&e.ac(_,1,this,"playback!"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(t=(a=(i=s,$=e.find_super_dispatcher(s,"playback!",o,!1),$.$$p=l,$).apply(i,c)).$tap,t.$$p=(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"playback!")}return t.expectation_fulfilled=!0},n.$$s=s,n.$$arity=0,n.$$parameters=[],n),t).call(a)},o.$$arity=1,o.$$parameters=[["req","instance"]]),u.$private(),e.defn(u,"$create_message_expectation_on",l=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"create_message_expectation_on"),(r=(a=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExpectChain")).$expect_chain_on,r.$$p=n.expectation_block.$to_proc(),r).apply(a,[t].concat(e.to_a(n.expectation_args)))},l.$$arity=1,l.$$parameters=[["req","instance"]]),e.defn(u,"$invocation_order",c=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),!1!==(t=a.invocation_order)&&t!==r&&null!=t?t:a.invocation_order=$(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},c.$$arity=0,c.$$parameters=[])}(o.base,o.get("StubChain"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/expectation_chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$constrained_to_any_of?","$private","$proxy_for","$space","$merge","$add_message_expectation","$to_proc","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"AnyInstance"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var $,i,s,o=a=n(t,$super,"ExpectationChain",a),l=o.$$proto;o.$$scope;l.expectation_fulfilled=r,e.defn(o,"$expectation_fulfilled?",$=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expectation_fulfilled?"),!1!==(t=a.expectation_fulfilled)&&t!==r&&null!=t?t:a["$constrained_to_any_of?"]("never")},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$initialize",i=function(){var t,a,n,$=this,s=i.$$p,o=r,l=r,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];for(i.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return $.expectation_fulfilled=!1,(a=$,t=e.find_super_dispatcher($,"initialize",i,!1),t.$$p=s,t).apply(a,o)},i.$$arity=-1,i.$$parameters=[["rest","args"],["block","block"]]),o.$private(),e.defn(o,"$verify_invocation_order",s=function(){var t,a=(s.$$p,arguments.length),n=a-1;n<0&&(n=0),t=new Array(n);for(var $=1;$<a;$++)t[$-1]=arguments[$];s.$$p=null;var i=arguments.length;return i<1&&e.ac(i,-2,this,"verify_invocation_order"),r},s.$$arity=-2,s.$$parameters=[["req","_rspec_method_name"],["rest","_args"],["block","_block"]])}(o.base,o.get("Chain")),function(t,$super){function a(){}var i,s,o=a=n(t,$super,"PositiveExpectationChain",a),l=o.$$proto,c=o.$$scope;l.expectation_args=l.expectation_block=l.invocation_order=r,o.$private(),e.defn(o,"$create_message_expectation_on",i=function(t){var a,n,i=this,s=r,o=r,l=r,u=r,_=arguments.length;return 1!==_&&e.ac(_,1,this,"create_message_expectation_on"),s=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),n=i.expectation_args,a=e.to_ary(n),o=null==a[0]?r:a[0],l=null==a[1]?r:a[1],l=(!1!==(a=l)&&a!==r&&null!=a?a:$([],{})).$merge($(["expected_form"],{expected_form:c.get("IGNORED_BACKTRACE_LINE")})),u=(a=(n=s).$add_message_expectation,a.$$p=i.expectation_block.$to_proc(),a).call(n,o,l),(a=c.get("RSpec").$$scope.get("Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===r||null==a||a.$$is_boolean&&1!=a||u.$and_yield_receiver_to_implementation(),u},i.$$arity=1,i.$$parameters=[["req","instance"]]),e.defn(o,"$invocation_order",s=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),!1!==(t=a.invocation_order)&&t!==r&&null!=t?t:a.invocation_order=$(["with","and_return","and_raise"],{"with":[r],and_return:["with",r],and_raise:["with",r]})},s.$$arity=0,s.$$parameters=[])}(o.base,o.get("ExpectationChain"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/message_chains"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$new","$[]=","$[]","$<<","$reject!","$===","$find","$each","$!","$expectation_fulfilled?","$matches_args?","$all?","$compact","$map","$last","$to_s","$expectation_fulfilled!","$raise_if_second_instance_to_receive_message","$playback!","$private","$equal?","$raise","$join","$sort","$unfulfilled_expectations"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"AnyInstance"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"MessageChains",a),m=f.$$proto,g=f.$$scope;m.chains_by_method_name=m.instance_with_expectation=r,e.defn(f,"$initialize",$=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),$.chains_by_method_name=(t=(a=g.get("Hash")).$new,t.$$p=(n=function(t,a){n.$$s;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"initialize")}return t["$[]="](a,[])},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","h"],["req","k"]],n),t).call(a)},$.$$arity=0,$.$$parameters=[]),e.defn(f,"$[]",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.chains_by_method_name["$[]"](t)},i.$$arity=1,i.$$parameters=[["req","method_name"]]),e.defn(f,"$add",s=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add"),a.chains_by_method_name["$[]"](t)["$<<"](r),r},s.$$arity=2,s.$$parameters=[["req","method_name"],["req","chain"]]),e.defn(f,"$remove_stub_chains_for!",o=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"remove_stub_chains_for!"),(a=(n=i.chains_by_method_name["$[]"](t))["$reject!"],a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"remove_stub_chains_for!")}return g.get("StubChain")["$==="](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","chain"]],$),a).call(n)},o.$$arity=1,o.$$parameters=[["req","method_name"]]),e.defn(f,"$has_expectation?",l=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"has_expectation?"),(a=(n=i.chains_by_method_name["$[]"](t)).$find,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"has_expectation?")}return g.get("ExpectationChain")["$==="](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","chain"]],$),a).call(n)},l.$$arity=1,l.$$parameters=[["req","method_name"]]),e.defn(f,"$each_unfulfilled_expectation_matching",c=function(t){var a,n,$,i,s=this,o=c.$$p,l=o||r,u=arguments.length,_=u-1;_<0&&(_=0),i=new Array(_);for(var p=1;p<u;p++)i[p-1]=arguments[p];c.$$p=null;var d=arguments.length;return d<1&&e.ac(d,-2,this,"each_unfulfilled_expectation_matching"),(a=(n=s.chains_by_method_name["$[]"](t)).$each,a.$$p=($=function(t){var a,n,s;$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"each_unfulfilled_expectation_matching")}return n=t["$expectation_fulfilled?"]()["$!"](),(a=!1!==n&&n!==r&&null!=n?(s=t)["$matches_args?"].apply(s,e.to_a(i)):n)===r||null==a||a.$$is_boolean&&1!=a?r:e.yield1(l,t)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","chain"]],$),a).call(n)},c.$$arity=-2,c.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(f,"$all_expectations_fulfilled?",u=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"all_expectations_fulfilled?"),(t=(a=$.chains_by_method_name)["$all?"],t.$$p=(n=function(t,a){var $,i,s,o=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"all_expectations_fulfilled?")}return($=(i=a)["$all?"],$.$$p=(s=function(t){s.$$s;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"all_expectations_fulfilled?")}return t["$expectation_fulfilled?"]()},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","chain"]],s),$).call(i)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","_method_name"],["req","chains"]],n),t).call(a)},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$unfulfilled_expectations",_=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"unfulfilled_expectations"),(t=(a=$.chains_by_method_name).$map,t.$$p=(n=function(t,a){var $;n.$$s;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"unfulfilled_expectations")}return($=a.$last()["$expectation_fulfilled?"]())===r||null==$||$.$$is_boolean&&1!=$?($=g.get("ExpectationChain")["$==="](a.$last()))===r||null==$||$.$$is_boolean&&1!=$?r:t.$to_s():r},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","method_name"],["req","chains"]],n),t).call(a).$compact()},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$received_expected_message!",p=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"received_expected_message!"),(a=(n=i.chains_by_method_name["$[]"](t)).$each,a.$$p=($=function(t){$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"received_expected_message!")}return t["$expectation_fulfilled!"]()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","chain"]],$),a).call(n)},p.$$arity=1,p.$$parameters=[["req","method_name"]]),e.defn(f,"$playback!",d=function(t,a){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"playback!"),s.$raise_if_second_instance_to_receive_message(t),(n=($=s.chains_by_method_name["$[]"](a)).$each,n.$$p=(i=function(a){i.$$s;if(null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"playback!")}return a["$playback!"](t)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","chain"]],i),n).call($)},d.$$arity=2,d.$$parameters=[["req","instance"],["req","method_name"]]),f.$private(),e.defn(f,"$raise_if_second_instance_to_receive_message",h=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"raise_if_second_instance_to_receive_message"),(a=g.get("ExpectationChain")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a||!1!==(a=n.instance_with_expectation)&&a!==r&&null!=a||(n.instance_with_expectation=t),(a=g.get("ExpectationChain")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a?r:(a=n.instance_with_expectation["$equal?"](t))===r||null==a||a.$$is_boolean&&1!=a?n.$raise(g.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+n.$unfulfilled_expectations().$sort().$join(", ")):r},h.$$arity=1,h.$$parameters=[["req","instance"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/proxy"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$klass","$===","$each","$and_return","$stub","$perform_proxying","$add_stub","$to_proc","$remove_stub_if_present","$stub_chain_on","$object","$expect_chain_on","$never","$add_message_expectation","$private","$__send__","$map","$new","$+","$>","$to_f","$respond_to?","$first"]),function(a){var s,o=s=$(a,"RSpec"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"Mocks"),l=(o.$$proto,o.$$scope);!function(a){var s,o=s=$(a,"AnyInstance"),l=(o.$$proto,o.$$scope);!function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d,h=a=i(r,$super,"Proxy",a),f=h.$$proto,m=h.$$scope;f.recorder=f.target_proxies=n,e.defn(h,"$initialize",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.recorder=t,a.target_proxies=r},$.$$arity=2,$.$$parameters=[["req","recorder"],["req","target_proxies"]]),e.defn(h,"$klass",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"klass"),t.recorder.$klass()},s.$$arity=0,s.$$parameters=[]),e.defn(h,"$stub",o=function(t){var r,a,$,i,s,l=this,c=o.$$p,u=c||n;o.$$p=null;var _=arguments.length;return 1!==_&&e.ac(_,1,this,"stub"),(r=m.get("Hash")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r?(r=(i=l).$perform_proxying,r.$$p=(s=function(r){var a,$;s.$$s;if(null==r&&(r=n),s.$$is_lambda||s.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"stub")}return(a=($=r).$add_stub,a.$$p=u.$to_proc(),a).call($,t)},s.$$s=l,s.$$arity=1,s.$$parameters=[["req","proxy"]],s),r).call(i,"stub",[t],u):(r=(a=t).$each,r.$$p=($=function(t,r){var a=$.$$s||this;if(null==t&&(t=n),null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"stub")}return a.$stub(t).$and_return(r)},$.$$s=l,$.$$arity=2,$.$$parameters=[["req","method_name"],["req","return_value"]],$),r).call(a)},o.$$arity=1,o.$$parameters=[["req","method_name_or_method_map"],["block","block"]]),e.defn(h,"$unstub",l=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"unstub"),(r=(a=i).$perform_proxying,r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"unstub")}return r.$remove_stub_if_present(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","proxy"]],$),r).call(a,"unstub",[t],n)},l.$$arity=1,l.$$parameters=[["req","method_name"]]),e.defn(h,"$stub_chain",c=function(){var t,r,a,$,i=this,s=c.$$p,o=s||n,l=arguments.length,u=l-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<l;_++)$[_-0]=arguments[_];return c.$$p=null,(t=(r=i).$perform_proxying,t.$$p=(a=function(t){var r,i;a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"stub_chain")}return(r=(i=m.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,r.$$p=o.$to_proc(),r).apply(i,[t.$object()].concat(e.to_a($)))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","proxy"]],a),t).call(r,"stub_chain",$,o)},c.$$arity=-1,c.$$parameters=[["rest","chain"],["block","block"]]),e.defn(h,"$expect_chain",u=function(){var t,r,a,$,i=this,s=u.$$p,o=s||n,l=arguments.length,c=l-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<l;_++)$[_-0]=arguments[_];return u.$$p=null,(t=(r=i).$perform_proxying,t.$$p=(a=function(t){var r,i;a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"expect_chain")}return(r=(i=m.get("Mocks").$$scope.get("ExpectChain")).$expect_chain_on,r.$$p=o.$to_proc(),r).apply(i,[t.$object()].concat(e.to_a($)))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","proxy"]],a),t).call(r,"expect_chain",$,o)},u.$$arity=-1,u.$$parameters=[["rest","chain"],["block","block"]]),e.defn(h,"$should_receive",_=function(t){var r,a,$,i=this,s=_.$$p,o=s||n;_.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"should_receive"),(r=(a=i).$perform_proxying,r.$$p=($=function(r){var a,i;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"should_receive")}return(a=(i=r).$add_stub,a.$$p=o.$to_proc(),a).call(i,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","proxy"]],$),r).call(a,"should_receive",[t],o)},_.$$arity=1,_.$$parameters=[["req","method_name"],["block","block"]]),e.defn(h,"$should_not_receive",p=function(t){var r,a,$,i=this,s=p.$$p,o=s||n;p.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"should_not_receive"),(r=(a=i).$perform_proxying,r.$$p=($=function(r){var a,i;$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"should_not_receive")}return(a=(i=r).$add_message_expectation,a.$$p=o.$to_proc(),a).call(i,t).$never()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","proxy"]],$),r).call(a,"should_not_receive",[t],o)},p.$$arity=1,p.$$parameters=[["req","method_name"],["block","block"]]),h.$private(),e.defn(h,"$perform_proxying",d=function(r,a,$){var i,s,o,l=this,c=d.$$p,u=c||n,_=n,p=n;d.$$p=null;var h=arguments.length;return 3!==h&&e.ac(h,3,this,"perform_proxying"),_=(i=(s=l.recorder).$__send__,i.$$p=$.$to_proc(),i).apply(s,[r].concat(e.to_a(a))),p=(i=(o=l.target_proxies).$map,i.$$p=u.$to_proc(),i).call(o),m.get("FluentInterfaceProxy").$new(t([_],p))},d.$$arity=3,d.$$parameters=[["req","method_name"],["req","args"],["req","block"],["block","target_proxy_block"]])}(l.base,null),function(t,$super){function a(){}var $,s,o,l,c,u=a=i(t,$super,"FluentInterfaceProxy",a),_=u.$$proto,p=u.$$scope;_.targets=n,e.defn(u,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.targets=t},$.$$arity=1,$.$$parameters=[["req","targets"]]),(s=r(p.get("RUBY_VERSION").$to_f(),1.8))===n||null==s||s.$$is_boolean&&1!=s?e.defn(u,"$respond_to?",l=function(t,r){var a,$,i,s=this,o=l.$$p,c=n,u=n;null==r&&(r=!1),l.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to?"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(a=(i=s,$=e.find_super_dispatcher(s,"respond_to?",l,!1),$.$$p=o,$).apply(i,c))&&a!==n&&null!=a?a:s.targets.$first()["$respond_to?"](t,r)},l.$$arity=-2,l.$$parameters=[["req","method_name"],["opt","include_private"]]):e.defn(u,"$respond_to_missing?",o=function(t,r){var a,$,i,s=this,l=o.$$p,c=n,u=n;null==r&&(r=!1),o.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"respond_to_missing?"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return!1!==(a=(i=s,$=e.find_super_dispatcher(s,"respond_to_missing?",o,!1),$.$$p=l,$).apply(i,c))&&a!==n&&null!=a?a:s.targets.$first()["$respond_to?"](t,r)},o.$$arity=-2,o.$$parameters=[["req","method_name"],["opt","include_private"]]),e.defn(u,"$method_missing",c=function(){var t,r,a,$,i=this,s=c.$$p,o=s||n,l=n,u=arguments.length,_=u-0;_<0&&(_=0),$=new Array(_);for(var d=0;d<u;d++)$[d-0]=arguments[d];return c.$$p=null,l=(t=(r=i.targets).$map,t.$$p=(a=function(t){var r,i;a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"method_missing")}return(r=(i=t).$__send__,r.$$p=o.$to_proc(),r).apply(i,e.to_a($))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","t"]],a),t).call(r),p.get("FluentInterfaceProxy").$new(l)},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]])}(l.base,null)}(l.base)}(l.base)}(a.base)},Opal.modules["rspec/mocks/any_instance/recorder"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$attr_reader","$new","$[]=","$observe!","$add","$message_chains","$to_proc","$normalize_chain","$never","$should_receive","$include?","$to_sym","$raise","$remove_stub_chains_for!","$clear","$[]","$stubs","$has_expectation?","$stop_observing!","$all_expectations_fulfilled?","$join","$sort","$unfulfilled_expectations","$each","$restore_method!","$ensure_registered","$space","$playback!","$received_expected_message!","$super_class_observing?","$each_unfulfilled_expectation_matching","$expectation_fulfilled!","$mark_invoked!","$protected","$delete","$any_instance_recorder_for","$super_class_observers_for","$private","$lambda","$==","$already_observing?","$select","$ancestor_is_an_observer?","$ancestors","$any?","$unshift","$reverse","$map","$split","$to_s","$shift","$first","$public_protected_or_private_method_defined?","$build_alias_method_name","$restore_original_method!","$remove_dummy_method!","$owner","$instance_method","$class_exec","$remove_method","$alias_method","$method_defined_at_any_visibility?","$allow_no_prepended_module_definition_of","$verify_partial_doubles?","$configuration","$<<","$backup_method!","$__send__","$instance_that_received","$class","$object_id","$instance_variable_get","$instance_variables","$module_prepends_supported?","$prepended_modules_of","$find","$method_defined?"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"AnyInstance"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C=a=n(t,$super,"Recorder",a),P=C.$$proto,N=C.$$scope;P.observed_methods=P.expectation_set=P.played_methods=P.klass=r,C.$attr_reader("message_chains","stubs","klass"),e.defn(C,"$initialize",i=function(t){var a,n,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"initialize"),s.message_chains=N.get("MessageChains").$new(),s.stubs=(a=(n=N.get("Hash")).$new,a.$$p=(i=function(t,a){i.$$s;if(null==t&&(t=r),null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"initialize")}return t["$[]="](a,[])},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","hash"],["req","key"]],i),a).call(n),s.observed_methods=[],s.played_methods=$([],{}),s.klass=t,s.expectation_set=!1},i.$$arity=1,i.$$parameters=[["req","klass"]]),e.defn(C,"$stub",s=function(t){var a,n,$=this,i=s.$$p,o=i||r;s.$$p=null;var l=arguments.length;return 1!==l&&e.ac(l,1,this,"stub"),$["$observe!"](t),$.$message_chains().$add(t,(a=(n=N.get("StubChain")).$new,a.$$p=o.$to_proc(),a).call(n,$,t))},s.$$arity=1,s.$$parameters=[["req","method_name"],["block","block"]]),e.defn(C,"$stub_chain",o=function(){var t,a,n,$,i=this,s=o.$$p,l=s||r,c=arguments.length,u=c-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<c;_++)$[_-0]=arguments[_];return o.$$p=null,(t=(a=i).$normalize_chain,t.$$p=(n=function(t,a){var $,i,s=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"stub_chain")}return s["$observe!"](t),s.$message_chains().$add(t,($=(i=N.get("StubChainChain")).$new,$.$$p=l.$to_proc(),$).apply(i,[s].concat(e.to_a(a))))},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","method_name"],["req","args"]],n),t).apply(a,e.to_a($))},o.$$arity=-1,o.$$parameters=[["rest","method_names_and_optional_return_values"],["block","block"]]),e.defn(C,"$expect_chain",l=function(){var t,a,n,$,i=this,s=l.$$p,o=s||r,c=arguments.length,u=c-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<c;_++)$[_-0]=arguments[_];return l.$$p=null,i.expectation_set=!0,(t=(a=i).$normalize_chain,t.$$p=(n=function(t,a){var $,i,s=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"expect_chain")}return s["$observe!"](t),s.$message_chains().$add(t,($=(i=N.get("ExpectChainChain")).$new,$.$$p=o.$to_proc(),$).apply(i,[s].concat(e.to_a(a))))},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","method_name"],["req","args"]],n),t).apply(a,e.to_a($))},l.$$arity=-1,l.$$parameters=[["rest","method_names_and_optional_return_values"],["block","block"]]),e.defn(C,"$should_receive",c=function(t){var a,n,$=this,i=c.$$p,s=i||r;c.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"should_receive"),$.expectation_set=!0,$["$observe!"](t),$.$message_chains().$add(t,(a=(n=N.get("PositiveExpectationChain")).$new,a.$$p=s.$to_proc(),a).call(n,$,t))},c.$$arity=1,c.$$parameters=[["req","method_name"],["block","block"]]),e.defn(C,"$should_not_receive",u=function(t){var a,n,$=this,i=u.$$p,s=i||r;u.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"should_not_receive"),(a=(n=$).$should_receive,a.$$p=s.$to_proc(),a).call(n,t).$never()},u.$$arity=1,u.$$parameters=[["req","method_name"],["block","block"]]),e.defn(C,"$unstub",_=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"unstub"),((a=n.observed_methods["$include?"](t.$to_sym()))===r||null==a||a.$$is_boolean&&1!=a)&&n.$raise(N.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"The method `"+t+"` was not stubbed or was already unstubbed"),n.$message_chains()["$remove_stub_chains_for!"](t),n.$stubs()["$[]"](t).$clear(),(a=n.$message_chains()["$has_expectation?"](t))===r||null==a||a.$$is_boolean&&1!=a?n["$stop_observing!"](t):r},_.$$arity=1,_.$$parameters=[["req","method_name"]]),e.defn(C,"$verify",p=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"verify"),(t=a.expectation_set)===r||null==t||t.$$is_boolean&&1!=t?r:(t=a.$message_chains()["$all_expectations_fulfilled?"]())===r||null==t||t.$$is_boolean&&1!=t?a.$raise(N.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+a.$message_chains().$unfulfilled_expectations().$sort().$join(", ")):r},p.$$arity=0,p.$$parameters=[]),e.defn(C,"$stop_all_observation!",d=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"stop_all_observation!"),(t=(a=$.observed_methods).$each,t.$$p=(n=function(t){var a=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"stop_all_observation!")}return a["$restore_method!"](t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","method_name"]],n),t).call(a)},d.$$arity=0,d.$$parameters=[]),e.defn(C,"$playback!",h=function(t,a){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"playback!"),N.get("RSpec").$$scope.get("Mocks").$space().$ensure_registered(t),$.$message_chains()["$playback!"](t,a),$.played_methods["$[]="](a,t),(n=$.$message_chains()["$has_expectation?"](a))===r||null==n||n.$$is_boolean&&1!=n?r:$["$received_expected_message!"](a)},h.$$arity=2,h.$$parameters=[["req","instance"],["req","method_name"]]),e.defn(C,"$instance_that_received",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_that_received"),r.played_methods["$[]"](t)},f.$$arity=1,f.$$parameters=[["req","method_name"]]),e.defn(C,"$build_alias_method_name",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"build_alias_method_name"),"__"+t+"_without_any_instance__"},m.$$arity=1,m.$$parameters=[["req","method_name"]]),e.defn(C,"$already_observing?",g=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"already_observing?"),!1!==(a=n.observed_methods["$include?"](t))&&a!==r&&null!=a?a:n["$super_class_observing?"](t)},g.$$arity=1,g.$$parameters=[["req","method_name"]]),e.defn(C,"$notify_received_message",b=function(t,a,n){var $,i,s,o=this,l=r,c=arguments.length;return 4!==c&&e.ac(c,4,this,"notify_received_message"),
l=!1,($=(i=o.$message_chains()).$each_unfulfilled_expectation_matching,$.$$p=(s=function(t){s.$$s;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"notify_received_message")}return l=!0,t["$expectation_fulfilled!"]()},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","expectation"]],s),$).apply(i,[a].concat(e.to_a(n))),!1===l||l===r||null==l?r:(o["$restore_method!"](a),o["$mark_invoked!"](a))},b.$$arity=4,b.$$parameters=[["req","_object"],["req","message"],["req","args"],["req","_blk"]]),C.$protected(),e.defn(C,"$stop_observing!",v=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"stop_observing!"),i["$restore_method!"](t),i.observed_methods.$delete(t),(a=(n=i.$super_class_observers_for(t)).$each,a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"stop_observing!")}return e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(a)["$stop_observing!"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","ancestor"]],$),a).call(n)},v.$$arity=1,v.$$parameters=[["req","method_name"]]),C.$private(),e.defn(C,"$ancestor_is_an_observer?",y=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"ancestor_is_an_observer?"),(a=(n=i).$lambda,a.$$p=($=function(a){var n=$.$$s||this;if(null==n.klass&&(n.klass=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"ancestor_is_an_observer?")}return a["$=="](n.klass)?r:e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(a)["$already_observing?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","ancestor"]],$),a).call(n)},y.$$arity=1,y.$$parameters=[["req","method_name"]]),e.defn(C,"$super_class_observers_for",x=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"super_class_observers_for"),(r=(a=n.klass.$ancestors()).$select,r.$$p=n["$ancestor_is_an_observer?"](t).$to_proc(),r).call(a)},x.$$arity=1,x.$$parameters=[["req","method_name"]]),e.defn(C,"$super_class_observing?",k=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"super_class_observing?"),(r=(a=n.klass.$ancestors())["$any?"],r.$$p=n["$ancestor_is_an_observer?"](t).$to_proc(),r).call(a)},k.$$arity=1,k.$$parameters=[["req","method_name"]]),e.defn(C,"$normalize_chain",w=function(){var t,a,n,$,i,s,o,l=this,c=w.$$p,u=c||r,_=arguments.length,p=_-0;p<0&&(p=0),o=new Array(p);for(var d=0;d<_;d++)o[d-0]=arguments[d];return w.$$p=null,(t=(a=($=(i=o.$shift().$to_s().$split(".")).$map,$.$$p=(s=function(t){s.$$s;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"normalize_chain")}return t.$to_sym()},s.$$s=l,s.$$arity=1,s.$$parameters=[["req","s"]],s),$).call(i).$reverse()).$each,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"normalize_chain")}return o.$unshift(t)},n.$$s=l,n.$$arity=1,n.$$parameters=[["req","a"]],n),t).call(a),e.yieldX(u,[o.$first(),o])},w.$$arity=-1,w.$$parameters=[["rest","args"]]),e.defn(C,"$received_expected_message!",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"received_expected_message!"),r.$message_chains()["$received_expected_message!"](t),r["$restore_method!"](t),r["$mark_invoked!"](t)},q.$$arity=1,q.$$parameters=[["req","method_name"]]),e.defn(C,"$restore_method!",S=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"restore_method!"),(a=n["$public_protected_or_private_method_defined?"](n.$build_alias_method_name(t)))===r||null==a||a.$$is_boolean&&1!=a?n["$remove_dummy_method!"](t):n["$restore_original_method!"](t)},S.$$arity=1,S.$$parameters=[["req","method_name"]]),e.defn(C,"$restore_original_method!",E=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"restore_original_method!"),i.klass.$instance_method(t).$owner()["$=="](i.klass)?(s=i.$build_alias_method_name(t),(a=(n=i.klass).$class_exec,a.$$p=($=function(){var r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"restore_original_method!")}return r.$remove_method(t),r.$alias_method(t,s),r.$remove_method(s)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n)):r},E.$$arity=1,E.$$parameters=[["req","method_name"]]),e.defn(C,"$remove_dummy_method!",R=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"remove_dummy_method!"),(r=(a=$.klass).$class_exec,r.$$p=(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"remove_dummy_method!")}return r.$remove_method(t)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a)},R.$$arity=1,R.$$parameters=[["req","method_name"]]),e.defn(C,"$backup_method!",O=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"backup_method!"),s=i.$build_alias_method_name(t),(a=i["$public_protected_or_private_method_defined?"](t))===r||null==a||a.$$is_boolean&&1!=a?r:(a=(n=i.klass).$class_exec,a.$$p=($=function(){var r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"backup_method!")}return r.$alias_method(s,t)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n)},O.$$arity=1,O.$$parameters=[["req","method_name"]]),e.defn(C,"$public_protected_or_private_method_defined?",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"public_protected_or_private_method_defined?"),N.get("MethodReference")["$method_defined_at_any_visibility?"](r.klass,t)},M.$$arity=1,M.$$parameters=[["req","method_name"]]),e.defn(C,"$observe!",A=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"observe!"),i.$allow_no_prepended_module_definition_of(t),(a=N.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==a||a.$$is_boolean&&1!=a||((a=i["$public_protected_or_private_method_defined?"](t))===r||null==a||a.$$is_boolean&&1!=a)&&i.$raise(N.get("MockExpectationError"),i.klass+" does not implement #"+t),(a=i["$already_observing?"](t))===r||null==a||a.$$is_boolean&&1!=a||i["$stop_observing!"](t),i.observed_methods["$<<"](t),i["$backup_method!"](t),s=i,(a=(n=i.klass).$__send__,a.$$p=($=function(){var a,n,i,o,l=$.$$s||this;a=$.$$p||r,$.$$p=null;var c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];return s["$playback!"](l,t),(i=(o=l).$__send__,i.$$p=a.$to_proc(),i).apply(o,[t].concat(e.to_a(n)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","blk"]],$),a).call(n,"define_method",t)},A.$$arity=1,A.$$parameters=[["req","method_name"]]),e.defn(C,"$mark_invoked!",z=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"mark_invoked!"),i["$backup_method!"](t),s=i,(a=(n=i.klass).$__send__,a.$$p=($=function(){var a,n,i,o,l=$.$$s||this,c=r,u=r;$.$$p,$.$$p=null;var _=arguments.length,p=_-0;p<0&&(p=0),a=new Array(p);for(var d=0;d<_;d++)a[d-0]=arguments[d];return c=s.$instance_that_received(t),u="#<"+l.$class()+":"+l.$object_id()+" "+(n=(i=l.$instance_variables()).$map,n.$$p=(o=function(t){var a=o.$$s||this;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"mark_invoked!")}return t+"="+a.$instance_variable_get(t)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","name"]],o),n).call(i).$join(", ")+">",l.$raise(N.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"The message '"+t+"' was received by "+u+" but has already been received by "+c)},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","_args"],["block","_blk"]],$),a).call(n,"define_method",t)},z.$$arity=1,z.$$parameters=[["req","method_name"]]),(j=N.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==j||j.$$is_boolean&&1!=j?e.defn(C,"$allow_no_prepended_module_definition_of",I=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"allow_no_prepended_module_definition_of"),r},I.$$arity=1,I.$$parameters=[["req","_method_name"]]):e.defn(C,"$allow_no_prepended_module_definition_of",T=function(t){var a,n,$,i=this,s=r,o=r,l=arguments.length;return 1!==l&&e.ac(l,1,this,"allow_no_prepended_module_definition_of"),s=N.get("RSpec").$$scope.get("Mocks").$$scope.get("Proxy").$prepended_modules_of(i.klass),o=(a=(n=s).$find,a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"allow_no_prepended_module_definition_of")}return a["$method_defined?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","mod"]],$),a).call(n),!1===o||o===r||null==o?r:i.$raise(N.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Using `any_instance` to stub a method ("+t+") that has been defined on a prepended module ("+o+") is not supported.")},T.$$arity=1,T.$$parameters=[["req","method_name"]])}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/stub_chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$private","$proxy_for","$space","$merge","$add_stub","$to_proc","$<<","$[]","$stubs","$message","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation","$include?","$invocation_order","$last_message","$raise"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"AnyInstance"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c=a=n(t,$super,"StubChain",a),u=c.$$proto,_=c.$$scope;u.expectation_args=u.expectation_block=u.recorder=u.invocation_order=r,e.defn(c,"$expectation_fulfilled?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expectation_fulfilled?"),!0},i.$$arity=0,i.$$parameters=[]),c.$private(),e.defn(c,"$create_message_expectation_on",s=function(t){var a,n,i=this,s=r,o=r,l=r,c=r,u=arguments.length;return 1!==u&&e.ac(u,1,this,"create_message_expectation_on"),s=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),n=i.expectation_args,a=e.to_ary(n),o=null==a[0]?r:a[0],l=null==a[1]?r:a[1],l=(!1!==(a=l)&&a!==r&&null!=a?a:$([],{})).$merge($(["expected_form"],{expected_form:_.get("IGNORED_BACKTRACE_LINE")})),c=(a=(n=s).$add_stub,a.$$p=i.expectation_block.$to_proc(),a).call(n,o,l),i.recorder.$stubs()["$[]"](c.$message())["$<<"](c),(a=_.get("RSpec").$$scope.get("Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===r||null==a||a.$$is_boolean&&1!=a||c.$and_yield_receiver_to_implementation(),c},s.$$arity=1,s.$$parameters=[["req","instance"]]),e.defn(c,"$invocation_order",o=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),!1!==(t=a.invocation_order)&&t!==r&&null!=t?t:a.invocation_order=$(["with","and_return","and_raise","and_yield","and_call_original"],{"with":[r],and_return:["with",r],and_raise:["with",r],and_yield:["with",r],and_call_original:["with",r]})},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$verify_invocation_order",l=function(t){var a,n,$=this,i=(l.$$p,arguments.length),s=i-1;s<0&&(s=0),n=new Array(s);for(var o=1;o<i;o++)n[o-1]=arguments[o];l.$$p=null;var c=arguments.length;return c<1&&e.ac(c,-2,this,"verify_invocation_order"),(a=$.$invocation_order()["$[]"](t)["$include?"]($.$last_message()))===r||null==a||a.$$is_boolean&&1!=a?$.$raise(_.get("NoMethodError"),"Undefined method "+t):r},l.$$arity=-2,l.$$parameters=[["req","rspec_method_name"],["rest","_args"],["block","_block"]])}(o.base,o.get("Chain"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/stub_chain_chain"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$private","$stub_chain_on","$to_proc"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"AnyInstance"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l=a=n(t,$super,"StubChainChain",a),c=l.$$proto;l.$$scope;c.expectation_block=c.expectation_args=c.invocation_order=r,e.defn(l,"$initialize",i=function(){var t,a,n,$=this,s=i.$$p,o=r,l=r,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];for(i.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(a=$,t=e.find_super_dispatcher($,"initialize",i,!1),t.$$p=s,t).apply(a,o),$.expectation_fulfilled=!1},i.$$arity=-1,i.$$parameters=[["rest","args"]]),l.$private(),e.defn(l,"$create_message_expectation_on",s=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"create_message_expectation_on"),(r=(a=e.get("RSpec").$$scope.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,r.$$p=n.expectation_block.$to_proc(),r).apply(a,[t].concat(e.to_a(n.expectation_args)))},s.$$arity=1,s.$$parameters=[["req","instance"]]),e.defn(l,"$invocation_order",o=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),!1!==(t=a.invocation_order)&&t!==r&&null!=t?t:a.invocation_order=$(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},o.$$arity=0,o.$$parameters=[])}(o.base,o.get("StubChain"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/support/matcher_definition"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$<<","$matcher_definitions","$delete","$any?","$call"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o,l=n=a(t,"Support");l.$$proto,l.$$scope;e.defs(l,"$matcher_definitions",$=function(){var t,a=this;null==a.matcher_definitions&&(a.matcher_definitions=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"matcher_definitions"),!1!==(t=a.matcher_definitions)&&t!==r&&null!=t?t:a.matcher_definitions=[]},$.$$arity=0,$.$$parameters=[]),e.defs(l,"$register_matcher_definition",i=function(){var t=this,a=i.$$p,n=a||r;i.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"register_matcher_definition"),t.$matcher_definitions()["$<<"](n)},i.$$arity=0,i.$$parameters=[["block","block"]]),e.defs(l,"$deregister_matcher_definition",s=function(){var t=this,a=s.$$p,n=a||r;s.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"deregister_matcher_definition"),t.$matcher_definitions().$delete(n)},s.$$arity=0,s.$$parameters=[["block","block"]]),e.defs(l,"$is_a_matcher?",o=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"is_a_matcher?"),(a=(n=i.$matcher_definitions())["$any?"],a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"is_a_matcher?")}return a.$call(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","md"]],$),a).call(n)},o.$$arity=1,o.$$parameters=[["req","object"]])}(i.base)}(t.base)},Opal.modules["rspec/mocks/argument_matchers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.hash2,s=e.klass;return e.add_stubs(["$require","$new","$anythingize_lonely_keys","$===","$first","$==","$count","$alias_method","$class","$last","$delete_at","$each","$[]=","$__send__","$key?","$values_match?","$[]","$sub","$inspect","$superset?","$join","$all?","$respond_to?","$map","$to_proc","$instance_of?","$name","$kind_of?","$+","$register_matcher_definition","$include?"]),r.$require("rspec/support/matcher_definition"),function(r){var a,o=a=$(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var a,o=a=$(r,"Mocks"),l=(o.$$proto,o.$$scope);!function(r){var a,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=a=$(r,"ArgumentMatchers"),k=(x.$$proto,x.$$scope),w=n;e.defn(x,"$any_args",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"any_args"),k.get("AnyArgsMatcher").$new()},o.$$arity=0,o.$$parameters=[]),e.defn(x,"$anything",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"anything"),k.get("AnyArgMatcher").$new()},l.$$arity=0,l.$$parameters=[]),e.defn(x,"$no_args",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"no_args"),k.get("NoArgsMatcher").$new()},c.$$arity=0,c.$$parameters=[]),e.defn(x,"$duck_type",u=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=k.get("DuckTypeMatcher")).$new.apply(t,e.to_a(r))},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(x,"$boolean",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"boolean"),k.get("BooleanMatcher").$new()},_.$$arity=0,_.$$parameters=[]),e.defn(x,"$hash_including",p=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return k.get("HashIncludingMatcher").$new((t=k.get("ArgumentMatchers")).$anythingize_lonely_keys.apply(t,e.to_a(r)))},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(x,"$array_including",d=function(){var e,t,r,a=n,$=arguments.length,i=$-0;i<0&&(i=0),r=new Array(i);for(var s=0;s<$;s++)r[s-0]=arguments[s];return a=function(){return t=k.get("Array")["$==="](r.$first()),(e=!1!==t&&t!==n&&null!=t?r.$count()["$=="](1):t)===n||null==e||e.$$is_boolean&&1!=e?r:r.$first()}(),k.get("ArrayIncludingMatcher").$new(a)},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(x,"$hash_excluding",h=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return k.get("HashExcludingMatcher").$new((t=k.get("ArgumentMatchers")).$anythingize_lonely_keys.apply(t,e.to_a(r)))},h.$$arity=-1,h.$$parameters=[["rest","args"]]),x.$alias_method("hash_not_including","hash_excluding"),e.defn(x,"$instance_of",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"instance_of"),k.get("InstanceOf").$new(t)},f.$$arity=1,f.$$parameters=[["req","klass"]]),x.$alias_method("an_instance_of","instance_of"),e.defn(x,"$kind_of",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"kind_of"),k.get("KindOf").$new(t)},m.$$arity=1,m.$$parameters=[["req","klass"]]),x.$alias_method("a_kind_of","kind_of"),e.defs(x,"$anythingize_lonely_keys",g=function(){var t,r,a,$,s=this,o=n,l=arguments.length,c=l-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<l;u++)$[u-0]=arguments[u];return o=function(){return $.$last().$class()["$=="](k.get("Hash"))?$.$delete_at(-1):i([],{})}(),(t=(r=$).$each,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"anythingize_lonely_keys")}return o["$[]="](t,k.get("AnyArgMatcher").$new())},a.$$s=s,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r),o},g.$$arity=-1,g.$$parameters=[["rest","args"]]),function(t,$super){function r(){}var a,n=r=s(t,$super,"AnyArgsMatcher",r);n.$$proto,n.$$scope;e.defn(n,"$description",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"any args"},a.$$arity=0,a.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,n,$=r=s(t,$super,"AnyArgMatcher",r);$.$$proto,$.$$scope;e.defn($,"$===",a=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"==="),!0},a.$$arity=1,a.$$parameters=[["req","_other"]]),e.defn($,"$description",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"anything"},n.$$arity=0,n.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,n=r=s(t,$super,"NoArgsMatcher",r);n.$$proto,n.$$scope;e.defn(n,"$description",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"no args"},a.$$arity=0,a.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,$,i=r=s(t,$super,"BooleanMatcher",r);i.$$proto,i.$$scope;e.defn(i,"$===",a=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),!1!==(r=(!0)["$=="](t))&&r!==n&&null!=r?r:(!1)["$=="](t)},a.$$arity=1,a.$$parameters=[["req","value"]]),e.defn(i,"$description",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"boolean"},$.$$arity=0,$.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,$,i,o=r=s(t,$super,"BaseHashMatcher",r),l=o.$$proto,c=o.$$scope;l.expected=n,e.defn(o,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t},a.$$arity=1,a.$$parameters=[["req","expected"]]),e.defn(o,"$===",$=function(t,r){var a,$,i,s=this,o=arguments.length;2!==o&&e.ac(o,2,this,"===");try{return(a=($=s.expected).$__send__,a.$$p=(i=function(t,a){var $;i.$$s;if(null==t&&(t=n),null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"===")}return $=r["$key?"](t),!1!==$&&$!==n&&null!=$?c.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](a,r["$[]"](t)):$},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","k"],["req","v"]],i),a).call($,t)}catch(t){if(!e.rescue(t,[c.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},$.$$arity=2,$.$$parameters=[["req","predicate"],["req","actual"]]),e.defn(o,"$description",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"description"),t+"("+r.expected.$inspect().$sub(/^\{/,"").$sub(/\}$/,"")+")"},i.$$arity=1,i.$$parameters=[["req","name"]])}(k.base,null),function(t,$super){function r(){}var a,n,$=r=s(t,$super,"HashIncludingMatcher",r);$.$$proto,$.$$scope;e.defn($,"$===",a=function(t){var r,n,$=this;a.$$p;a.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"==="),(n=$,r=e.find_super_dispatcher($,"===",a,!1),r.$$p=null,r).call(n,"all?",t)},a.$$arity=1,a.$$parameters=[["req","actual"]]),e.defn($,"$description",n=function(){var t,r,a=this;n.$$p;n.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"description"),(r=a,t=e.find_super_dispatcher(a,"description",n,!1),t.$$p=null,t).call(r,"hash_including")},n.$$arity=0,n.$$parameters=[])}(k.base,k.get("BaseHashMatcher")),function(t,$super){function r(){}var a,n,$=r=s(t,$super,"HashExcludingMatcher",r);$.$$proto,$.$$scope;e.defn($,"$===",a=function(t){var r,n,$=this;a.$$p;a.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"==="),(n=$,r=e.find_super_dispatcher($,"===",a,!1),r.$$p=null,r).call(n,"none?",t)},a.$$arity=1,a.$$parameters=[["req","actual"]]),e.defn($,"$description",n=function(){var t,r,a=this;n.$$p;n.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"description"),(r=a,t=e.find_super_dispatcher(a,"description",n,!1),t.$$p=null,t).call(r,"hash_not_including")},n.$$arity=0,n.$$parameters=[])}(k.base,k.get("BaseHashMatcher")),function(t,$super){function r(){}var a,$,i,o=r=s(t,$super,"ArrayIncludingMatcher",r),l=o.$$proto,c=o.$$scope;l.expected=n,e.defn(o,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t},a.$$arity=1,a.$$parameters=[["req","expected"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),c.get("Set").$new(t)["$superset?"](c.get("Set").$new(r.expected))},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"array_including("+t.expected.$join(", ")+")"},i.$$arity=0,i.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,$,i,o=r=s(t,$super,"DuckTypeMatcher",r),l=o.$$proto;o.$$scope;l.methods_to_respond_to=n,e.defn(o,"$initialize",a=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.methods_to_respond_to=e},a.$$arity=-1,a.$$parameters=[["rest","methods_to_respond_to"]]),e.defn(o,"$===",$=function(t){var r,a,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"==="),(r=(a=i.methods_to_respond_to)["$all?"],r.$$p=($=function(r){$.$$s;if(null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"===")}return t["$respond_to?"](r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","message"]],$),r).call(a)},$.$$arity=1,$.$$parameters=[["req","value"]]),e.defn(o,"$description",i=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),"duck_type("+(t=(r=a.methods_to_respond_to).$map,t.$$p="inspect".$to_proc(),t).call(r).$join(", ")+")"},i.$$arity=0,i.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,$,i,o=r=s(t,$super,"InstanceOf",r),l=o.$$proto;o.$$scope;l.klass=n,e.defn(o,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.klass=t},a.$$arity=1,a.$$parameters=[["req","klass"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),t["$instance_of?"](r.klass)},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"an_instance_of("+t.klass.$name()+")"},i.$$arity=0,i.$$parameters=[])}(k.base,null),function(t,$super){function r(){}var a,$,i,o=r=s(t,$super,"KindOf",r),l=o.$$proto;o.$$scope;l.klass=n,e.defn(o,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.klass=t},a.$$arity=1,a.$$parameters=[["req","klass"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),t["$kind_of?"](r.klass)},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"kind of "+t.klass.$name()},i.$$arity=0,i.$$parameters=[])}(k.base,null),w=t(x.$name(),"::"),(b=(v=e.get("RSpec").$$scope.get("Support")).$register_matcher_definition,b.$$p=(y=function(t){y.$$s;if(null==t&&(t=n),y.$$is_lambda||y.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:ArgumentMatchers>")}try{return t.$class().$name()["$include?"](w)}catch(t){if(!e.rescue(t,[k.get("NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},y.$$s=x,y.$$arity=1,y.$$parameters=[["req","object"]],y),b).call(v)}(l.base)}(l.base)}(a.base)},Opal.modules["rspec/support/fuzzy_matcher"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$!","$arrays_match?","$to_a","$hashes_match?","$==","$!=","$size","$all?","$values_match?","$zip","$fetch","$private_class_method"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=a(t,"Support"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o=n=a(t,"FuzzyMatcher"),l=(o.$$proto,o.$$scope);e.defs(o,"$values_match?",$=function(t,a){var n,$,i,s=this,o=arguments.length;if(2!==o&&e.ac(o,2,this,"values_match?"),i=l.get("Array")["$==="](t),$=!1!==i&&i!==r&&null!=i?l.get("Enumerable")["$==="](a):i,!((n=!1!==$&&$!==r&&null!=$?l.get("Struct")["$==="](a)["$!"]():$)===r||null==n||n.$$is_boolean&&1!=n))return s["$arrays_match?"](t,a.$to_a());if($=l.get("Hash")["$==="](t),!((n=!1!==$&&$!==r&&null!=$?l.get("Hash")["$==="](a):$)===r||null==n||n.$$is_boolean&&1!=n))return s["$hashes_match?"](t,a);if(a["$=="](t))return!0;try{return t["$==="](a)}catch(t){if(!e.rescue(t,[l.get("ArgumentError")]))throw t;try{return!1}finally{e.pop_exception()}}},$.$$arity=2,$.$$parameters=[["req","expected"],["req","actual"]]),e.defs(o,"$arrays_match?",i=function(t,a){var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"arrays_match?"),!!((n=t.$size()["$!="](a.$size()))===r||null==n||n.$$is_boolean&&1!=n)&&(n=($=t.$zip(a))["$all?"],n.$$p=(i=function(t,a){var n=i.$$s||this;if(null==t&&(t=r),null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"arrays_match?")}return n["$values_match?"](t,a)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","expected"],["req","actual"]],i),n).call($)},i.$$arity=2,i.$$parameters=[["req","expected_list"],["req","actual_list"]]),e.defs(o,"$hashes_match?",s=function(t,a){try{var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"hashes_match?"),!!((n=t.$size()["$!="](a.$size()))===r||null==n||n.$$is_boolean&&1!=n)&&(n=($=t)["$all?"],n.$$p=(i=function(t,n){var $,s,o,l=i.$$s||this,c=r;if(null==t&&(t=r),null==n&&(n=r),i.$$is_lambda||i.$$define_meth){var u=arguments.length;2!==u&&e.block_ac(u,2,"hashes_match?")}return c=($=(s=a).$fetch,$.$$p=(o=function(){o.$$s;if(o.$$is_lambda||o.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"hashes_match?")}e.ret(!1)},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),$).call(s,t),l["$values_match?"](n,c)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","expected_key"],["req","expected_value"]],i),n).call($)}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=2,s.$$parameters=[["req","expected_hash"],["req","actual_hash"]]),o.$private_class_method("arrays_match?","hashes_match?")}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/mocks/argument_list_matcher"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require","$attr_reader","$first","$===","$values_match?","$new"]),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/support/fuzzy_matcher"),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var n,i,s=r=$(t,$super,"ArgumentListMatcher",r),o=s.$$proto,l=s.$$scope;o.matchers=a,s.$attr_reader("expected_args"),e.defn(s,"$initialize",n=function(){var e,t=this,r=a,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var i=0;i<n;i++)e[i-0]=arguments[i];return t.expected_args=e,t.matchers=function(){return r=e.$first(),l.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](r)?l.get("Array"):l.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](r)?[]:e}()},n.$$arity=-1,n.$$parameters=[["rest","expected_args"]]),e.defn(s,"$args_match?",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return l.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](t.matchers,e)},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.cdecl(l,"MATCH_ALL",s.$new(l.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher").$new()))}(s.base,null)}(s.base)}(r.base)},Opal.modules["rspec/mocks/configuration"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$attr_writer","$each","$enable_should","$flatten","$include?","$enable_expect","$disable_expect","$disable_should","$should_enabled?","$<<","$expect_enabled?","$!","$patch!","$unpatch!","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default","$configuration"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s=$=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_,p,d,h,f=a=n(t,$super,"Configuration",a),m=f.$$proto,g=f.$$scope;m.yield_receiver_to_any_instance_implementation_blocks=m.verify_doubled_constant_names=m.transfer_nested_constants=m.verify_partial_doubles=r,e.defn(f,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.yield_receiver_to_any_instance_implementation_blocks=!0,t.verify_doubled_constant_names=!1,t.transfer_nested_constants=!1,t.verify_partial_doubles=!1},$.$$arity=0,$.$$parameters=[]),e.defn(f,"$yield_receiver_to_any_instance_implementation_blocks?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"yield_receiver_to_any_instance_implementation_blocks?"),t.yield_receiver_to_any_instance_implementation_blocks},i.$$arity=0,i.$$parameters=[]),f.$attr_writer("yield_receiver_to_any_instance_implementation_blocks"),e.defn(f,"$add_stub_and_should_receive_to",s=function(){var t,a,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(a=$).$each,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"add_stub_and_should_receive_to")}return g.get("Syntax").$enable_should(t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","mod"]],n),t).call(a)},s.$$arity=-1,s.$$parameters=[["rest","modules"]]),e.defn(f,"$syntax=",o=function(){var e,t,a=r,n=arguments.length,$=n-0;$<0&&($=0),t=new Array($);for(var i=0;i<n;i++)t[i-0]=arguments[i];return a=t.$flatten(),(e=a["$include?"]("expect"))===r||null==e||e.$$is_boolean&&1!=e?g.get("Syntax").$disable_expect():g.get("Syntax").$enable_expect(),(e=a["$include?"]("should"))===r||null==e||e.$$is_boolean&&1!=e?g.get("Syntax").$disable_should():g.get("Syntax").$enable_should()},o.$$arity=-1,o.$$parameters=[["rest","values"]]),e.defn(f,"$syntax",l=function(){var t,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"syntax"),a=[],(t=g.get("Syntax")["$should_enabled?"]())===r||null==t||t.$$is_boolean&&1!=t||a["$<<"]("should"),
(t=g.get("Syntax")["$expect_enabled?"]())===r||null==t||t.$$is_boolean&&1!=t||a["$<<"]("expect"),a},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$verify_doubled_constant_names?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify_doubled_constant_names?"),t.verify_doubled_constant_names["$!"]()["$!"]()},c.$$arity=0,c.$$parameters=[]),f.$attr_writer("verify_doubled_constant_names"),e.defn(f,"$transfer_nested_constants?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"transfer_nested_constants?"),t.transfer_nested_constants["$!"]()["$!"]()},u.$$arity=0,u.$$parameters=[]),f.$attr_writer("transfer_nested_constants"),e.defn(f,"$verify_partial_doubles=",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"verify_partial_doubles="),r.verify_partial_doubles=t["$!"]()["$!"]()},_.$$arity=1,_.$$parameters=[["req","val"]]),e.defn(f,"$verify_partial_doubles?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify_partial_doubles?"),t.verify_partial_doubles},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$patch_marshal_to_support_partial_doubles=",d=function(t){var a=arguments.length;return 1!==a&&e.ac(a,1,this,"patch_marshal_to_support_partial_doubles="),!1!==t&&t!==r&&null!=t?g.get("RSpec").$$scope.get("Mocks").$$scope.get("MarshalExtension")["$patch!"]():g.get("RSpec").$$scope.get("Mocks").$$scope.get("MarshalExtension")["$unpatch!"]()},d.$$arity=1,d.$$parameters=[["req","val"]]),e.defn(f,"$reset_syntaxes_to_default",h=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"reset_syntaxes_to_default"),t=[["should","expect"]],r=a,r["$syntax="].apply(r,t),t[t.length-1],g.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax")["$warn_about_should!"]()},h.$$arity=0,h.$$parameters=[])}(o.base,null),e.defs(s,"$configuration",i=function(){var t,a=this;null==a.configuration&&(a.configuration=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configuration"),!1!==(t=a.configuration)&&t!==r&&null!=t?t:a.configuration=o.get("Configuration").$new()},i.$$arity=0,i.$$parameters=[]),s.$configuration().$reset_syntaxes_to_default()}(s.base)}(t.base)},Opal.modules["rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass,o=e.hash2;return e.add_stubs(["$new","$attr_writer","$__raise","$intro","$arg_message","$format_args","$expected_args","$format_received_args","$inspect","$message","$join","$map","$expected_part_of_expectation_error","$received_part_of_expectation_error","$%","$description","$raise","$error_message","$+","$count_message","$actual_method_call_args_description","$expected_method_call_args_description","$method_call_args_description","$>","$length","$gsub","$first","$===","$arg_list","$private","$nil?","$[]","$opts","$empty?","$arg_has_valid_description","$respond_to?","$!","$received_arg_list","$to_proc","$<","$==","$times","$abs"]),function(n){var l,c=l=i(n,"RSpec"),u=(c.$$proto,c.$$scope);!function(n){var l,c=l=i(n,"Mocks"),u=(c.$$proto,c.$$scope);e.cdecl(u,"MockExpectationError",u.get("Class").$new(u.get("Exception"))),e.cdecl(u,"ExpiredTestDoubleError",u.get("Class").$new(u.get("MockExpectationError"))),e.cdecl(u,"OutsideOfExampleError",u.get("Class").$new(u.get("StandardError"))),e.cdecl(u,"UnsupportedMatcherError",u.get("Class").$new(u.get("StandardError"))),e.cdecl(u,"NegationUnsupportedError",u.get("Class").$new(u.get("StandardError"))),e.cdecl(u,"VerifyingDoubleNotDefinedError",u.get("Class").$new(u.get("StandardError"))),function(n,$super){function i(){}var l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U=i=s(n,$super,"ErrorGenerator",i),G=U.$$proto,Y=U.$$scope;G.opts=G.name=G.target=$,U.$attr_writer("opts"),e.defn(U,"$initialize",l=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.target=t,a.name=r},l.$$arity=2,l.$$parameters=[["req","target"],["req","name"]]),e.defn(U,"$opts",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"opts"),!1!==(t=r.opts)&&t!==$&&null!=t?t:r.opts=o([],{})},c.$$arity=0,c.$$parameters=[]),e.defn(U,"$raise_unexpected_message_error",u=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_unexpected_message_error"),n.$__raise(n.$intro()+" received unexpected message :"+t+(r=n).$arg_message.apply(r,e.to_a(a)))},u.$$arity=-2,u.$$parameters=[["req","message"],["rest","args"]]),e.defn(U,"$raise_unexpected_message_args_error",_=function(t){var r,a,n,i=this,s=$,o=$,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];var _=arguments.length;return _<1&&e.ac(_,-2,this,"raise_unexpected_message_args_error"),s=(r=i).$format_args.apply(r,e.to_a(t.$expected_args())),o=(a=i).$format_received_args.apply(a,e.to_a(n)),i.$__raise(i.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+s+"\n       got: "+o)},_.$$arity=-2,_.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(U,"$raise_missing_default_stub_error",p=function(t){var r,a,n,i=this,s=$,o=$,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];var _=arguments.length;return _<1&&e.ac(_,-2,this,"raise_missing_default_stub_error"),s=(r=i).$format_args.apply(r,e.to_a(t.$expected_args())),o=(a=i).$format_received_args.apply(a,e.to_a(n)),i.$__raise(i.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+s+"\n       got: "+o+"\n Please stub a default value first if message might be received with other args as well. \n")},p.$$arity=-2,p.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(U,"$raise_similar_message_args_error",d=function(t){var r,a,n,i,s,o=this,l=$,c=$,u=arguments.length,_=u-1;_<0&&(_=0),s=new Array(_);for(var p=1;p<u;p++)s[p-1]=arguments[p];var d=arguments.length;return d<1&&e.ac(d,-2,this,"raise_similar_message_args_error"),l=(r=o).$format_args.apply(r,e.to_a(t.$expected_args())),c=(a=(n=s).$map,a.$$p=(i=function(t){var r,a=i.$$s||this;if(null==t&&(t=$),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"raise_similar_message_args_error")}return(r=a).$format_received_args.apply(r,e.to_a(t))},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","a"]],i),a).call(n).$join(", "),o.$__raise(o.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+l+"\n       got: "+c)},d.$$arity=-2,d.$$parameters=[["req","expectation"],["rest","args_for_multiple_calls"]]),e.defn(U,"$raise_expectation_error",h=function(t,r,a,n,i){var s,o,l,c=this,u=$,_=$,p=arguments.length,d=p-5;d<0&&(d=0),l=new Array(d);for(var h=5;h<p;h++)l[h-5]=arguments[h];var f=arguments.length;return f<5&&e.ac(f,-6,this,"raise_expectation_error"),u=c.$expected_part_of_expectation_error(r,i,a),_=(s=c).$received_part_of_expectation_error.apply(s,[n].concat(e.to_a(l))),c.$__raise("("+c.$intro()+")."+t+(o=c).$format_args.apply(o,e.to_a(l))+"\n    "+u+"\n    "+_)},h.$$arity=-6,h.$$parameters=[["req","message"],["req","expected_received_count"],["req","argument_list_matcher"],["req","actual_received_count"],["req","expectation_count_type"],["rest","args"]]),e.defn(U,"$raise_unimplemented_error",f=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_unimplemented_error"),a.$__raise("%s does not implement: %s"["$%"]([t.$description(),r]))},f.$$arity=2,f.$$parameters=[["req","doubled_module"],["req","method_name"]]),e.defn(U,"$raise_non_public_error",m=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_non_public_error"),a.$raise(Y.get("NoMethodError"),"%s method `%s' called on %s"["$%"]([r,t,a.$intro()]))},m.$$arity=2,m.$$parameters=[["req","method_name"],["req","visibility"]]),e.defn(U,"$raise_invalid_arguments_error",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_invalid_arguments_error"),r.$__raise(t.$error_message())},g.$$arity=1,g.$$parameters=[["req","verifier"]]),e.defn(U,"$raise_expired_test_double_error",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_expired_test_double_error"),t.$raise(Y.get("ExpiredTestDoubleError"),t.$intro()+" was originally created in one example but has leaked into another example and can no longer be used. rspec-mocks' doubles are designed to only last for one example, and you need to create a new one in each example you wish to use it for.")},b.$$arity=0,b.$$parameters=[]),e.defn(U,"$received_part_of_expectation_error",v=function(r){var a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"received_part_of_expectation_error"),t("received: "+n.$count_message(r),n.$actual_method_call_args_description(r,a))},v.$$arity=-2,v.$$parameters=[["req","actual_received_count"],["rest","args"]]),e.defn(U,"$expected_part_of_expectation_error",y=function(r,a,n){var $=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"expected_part_of_expectation_error"),t("expected: "+$.$count_message(r,a),$.$expected_method_call_args_description(n.$expected_args()))},y.$$arity=3,y.$$parameters=[["req","expected_received_count"],["req","expectation_count_type"],["req","argument_list_matcher"]]),e.defn(U,"$actual_method_call_args_description",x=function(t,a){var n,i,s,o=this,l=arguments.length;return 2!==l&&e.ac(l,2,this,"actual_method_call_args_description"),!1!==(n=o.$method_call_args_description(a))&&n!==$&&null!=n?n:function(){return s=r(t,0),(i=!1!==s&&s!==$&&null!=s?r(a.$length(),0):s)===$||null==i||i.$$is_boolean&&1!=i?"":" with arguments: "+a.$inspect().$gsub(/\A\[(.+)\]\z/,"(\\1)")}()},x.$$arity=2,x.$$parameters=[["req","count"],["req","args"]]),e.defn(U,"$expected_method_call_args_description",k=function(t){var a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"expected_method_call_args_description"),!1!==(a=i.$method_call_args_description(t))&&a!==$&&null!=a?a:function(){return(n=r(t.$length(),0))===$||null==n||n.$$is_boolean&&1!=n?"":" with arguments: "+(n=i).$format_args.apply(n,e.to_a(t))}()},k.$$arity=1,k.$$parameters=[["req","args"]]),e.defn(U,"$method_call_args_description",w=function(t){var r=$,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_call_args_description"),function(){return r=t.$first(),Y.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](r)?" with any arguments":Y.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](r)?" with no arguments":$}()},w.$$arity=1,w.$$parameters=[["req","args"]]),e.defn(U,"$describe_expectation",q=function(t,r){var a,n,$=this,i=arguments.length,s=i-3;s<0&&(s=0),n=new Array(s);for(var o=3;o<i;o++)n[o-3]=arguments[o];var l=arguments.length;return l<3&&e.ac(l,-4,this,"describe_expectation"),"have received "+t+(a=$).$format_args.apply(a,e.to_a(n))+" "+$.$count_message(r)},q.$$arity=-4,q.$$parameters=[["req","message"],["req","expected_received_count"],["req","_actual_received_count"],["rest","args"]]),e.defn(U,"$raise_out_of_order_error",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_out_of_order_error"),r.$__raise(r.$intro()+" received :"+t+" out of order")},S.$$arity=1,S.$$parameters=[["req","message"]]),e.defn(U,"$raise_block_failed_error",E=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_block_failed_error"),a.$__raise(a.$intro()+" received :"+t+" but passed block failed with: "+r)},E.$$arity=2,E.$$parameters=[["req","message"],["req","detail"]]),e.defn(U,"$raise_missing_block_error",R=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"raise_missing_block_error"),a.$__raise(a.$intro()+" asked to yield |"+(r=a).$arg_list.apply(r,e.to_a(t))+"| but no block was passed")},R.$$arity=1,R.$$parameters=[["req","args_to_yield"]]),e.defn(U,"$raise_wrong_arity_error",O=function(t,r){var a,n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"raise_wrong_arity_error"),n.$__raise(n.$intro()+" yielded |"+(a=n).$arg_list.apply(a,e.to_a(t))+"| to block with "+r.$description())},O.$$arity=2,O.$$parameters=[["req","args_to_yield"],["req","signature"]]),e.defn(U,"$raise_only_valid_on_a_partial_double",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_only_valid_on_a_partial_double"),r.$__raise(r.$intro()+" is a pure test double. `"+t+"` is only available on a partial double.")},M.$$arity=1,M.$$parameters=[["req","method"]]),e.defn(U,"$raise_expectation_on_unstubbed_method",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_expectation_on_unstubbed_method"),r.$__raise(r.$intro()+" expected to have received "+t+", but that object is not a spy or method has not been stubbed.")},A.$$arity=1,A.$$parameters=[["req","method"]]),e.defn(U,"$raise_expectation_on_mocked_method",z=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_expectation_on_mocked_method"),r.$__raise(r.$intro()+" expected to have received "+t+", but that method has been mocked instead of stubbed or spied.")},z.$$arity=1,z.$$parameters=[["req","method"]]),e.defs(U,"$raise_double_negation_error",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_double_negation_error"),r.$raise("Isn't life confusing enough? You've already set a negative message expectation and now you are trying to negate it again with `never`. What does an expression like `"+t+".not_to receive(:msg).never` even mean?")},j.$$arity=1,j.$$parameters=[["req","wrapped_expression"]]),U.$private(),e.defn(U,"$intro",T=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"intro"),(t=r.name)===$||null==t||t.$$is_boolean&&1!=t?(t=Y.get("TestDouble")["$==="](r.target))===$||null==t||t.$$is_boolean&&1!=t?(t=Y.get("Class")["$==="](r.target))===$||null==t||t.$$is_boolean&&1!=t?(t=r.target)===$||null==t||t.$$is_boolean&&1!=t?"nil":r.target:"<"+r.target.$inspect()+" (class)>":"Double":"Double "+r.name.$inspect()},T.$$arity=0,T.$$parameters=[]),e.defn(U,"$__raise",I=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"__raise"),((r=a.$opts()["$[]"]("message")["$nil?"]())===$||null==r||r.$$is_boolean&&1!=r)&&(t=a.$opts()["$[]"]("message")),Y.get("Kernel").$raise(Y.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),t)},I.$$arity=1,I.$$parameters=[["req","message"]]),e.defn(U,"$arg_message",C=function(){var r,a,n=this,$=arguments.length,i=$-0;i<0&&(i=0),a=new Array(i);for(var s=0;s<$;s++)a[s-0]=arguments[s];return t(" with ",(r=n).$format_args.apply(r,e.to_a(a)))},C.$$arity=-1,C.$$parameters=[["rest","args"]]),e.defn(U,"$format_args",P=function(){var r,a,n=this,i=arguments.length,s=i-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<i;o++)a[o-0]=arguments[o];return(r=a["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?t(t("(",(r=n).$arg_list.apply(r,e.to_a(a))),")"):"(no args)"},P.$$arity=-1,P.$$parameters=[["rest","args"]]),e.defn(U,"$arg_list",N=function(){var t,r,a,n,i=this,s=arguments.length,o=s-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<s;l++)n[l-0]=arguments[l];return(t=(r=n).$map,t.$$p=(a=function(t){var r,n=a.$$s||this;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"arg_list")}return(r=n.$arg_has_valid_description(t))===$||null==r||r.$$is_boolean&&1!=r?t.$inspect():t.$description()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","arg"]],a),t).call(r).$join(", ")},N.$$arity=-1,N.$$parameters=[["rest","args"]]),e.defn(U,"$arg_has_valid_description",F=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"arg_has_valid_description"),!((r=t["$respond_to?"]("description"))===$||null==r||r.$$is_boolean&&1!=r)&&(r=t.$description()["$nil?"]()["$!"](),!1!==r&&r!==$&&null!=r?t.$description()["$empty?"]()["$!"]():r)},F.$$arity=1,F.$$parameters=[["req","arg"]]),e.defn(U,"$format_received_args",D=function(){var r,a,n=this,i=arguments.length,s=i-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<i;o++)a[o-0]=arguments[o];return(r=a["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?t(t("(",(r=n).$received_arg_list.apply(r,e.to_a(a))),")"):"(no args)"},D.$$arity=-1,D.$$parameters=[["rest","args"]]),e.defn(U,"$received_arg_list",B=function(){var e,t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(e=(t=r).$map,e.$$p="inspect".$to_proc(),e).call(t).$join(", ")},B.$$arity=-1,B.$$parameters=[["rest","args"]]),e.defn(U,"$count_message",H=function(t,r){var n,i,s=this;null==r&&(r=$);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"count_message"),(n=!1!==(i=a(t,0))&&i!==$&&null!=i?i:r["$=="]("at_least"))===$||null==n||n.$$is_boolean&&1!=n?r["$=="]("at_most")?"at most "+s.$times(t):s.$times(t):"at least "+s.$times(t.$abs())},H.$$arity=-2,H.$$parameters=[["req","count"],["opt","expectation_count_type"]]),e.defn(U,"$times",L=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"times"),t+" time"+function(){return t["$=="](1)?"":"s"}()},L.$$arity=1,L.$$parameters=[["req","count"]])}(u.base,null)}(u.base)}(n.base)},Opal.modules["rspec/mocks/example_methods"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$require_rspec_mocks","$include","$declare_double","$for","$declare_verifying_double","$as_null_object","$double","$instance_double","$object_double","$class_double","$warn_about_expectations=","$proxy_for","$space","$stub","$hide","$new","$to_proc","$class_exec","$method_defined?","$verify_doubled_constant_names?","$configuration","$!","$defined?","$raise","$description","$===","$last","$<<"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("object_reference"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y=$=a(t,"ExampleMethods"),x=(y.$$proto,y.$$scope);y.$include(x.get("RSpec").$$scope.get("Mocks").$$scope.get("ArgumentMatchers")),e.defn(y,"$double",i=function(){var t,r,a=arguments.length,n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];return(t=x.get("ExampleMethods")).$declare_double.apply(t,[x.get("Double")].concat(e.to_a(r)))},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.defn(y,"$instance_double",s=function(t){var a,n,$=r,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var o=1;o<i;o++)n[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"instance_double"),$=x.get("ObjectReference").$for(t),(a=x.get("ExampleMethods")).$declare_verifying_double.apply(a,[x.get("InstanceVerifyingDouble"),$].concat(e.to_a(n)))},s.$$arity=-2,s.$$parameters=[["req","doubled_class"],["rest","args"]]),e.defn(y,"$class_double",o=function(t){var a,n,$=r,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var o=1;o<i;o++)n[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"class_double"),$=x.get("ObjectReference").$for(t),(a=x.get("ExampleMethods")).$declare_verifying_double.apply(a,[x.get("ClassVerifyingDouble"),$].concat(e.to_a(n)))},o.$$arity=-2,o.$$parameters=[["req","doubled_class"],["rest","args"]]),e.defn(y,"$object_double",l=function(t){var a,n,$=r,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var o=1;o<i;o++)n[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"object_double"),$=x.get("ObjectReference").$for(t,"allow_direct_object_refs"),(a=x.get("ExampleMethods")).$declare_verifying_double.apply(a,[x.get("ObjectVerifyingDouble"),$].concat(e.to_a(n)))},l.$$arity=-2,l.$$parameters=[["req","object_or_name"],["rest","args"]]),e.defn(y,"$spy",c=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$double.apply(t,e.to_a(r)).$as_null_object()},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(y,"$instance_spy",u=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$instance_double.apply(t,e.to_a(r)).$as_null_object()},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(y,"$object_spy",_=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$object_double.apply(t,e.to_a(r)).$as_null_object()},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(y,"$class_spy",p=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a).$class_double.apply(t,e.to_a(r)).$as_null_object()},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(y,"$allow_message_expectations_on_nil",d=function(){var t,a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"allow_message_expectations_on_nil"),t=[!1],a=x.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(r),a["$warn_about_expectations="].apply(a,t),t[t.length-1]},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$stub_const",h=function(t,r,a){null==a&&(a=n([],{}));var $=arguments.length;return($<2||$>3)&&e.ac($,-3,this,"stub_const"),x.get("ConstantMutator").$stub(t,r,a)},h.$$arity=-3,h.$$parameters=[["req","constant_name"],["req","value"],["opt","options"]]),e.defn(y,"$hide_const",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"hide_const"),x.get("ConstantMutator").$hide(t)},f.$$arity=1,f.$$parameters=[["req","constant_name"]]),e.defn(y,"$have_received",m=function(t){var a,n,$=m.$$p,i=$||r;m.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"have_received"),(a=(n=x.get("Matchers").$$scope.get("HaveReceived")).$new,a.$$p=i.$to_proc(),a).call(n,t)},m.$$arity=1,m.$$parameters=[["req","method_name"],["block","block"]]),e.defs(y,"$included",g=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"included"),(a=(n=t).$class_exec,a.$$p=($=function(){var t,a=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"included")}return(t=a["$method_defined?"]("expect"))===r||null==t||t.$$is_boolean&&1!=t?a.$include(x.get("ExpectHost")):r},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n)},g.$$arity=1,g.$$parameters=[["req","klass"]]),e.defs(y,"$declare_verifying_double",b=function(t,a){var n,$,i,s=this,o=arguments.length,l=o-2;l<0&&(l=0),i=new Array(l);for(var c=2;c<o;c++)i[c-2]=arguments[c];var u=arguments.length;return u<2&&e.ac(u,-3,this,"declare_verifying_double"),$=x.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_doubled_constant_names?"](),(n=!1!==$&&$!==r&&null!=$?a["$defined?"]()["$!"]():$)===r||null==n||n.$$is_boolean&&1!=n||s.$raise(x.get("VerifyingDoubleNotDefinedError"),a.$description()+" is not a defined constant. Perhaps you misspelt it? Disable check with verify_doubled_constant_names configuration option."),(n=s).$declare_double.apply(n,[t,a].concat(e.to_a(i)))},b.$$arity=-3,b.$$parameters=[["req","type"],["req","ref"],["rest","args"]]),e.defs(y,"$declare_double",v=function(t){var a,$,i=arguments.length,s=i-1;s<0&&(s=0),$=new Array(s);for(var o=1;o<i;o++)$[o-1]=arguments[o];var l=arguments.length;return l<1&&e.ac(l,-2,this,"declare_double"),((a=x.get("Hash")["$==="]($.$last()))===r||null==a||a.$$is_boolean&&1!=a)&&$["$<<"](n([],{})),(a=t).$new.apply(a,e.to_a($))},v.$$arity=-2,v.$$parameters=[["req","type"],["rest","args"]]),function(e){var t,r=t=a(e,"ExpectHost");r.$$proto,r.$$scope}(x.base)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/instance_method_stasher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$<","$to_f","$!","$method_defined_directly_on_klass?","$__send__","$stashed_method_name","$private","$method_handle_for","$handle_restoration_failures","$include?","$warn_with","$inspect","$method_defined_on_klass?","$method_owned_by_klass?","$method_defined_at_any_visibility?","$owner","$instance_method","$===","$class","$=="]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Mocks"),l=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=n=$(r,$super,"InstanceMethodStasher",n),k=x.$$proto,w=x.$$scope;k.method_is_stashed=k.klass=k.method=k.original_method=k.object=a,e.defn(x,"$initialize",s=function(t,r){var n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"initialize"),n.object=t,n.method=r,n.klass=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t)),n.original_method=a,n.method_is_stashed=!1},s.$$arity=2,s.$$parameters=[["req","object"],["req","method"]]),x.$attr_reader("original_method"),(o=t(w.get("RUBY_VERSION").$to_f(),1.9))===a||null==o||o.$$is_boolean&&1!=o?(e.defn(x,"$method_is_stashed?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_is_stashed?"),t.original_method["$!"]()["$!"]()},p.$$arity=0,p.$$parameters=[]),e.defn(x,"$stash",d=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"stash"),(t=r["$method_defined_directly_on_klass?"]())===a||null==t||t.$$is_boolean&&1!=t?a:!1!==(t=r.original_method)&&t!==a&&null!=t?t:r.original_method=e.get("RSpec").$$scope.get("Support").$method_handle_for(r.object,r.method)},d.$$arity=0,d.$$parameters=[]),e.defn(x,"$restore",h=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"restore"),(t=$.original_method)===a||null==t||t.$$is_boolean&&1!=t?a:((t=$.klass.$__send__("method_defined?",$.method))===a||null==t||t.$$is_boolean&&1!=t||$.klass.$__send__("undef_method",$.method),(t=(r=$).$handle_restoration_failures,t.$$p=(n=function(){var t=n.$$s||this;if(null==t.klass&&(t.klass=a),null==t.method&&(t.method=a),null==t.original_method&&(t.original_method=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"restore")}return t.klass.$__send__("define_method",t.method,t.original_method)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),t).call(r),$.original_method=a)},h.$$arity=0,h.$$parameters=[])):(e.defn(x,"$method_is_stashed?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_is_stashed?"),t.method_is_stashed},l.$$arity=0,l.$$parameters=[]),e.defn(x,"$stash",c=function(){var t,r,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"stash"),(t=!1!==(r=n["$method_defined_directly_on_klass?"]()["$!"]())&&r!==a&&null!=r?r:n.method_is_stashed)===a||null==t||t.$$is_boolean&&1!=t?(n.klass.$__send__("alias_method",n.$stashed_method_name(),n.method),n.method_is_stashed=!0):a},c.$$arity=0,c.$$parameters=[]),e.defn(x,"$stashed_method_name",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"stashed_method_name"),"obfuscated_by_rspec_mocks__"+t.method},u.$$arity=0,u.$$parameters=[]),x.$private("stashed_method_name"),e.defn(x,"$restore",_=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"restore"),(t=r.method_is_stashed)===a||null==t||t.$$is_boolean&&1!=t?a:((t=r.klass.$__send__("method_defined?",r.method))===a||null==t||t.$$is_boolean&&1!=t||r.klass.$__send__("undef_method",r.method),r.klass.$__send__("alias_method",r.method,r.$stashed_method_name()),r.klass.$__send__("remove_method",r.$stashed_method_name()),r.method_is_stashed=!1)},_.$$arity=0,_.$$parameters=[])),(o=!1!==(f=w.get("RUBY_DESCRIPTION")["$include?"]("2.0.0p247"))&&f!==a&&null!=f?f:w.get("RUBY_DESCRIPTION")["$include?"]("2.0.0p195"))===a||null==o||o.$$is_boolean&&1!=o?e.defn(x,"$handle_restoration_failures",g=function(){var t=g.$$p,r=t||a;g.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"handle_restoration_failures"),e.yieldX(r,[])},g.$$arity=0,g.$$parameters=[]):e.defn(x,"$handle_restoration_failures",m=function(){var t=this,r=m.$$p,n=r||a;m.$$p=null;var $=arguments.length;0!==$&&e.ac($,0,this,"handle_restoration_failures");try{return e.yieldX(n,[])}catch(r){if(!e.rescue(r,[w.get("TypeError")]))throw r;try{return w.get("RSpec").$warn_with("RSpec failed to properly restore a partial double ("+t.object.$inspect()+") to its original state due to a known bug in MRI 2.0.0-p195 & p247 (https://bugs.ruby-lang.org/issues/8686). This object may remain screwed up for the rest of this process. Please upgrade to 2.0.0-p353 or above.",i(["call_site","use_spec_location_as_call_site"],{call_site:a,use_spec_location_as_call_site:!0}))}finally{e.pop_exception()}}},m.$$arity=0,m.$$parameters=[]),x.$private(),e.defn(x,"$method_defined_directly_on_klass?",b=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"method_defined_directly_on_klass?"),t=r["$method_defined_on_klass?"](),!1!==t&&t!==a&&null!=t?r["$method_owned_by_klass?"]():t},b.$$arity=0,b.$$parameters=[]),e.defn(x,"$method_defined_on_klass?",v=function(t){var r=this;null==t&&(t=r.klass);var a=arguments.length;return a>1&&e.ac(a,-1,this,"method_defined_on_klass?"),w.get("MethodReference")["$method_defined_at_any_visibility?"](t,r.method)},v.$$arity=-1,v.$$parameters=[["opt","klass"]]),e.defn(x,"$method_owned_by_klass?",y=function(){var t,r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"method_owned_by_klass?"),n=r.klass.$instance_method(r.method).$owner(),((t=w.get("Module")["$==="](n))===a||null==t||t.$$is_boolean&&1!=t)&&(n=n.$class()),!1!==(t=n["$=="](r.klass))&&t!==a&&null!=t?t:r["$method_defined_on_klass?"](n)["$!"]()},y.$$arity=0,y.$$parameters=[])}(l.base,null)}(l.base)}(r.base)},Opal.modules["rspec/mocks/matchers/expectation_customization"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$attr_accessor","$__send__","$to_proc"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Matchers"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s=a=n(t,$super,"ExpectationCustomization",a),o=s.$$proto;s.$$scope;o.block=o.method_name=o.args=r,s.$attr_accessor("block"),e.defn(s,"$initialize",$=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.method_name=t,n.args=r,n.block=a},$.$$arity=3,$.$$parameters=[["req","method_name"],["req","args"],["req","block"]]),e.defn(s,"$playback_onto",i=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"playback_onto"),(r=(a=t).$__send__,r.$$p=n.block.$to_proc(),r).apply(a,[n.method_name].concat(e.to_a(n.args)))},i.$$arity=1,i.$$parameters=[["req","expectation"]])}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/message_expectation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var i=(e.top,e),s=e.nil,o=(e.breaker,e.slice,e.module),l=e.klass,c=e.hash2
;return e.add_stubs(["$to_sym","$==","$line","$raise_expectation_error","$attr_accessor","$attr_reader","$attr_writer","$protected","$opts=","$object","$method_name","$register","$new","$inner_implementation_action=","$expected_args","$negative?","$raise","$unshift","$ignoring_args?","$max","$size","$terminal_implementation_action=","$and_wrap_original","$call","$to_proc","$===","$raise_only_valid_on_a_partial_double","$inner_action","$implementation","$warn_about_stub_override","$original_method","$respond_to?","$exception","$throw","$<<","$initial_implementation_action=","$args_match?","$invoke_incrementing_actual_calls_by","$!","$!=","$>","$>=","$expected_messages_received?","$failed_fast?","$generate_error","$matches_exact_count?","$matches_at_least_count?","$matches_at_most_count?","$verify_invocation_order","$<=","$similar_messages","$empty?","$expectation_count_type","$raise_similar_message_args_error","$describe_expectation","$raise_out_of_order_error","$set_expected_received_count","$raise_double_negation_error","$times","$additional_expected_calls","$-","$+","$private","$yield_receiver_to_implementation_block?","$orig_object","$handle_order_constraint","$present?","$invoke","$initial_action=","$inner_action=","$terminal_action=","$warning","$first_non_rspec_line","$nil?","$raise_missing_block_error","$each","$valid?","$raise_wrong_arity_error","$instance_exec","$shift","$first","$last","$map","$actions","$any?","$compact","$initial_action","$terminal_action","$cannot_modify_further_error","$insert","$backtrace"]),function(i){var u,_=u=o(i,"RSpec"),p=(_.$$proto,_.$$scope);!function(i){var u,_=u=o(i,"Mocks"),p=(_.$$proto,_.$$scope);!function(t,$super){function r(){}var a,n,$,i,o,c=r=l(t,$super,"SimpleMessageExpectation",r),u=c.$$proto,_=c.$$scope;u.response=u.message=u.backtrace_line=s,e.defn(c,"$initialize",a=function(t,r,a,n){var $,i=this;null==n&&(n=s);var o=arguments.length;return(o<3||o>4)&&e.ac(o,-4,this,"initialize"),$=[t.$to_sym(),r,a,n],i.message=$[0],i.response=$[1],i.error_generator=$[2],i.backtrace_line=$[3],i.received=!1},a.$$arity=-4,a.$$parameters=[["req","message"],["req","response"],["req","error_generator"],["opt","backtrace_line"]]),e.defn(c,"$invoke",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.received=!0,t.response},n.$$arity=-1,n.$$parameters=[["rest","_"]]),e.defn(c,"$matches?",$=function(t){var r,a=this,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var i=1;i<n;i++)r[i-1]=arguments[i];var s=arguments.length;return s<1&&e.ac(s,-2,this,"matches?"),a.message["$=="](t.$to_sym())},$.$$arity=-2,$.$$parameters=[["req","message"],["rest","_"]]),e.defn(c,"$called_max_times?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"called_max_times?"),!1},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$verify_messages_received",o=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"verify_messages_received"),(t=(r=_.get("InsertOntoBacktrace")).$line,t.$$p=(a=function(){var t,r=a.$$s||this;if(null==r.received&&(r.received=s),null==r.error_generator&&(r.error_generator=s),null==r.message&&(r.message=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"verify_messages_received")}return(t=r.received)===s||null==t||t.$$is_boolean&&1!=t?r.error_generator.$raise_expectation_error(r.message,1,_.get("ArgumentListMatcher").$$scope.get("MATCH_ALL"),0,s):s},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,n.backtrace_line)},o.$$arity=0,o.$$parameters=[])}(p.base,null),function(i,$super){function o(){}var u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,$e,ie,se,oe,le=o=l(i,$super,"MessageExpectation",o),ce=le.$$proto,ue=le.$$scope;ce.error_generator=ce.method_double=ce.order_group=ce.argument_list_matcher=ce.expected_received_count=ce.at_least=ce.yield_receiver_to_implementation_block=ce.args_to_yield=ce.eval_context=ce.message=ce.actual_received_count=ce.expected_from=ce.ordered=ce.at_most=ce.similar_messages=ce.expectation_type=ce.exactly=ce.failed_fast=s,le.$attr_accessor("error_generator","implementation"),le.$attr_reader("message"),le.$attr_reader("orig_object"),le.$attr_writer("expected_received_count","expected_from","argument_list_matcher"),le.$protected("expected_received_count=","expected_from=","error_generator","error_generator=","implementation="),e.defn(le,"$initialize",u=function(t,r,a,n,$,i){var o,l,_=this,p=u.$$p,d=p||s;null==$&&($="expectation"),null==i&&(i=c([],{})),u.$$p=null;var h=arguments.length;return(h<4||h>6)&&e.ac(h,-5,this,"initialize"),_.error_generator=t,o=[i],l=_.error_generator,l["$opts="].apply(l,o),o[o.length-1],_.expected_from=a,_.method_double=n,_.orig_object=_.method_double.$object(),_.message=_.method_double.$method_name(),_.actual_received_count=0,_.expected_received_count=function(){return $["$=="]("expectation")?1:"any"}(),_.argument_list_matcher=ue.get("ArgumentListMatcher").$$scope.get("MATCH_ALL"),_.order_group=r,$["$=="]("stub")||_.order_group.$register(_),_.expectation_type=$,_.ordered=!1,_.at_least=_.at_most=_.exactly=s,_.args_to_yield=[],_.failed_fast=s,_.eval_context=s,_.yield_receiver_to_implementation_block=!1,_.implementation=ue.get("Implementation").$new(),o=[d],l=_,l["$inner_implementation_action="].apply(l,o),o[o.length-1]},u.$$arity=-5,u.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["req","method_double"],["opt","type"],["opt","opts"],["block","implementation_block"]]),e.defn(le,"$expected_args",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_args"),t.argument_list_matcher.$expected_args()},_.$$arity=0,_.$$parameters=[]),e.defn(le,"$and_return",p=function(t){var r,a,n,$=this,i=p.$$p,o=i||s,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];p.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"and_return"),(r=$["$negative?"]())===s||null==r||r.$$is_boolean&&1!=r||$.$raise("`and_return` is not supported with negative message expectations"),o!==s&&$.$raise(ue.get("ArgumentError"),"Implementation blocks aren't supported with `and_return`"),n.$unshift(t),((r=!1!==(a=$["$ignoring_args?"]())&&a!==s&&null!=a?a:$.expected_received_count["$=="](0)?$.at_least:$.expected_received_count["$=="](0))===s||null==r||r.$$is_boolean&&1!=r)&&($.expected_received_count=[$.expected_received_count,n.$size()].$max()),r=[ue.get("AndReturnImplementation").$new(n)],a=$,a["$terminal_implementation_action="].apply(a,r),r[r.length-1],s},p.$$arity=-2,p.$$parameters=[["req","first_value"],["rest","values"]]),e.defn(le,"$and_yield_receiver_to_implementation",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"and_yield_receiver_to_implementation"),t.yield_receiver_to_implementation_block=!0,t},d.$$arity=0,d.$$parameters=[]),e.defn(le,"$yield_receiver_to_implementation_block?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"yield_receiver_to_implementation_block?"),t.yield_receiver_to_implementation_block},h.$$arity=0,h.$$parameters=[]),e.defn(le,"$and_call_original",f=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"and_call_original"),(t=(r=n).$and_wrap_original,t.$$p=(a=function(t){var r,n,$,i;a.$$s;r=a.$$p||s,a.$$p=null;var o=arguments.length,l=o-1;l<0&&(l=0),n=new Array(l);for(var c=1;c<o;c++)n[c-1]=arguments[c];if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var u=arguments.length;u<1&&e.block_ac(u,-2,"and_call_original")}return($=(i=t).$call,$.$$p=r.$to_proc(),$).apply(i,e.to_a(n))},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","original"],["rest","args"],["block","block"]],a),t).call(r)},f.$$arity=0,f.$$parameters=[]),e.defn(le,"$and_wrap_original",m=function(){var t,r=this,a=m.$$p,n=a||s;m.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"and_wrap_original"),(t=ue.get("RSpec").$$scope.get("Mocks").$$scope.get("TestDouble")["$==="](r.method_double.$object()))===s||null==t||t.$$is_boolean&&1!=t?((t=r.$implementation().$inner_action())===s||null==t||t.$$is_boolean&&1!=t||r.$warn_about_stub_override(),r.implementation=ue.get("AndWrapOriginalImplementation").$new(r.method_double.$original_method(),n),r.yield_receiver_to_implementation_block=!1):r.error_generator.$raise_only_valid_on_a_partial_double("and_call_original")},m.$$arity=0,m.$$parameters=[["block","block"]]),e.defn(le,"$and_raise",g=function(t,r){var a,n,$,i,o,l=this;null==t&&(t=ue.get("RuntimeError")),null==r&&(r=s);var c=arguments.length;return c>2&&e.ac(c,-1,this,"and_raise"),(a=t["$respond_to?"]("exception"))===s||null==a||a.$$is_boolean&&1!=a||(t=function(){return!1!==r&&r!==s&&null!=r?t.$exception(r):t.$exception()}()),a=[($=(i=ue.get("Proc")).$new,$.$$p=(o=function(){var r=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"and_raise")}return r.$raise(t)},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),$).call(i)],n=l,n["$terminal_implementation_action="].apply(n,a),a[a.length-1],s},g.$$arity=-1,g.$$parameters=[["opt","exception"],["opt","message"]]),e.defn(le,"$and_throw",b=function(){var t,r,a,n,$,i,o=this,l=arguments.length,c=l-0;c<0&&(c=0),i=new Array(c);for(var u=0;u<l;u++)i[u-0]=arguments[u];return t=[(a=(n=ue.get("Proc")).$new,a.$$p=($=function(){var t,r=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"and_throw")}return(t=r).$throw.apply(t,e.to_a(i))},$.$$s=o,$.$$arity=0,$.$$parameters=[],$),a).call(n)],r=o,r["$terminal_implementation_action="].apply(r,t),t[t.length-1],s},b.$$arity=-1,b.$$parameters=[["rest","args"]]),e.defn(le,"$and_yield",v=function(){var t,r,a,n=this,$=v.$$p,i=$||s,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return v.$$p=null,!1!==i&&i!==s&&null!=i&&e.yield1(i,n.eval_context=ue.get("Object").$new()),n.args_to_yield["$<<"](a),t=[ue.get("AndYieldImplementation").$new(n.args_to_yield,n.eval_context,n.error_generator)],r=n,r["$initial_implementation_action="].apply(r,t),t[t.length-1],n},v.$$arity=-1,v.$$parameters=[["rest","args"],["block","block"]]),e.defn(le,"$matches?",y=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"matches?"),n.message["$=="](t)?(r=n.argument_list_matcher)["$args_match?"].apply(r,e.to_a(a)):n.message["$=="](t)},y.$$arity=-2,y.$$parameters=[["req","message"],["rest","args"]]),e.defn(le,"$safe_invoke",x=function(t){var r,a,n,$=this,i=x.$$p,o=i||s,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];x.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"safe_invoke"),(r=(a=$).$invoke_incrementing_actual_calls_by,r.$$p=o.$to_proc(),r).apply(a,[1,!1,t].concat(e.to_a(n)))},x.$$arity=-2,x.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(le,"$invoke",k=function(t){var r,a,n,$=this,i=k.$$p,o=i||s,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];k.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"invoke"),(r=(a=$).$invoke_incrementing_actual_calls_by,r.$$p=o.$to_proc(),r).apply(a,[1,!0,t].concat(e.to_a(n)))},k.$$arity=-2,k.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(le,"$invoke_without_incrementing_received_count",w=function(t){var r,a,n,$=this,i=w.$$p,o=i||s,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var u=1;u<l;u++)n[u-1]=arguments[u];w.$$p=null;var _=arguments.length;return _<1&&e.ac(_,-2,this,"invoke_without_incrementing_received_count"),(r=(a=$).$invoke_incrementing_actual_calls_by,r.$$p=o.$to_proc(),r).apply(a,[0,!0,t].concat(e.to_a(n)))},w.$$arity=-2,w.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(le,"$negative?",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),t.expected_received_count["$=="](0)?t.at_least["$!"]():t.expected_received_count["$=="](0)},q.$$arity=0,q.$$parameters=[]),e.defn(le,"$called_max_times?",S=function(){var a,n,$,i=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"called_max_times?"),$=i.expected_received_count["$!="]("any"),n=!1!==$&&$!==s&&null!=$?i.at_least["$!"]():$,a=!1!==n&&n!==s&&null!=n?t(i.expected_received_count,0):n,!1!==a&&a!==s&&null!=a?r(i.actual_received_count,i.expected_received_count):a},S.$$arity=0,S.$$parameters=[]),e.defn(le,"$matches_name_but_not_args",E=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"matches_name_but_not_args"),n.message["$=="](t)?(r=n.argument_list_matcher)["$args_match?"].apply(r,e.to_a(a))["$!"]():n.message["$=="](t)},E.$$arity=-2,E.$$parameters=[["req","message"],["rest","args"]]),e.defn(le,"$verify_messages_received",R=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"verify_messages_received"),(t=(r=ue.get("InsertOntoBacktrace")).$line,t.$$p=(a=function(){var t,r,n=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"verify_messages_received")}return(t=!1!==(r=n["$expected_messages_received?"]())&&r!==s&&null!=r?r:n["$failed_fast?"]())===s||null==t||t.$$is_boolean&&1!=t?n.$generate_error():s},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r,n.expected_from)},R.$$arity=0,R.$$parameters=[]),e.defn(le,"$expected_messages_received?",O=function(){var t,r,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"expected_messages_received?"),!1!==(t=!1!==(r=!1!==(a=n["$ignoring_args?"]())&&a!==s&&null!=a?a:n["$matches_exact_count?"]())&&r!==s&&null!=r?r:n["$matches_at_least_count?"]())&&t!==s&&null!=t?t:n["$matches_at_most_count?"]()},O.$$arity=0,O.$$parameters=[]),e.defn(le,"$ensure_expected_ordering_received!",M=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"ensure_expected_ordering_received!"),(t=r.ordered)===s||null==t||t.$$is_boolean&&1!=t||r.order_group.$verify_invocation_order(r),!0},M.$$arity=0,M.$$parameters=[]),e.defn(le,"$ignoring_args?",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ignoring_args?"),t.expected_received_count["$=="]("any")},A.$$arity=0,A.$$parameters=[]),e.defn(le,"$matches_at_least_count?",z=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"matches_at_least_count?"),t=a.at_least,!1!==t&&t!==s&&null!=t?r(a.actual_received_count,a.expected_received_count):t},z.$$arity=0,z.$$parameters=[]),e.defn(le,"$matches_at_most_count?",j=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"matches_at_most_count?"),t=r.at_most,!1!==t&&t!==s&&null!=t?a(r.actual_received_count,r.expected_received_count):t},j.$$arity=0,j.$$parameters=[]),e.defn(le,"$matches_exact_count?",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_exact_count?"),t.expected_received_count["$=="](t.actual_received_count)},T.$$arity=0,T.$$parameters=[]),e.defn(le,"$similar_messages",I=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"similar_messages"),!1!==(t=r.similar_messages)&&t!==s&&null!=t?t:r.similar_messages=[]},I.$$arity=0,I.$$parameters=[]),e.defn(le,"$advise",C=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$similar_messages()["$<<"](e)},C.$$arity=-1,C.$$parameters=[["rest","args"]]),e.defn(le,"$generate_error",P=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"generate_error"),(t=a.$similar_messages()["$empty?"]())===s||null==t||t.$$is_boolean&&1!=t?(r=a.error_generator).$raise_similar_message_args_error.apply(r,[a].concat(e.to_a(a.similar_messages))):(t=a.error_generator).$raise_expectation_error.apply(t,[a.message,a.expected_received_count,a.argument_list_matcher,a.actual_received_count,a.$expectation_count_type()].concat(e.to_a(a.$expected_args())))},P.$$arity=0,P.$$parameters=[]),e.defn(le,"$expectation_count_type",N=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expectation_count_type"),(t=r.at_least)===s||null==t||t.$$is_boolean&&1!=t?(t=r.at_most)===s||null==t||t.$$is_boolean&&1!=t?s:"at_most":"at_least"},N.$$arity=0,N.$$parameters=[]),e.defn(le,"$description",F=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),(t=r.error_generator).$describe_expectation.apply(t,[r.message,r.expected_received_count,r.actual_received_count].concat(e.to_a(r.$expected_args())))},F.$$arity=0,F.$$parameters=[]),e.defn(le,"$raise_out_of_order_error",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_out_of_order_error"),t.error_generator.$raise_out_of_order_error(t.message)},D.$$arity=0,D.$$parameters=[]),e.defn(le,"$with",B=function(){var t,r,a,n=this,$=B.$$p,i=$||s,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return B.$$p=null,(t=a["$empty?"]())===s||null==t||t.$$is_boolean&&1!=t||n.$raise(ue.get("ArgumentError"),"`with` must have at least one argument. Use `no_args` matcher to set the expectation of receiving no arguments."),t=[i],r=n,r["$inner_implementation_action="].apply(r,t),t[t.length-1],n.argument_list_matcher=(t=ue.get("ArgumentListMatcher")).$new.apply(t,e.to_a(a)),n},B.$$arity=-1,B.$$parameters=[["rest","args"],["block","block"]]),e.defn(le,"$exactly",H=function(t){var r,a,n=this,$=H.$$p,i=$||s;H.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"exactly"),r=[i],a=n,a["$inner_implementation_action="].apply(a,r),r[r.length-1],n.$set_expected_received_count("exactly",t),n},H.$$arity=1,H.$$parameters=[["req","n"],["block","block"]]),e.defn(le,"$at_least",L=function(t){var r,a,n=this,$=L.$$p,i=$||s;L.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"at_least"),n.$set_expected_received_count("at_least",t),t["$=="](0)&&n.$raise("at_least(0) has been removed, use allow(...).to receive(:message) instead"),r=[i],a=n,a["$inner_implementation_action="].apply(a,r),r[r.length-1],n},L.$$arity=1,L.$$parameters=[["req","n"],["block","block"]]),e.defn(le,"$at_most",U=function(t){var r,a,n=this,$=U.$$p,i=$||s;U.$$p=null;var o=arguments.length;return 1!==o&&e.ac(o,1,this,"at_most"),r=[i],a=n,a["$inner_implementation_action="].apply(a,r),r[r.length-1],n.$set_expected_received_count("at_most",t),n},U.$$arity=1,U.$$parameters=[["req","n"],["block","block"]]),e.defn(le,"$times",G=function(){var t,r,a=this,n=G.$$p,$=n||s;G.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"times"),t=[$],r=a,r["$inner_implementation_action="].apply(r,t),t[t.length-1],a},G.$$arity=0,G.$$parameters=[["block","block"]]),e.defn(le,"$never",Y=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"never"),(t=r["$negative?"]())===s||null==t||t.$$is_boolean&&1!=t||ue.get("ErrorGenerator").$raise_double_negation_error("expect(obj)"),r.expected_received_count=0,r},Y.$$arity=0,Y.$$parameters=[]),e.defn(le,"$once",V=function(){var t,r,a=this,n=V.$$p,$=n||s;V.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"once"),t=[$],r=a,r["$inner_implementation_action="].apply(r,t),t[t.length-1],a.$set_expected_received_count("exactly",1),a},V.$$arity=0,V.$$parameters=[["block","block"]]),e.defn(le,"$twice",X=function(){var t,r,a=this,n=X.$$p,$=n||s;X.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"twice"),t=[$],r=a,r["$inner_implementation_action="].apply(r,t),t[t.length-1],a.$set_expected_received_count("exactly",2),a},X.$$arity=0,X.$$parameters=[["block","block"]]),e.defn(le,"$thrice",K=function(){var t,r,a=this,n=K.$$p,$=n||s;K.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"thrice"),t=[$],r=a,r["$inner_implementation_action="].apply(r,t),t[t.length-1],a.$set_expected_received_count("exactly",3),a},K.$$arity=0,K.$$parameters=[["block","block"]]),e.defn(le,"$ordered",W=function(){var t,r,a,n=this,$=W.$$p,i=$||s;W.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"ordered"),t=[i],r=n,r["$inner_implementation_action="].apply(r,t),t[t.length-1],(t=(r=n.$additional_expected_calls()).$times,t.$$p=(a=function(){var t=a.$$s||this;if(null==t.order_group&&(t.order_group=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"ordered")}return t.order_group.$register(t)},a.$$s=n,a.$$arity=0,a.$$parameters=[],a),t).call(r),n.ordered=!0,n},W.$$arity=0,W.$$parameters=[["block","block"]]),e.defn(le,"$additional_expected_calls",Z=function(){var t,r,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"additional_expected_calls"),(t=!1!==(r=a.expectation_type["$=="]("stub"))&&r!==s&&null!=r?r:a.exactly["$!"]())===s||null==t||t.$$is_boolean&&1!=t?n(a.expected_received_count,1):0},Z.$$arity=0,Z.$$parameters=[]),e.defn(le,"$ordered?",J=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ordered?"),t.ordered},J.$$arity=0,J.$$parameters=[]),e.defn(le,"$negative_expectation_for?",Q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"negative_expectation_for?"),r.message["$=="](t)?r["$negative?"]():r.message["$=="](t)},Q.$$arity=1,Q.$$parameters=[["req","message"]]),e.defn(le,"$actual_received_count_matters?",ee=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"actual_received_count_matters?"),!1!==(t=!1!==(r=a.at_least)&&r!==s&&null!=r?r:a.at_most)&&t!==s&&null!=t?t:a.exactly},ee.$$arity=0,ee.$$parameters=[]),e.defn(le,"$increase_actual_received_count!",te=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"increase_actual_received_count!"),t.actual_received_count=$(t.actual_received_count,1)},te.$$arity=0,te.$$parameters=[]),le.$private(),e.defn(le,"$invoke_incrementing_actual_calls_by",re=function(t,r,a){var n,i,o,l,c,u,_=this,p=re.$$p,d=p||s,h=arguments.length,f=h-3;f<0&&(f=0),u=new Array(f);for(var m=3;m<h;m++)u[m-3]=arguments[m];re.$$p=null;var g=arguments.length;g<3&&e.ac(g,-4,this,"invoke_incrementing_actual_calls_by"),(n=_["$yield_receiver_to_implementation_block?"]())===s||null==n||n.$$is_boolean&&1!=n||u.$unshift(_.$orig_object()),(n=!1!==(i=_["$negative?"]())&&i!==s&&null!=i?i:(o=(l=!1!==r&&r!==s&&null!=r)?!1!==(c=_.exactly)&&c!==s&&null!=c?c:_.at_most:r,!1!==o&&o!==s&&null!=o?_.actual_received_count["$=="](_.expected_received_count):o))===s||null==n||n.$$is_boolean&&1!=n||(_.actual_received_count=$(_.actual_received_count,t),_.failed_fast=!0,(n=_.error_generator).$raise_expectation_error.apply(n,[_.message,_.expected_received_count,_.argument_list_matcher,_.actual_received_count,_.$expectation_count_type()].concat(e.to_a(u)))),_.order_group.$handle_order_constraint(_);try{return(i=_.$implementation()["$present?"]())===s||null==i||i.$$is_boolean&&1!=i?!1!==a&&a!==s&&null!=a?(i=(l=a).$invoke,i.$$p=d.$to_proc(),i).apply(l,[s].concat(e.to_a(u))):s:(i=(o=_.$implementation()).$call,i.$$p=d.$to_proc(),i).apply(o,e.to_a(u))}finally{_.actual_received_count=$(_.actual_received_count,t)}},re.$$arity=-4,re.$$parameters=[["req","increment"],["req","allowed_to_fail"],["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(le,"$failed_fast?",ae=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failed_fast?"),t.failed_fast},ae.$$arity=0,ae.$$parameters=[]),e.defn(le,"$set_expected_received_count",ne=function(t,r){var a=this,n=s,$=arguments.length;return 2!==$&&e.ac($,2,this,"set_expected_received_count"),a.at_least=t["$=="]("at_least"),a.at_most=t["$=="]("at_most"),a.exactly=t["$=="]("exactly"),a.expected_received_count=function(){return n=r,ue.get("Numeric")["$==="](n)?r:"once"["$==="](n)?1:"twice"["$==="](n)?2:"thrice"["$==="](n)?3:s}()},ne.$$arity=2,ne.$$parameters=[["req","relativity"],["req","n"]]),e.defn(le,"$initial_implementation_action=",$e=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initial_implementation_action="),r=[t],a=n.$implementation(),a["$initial_action="].apply(a,r),r[r.length-1]},$e.$$arity=1,$e.$$parameters=[["req","action"]]),e.defn(le,"$inner_implementation_action=",ie=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"inner_implementation_action="),!1===t||t===s||null==t?s:((r=n.$implementation().$inner_action())===s||null==r||r.$$is_boolean&&1!=r||n.$warn_about_stub_override(),r=[t],a=n.$implementation(),a["$inner_action="].apply(a,r),r[r.length-1])},ie.$$arity=1,ie.$$parameters=[["req","action"]]),e.defn(le,"$terminal_implementation_action=",se=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"terminal_implementation_action="),r=[t],a=n.$implementation(),a["$terminal_action="].apply(a,r),r[r.length-1]},se.$$arity=1,se.$$parameters=[["req","action"]]),e.defn(le,"$warn_about_stub_override",oe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_stub_override"),ue.get("RSpec").$warning("You're overriding a previous stub implementation of `"+t.message+"`. Called from "+ue.get("CallerFilter").$first_non_rspec_line()+".")},oe.$$arity=0,oe.$$parameters=[])}(p.base,null),function(t,$super){function r(){}var a,n,$=r=l(t,$super,"AndYieldImplementation",r),i=$.$$proto,o=$.$$scope;i.args_to_yield=i.eval_context=i.error_generator=s,e.defn($,"$initialize",a=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.args_to_yield=t,n.eval_context=r,n.error_generator=a},a.$$arity=3,a.$$parameters=[["req","args_to_yield"],["req","eval_context"],["req","error_generator"]]),e.defn($,"$call",n=function(){var t,r,a,$,i=this,l=n.$$p,c=l||s,u=s,_=s,p=arguments.length,d=p-0;d<0&&(d=0),$=new Array(d);for(var h=0;h<p;h++)$[h-0]=arguments[h];return n.$$p=null,r=i.args_to_yield["$empty?"](),(t=!1!==r&&r!==s&&null!=r?i.eval_context["$nil?"]():r)===s||null==t||t.$$is_boolean&&1!=t?(!1!==c&&c!==s&&null!=c||i.error_generator.$raise_missing_block_error(i.args_to_yield),u=s,_=o.get("Support").$$scope.get("BlockSignature").$new(c),(t=(r=i.args_to_yield).$each,t.$$p=(a=function(t){var r,n,$=a.$$s||this;if(null==$.error_generator&&($.error_generator=s),null==$.eval_context&&($.eval_context=s),null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"call")}return((r=o.get("Support").$$scope.get("StrictSignatureVerifier").$new(_,t)["$valid?"]())===s||null==r||r.$$is_boolean&&1!=r)&&$.error_generator.$raise_wrong_arity_error(t,_),u=function(){return(r=$.eval_context)===s||null==r||r.$$is_boolean&&1!=r?(r=c).$call.apply(r,e.to_a(t)):(r=(n=$.eval_context).$instance_exec,r.$$p=c.$to_proc(),r).apply(n,e.to_a(t))}()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","args"]],a),t).call(r),u):s},n.$$arity=-1,n.$$parameters=[["rest","_args_to_ignore"],["block","block"]])}(p.base,null),function(r,$super){function a(){}var n,$,i=a=l(r,$super,"AndReturnImplementation",a),o=i.$$proto;i.$$scope;o.values_to_return=s,e.defn(i,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.values_to_return=t},n.$$arity=1,n.$$parameters=[["req","values_to_return"]]),e.defn(i,"$call",$=function(){var e,r,a=this,n=($.$$p,arguments.length),i=n-0;i<0&&(i=0),r=new Array(i);for(var o=0;o<n;o++)r[o-0]=arguments[o];return $.$$p=null,(e=t(a.values_to_return.$size(),1))===s||null==e||e.$$is_boolean&&1!=e?a.values_to_return.$first():a.values_to_return.$shift()},$.$$arity=-1,$.$$parameters=[["rest","_args_to_ignore"],["block","_block"]])}(p.base,null),function(t,$super){function r(){}var a,n,$,i=r=l(t,$super,"Implementation",r);i.$$proto,i.$$scope;i.$attr_accessor("initial_action","inner_action","terminal_action"),e.defn(i,"$call",a=function(){var t,r,n,$,i=this,o=a.$$p,l=o||s,c=arguments.length,u=c-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<c;_++)$[_-0]=arguments[_];return a.$$p=null,(t=(r=i.$actions()).$map,t.$$p=(n=function(t){var r,a;n.$$s;if(null==t&&(t=s),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"call")}return(r=(a=t).$call,r.$$p=l.$to_proc(),r).apply(a,e.to_a($))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","action"]],n),t).call(r).$last()},a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]]),e.defn(i,"$present?",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"present?"),t.$actions()["$any?"]()},n.$$arity=0,n.$$parameters=[]),i.$private(),e.defn(i,"$actions",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actions"),[t.$initial_action(),t.$inner_action(),t.$terminal_action()].$compact()},$.$$arity=0,$.$$parameters=[])}(p.base,null),function(t,$super){function r(){}var a,n,$,i,o,c,u,_,p=r=l(t,$super,"AndWrapOriginalImplementation",r),d=p.$$proto,h=p.$$scope;d.block=d.method=s,e.defn(p,"$initialize",a=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.method=t,a.block=r},a.$$arity=2,a.$$parameters=[["req","method"],["req","block"]]),e.cdecl(h,"CannotModifyFurtherError",h.get("Class").$new(h.get("StandardError"))),e.defn(p,"$initial_action=",n=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"initial_action="),t.$raise(t.$cannot_modify_further_error())},n.$$arity=1,n.$$parameters=[["req","_value"]]),e.defn(p,"$inner_action=",$=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"inner_action="),t.$raise(t.$cannot_modify_further_error())},$.$$arity=1,$.$$parameters=[["req","_value"]]),e.defn(p,"$terminal_action=",i=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"terminal_action="),t.$raise(t.$cannot_modify_further_error())},i.$$arity=1,i.$$parameters=[["req","_value"]]),e.defn(p,"$present?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"present?"),!0},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$inner_action",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"inner_action"),!0},c.$$arity=0,c.$$parameters=[]),e.defn(p,"$call",u=function(){var t,r,a,n=this,$=u.$$p,i=$||s,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return u.$$p=null,(t=(r=n.block).$call,t.$$p=i.$to_proc(),t).apply(r,[n.method].concat(e.to_a(a)))},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),p.$private(),e.defn(p,"$cannot_modify_further_error",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"cannot_modify_further_error"),h.get("CannotModifyFurtherError").$new("This method has already been configured to call the original implementation, and cannot be modified further.")},_.$$arity=0,_.$$parameters=[])}(p.base,null),function(t,$super){function r(){}var a,n=r=l(t,$super,"InsertOntoBacktrace",r),$=(n.$$proto,n.$$scope);e.defs(n,"$line",a=function(t){var r=a.$$p,n=r||s,i=s;a.$$p=null;var o=arguments.length;1!==o&&e.ac(o,1,this,"line");try{return e.yieldX(n,[])}catch(r){if(!e.rescue(r,[$.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError")]))throw r;i=r;try{return i.$backtrace().$insert(0,t),$.get("Kernel").$raise(i)}finally{e.pop_exception()}}},a.$$arity=1,a.$$parameters=[["req","location"]])}(p.base,null)}(p.base)}(i.base)},Opal.modules["rspec/mocks/method_double"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$attr_reader","$new","$original_method","$original_method_handle_for","$method_name","$__send__","$to_proc","$alias_method","$visibility_for","$visibility","$stash","$define_proxy_method","$save_original_method!","$class_exec","$define_method","$proxy_method_invoked","$definition_target","$message_received","$frozen?","$object_singleton_class","$show_frozen_warning","$method_is_stashed?","$restore","$restore_original_visibility","$warn_with","$inspect","$method_defined_at_any_visibility?","$each","$verify_messages_received","$expectations","$restore_original_method","$clear","$stubs","$configure_method","$message_expectation_class","$<<","$unshift","$setup_simple_method_double","$any?","$add_stub","$empty?","$raise_method_not_stubbed_error","$remove_stub_if_present","$reset","$raise","$module_prepends_supported?","$private","$usable_rspec_prepended_module","$===","$method_defined?","$new_rspec_prepended_module","$prepended_modules_of_singleton_class","$tap"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I=a=n(t,$super,"MethodDouble",a),C=I.$$proto,P=I.$$scope;C.original_method=C.method_stasher=C.proxy=C.method_name=C.object=C.method_is_proxied=C.original_visibility=C.definition_target=r,I.$attr_reader("method_name","object","expectations","stubs"),e.defn(I,"$initialize",i=function(t,a,n){
var $=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),$.method_name=a,$.object=t,$.proxy=n,$.original_visibility=r,$.method_stasher=P.get("InstanceMethodStasher").$new(t,a),$.method_is_proxied=!1,$.expectations=[],$.stubs=[]},i.$$arity=3,i.$$parameters=[["req","object"],["req","method_name"],["req","proxy"]]),e.defn(I,"$original_method",s=function(){var t,a,n,$,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"original_method"),!1!==(t=s.original_method)&&t!==r&&null!=t?t:s.original_method=!1!==(a=!1!==(n=s.method_stasher.$original_method())&&n!==r&&null!=n?n:s.proxy.$original_method_handle_for(s.$method_name()))&&a!==r&&null!=a?a:(n=($=P.get("Proc")).$new,n.$$p=(i=function(){var t,a,n,$,s=i.$$s||this;null==s.object&&(s.object=r),null==s.method_name&&(s.method_name=r),t=i.$$p||r,i.$$p=null;var o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return(n=($=s.object).$__send__,n.$$p=t.$to_proc(),n).apply($,["method_missing",s.method_name].concat(e.to_a(a)))},i.$$s=s,i.$$arity=-1,i.$$parameters=[["rest","args"],["block","block"]],i),n).call($)},s.$$arity=0,s.$$parameters=[]),I.$alias_method("save_original_method!","original_method"),e.defn(I,"$visibility",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"visibility"),t.proxy.$visibility_for(t.method_name)},o.$$arity=0,o.$$parameters=[]),e.defn(I,"$object_singleton_class",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"object_singleton_class"),function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t.object))},l.$$arity=0,l.$$parameters=[]),e.defn(I,"$configure_method",c=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"configure_method"),a.original_visibility=[a.$visibility(),a.$method_name()],((t=a.method_is_proxied)===r||null==t||t.$$is_boolean&&1!=t)&&a.method_stasher.$stash(),a.$define_proxy_method()},c.$$arity=0,c.$$parameters=[]),e.defn(I,"$define_proxy_method",u=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"define_proxy_method"),(t=$.method_is_proxied)===r||null==t||t.$$is_boolean&&1!=t?($["$save_original_method!"](),(t=(a=$.$definition_target()).$class_exec,t.$$p=(n=function(t,a,$){var i,s,o,l=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),null==$&&($=r),n.$$is_lambda||n.$$define_meth){var c=arguments.length;3!==c&&e.block_ac(c,3,"define_proxy_method")}return(i=(s=l).$define_method,i.$$p=(o=function(){var a,n,$,i,s=o.$$s||this;a=o.$$p||r,o.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return($=(i=t).$proxy_method_invoked,$.$$p=a.$to_proc(),$).apply(i,[s].concat(e.to_a(n)))},o.$$s=l,o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]],o),i).call(s,a),l.$__send__($,a)},n.$$s=$,n.$$arity=3,n.$$parameters=[["req","method_double"],["req","method_name"],["req","visibility"]],n),t).call(a,$,$.$method_name(),$.$visibility()),$.method_is_proxied=!0):r},u.$$arity=0,u.$$parameters=[]),e.defn(I,"$proxy_method_invoked",_=function(){var t,a,n,$=this,i=_.$$p,s=i||r,o=arguments.length,l=o-1;l<0&&(l=0),n=new Array(l);for(var c=1;c<o;c++)n[c-1]=arguments[c];_.$$p=null;var u=arguments.length;return u<1&&e.ac(u,-2,this,"proxy_method_invoked"),(t=(a=$.proxy).$message_received,t.$$p=s.$to_proc(),t).apply(a,[$.$method_name()].concat(e.to_a(n)))},_.$$arity=-2,_.$$parameters=[["req","_obj"],["rest","args"],["block","block"]]),e.defn(I,"$restore_original_method",p=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"restore_original_method"),(t=a.$object_singleton_class()["$frozen?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=a.method_is_proxied)===r||null==t||t.$$is_boolean&&1!=t?r:(a.$definition_target().$__send__("remove_method",a.method_name),(t=a.method_stasher["$method_is_stashed?"]())===r||null==t||t.$$is_boolean&&1!=t||a.method_stasher.$restore(),a.$restore_original_visibility(),a.method_is_proxied=!1):a.$show_frozen_warning()},p.$$arity=0,p.$$parameters=[]),e.defn(I,"$show_frozen_warning",d=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"show_frozen_warning"),P.get("RSpec").$warn_with("WARNING: rspec-mocks was unable to restore the original `"+t.method_name+"` method on "+t.object.$inspect()+" because it has been frozen.  If you reuse this object, `"+t.method_name+"` will continue to respond with its stub implementation.",$(["call_site","use_spec_location_as_call_site"],{call_site:r,use_spec_location_as_call_site:!0}))},d.$$arity=0,d.$$parameters=[]),e.defn(I,"$restore_original_visibility",h=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"restore_original_visibility"),a=n.original_visibility,(t=!1!==a&&a!==r&&null!=a?P.get("MethodReference")["$method_defined_at_any_visibility?"](n.$object_singleton_class(),n.method_name):a)===r||null==t||t.$$is_boolean&&1!=t?r:(t=n.$object_singleton_class()).$__send__.apply(t,e.to_a(n.original_visibility))},h.$$arity=0,h.$$parameters=[]),e.defn(I,"$verify",f=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"verify"),(t=(a=$.$expectations()).$each,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"verify")}return t.$verify_messages_received()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","e"]],n),t).call(a)},f.$$arity=0,f.$$parameters=[]),e.defn(I,"$reset",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.$restore_original_method(),t.$clear()},m.$$arity=0,m.$$parameters=[]),e.defn(I,"$clear",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.$expectations().$clear(),t.$stubs().$clear()},g.$$arity=0,g.$$parameters=[]),e.defn(I,"$message_expectation_class",b=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"message_expectation_class"),P.get("MessageExpectation")},b.$$arity=0,b.$$parameters=[]),e.defn(I,"$add_expectation",v=function(t,a,n,$){var i,s,o=this,l=v.$$p,c=l||r,u=r;v.$$p=null;var _=arguments.length;return 4!==_&&e.ac(_,4,this,"add_expectation"),o.$configure_method(),u=(i=(s=o.$message_expectation_class()).$new,i.$$p=c.$to_proc(),i).call(s,t,a,n,o,"expectation",$),o.$expectations()["$<<"](u),u},v.$$arity=4,v.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["req","opts"],["block","implementation"]]),e.defn(I,"$build_expectation",y=function(t,a){var n=this,$=r,i=arguments.length;return 2!==i&&e.ac(i,2,this,"build_expectation"),$=P.get("IGNORED_BACKTRACE_LINE"),n.$message_expectation_class().$new(t,a,$,n)},y.$$arity=2,y.$$parameters=[["req","error_generator"],["req","expectation_ordering"]]),e.defn(I,"$add_stub",x=function(t,a,n,i){var s,o,l=this,c=x.$$p,u=c||r,_=r;null==i&&(i=$([],{})),x.$$p=null;var p=arguments.length;return(p<3||p>4)&&e.ac(p,-4,this,"add_stub"),l.$configure_method(),_=(s=(o=l.$message_expectation_class()).$new,s.$$p=u.$to_proc(),s).call(o,t,a,n,l,"stub",i),l.$stubs().$unshift(_),_},x.$$arity=-4,x.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["opt","opts"],["block","implementation"]]),e.defn(I,"$add_simple_stub",k=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_simple_stub"),a.$setup_simple_method_double(t,r,a.$stubs())},k.$$arity=2,k.$$parameters=[["req","method_name"],["req","response"]]),e.defn(I,"$add_simple_expectation",w=function(t,r,a,n){var $=this,i=arguments.length;return 4!==i&&e.ac(i,4,this,"add_simple_expectation"),$.$setup_simple_method_double(t,r,$.$expectations(),a,n)},w.$$arity=4,w.$$parameters=[["req","method_name"],["req","response"],["req","error_generator"],["req","backtrace_line"]]),e.defn(I,"$setup_simple_method_double",q=function(t,a,n,$,i){var s=this,o=r;null==$&&($=r),null==i&&(i=r);var l=arguments.length;return(l<3||l>5)&&e.ac(l,-4,this,"setup_simple_method_double"),s.$define_proxy_method(),o=P.get("SimpleMessageExpectation").$new(t,a,$,i),n.$unshift(o),o},q.$$arity=-4,q.$$parameters=[["req","method_name"],["req","response"],["req","collection"],["opt","error_generator"],["opt","backtrace_line"]]),e.defn(I,"$add_default_stub",S=function(){var t,a,n,$=this,i=S.$$p,s=i||r,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return S.$$p=null,(t=$.$stubs()["$any?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=(a=$).$add_stub,t.$$p=s.$to_proc(),t).apply(a,e.to_a(n)):r},S.$$arity=-1,S.$$parameters=[["rest","args"],["block","implementation"]]),e.defn(I,"$remove_stub",E=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"remove_stub"),(t=a.$stubs()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t||a.$raise_method_not_stubbed_error(),a.$remove_stub_if_present()},E.$$arity=0,E.$$parameters=[]),e.defn(I,"$remove_stub_if_present",R=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"remove_stub_if_present"),(t=a.$expectations()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?a.$stubs().$clear():a.$reset()},R.$$arity=0,R.$$parameters=[]),e.defn(I,"$raise_method_not_stubbed_error",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_method_not_stubbed_error"),t.$raise(P.get("MockExpectationError"),"The method `"+t.$method_name()+"` was not stubbed or was already unstubbed")},O.$$arity=0,O.$$parameters=[]),(M=P.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==M||M.$$is_boolean&&1!=M?(I.$private(),e.defn(I,"$definition_target",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"definition_target"),t.$object_singleton_class()},T.$$arity=0,T.$$parameters=[])):(I.$private(),e.cdecl(P,"RSpecPrependedModule",P.get("Class").$new(P.get("Module"))),e.defn(I,"$definition_target",A=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"definition_target"),!1!==(t=n.definition_target)&&t!==r&&null!=t?t:n.definition_target=!1!==(a=n.$usable_rspec_prepended_module())&&a!==r&&null!=a?a:n.$object_singleton_class()},A.$$arity=0,A.$$parameters=[]),e.defn(I,"$usable_rspec_prepended_module",z=function(){try{var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"usable_rspec_prepended_module"),(t=(a=$.proxy.$prepended_modules_of_singleton_class()).$each,t.$$p=(n=function(t){var a,$=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"usable_rspec_prepended_module")}if((a=P.get("RSpecPrependedModule")["$==="](t))===r||null==a||a.$$is_boolean&&1!=a||e.ret(t),(a=t["$method_defined?"]($.$method_name()))===r||null==a||a.$$is_boolean&&1!=a)return r;e.ret($.$new_rspec_prepended_module())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","mod"]],n),t).call(a),r}catch(t){if(t===e.returner)return t.$v;throw t}},z.$$arity=0,z.$$parameters=[]),e.defn(I,"$new_rspec_prepended_module",j=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"new_rspec_prepended_module"),(t=(a=P.get("RSpecPrependedModule").$new()).$tap,t.$$p=(n=function(t){var a=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"new_rspec_prepended_module")}return a.$object_singleton_class().$__send__("prepend",t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","mod"]],n),t).call(a)},j.$$arity=0,j.$$parameters=[]))}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/mocks/method_reference"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$when_loaded","$method_implemented?","$!","$implemented?","$method_defined?","$original_method","$new","$visibility_from","$private","$defined?","$find_method","$public_method_defined?","$private_method_defined?","$protected_method_defined?","$tap","$nil?","$respond_to?","$instance_method_visibility_for","$method_defined_at_any_visibility?","$==","$<","$to_i","$[]","$split","$instance_method","$dup","$method","$method_visibility_for"]),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Mocks"),o=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var n,i,s,o,l,c,u,_,p,d=r=$(t,$super,"MethodReference",r),h=d.$$proto,f=d.$$scope;h.object_reference=a,e.defn(d,"$initialize",n=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.object_reference=t,a.method_name=r},n.$$arity=2,n.$$parameters=[["req","object_reference"],["req","method_name"]]),e.defn(d,"$implemented?",i=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"implemented?"),(t=(r=$.object_reference).$when_loaded,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"implemented?")}return r["$method_implemented?"](t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","m"]],n),t).call(r)},i.$$arity=0,i.$$parameters=[]),e.defn(d,"$unimplemented?",s=function(){try{var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"unimplemented?"),(t=(r=$.object_reference).$when_loaded,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"unimplemented?")}e.ret(r["$implemented?"]()["$!"]())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","_m"]],n),t).call(r),!1}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$defined?",o=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"defined?"),(t=(r=$.object_reference).$when_loaded,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"defined?")}return r["$method_defined?"](t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","m"]],n),t).call(r)},o.$$arity=0,o.$$parameters=[]),e.defn(d,"$with_signature",l=function(){var t,r=this,n=l.$$p,$=n||a,i=a;l.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"with_signature"),(t=i=r.$original_method())===a||null==t||t.$$is_boolean&&1!=t?a:e.yield1($,f.get("Support").$$scope.get("MethodSignature").$new(i))},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$visibility",c=function(){try{var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"visibility"),(t=(r=$.object_reference).$when_loaded,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"visibility")}e.ret(r.$visibility_from(t))},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","m"]],n),t).call(r),"public"}catch(t){if(t===e.returner)return t.$v;throw t}},c.$$arity=0,c.$$parameters=[]),d.$private(),e.defn(d,"$original_method",u=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"original_method"),(t=(r=$.object_reference).$when_loaded,t.$$p=(n=function(t){var r,$=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"original_method")}return r=$["$defined?"](),!1!==r&&r!==a&&null!=r?$.$find_method(t):r},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","m"]],n),t).call(r)},u.$$arity=0,u.$$parameters=[]),e.defs(d,"$instance_method_visibility_for",_=function(t,r){var n,$=arguments.length;return 2!==$&&e.ac($,2,this,"instance_method_visibility_for"),(n=t["$public_method_defined?"](r))===a||null==n||n.$$is_boolean&&1!=n?(n=t["$private_method_defined?"](r))===a||null==n||n.$$is_boolean&&1!=n?(n=t["$protected_method_defined?"](r))===a||null==n||n.$$is_boolean&&1!=n?a:"protected":"private":"public"},_.$$arity=2,_.$$parameters=[["req","klass"],["req","method_name"]]),function(t){t.$$scope,t.$$proto;e.alias(t,"method_defined_at_any_visibility?","instance_method_visibility_for")}(e.get_singleton_class(d)),e.defs(d,"$method_visibility_for",p=function(t,r){try{var n,$,i,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"method_visibility_for"),(n=($=s.$instance_method_visibility_for(function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t)),r)).$tap,n.$$p=(i=function(n){var $,s;i.$$s;if(null==n&&(n=a),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"method_visibility_for")}if(s=n["$nil?"](),($=!1!==s&&s!==a&&null!=s?t["$respond_to?"](r,!1):s)===a||null==$||$.$$is_boolean&&1!=$)return a;e.ret("public")},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","vis"]],i),n).call($)}catch(t){if(t===e.returner)return t.$v;throw t}},p.$$arity=2,p.$$parameters=[["req","object"],["req","method_name"]])}(o.base,null),function(r,$super){function n(){}var i,s,o,l,c,u=n=$(r,$super,"InstanceMethodReference",n),_=u.$$proto,p=u.$$scope;_.method_name=a,u.$private(),e.defn(u,"$method_implemented?",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_implemented?"),p.get("MethodReference")["$method_defined_at_any_visibility?"](t,r.method_name)},i.$$arity=1,i.$$parameters=[["req","mod"]]),e.alias(u,"method_defined?","method_implemented?"),(s=p.get("RUBY_PLATFORM")["$=="]("java")?t(p.get("JRUBY_VERSION").$split(".")["$[]"](-1).$to_i(),5):p.get("RUBY_PLATFORM")["$=="]("java"))===a||null==s||s.$$is_boolean&&1!=s?e.defn(u,"$find_method",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$instance_method(r.method_name)},l.$$arity=1,l.$$parameters=[["req","mod"]]):e.defn(u,"$find_method",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$dup().$instance_method(r.method_name)},o.$$arity=1,o.$$parameters=[["req","mod"]]),e.defn(u,"$visibility_from",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_from"),p.get("MethodReference").$instance_method_visibility_for(t,r.method_name)},c.$$arity=1,c.$$parameters=[["req","mod"]])}(o.base,o.get("MethodReference")),function(t,$super){function r(){}var n,i,s,o,l=r=$(t,$super,"ObjectMethodReference",r),c=l.$$proto,u=l.$$scope;c.method_name=a,l.$private(),e.defn(l,"$method_implemented?",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_implemented?"),t["$respond_to?"](r.method_name,!0)},n.$$arity=1,n.$$parameters=[["req","object"]]),e.defn(l,"$method_defined?",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_defined?"),function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t))["$method_defined?"](r.method_name)},i.$$arity=1,i.$$parameters=[["req","object"]]),e.defn(l,"$find_method",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$method(r.method_name)},s.$$arity=1,s.$$parameters=[["req","object"]]),e.defn(l,"$visibility_from",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_from"),u.get("MethodReference").$method_visibility_for(t,r.method_name)},o.$$arity=1,o.$$parameters=[["req","object"]])}(o.base,o.get("MethodReference"))}(o.base)}(r.base)},Opal.modules["rspec/mocks/mutate_const"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass,s=e.hash2,o=e.hash;return e.add_stubs(["$require_rspec_support","$extend","$attr_reader","$attr_accessor","$attr_writer","$name","$class","$new","$previously_defined=","$recursive_const_defined?","$stubbed=","$hidden=","$previously_defined?","$original_value=","$recursive_const_get","$constant_mutator_for","$space","$to_constant","$unmutated","$to_proc","$raise_on_invalid_const","$mutate","$[]","$include","$normalize_const_name","$split","$pop","$full_constant_name","$original_value","$reset","$join","$get_const_defined_on","$__send__","$const_set","$verify_constants_to_transfer!","$transfer_nested_constants","$each","$should_transfer_nested_constants?","$respond_to?","$raise","$===","$==","$map","$-","$constants_defined_on","$any?","$transfer_nested_constants?","$configuration","$inject","$const_defined_on?","$stub","$name_for","$private","$+","$register_constant_mutator","$lambda"]),a.get("RSpec").$$scope.get("Support").$require_rspec_support("recursive_const_methods"),function(a){var l,c=l=$(a,"RSpec"),u=(c.$$proto,c.$$scope);!function(a){var l,c=l=$(a,"Mocks"),u=(c.$$proto,c.$$scope);!function(t,$super){function r(){}var a,$,s,o,l,c,u,_,p=r=i(t,$super,"Constant",r),d=p.$$proto,h=p.$$scope;d.previously_defined=d.stubbed=d.hidden=n,p.$extend(h.get("Support").$$scope.get("RecursiveConstMethods")),e.defn(p,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.name=t,r.previously_defined=!1,r.stubbed=!1,r.hidden=!1},a.$$arity=1,a.$$parameters=[["req","name"]]),p.$attr_reader("name"),p.$attr_accessor("original_value"),p.$attr_writer("previously_defined","stubbed","hidden"),e.defn(p,"$previously_defined?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"previously_defined?"),t.previously_defined},$.$$arity=0,$.$$parameters=[]),e.defn(p,"$mutated?",s=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"mutated?"),!1!==(t=r.stubbed)&&t!==n&&null!=t?t:r.hidden},s.$$arity=0,s.$$parameters=[]),e.defn(p,"$stubbed?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"stubbed?"),t.stubbed},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$hidden?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hidden?"),t.hidden},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$to_s",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),"#<"+t.$class().$name()+" "+t.$name()+">"},c.$$arity=0,c.$$parameters=[]),e.alias(p,"inspect","to_s"),e.defs(p,"$unmutated",u=function(t){var r,a,$=this,i=n,s=arguments.length;return 1!==s&&e.ac(s,1,this,"unmutated"),i=$.$new(t),r=[$["$recursive_const_defined?"](t)],a=i,a["$previously_defined="].apply(a,r),r[r.length-1],r=[!1],a=i,a["$stubbed="].apply(a,r),r[r.length-1],r=[!1],a=i,a["$hidden="].apply(a,r),r[r.length-1],(r=i["$previously_defined?"]())===n||null==r||r.$$is_boolean&&1!=r||(r=[$.$recursive_const_get(t)],a=i,a["$original_value="].apply(a,r),r[r.length-1]),i},u.$$arity=1,u.$$parameters=[["req","name"]]),e.defs(p,"$original",_=function(t){var r=this,a=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"original"),a=e.get("RSpec").$$scope.get("Mocks").$space().$constant_mutator_for(t),!1!==a&&a!==n&&null!=a?a.$to_constant():r.$unmutated(t)},_.$$arity=1,_.$$parameters=[["req","name"]])}(u.base,null),function(a,$super){function $(){}var l,c,u,_,p=$=i(a,$super,"ConstantMutator",$),d=(p.$$proto,p.$$scope);p.$extend(d.get("Support").$$scope.get("RecursiveConstMethods")),e.defs(p,"$stub",l=function(t,r,a){var $,i,o,l=this,c=n;null==a&&(a=s([],{}));var u=arguments.length;return(u<2||u>3)&&e.ac(u,-3,this,"stub"),c=function(){return($=(i=(o=l)["$recursive_const_defined?"],i.$$p=l.$raise_on_invalid_const().$to_proc(),i).call(o,t))===n||null==$||$.$$is_boolean&&1!=$?d.get("UndefinedConstantSetter"):d.get("DefinedConstantReplacer")}(),l.$mutate(c.$new(t,r,a["$[]"]("transfer_nested_constants"))),r},l.$$arity=-3,l.$$parameters=[["req","constant_name"],["req","value"],["opt","options"]]),e.defs(p,"$hide",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"hide"),r.$mutate(d.get("ConstantHider").$new(t,n,s([],{}))),n},c.$$arity=1,c.$$parameters=[["req","constant_name"]]),function(t,$super){function r(){}var a,$,s,o=r=i(t,$super,"BaseMutator",r),l=o.$$proto,c=o.$$scope;l.full_constant_name=l.context_parts=l.reset_performed=n,o.$include(c.get("Support").$$scope.get("RecursiveConstMethods")),o.$attr_reader("original_value","full_constant_name"),e.defn(o,"$initialize",a=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),n.full_constant_name=n.$normalize_const_name(t),n.mutated_value=r,n.transfer_nested_constants=a,n.context_parts=n.full_constant_name.$split("::"),n.const_name=n.context_parts.$pop(),n.reset_performed=!1},a.$$arity=3,a.$$parameters=[["req","full_constant_name"],["req","mutated_value"],["req","transfer_nested_constants"]]),e.defn(o,"$to_constant",$=function(){var t,r,a=this,$=n,i=arguments.length;return 0!==i&&e.ac(i,0,this,"to_constant"),$=c.get("Constant").$new(a.$full_constant_name()),t=[a.$original_value()],r=$,r["$original_value="].apply(r,t),t[t.length-1],$},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$idempotently_reset",s=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"idempotently_reset"),((t=r.reset_performed)===n||null==t||t.$$is_boolean&&1!=t)&&r.$reset(),r.reset_performed=!0},s.$$arity=0,s.$$parameters=[])}(d.base,null),function(t,$super){function r(){}var a,$,s,o=r=i(t,$super,"ConstantHider",r),l=o.$$proto,c=o.$$scope;l.context_parts=l.context=l.const_name=l.defined=l.original_value=n,e.defn(o,"$mutate",a=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"mutate"),(t=r.defined=r["$recursive_const_defined?"](r.$full_constant_name()))===n||null==t||t.$$is_boolean&&1!=t?n:(r.context=r.$recursive_const_get(r.context_parts.$join("::")),r.original_value=r.$get_const_defined_on(r.context,r.const_name),r.context.$__send__("remove_const",r.const_name))},a.$$arity=0,a.$$parameters=[]),e.defn(o,"$to_constant",$=function(){var t,r,a,i=this,s=$.$$p,o=n,l=n,u=n;$.$$p=null;var _=arguments.length;for(0!==_&&e.ac(_,0,this,"to_constant"),l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return(t=i.defined)===n||null==t||t.$$is_boolean&&1!=t?c.get("Constant").$unmutated(i.$full_constant_name()):(o=(r=i,t=e.find_super_dispatcher(i,"to_constant",$,!1),t.$$p=s,t).apply(r,l),t=[!0],a=o,a["$hidden="].apply(a,t),t[t.length-1],t=[!0],a=o,a["$previously_defined="].apply(a,t),t[t.length-1],o)},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$reset",s=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"reset"),(t=r.defined)===n||null==t||t.$$is_boolean&&1!=t?n:r.context.$const_set(r.const_name,r.original_value)},s.$$arity=0,s.$$parameters=[])}(d.base,d.get("BaseMutator")),function(r,$super){function a(){}var $,s,l,c,u,_,p,d=a=i(r,$super,"DefinedConstantReplacer",a),h=d.$$proto,f=d.$$scope;h.context_parts=h.context=h.const_name=h.mutated_value=h.constants_to_transfer=h.original_value=h.transfer_nested_constants=h.full_constant_name=n,e.defn(d,"$initialize",$=function(){var t,r,a,i=this,s=$.$$p,o=n,l=n,c=arguments.length,u=c-0;u<0&&(u=0),a=new Array(u);for(var _=0;_<c;_++)a[_-0]=arguments[_];for($.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(r=i,t=e.find_super_dispatcher(i,"initialize",$,!1),t.$$p=s,t).apply(r,o),i.constants_to_transfer=[]},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(d,"$mutate",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mutate"),t.context=t.$recursive_const_get(t.context_parts.$join("::")),t.original_value=t.$get_const_defined_on(t.context,t.const_name),t.constants_to_transfer=t["$verify_constants_to_transfer!"](),t.context.$__send__("remove_const",t.const_name),t.context.$const_set(t.const_name,t.mutated_value),t.$transfer_nested_constants()},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$to_constant",l=function(){var t,r,a,$=this,i=l.$$p,s=n,o=n,c=n;l.$$p=null;var u=arguments.length;for(0!==u&&e.ac(u,0,this,"to_constant"),o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return s=(r=$,t=e.find_super_dispatcher($,"to_constant",l,!1),t.$$p=i,t).apply(r,o),t=[!0],a=s,a["$stubbed="].apply(a,t),t[t.length-1],t=[!0],a=s,a["$previously_defined="].apply(a,t),t[t.length-1],s},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$reset",c=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"reset"),(t=(r=$.constants_to_transfer).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==r.mutated_value&&(r.mutated_value=n),null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"reset")}return r.mutated_value.$__send__("remove_const",t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","const"]],a),t).call(r),$.context.$__send__("remove_const",$.const_name),$.context.$const_set($.const_name,$.original_value)},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$transfer_nested_constants",u=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"transfer_nested_constants"),(t=(r=$.constants_to_transfer).$each,t.$$p=(a=function(t){var r=a.$$s||this;if(null==r.mutated_value&&(r.mutated_value=n),null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"transfer_nested_constants")}return r.mutated_value.$const_set(t,r.$get_const_defined_on(r.$original_value(),t))},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","const"]],a),t).call(r)},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$verify_constants_to_transfer!",_=function(){var r,a,$,i,s=this,l=n,c=n,u=arguments.length;return 0!==u&&e.ac(u,0,this,"verify_constants_to_transfer!"),(r=s["$should_transfer_nested_constants?"]())===n||null==r||r.$$is_boolean&&1!=r?[]:((r=(a=o(s.original_value,"the original value",s.mutated_value,"the stubbed value")).$each,r.$$p=($=function(t,r){var a,i=$.$$s||this;if(null==i.full_constant_name&&(i.full_constant_name=n),null==t&&(t=n),null==r&&(r=n),$.$$is_lambda||$.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"verify_constants_to_transfer!")}return(a=t["$respond_to?"]("constants"))===n||null==a||a.$$is_boolean&&1!=a?i.$raise(f.get("ArgumentError"),"Cannot transfer nested constants for "+i.full_constant_name+" since "+r+" is not a class or module and only classes and modules support nested constants."):n},$.$$s=s,$.$$arity=2,$.$$parameters=[["req","value"],["req","description"]],$),r).call(a),(r=f.get("Array")["$==="](s.transfer_nested_constants))===n||null==r||r.$$is_boolean&&1!=r?s.$constants_defined_on(s.original_value):(f.get("RUBY_VERSION")["$=="]("1.8.7")&&(s.transfer_nested_constants=(r=(i=s.transfer_nested_constants).$map,r.$$p="to_s".$to_proc(),r).call(i)),l=t(s.transfer_nested_constants,s.$constants_defined_on(s.original_value)),(r=l["$any?"]())===n||null==r||r.$$is_boolean&&1!=r||(c=t(s.$constants_defined_on(s.original_value),s.transfer_nested_constants),s.$raise(f.get("ArgumentError"),"Cannot transfer nested constant(s) "+l.$join(" and ")+" for "+s.full_constant_name+" since they are not defined. Did you mean "+c.$join(" or ")+"?")),s.transfer_nested_constants))},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$should_transfer_nested_constants?",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"should_transfer_nested_constants?"),!((t=r.transfer_nested_constants)===n||null==t||t.$$is_boolean&&1!=t)||!((t=f.get("RSpec").$$scope.get("Mocks").$configuration()["$transfer_nested_constants?"]())===n||null==t||t.$$is_boolean&&1!=t)&&(t=r.original_value["$respond_to?"]("constants"),!1!==t&&t!==n&&null!=t?r.mutated_value["$respond_to?"]("constants"):t)},p.$$arity=0,p.$$parameters=[])}(d.base,d.get("BaseMutator")),function(t,$super){function a(){}var $,s,o,l,c=a=i(t,$super,"UndefinedConstantSetter",a),u=c.$$proto,_=c.$$scope;u.context_parts=u.parent=u.const_name=u.mutated_value=n,e.defn(c,"$mutate",$=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"mutate"),$.parent=(t=(r=$.context_parts).$inject,t.$$p=(a=function(t,r){var $,i=a.$$s||this;if(null==t&&(t=n),null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"mutate")}return($=i["$const_defined_on?"](t,r))===n||null==$||$.$$is_boolean&&1!=$?_.get("ConstantMutator").$stub(i.$name_for(t,r),_.get("Module").$new()):i.$get_const_defined_on(t,r)},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","klass"],["req","name"]],a),t).call(r,_.get("Object")),$.parent.$const_set($.const_name,$.mutated_value)},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$to_constant",s=function(){var t,r,a,$=this,i=s.$$p,o=n,l=n,c=n;s.$$p=null;var u=arguments.length;for(0!==u&&e.ac(u,0,this,"to_constant"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return o=(r=$,t=e.find_super_dispatcher($,"to_constant",s,!1),t.$$p=i,t).apply(r,l),t=[!0],a=o,a["$stubbed="].apply(a,t),t[t.length-1],t=[!1],a=o,a["$previously_defined="].apply(a,t),t[t.length-1],o},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$reset",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.parent.$__send__("remove_const",t.const_name)},o.$$arity=0,o.$$parameters=[]),c.$private(),e.defn(c,"$name_for",l=function(t,a){var $=n,i=arguments.length;return 2!==i&&e.ac(i,2,this,"name_for"),$=function(){return t["$=="](_.get("Object"))?"":t.$name()}(),r(r($,"::"),a)},l.$$arity=2,l.$$parameters=[["req","parent"],["req","name"]])}(d.base,d.get("BaseMutator")),e.defs(p,"$mutate",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"mutate"),
e.get("RSpec").$$scope.get("Mocks").$space().$register_constant_mutator(t),t.$mutate()},u.$$arity=1,u.$$parameters=[["req","mutator"]]),e.defs(p,"$raise_on_invalid_const",_=function(){var t,r,a,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"raise_on_invalid_const"),(t=(r=$).$lambda,t.$$p=(a=function(t,r){var $=a.$$s||this;if(null==t&&(t=n),null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"raise_on_invalid_const")}return $.$raise("Cannot stub constant "+r+" on "+t+" since "+t+" is not a module.")},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","const_name"],["req","failed_name"]],a),t).call(r)},_.$$arity=0,_.$$parameters=[])}(u.base,null)}(u.base)}(a.base)},Opal.modules["rspec/mocks/object_reference"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$===","$new","$raise","$inspect","$name","$!","$object","$private","$original_value","$original"]),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Mocks"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i=a=n(t,$super,"ObjectReference",a),s=(i.$$proto,i.$$scope);e.defs(i,"$for",$=function(t,a){var n=this,$=r;null==a&&(a=!1);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"for"),function(){return $=t,s.get("Module")["$==="]($)?s.get("DirectModuleReference").$new(t):s.get("String")["$==="]($)?s.get("NamedObjectReference").$new(t):!1!==a&&a!==r&&null!=a?s.get("DirectObjectReference").$new(t):n.$raise(s.get("ArgumentError"),"Module or String expected, got "+t.$inspect())}()},$.$$arity=-2,$.$$parameters=[["req","object_module_or_name"],["opt","allow_direct_object_refs"]])}(s.base,null),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"DirectObjectReference",a),u=c.$$proto,_=c.$$scope;u.object=r,e.defn(c,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.object=t},$.$$arity=1,$.$$parameters=[["req","object"]]),e.defn(c,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.object.$inspect()},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$const_to_replace",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.$raise(_.get("ArgumentError"),"Can not perform constant replacement with an object.")},s.$$arity=0,s.$$parameters=[]),e.defn(c,"$defined?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"defined?"),!0},o.$$arity=0,o.$$parameters=[]),e.defn(c,"$when_loaded",l=function(){var t=this,a=l.$$p,n=a||r;l.$$p=null;var $=arguments.length;return 0!==$&&e.ac($,0,this,"when_loaded"),e.yield1(n,t.object)},l.$$arity=0,l.$$parameters=[])}(s.base,null),function(t,$super){function a(){}var $,i=a=n(t,$super,"DirectModuleReference",a),s=i.$$proto;i.$$scope;s.object=r,e.defn(i,"$const_to_replace",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.object.$name()},$.$$arity=0,$.$$parameters=[]),e.alias(i,"description","const_to_replace")}(s.base,s.get("DirectObjectReference")),function(t,$super){function a(){}var $,i,s,o,l,c=a=n(t,$super,"NamedObjectReference",a),u=c.$$proto,_=c.$$scope;u.const_name=u.object=r,e.defn(c,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.const_name=t},$.$$arity=1,$.$$parameters=[["req","const_name"]]),e.defn(c,"$defined?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"defined?"),t.$object()["$!"]()["$!"]()},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$const_to_replace",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.const_name},s.$$arity=0,s.$$parameters=[]),e.alias(c,"description","const_to_replace"),e.defn(c,"$when_loaded",o=function(){var t,a=this,n=o.$$p,$=n||r;o.$$p=null;var i=arguments.length;return 0!==i&&e.ac(i,0,this,"when_loaded"),(t=a.$object())===r||null==t||t.$$is_boolean&&1!=t?r:e.yield1($,a.$object())},o.$$arity=0,o.$$parameters=[["block","_block"]]),c.$private(),e.defn(c,"$object",l=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"object"),!1!==(t=a.object)&&t!==r&&null!=t?t:a.object=_.get("Constant").$original(a.const_name).$original_value()},l.$$arity=0,l.$$parameters=[])}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/mocks/order_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.range;return e.add_stubs(["$<<","$==","$find","$to_proc","$remaining_expectations","$each_with_index","$ordered?","$+","$include?","$ready_for?","$consume","$raise_out_of_order_error","$expectations_invoked_in_order?","$clear","$empty?","$private","$[]","$invoked_expectations","$expected_invocations","$select","$compact","$map","$expectation_for"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Mocks"),l=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y=n=$(r,$super,"OrderGroup",n),x=y.$$proto;y.$$scope;x.expectations=x.invocation_order=x.index=a,e.defn(y,"$initialize",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.expectations=[],t.invocation_order=[],t.index=0},s.$$arity=0,s.$$parameters=[]),e.defn(y,"$register",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register"),r.expectations["$<<"](t)},o.$$arity=1,o.$$parameters=[["req","expectation"]]),e.defn(y,"$invoked",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"invoked"),r.invocation_order["$<<"](t)},l.$$arity=1,l.$$parameters=[["req","message"]]),e.defn(y,"$ready_for?",c=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"ready_for?"),(r=(a=n.$remaining_expectations()).$find,r.$$p="ordered?".$to_proc(),r).call(a)["$=="](t)},c.$$arity=1,c.$$parameters=[["req","expectation"]]),e.defn(y,"$consume",u=function(){try{var r,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"consume"),(r=(n=i.$remaining_expectations()).$each_with_index,r.$$p=($=function(r,n){var i,s=$.$$s||this;if(null==s.index&&(s.index=a),null==r&&(r=a),null==n&&(n=a),$.$$is_lambda||$.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"consume")}if((i=r["$ordered?"]())===a||null==i||i.$$is_boolean&&1!=i)return a;s.index=t(s.index,t(n,1)),e.ret(r)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","expectation"],["req","index"]],$),r).call(n),a}catch(t){if(t===e.returner)return t.$v;throw t}},u.$$arity=0,u.$$parameters=[]),e.defn(y,"$handle_order_constraint",_=function(t){var r,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"handle_order_constraint"),n=t["$ordered?"](),(r=!1!==n&&n!==a&&null!=n?$.$remaining_expectations()["$include?"](t):n)===a||null==r||r.$$is_boolean&&1!=r?a:(r=$["$ready_for?"](t))===a||null==r||r.$$is_boolean&&1!=r?t.$raise_out_of_order_error():$.$consume()},_.$$arity=1,_.$$parameters=[["req","expectation"]]),e.defn(y,"$verify_invocation_order",p=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"verify_invocation_order"),((r=n["$expectations_invoked_in_order?"]())===a||null==r||r.$$is_boolean&&1!=r)&&t.$raise_out_of_order_error(),!0},p.$$arity=1,p.$$parameters=[["req","expectation"]]),e.defn(y,"$clear",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.index=0,t.invocation_order.$clear(),t.expectations.$clear()},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$empty?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.expectations["$empty?"]()},h.$$arity=0,h.$$parameters=[]),y.$private(),e.defn(y,"$remaining_expectations",f=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"remaining_expectations"),!1!==(t=r.expectations["$[]"](i(r.index,-1,!1)))&&t!==a&&null!=t?t:[]},f.$$arity=0,f.$$parameters=[]),e.defn(y,"$expectations_invoked_in_order?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectations_invoked_in_order?"),t.$invoked_expectations()["$=="](t.$expected_invocations())},m.$$arity=0,m.$$parameters=[]),e.defn(y,"$invoked_expectations",g=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"invoked_expectations"),(t=(r=$.expectations).$select,t.$$p=(n=function(t){var r,$=n.$$s||this;if(null==$.invocation_order&&($.invocation_order=a),null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"invoked_expectations")}return r=t["$ordered?"](),!1!==r&&r!==a&&null!=r?$.invocation_order["$include?"](t):r},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","e"]],n),t).call(r)},g.$$arity=0,g.$$parameters=[]),e.defn(y,"$expected_invocations",b=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expected_invocations"),(t=(r=$.invocation_order).$map,t.$$p=(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"expected_invocations")}return r.$expectation_for(t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","invocation"]],n),t).call(r).$compact()},b.$$arity=0,b.$$parameters=[]),e.defn(y,"$expectation_for",v=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"expectation_for"),(r=(n=i.expectations).$find,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"expectation_for")}return t["$=="](r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","e"]],$),r).call(n)},v.$$arity=1,v.$$parameters=[["req","message"]])}(l.base,null)}(l.base)}(r.base)},Opal.modules["rspec/mocks/proxy"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$new","$==","$orig_object","$object","$matches?","$message","$args","$[]=","$attr_reader","$fetch","$first_non_rspec_line","$method_double_for","$null_object?","$!","$add_default_stub","$add_expectation","$to_proc","$add_simple_expectation","$build_expectation","$any?","$expectations","$raise_expectation_on_mocked_method","$stubs","$raise_expectation_on_unstubbed_method","$each","$safe_invoke","$call","$matches_name_but_not_args","$raise_unexpected_message_args_error","$add_stub","$add_simple_stub","$remove_stub","$remove_stub_if_present","$each_value","$verify","$clear","$find","$negative_expectation_for?","$invoked","$<<","$record_message_received","$find_matching_expectation","$find_matching_method_stub","$called_max_times?","$actual_received_count_matters?","$increase_actual_received_count!","$find_almost_matching_expectation","$expected_messages_received?","$advise","$invoke","$has_negative_expectation?","$find_almost_matching_stub","$raise_missing_default_stub_error","$===","$__send__","$superclass","$raise_unexpected_message_error","$module_prepends_supported?","$ancestors","$index","$[]","$prepended_modules_of","$singleton_class","$private","$to_sym","$find_best_matching_expectation_for","$__disallow_further_usage!","$any_instance_class_recorder_observing_method?","$class","$build_alias_method_name","$any_instance_recorder_for","$space","$method_handle_for","$configure_method","$method_visibility_for","$reset","$notify_received_message","$any_instance_recorders_from_ancestry_of","$already_observing?","$nil?","$superclass_proxy","$original_unbound_method_handle_from_ancestor_for","$bind","$protected","$unbind","$original_method","$proxy_for","$include","$attr_accessor","$warn_about_expectations?","$warn"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N,F,D,B=a=n(t,$super,"Proxy",a),H=B.$$proto,L=B.$$scope;H.null_object=H.object=H.error_generator=H.order_group=H.messages_received=H.method_doubles=H.prepended_modules_of_singleton_class=r,e.cdecl(L,"SpecificMessage",(i=(s=L.get("Struct")).$new,i.$$p=(o=function(){var t,a=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<class:Proxy>")}return e.def(a,"$==",t=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"=="),t.$orig_object()["$=="](a.$object())?(r=t)["$matches?"].apply(r,[a.$message()].concat(e.to_a(a.$args()))):t.$orig_object()["$=="](a.$object())},t.$$arity=1,t.$$parameters=[["req","expectation"]]),r&&"=="},o.$$s=B,o.$$arity=0,o.$$parameters=[],o),i).call(s,"object","message","args")),e.defn(B,"$ensure_implemented",l=function(){var e,t=arguments.length,a=t-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<t;n++)e[n-0]=arguments[n];return r},l.$$arity=-1,l.$$parameters=[["rest","_args"]]),e.defn(B,"$initialize",c=function(t,a,n,i){var s,o,l,c=this;null==n&&(n=r),null==i&&(i=$([],{}));var u=arguments.length;return(u<2||u>4)&&e.ac(u,-3,this,"initialize"),c.object=t,c.order_group=a,c.name=n,c.error_generator=L.get("ErrorGenerator").$new(t,n),c.messages_received=[],c.options=i,c.null_object=!1,c.method_doubles=(s=(o=L.get("Hash")).$new,s.$$p=(l=function(t,a){var n=l.$$s||this;if(null==n.object&&(n.object=r),null==t&&(t=r),null==a&&(a=r),l.$$is_lambda||l.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"initialize")}return t["$[]="](a,L.get("MethodDouble").$new(n.object,a,n))},l.$$s=c,l.$$arity=2,l.$$parameters=[["req","h"],["req","k"]],l),s).call(o)},c.$$arity=-3,c.$$parameters=[["req","object"],["req","order_group"],["opt","name"],["opt","options"]]),B.$attr_reader("object"),e.defn(B,"$null_object?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"null_object?"),t.null_object},u.$$arity=0,u.$$parameters=[]),e.defn(B,"$as_null_object",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),t.null_object=!0,t.object},_.$$arity=0,_.$$parameters=[]),e.defn(B,"$original_method_handle_for",p=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"original_method_handle_for"),r},p.$$arity=1,p.$$parameters=[["req","_message"]]),e.defn(B,"$add_message_expectation",d=function(t,a){var n,i,s,o,l,c,u=this,_=d.$$p,p=_||r,h=r,f=r;null==a&&(a=$([],{})),d.$$p=null;var m=arguments.length;return(m<1||m>2)&&e.ac(m,-2,this,"add_message_expectation"),h=(n=(i=a).$fetch,n.$$p=(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add_message_expectation")}return L.get("CallerFilter").$first_non_rspec_line()},s.$$s=u,s.$$arity=0,s.$$parameters=[],s),n).call(i,"expected_from"),f=u.$method_double_for(t),o=u["$null_object?"](),(n=!1!==o&&o!==r&&null!=o?p["$!"]():o)===r||null==n||n.$$is_boolean&&1!=n||(n=(o=f).$add_default_stub,n.$$p=(l=function(){var t=l.$$s||this;if(null==t.object&&(t.object=r),l.$$is_lambda||l.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"add_message_expectation")}return t.object},l.$$s=u,l.$$arity=0,l.$$parameters=[],l),n).call(o,u.error_generator,u.order_group,h,a),(n=(c=f).$add_expectation,n.$$p=p.$to_proc(),n).call(c,u.error_generator,u.order_group,h,a)},d.$$arity=-2,d.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(B,"$add_simple_expectation",h=function(t,r,a){var n=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"add_simple_expectation"),n.$method_double_for(t).$add_simple_expectation(t,r,n.error_generator,a)},h.$$arity=3,h.$$parameters=[["req","method_name"],["req","response"],["req","location"]]),e.defn(B,"$build_expectation",f=function(t){var a=this,n=r,$=arguments.length;return 1!==$&&e.ac($,1,this,"build_expectation"),n=a.$method_double_for(t),n.$build_expectation(a.error_generator,a.order_group)},f.$$arity=1,f.$$parameters=[["req","method_name"]]),e.defn(B,"$replay_received_message_on",m=function(t){var a,n,$,i=this,s=m.$$p,o=s||r,l=r,c=r;m.$$p=null;var u=arguments.length;return 1!==u&&e.ac(u,1,this,"replay_received_message_on"),l=t.$message(),c=i.$method_double_for(l),(a=c.$expectations()["$any?"]())===r||null==a||a.$$is_boolean&&1!=a||i.error_generator.$raise_expectation_on_mocked_method(l),((a=!1!==(n=i["$null_object?"]())&&n!==r&&null!=n?n:c.$stubs()["$any?"]())===r||null==a||a.$$is_boolean&&1!=a)&&i.error_generator.$raise_expectation_on_unstubbed_method(l),(a=(n=i.messages_received).$each,a.$$p=($=function(a){var n,i,s,l,c,u;$.$$s;if(null==a&&(a=r),a=e.to_ary(a),n=e.slice.call(a,0,a.length),i=n.splice(0,1)[0],null==i&&(i=r),s=n.splice(0,1)[0],null==s&&(s=r),l=n.splice(0,1)[0],null==l&&(l=r),$.$$is_lambda||$.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"replay_received_message_on")}return(c=(u=t)["$matches?"].apply(u,[i].concat(e.to_a(s))))===r||null==c||c.$$is_boolean&&1!=c?r:(t.$safe_invoke(r),!1!==o&&o!==r&&null!=o?(c=o).$call.apply(c,e.to_a(s)):r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req"]],$.$$has_top_level_mlhs_arg=!0,$),a).call(n)},m.$$arity=1,m.$$parameters=[["req","expectation"],["block","block"]]),e.defn(B,"$check_for_unexpected_arguments",g=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"check_for_unexpected_arguments"),(a=(n=i.messages_received).$each,a.$$p=($=function(a){var n,i,s,o,l,c,u=$.$$s||this;if(null==a&&(a=r),a=e.to_ary(a),n=e.slice.call(a,0,a.length),i=n.splice(0,1)[0],null==i&&(i=r),s=n.splice(0,1)[0],null==s&&(s=r),o=n.splice(0,1)[0],null==o&&(o=r),$.$$is_lambda||$.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"check_for_unexpected_arguments")}return(l=(c=t).$matches_name_but_not_args.apply(c,[i].concat(e.to_a(s))))===r||null==l||l.$$is_boolean&&1!=l?r:(l=u).$raise_unexpected_message_args_error.apply(l,[t].concat(e.to_a(s)))},$.$$s=i,$.$$arity=1,$.$$parameters=[["req"]],$.$$has_top_level_mlhs_arg=!0,$),a).call(n)},g.$$arity=1,g.$$parameters=[["req","expectation"]]),e.defn(B,"$add_stub",b=function(t,a){var n,i,s,o,l=this,c=b.$$p,u=c||r,_=r;null==a&&(a=$([],{})),b.$$p=null;var p=arguments.length;return(p<1||p>2)&&e.ac(p,-2,this,"add_stub"),_=(n=(i=a).$fetch,n.$$p=(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add_stub")}return L.get("CallerFilter").$first_non_rspec_line()},s.$$s=l,s.$$arity=0,s.$$parameters=[],s),n).call(i,"expected_from"),(n=(o=l.$method_double_for(t)).$add_stub,n.$$p=u.$to_proc(),n).call(o,l.error_generator,l.order_group,_,a)},b.$$arity=-2,b.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),e.defn(B,"$add_simple_stub",v=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_simple_stub"),a.$method_double_for(t).$add_simple_stub(t,r)},v.$$arity=2,v.$$parameters=[["req","method_name"],["req","response"]]),e.defn(B,"$remove_stub",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"remove_stub"),r.$method_double_for(t).$remove_stub()},y.$$arity=1,y.$$parameters=[["req","method_name"]]),e.defn(B,"$remove_stub_if_present",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"remove_stub_if_present"),r.$method_double_for(t).$remove_stub_if_present()},x.$$arity=1,x.$$parameters=[["req","method_name"]]),e.defn(B,"$verify",k=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"verify"),(t=(a=$.method_doubles).$each_value,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"verify")}return t.$verify()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","d"]],n),t).call(a)},k.$$arity=0,k.$$parameters=[]),e.defn(B,"$reset",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.messages_received.$clear()},w.$$arity=0,w.$$parameters=[]),e.defn(B,"$received_message?",q=function(t){var a,n,$,i,s=this,o=q.$$p,l=o||r,c=arguments.length,u=c-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<c;_++)i[_-1]=arguments[_];q.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"received_message?"),(a=(n=s.messages_received)["$any?"],a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"received_message?")}return a["$=="]([t,i,l])},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","array"]],$),a).call(n)},q.$$arity=-2,q.$$parameters=[["req","method_name"],["rest","args"],["block","block"]]),e.defn(B,"$has_negative_expectation?",S=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"has_negative_expectation?"),(a=(n=i.$method_double_for(t).$expectations()).$find,a.$$p=($=function(a){$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"has_negative_expectation?")}return a["$negative_expectation_for?"](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","expectation"]],$),a).call(n)},S.$$arity=1,S.$$parameters=[["req","message"]]),e.defn(B,"$record_message_received",E=function(t){var a,n=this,$=E.$$p,i=$||r,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var l=1;l<s;l++)a[l-1]=arguments[l];E.$$p=null;var c=arguments.length;return c<1&&e.ac(c,-2,this,"record_message_received"),n.order_group.$invoked(L.get("SpecificMessage").$new(n.$object(),t,a)),n.messages_received["$<<"]([t,a,i])},E.$$arity=-2,E.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(B,"$message_received",R=function(t){var a,n,$,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v=this,y=R.$$p,x=y||r,k=r,w=r,q=arguments.length,S=q-1;S<0&&(S=0),b=new Array(S);for(var E=1;E<q;E++)b[E-1]=arguments[E];R.$$p=null;var O=arguments.length;return O<1&&e.ac(O,-2,this,"message_received"),(a=(n=v).$record_message_received,a.$$p=x.$to_proc(),a).apply(n,[t].concat(e.to_a(b))),k=(a=v).$find_matching_expectation.apply(a,[t].concat(e.to_a(b))),w=($=v).$find_matching_method_stub.apply($,[t].concat(e.to_a(b))),(i=!1!==(o=(l=!1!==w&&w!==r&&null!=w)?k:w,s=!1!==o&&o!==r&&null!=o?k["$called_max_times?"]():o)&&s!==r&&null!=s?s:(o=!1!==w&&w!==r&&null!=w)?k["$!"]():w)===r||null==i||i.$$is_boolean&&1!=i?!1!==k&&k!==r&&null!=k?(o=(c=k).$invoke,o.$$p=x.$to_proc(),o).apply(c,[w].concat(e.to_a(b))):(o=k=(u=v).$find_almost_matching_expectation.apply(u,[t].concat(e.to_a(b))))===r||null==o||o.$$is_boolean&&1!=o?(p=w=(d=v).$find_almost_matching_stub.apply(d,[t].concat(e.to_a(b))))===r||null==p||p.$$is_boolean&&1!=p?(f=L.get("Class")["$==="](v.object))===r||null==f||f.$$is_boolean&&1!=f?(f=(g=v.object).$__send__,f.$$p=x.$to_proc(),f).apply(g,["method_missing",t].concat(e.to_a(b))):(f=(m=v.object.$superclass()).$__send__,f.$$p=x.$to_proc(),f).apply(m,[t].concat(e.to_a(b))):((p=w).$advise.apply(p,e.to_a(b)),(h=v).$raise_missing_default_stub_error.apply(h,[w].concat(e.to_a(b)))):(((o=k["$expected_messages_received?"]())===r||null==o||o.$$is_boolean&&1!=o)&&((o=v["$null_object?"]())===r||null==o||o.$$is_boolean&&1!=o||(o=k).$advise.apply(o,e.to_a(b))),(_=!1!==(p=v["$null_object?"]())&&p!==r&&null!=p?p:v["$has_negative_expectation?"](t)["$!"]())===r||null==_||_.$$is_boolean&&1!=_?r:(_=v).$raise_unexpected_message_args_error.apply(_,[k].concat(e.to_a(b)))):((i=(s=!1!==k&&k!==r&&null!=k)?k["$actual_received_count_matters?"]():k)===r||null==i||i.$$is_boolean&&1!=i||k["$increase_actual_received_count!"](),(i=k=(s=v).$find_almost_matching_expectation.apply(s,[t].concat(e.to_a(b))))===r||null==i||i.$$is_boolean&&1!=i||((i=k["$expected_messages_received?"]())===r||null==i||i.$$is_boolean&&1!=i)&&(i=k).$advise.apply(i,e.to_a(b)),(o=(l=w).$invoke,o.$$p=x.$to_proc(),o).apply(l,[r].concat(e.to_a(b))))},R.$$arity=-2,R.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(B,"$raise_unexpected_message_error",O=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_unexpected_message_error"),(r=n.error_generator).$raise_unexpected_message_error.apply(r,[t].concat(e.to_a(a)))},O.$$arity=-2,O.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(B,"$raise_unexpected_message_args_error",M=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_unexpected_message_args_error"),(r=n.error_generator).$raise_unexpected_message_args_error.apply(r,[t].concat(e.to_a(a)))},M.$$arity=-2,M.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(B,"$raise_missing_default_stub_error",A=function(t){var r,a,n=this,$=arguments.length,i=$-1;i<0&&(i=0),a=new Array(i);for(var s=1;s<$;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_missing_default_stub_error"),(r=n.error_generator).$raise_missing_default_stub_error.apply(r,[t].concat(e.to_a(a)))},A.$$arity=-2,A.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(B,"$visibility_for",z=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"visibility_for"),"public"},z.$$arity=1,z.$$parameters=[["req","_method_name"]]),(i=L.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==i||i.$$is_boolean&&1!=i||(e.defs(B,"$prepended_modules_of",j=function(t){var a,n=r,$=r,i=arguments.length;return 1!==i&&e.ac(i,1,this,"prepended_modules_of"),n=t.$ancestors(),$=!1!==(a=n.$index(t))&&a!==r&&null!=a?a:0,n["$[]"](0,$)},j.$$arity=1,j.$$parameters=[["req","klass"]]),e.defn(B,"$prepended_modules_of_singleton_class",T=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"prepended_modules_of_singleton_class"),!1!==(t=a.prepended_modules_of_singleton_class)&&t!==r&&null!=t?t:a.prepended_modules_of_singleton_class=L.get("RSpec").$$scope.get("Mocks").$$scope.get("Proxy").$prepended_modules_of(a.object.$singleton_class())},T.$$arity=0,T.$$parameters=[])),B.$private(),e.defn(B,"$method_double_for",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_double_for"),r.method_doubles["$[]"](t.$to_sym())},I.$$arity=1,I.$$parameters=[["req","message"]]),e.defn(B,"$find_matching_expectation",C=function(t){var a,n,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"find_matching_expectation"),(a=(n=s).$find_best_matching_expectation_for,a.$$p=($=function(a){var n;$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_matching_expectation")}return(n=a)["$matches?"].apply(n,[t].concat(e.to_a(i)))},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","expectation"]],$),a).call(n,t)},C.$$arity=-2,C.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(B,"$find_almost_matching_expectation",P=function(t){var a,n,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"find_almost_matching_expectation"),(a=(n=s).$find_best_matching_expectation_for,a.$$p=($=function(a){var n;$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_almost_matching_expectation")}return(n=a).$matches_name_but_not_args.apply(n,[t].concat(e.to_a(i)))},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","expectation"]],$),a).call(n,t)},P.$$arity=-2,P.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(B,"$find_best_matching_expectation_for",N=function(t){try{var a,n,$,i=this,s=N.$$p,o=s||r,l=r;N.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"find_best_matching_expectation_for"),l=r,(a=(n=i.$method_double_for(t).$expectations()).$each,a.$$p=($=function(t){var a;$.$$s;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"find_best_matching_expectation_for")}return(a=e.yield1(o,t))===r||null==a||a.$$is_boolean&&1!=a?r:(((a=t["$called_max_times?"]())===r||null==a||a.$$is_boolean&&1!=a)&&e.ret(t),!1!==(a=l)&&a!==r&&null!=a?a:l=t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","expectation"]],$),a).call(n),l}catch(t){if(t===e.returner)return t.$v;throw t}},N.$$arity=1,N.$$parameters=[["req","method_name"]]),e.defn(B,"$find_matching_method_stub",F=function(t){var a,n,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"find_matching_method_stub"),(a=(n=s.$method_double_for(t).$stubs()).$find,a.$$p=($=function(a){var n;$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_matching_method_stub")}return(n=a)["$matches?"].apply(n,[t].concat(e.to_a(i)))},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","stub"]],$),a).call(n)},F.$$arity=-2,F.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(B,"$find_almost_matching_stub",D=function(t){var a,n,$,i,s=this,o=arguments.length,l=o-1;l<0&&(l=0),i=new Array(l);for(var c=1;c<o;c++)i[c-1]=arguments[c];var u=arguments.length;return u<1&&e.ac(u,-2,this,"find_almost_matching_stub"),(a=(n=s.$method_double_for(t).$stubs()).$find,a.$$p=($=function(a){var n;$.$$s;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_almost_matching_stub")}return(n=a).$matches_name_but_not_args.apply(n,[t].concat(e.to_a(i)))},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","stub"]],$),a).call(n)},D.$$arity=-2,D.$$parameters=[["req","method_name"],["rest","args"]])}(o.base,null),function(t,$super){function a(){}var $,i=a=n(t,$super,"TestDoubleProxy",a),s=i.$$proto;i.$$scope;s.method_doubles=r,e.defn(i,"$reset",$=function(){var t,a,n=this,i=$.$$p,s=r,o=r;$.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"reset"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return n.method_doubles.$clear(),n.$object()["$__disallow_further_usage!"](),(a=n,t=e.find_super_dispatcher(n,"reset",$,!1),t.$$p=i,t).apply(a,s)},$.$$arity=0,$.$$parameters=[])}(o.base,o.get("Proxy")),function(t,$super){function a(){}var $,i,s,o,l,c,u,_=a=n(t,$super,"PartialDoubleProxy",a),p=_.$$proto,d=_.$$scope;p.object=p.method_doubles=r,e.defn(_,"$original_method_handle_for",$=function(t){var a,n=this,$=arguments.length;1!==$&&e.ac($,1,this,"original_method_handle_for");try{return(a=n["$any_instance_class_recorder_observing_method?"](n.object.$class(),t))===r||null==a||a.$$is_boolean&&1!=a||(t=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(n.object.$class()).$build_alias_method_name(t)),e.get("RSpec").$$scope.get("Support").$method_handle_for(n.object,t)}catch(t){if(!e.rescue(t,[d.get("NameError")]))throw t;try{return r}finally{e.pop_exception()}}},$.$$arity=1,$.$$parameters=[["req","message"]]),e.defn(_,"$add_simple_expectation",i=function(t){var a,n,$=this,s=i.$$p,o=r,l=r;i.$$p=null;var c=arguments.length;for(3!==c&&e.ac(c,3,this,"add_simple_expectation"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return $.$method_double_for(t).$configure_method(),(n=$,a=e.find_super_dispatcher($,"add_simple_expectation",i,!1),a.$$p=s,a).apply(n,o)},i.$$arity=3,i.$$parameters=[["req","method_name"],["req","response"],["req","location"]]),e.defn(_,"$add_simple_stub",s=function(t){var a,n,$=this,i=s.$$p,o=r,l=r;s.$$p=null;var c=arguments.length;for(2!==c&&e.ac(c,2,this,"add_simple_stub"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return $.$method_double_for(t).$configure_method(),(n=$,a=e.find_super_dispatcher($,"add_simple_stub",s,!1),a.$$p=i,a).apply(n,o)},s.$$arity=2,s.$$parameters=[["req","method_name"],["req","response"]]),e.defn(_,"$visibility_for",o=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"visibility_for"),!1!==(a=d.get("MethodReference").$method_visibility_for(n.object,t))&&a!==r&&null!=a?a:"public"},o.$$arity=1,o.$$parameters=[["req","method_name"]]),e.defn(_,"$reset",l=function(){var t,a,n,$,i=this,s=l.$$p,o=r,c=r;l.$$p=null;var u=arguments.length;for(0!==u&&e.ac(u,0,this,"reset"),o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return(t=(a=i.method_doubles).$each_value,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"reset")}return t.$reset()},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","d"]],n),t).call(a),($=i,t=e.find_super_dispatcher(i,"reset",l,!1),t.$$p=s,t).apply($,o)},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$message_received",c=function(t){var a,n,$,i,s,o=this,l=c.$$p,u=l||r,_=r,p=r,h=arguments.length,f=h-1;f<0&&(f=0),s=new Array(f);for(var m=1;m<h;m++)s[m-1]=arguments[m];c.$$p=null;var g=arguments.length;for(g<1&&e.ac(g,-2,this,"message_received"),_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return(a=(n=d.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorders_from_ancestry_of(o.$object())).$each,a.$$p=($=function(a){var n=$.$$s||this;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"message_received")}
return a.$notify_received_message(n.$object(),t,s,u)},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","subscriber"]],$),a).call(n),(i=o,a=e.find_super_dispatcher(o,"message_received",c,!1),a.$$p=l,a).apply(i,_)},c.$$arity=-2,c.$$parameters=[["req","message"],["rest","args"],["block","block"]]),_.$private(),e.defn(_,"$any_instance_class_recorder_observing_method?",u=function(t,a){var n,$=this,i=r,s=r,o=r,l=arguments.length;return 2!==l&&e.ac(l,2,this,"any_instance_class_recorder_observing_method?"),i=!0,s=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(t,i),!((n=!1!==s&&s!==r&&null!=s?s["$already_observing?"](a):s)===r||null==n||n.$$is_boolean&&1!=n)||(o=t.$superclass(),!!((n=o["$nil?"]())===r||null==n||n.$$is_boolean&&1!=n)&&$["$any_instance_class_recorder_observing_method?"](o,a))},u.$$arity=2,u.$$parameters=[["req","klass"],["req","method_name"]])}(o.base,o.get("Proxy")),function(t){var n,$,i,s,o,l=n=a(t,"PartialClassDoubleProxyMethods");l.$$proto,l.$$scope;e.defn(l,"$initialize",$=function(t){var r,a,n,i=this,s=($.$$p,arguments.length),o=s-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<s;l++)n[l-1]=arguments[l];$.$$p=null;var c=arguments.length;return c<1&&e.ac(c,-2,this,"initialize"),i.source_space=t,(a=i,r=e.find_super_dispatcher(i,"initialize",$,!1),r.$$p=null,r).apply(a,e.to_a(n))},$.$$arity=-2,$.$$parameters=[["req","source_space"],["rest","args"]]),e.defn(l,"$original_method_handle_for",i=function(t){var a,n,$=this,s=i.$$p,o=r,l=r,c=r;i.$$p=null;var u=arguments.length;for(1!==u&&e.ac(u,1,this,"original_method_handle_for"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a=$.$superclass_proxy(),o=!1!==a&&a!==r&&null!=a?$.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t.$to_sym()):a,!1===o||o===r||null==o?(n=$,a=e.find_super_dispatcher($,"original_method_handle_for",i,!1),a.$$p=s,a).apply(n,l):o.$bind($.$object())},i.$$arity=1,i.$$parameters=[["req","message"]]),l.$protected(),e.defn(l,"$original_unbound_method_handle_from_ancestor_for",s=function(t){try{var a,n,$,i=this,s=r;null==i.method_doubles&&(i.method_doubles=r);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"original_unbound_method_handle_from_ancestor_for"),s=(a=(n=i.method_doubles).$fetch,a.$$p=($=function(){var a,n=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"original_unbound_method_handle_from_ancestor_for")}e.ret((a=n.$superclass_proxy(),!1!==a&&a!==r&&null!=a?n.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t):a))},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),a).call(n,t),s.$original_method().$unbind()}catch(t){if(t===e.returner)return t.$v;throw t}},s.$$arity=1,s.$$parameters=[["req","message"]]),e.defn(l,"$superclass_proxy",o=function(){var t,a,n=this,$=r;null==n.superclass_proxy&&(n.superclass_proxy=r),null==n.source_space&&(n.source_space=r);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"superclass_proxy"),(t=null!=(a=n.superclass_proxy)&&a!==r?"instance-variable":r)===r||null==t||t.$$is_boolean&&1!=t?(t=$=n.$object().$superclass())===r||null==t||t.$$is_boolean&&1!=t?n.superclass_proxy=r:n.superclass_proxy=n.source_space.$proxy_for($):n.superclass_proxy},o.$$arity=0,o.$$parameters=[])}(o.base),function(e,$super){function t(){}var r=t=n(e,$super,"PartialClassDoubleProxy",t),a=(r.$$proto,r.$$scope);r.$include(a.get("PartialClassDoubleProxyMethods"))}(o.base,o.get("PartialDoubleProxy")),function(t,$super){function a(){}var i,s,o,l,c,u=a=n(t,$super,"ProxyForNil",a),_=(u.$$proto,u.$$scope);e.defn(u,"$initialize",i=function(t){var a,n,$=this;i.$$p;i.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),$.warn_about_expectations=!0,(n=$,a=e.find_super_dispatcher($,"initialize",i,!1),a.$$p=null,a).call(n,r,t)},i.$$arity=1,i.$$parameters=[["req","order_group"]]),u.$attr_accessor("warn_about_expectations"),e.alias(u,"warn_about_expectations?","warn_about_expectations"),e.defn(u,"$add_message_expectation",s=function(t,a){var n,i,o=this,l=s.$$p,c=r,u=r;null==a&&(a=$([],{})),s.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"add_message_expectation"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(n=o["$warn_about_expectations?"]())===r||null==n||n.$$is_boolean&&1!=n||o.$warn(t),(i=o,n=e.find_super_dispatcher(o,"add_message_expectation",s,!1),n.$$p=l,n).apply(i,c)},s.$$arity=-2,s.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(u,"$add_negative_message_expectation",o=function(t,a){var n,$,i=this,s=o.$$p,l=r,c=r;o.$$p=null;var u=arguments.length;for(2!==u&&e.ac(u,2,this,"add_negative_message_expectation"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return(n=i["$warn_about_expectations?"]())===r||null==n||n.$$is_boolean&&1!=n||i.$warn(a),($=i,n=e.find_super_dispatcher(i,"add_negative_message_expectation",o,!1),n.$$p=s,n).apply($,l)},o.$$arity=2,o.$$parameters=[["req","location"],["req","method_name"],["block","implementation"]]),e.defn(u,"$add_stub",l=function(t,a){var n,i,s=this,o=l.$$p,c=r,u=r;null==a&&(a=$([],{})),l.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"add_stub"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return(n=s["$warn_about_expectations?"]())===r||null==n||n.$$is_boolean&&1!=n||s.$warn(t),(i=s,n=e.find_super_dispatcher(s,"add_stub",l,!1),n.$$p=o,n).apply(i,c)},l.$$arity=-2,l.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),u.$private(),e.defn(u,"$warn",c=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"warn"),a=_.get("CallerFilter").$first_non_rspec_line(),_.get("Kernel").$warn("An expectation of :"+t+" was set on nil. Called from "+a+". Use allow_message_expectations_on_nil to disable warnings.")},c.$$arity=1,c.$$parameters=[["req","method_name"]])}(o.base,o.get("PartialDoubleProxy"))}(o.base)}(t.base)},Opal.modules.securerandom=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$gsub"]),function(t){var n,$,i=n=a(t,"SecureRandom");i.$$proto,i.$$scope;e.defs(i,"$uuid",$=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"uuid"),(t=(a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").$gsub,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"uuid")}var $=16*Math.random()|0;return("x"==t?$:3&$|8).toString(16)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","ch"]],n.$$has_trailing_comma_in_args=!0,n),t).call(a,/[xy]/)},$.$$arity=0,$.$$parameters=[])}(t.base)},Opal.modules["rspec/mocks/space"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$raise_lifecycle_message","$new","$private","$raise","$attr_reader","$new_mutex","$each","$verify","$values","$proxies","$each_value","$any_instance_recorders","$reset","$idempotently_reset","$reverse","$stop_all_observation!","$clear","$<<","$find","$==","$full_constant_name","$synchronize","$__id__","$fetch","$any_instance_recorder_not_found_for","$any_instance_mutex","$any_instance_recorder_for","$proxies_of","$select","$===","$object","$id_for","$proxy_not_found_for","$proxy_mutex","$key?","$empty?","$compact","$map","$[]","$ancestors","$[]=","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration","$!","$method_defined?","$require","$equal?","$_id2ref","$instance_exec","$uuid","$+","$constant_mutator_for","$registered?"]),function(r){var s,o=s=n(r,"RSpec"),l=(o.$$proto,o.$$scope);!function(r){var s,o=s=n(r,"Mocks"),l=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var n,i,s,o,l,c,u,_,p,d,h=r=$(t,$super,"RootSpace",r),f=(h.$$proto,h.$$scope);e.defn(h,"$proxy_for",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},n.$$arity=-1,n.$$parameters=[["rest","_args"]]),e.defn(h,"$any_instance_recorder_for",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},i.$$arity=-1,i.$$parameters=[["rest","_args"]]),e.defn(h,"$any_instance_proxy_for",s=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},s.$$arity=-1,s.$$parameters=[["rest","_args"]]),e.defn(h,"$register_constant_mutator",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"register_constant_mutator"),t.$raise_lifecycle_message()},o.$$arity=1,o.$$parameters=[["req","_mutator"]]),e.defn(h,"$any_instance_recorders_from_ancestry_of",l=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"any_instance_recorders_from_ancestry_of"),t.$raise_lifecycle_message()},l.$$arity=1,l.$$parameters=[["req","_object"]]),e.defn(h,"$reset_all",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"reset_all"),a},c.$$arity=0,c.$$parameters=[]),e.defn(h,"$verify_all",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verify_all"),a},u.$$arity=0,u.$$parameters=[]),e.defn(h,"$registered?",_=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"registered?"),!1},_.$$arity=1,_.$$parameters=[["req","_object"]]),e.defn(h,"$new_scope",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_scope"),f.get("Space").$new()},p.$$arity=0,p.$$parameters=[]),h.$private(),e.defn(h,"$raise_lifecycle_message",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_lifecycle_message"),t.$raise(f.get("OutsideOfExampleError"),"The use of doubles or partial doubles from rspec-mocks outside of the per-test lifecycle is not supported.")},d.$$arity=0,d.$$parameters=[])}(l.base,null),function(t,$super){function r(){}var s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S=r=$(t,$super,"Space",r),E=S.$$proto,R=S.$$scope;E.constant_mutators=E.expectation_ordering=a,S.$attr_reader("proxies","any_instance_recorders","proxy_mutex","any_instance_mutex"),e.defn(S,"$initialize",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.proxies=i([],{}),t.any_instance_recorders=i([],{}),t.constant_mutators=[],t.expectation_ordering=R.get("OrderGroup").$new(),t.proxy_mutex=t.$new_mutex(),t.any_instance_mutex=t.$new_mutex()},s.$$arity=0,s.$$parameters=[]),e.defn(S,"$new_scope",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"new_scope"),R.get("NestedSpace").$new(t)},o.$$arity=0,o.$$parameters=[]),e.defn(S,"$verify_all",l=function(){var t,r,n,$,i,s=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"verify_all"),(t=(r=s.$proxies().$values()).$each,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"verify_all")}return t.$verify()},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","proxy"]],n),t).call(r),(t=($=s.$any_instance_recorders()).$each_value,t.$$p=(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"verify_all")}return t.$verify()},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","recorder"]],i),t).call($)},l.$$arity=0,l.$$parameters=[]),e.defn(S,"$reset_all",c=function(){var t,r,n,$,i,s,o,l=this,c=arguments.length;return 0!==c&&e.ac(c,0,this,"reset_all"),(t=(r=l.$proxies()).$each_value,t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"reset_all")}return t.$reset()},n.$$s=l,n.$$arity=1,n.$$parameters=[["req","proxy"]],n),t).call(r),(t=($=l.constant_mutators.$reverse()).$each,t.$$p=(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"reset_all")}return t.$idempotently_reset()},i.$$s=l,i.$$arity=1,i.$$parameters=[["req","mut"]],i),t).call($),(t=(s=l.$any_instance_recorders()).$each_value,t.$$p=(o=function(t){o.$$s;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"reset_all")}return t["$stop_all_observation!"]()},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","recorder"]],o),t).call(s),l.$any_instance_recorders().$clear()},c.$$arity=0,c.$$parameters=[]),e.defn(S,"$register_constant_mutator",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register_constant_mutator"),r.constant_mutators["$<<"](t)},u.$$arity=1,u.$$parameters=[["req","mutator"]]),e.defn(S,"$constant_mutator_for",_=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"constant_mutator_for"),(r=(n=i.constant_mutators).$find,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"constant_mutator_for")}return r.$full_constant_name()["$=="](t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","m"]],$),r).call(n)},_.$$arity=1,_.$$parameters=[["req","name"]]),e.defn(S,"$any_instance_recorder_for",p=function(t,r){try{var n,$,i,s=this;null==r&&(r=!1);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"any_instance_recorder_for"),(n=($=s.$any_instance_mutex()).$synchronize,n.$$p=(i=function(){var n,$,s,o=i.$$s||this,l=a;if(i.$$is_lambda||i.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"any_instance_recorder_for")}return l=t.$__id__(),(n=($=o.$any_instance_recorders()).$fetch,n.$$p=(s=function(){var n=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"any_instance_recorder_for")}return!1!==r&&r!==a&&null!=r&&e.ret(a),n.$any_instance_recorder_not_found_for(l,t)},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),n).call($,l)},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),n).call($)}catch(t){if(t===e.returner)return t.$v;throw t}},p.$$arity=-2,p.$$parameters=[["req","klass"],["opt","only_return_existing"]]),e.defn(S,"$any_instance_proxy_for",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_instance_proxy_for"),R.get("AnyInstance").$$scope.get("Proxy").$new(r.$any_instance_recorder_for(t),r.$proxies_of(t))},d.$$arity=1,d.$$parameters=[["req","klass"]]),e.defn(S,"$proxies_of",h=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"proxies_of"),(r=(n=i.$proxies().$values()).$select,r.$$p=($=function(r){$.$$s;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"proxies_of")}return t["$==="](r.$object())},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","proxy"]],$),r).call(n)},h.$$arity=1,h.$$parameters=[["req","klass"]]),e.defn(S,"$proxy_for",f=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"proxy_for"),(r=(n=i.$proxy_mutex()).$synchronize,r.$$p=($=function(){var r,n,i,s=$.$$s||this,o=a;if($.$$is_lambda||$.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"proxy_for")}return o=s.$id_for(t),(r=(n=s.$proxies()).$fetch,r.$$p=(i=function(){var r=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"proxy_for")}return r.$proxy_not_found_for(o,t)},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),r).call(n,o)},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n)},f.$$arity=1,f.$$parameters=[["req","object"]]),e.alias(S,"ensure_registered","proxy_for"),e.defn(S,"$registered?",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"registered?"),r.$proxies()["$key?"](r.$id_for(t))},m.$$arity=1,m.$$parameters=[["req","object"]]),e.defn(S,"$any_instance_recorders_from_ancestry_of",g=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"any_instance_recorders_from_ancestry_of"),(r=i.$any_instance_recorders()["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?(r=(n=function(e){e.$$scope,e.$$proto;return e.$ancestors()}(e.get_singleton_class(t))).$map,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"any_instance_recorders_from_ancestry_of")}return r.$any_instance_recorders()["$[]"](t.$__id__())},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","klass"]],$),r).call(n).$compact():[]},g.$$arity=1,g.$$parameters=[["req","object"]]),S.$private(),e.defn(S,"$new_mutex",b=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"new_mutex"),(t=null==e.Object.$$scope.Mutex?a:"constant")===a||null==t||t.$$is_boolean&&1!=t?R.get("FakeMutex"):e.get("Mutex").$new()},b.$$arity=0,b.$$parameters=[]),function(t){var r,$,i=r=n(t,"FakeMutex");i.$$proto,i.$$scope;e.defs(i,"$synchronize",$=function(){var t=$.$$p,r=t||a;$.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"synchronize"),e.yieldX(r,[])},$.$$arity=0,$.$$parameters=[])}(R.base),e.defn(S,"$proxy_not_found_for",v=function(t,r){var n,$=this,i=a,s=arguments.length;return 2!==s&&e.ac(s,2,this,"proxy_not_found_for"),$.$proxies()["$[]="](t,function(){return i=r,R.get("NilClass")["$==="](i)?R.get("ProxyForNil").$new($.expectation_ordering):R.get("TestDouble")["$==="](i)?r.$__build_mock_proxy_unless_expired($.expectation_ordering):R.get("Class")["$==="](i)?(n=R.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===a||null==n||n.$$is_boolean&&1!=n?R.get("PartialClassDoubleProxy").$new($,r,$.expectation_ordering):R.get("VerifyingPartialClassDoubleProxy").$new($,r,$.expectation_ordering):(n=R.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===a||null==n||n.$$is_boolean&&1!=n?R.get("PartialDoubleProxy").$new(r,$.expectation_ordering):R.get("VerifyingPartialDoubleProxy").$new(r,$.expectation_ordering)}())},v.$$arity=2,v.$$parameters=[["req","id"],["req","object"]]),e.defn(S,"$any_instance_recorder_not_found_for",y=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"any_instance_recorder_not_found_for"),a.$any_instance_recorders()["$[]="](t,R.get("AnyInstance").$$scope.get("Recorder").$new(r))},y.$$arity=2,y.$$parameters=[["req","id"],["req","klass"]]),k=null==e.Object.$$scope.BasicObject?a:"constant",(x=!1!==k&&k!==a&&null!=k?e.get("BasicObject")["$method_defined?"]("__id__")["$!"]():k)===a||null==x||x.$$is_boolean&&1!=x?e.defn(S,"$id_for",q=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"id_for"),t.$__id__()},q.$$arity=1,q.$$parameters=[["req","object"]]):(S.$require("securerandom"),e.defn(S,"$id_for",w=function(t){var r,n,$,i=this,s=a,o=arguments.length;return 1!==o&&e.ac(o,1,this,"id_for"),s=t.$__id__(),(r=t["$equal?"](e.get("ObjectSpace").$_id2ref(s)))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=t).$instance_exec,r.$$p=($=function(){var t,r=$.$$s||this;if(null==r.__id_for_rspec_mocks_space&&(r.__id_for_rspec_mocks_space=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"id_for")}return!1!==(t=r.__id_for_rspec_mocks_space)&&t!==a&&null!=t?t:r.__id_for_rspec_mocks_space=e.get("SecureRandom").$uuid()},$.$$s=i,$.$$arity=0,$.$$parameters=[],$),r).call(n):s},w.$$arity=1,w.$$parameters=[["req","object"]]))}(l.base,null),function(r,$super){function n(){}var i,s,o,l,c,u,_=n=$(r,$super,"NestedSpace",n),p=_.$$proto;_.$$scope;p.parent=a,e.defn(_,"$initialize",i=function(t){var r,a,n=this;i.$$p;i.$$p=null;var $=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),n.parent=t,(a=n,r=e.find_super_dispatcher(n,"initialize",i,!1),r.$$p=null,r).call(a)},i.$$arity=1,i.$$parameters=[["req","parent"]]),e.defn(_,"$proxies_of",s=function(r){var n,$,i=this,o=s.$$p,l=a,c=a;s.$$p=null;var u=arguments.length;for(1!==u&&e.ac(u,1,this,"proxies_of"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return t(($=i,n=e.find_super_dispatcher(i,"proxies_of",s,!1),n.$$p=o,n).apply($,l),i.parent.$proxies_of(r))},s.$$arity=1,s.$$parameters=[["req","klass"]]),e.defn(_,"$constant_mutator_for",o=function(t){var r,n,$,i=this,s=o.$$p,l=a,c=a;o.$$p=null;var u=arguments.length;for(1!==u&&e.ac(u,1,this,"constant_mutator_for"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return!1!==(r=($=i,n=e.find_super_dispatcher(i,"constant_mutator_for",o,!1),n.$$p=s,n).apply($,l))&&r!==a&&null!=r?r:i.parent.$constant_mutator_for(t)},o.$$arity=1,o.$$parameters=[["req","name"]]),e.defn(_,"$registered?",l=function(t){var r,n,$,i=this,s=l.$$p,o=a,c=a;l.$$p=null;var u=arguments.length;for(1!==u&&e.ac(u,1,this,"registered?"),o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return!1!==(r=($=i,n=e.find_super_dispatcher(i,"registered?",l,!1),n.$$p=s,n).apply($,o))&&r!==a&&null!=r?r:i.parent["$registered?"](t)},l.$$arity=1,l.$$parameters=[["req","object"]]),_.$private(),e.defn(_,"$proxy_not_found_for",c=function(t){var r,n,$,i=this,s=c.$$p,o=a,l=a;c.$$p=null;var u=arguments.length;for(2!==u&&e.ac(u,2,this,"proxy_not_found_for"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return!1!==(r=i.parent.$proxies()["$[]"](t))&&r!==a&&null!=r?r:($=i,n=e.find_super_dispatcher(i,"proxy_not_found_for",c,!1),n.$$p=s,n).apply($,o)},c.$$arity=2,c.$$parameters=[["req","id"],["req","object"]]),e.defn(_,"$any_instance_recorder_not_found_for",u=function(t){var r,n,$,i=this,s=u.$$p,o=a,l=a;u.$$p=null;var c=arguments.length;for(2!==c&&e.ac(c,2,this,"any_instance_recorder_not_found_for"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return!1!==(r=i.parent.$any_instance_recorders()["$[]"](t))&&r!==a&&null!=r?r:($=i,n=e.find_super_dispatcher(i,"any_instance_recorder_not_found_for",u,!1),n.$$p=s,n).apply($,o)},u.$$arity=2,u.$$parameters=[["req","id"],["req","klass"]])}(l.base,l.get("Space"))}(l.base)}(r.base)},Opal.modules["rspec/mocks/syntax"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r,a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.hash2,s=e.klass;return e.add_stubs(["$deprecate","$==","$default_should_syntax_host","$should_enabled?","$class_exec","$warn_unless_should_configured","$expect_message","$to_proc","$never","$===","$each","$and_return","$stub","$allow_message","$remove_stub","$proxy_for","$space","$stub_chain_on","$as_null_object","$received_message?","$respond_to?","$any_instance_proxy_for","$expect_enabled?","$new","$warn_about_block","$method_defined?","$>","$to_f","$last","$ancestors"]),function(r){var a,s=a=$(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var a,s=a=$(r,"Mocks"),o=(s.$$proto,s.$$scope);!function(r){var a,s,o,l,c,u,_,p,d,h,f=a=$(r,"Syntax"),m=(f.$$proto,f.$$scope);e.defs(f,"$warn_about_should!",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_should!"),t.warn_about_should=!0},s.$$arity=0,s.$$parameters=[]),e.defs(f,"$warn_unless_should_configured",o=function(t,r){var a,$=this;null==$.warn_about_should&&($.warn_about_should=n),null==r&&(r="the new `:expect` syntax or explicitly enable `:should`");var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"warn_unless_should_configured"),(a=$.warn_about_should)===n||null==a||a.$$is_boolean&&1!=a?n:(m.get("RSpec").$deprecate("Using `"+t+"` from rspec-mocks' old `:should` syntax without explicitly enabling the syntax",i(["replacement"],{replacement:r})),$.warn_about_should=!1)},o.$$arity=-2,o.$$parameters=[["req","method_name"],["opt","replacement"]]),e.defs(f,"$enable_should",l=function(t){var r,a,$,s=this;null==t&&(t=s.$default_should_syntax_host());var o=arguments.length;return o>1&&e.ac(o,-1,this,"enable_should"),t["$=="](s.$default_should_syntax_host())&&(s.warn_about_should=!1),(r=s["$should_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?(r=(a=t).$class_exec,r.$$p=($=function(){var t,r,a,s,o,l,c,u,_,p,d,h=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var f=arguments.length;0!==f&&e.block_ac(f,0,"enable_should")}return e.def(h,"$should_receive",t=function(r,a){var $,s,o=this,l=t.$$p,c=l||n;null==a&&(a=i([],{})),t.$$p=null;var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"should_receive"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("should_receive"),($=(s=e.get("RSpec").$$scope.get("Mocks")).$expect_message,$.$$p=c.$to_proc(),$).call(s,o,r,a)},t.$$arity=-2,t.$$parameters=[["req","message"],["opt","opts"],["block","block"]]),e.def(h,"$should_not_receive",r=function(t){var a,$,s=this,o=r.$$p,l=o||n;r.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"should_not_receive"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("should_not_receive"),(a=($=e.get("RSpec").$$scope.get("Mocks")).$expect_message,a.$$p=l.$to_proc(),a).call($,s,t,i([],{})).$never()},r.$$arity=1,r.$$parameters=[["req","message"],["block","block"]]),e.def(h,"$stub",a=function(t,r){var $,s,o,l,c=this,u=a.$$p,_=u||n;null==r&&(r=i([],{})),a.$$p=null;var p=arguments.length;return(p<1||p>2)&&e.ac(p,-2,this,"stub"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("stub"),($=e.get("Hash")["$==="](t))===n||null==$||$.$$is_boolean&&1!=$?($=(l=e.get("RSpec").$$scope.get("Mocks")).$allow_message,$.$$p=_.$to_proc(),$).call(l,c,t,r):($=(s=t).$each,$.$$p=(o=function(t,r){var a=o.$$s||this;if(null==t&&(t=n),null==r&&(r=n),o.$$is_lambda||o.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"stub")}return a.$stub(t).$and_return(r)},o.$$s=c,o.$$arity=2,o.$$parameters=[["req","message"],["req","value"]],o),$).call(s)},a.$$arity=-2,a.$$parameters=[["req","message_or_hash"],["opt","opts"],["block","block"]]),e.def(h,"$unstub",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"unstub"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("unstub","`allow(...).to_receive(...).and_call_original` or explicitly enable `:should`"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(r).$remove_stub(t)},s.$$arity=1,s.$$parameters=[["req","message"]]),e.def(h,"$stub_chain",o=function(){var t,r,a,$=this,i=o.$$p,s=i||n,l=arguments.length,c=l-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<l;u++)a[u-0]=arguments[u];return o.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("stub_chain"),(t=(r=e.get("RSpec").$$scope.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,t.$$p=s.$to_proc(),t).apply(r,[$].concat(e.to_a(a)))},o.$$arity=-1,o.$$parameters=[["rest","chain"],["block","blk"]]),e.def(h,"$as_null_object",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("as_null_object"),t._null_object=!0,e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t).$as_null_object()},l.$$arity=0,l.$$parameters=[]),e.def(h,"$null_object?",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"null_object?"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("null_object?"),null!=(t=r._null_object)&&t!==n?"instance-variable":n},c.$$arity=0,c.$$parameters=[]),e.def(h,"$received_message?",u=function(t){var r,a,$,i=this,s=u.$$p,o=s||n,l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var _=1;_<l;_++)$[_-1]=arguments[_];u.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"received_message?"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("received_message?"),(r=(a=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(i))["$received_message?"],r.$$p=o.$to_proc(),r).apply(a,[t].concat(e.to_a($)))},u.$$arity=-2,u.$$parameters=[["req","message"],["rest","args"],["block","block"]]),(_=m.get("Class")["$respond_to?"]("any_instance"))===n||null==_||_.$$is_boolean&&1!=_?(_=(p=m.get("Class")).$class_exec,_.$$p=(d=function(){var t,r=d.$$s||this;if(d.$$is_lambda||d.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"enable_should")}return e.def(r,"$any_instance",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"any_instance"),e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("any_instance"),e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t)},t.$$arity=0,t.$$parameters=[]),n&&"any_instance"},d.$$s=h,d.$$arity=0,d.$$parameters=[],d),_).call(p):n},$.$$s=s,$.$$arity=0,$.$$parameters=[],$),r).call(a):n},l.$$arity=-1,l.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$disable_should",c=function(t){var r,a,$,i,s,o=this;null==t&&(t=o.$default_should_syntax_host());var l=arguments.length;return l>1&&e.ac(l,-1,this,"disable_should"),(r=o["$should_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:((r=(a=t).$class_exec,r.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_should")}return e.udef(t,"$should_receive"),e.udef(t,"$should_not_receive"),e.udef(t,"$stub"),e.udef(t,"$unstub"),e.udef(t,"$stub_chain"),e.udef(t,"$as_null_object"),e.udef(t,"$null_object?"),e.udef(t,"$received_message?")},$.$$s=o,$.$$arity=0,$.$$parameters=[],$),r).call(a),(r=(i=m.get("Class")).$class_exec,r.$$p=(s=function(){var t=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_should")}return e.udef(t,"$any_instance")},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),r).call(i))},c.$$arity=-1,c.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$enable_expect",u=function(t){var r,a,$,i,s,o=this;null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods"));var l=arguments.length;return l>1&&e.ac(l,-1,this,"enable_expect"),(r=o["$expect_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?((r=(a=t).$class_exec,r.$$p=($=function(){var t,r,a,i,s,o,l=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"enable_expect")}return e.def(l,"$receive",t=function(r){var a=t.$$p,$=a||n;t.$$p=null;var i=arguments.length;return 1!==i&&e.ac(i,1,this,"receive"),m.get("Matchers").$$scope.get("Receive").$new(r,$)},t.$$arity=1,t.$$parameters=[["req","method_name"],["block","block"]]),e.def(l,"$receive_messages",r=function(t){var a=r.$$p,$=a||n,i=n;r.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"receive_messages"),i=m.get("Matchers").$$scope.get("ReceiveMessages").$new(t),$!==n&&i.$warn_about_block(),i},r.$$arity=1,r.$$parameters=[["req","message_return_value_hash"]]),e.def(l,"$receive_message_chain",a=function(){var e,t,r,$=a.$$p,i=$||n,s=arguments.length,o=s-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<s;l++)r[l-0]=arguments[l];return a.$$p=null,(e=(t=m.get("Matchers").$$scope.get("ReceiveMessageChain")).$new,e.$$p=i.$to_proc(),e).call(t,r)},a.$$arity=-1,a.$$parameters=[["rest","messages"],["block","block"]]),e.def(l,"$allow",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"allow"),m.get("AllowanceTarget").$new(t)},i.$$arity=1,i.$$parameters=[["req","target"]]),e.def(l,"$expect_any_instance_of",s=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expect_any_instance_of"),m.get("AnyInstanceExpectationTarget").$new(t)},s.$$arity=1,s.$$parameters=[["req","klass"]]),e.def(l,"$allow_any_instance_of",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"allow_any_instance_of"),m.get("AnyInstanceAllowanceTarget").$new(t)},o.$$arity=1,o.$$parameters=[["req","klass"]]),n&&"allow_any_instance_of"},$.$$s=o,$.$$arity=0,$.$$parameters=[],$),r).call(a),(r=(i=m.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods").$$scope.get("ExpectHost")).$class_exec,r.$$p=(s=function(){var t,r=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"enable_expect")}return e.def(r,"$expect",t=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expect"),m.get("ExpectationTarget").$new(t)},t.$$arity=1,t.$$parameters=[["req","target"]]),n&&"expect"},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),r).call(i)):n},u.$$arity=-1,u.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$disable_expect",_=function(t){var r,a,$,i,s,o=this;null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods"));var l=arguments.length;return l>1&&e.ac(l,-1,this,"disable_expect"),(r=o["$expect_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:((r=(a=t).$class_exec,r.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_expect")}return e.udef(t,"$receive"),e.udef(t,"$receive_messages"),e.udef(t,"$receive_message_chain"),e.udef(t,"$allow"),e.udef(t,"$expect_any_instance_of"),e.udef(t,"$allow_any_instance_of")},$.$$s=o,$.$$arity=0,$.$$parameters=[],$),r).call(a),(r=(i=m.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods").$$scope.get("ExpectHost")).$class_exec,r.$$p=(s=function(){var t=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_expect")}return e.udef(t,"$expect")},s.$$s=o,s.$$arity=0,s.$$parameters=[],s),r).call(i))
},_.$$arity=-1,_.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$should_enabled?",p=function(t){var r=this;null==t&&(t=r.$default_should_syntax_host());var a=arguments.length;return a>1&&e.ac(a,-1,this,"should_enabled?"),t["$method_defined?"]("should_receive")},p.$$arity=-1,p.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$expect_enabled?",d=function(t){null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods"));var r=arguments.length;return r>1&&e.ac(r,-1,this,"expect_enabled?"),t["$method_defined?"]("allow")},d.$$arity=-1,d.$$parameters=[["opt","syntax_host"]]),e.defs(f,"$default_should_syntax_host",h=function(){var r,a,$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"default_should_syntax_host"),$=null!=m.JRUBY_VERSION,a=!1!==$&&$!==n&&null!=$?m.get("JRUBY_VERSION")["$=="]("1.7.4"):$,(r=!1!==a&&a!==n&&null!=a?t(m.get("RUBY_VERSION").$to_f(),1.8):a)===n||null==r||r.$$is_boolean&&1!=r?(r=null==e.Object.$$scope.BasicObject?n:"constant")===n||null==r||r.$$is_boolean&&1!=r?m.get("Object"):m.get("Object").$ancestors().$last()["$=="](e.get("BasicObject"))?e.get("BasicObject"):m.get("Object"):e.get("BasicObject")},h.$$arity=0,h.$$parameters=[])}(o.base)}(o.base)}(a.base),(r=null!=a.BasicObject)===n||null==r||r.$$is_boolean&&1!=r||function(e,$super){function t(){}var r=t=s(e,$super,"BasicObject",t);r.$$proto,r.$$scope}(a.base,null),function(e,$super){function t(){}var r=t=s(e,$super,"Class",t);r.$$proto,r.$$scope;return n}(a.base,null)},Opal.modules["rspec/mocks/targets"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$define_method","$matcher_allowed?","$raise_unsupported_matcher","$define_matcher","$to_proc","$fetch","$===","$raise_negation_unsupported","$private","$start_with?","$name","$class","$freeze","$__send__","$raise","$expression","$delegate_to","$disallow_negation","$delegate_not_to"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h=a=n(t,$super,"TargetBase",a),f=h.$$proto,m=h.$$scope;f.target=r,e.defn(h,"$initialize",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.target=t},i.$$arity=1,i.$$parameters=[["req","target"]]),e.defs(h,"$delegate_to",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"delegate_to"),(a=(n=i).$define_method,a.$$p=($=function(a){var n,i,s,o=$.$$s||this;if(n=$.$$p||r,$.$$p=null,null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"delegate_to")}return((i=o["$matcher_allowed?"](a))===r||null==i||i.$$is_boolean&&1!=i)&&o.$raise_unsupported_matcher("to",a),(i=(s=o).$define_matcher,i.$$p=n.$to_proc(),i).call(s,a,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","matcher"],["block","block"]],$),a).call(n,"to")},s.$$arity=1,s.$$parameters=[["req","matcher_method"]]),e.defs(h,"$delegate_not_to",o=function(t,a){var n,i,s,o=this,l=r;null==a&&(a=$([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"delegate_not_to"),l=a.$fetch("from"),(n=(i=o).$define_method,n.$$p=(s=function(a){var n,$,i,o=s.$$s||this,c=r;if(n=s.$$p||r,s.$$p=null,null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"delegate_not_to")}return function(){return c=a,m.get("Matchers").$$scope.get("Receive")["$==="](c)?($=(i=o).$define_matcher,$.$$p=n.$to_proc(),$).call(i,a,t):m.get("Matchers").$$scope.get("ReceiveMessages")["$==="](c)||m.get("Matchers").$$scope.get("ReceiveMessageChain")["$==="](c)?o.$raise_negation_unsupported(l,a):o.$raise_unsupported_matcher(l,a)}()},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","matcher"],["block","block"]],s),n).call(i,l)},o.$$arity=-2,o.$$parameters=[["req","matcher_method"],["opt","options"]]),e.defs(h,"$disallow_negation",l=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"disallow_negation"),(a=(n=i).$define_method,a.$$p=($=function(a){var n,i=$.$$s||this,s=arguments.length,o=s-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<s;l++)n[l-1]=arguments[l];if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"disallow_negation")}return i.$raise_negation_unsupported(t,a)},$.$$s=i,$.$$arity=-2,$.$$parameters=[["req","matcher"],["rest","_args"]],$),a).call(n,t)},l.$$arity=1,l.$$parameters=[["req","method_name"]]),h.$private(),e.defn(h,"$matcher_allowed?",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"matcher_allowed?"),t.$class().$name()["$start_with?"]("RSpec::Mocks::Matchers".$freeze())},c.$$arity=1,c.$$parameters=[["req","matcher"]]),e.defn(h,"$define_matcher",u=function(t,a){var n,$,i=this,s=u.$$p,o=s||r;u.$$p=null;var l=arguments.length;return 2!==l&&e.ac(l,2,this,"define_matcher"),(n=($=t).$__send__,n.$$p=o.$to_proc(),n).call($,a,i.target)},u.$$arity=2,u.$$parameters=[["req","matcher"],["req","name"],["block","block"]]),e.defn(h,"$raise_unsupported_matcher",_=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_unsupported_matcher"),a.$raise(m.get("UnsupportedMatcherError"),"only the `receive` or `receive_messages` matchers are supported with `"+a.$expression()+"(...)."+t+"`, but you have provided: "+r)},_.$$arity=2,_.$$parameters=[["req","method_name"],["req","matcher"]]),e.defn(h,"$raise_negation_unsupported",p=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_negation_unsupported"),a.$raise(m.get("NegationUnsupportedError"),"`"+a.$expression()+"(...)."+t+" "+r.$name()+"` is not supported since it doesn't really make sense. What would it even mean?")},p.$$arity=2,p.$$parameters=[["req","method_name"],["req","matcher"]]),e.defn(h,"$expression",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expression"),t.$class().$$scope.get("EXPRESSION")},d.$$arity=0,d.$$parameters=[])}(o.base,null),function(t,$super){function r(){}var a=r=n(t,$super,"AllowanceTarget",r),$=(a.$$proto,a.$$scope);e.cdecl($,"EXPRESSION","allow"),a.$delegate_to("setup_allowance"),a.$disallow_negation("not_to"),a.$disallow_negation("to_not")}(o.base,o.get("TargetBase")),function(t,$super){function r(){}var a=r=n(t,$super,"ExpectationTarget",r),i=(a.$$proto,a.$$scope);e.cdecl(i,"EXPRESSION","expect"),a.$delegate_to("setup_expectation"),a.$delegate_not_to("setup_negative_expectation",$(["from"],{from:"not_to"})),a.$delegate_not_to("setup_negative_expectation",$(["from"],{from:"to_not"}))}(o.base,o.get("TargetBase")),function(t,$super){function r(){}var a=r=n(t,$super,"AnyInstanceAllowanceTarget",r),$=(a.$$proto,a.$$scope);e.cdecl($,"EXPRESSION","allow_any_instance_of"),a.$delegate_to("setup_any_instance_allowance"),a.$disallow_negation("not_to"),a.$disallow_negation("to_not")}(o.base,o.get("TargetBase")),function(t,$super){function r(){}var a=r=n(t,$super,"AnyInstanceExpectationTarget",r),i=(a.$$proto,a.$$scope);e.cdecl(i,"EXPRESSION","expect_any_instance_of"),a.$delegate_to("setup_any_instance_expectation"),a.$delegate_not_to("setup_any_instance_negative_expectation",$(["from"],{from:"not_to"})),a.$delegate_not_to("setup_any_instance_negative_expectation",$(["from"],{from:"to_not"}))}(o.base,o.get("TargetBase"))}(o.base)}(t.base)},Opal.modules["rspec/mocks/test_double"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$===","$empty?","$assign_stubs","$as_null_object","$__mock_proxy","$null_object?","$==","$class","$%","$object_id","$inspect","$gsub","$__raise_expired_error","$__build_mock_proxy","$warn_with","$private","$record_message_received","$to_proc","$to_s","$visibility_for","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error","$each_pair","$add_simple_stub","$proxy_for","$space","$raise_expired_test_double_error","$include"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x=$=a(t,"TestDouble"),k=(x.$$proto,x.$$scope);e.defn(x,"$initialize",i=function(t,a){var $,i,s=this;null==t&&(t=r),null==a&&(a=n([],{}));var o=arguments.length;return o>2&&e.ac(o,-1,this,"initialize"),s.__expired=!1,i=k.get("Hash")["$==="](t),($=!1!==i&&i!==r&&null!=i?a["$empty?"]():i)===r||null==$||$.$$is_boolean&&1!=$?s.name=t:(a=t,s.name=r),s.$assign_stubs(a)},i.$$arity=-1,i.$$parameters=[["opt","name"],["opt","stubs"]]),e.defn(x,"$as_null_object",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),t.$__mock_proxy().$as_null_object()},s.$$arity=0,s.$$parameters=[]),e.defn(x,"$null_object?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"null_object?"),t.$__mock_proxy()["$null_object?"]()},o.$$arity=0,o.$$parameters=[]),e.defn(x,"$==",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t["$=="](r.$__mock_proxy())},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(x,"$inspect",c=function(){var t=this;null==t.name&&(t.name=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"inspect"),"#<"+t.$class()+":"+"0x%x"["$%"](t.$object_id())+" @name="+t.name.$inspect()+">"},c.$$arity=0,c.$$parameters=[]),e.defn(x,"$to_s",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.$inspect().$gsub("<","[").$gsub(">","]")},u.$$arity=0,u.$$parameters=[]),e.defn(x,"$respond_to?",_=function(t,a){var n,$,i=this,s=_.$$p,o=r,l=r;null==a&&(a=!1),_.$$p=null;var c=arguments.length;for((c<1||c>2)&&e.ac(c,-2,this,"respond_to?"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return!((n=i.$__mock_proxy()["$null_object?"]())===r||null==n||n.$$is_boolean&&1!=n)||($=i,n=e.find_super_dispatcher(i,"respond_to?",_,!1),n.$$p=s,n).apply($,o)},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","incl_private"]]),e.defn(x,"$__build_mock_proxy_unless_expired",p=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"__build_mock_proxy_unless_expired"),!1!==(a=n.$__raise_expired_error())&&a!==r&&null!=a?a:n.$__build_mock_proxy(t)},p.$$arity=1,p.$$parameters=[["req","order_group"]]),e.defn(x,"$__disallow_further_usage!",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__disallow_further_usage!"),t.__expired=!0},d.$$arity=0,d.$$parameters=[]),e.defn(x,"$freeze",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"freeze"),k.get("RSpec").$warn_with("WARNING: you attempted to freeze a test double. This is explicitly a no-op as freezing doubles can lead to undesired behaviour when resetting tests.")},h.$$arity=0,h.$$parameters=[]),x.$private(),e.defn(x,"$method_missing",f=function(t){var a,n,$,i,s=this,o=f.$$p,l=o||r,c=r,u=r,_=r;null==s.name&&(s.name=r);var p=arguments.length,d=p-1;d<0&&(d=0),i=new Array(d);for(var h=1;h<p;h++)i[h-1]=arguments[h];f.$$p=null;var m=arguments.length;return m<1&&e.ac(m,-2,this,"method_missing"),c=s.$__mock_proxy(),(a=(n=c).$record_message_received,a.$$p=l.$to_proc(),a).apply(n,[t].concat(e.to_a(i))),(a=c["$null_object?"]())===r||null==a||a.$$is_boolean&&1!=a?(_=c.$visibility_for(t),(a=!1!==($=_["$=="]("private"))&&$!==r&&null!=$?$:_["$=="]("protected"))===r||null==a||a.$$is_boolean&&1!=a||k.get("ErrorGenerator").$new(s,s.name).$raise_non_public_error(t,_),(a=["to_a","to_ary"]["$include?"](t))===r||null==a||a.$$is_boolean&&1!=a||s.$raise(k.get("NoMethodError")),(a=c).$raise_unexpected_message_error.apply(a,[t].concat(e.to_a(i)))):(u=t,"to_int"["$==="](u)?0:"to_a"["$==="](u)||"to_ary"["$==="](u)?r:"to_str"["$==="](u)?s.$to_s():s)},f.$$arity=-2,f.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(x,"$assign_stubs",m=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"assign_stubs"),(a=(n=t).$each_pair,a.$$p=($=function(t,a){var n=$.$$s||this;if(null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"assign_stubs")}return n.$__mock_proxy().$add_simple_stub(t,a)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","message"],["req","response"]],$),a).call(n)},m.$$arity=1,m.$$parameters=[["req","stubs"]]),e.defn(x,"$__mock_proxy",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__mock_proxy"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t)},g.$$arity=0,g.$$parameters=[]),e.defn(x,"$__build_mock_proxy",b=function(t){var a=this;null==a.name&&(a.name=r);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"__build_mock_proxy"),k.get("TestDoubleProxy").$new(a,t,a.name)},b.$$arity=1,b.$$parameters=[["req","order_group"]]),e.defn(x,"$__raise_expired_error",v=function(){var t,a=this;null==a.__expired&&(a.__expired=r),null==a.name&&(a.name=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"__raise_expired_error"),!((t=a.__expired)===r||null==t||t.$$is_boolean&&1!=t)&&k.get("ErrorGenerator").$new(a,a.name).$raise_expired_test_double_error()},v.$$arity=0,v.$$parameters=[]),e.defn(x,"$initialize_copy",y=function(t){var a,n,$=this,i=y.$$p,s=r,o=r;y.$$p=null;var l=arguments.length;for(1!==l&&e.ac(l,1,this,"initialize_copy"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(a=t["$null_object?"]())===r||null==a||a.$$is_boolean&&1!=a||$.$as_null_object(),(n=$,a=e.find_super_dispatcher($,"initialize_copy",y,!1),a.$$p=i,a).apply(n,s)},y.$$arity=1,y.$$parameters=[["req","other"]])}(o.base),function(e,$super){function t(){}var r=t=$(e,$super,"Double",t),a=(r.$$proto,r.$$scope);r.$include(a.get("TestDouble"))}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/mocks/verifying_double"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.gvars,s=e.klass,o=e.hash2;return e.add_stubs(["$require_rspec_mocks","$require","$null_object?","$[]","$method_reference","$__mock_proxy","$visibility","$===","$<","$to_f","$!","$unimplemented?","$==","$ensure_implemented","$ensure_publicly_implemented","$new","$__send__","$to_proc","$include","$description","$stub","$const_to_replace","$private"]),a.get("RSpec").$$scope.get("Support").$require_rspec_mocks("verifying_proxy"),r.$require("stringio"),function(r){var a,l=a=$(r,"RSpec"),c=(l.$$proto,l.$$scope);!function(r){var a,l=a=$(r,"Mocks"),c=(l.$$proto,l.$$scope);!function(r){var a,s,o,l,c,u,_,p=a=$(r,"VerifyingDouble"),d=(p.$$proto,p.$$scope),h=n;null==i.stderr&&(i.stderr=n),e.defn(p,"$respond_to?",s=function(r,a){var $,i,o=this,l=s.$$p,c=n,u=n,_=n,p=n;null==a&&(a=!1),s.$$p=null;var h=arguments.length;for((h<1||h>2)&&e.ac(h,-2,this,"respond_to?"),_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return($=o["$null_object?"]())===n||null==$||$.$$is_boolean&&1!=$?(i=o,$=e.find_super_dispatcher(o,"respond_to?",s,!1),$.$$p=l,$).apply(i,_):(c=o.$__mock_proxy().$method_reference()["$[]"](r),function(){return u=c.$visibility(),!!"public"["$==="](u)||("private"["$==="](u)?a:"protected"["$==="](u)?!1!==($=a)&&$!==n&&null!=$?$:t(d.get("RUBY_VERSION").$to_f(),2):c["$unimplemented?"]()["$!"]())}())},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","include_private"]]),e.defn(p,"$method_missing",o=function(t){var r,a,$,i=this,s=o.$$p,l=n,c=n;null==i.__sending_message&&(i.__sending_message=n);var u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var p=1;p<u;p++)$[p-1]=arguments[p];o.$$p=null;var d=arguments.length;for(d<1&&e.ac(d,-2,this,"method_missing"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return(r=i["$null_object?"]())===n||null==r||r.$$is_boolean&&1!=r||(i.__sending_message["$=="](t)?i.$__mock_proxy().$ensure_implemented(t):i.$__mock_proxy().$ensure_publicly_implemented(t,i)),(a=i,r=e.find_super_dispatcher(i,"method_missing",o,!1),r.$$p=s,r).apply(a,l)},o.$$arity=-2,o.$$parameters=[["req","message"],["rest","args"],["block","block"]]),l=[i.stderr,d.get("StringIO").$new()],h=l[0],i.stderr=l[1],e.defn(p,"$__send__",c=function(t){var r,a,$,i=this,s=c.$$p,o=n,l=n,u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var p=1;p<u;p++)$[p-1]=arguments[p];c.$$p=null;var d=arguments.length;for(d<1&&e.ac(d,-2,this,"__send__"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];try{return i.__sending_message=t,(a=i,r=e.find_super_dispatcher(i,"__send__",c,!1),r.$$p=s,r).apply(a,o)}finally{i.__sending_message=n}},c.$$arity=-2,c.$$parameters=[["req","name"],["rest","args"],["block","block"]]),i.stderr=h,e.defn(p,"$send",u=function(t){var r,a,$,i=this,s=u.$$p,o=s||n,l=arguments.length,c=l-1;c<0&&(c=0),$=new Array(c);for(var _=1;_<l;_++)$[_-1]=arguments[_];u.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"send"),(r=(a=i).$__send__,r.$$p=o.$to_proc(),r).apply(a,[t].concat(e.to_a($)))},u.$$arity=-2,u.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defn(p,"$initialize",_=function(){var t,r,a,$=this,i=_.$$p,s=n,o=n,l=arguments.length,c=l-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<l;u++)a[u-0]=arguments[u];for(_.$$p=null,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=$,t=e.find_super_dispatcher($,"initialize",_,!1),t.$$p=i,t).apply(r,s),$.__sending_message=n},_.$$arity=-1,_.$$parameters=[["rest","args"]])}(c.base),function(t,$super){function r(){}var a,$,i=r=s(t,$super,"InstanceVerifyingDouble",r),o=i.$$proto,l=i.$$scope;o.name=o.doubled_module=n,i.$include(l.get("TestDouble")),i.$include(l.get("VerifyingDouble")),e.defn(i,"$initialize",a=function(t){var r,n,$,i=this,s=(a.$$p,arguments.length),o=s-1;o<0&&(o=0),$=new Array(o);for(var l=1;l<s;l++)$[l-1]=arguments[l];a.$$p=null;var c=arguments.length;return c<1&&e.ac(c,-2,this,"initialize"),i.doubled_module=t,(n=i,r=e.find_super_dispatcher(i,"initialize",a,!1),r.$$p=null,r).apply(n,[t.$description()+" (instance)"].concat(e.to_a($)))},a.$$arity=-2,a.$$parameters=[["req","doubled_module"],["rest","args"]]),e.defn(i,"$__build_mock_proxy",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"__build_mock_proxy"),l.get("VerifyingProxy").$new(r,t,r.name,r.doubled_module,l.get("InstanceMethodReference"))},$.$$arity=1,$.$$parameters=[["req","order_group"]])}(c.base,null),function(t){var r,a,i,s,l=r=$(t,"ObjectVerifyingDoubleMethods"),c=(l.$$proto,l.$$scope);l.$include(c.get("TestDouble")),l.$include(c.get("VerifyingDouble")),e.defn(l,"$as_stubbed_const",a=function(t){var r=this;null==r.doubled_module&&(r.doubled_module=n),null==t&&(t=o([],{}));var a=arguments.length;return a>1&&e.ac(a,-1,this,"as_stubbed_const"),c.get("ConstantMutator").$stub(r.doubled_module.$const_to_replace(),r,t),r},a.$$arity=-1,a.$$parameters=[["opt","options"]]),l.$private(),e.defn(l,"$initialize",i=function(t){var r,a,n,$=this,s=(i.$$p,arguments.length),o=s-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<s;l++)n[l-1]=arguments[l];i.$$p=null;var c=arguments.length;return c<1&&e.ac(c,-2,this,"initialize"),$.doubled_module=t,(a=$,r=e.find_super_dispatcher($,"initialize",i,!1),r.$$p=null,r).apply(a,[t.$description()].concat(e.to_a(n)))},i.$$arity=-2,i.$$parameters=[["req","doubled_module"],["rest","args"]]),e.defn(l,"$__build_mock_proxy",s=function(t){var r=this;null==r.name&&(r.name=n),null==r.doubled_module&&(r.doubled_module=n);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"__build_mock_proxy"),c.get("VerifyingProxy").$new(r,t,r.name,r.doubled_module,c.get("ObjectMethodReference"))},s.$$arity=1,s.$$parameters=[["req","order_group"]])}(c.base),function(e,$super){function t(){}var r=t=s(e,$super,"ObjectVerifyingDouble",t),a=(r.$$proto,r.$$scope);r.$include(a.get("ObjectVerifyingDoubleMethods"))}(c.base,null),function(e,$super){function t(){}var r=t=s(e,$super,"ClassVerifyingDouble",t),a=(r.$$proto,r.$$scope);r.$include(a.get("ObjectVerifyingDoubleMethods"))}(c.base,c.get("Module"))}(c.base)}(a.base)},Opal.modules["rspec/mocks/verifying_message_expecation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_support","$attr_accessor","$===","$first","$>","$length","$validate_expected_arguments!","$private","$nil?","$method_reference","$with_signature","$new","$valid?","$raise_invalid_arguments_error"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(r){var i,s=i=n(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var i,s=i=n(r,"Mocks"),o=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var i,s,o,l=n=$(r,$super,"VerifyingMessageExpectation",n),c=(l.$$proto,l.$$scope);l.$attr_accessor("method_reference"),e.defn(l,"$initialize",i=function(){var t,r,n,$=this,s=i.$$p,o=a,l=a,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];for(i.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(r=$,t=e.find_super_dispatcher($,"initialize",i,!1),t.$$p=s,t).apply(r,o)},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.defn(l,"$with",s=function(){var r,n,$,i,o=this,l=s.$$p,u=a,_=a,p=a,d=arguments.length,h=d-0;h<0&&(h=0),i=new Array(h);for(var f=0;f<d;f++)i[f-0]=arguments[f];for(s.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return((r=c.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](i.$first()))===a||null==r||r.$$is_boolean&&1!=r)&&(u=function(){return(r=c.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](i.$first()))===a||null==r||r.$$is_boolean&&1!=r?(r=t(i.$length(),0))===a||null==r||r.$$is_boolean&&1!=r?(n=o,r=e.find_super_dispatcher(o,"with",s,!1),r.$$p=l,r).apply(n,_):i:[]}(),o["$validate_expected_arguments!"](u)),($=o,r=e.find_super_dispatcher(o,"with",s,!1),r.$$p=l,r).apply($,_)},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]]),l.$private(),e.defn(l,"$validate_expected_arguments!",o=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"validate_expected_arguments!"),(r=i.$method_reference()["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?(r=(n=i.$method_reference()).$with_signature,r.$$p=($=function(r){var n,i=$.$$s||this,s=a;if(null==i.error_generator&&(i.error_generator=a),null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"validate_expected_arguments!")}return s=c.get("Support").$$scope.get("LooseSignatureVerifier").$new(r,t),(n=s["$valid?"]())===a||null==n||n.$$is_boolean&&1!=n?(i.failed_fast=!0,i.error_generator.$raise_invalid_arguments_error(s)):a},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","signature"]],$),r).call(n):a},o.$$arity=1,o.$$parameters=[["req","actual_args"]])}(o.base,o.get("MessageExpectation"))}(o.base)}(r.base)},Opal.modules["rspec/mocks/verifying_proxy"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$require_rspec_mocks","$ensure_implemented","$unimplemented?","$[]","$method_reference","$raise_unimplemented_error","$visibility","$==","$raise_non_public_error","$include","$new","$[]=","$tap","$method_reference=","$to_proc","$validate_arguments!","$private","$with_signature","$valid?","$raise","$error_message","$respond_to?","$save_original_method!","$original_method","$!"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("verifying_message_expecation"),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("method_reference"),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Mocks"),o=(s.$$proto,s.$$scope);!function(t){var $,i,s,o,l,c,u=$=a(t,"VerifyingProxyMethods");u.$$proto,u.$$scope;e.defn(u,"$add_stub",i=function(t,a){var $,s,o=this,l=i.$$p,c=r,u=r;null==a&&(a=n([],{})),i.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"add_stub"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return o.$ensure_implemented(t),(s=o,$=e.find_super_dispatcher(o,"add_stub",i,!1),$.$$p=l,$).apply(s,c)},i.$$arity=-2,i.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),e.defn(u,"$add_simple_stub",s=function(t){var a,n,$,i=this,o=s.$$p,l=r,c=r,u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var p=1;p<u;p++)$[p-1]=arguments[p];s.$$p=null;var d=arguments.length;for(d<1&&e.ac(d,-2,this,"add_simple_stub"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i.$ensure_implemented(t),(n=i,a=e.find_super_dispatcher(i,"add_simple_stub",s,!1),a.$$p=o,a).apply(n,l)},s.$$arity=-2,s.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(u,"$add_message_expectation",o=function(t,a){var $,i,s=this,l=o.$$p,c=r,u=r;null==a&&(a=n([],{})),o.$$p=null;var _=arguments.length;for((_<1||_>2)&&e.ac(_,-2,this,"add_message_expectation"),c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return s.$ensure_implemented(t),(i=s,$=e.find_super_dispatcher(s,"add_message_expectation",o,!1),$.$$p=l,$).apply(i,c)},o.$$arity=-2,o.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(u,"$ensure_implemented",l=function(t){var a,n=this;null==n.error_generator&&(n.error_generator=r),null==n.doubled_module&&(n.doubled_module=r);var $=arguments.length;return 1!==$&&e.ac($,1,this,"ensure_implemented"),(a=n.$method_reference()["$[]"](t)["$unimplemented?"]())===r||null==a||a.$$is_boolean&&1!=a?r:n.error_generator.$raise_unimplemented_error(n.doubled_module,t)},l.$$arity=1,l.$$parameters=[["req","method_name"]]),e.defn(u,"$ensure_publicly_implemented",c=function(t){var a=this,n=r;null==a.error_generator&&(a.error_generator=r);var $=arguments.length;return 2!==$&&e.ac($,2,this,"ensure_publicly_implemented"),a.$ensure_implemented(t),n=a.$method_reference()["$[]"](t).$visibility(),n["$=="]("public")?r:a.error_generator.$raise_non_public_error(t,n)},c.$$arity=2,c.$$parameters=[["req","method_name"],["req","_object"]])}(o.base),function(t,$super){function a(){}var n,i,s,o=a=$(t,$super,"VerifyingProxy",a),l=o.$$proto,c=o.$$scope;l.method_reference=r,o.$include(c.get("VerifyingProxyMethods")),e.defn(o,"$initialize",n=function(t,a,$,i,s){var o,l,u,_,p=this;n.$$p;n.$$p=null;var d=arguments.length;return 5!==d&&e.ac(d,5,this,"initialize"),(l=p,o=e.find_super_dispatcher(p,"initialize",n,!1),o.$$p=null,o).call(l,t,a,$),p.object=t,p.doubled_module=i,p.method_reference_class=s,p.method_doubles=(o=(u=c.get("Hash")).$new,o.$$p=(_=function(t,a){var n=_.$$s||this;if(null==n.object&&(n.object=r),null==t&&(t=r),null==a&&(a=r),_.$$is_lambda||_.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"initialize")}return t["$[]="](a,c.get("VerifyingMethodDouble").$new(n.object,a,n,n.$method_reference()["$[]"](a)))},_.$$s=p,_.$$arity=2,_.$$parameters=[["req","h"],["req","k"]],_),o).call(u)},n.$$arity=5,n.$$parameters=[["req","object"],["req","order_group"],["req","name"],["req","doubled_module"],["req","method_reference_class"]]),e.defn(o,"$method_reference",i=function(){var t,a,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"method_reference"),!1!==(t=i.method_reference)&&t!==r&&null!=t?t:i.method_reference=(a=(n=c.get("Hash")).$new,a.$$p=($=function(t,a){var n=$.$$s||this;if(null==n.method_reference_class&&(n.method_reference_class=r),null==n.doubled_module&&(n.doubled_module=r),null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"method_reference")}return t["$[]="](a,n.method_reference_class.$new(n.doubled_module,a))},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","h"],["req","k"]],$),a).call(n)},i.$$arity=0,i.$$parameters=[]),e.defn(o,"$visibility_for",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_for"),r.$method_reference()["$[]"](t).$visibility()},s.$$arity=1,s.$$parameters=[["req","method_name"]])}(o.base,o.get("TestDoubleProxy")),function(t,$super){function a(){}var n,i,s=a=$(t,$super,"VerifyingPartialDoubleProxy",a),o=s.$$proto,l=s.$$scope;o.method_doubles=r,s.$include(l.get("VerifyingProxyMethods")),e.defn(s,"$initialize",n=function(t,a){var $,i,s,o,c=this;n.$$p;n.$$p=null;var u=arguments.length;return 2!==u&&e.ac(u,2,this,"initialize"),(i=c,$=e.find_super_dispatcher(c,"initialize",n,!1),$.$$p=null,$).call(i,t,a),c.doubled_module=l.get("DirectObjectReference").$new(t),c.method_doubles=($=(s=l.get("Hash")).$new,$.$$p=(o=function(a,n){var $=o.$$s||this;if(null==a&&(a=r),null==n&&(n=r),o.$$is_lambda||o.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"initialize")}return a["$[]="](n,l.get("VerifyingExistingMethodDouble").$new(t,n,$))},o.$$s=c,o.$$arity=2,o.$$parameters=[["req","h"],["req","k"]],o),$).call(s)},n.$$arity=2,n.$$parameters=[["req","object"],["req","expectation_ordering"]]),e.defn(s,"$method_reference",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_reference"),t.method_doubles},i.$$arity=0,i.$$parameters=[])}(o.base,o.get("PartialDoubleProxy")),function(e,$super){function t(){}var r=t=$(e,$super,"VerifyingPartialClassDoubleProxy",t),a=(r.$$proto,r.$$scope);r.$include(a.get("PartialClassDoubleProxyMethods"))}(o.base,o.get("VerifyingPartialDoubleProxy")),function(t,$super){function a(){}var n,i,s,o,l,c,u=a=$(t,$super,"VerifyingMethodDouble",a),_=u.$$proto,p=u.$$scope;_.method_reference=r,e.defn(u,"$initialize",n=function(t,r,a,$){var i,s,o=this;n.$$p;n.$$p=null;var l=arguments.length;return 4!==l&&e.ac(l,4,this,"initialize"),(s=o,i=e.find_super_dispatcher(o,"initialize",n,!1),i.$$p=null,i).call(s,t,r,a),o.method_reference=$},n.$$arity=4,n.$$parameters=[["req","object"],["req","method_name"],["req","proxy"],["req","method_reference"]]),e.defn(u,"$message_expectation_class",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"message_expectation_class"),p.get("VerifyingMessageExpectation")},i.$$arity=0,i.$$parameters=[]),e.defn(u,"$add_expectation",s=function(){var t,a,n,$,i,o,l=this,c=s.$$p,u=c||r,_=arguments.length,p=_-0;p<0&&(p=0),o=new Array(p);for(var d=0;d<_;d++)o[d-0]=arguments[d];return s.$$p=null,(t=(a=(i=l,$=e.find_super_dispatcher(l,"add_expectation",s,!1),$.$$p=u.$to_proc(),$).apply(i,e.to_a(o))).$tap,t.$$p=(n=function(t){var a,$,i=n.$$s||this;if(null==i.method_reference&&(i.method_reference=r),null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"add_expectation")}return a=[i.method_reference],$=t,$["$method_reference="].apply($,a),a[a.length-1]},n.$$s=l,n.$$arity=1,n.$$parameters=[["req","x"]],n),t).call(a)},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]]),e.defn(u,"$add_stub",o=function(){var t,a,n,$,i,s,l=this,c=o.$$p,u=c||r,_=arguments.length,p=_-0;p<0&&(p=0),s=new Array(p);for(var d=0;d<_;d++)s[d-0]=arguments[d];return o.$$p=null,(t=(a=(i=l,$=e.find_super_dispatcher(l,"add_stub",o,!1),$.$$p=u.$to_proc(),$).apply(i,e.to_a(s))).$tap,t.$$p=(n=function(t){var a,$,i=n.$$s||this;if(null==i.method_reference&&(i.method_reference=r),null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"add_stub")}return a=[i.method_reference],$=t,$["$method_reference="].apply($,a),a[a.length-1]},n.$$s=l,n.$$arity=1,n.$$parameters=[["req","x"]],n),t).call(a)},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.defn(u,"$proxy_method_invoked",l=function(){var t,a,n,$=this,i=l.$$p,s=r,o=r,c=arguments.length,u=c-1;u<0&&(u=0),n=new Array(u);for(var _=1;_<c;_++)n[_-1]=arguments[_];l.$$p=null;var p=arguments.length;for(p<1&&e.ac(p,-2,this,"proxy_method_invoked"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return $["$validate_arguments!"](n),(a=$,t=e.find_super_dispatcher($,"proxy_method_invoked",l,!1),t.$$p=i,t).apply(a,s)},l.$$arity=-2,l.$$parameters=[["req","obj"],["rest","args"],["block","block"]]),u.$private(),e.defn(u,"$validate_arguments!",c=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"validate_arguments!"),(a=(n=i.method_reference).$with_signature,a.$$p=($=function(a){var n,i=$.$$s||this,s=r;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"validate_arguments!")}return s=p.get("Support").$$scope.get("StrictSignatureVerifier").$new(a,t),(n=s["$valid?"]())===r||null==n||n.$$is_boolean&&1!=n?i.$raise(p.get("ArgumentError"),s.$error_message()):r},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","signature"]],$),a).call(n)},c.$$arity=1,c.$$parameters=[["req","actual_args"]])}(o.base,o.get("MethodDouble")),function(t,$super){function a(){}var n,i,s,o=a=$(t,$super,"VerifyingExistingMethodDouble",a),l=o.$$proto,c=o.$$scope;l.valid_method=r,e.defn(o,"$initialize",n=function(t,r,a){var $,i,s=this;n.$$p;n.$$p=null;var o=arguments.length;return 3!==o&&e.ac(o,3,this,"initialize"),(i=s,$=e.find_super_dispatcher(s,"initialize",n,!1),$.$$p=null,$).call(i,t,r,a,s),s.valid_method=t["$respond_to?"](r,!0),s["$save_original_method!"]()},n.$$arity=3,n.$$parameters=[["req","object"],["req","method_name"],["req","proxy"]]),e.defn(o,"$with_signature",i=function(){var t=this,a=i.$$p,n=a||r;i.$$p=null
;var $=arguments.length;return 0!==$&&e.ac($,0,this,"with_signature"),e.yield1(n,c.get("Support").$$scope.get("MethodSignature").$new(t.$original_method()))},i.$$arity=0,i.$$parameters=[]),e.defn(o,"$unimplemented?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unimplemented?"),t.valid_method["$!"]()},s.$$arity=0,s.$$parameters=[])}(o.base,o.get("VerifyingMethodDouble"))}(o.base)}(t.base)},Opal.modules["rspec/mocks/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Mocks"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Version"),$=(n.$$proto,n.$$scope);e.cdecl($,"STRING","3.1.3")}($.base)}($.base)}(t.base)},Opal.modules["rspec/support/caller_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$join","$+","$union","$>=","$caller","$raise","$find","$!~","$*"]),function(n){var o,l=o=i(n,"RSpec"),c=(l.$$proto,l.$$scope);!function(n,$super){function i(){}var o,l,c,u=i=s(n,$super,"CallerFilter",i),_=(u.$$proto,u.$$scope);e.cdecl(_,"RSPEC_LIBS",["core","mocks","expectations","support","matchers","rails"]),e.cdecl(_,"ADDITIONAL_TOP_LEVEL_FILES",["autorun"]),e.cdecl(_,"LIB_REGEX",new RegExp("/lib/rspec/("+t(_.get("RSPEC_LIBS"),_.get("ADDITIONAL_TOP_LEVEL_FILES")).$join("|")+")(\\.rb|/)")),e.cdecl(_,"IGNORE_REGEX",_.get("Regexp").$union(_.get("LIB_REGEX"),"rubygems/core_ext/kernel_require.rb")),(o=r(_.get("RUBY_VERSION"),"2.0.0"))===$||null==o||o.$$is_boolean&&1!=o?e.defs(u,"$first_non_rspec_line",c=function(){var t,r,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"first_non_rspec_line"),(t=(r=n.$caller()).$find,t.$$p=(a=function(t){a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"first_non_rspec_line")}return t["$!~"](_.get("IGNORE_REGEX"))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","line"]],a),t).call(r)},c.$$arity=0,c.$$parameters=[]):e.defs(u,"$first_non_rspec_line",l=function(){var r,n,i,s=this,o=$,l=$,c=$,u=$,p=arguments.length;for(0!==p&&e.ac(p,0,this,"first_non_rspec_line"),o=5,l=1,c=$;!1===c||c===$||null==c;)u=s.$caller(l,o),!1!==u&&u!==$&&null!=u||s.$raise("No non-lib lines in stack"),c=(r=(n=u).$find,r.$$p=(i=function(t){i.$$s;if(null==t&&(t=$),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"first_non_rspec_line")}return t["$!~"](_.get("IGNORE_REGEX"))},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","l"]],i),r).call(n),l=t(l,o),o=a(o,2);return c},l.$$arity=0,l.$$parameters=[])}(c.base,null)}(n.base)},Opal.modules["rspec/support/differ"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,i=e.hash2;return e.add_stubs(["$require_rspec_support","$require","$all_strings?","$any_multiline_strings?","$diff_as_string","$coerce_to_string","$no_procs?","$no_numbers?","$diff_as_object","$to_s","$pick_encoding","$new","$each_cons","$overlaps?","$add_old_hunk_to_hunk","$add_to_output","$diff","$format_type","$hunks","$last","$finalize_output","$color_diff","$handle_encoding_errors","$object_to_string","$attr_reader","$alias_method","$fetch","$lambda","$private","$none?","$===","$safely_flatten","$all?","$any?","$multiline?","$join","$diffably_stringify","$map","$inspect","$gsub","$method_defined?","$include?","$encode","$encoding","$<<","$merge","$==","$flatten","$color","$color?","$chr","$[]","$green","$red","$blue","$normal","$lines","$call","$singleline_pp","$sort_by","$keys","$=~","$pp","$compatible?","$default_external","$!=","$source_encoding"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("encoded_string"),r.get("RSpec").$$scope.get("Support").$require_rspec_support("hunk_generator"),t.$require("pp"),function(t){var r,s=r=n(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var r,s=r=n(t,"Support"),o=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var n,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I=r=$(t,$super,"Differ",r),C=I.$$proto,P=I.$$scope;C.encoding=C.hunks=C.actual=C.expected=C.object_preparer=a,e.defn(I,"$diff",n=function(t,r){var n,$,i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"diff"),s="",(n=($=!1!==t&&t!==a&&null!=t)?r:t)===a||null==n||n.$$is_boolean&&1!=n||((n=i["$all_strings?"](t,r))===a||null==n||n.$$is_boolean&&1!=n?($=i["$no_procs?"](t,r),(n=!1!==$&&$!==a&&null!=$?i["$no_numbers?"](t,r):$)===a||null==n||n.$$is_boolean&&1!=n||(s=i.$diff_as_object(t,r))):(n=i["$any_multiline_strings?"](t,r))===a||null==n||n.$$is_boolean&&1!=n||(s=i.$diff_as_string(i.$coerce_to_string(t),i.$coerce_to_string(r)))),s.$to_s()},n.$$arity=2,n.$$parameters=[["req","actual"],["req","expected"]]),e.defn(I,"$diff_as_string",s=function(t,r){var n,$,i,s=this,o=a,l=arguments.length;2!==l&&e.ac(l,2,this,"diff_as_string");try{return s.encoding=s.$pick_encoding(t,r),s.actual=P.get("EncodedString").$new(t,s.encoding),s.expected=P.get("EncodedString").$new(r,s.encoding),o=P.get("EncodedString").$new("\n",s.encoding),(n=($=s.$hunks()).$each_cons,n.$$p=(i=function(t,r){var n,$=i.$$s||this;if(null==t&&(t=a),null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"diff_as_string")}try{return(n=r["$overlaps?"](t))===a||null==n||n.$$is_boolean&&1!=n?$.$add_to_output(o,t.$diff($.$format_type()).$to_s()):$.$add_old_hunk_to_hunk(r,t)}finally{$.$add_to_output(o,"\n")}},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","prev_hunk"],["req","current_hunk"]],i),n).call($,2),(n=s.$hunks().$last())===a||null==n||n.$$is_boolean&&1!=n||s.$finalize_output(o,s.$hunks().$last().$diff(s.$format_type()).$to_s()),s.$color_diff(o)}catch(t){if(!e.rescue(t,[P.get("Encoding").$$scope.get("CompatibilityError")]))throw t;try{return s.$handle_encoding_errors()}finally{e.pop_exception()}}},s.$$arity=2,s.$$parameters=[["req","actual"],["req","expected"]]),e.defn(I,"$diff_as_object",o=function(t,r){var n=this,$=a,i=a,s=arguments.length;return 2!==s&&e.ac(s,2,this,"diff_as_object"),$=n.$object_to_string(t),i=n.$object_to_string(r),n.$diff_as_string($,i)},o.$$arity=2,o.$$parameters=[["req","actual"],["req","expected"]]),I.$attr_reader("color"),I.$alias_method("color?","color"),e.defn(I,"$initialize",l=function(t){var r,n,$,s=this;null==t&&(t=i([],{}));var o=arguments.length;return o>1&&e.ac(o,-1,this,"initialize"),s.color=t.$fetch("color",!1),s.object_preparer=t.$fetch("object_preparer",(r=(n=s).$lambda,r.$$p=($=function(t){$.$$s;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"initialize")}return t},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","string"]],$),r).call(n))},l.$$arity=-1,l.$$parameters=[["opt","opts"]]),I.$private(),e.defn(I,"$no_procs?",c=function(){var t,r,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(r=i.$safely_flatten($))["$none?"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"no_procs?")}return P.get("Proc")["$==="](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","a"]],n),t).call(r)},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(I,"$all_strings?",u=function(){var t,r,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(r=i.$safely_flatten($))["$all?"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"all_strings?")}return P.get("String")["$==="](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","a"]],n),t).call(r)},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(I,"$any_multiline_strings?",_=function(){var t,r,n,$,i,s,o=this,l=arguments.length,c=l-0;c<0&&(c=0),s=new Array(c);for(var u=0;u<l;u++)s[u-0]=arguments[u];return t=(r=o)["$all_strings?"].apply(r,e.to_a(s)),!1!==t&&t!==a&&null!=t?(n=($=o.$safely_flatten(s))["$any?"],n.$$p=(i=function(t){var r=i.$$s||this;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"any_multiline_strings?")}return r["$multiline?"](t)},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","a"]],i),n).call($):t},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(I,"$no_numbers?",p=function(){var t,r,n,$,i=this,s=arguments.length,o=s-0;o<0&&(o=0),$=new Array(o);for(var l=0;l<s;l++)$[l-0]=arguments[l];return(t=(r=i.$safely_flatten($))["$none?"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"no_numbers?")}return P.get("Numeric")["$==="](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","a"]],n),t).call(r)},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(I,"$coerce_to_string",d=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"coerce_to_string"),(r=P.get("Array")["$==="](t))===a||null==r||r.$$is_boolean&&1!=r?t:n.$diffably_stringify(t).$join("\n")},d.$$arity=1,d.$$parameters=[["req","string_or_array"]]),e.defn(I,"$diffably_stringify",h=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"diffably_stringify"),(r=(n=t).$map,r.$$p=($=function(t){var r;$.$$s;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"diffably_stringify")}return(r=P.get("Array")["$==="](t))===a||null==r||r.$$is_boolean&&1!=r?t.$to_s().$gsub("\n","\\n"):t.$inspect()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","entry"]],$),r).call(n)},h.$$arity=1,h.$$parameters=[["req","array"]]),(f=P.get("String")["$method_defined?"]("encoding"))===a||null==f||f.$$is_boolean&&1!=f?e.defn(I,"$multiline?",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"multiline?"),t["$include?"]("\n")},g.$$arity=1,g.$$parameters=[["req","string"]]):e.defn(I,"$multiline?",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"multiline?"),t["$include?"]("\n".$encode(t.$encoding()))},m.$$arity=1,m.$$parameters=[["req","string"]]),e.defn(I,"$hunks",b=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"hunks"),!1!==(t=r.hunks)&&t!==a&&null!=t?t:r.hunks=P.get("HunkGenerator").$new(r.actual,r.expected).$hunks()},b.$$arity=0,b.$$parameters=[]),e.defn(I,"$finalize_output",v=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"finalize_output"),a.$add_to_output(t,r),a.$add_to_output(t,"\n")},v.$$arity=2,v.$$parameters=[["req","output"],["req","final_line"]]),e.defn(I,"$add_to_output",y=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"add_to_output"),t["$<<"](r)},y.$$arity=2,y.$$parameters=[["req","output"],["req","string"]]),e.defn(I,"$add_old_hunk_to_hunk",x=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"add_old_hunk_to_hunk"),t.$merge(r)},x.$$arity=2,x.$$parameters=[["req","hunk"],["req","oldhunk"]]),e.defn(I,"$safely_flatten",k=function(t){var r,n=arguments.length;for(1!==n&&e.ac(n,1,this,"safely_flatten");(r=t["$=="](t.$flatten(1)))===a||null==r||r.$$is_boolean&&1!=r;)t=t.$flatten(1);return t},k.$$arity=1,k.$$parameters=[["req","array"]]),e.defn(I,"$format_type",w=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"format_type"),"unified"},w.$$arity=0,w.$$parameters=[]),e.defn(I,"$color",q=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"color"),"e["+r+"m"+t+"e[0m"},q.$$arity=2,q.$$parameters=[["req","text"],["req","color_code"]]),e.defn(I,"$red",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"red"),r.$color(t,31)},S.$$arity=1,S.$$parameters=[["req","text"]]),e.defn(I,"$green",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"green"),r.$color(t,32)},E.$$arity=1,E.$$parameters=[["req","text"]]),e.defn(I,"$blue",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"blue"),r.$color(t,34)},R.$$arity=1,R.$$parameters=[["req","text"]]),e.defn(I,"$normal",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"normal"),r.$color(t,0)},O.$$arity=1,O.$$parameters=[["req","text"]]),e.defn(I,"$color_diff",M=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"color_diff"),(r=i["$color?"]())===a||null==r||r.$$is_boolean&&1!=r?t:(r=(n=t.$lines()).$map,r.$$p=($=function(t){var r=$.$$s||this,n=a;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"color_diff")}return function(){return n=t["$[]"](0).$chr(),"+"["$==="](n)?r.$green(t):"-"["$==="](n)?r.$red(t):"@"["$==="](n)&&t["$[]"](1).$chr()["$=="]("@")?r.$blue(t):r.$normal(t)}()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","line"]],$),r).call(n).$join()},M.$$arity=1,M.$$parameters=[["req","diff"]]),e.defn(I,"$object_to_string",A=function(t){var r,n,$,i,s,o,l=this,c=a,u=arguments.length;return 1!==u&&e.ac(u,1,this,"object_to_string"),t=l.object_preparer.$call(t),function(){return c=t,P.get("Hash")["$==="](c)?(r=(n=(i=(s=t.$keys()).$sort_by,i.$$p=(o=function(t){o.$$s;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"object_to_string")}return t.$to_s()},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","k"]],o),i).call(s)).$map,r.$$p=($=function(r){var n=($.$$s,a),i=a;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"object_to_string")}return n=P.get("PP").$singleline_pp(r,""),i=P.get("PP").$singleline_pp(t["$[]"](r),""),n+" => "+i+","},$.$$s=l,$.$$arity=1,$.$$parameters=[["req","key"]],$),r).call(n).$join("\n"):P.get("String")["$==="](c)?(r=t["$=~"](/\n/))===a||null==r||r.$$is_boolean&&1!=r?t.$inspect():t:P.get("PP").$pp(t,"")}()},A.$$arity=1,A.$$parameters=[["req","object"]]),(f=P.get("String")["$method_defined?"]("encoding"))===a||null==f||f.$$is_boolean&&1!=f?e.defn(I,"$pick_encoding",j=function(){var t=arguments.length;return 2!==t&&e.ac(t,2,this,"pick_encoding"),a},j.$$arity=2,j.$$parameters=[["req","_source_a"],["req","_source_b"]]):e.defn(I,"$pick_encoding",z=function(t,r){var n,$=arguments.length;return 2!==$&&e.ac($,2,this,"pick_encoding"),!1!==(n=P.get("Encoding")["$compatible?"](t,r))&&n!==a&&null!=n?n:P.get("Encoding").$default_external()},z.$$arity=2,z.$$parameters=[["req","source_a"],["req","source_b"]]),e.defn(I,"$handle_encoding_errors",T=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"handle_encoding_errors"),(t=r.actual.$source_encoding()["$!="](r.expected.$source_encoding()))===a||null==t||t.$$is_boolean&&1!=t?"Could not produce a diff because of the encoding of the string ("+r.expected.$source_encoding()+")":"Could not produce a diff because the encoding of the actual string ("+r.actual.$source_encoding()+") differs from the encoding of the expected string ("+r.expected.$source_encoding()+")"},T.$$arity=0,T.$$parameters=[])}(o.base,null)}(o.base)}(r.base)},Opal.modules["rspec/support/directory_maker"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$require_rspec_support","$generate_stack","$each","$generate_path","$directory_exists?","$mkdir","$raise","$message","$split","$windows_file_path?","$start_with?","$==","$[]","$join","$exist?","$directory?","$private_class_method"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("os"),function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"Support"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l,c,u,_=a=n(t,$super,"DirectoryMaker",a),p=(_.$$proto,_.$$scope);e.defs(_,"$mkdir_p",$=function(t){var a,n,$,i=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"mkdir_p"),s=i.$generate_stack(t),(a=(n=t.$split(p.get("File").$$scope.get("SEPARATOR"))).$each,a.$$p=($=function(t){var a,n=$.$$s||this,i=r;if(null==t&&(t=r),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"mkdir_p")}s=n.$generate_path(s,t);try{return(a=n["$directory_exists?"](s))===r||null==a||a.$$is_boolean&&1!=a?p.get("Dir").$mkdir(s):r}catch(t){if(!e.rescue(t,[p.get("Errno").$$scope.get("ENOTDIR")]))throw t;i=t;try{return n.$raise(p.get("Errno").$$scope.get("EEXIST"),i.$message())}finally{e.pop_exception()}}},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","part"]],$),a).call(n)},$.$$arity=1,$.$$parameters=[["req","path"]]),(i=p.get("OS")["$windows_file_path?"]())===r||null==i||i.$$is_boolean&&1!=i?(e.defs(_,"$generate_stack",l=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"generate_stack"),(a=t["$start_with?"](p.get("File").$$scope.get("SEPARATOR")))===r||null==a||a.$$is_boolean&&1!=a?".":p.get("File").$$scope.get("SEPARATOR")},l.$$arity=1,l.$$parameters=[["req","path"]]),e.defs(_,"$generate_path",c=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"generate_path"),p.get("File").$join(t,r)},c.$$arity=2,c.$$parameters=[["req","stack"],["req","part"]])):(e.defs(_,"$generate_stack",s=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"generate_stack"),(a=t["$start_with?"](p.get("File").$$scope.get("SEPARATOR")))===r||null==a||a.$$is_boolean&&1!=a?t["$[]"](1)["$=="](":")?"":".":p.get("File").$$scope.get("SEPARATOR")},s.$$arity=1,s.$$parameters=[["req","path"]]),e.defs(_,"$generate_path",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"generate_path"),t["$=="]("")?r:t["$=="](p.get("File").$$scope.get("SEPARATOR"))?p.get("File").$join("",r):p.get("File").$join(t,r)},o.$$arity=2,o.$$parameters=[["req","stack"],["req","part"]])),e.defs(_,"$directory_exists?",u=function(t){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"directory_exists?"),a=p.get("File")["$exist?"](t),!1!==a&&a!==r&&null!=a?p.get("File")["$directory?"](t):a},u.$$arity=1,u.$$parameters=[["req","dirname"]]),_.$private_class_method("directory_exists?"),_.$private_class_method("generate_stack"),_.$private_class_method("generate_path")}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/support/encoded_string"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$detect_source_encoding","$matching_encoding","$attr_reader","$&","$map","$to_proc","$instance_methods","$each","$define_method","$__send__","$<<","$split","$method_defined?","$private","$encode","$normalize_missing","$force_encoding","$==","$to_s","$gsub","$encoding"]),function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"Support"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b=a=n(t,$super,"EncodedString",a),v=b.$$proto,y=b.$$scope,x=r;v.string=v.encoding=r,e.cdecl(y,"MRI_UNICODE_UNKOWN_CHARACTER","\xef\xbf\xbd"),e.defn(b,"$initialize",i=function(t,a){var n=this;null==a&&(a=r);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"initialize"),n.encoding=a,n.source_encoding=n.$detect_source_encoding(t),n.string=n.$matching_encoding(t)},i.$$arity=-2,i.$$parameters=[["req","string"],["opt","encoding"]]),b.$attr_reader("source_encoding"),x=(s=(o=y.get("String").$instance_methods()).$map,s.$$p="to_s".$to_proc(),s).call(o)["$&"](["eql?","lines","==","encoding","empty?"]),(s=(l=x).$each,s.$$p=(c=function(t){var a,n,$,i=c.$$s||this;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:EncodedString>")}return(a=(n=i).$define_method,a.$$p=($=function(){var a,n,i,s,o=$.$$s||this;null==o.string&&(o.string=r),a=$.$$p||r,$.$$p=null;var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return(i=(s=o.string).$__send__,i.$$p=a.$to_proc(),i).apply(s,[t].concat(e.to_a(n)))},$.$$s=i,$.$$arity=-1,$.$$parameters=[["rest","args"],["block","block"]],$),a).call(n,t)},c.$$s=b,c.$$arity=1,c.$$parameters=[["req","name"]],c),s).call(l),e.defn(b,"$<<",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.string["$<<"](r.$matching_encoding(t))},u.$$arity=1,u.$$parameters=[["req","string"]]),e.defn(b,"$split",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"split"),r.string.$split(r.$matching_encoding(t))},_.$$arity=1,_.$$parameters=[["req","regex_or_string"]]),e.defn(b,"$to_s",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.string},p.$$arity=0,p.$$parameters=[]),e.alias(b,"to_str","to_s"),(s=y.get("String")["$method_defined?"]("encoding"))===r||null==s||s.$$is_boolean&&1!=s?(b.$private(),e.defn(b,"$matching_encoding",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"matching_encoding"),t},m.$$arity=1,m.$$parameters=[["req","string"]]),e.defn(b,"$detect_source_encoding",g=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"detect_source_encoding"),"US-ASCII"},g.$$arity=1,g.$$parameters=[["req","_string"]])):(b.$private(),e.defn(b,"$matching_encoding",d=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"matching_encoding");try{return t.$encode(r.encoding)}catch(a){if(e.rescue(a,[y.get("Encoding").$$scope.get("UndefinedConversionError"),y.get("Encoding").$$scope.get("InvalidByteSequenceError")]))try{return r.$normalize_missing(t.$encode(r.encoding,$(["invalid","undef"],{invalid:"replace",undef:"replace"})))}finally{e.pop_exception()}else{if(!e.rescue(a,[y.get("Encoding").$$scope.get("ConverterNotFoundError")]))throw a;try{r.$normalize_missing(t.$force_encoding(r.encoding).$encode($(["invalid"],{invalid:"replace"})))}finally{e.pop_exception()}}}},d.$$arity=1,d.$$parameters=[["req","string"]]),e.defn(b,"$normalize_missing",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"normalize_missing"),r.encoding.$to_s()["$=="]("UTF-8")?t.$gsub(y.get("MRI_UNICODE_UNKOWN_CHARACTER").$force_encoding(r.encoding),"?"):t},h.$$arity=1,h.$$parameters=[["req","string"]]),e.defn(b,"$detect_source_encoding",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"detect_source_encoding"),t.$encoding()},f.$$arity=1,f.$$parameters=[["req","string"]]))}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/support/hunk_generator"]=function(e){var t=e.top,r=e,a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require","$map","$build_hunk","$diffs","$private","$diff","$expected_lines","$actual_lines","$map!","$chomp","$split","$tap","$file_length_difference","$new","$context_lines"]),t.$require("diff/lcs"),t.$require("diff/lcs/hunk"),function(t){var r,i=r=n(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var r,i=r=n(t,"Support"),s=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var n,i,s,o,l,c,u,_=r=$(t,$super,"HunkGenerator",r),p=_.$$proto,d=_.$$scope;p.hunks=p.expected=p.actual=p.file_length_difference=a,e.defn(_,"$initialize",n=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.actual=t,a.expected=r},n.$$arity=2,n.$$parameters=[["req","actual"],["req","expected"]]),e.defn(_,"$hunks",i=function(){var t,r,n,$,i=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"hunks"),i.file_length_difference=0,!1!==(t=i.hunks)&&t!==a&&null!=t?t:i.hunks=(r=(n=i.$diffs()).$map,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"hunks")}return r.$build_hunk(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","piece"]],$),r).call(n)},i.$$arity=0,i.$$parameters=[]),_.$private(),e.defn(_,"$diffs",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"diffs"),d.get("Diff").$$scope.get("LCS").$diff(t.$expected_lines(),t.$actual_lines())},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$expected_lines",o=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expected_lines"),(t=(r=$.expected.$split("\n"))["$map!"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"expected_lines")}return t.$chomp()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","e"]],n),t).call(r)},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$actual_lines",l=function(){var t,r,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"actual_lines"),(t=(r=$.actual.$split("\n"))["$map!"],t.$$p=(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"actual_lines")}return t.$chomp()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","e"]],n),t).call(r)},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$build_hunk",c=function(t){var r,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"build_hunk"),(r=(n=d.get("Diff").$$scope.get("LCS").$$scope.get("Hunk").$new(i.$expected_lines(),i.$actual_lines(),t,i.$context_lines(),i.file_length_difference)).$tap,r.$$p=($=function(t){var r=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"build_hunk")}return r.file_length_difference=t.$file_length_difference()},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","h"]],$),r).call(n)},c.$$arity=1,c.$$parameters=[["req","piece"]]),e.defn(_,"$context_lines",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"context_lines"),3},u.$$arity=0,u.$$parameters=[])}(s.base,null)}(s.base)}(r.base)},Opal.modules["rspec/support/method_signature_verifier"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var i=e.top,s=e,o=e.nil,l=(e.breaker,e.slice,e.module),c=e.klass;return e.add_stubs(["$require","$require_rspec_support","$attr_reader","$classify_parameters","$max_non_kw_args","$===","$min_non_kw_args","$to_s","$<=","$optional_and_splat_args_supported?","$==","$non_kw_args_arity_description","$<<","$any?","$join","$map","$to_proc","$-","$last","$could_contain_kw_args?","$count","$each","$+","$parameters","$arity","$<","$~","$/","$split_args","$empty?","$missing_kw_args","$invalid_kw_args","$valid_non_kw_args?","$%","$!","$length","$non_kw_args","$private","$missing_kw_args_from","$kw_args","$invalid_kw_args_from","$has_kw_args_in?","$keys","$pop","$is_a_matcher?","$new"]),i.$require("rspec/support"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("ruby_features"),s.get("RSpec").$$scope.get("Support").$require_rspec_support("matcher_definition"),function(i){var s,u=s=l(i,"RSpec"),_=(u.$$proto,u.$$scope);!function(i){var s,u=s=l(i,"Support"),_=(u.$$proto,u.$$scope);!function(i,$super){function s(){}var l,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S=s=c(i,$super,"MethodSignature",s),E=S.$$proto,R=S.$$scope;E.description=E.optional_kw_args=E.required_kw_args=E.allows_any_kw_args=E.allowed_kw_args=E.method=E.min_non_kw_args=o,S.$attr_reader("min_non_kw_args","max_non_kw_args"),e.defn(S,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.method=t,r.$classify_parameters()},l.$$arity=1,l.$$parameters=[["req","method"]]),e.defn(S,"$non_kw_args_arity_description",u=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"non_kw_args_arity_description"),function(){return r=t.$max_non_kw_args(),t.$min_non_kw_args()["$==="](r)?t.$min_non_kw_args().$to_s():R.get("INFINITY")["$==="](r)?t.$min_non_kw_args()+" or more":t.$min_non_kw_args()+" to "+t.$max_non_kw_args()}()},u.$$arity=0,u.$$parameters=[]),e.defn(S,"$valid_non_kw_args?",_=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"valid_non_kw_args?"),a=t(n.$min_non_kw_args(),r),!1!==a&&a!==o&&null!=a?t(r,n.$max_non_kw_args()):a},_.$$arity=1,_.$$parameters=[["req","positional_arg_count"]]),(p=R.get("RubyFeatures")["$optional_and_splat_args_supported?"]())===o||null==p||p.$$is_boolean&&1!=p?(e.defn(S,"$description",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"arity of "+t.$non_kw_args_arity_description()},v.$$arity=0,v.$$parameters=[]),e.defn(S,"$missing_kw_args_from",y=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"missing_kw_args_from"),[]},y.$$arity=1,y.$$parameters=[["req","_given_kw_args"]]),e.defn(S,"$invalid_kw_args_from",x=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"invalid_kw_args_from"),[]},x.$$arity=1,x.$$parameters=[["req","_given_kw_args"]]),e.defn(S,"$has_kw_args_in?",k=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"has_kw_args_in?"),!1},k.$$arity=1,k.$$parameters=[["req","_args"]]),e.defn(S,"$could_contain_kw_args?",w=function(){return!1},w.$$arity=-1,w.$$parameters=[["rest"]]),e.defn(S,"$classify_parameters",q=function(){var t,r=this,a=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"classify_parameters"),a=r.method.$arity(),(t=n(a,0))===o||null==t||t.$$is_boolean&&1!=t?(r.min_non_kw_args=a,r.max_non_kw_args=a):(r.min_non_kw_args=a["$~"](),r.max_non_kw_args=R.get("INFINITY"))},q.$$arity=0,q.$$parameters=[])):(e.defn(S,"$description",d=function(){var t,r,a,n,$=this,i=o,s=arguments.length;return 0!==s&&e.ac(s,0,this,"description"),!1!==(t=$.description)&&t!==o&&null!=t?t:$.description=function(){return i=[],$.$non_kw_args_arity_description()["$=="]("0")||i["$<<"]("arity of "+$.$non_kw_args_arity_description()),(r=$.optional_kw_args["$any?"]())===o||null==r||r.$$is_boolean&&1!=r||i["$<<"]("optional keyword args ("+(r=(a=$.optional_kw_args).$map,r.$$p="inspect".$to_proc(),r).call(a).$join(", ")+")"),(r=$.required_kw_args["$any?"]())===o||null==r||r.$$is_boolean&&1!=r||i["$<<"]("required keyword args ("+(r=(n=$.required_kw_args).$map,r.$$p="inspect".$to_proc(),r).call(n).$join(", ")+")"),(r=$.allows_any_kw_args)===o||null==r||r.$$is_boolean&&1!=r||i["$<<"]("any additional keyword args"),i.$join(" and ")}()},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$missing_kw_args_from",h=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"missing_kw_args_from"),r(a.required_kw_args,t)},h.$$arity=1,h.$$parameters=[["req","given_kw_args"]]),e.defn(S,"$invalid_kw_args_from",f=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"invalid_kw_args_from"),(a=n.allows_any_kw_args)===o||null==a||a.$$is_boolean&&1!=a?r(t,n.allowed_kw_args):[]},f.$$arity=1,f.$$parameters=[["req","given_kw_args"]]),e.defn(S,"$has_kw_args_in?",m=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"has_kw_args_in?"),r=R.get("Hash")["$==="](t.$last()),!1!==r&&r!==o&&null!=r?a["$could_contain_kw_args?"](t):r},m.$$arity=1,m.$$parameters=[["req","args"]]),e.defn(S,"$could_contain_kw_args?",g=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"could_contain_kw_args?"),!!((a=t(r.$count(),n.$min_non_kw_args()))===o||null==a||a.$$is_boolean&&1!=a)&&(!1!==(a=n.allows_any_kw_args)&&a!==o&&null!=a?a:n.allowed_kw_args["$any?"]())},g.$$arity=1,g.$$parameters=[["req","args"]]),e.defn(S,"$classify_parameters",b=function(){var t,r,n,$=this,i=o,s=arguments.length;return 0!==s&&e.ac(s,0,this,"classify_parameters"),i=$.min_non_kw_args=0,t=[[],[]],$.optional_kw_args=t[0],$.required_kw_args=t[1],$.allows_any_kw_args=!1,(t=(r=$.method.$parameters()).$each,t.$$p=(n=function(t){var r,$,s,l=n.$$s||this,c=o;if(null==l.required_kw_args&&(l.required_kw_args=o),null==l.optional_kw_args&&(l.optional_kw_args=o),null==l.min_non_kw_args&&(l.min_non_kw_args=o),null==t&&(t=o),t=e.to_ary(t),r=e.slice.call(t,0,t.length),$=r.splice(0,1)[0],null==$&&($=o),s=r.splice(0,1)[0],null==s&&(s=o),n.$$is_lambda||n.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"classify_parameters")}return function(){return c=$,"keyreq"["$==="](c)?l.required_kw_args["$<<"](s):"key"["$==="](c)?l.optional_kw_args["$<<"](s):"keyrest"["$==="](c)?l.allows_any_kw_args=!0:"req"["$==="](c)?l.min_non_kw_args=a(l.min_non_kw_args,1):"opt"["$==="](c)?i=a(i,1):"rest"["$==="](c)?i=R.get("INFINITY"):o}()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req"]],n.$$has_top_level_mlhs_arg=!0,n),t).call(r),$.max_non_kw_args=a($.min_non_kw_args,i),$.allowed_kw_args=a($.required_kw_args,$.optional_kw_args)},b.$$arity=0,b.$$parameters=[])),e.cdecl(R,"INFINITY",$(1,0))}(_.base,null),function(t,$super){function r(){}var a,n,$=r=c(t,$super,"BlockSignature",r),i=$.$$proto,s=$.$$scope;i.max_non_kw_args=o,(a=s.get("RubyFeatures")["$optional_and_splat_args_supported?"]())===o||null==a||a.$$is_boolean&&1!=a||e.defn($,"$classify_parameters",n=function(){var t,r,a=this,$=n.$$p,i=o,l=o;n.$$p=null;var c=arguments.length;for(0!==c&&e.ac(c,0,this,"classify_parameters"),i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return(r=a,
t=e.find_super_dispatcher(a,"classify_parameters",n,!1),t.$$p=$,t).apply(r,i),a.max_non_kw_args["$=="](s.get("INFINITY"))?o:a.min_non_kw_args=a.max_non_kw_args},n.$$arity=0,n.$$parameters=[])}(_.base,_.get("MethodSignature")),function(t,$super){function r(){}var a,n,$,i,s,l,u,_=r=c(t,$super,"MethodSignatureVerifier",r),p=_.$$proto;_.$$scope;p.signature=o,_.$attr_reader("non_kw_args","kw_args"),e.defn(_,"$initialize",a=function(t,r){var a,n,$,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"initialize"),i.signature=t,n=($=i).$split_args.apply($,e.to_a(r)),a=e.to_ary(n),i.non_kw_args=null==a[0]?o:a[0],i.kw_args=null==a[1]?o:a[1],n},a.$$arity=2,a.$$parameters=[["req","signature"],["req","args"]]),e.defn(_,"$valid?",n=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"valid?"),r=a.$missing_kw_args()["$empty?"](),t=!1!==r&&r!==o&&null!=r?a.$invalid_kw_args()["$empty?"]():r,!1!==t&&t!==o&&null!=t?a["$valid_non_kw_args?"]():t},n.$$arity=0,n.$$parameters=[]),e.defn(_,"$error_message",$=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"error_message"),(t=r.$missing_kw_args()["$any?"]())===o||null==t||t.$$is_boolean&&1!=t?(t=r.$invalid_kw_args()["$any?"]())===o||null==t||t.$$is_boolean&&1!=t?(t=r["$valid_non_kw_args?"]()["$!"]())===o||null==t||t.$$is_boolean&&1!=t?o:"Wrong number of arguments. Expected %s, got %s."["$%"]([r.signature.$non_kw_args_arity_description(),r.$non_kw_args().$length()]):"Invalid keyword arguments provided: %s"["$%"]([r.$invalid_kw_args().$join(", ")]):"Missing required keyword arguments: %s"["$%"]([r.$missing_kw_args().$join(", ")])},$.$$arity=0,$.$$parameters=[]),_.$private(),e.defn(_,"$valid_non_kw_args?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"valid_non_kw_args?"),t.signature["$valid_non_kw_args?"](t.$non_kw_args().$length())},i.$$arity=0,i.$$parameters=[]),e.defn(_,"$missing_kw_args",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"missing_kw_args"),t.signature.$missing_kw_args_from(t.$kw_args())},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$invalid_kw_args",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"invalid_kw_args"),t.signature.$invalid_kw_args_from(t.$kw_args())},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$split_args",u=function(){var e,t,r=this,a=o,n=arguments.length,$=n-0;$<0&&($=0),t=new Array($);for(var i=0;i<n;i++)t[i-0]=arguments[i];return a=function(){return(e=r.signature["$has_kw_args_in?"](t))===o||null==e||e.$$is_boolean&&1!=e?[]:t.$pop().$keys()}(),[t,a]},u.$$arity=-1,u.$$parameters=[["rest","args"]])}(_.base,null),e.cdecl(_,"StrictSignatureVerifier",_.get("MethodSignatureVerifier")),function(t,$super){function r(){}var a,n=r=c(t,$super,"LooseSignatureVerifier",r),$=n.$$proto,i=n.$$scope;$.signature=o,n.$private(),e.defn(n,"$split_args",a=function(){var t,r,n,$=this,s=(a.$$p,arguments.length),l=s-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<s;c++)n[c-0]=arguments[c];return a.$$p=null,r=i.get("RSpec").$$scope.get("Support")["$is_a_matcher?"](n.$last()),(t=!1!==r&&r!==o&&null!=r?$.signature["$could_contain_kw_args?"](n):r)===o||null==t||t.$$is_boolean&&1!=t||(n.$pop(),$.signature=i.get("SignatureWithKeywordArgumentsMatcher").$new($.signature)),(r=$,t=e.find_super_dispatcher($,"split_args",a,!1),t.$$p=null,t).apply(r,e.to_a(n))},a.$$arity=-1,a.$$parameters=[["rest","args"]]),function(t,$super){function r(){}var a,n,$,i,s,l,u=r=c(t,$super,"SignatureWithKeywordArgumentsMatcher",r),_=u.$$proto;u.$$scope;_.signature=o,e.defn(u,"$initialize",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.signature=t},a.$$arity=1,a.$$parameters=[["req","signature"]]),e.defn(u,"$missing_kw_args_from",n=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"missing_kw_args_from"),[]},n.$$arity=1,n.$$parameters=[["req","_kw_args"]]),e.defn(u,"$invalid_kw_args_from",$=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"invalid_kw_args_from"),[]},$.$$arity=1,$.$$parameters=[["req","_kw_args"]]),e.defn(u,"$non_kw_args_arity_description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"non_kw_args_arity_description"),t.signature.$non_kw_args_arity_description()},i.$$arity=0,i.$$parameters=[]),e.defn(u,"$valid_non_kw_args?",s=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var i=0;i<n;i++)r[i-0]=arguments[i];return(t=a.signature)["$valid_non_kw_args?"].apply(t,e.to_a(r))},s.$$arity=-1,s.$$parameters=[["rest","args"]]),e.defn(u,"$has_kw_args_in?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"has_kw_args_in?"),r.signature["$has_kw_args_in?"](t)},l.$$arity=1,l.$$parameters=[["req","args"]])}(i.base,null)}(_.base,_.get("MethodSignatureVerifier"))}(_.base)}(s.base)},Opal.modules["rspec/support/os"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$=~","$[]","$module_function","$=="]),function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Support"),$=(n.$$proto,n.$$scope);!function(t){var a,n,$,i=a=r(t,"OS"),s=(i.$$proto,i.$$scope);e.defn(i,"$windows?",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows?"),s.get("RbConfig").$$scope.get("CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},n.$$arity=0,n.$$parameters=[]),i.$module_function("windows?"),e.defn(i,"$windows_file_path?",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows_file_path?"),e.get("File").$$scope.get("ALT_SEPARATOR")["$=="]("\\")},$.$$arity=0,$.$$parameters=[]),i.$module_function("windows_file_path?")}($.base)}($.base)}(t.base)},Opal.modules["rspec/support/recursive_const_methods"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$arity","$method","$const_defined?","$const_defined_on?","$const_get","$raise","$name","$select","$constants","$inject","$get_const_defined_on","$split","$normalize_const_name","$!","$===","$join","$sub"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=a(t,"Support"),i=($.$$proto,$.$$scope);!function(t){var n,$,i,s,o,l,c,u,_,p,d=n=a(t,"RecursiveConstMethods"),h=(d.$$proto,d.$$scope);h.get("Module").$method("const_defined?").$arity()["$=="](1)?(e.defn(d,"$const_defined_on?",$=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"const_defined_on?"),t["$const_defined?"](r)},$.$$arity=2,$.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(d,"$get_const_defined_on",i=function(t,a){var n,$=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"get_const_defined_on"),(n=$["$const_defined_on?"](t,a))===r||null==n||n.$$is_boolean&&1!=n?$.$raise(h.get("NameError"),"uninitialized constant "+t.$name()+"::"+a):t.$const_get(a)},i.$$arity=2,i.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(d,"$constants_defined_on",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"constants_defined_on"),(a=(n=t.$constants()).$select,a.$$p=($=function(a){var n=$.$$s||this;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"constants_defined_on")}return n["$const_defined_on?"](t,a)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","c"]],$),a).call(n)},s.$$arity=1,s.$$parameters=[["req","mod"]])):(e.defn(d,"$const_defined_on?",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"const_defined_on?"),t["$const_defined?"](r,!1)},o.$$arity=2,o.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(d,"$get_const_defined_on",l=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"get_const_defined_on"),t.$const_get(r,!1)},l.$$arity=2,l.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(d,"$constants_defined_on",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"constants_defined_on"),t.$constants(!1)},c.$$arity=1,c.$$parameters=[["req","mod"]])),e.defn(d,"$recursive_const_get",u=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"recursive_const_get"),(a=(n=i.$normalize_const_name(t).$split("::")).$inject,a.$$p=($=function(t,a){var n=$.$$s||this;if(null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"recursive_const_get")}return n.$get_const_defined_on(t,a)},$.$$s=i,$.$$arity=2,$.$$parameters=[["req","mod"],["req","name"]],$),a).call(n,h.get("Object"))},u.$$arity=1,u.$$parameters=[["req","const_name"]]),e.defn(d,"$recursive_const_defined?",_=function(t){try{var a,n,$,i=this,s=_.$$p,o=s||r,l=r;_.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"recursive_const_defined?"),l=i.$normalize_const_name(t).$split("::"),(a=(n=l).$inject,a.$$p=($=function(t,a){var n,i,s,l,c=$.$$s||this;if(null==t&&(t=r),t=e.to_ary(t),n=e.slice.call(t,0,t.length),i=n.splice(0,1)[0],null==i&&(i=r),s=n.splice(0,1)[0],null==s&&(s=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var u=arguments.length;2!==u&&e.block_ac(u,2,"recursive_const_defined?")}return(l=o!==r?h.get("Module")["$==="](i)["$!"]():o!==r)===r||null==l||l.$$is_boolean&&1!=l||e.yieldX(o,[s,a]),((l=c["$const_defined_on?"](i,a))===r||null==l||l.$$is_boolean&&1!=l)&&e.ret(!1),[c.$get_const_defined_on(i,a),[i,a].$join("::")]},$.$$s=i,$.$$arity=2,$.$$parameters=[["req"],["req","name"]],$.$$has_top_level_mlhs_arg=!0,$),a).call(n,[h.get("Object"),""])}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=1,_.$$parameters=[["req","const_name"]]),e.defn(d,"$normalize_const_name",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"normalize_const_name"),t.$sub(/\A::/,"")},p.$$arity=1,p.$$parameters=[["req","const_name"]])}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/support/ruby_features"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$module_function","$method_defined?","$>=","$!=","$private_method_defined?","$to_i"]),function(r){var $,i=$=n(r,"RSpec"),s=(i.$$proto,i.$$scope);!function(r){var $,i=$=n(r,"Support"),s=(i.$$proto,i.$$scope);!function(t){var r,a,$=r=n(t,"Ruby"),i=($.$$proto,$.$$scope);e.defn($,"$jruby?",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"jruby?"),i.get("RUBY_PLATFORM")["$=="]("java")},a.$$arity=0,a.$$parameters=[]),$.$module_function("jruby?")}(s.base),function(r){var $,i,s,o,l,c,u=$=n(r,"RubyFeatures"),_=(u.$$proto,u.$$scope);e.defn(u,"$optional_and_splat_args_supported?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"optional_and_splat_args_supported?"),_.get("Method")["$method_defined?"]("parameters")},i.$$arity=0,i.$$parameters=[]),u.$module_function("optional_and_splat_args_supported?"),e.defn(u,"$kw_args_supported?",s=function(){var r,n,$=arguments.length;return 0!==$&&e.ac($,0,this,"kw_args_supported?"),n=t(_.get("RUBY_VERSION"),"2.0.0"),r=!1!==n&&n!==a&&null!=n?_.get("RUBY_ENGINE")["$!="]("rbx"):n,!1!==r&&r!==a&&null!=r?_.get("RUBY_ENGINE")["$!="]("jruby"):r},s.$$arity=0,s.$$parameters=[]),u.$module_function("kw_args_supported?"),e.defn(u,"$required_kw_args_supported?",o=function(){var r,n,$=arguments.length;return 0!==$&&e.ac($,0,this,"required_kw_args_supported?"),n=t(_.get("RUBY_VERSION"),"2.1.0"),r=!1!==n&&n!==a&&null!=n?_.get("RUBY_ENGINE")["$!="]("rbx"):n,!1!==r&&r!==a&&null!=r?_.get("RUBY_ENGINE")["$!="]("jruby"):r},o.$$arity=0,o.$$parameters=[]),u.$module_function("required_kw_args_supported?"),e.defn(u,"$module_prepends_supported?",l=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"module_prepends_supported?"),!1!==(t=_.get("Module")["$method_defined?"]("prepend"))&&t!==a&&null!=t?t:_.get("Module")["$private_method_defined?"]("prepend")},l.$$arity=0,l.$$parameters=[]),u.$module_function("module_prepends_supported?"),e.defn(u,"$supports_rebinding_module_methods?",c=function(){var r,n,$=arguments.length;return 0!==$&&e.ac($,0,this,"supports_rebinding_module_methods?"),n=t(_.get("RUBY_VERSION").$to_i(),2),r=!1!==n&&n!==a&&null!=n?_.get("RUBY_ENGINE")["$!="]("rbx"):n,!1!==r&&r!==a&&null!=r?_.get("RUBY_ENGINE")["$!="]("jruby"):r},c.$$arity=0,c.$$parameters=[]),u.$module_function("supports_rebinding_module_methods?")}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/support/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var a,n=a=r(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Support"),$=(n.$$proto,n.$$scope);!function(t){var a,n=a=r(t,"Version"),$=(n.$$proto,n.$$scope);e.cdecl($,"STRING","3.1.2")}($.base)}($.base)}(t.base)},Opal.modules.strscan=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$private"]),function(t,$super){function n(){}var $,i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O=n=a(t,$super,"StringScanner",n),M=O.$$proto;O.$$scope;return M.pos=M.string=M.working=M.matched=M.prev_pos=M.match=r,O.$attr_reader("pos"),O.$attr_reader("matched"),e.defn(O,"$initialize",$=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),a.string=t,a.pos=0,a.matched=r,a.working=t,a.match=[]},$.$$arity=1,$.$$parameters=[["req","string"]]),O.$attr_reader("string"),e.defn(O,"$beginning_of_line?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"beginning_of_line?"),0===t.pos||"\n"===t.string.charAt(t.pos-1)},i.$$arity=0,i.$$parameters=[]),e.alias(O,"bol?","beginning_of_line?"),e.defn(O,"$scan",s=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"scan"),t=a.$anchor(t);var $=t.exec(a.working);return null==$?a.matched=r:"object"==typeof $?(a.prev_pos=a.pos,a.pos+=$[0].length,a.working=a.working.substring($[0].length),a.matched=$[0],a.match=$,$[0]):"string"==typeof $?(a.pos+=$.length,a.working=a.working.substring($.length),$):r},s.$$arity=1,s.$$parameters=[["req","pattern"]]),e.defn(O,"$scan_until",o=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"scan_until"),t=a.$anchor(t);for(var $,i=a.pos,s=a.working;;){if($=t.exec(s),i+=1,s=s.substr(1),null!=$)return a.matched=a.string.substr(a.pos,i-a.pos-1+$[0].length),a.prev_pos=i-1,a.pos=i,a.working=s.substr($[0].length),a.matched;if(0===s.length)return a.matched=r}},o.$$arity=1,o.$$parameters=[["req","pattern"]]),e.defn(O,"$[]",l=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"[]");var $=a.match;return t<0&&(t+=$.length),t<0||t>=$.length?r:null==$[t]?r:$[t]},l.$$arity=1,l.$$parameters=[["req","idx"]]),e.defn(O,"$check",c=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"check"),t=a.$anchor(t);var $=t.exec(a.working);return a.matched=null==$?r:$[0]},c.$$arity=1,c.$$parameters=[["req","pattern"]]),e.defn(O,"$check_until",u=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"check_until");var $=a.prev_pos,i=a.pos,s=a.$scan_until(t);return s!==r&&(a.matched=s.substr(-1),a.working=a.string.substr(i)),a.prev_pos=$,a.pos=i,s},u.$$arity=1,u.$$parameters=[["req","pattern"]]),e.defn(O,"$peek",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"peek"),r.working.substring(0,t)},_.$$arity=1,_.$$parameters=[["req","length"]]),e.defn(O,"$eos?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"eos?"),0===t.working.length},p.$$arity=0,p.$$parameters=[]),e.defn(O,"$exist?",d=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"exist?");var $=t.exec(a.working);return null==$?r:0==$.index?0:$.index+1},d.$$arity=1,d.$$parameters=[["req","pattern"]]),e.defn(O,"$skip",h=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"skip"),t=a.$anchor(t);var $=t.exec(a.working);if(null==$)return a.matched=r;var i=$[0],s=i.length;return a.matched=i,a.prev_pos=a.pos,a.pos+=s,a.working=a.working.substring(s),s},h.$$arity=1,h.$$parameters=[["req","pattern"]]),e.defn(O,"$skip_until",f=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"skip_until");var $=a.$scan_until(t);return $===r?r:(a.matched=$.substr(-1),$.length)},f.$$arity=1,f.$$parameters=[["req","pattern"]]),e.defn(O,"$get_byte",m=function(){var t=this,a=arguments.length;0!==a&&e.ac(a,0,this,"get_byte");var n=r;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,n=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=r,n},m.$$arity=0,m.$$parameters=[]),e.alias(O,"getch","get_byte"),e.defn(O,"$match?",g=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"match?"),t=a.$anchor(t);var $=t.exec(a.working);return null==$?r:(a.prev_pos=a.pos,$[0].length)},g.$$arity=1,g.$$parameters=[["req","pattern"]]),e.defn(O,"$pos=",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pos="),t<0&&(t+=r.string.$length()),r.pos=t,r.working=r.string.slice(t)},b.$$arity=1,b.$$parameters=[["req","pos"]]),e.defn(O,"$post_match",v=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"post_match"),t.matched===r?r:t.string.substr(t.pos)},v.$$arity=0,v.$$parameters=[]),e.defn(O,"$pre_match",y=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"pre_match"),t.matched===r?r:t.string.substr(0,t.prev_pos)},y.$$arity=0,y.$$parameters=[]),e.defn(O,"$reset",x=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"reset"),t.working=t.string,t.matched=r,t.pos=0},x.$$arity=0,x.$$parameters=[]),e.defn(O,"$rest",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest"),t.working},k.$$arity=0,k.$$parameters=[]),e.defn(O,"$rest?",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest?"),0!==t.working.length},w.$$arity=0,w.$$parameters=[]),e.defn(O,"$rest_size",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest_size"),t.$rest().$size()},q.$$arity=0,q.$$parameters=[]),e.defn(O,"$terminate",S=function(){var t,a,n=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"terminate"),n.match=r,t=[n.string.$length()],a=n,a["$pos="].apply(a,t),t[t.length-1]},S.$$arity=0,S.$$parameters=[]),e.defn(O,"$unscan",E=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"unscan"),t.pos=t.prev_pos,t.prev_pos=r,t.match=r,t},E.$$arity=0,E.$$parameters=[]),O.$private(),e.defn(O,"$anchor",R=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"anchor"),new RegExp("^(?:"+t.toString().substr(1,t.toString().length-2)+")")},R.$$arity=1,R.$$parameters=[["req","pattern"]]),r&&"anchor"}(t.base,null)},Opal.modules["opal/rspec/requires"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("cgi/util"),t.$require("diff/lcs"),t.$require("diff/lcs/block"),t.$require("diff/lcs/callbacks"),t.$require("diff/lcs/change"),t.$require("diff/lcs/hunk"),t.$require("diff/lcs/internals"),t.$require("erb"),t.$require("json"),t.$require("optparse"),t.$require("pathname"),t.$require("pp"),t.$require("prettyprint"),t.$require("rbconfig"),t.$require("rspec"),t.$require("rspec/core"),t.$require("rspec/core/backport_random"),t.$require("rspec/core/backtrace_formatter"),t.$require("rspec/core/configuration"),t.$require("rspec/core/configuration_options"),t.$require("rspec/core/dsl"),t.$require("rspec/core/example"),t.$require("rspec/core/example_group"),t.$require("rspec/core/filter_manager"),t.$require("rspec/core/flat_map"),t.$require("rspec/core/formatters"),t.$require("rspec/core/formatters/base_formatter"),t.$require("rspec/core/formatters/base_text_formatter"),t.$require("rspec/core/formatters/console_codes"),t.$require("rspec/core/formatters/deprecation_formatter"),t.$require("rspec/core/formatters/documentation_formatter"),t.$require("rspec/core/formatters/helpers"),t.$require("rspec/core/formatters/html_printer"),t.$require("rspec/core/formatters/json_formatter"),t.$require("rspec/core/formatters/progress_formatter"),t.$require("rspec/core/hooks"),t.$require("rspec/core/memoized_helpers"),t.$require("rspec/core/metadata"),t.$require("rspec/core/metadata_filter"),t.$require("rspec/core/mocking_adapters/rspec"),t.$require("rspec/core/notifications"),t.$require("rspec/core/option_parser"),t.$require("rspec/core/ordering"),t.$require("rspec/core/pending"),t.$require("rspec/core/reporter"),t.$require("rspec/core/ruby_project"),t.$require("rspec/core/runner"),t.$require("rspec/core/shared_example_group"),t.$require("rspec/core/version"),t.$require("rspec/core/warnings"),t.$require("rspec/core/world"),t.$require("rspec/expectations"),t.$require("rspec/expectations/configuration"),t.$require("rspec/expectations/expectation_target"),t.$require("rspec/expectations/fail_with"),t.$require("rspec/expectations/handler"),t.$require("rspec/expectations/syntax"),t.$require("rspec/expectations/version"),t.$require("rspec/matchers"),t.$require("rspec/matchers/aliased_matcher"),t.$require("rspec/matchers/built_in"),t.$require("rspec/matchers/built_in/all"),t.$require("rspec/matchers/built_in/base_matcher"),t.$require("rspec/matchers/built_in/be"),t.$require("rspec/matchers/built_in/be_between"),t.$require("rspec/matchers/built_in/be_instance_of"),t.$require("rspec/matchers/built_in/be_kind_of"),t.$require("rspec/matchers/built_in/be_within"),t.$require("rspec/matchers/built_in/change"),t.$require("rspec/matchers/built_in/compound"),t.$require("rspec/matchers/built_in/contain_exactly"),t.$require("rspec/matchers/built_in/cover"),t.$require("rspec/matchers/built_in/eq"),t.$require("rspec/matchers/built_in/eql"),t.$require("rspec/matchers/built_in/equal"),t.$require("rspec/matchers/built_in/exist"),t.$require("rspec/matchers/built_in/has"),t.$require("rspec/matchers/built_in/have_attributes"),t.$require("rspec/matchers/built_in/include"),t.$require("rspec/matchers/built_in/match"),t.$require("rspec/matchers/built_in/operators"),t.$require("rspec/matchers/built_in/output"),t.$require("rspec/matchers/built_in/raise_error"),t.$require("rspec/matchers/built_in/respond_to"),t.$require("rspec/matchers/built_in/satisfy"),t.$require("rspec/matchers/built_in/start_and_end_with"),t.$require("rspec/matchers/built_in/throw_symbol"),t.$require("rspec/matchers/built_in/yield"),t.$require("rspec/matchers/composable"),t.$require("rspec/matchers/dsl"),t.$require("rspec/matchers/generated_descriptions"),t.$require("rspec/matchers/matcher_delegator"),t.$require("rspec/matchers/pretty"),t.$require("rspec/mocks"),t.$require("rspec/mocks/any_instance"),t.$require("rspec/mocks/any_instance/chain"),t.$require("rspec/mocks/any_instance/expect_chain_chain"),t.$require("rspec/mocks/any_instance/expectation_chain"),t.$require("rspec/mocks/any_instance/message_chains"),t.$require("rspec/mocks/any_instance/proxy"),t.$require("rspec/mocks/any_instance/recorder"),t.$require("rspec/mocks/any_instance/stub_chain"),t.$require("rspec/mocks/any_instance/stub_chain_chain"),t.$require("rspec/mocks/argument_list_matcher"),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/mocks/configuration"),t.$require("rspec/mocks/error_generator"),t.$require("rspec/mocks/example_methods"),t.$require("rspec/mocks/instance_method_stasher"),t.$require("rspec/mocks/matchers/expectation_customization"),t.$require("rspec/mocks/message_expectation"),t.$require("rspec/mocks/method_double"),t.$require("rspec/mocks/method_reference"),t.$require("rspec/mocks/mutate_const"),t.$require("rspec/mocks/object_reference"),t.$require("rspec/mocks/order_group"),t.$require("rspec/mocks/proxy"),t.$require("rspec/mocks/space"),t.$require("rspec/mocks/syntax"),t.$require("rspec/mocks/targets"),t.$require("rspec/mocks/test_double"),t.$require("rspec/mocks/verifying_double"),t.$require("rspec/mocks/verifying_message_expecation"),t.$require("rspec/mocks/verifying_proxy"),t.$require("rspec/mocks/version"),t.$require("rspec/support"),t.$require("rspec/support/caller_filter"),t.$require("rspec/support/differ"),t.$require("rspec/support/directory_maker"),t.$require("rspec/support/encoded_string"),t.$require("rspec/support/fuzzy_matcher"),t.$require("rspec/support/hunk_generator"),t.$require("rspec/support/matcher_definition"),t.$require("rspec/support/method_signature_verifier"),t.$require("rspec/support/os"),t.$require("rspec/support/recursive_const_methods"),t.$require("rspec/support/ruby_features"),t.$require("rspec/support/version"),t.$require("rspec/support/warnings"),t.$require("rspec/version"),t.$require("set"),t.$require("shellwords"),t.$require("stringio"),t.$require("strscan")},Opal.modules.encoding=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$warn"]),t.$warn("DEPRECATION: encoding is now part of the core library, requiring it is deprecated")},Opal.modules.thread=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.hash2;return e.add_stubs(["$allocate","$core_initialize!","$current","$fail","$[]","$coerce_key_name","$[]=","$key?","$keys","$private","$coerce_to!","$public","$clear","$empty?","$size","$shift","$push","$each","$to_proc","$locked?","$lock","$unlock"]),function(e,$super){function t(){}var r=t=a(e,$super,"ThreadError",t);r.$$proto,r.$$scope}(t.base,t.get("StandardError")),function(t,$super){function $(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b=$=a(t,$super,"Thread",$),v=b.$$proto,y=b.$$scope;v.fiber_locals=v.thread_locals=r,e.defs(b,"$current",i=function(){var t,a=this;null==a.current&&(a.current=r);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"current"),((t=a.current)===r||null==t||t.$$is_boolean&&1!=t)&&(a.current=a.$allocate(),a.current["$core_initialize!"]()),a.current},i.$$arity=0,i.$$parameters=[]),e.defs(b,"$list",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"list"),[t.$current()]},s.$$arity=0,s.$$parameters=[]),e.defn(b,"$initialize",o=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$fail(y.get("NotImplementedError"),"Thread creation not available")},o.$$arity=-1,o.$$parameters=[["rest","args"]]),e.defn(b,"$[]",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.fiber_locals["$[]"](r.$coerce_key_name(t))},l.$$arity=1,l.$$parameters=[["req","key"]]),e.defn(b,"$[]=",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"[]="),a.fiber_locals["$[]="](a.$coerce_key_name(t),r)},c.$$arity=2,c.$$parameters=[["req","key"],["req","value"]]),e.defn(b,"$key?",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"key?"),r.fiber_locals["$key?"](r.$coerce_key_name(t))},u.$$arity=1,u.$$parameters=[["req","key"]]),e.defn(b,"$keys",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"keys"),t.fiber_locals.$keys()},_.$$arity=0,_.$$parameters=[]),e.defn(b,"$thread_variable_get",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"thread_variable_get"),r.thread_locals["$[]"](r.$coerce_key_name(t))},p.$$arity=1,p.$$parameters=[["req","key"]]),e.defn(b,"$thread_variable_set",d=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"thread_variable_set"),a.thread_locals["$[]="](a.$coerce_key_name(t),r)},d.$$arity=2,d.$$parameters=[["req","key"],["req","value"]]),e.defn(b,"$thread_variable?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"thread_variable?"),r.thread_locals["$key?"](r.$coerce_key_name(t))},h.$$arity=1,h.$$parameters=[["req","key"]]),e.defn(b,"$thread_variables",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thread_variables"),t.thread_locals.$keys()},f.$$arity=0,f.$$parameters=[]),b.$private(),e.defn(b,"$core_initialize!",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"core_initialize!"),t.thread_locals=n([],{}),t.fiber_locals=n([],{})},m.$$arity=0,m.$$parameters=[]),e.defn(b,"$coerce_key_name",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"coerce_key_name"),y.get("Opal")["$coerce_to!"](t,y.get("String"),"to_s")},g.$$arity=1,g.$$parameters=[["req","key"]]),b.$public(),function(t,$super){function n(){}var $,i,s,o,l,c,u,_=n=a(t,$super,"Queue",n),p=_.$$proto,d=_.$$scope;p.storage=r,e.defn(_,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.$clear()},$.$$arity=0,$.$$parameters=[]),e.defn(_,"$clear",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.storage=[]},i.$$arity=0,i.$$parameters=[]),e.defn(_,"$empty?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.storage["$empty?"]()},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$size",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"size"),t.storage.$size()},o.$$arity=0,o.$$parameters=[]),e.alias(_,"length","size"),e.defn(_,"$pop",l=function(t){var a,n=this;null==t&&(t=!1);var $=arguments.length;return $>1&&e.ac($,-1,this,"pop"),(a=n["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a||(!1!==t&&t!==r&&null!=t&&n.$fail(d.get("ThreadError"),"Queue empty"),n.$fail(d.get("ThreadError"),"Deadlock")),n.storage.$shift()},l.$$arity=-1,l.$$parameters=[["opt","non_block"]]),e.alias(_,"shift","pop"),e.alias(_,"deq","pop"),e.defn(_,"$push",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"push"),r.storage.$push(t)},c.$$arity=1,c.$$parameters=[["req","value"]]),e.alias(_,"<<","push"),e.alias(_,"enq","push"),e.defn(_,"$each",u=function(){var t,a,n=this,$=u.$$p,i=$||r;u.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"each"),(t=(a=n.storage).$each,t.$$p=i.$to_proc(),t).call(a)},u.$$arity=0,u.$$parameters=[["block","block"]])}(y.base,null)}(t.base,null),e.cdecl(t,"Queue",t.get("Thread").$$scope.get("Queue")),function(t,$super){function n(){}var $,i,s,o,l,c,u,_=n=a(t,$super,"Mutex",n),p=_.$$proto,d=_.$$scope;return p.locked=r,e.defn(_,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.locked=!1},$.$$arity=0,$.$$parameters=[]),e.defn(_,"$lock",i=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"lock"),(t=a.locked)===r||null==t||t.$$is_boolean&&1!=t||a.$fail(d.get("ThreadError"),"Deadlock"),a.locked=!0,a},i.$$arity=0,i.$$parameters=[]),e.defn(_,"$locked?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"locked?"),t.locked},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$owned?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"owned?"),t.locked},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$try_lock",l=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"try_lock"),!!((t=a["$locked?"]())===r||null==t||t.$$is_boolean&&1!=t)&&(a.$lock(),!0)},l.$$arity=0,l.$$parameters=[]),e.defn(_,"$unlock",c=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"unlock"),((t=a.locked)===r||null==t||t.$$is_boolean&&1!=t)&&a.$fail(d.get("ThreadError"),"Mutex not locked"),a.locked=!1,a},c.$$arity=0,c.$$parameters=[]),e.defn(_,"$synchronize",u=function(){var t=this,a=u.$$p,n=a||r;u.$$p=null;var $=arguments.length;0!==$&&e.ac($,0,this,"synchronize"),t.$lock();try{return e.yieldX(n,[])}finally{t.$unlock()}},u.$$arity=0,u.$$parameters=[]),r&&"synchronize"}(t.base,null)},Opal.modules["opal/rspec/fixes/rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$empty?","$[]","$metadata","$generated_description","$[]=","$+","$set_exception","$clear_generated_description"]),function(r,$super){function $(){}var i,s=$=n(r,$super,"Example",$),o=(s.$$proto,s.$$scope);return e.defn(s,"$assign_generated_description",i=function(){var r,n,$=this,i=a,s=a,l=arguments.length;0!==l&&e.ac(l,0,this,"assign_generated_description");try{try{return n=$.$metadata()["$[]"]("description")["$empty?"](),(r=!1!==n&&n!==a&&null!=n?i=o.get("RSpec").$$scope.get("Matchers").$generated_description():n)===a||null==r||r.$$is_boolean&&1!=r?a:($.$metadata()["$[]="]("description",i),$.$metadata()["$[]="]("full_description",t($.$metadata()["$[]"]("full_description"),i)))}catch(t){if(!e.rescue(t,[o.get("Exception")]))throw t;s=t;try{return $.$set_exception(s,"while assigning the example description")}finally{e.pop_exception()}}}finally{o.get("RSpec").$$scope.get("Matchers").$clear_generated_description()}},i.$$arity=0,i.$$parameters=[]),function(t,$super){function r(){}var $,i=r=n(t,$super,"ExecutionResult",r);i.$$proto,i.$$scope;return e.defn(i,"$initialize",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"initialize"),a},$.$$arity=0,$.$$parameters=[]),a&&"initialize"}(o.base,null)}(r.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/backtrace_formatter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass),a=e.hash2
;return e.add_stubs(["$alias_method","$original_format_backtrace","$clean_js_backtrace","$select","$match"]),function(n,$super){function $(){}var i,s,o,l=$=r(n,$super,"BacktraceFormatter",$);l.$$proto,l.$$scope;return e.defn(l,"$backtrace_line",i=function(){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"backtrace_line"),t},i.$$arity=1,i.$$parameters=[["req","line"]]),l.$alias_method("original_format_backtrace","format_backtrace"),e.defn(l,"$format_backtrace",s=function(t,r){var n=this;null==r&&(r=a([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"format_backtrace"),n.$original_format_backtrace(n.$clean_js_backtrace(t),r)},s.$$arity=-2,s.$$parameters=[["req","backtrace"],["opt","options"]]),e.defn(l,"$clean_js_backtrace",o=function(r){var a,n,$,i=this,s=t,o=arguments.length;return 1!==o&&e.ac(o,1,this,"clean_js_backtrace"),s=/\s*at.*/,(a=(n=r).$select,a.$$p=($=function(r){$.$$s;if(null==r&&(r=t),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"clean_js_backtrace")}return s.$match(r)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","line"]],$),a).call(n)},o.$$arity=1,o.$$parameters=[["req","backtrace"]]),t&&"clean_js_backtrace"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$class_eval","$+","$deprecated","$replacement","$call_site"]),function(r,$super){function $(){}var i,s,o,l,c,u=$=n(r,$super,"DeprecationFormatter",$),_=(u.$$proto,u.$$scope);return(i=(s=_.get("SpecifiedDeprecationMessage")).$class_eval,i.$$p=(o=function(){var r,n=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"<class:DeprecationFormatter>")}return e.def(n,"$too_many_warnings_message",r=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"too_many_warnings_message"),t("Too many similar deprecation messages reported, disregarding further reports. ",_.get("DEPRECATION_STREAM_NOTICE"))},r.$$arity=0,r.$$parameters=[]),a&&"too_many_warnings_message"},o.$$s=u,o.$$arity=0,o.$$parameters=[],o),i).call(s),(i=(l=_.get("GeneratedDeprecationMessage")).$class_eval,i.$$p=(c=function(){var r,n=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"<class:DeprecationFormatter>")}return e.def(n,"$to_s",r=function(){var r,n=this,$=a;null==n.data&&(n.data=a);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"to_s"),$=n.data.$deprecated()+" is deprecated.",(r=n.data.$replacement())===a||null==r||r.$$is_boolean&&1!=r||($=t($," Use "+n.data.$replacement()+" instead.")),(r=n.data.$call_site())===a||null==r||r.$$is_boolean&&1!=r||($=t($," Called from "+n.data.$call_site()+".")),$},r.$$arity=0,r.$$parameters=[]),a&&"to_s"},c.$$s=u,c.$$arity=0,c.$$parameters=[],c),i).call(l)}(r.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)};Opal.modules["opal/rspec/fixes/rspec/core/formatters/generated_deprecation_message"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a,n,$=e.top,i=e,s=e.nil;e.breaker,e.slice;return e.add_stubs(["$class_eval","$deprecated","$replacement","$+","$call_site","$type"]),(r=(a=i.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("GeneratedDeprecationMessage")).$class_eval,r.$$p=(n=function(){var r,a,$=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"<main>")}return e.def($,"$to_s",r=function(){var r,a=this,n=s;null==a.data&&(a.data=s);var $=arguments.length;return 0!==$&&e.ac($,0,this,"to_s"),n=a.data.$deprecated()+" is deprecated.",(r=a.data.$replacement())===s||null==r||r.$$is_boolean&&1!=r||(n=t(n," Use "+a.data.$replacement()+" instead.")),(r=a.data.$call_site())===s||null==r||r.$$is_boolean&&1!=r||(n=t(n," Called from "+a.data.$call_site()+".")),n},r.$$arity=0,r.$$parameters=[]),e.def($,"$too_many_warnings_message",a=function(){var r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"too_many_warnings_message"),a="Too many uses of deprecated '"+r.$type()+"'. ",a=t(a,i.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("DEPRECATION_STREAM_NOTICE"))},a.$$arity=0,a.$$parameters=[]),s&&"too_many_warnings_message"},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/console_codes"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module);return e.add_stubs(["$color_enabled?","$configuration","$+","$console_code_for"]),function(n){var $,i,s=$=a(n,"ConsoleCodes"),o=(s.$$proto,s.$$scope);e.defn(s,"$wrap",i=function(a,n){var $,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"wrap"),($=o.get("RSpec").$configuration()["$color_enabled?"]())===r||null==$||$.$$is_boolean&&1!=$?a:t(t(t("\x1b","["+i.$console_code_for(n)+"m"+a),"\x1b"),"[0m")},i.$$arity=2,i.$$parameters=[["req","text"],["req","code_or_symbol"]])}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"))},Opal.modules["opal/rspec/fixes/rspec/core/formatters/loader"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$is_a?","$=~","$dup","$to_s","$gsub","$tr","$downcase","$===","$string_const?","$inject","$const_get","$split","$require","$path_for","$raise"]),function(a,$super){function n(){}var $,i,s,o=n=r(a,$super,"Loader",n),l=(o.$$proto,o.$$scope);return e.defn(o,"$string_const?",$=function(r){var a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"string_const?"),a=r["$is_a?"](l.get("String")),!1!==a&&a!==t&&null!=a?/^[A-Z][a-zA-Z0-9_:]*$/["$=~"](r):a},$.$$arity=1,$.$$parameters=[["req","str"]]),e.defn(o,"$underscore",i=function(r){var a=t,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=r.$to_s().$dup(),a=a.$gsub(/::/,"/"),a=a.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a=a.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),a=a.$tr("-","_"),a.$downcase()},i.$$arity=1,i.$$parameters=[["req","camel_cased_word"]]),e.defn(o,"$custom_formatter",s=function(r){var a,n,$,i,s=this,o=arguments.length;if(1!==o&&e.ac(o,1,this,"custom_formatter"),!((a=l.get("Class")["$==="](r))===t||null==a||a.$$is_boolean&&1!=a))return r;if((a=s["$string_const?"](r))===t||null==a||a.$$is_boolean&&1!=a)return t;for(;(n=!0)!==t&&null!=n&&(!n.$$is_boolean||1==n);)try{return(n=($=r.$gsub(/^::/,"").$split("::")).$inject,n.$$p=(i=function(r,a){i.$$s;if(null==r&&(r=t),null==a&&(a=t),i.$$is_lambda||i.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"custom_formatter")}return r.$const_get(a)},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","a"],["req","e"]],i),n).call($,l.get("Object"))}catch(a){if(!e.rescue(a,[l.get("NameError")]))throw a;try{((n=s.$require(s.$path_for(r)))===t||null==n||n.$$is_boolean&&1!=n)&&s.$raise()}finally{e.pop_exception()}}},s.$$arity=1,s.$$parameters=[["req","formatter_ref"]]),t&&"custom_formatter"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/json_formatter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass),a=e.gvars;return e.add_stubs(["$write","$output","$to_json","$===","$closed?","$==","$close"]),function(n,$super){function $(){}var i,s=$=r(n,$super,"JsonFormatter",$),o=s.$$proto,l=s.$$scope;return o.output_hash=t,e.defn(s,"$close",i=function(){var r,n,$=this;null==a.stdout&&(a.stdout=t);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"close"),$.$output().$write($.output_hash.$to_json()),(r=l.get("IO")["$==="]($.$output()))===t||null==r||r.$$is_boolean&&1!=r?t:(r=!1!==(n=$.$output()["$closed?"]())&&n!==t&&null!=n?n:$.$output()["$=="](a.stdout))===t||null==r||r.$$is_boolean&&1!=r?$.$output().$close():t},i.$$arity=1,i.$$parameters=[["req","_notification"]]),t&&"close"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/backtrace_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/deprecation_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/generated_deprecation_message"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/console_codes"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/loader"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/json_formatter")},Opal.modules["opal/rspec/fixes/rspec/core/notifications/examples_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$each_with_index","$+","$fully_formatted","$next","$failure_notifications","$each","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$execution_result","$pending_examples"]),function($){var i,s=i=a($,"Notifications"),o=(s.$$proto,s.$$scope);!function(a,$super){function $(){}var i,s,o=$=n(a,$super,"ExamplesNotification",$),l=(o.$$proto,o.$$scope);e.defn(o,"$fully_formatted_failed_examples",i=function(a){var n,$,i,s=this,o=r;null==a&&(a=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var l=arguments.length;return l>1&&e.ac(l,-1,this,"fully_formatted_failed_examples"),o="\nFailures:\n",(n=($=s.$failure_notifications()).$each_with_index,n.$$p=(i=function(n,$){i.$$s;if(null==n&&(n=r),null==$&&($=r),i.$$is_lambda||i.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"fully_formatted_failed_examples")}return o=t(o,n.$fully_formatted($.$next(),a))},i.$$s=s,i.$$arity=2,i.$$parameters=[["req","failure"],["req","index"]],i),n).call($),o},i.$$arity=-1,i.$$parameters=[["opt","colorizer"]]),e.defn(o,"$fully_formatted_pending_examples",s=function(a){var n,$,i,s=this,o=r;null==a&&(a=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var c=arguments.length;return c>1&&e.ac(c,-1,this,"fully_formatted_pending_examples"),o="\nPending:\n",(n=($=s.$pending_examples()).$each,n.$$p=(i=function(n){var $=(i.$$s,r);if(null==n&&(n=r),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"fully_formatted_pending_examples")}return $=l.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(n.$location()),o=t(o,"  "+a.$wrap(n.$full_description(),"pending")+"\n    # "+a.$wrap(n.$execution_result().$pending_message(),"detail")+"\n    # "+a.$wrap($,"detail")+"\n")},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","example"]],i),n).call($),o},s.$$arity=-1,s.$$parameters=[["opt","colorizer"]])}(o.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications/failed_example_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$description","$each","$+","$new","$encoding_of","$colorized_message_lines","$colorized_formatted_backtrace"]),function($){var i,s=i=a($,"Notifications"),o=(s.$$proto,s.$$scope);!function(a,$super){function $(){}var i,s=$=n(a,$super,"FailedExampleNotification",$),o=(s.$$proto,s.$$scope);e.defn(s,"$fully_formatted",i=function(a,n){var $,i,s,l,c,u=this,_=r;null==n&&(n=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var p=arguments.length;return(p<1||p>2)&&e.ac(p,-2,this,"fully_formatted"),_="\n  "+a+") "+u.$description()+"\n",($=(i=u.$colorized_message_lines(n)).$each,$.$$p=(s=function(a){var n=s.$$s||this;if(null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"fully_formatted")}return _=t(_,o.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+a+"\n",n.$encoding_of(_)))},s.$$s=u,s.$$arity=1,s.$$parameters=[["req","line"]],s),$).call(i),($=(l=u.$colorized_formatted_backtrace(n)).$each,$.$$p=(c=function(a){var n=c.$$s||this;if(null==a&&(a=r),c.$$is_lambda||c.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"fully_formatted")}return _=t(_,o.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+a+"\n",n.$encoding_of(_)))},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","line"]],c),$).call(l),_},i.$$arity=-2,i.$$parameters=[["req","failure_number"],["opt","colorizer"]])}(o.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications/summary_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,e.nil),n=(e.breaker,e.slice,e.module);return e.add_stubs(["$class_eval","$pluralize","$example_count","$+","$failure_count","$>","$pending_count","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$failed_examples","$colorized_rerun_commands"]),function($){var i,s,o,l,c=i=n($,"Notifications"),u=(c.$$proto,c.$$scope);(s=(o=u.get("SummaryNotification")).$class_eval,s.$$p=(l=function(){var n,$,i=l.$$s||this;if(l.$$is_lambda||l.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"<module:Notifications>")}return e.def(i,"$totals_line",n=function(){var n,$=this,i=a,s=arguments.length;return 0!==s&&e.ac(s,0,this,"totals_line"),i=u.get("Formatters").$$scope.get("Helpers").$pluralize($.$example_count(),"example"),i=t(t(i,", "),u.get("Formatters").$$scope.get("Helpers").$pluralize($.$failure_count(),"failure")),(n=r($.$pending_count(),0))===a||null==n||n.$$is_boolean&&1!=n||(i=t(i,", "+$.$pending_count()+" pending")),i},n.$$arity=0,n.$$parameters=[]),e.def(i,"$fully_formatted",$=function(r){var n,$=this,i=a;null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"fully_formatted"),i="\nFinished in "+$.$formatted_duration()+" (files took "+$.$formatted_load_time()+" to load)\n"+$.$colorized_totals_line(r)+"\n",((n=$.$failed_examples()["$empty?"]())===a||null==n||n.$$is_boolean&&1!=n)&&(i=t(t(i,$.$colorized_rerun_commands(r)),"\n")),i},$.$$arity=-1,$.$$parameters=[["opt","colorizer"]]),a&&"fully_formatted"},l.$$s=c,l.$$arity=0,l.$$parameters=[],l),s).call(o)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/examples_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/failed_example_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/summary_notification")},Opal.modules["opal/rspec/fixes/rspec/core/ordering/random"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return function(a,$super){function n(){}var $,i,s=n=r(a,$super,"Random",n),o=(s.$$proto,s.$$scope);return e.cdecl(o,"HIDE_RANDOM_WARNINGS",!1),e.defn(s,"$initialize",$=function(){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),(r=o.get("HIDE_RANDOM_WARNINGS"))===t||null==r||r.$$is_boolean&&1!=r?console.warn("Random order is not currently supported by opal-rspec, using default order."):t},$.$$arity=1,$.$$parameters=[["req","configuration"]]),e.defn(s,"$order",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"order"),t},i.$$arity=1,i.$$parameters=[["req","items"]]),t&&"order"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Ordering"),null)},Opal.modules["opal/rspec/fixes/rspec/core/ordering"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/ordering/../ordering/random")},Opal.modules["opal/rspec/fixes/rspec/core/metadata"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$delete","$user_metadata","$!","$empty?","$file_path_and_line_number_from","$[]=","$metadata","$to_i"]),function(n){var $,i=$=r(n,"Metadata"),s=(i.$$proto,i.$$scope);!function(r,$super){function n(){}var $,i=n=a(r,$super,"HashPopulator",n);i.$$proto,i.$$scope;e.defn(i,"$populate_location_attributes",$=function(){var r,a,n,$,i=this,s=t,o=t,l=t,c=arguments.length;return 0!==c&&e.ac(c,0,this,"populate_location_attributes"),s=i.$user_metadata().$delete("caller"),a=function(){return(n=($=!1!==s&&s!==t&&null!=s)?s["$empty?"]()["$!"]():s)===t||null==n||n.$$is_boolean&&1!=n?["",-1]:i.$file_path_and_line_number_from(s)}(),r=e.to_ary(a),o=null==r[0]?t:r[0],l=null==r[1]?t:r[1],i.$metadata()["$[]="]("file_path",o),i.$metadata()["$[]="]("line_number",l.$to_i()),i.$metadata()["$[]="]("location",function(){return(r=o["$empty?"]())===t||null==r||r.$$is_boolean&&1!=r?o+":"+l:""}())},$.$$arity=0,$.$$parameters=[])}(s.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/configuration"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return function(a,$super){function n(){}var $,i,s=n=r(a,$super,"Configuration",n);s.$$proto,s.$$scope;return e.defn(s,"$files_or_directories_to_run=",$=function(){var e,r=this,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var $=0;$<a;$++)e[$-0]=arguments[$];return r.files_or_directories_to_run=[],r.files_to_run=t},$.$$arity=-1,$.$$parameters=[["rest","files"]]),e.defn(s,"$requires=",i=function(){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"requires="),t},i.$$arity=1,i.$$parameters=[["req","paths"]]),t&&"requires="}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),i=e.hash2;return e.add_stubs(["$multiple_module_include_super_works_right?","$[]","$end_with?","$+","$current_example","$location","$support_warn_with"]),(r=a.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===n||null==r||r.$$is_boolean&&1!=r?function(r){var a,s,o=a=$(r,"Warnings"),l=(o.$$proto,o.$$scope);e.defn(o,"$warn_with",s=function(r,a){var $,s=this;null==a&&(a=i([],{}));var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"warn_with"),($=a["$[]"]("use_spec_location_as_call_site"))===n||null==$||$.$$is_boolean&&1!=$||((($=r["$end_with?"]("."))===n||null==$||$.$$is_boolean&&1!=$)&&(r=t(r,".")),($=l.get("RSpec").$current_example())===n||null==$||$.$$is_boolean&&1!=$||(r=t(r," Warning generated from spec at `"+l.get("RSpec").$current_example().$location()+"`."))),s.$support_warn_with(r,a)},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","options"]])}(e.get("RSpec").$$scope.get("Core")):n},Opal.modules["opal/rspec/fixes/rspec/core"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/../core/example"),t.$require("opal/rspec/fixes/rspec/core/../core/formatters"),t.$require("opal/rspec/fixes/rspec/core/../core/notifications"),t.$require("opal/rspec/fixes/rspec/core/../core/ordering"),t.$require("opal/rspec/fixes/rspec/core/../core/metadata"),t.$require("opal/rspec/fixes/rspec/core/../core/configuration"),t.$require("opal/rspec/fixes/rspec/core/../core/warnings")},Opal.modules["rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require","$new","$<","$to_f","$define_method","$respond_to?","$__send__","$to_proc","$==","$=~","$write","$!","$empty?","$output","$has_output?","$send","$reset!","$string"]),r.$require("stringio"),function(r){var a,s=a=$(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r){var a,s=a=$(r,"Support"),o=(s.$$proto,s.$$scope);!function(r,$super){function a(){}var $,s,o,l,c,u,_,p,d,h,f,m=a=i(r,$super,"StdErrSplitter",a),g=m.$$proto,b=(m.$$scope,n);g.output_tracker=g.orig_stderr=n,e.defn(m,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.orig_stderr=t,r.output_tracker=e.get("StringIO").$new()},$.$$arity=1,$.$$parameters=[["req","original"]]),b=function(){return(s=t(e.get("RUBY_VERSION").$to_f(),1.9))===n||null==s||s.$$is_boolean&&1!=s?"respond_to_missing?":"respond_to?"}(),(s=(o=m).$define_method,s.$$p=(l=function(){var t,r,a,$,i,s=l.$$s||this;null==s.orig_stderr&&(s.orig_stderr=n);var o=arguments.length,c=o-0;c<0&&(c=0),t=new Array(c);for(var u=0;u<o;u++)t[u-0]=arguments[u];return!1!==(r=(a=s.orig_stderr)["$respond_to?"].apply(a,e.to_a(t)))&&r!==n&&null!=r?r:(i=s,$=e.find_iter_super_dispatcher(s,null,l.$$def||null,!1,!0),$.$$p=$iter,$).apply(i)},l.$$s=m,l.$$arity=-1,l.$$parameters=[["rest","args"]],l),s).call(o,b),e.defn(m,"$method_missing",c=function(t){var r,a,$,i,s=this,o=c.$$p,l=o||n,u=arguments.length,_=u-1;_<0&&(_=0),i=new Array(_);for(var p=1;p<u;p++)i[p-1]=arguments[p];c.$$p=null;var d=arguments.length;return d<1&&e.ac(d,-2,this,"method_missing"),(r=(a=s.output_tracker).$__send__,r.$$p=l.$to_proc(),r).apply(a,[t].concat(e.to_a(i))),(r=($=s.orig_stderr).$__send__,r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i)))},c.$$arity=-2,c.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defn(m,"$==",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),r.orig_stderr["$=="](t)},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(m,"$write",_=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"write"),(r=t["$=~"](/^\S+\/gems\/\S+:\d+: warning:/))===n||null==r||r.$$is_boolean&&1!=r?(a.orig_stderr.$write(t),a.output_tracker.$write(t)):n},_.$$arity=1,_.$$parameters=[["req","line"]]),e.defn(m,"$has_output?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"has_output?"),t.$output()["$empty?"]()["$!"]()},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$reset!",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset!"),t.output_tracker=e.get("StringIO").$new()},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$verify_example!",h=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"verify_example!"),(r=a["$has_output?"]())===n||null==r||r.$$is_boolean&&1!=r||t.$send("fail","Warnings were generated: "+a.$output()),a["$reset!"]()},h.$$arity=1,h.$$parameters=[["req","example"]]),e.defn(m,"$output",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"output"),t.output_tracker.$string()},f.$$arity=0,f.$$parameters=[])}(o.base,null)}(o.base)}(a.base)},Opal.modules["opal/rspec/fixes/rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$<","$to_f","$define_method","$respond_to?"]),r.$require("rspec/support/spec/stderr_splitter"),function(r,$super){function a(){}var i,s,o,l=a=$(r,$super,"StdErrSplitter",a),c=(l.$$proto,l.$$scope,n);return c=function(){return(i=t(e.get("RUBY_VERSION").$to_f(),1.9))===n||null==i||i.$$is_boolean&&1!=i?"respond_to_missing?":"respond_to?"}(),(i=(s=l).$define_method,i.$$p=(o=function(){var t,r,a,$,i,s=o.$$s||this;null==s.orig_stderr&&(s.orig_stderr=n);var l=arguments.length,c=l-0;c<0&&(c=0),t=new Array(c);for(var u=0;u<l;u++)t[u-0]=arguments[u];return!1!==(r=(a=s.orig_stderr)["$respond_to?"].apply(a,e.to_a(t)))&&r!==n&&null!=r?r:(i=s,$=e.find_iter_super_dispatcher(s,null,o.$$def||null,!1,!1),$.$$p=null,$).apply(i,e.to_a(t))},o.$$s=l,o.$$arity=-1,o.$$parameters=[["rest","args"]],o),i).call(s,c)}(a.get("RSpec").$$scope.get("Support"),null)},Opal.modules["opal/rspec/fixes/rspec/support/spec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/spec/../spec/stderr_splitter")},Opal.modules["opal/rspec/fixes/rspec/support/encoded_string"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return function(t,$super){function n(){}var $,i,s=n=a(t,$super,"EncodedString",n),o=s.$$proto;s.$$scope;return o.string=r,e.defn(s,"$initialize",$=function(t,a){var n=this;null==a&&(a=r);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"initialize"),n.string=t},$.$$arity=-2,$.$$parameters=[["req","string"],["opt","encoding"]]),e.defn(s,"$to_s",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.string},i.$$arity=0,i.$$parameters=[]),r&&"to_s"}(t.get("RSpec").$$scope.get("Support"),null)},Opal.modules["opal/rspec/fixes/rspec/support/recursive_const_methods"]=function(e){var t=(e.top,e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$sub"]),function(r){var a,n,$=a=t(r,"RecursiveConstMethods");$.$$proto,$.$$scope;e.defn($,"$normalize_const_name",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"normalize_const_name"),t.$sub(/^::/,"")},n.$$arity=1,n.$$parameters=[["req","const_name"]])}(e.get("RSpec").$$scope.get("Support"))},Opal.modules["opal/rspec/fixes/rspec/support/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$fetch","$first_non_rspec_line","$[]","$+","$warn","$alias_method","$extend"]),function($){var i,s=i=a($,"RSpec"),o=(s.$$proto,s.$$scope);!function($){var i,s=i=a($,"Support"),o=(s.$$proto,s.$$scope);!function($){var i,s,o=i=a($,"Warnings"),l=(o.$$proto,o.$$scope);e.defn(o,"$warn_with",s=function(a,$){var i,s,o,c=this,u=r;null==$&&($=n([],{}));var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"warn_with"),u=(i=(s=$).$fetch,i.$$p=(o=function(){o.$$s;if(o.$$is_lambda||o.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"warn_with")}return l.get("CallerFilter").$first_non_rspec_line()},o.$$s=c,o.$$arity=0,o.$$parameters=[],o),i).call(s,"call_site"),(i=$["$[]"]("replacement"))===r||null==i||i.$$is_boolean&&1!=i||(a=t(a," Use "+$["$[]"]("replacement")+" instead.")),!1!==u&&u!==r&&null!=u&&(a=t(a," Called from "+u+".")),e.get("Kernel").$warn(a)},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","options"]]),o.$alias_method("support_warn_with","warn_with")}(o.base)}(o.base),s.$extend(o.get("RSpec").$$scope.get("Support").$$scope.get("Warnings"))}(e.Object)},Opal.modules["opal/rspec/fixes/rspec/support"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/../support/spec"),t.$require("opal/rspec/fixes/rspec/support/../support/encoded_string"),t.$require("opal/rspec/fixes/rspec/support/../support/recursive_const_methods"),t.$require("opal/rspec/fixes/rspec/support/../support/warnings")},Opal.modules["opal/rspec/fixes/rspec/expectations/fail_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a=(e.top,e),n=e.nil;e.breaker,e.slice;return e.add_stubs(["$!","$raise","$+"]),e.defs(a.get("RSpec").$$scope.get("Expectations"),"$fail_with",r=function(r,$,i){var s,o=this;null==$&&($=n),null==i&&(i=n);var l=arguments.length;return(l<1||l>3)&&e.ac(l,-2,this,"fail_with"),(s=r["$!"]())===n||null==s||s.$$is_boolean&&1!=s||o.$raise(a.get("ArgumentError"),t("Failure message is nil. Does your matcher define the ","appropriate failure_message_for_* method to return a string?")),o.$raise(a.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError"),r)},r.$$arity=-2,r.$$parameters=[["req","message"],["opt","expected"],["opt","actual"]]),n&&"fail_with"},Opal.modules["opal/rspec/fixes/rspec/expectations"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/expectations/../expectations/fail_with")},Opal.modules["opal/rspec/fixes/rspec/matchers/pretty"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_s","$gsub","$tr","$downcase"]),function(t){var n,$=n=a(t,"RSpec"),i=($.$$proto,$.$$scope);!function(t){var n,$=n=a(t,"Matchers"),i=($.$$proto,$.$$scope);!function(t){var n,$,i=n=a(t,"Pretty");i.$$proto,i.$$scope;e.defn(i,"$underscore",$=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=t.$to_s(),a=a.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a=a.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),a=a.$tr("-","_"),a=a.$downcase()},$.$$arity=1,$.$$parameters=[["req","camel_cased_word"]])}(i.base)}(i.base)}(t.base)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$empty?","$+","$expected_arg_description"]),function($){var i,s=i=a($,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(a,$super){function $(){}var i,s=$=n(a,$super,"YieldWithArgs",$),o=s.$$proto;s.$$scope;o.expected=r,e.defn(s,"$description",i=function(){var a,n=this,$=r,i=arguments.length;return 0!==i&&e.ac(i,0,this,"description"),$="yield with args",((a=n.expected["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a)&&($=t($,"("+n.$expected_arg_description()+")")),$},i.$$arity=0,i.$$parameters=[])}(o.base,null),function(a,$super){function $(){}var i,s=$=n(a,$super,"YieldSuccessiveArgs",$);s.$$proto,s.$$scope;e.defn(s,"$description",i=function(){var a=this,n=r,$=arguments.length;return 0!==$&&e.ac($,0,this,"description"),n="yield successive args",n=t(n,"("+a.$expected_arg_description()+")")},i.$$arity=0,i.$$parameters=[])}(o.base,null)}(e.get("RSpec").$$scope.get("Matchers"))},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/start_and_end_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$+","$!","$respond_to?","$actual"]),function($){var i,s=i=a($,"BuiltIn"),o=(s.$$proto,s.$$scope);!function(a,$super){function $(){}var i,s=$=n(a,$super,"StartAndEndWith",$),o=s.$$proto;s.$$scope;o.actual_does_not_have_ordered_elements=r,e.defn(s,"$failure_message",i=function(){var a,n,$=this,s=i.$$p,o=r,l=r,c=r;i.$$p=null;var u=arguments.length;for(0!==u&&e.ac(u,0,this,"failure_message"),l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return o=(n=$,a=e.find_super_dispatcher($,"failure_message",i,!1),a.$$p=s,a).apply(n,l),(a=$.actual_does_not_have_ordered_elements)===r||null==a||a.$$is_boolean&&1!=a?(a=$.$actual()["$respond_to?"]("[]")["$!"]())===r||null==a||a.$$is_boolean&&1!=a||(o=t(o,", but it cannot be indexed using #[]")):o=t(o,", but it does not have ordered elements"),o},i.$$arity=0,i.$$parameters=[])}(o.base,null)}(e.get("RSpec").$$scope.get("Matchers"))},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/compound"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$join","$indent_multiline_message","$sub","$conjunction"]),function(a,$super){function n(){}var $,i=n=r(a,$super,"Compound",n);i.$$proto,i.$$scope;return e.defn(i,"$multiline_message",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"multiline_message"),[a.$indent_multiline_message(t.$sub(/\n+$/,"")),"..."+a.$conjunction()+":",a.$indent_multiline_message(r.$sub(/^\n+/,""))].$join("\n\n")},$.$$arity=2,$.$$parameters=[["req","message_1"],["req","message_2"]]),t&&"multiline_message"}(e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn"),null)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$sub","$join","$map","$=~","$+","$lines"]),function(n,$super){function $(){}var i,s=$=a(n,$super,"All",$);s.$$proto,s.$$scope;return e.defn(s,"$indent_multiline_message",i=function(a){var n,$,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"indent_multiline_message"),a=a.$sub(/\n+$/,""),(n=($=a.$lines()).$map,n.$$p=(i=function(a){var n;i.$$s;if(null==a&&(a=r),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"indent_multiline_message")}return(n=a["$=~"](/\S/))===r||null==n||n.$$is_boolean&&1!=n?a:t("   ",a)},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","line"]],i),n).call($).$join()},i.$$arity=1,i.$$parameters=[["req","message"]]),r&&"indent_multiline_message"}(e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn"),null)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/yield"),
t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/start_and_end_with"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/compound"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/all")},Opal.modules["opal/rspec/fixes/rspec/matchers"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/../matchers/pretty"),t.$require("opal/rspec/fixes/rspec/matchers/../matchers/built_in")},Opal.modules["opal/rspec/fixes/rspec/mocks/space"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$__id__","$include?","$name","$class","$raise","$[]=","$proxies","$is_a?","$new","$any?","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration"]),function(t,$super){function n(){}var $,i,s=n=a(t,$super,"Space",n),o=s.$$proto,l=s.$$scope;return o.expectation_ordering=r,e.cdecl(l,"OPAL_NON_MOCKABLE_TYPES",["String","Number","Numeric"]),e.defn(s,"$id_for",$=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"id_for"),t.$__id__()},$.$$arity=1,$.$$parameters=[["req","object"]]),e.defn(s,"$proxy_not_found_for",i=function(t,a){var n,$,i,s,o=this,c=r,u=arguments.length;return 2!==u&&e.ac(u,2,this,"proxy_not_found_for"),(n=l.get("OPAL_NON_MOCKABLE_TYPES")["$include?"](a.$class().$name()))===r||null==n||n.$$is_boolean&&1!=n||o.$raise(a.$class()+" "+a+" cannot be used for mocking in Opal!"),c=[l.get("InstanceVerifyingDouble"),l.get("ObjectVerifyingDouble"),l.get("ClassVerifyingDouble"),l.get("Double")],o.$proxies()["$[]="](t,function(){return(n=a["$is_a?"](l.get("NilClass")))===r||null==n||n.$$is_boolean&&1!=n?(n=($=(i=c)["$any?"],$.$$p=(s=function(t){s.$$s;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"proxy_not_found_for")}return a["$is_a?"](t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","klass"]],s),$).call(i))===r||null==n||n.$$is_boolean&&1!=n?(n=a["$is_a?"](l.get("Class")))===r||null==n||n.$$is_boolean&&1!=n?(n=l.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==n||n.$$is_boolean&&1!=n?l.get("PartialDoubleProxy").$new(a,o.expectation_ordering):l.get("VerifyingPartialDoubleProxy").$new(a,o.expectation_ordering):(n=l.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==n||n.$$is_boolean&&1!=n?l.get("PartialClassDoubleProxy").$new(o,a,o.expectation_ordering):l.get("VerifyingPartialClassDoubleProxy").$new(o,a,o.expectation_ordering):a.$__build_mock_proxy_unless_expired(o.expectation_ordering):l.get("ProxyForNil").$new(o.expectation_ordering)}())},i.$$arity=2,i.$$parameters=[["req","id"],["req","object"]]),r&&"proxy_not_found_for"}(t.get("RSpec").$$scope.get("Mocks"),null)},Opal.modules["opal/rspec/fixes/rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e.nil),a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$method_call_args_description","$>","$length","$gsub","$inspect"]),function($){var i,s=i=a($,"Mocks"),o=(s.$$proto,s.$$scope);!function(a,$super){function $(){}var i,s=$=n(a,$super,"ErrorGenerator",$);s.$$proto,s.$$scope;e.defn(s,"$actual_method_call_args_description",i=function(a,n){var $,i,s,o=this,l=arguments.length;return 2!==l&&e.ac(l,2,this,"actual_method_call_args_description"),!1!==($=o.$method_call_args_description(n))&&$!==r&&null!=$?$:function(){return s=t(a,0),(i=!1!==s&&s!==r&&null!=s?t(n.$length(),0):s)===r||null==i||i.$$is_boolean&&1!=i?"":" with arguments: "+n.$inspect().$gsub(/^\[(.+)\]$/,"(\\1)")}()},i.$$arity=2,i.$$parameters=[["req","count"],["req","args"]])}(o.base,null)}(e.get("RSpec"))},Opal.modules["opal/rspec/fixes/rspec/mocks/test_double"]=function(e){var t,r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$multiple_module_include_super_works_right?","$__mock_proxy","$record_message_received","$to_proc","$null_object?","$===","$to_s","$visibility_for","$==","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error"]),(t=r.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===a||null==t||t.$$is_boolean&&1!=t?function(t){var r,$,i=r=n(t,"TestDouble"),s=(i.$$proto,i.$$scope);e.defn(i,"$call_method_missing",$=function(t){var r,n,i,o,l=this,c=$.$$p,u=c||a,_=a,p=a,d=a;null==l.name&&(l.name=a);var h=arguments.length,f=h-1;f<0&&(f=0),o=new Array(f);for(var m=1;m<h;m++)o[m-1]=arguments[m];$.$$p=null;var g=arguments.length;return g<1&&e.ac(g,-2,this,"call_method_missing"),_=l.$__mock_proxy(),(r=(n=_).$record_message_received,r.$$p=u.$to_proc(),r).apply(n,[t].concat(e.to_a(o))),(r=_["$null_object?"]())===a||null==r||r.$$is_boolean&&1!=r?(d=_.$visibility_for(t),(r=!1!==(i=d["$=="]("private"))&&i!==a&&null!=i?i:d["$=="]("protected"))===a||null==r||r.$$is_boolean&&1!=r||s.get("ErrorGenerator").$new(l,l.name).$raise_non_public_error(t,d),(r=["to_a","to_ary"]["$include?"](t))===a||null==r||r.$$is_boolean&&1!=r||l.$raise(s.get("NoMethodError")),(r=_).$raise_unexpected_message_error.apply(r,[t].concat(e.to_a(o)))):(p=t,"to_int"["$==="](p)?0:"to_a"["$==="](p)||"to_ary"["$==="](p)?a:"to_str"["$==="](p)?l.$to_s():l)},$.$$arity=-2,$.$$parameters=[["req","message"],["rest","args"],["block","block"]])}(e.get("RSpec").$$scope.get("Mocks")):a},Opal.modules["opal/rspec/fixes/rspec/mocks/verifying_double"]=function(e){var t,r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$multiple_module_include_super_works_right?","$null_object?","$==","$ensure_implemented","$__mock_proxy","$ensure_publicly_implemented","$call_method_missing","$to_proc","$include"]),(t=r.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===a||null==t||t.$$is_boolean&&1!=t?(function(t){var r,$,i=r=n(t,"VerifyingDoubleFixes");i.$$proto,i.$$scope;e.defn(i,"$method_missing",$=function(t){var r,n,i,s=this,o=$.$$p,l=o||a;null==s.__sending_message&&(s.__sending_message=a);var c=arguments.length,u=c-1;u<0&&(u=0),i=new Array(u);for(var _=1;_<c;_++)i[_-1]=arguments[_];$.$$p=null;var p=arguments.length;return p<1&&e.ac(p,-2,this,"method_missing"),(r=s["$null_object?"]())===a||null==r||r.$$is_boolean&&1!=r||(s.__sending_message["$=="](t)?s.$__mock_proxy().$ensure_implemented(t):s.$__mock_proxy().$ensure_publicly_implemented(t,s)),(r=(n=s).$call_method_missing,r.$$p=l.$to_proc(),r).apply(n,[t].concat(e.to_a(i)))},$.$$arity=-2,$.$$parameters=[["req","message"],["rest","args"],["block","block"]])}(r.get("Opal").$$scope.get("RSpec")),function(t){var r,a=r=n(t,"Mocks"),i=(a.$$proto,a.$$scope);!function(t){var r,a=r=n(t,"VerifyingDouble");a.$$proto,a.$$scope;a.$include(e.get("Opal").$$scope.get("RSpec").$$scope.get("VerifyingDoubleFixes"))}(i.base),function(t,$super){function r(){}var a=r=$(t,$super,"ObjectVerifyingDouble",r);a.$$proto,a.$$scope;a.$include(e.get("Opal").$$scope.get("RSpec").$$scope.get("VerifyingDoubleFixes"))}(i.base,null)}(e.get("RSpec"))):a},Opal.modules["opal/rspec/fixes/rspec/mocks"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/mocks/../mocks/space"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/error_generator"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/test_double"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/verifying_double")},Opal.modules["opal/rspec/fixes/rspec/caller_filter"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return function(t,$super){function n(){}var $,i=n=a(t,$super,"CallerFilter",n);i.$$proto,i.$$scope;return e.defs(i,"$first_non_rspec_line",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"first_non_rspec_line"),""},$.$$arity=0,$.$$parameters=[]),r&&"first_non_rspec_line"}(t.get("RSpec"),null)},Opal.modules["opal/rspec/fixes/rspec/example_groups"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),a=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$empty?","$description","$+","$gsub","$upcase","$[]","$last_match","$lstrip","$const_defined_on?","$next"]),function(r){var $,i,s,o=$=n(r,"ExampleGroups"),l=(o.$$proto,o.$$scope);e.defs(o,"$base_name_for",i=function(r){var n,$,i,s=this,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"base_name_for"),(n=r.$description()["$empty?"]())===a||null==n||n.$$is_boolean&&1!=n?(o=t(" ",r.$description()),o=(n=($=o).$gsub,n.$$p=(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"base_name_for")}return l.get("Regexp").$last_match()["$[]"](1).$upcase()},i.$$s=s,i.$$arity=0,i.$$parameters=[],i),n).call($,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),o=o.$lstrip(),o=o.$gsub(/\W/,""),o=o.$gsub(/^([^A-Z]|$)/,"Nested\\1")):"Anonymous"},i.$$arity=1,i.$$parameters=[["req","group"]]),e.defs(o,"$disambiguate",s=function(r,n){var $,i,s=this,o=arguments.length;if(2!==o&&e.ac(o,2,this,"disambiguate"),($=s["$const_defined_on?"](n,r))===a||null==$||$.$$is_boolean&&1!=$)return r;for(r=t(r,"_2");(i=s["$const_defined_on?"](n,r))!==a&&null!=i&&(!i.$$is_boolean||1==i);)r=r.$next();return r},s.$$arity=2,s.$$parameters=[["req","name"],["req","const_scope"]])}(r.get("RSpec"))},Opal.modules["opal/rspec/fixes/rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/../rspec/core"),t.$require("opal/rspec/fixes/rspec/../rspec/support"),t.$require("opal/rspec/fixes/rspec/../rspec/expectations"),t.$require("opal/rspec/fixes/rspec/../rspec/matchers"),t.$require("opal/rspec/fixes/rspec/../rspec/mocks"),t.$require("opal/rspec/fixes/rspec/../rspec/caller_filter"),t.$require("opal/rspec/fixes/rspec/../rspec/example_groups")},Opal.modules["opal/rspec/fixes/opal"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/opal/../opal/compatibility")},Opal.modules["opal/rspec/fixes"]=function(e){var t,r=e.top,a=e,n=e.nil;e.breaker,e.slice;return e.add_stubs(["$const_defined?","$require"]),((t=a.get("Object")["$const_defined?"]("Encoding"))===n||null==t||t.$$is_boolean&&1!=t)&&r.$require("encoding"),r.$require("thread"),r.$require("opal/rspec/fixes/../fixes/rspec"),r.$require("opal/rspec/fixes/../fixes/opal")},Opal.modules["opal/rspec/formatter/document_io"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$include"]),function(t){var $,i=$=a(t,"Opal"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i,s,o,l=a=n(t,$super,"DocumentIO",a),c=l.$$proto,u=l.$$scope;c.closed=r,l.$include(u.get("IO").$$scope.get("Writable")),e.defn(l,"$initialize",$=function(){var t=arguments.length;0!==t&&e.ac(t,0,this,"initialize"),document.open()},$.$$arity=0,$.$$parameters=[]),e.defn(l,"$close",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close"),t.closed=!0,document.close()},i.$$arity=0,i.$$parameters=[]),e.defn(l,"$write",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"write"),(a=n.closed)===r||null==a||a.$$is_boolean&&1!=a?document.write(t):console.error("DOC closed, can't write "+t)},s.$$arity=1,s.$$parameters=[["req","html"]]),e.defn(l,"$flush",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),r},o.$$arity=0,o.$$parameters=[])}(s.base,s.get("IO"))}(s.base)}(t.base)},Opal.modules["opal/rspec/formatter/noop_flush_string_io"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass;return function(t){var $,i=$=a(t,"Opal"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var $,i=a=n(t,$super,"NoopFlushStringIO",a);i.$$proto,i.$$scope;e.defn(i,"$flush",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),r},$.$$arity=0,$.$$parameters=[])}(s.base,s.get("StringIO"))}(s.base)}(t.base)},Opal.modules["opal/rspec/formatter/element"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.hash2;return e.add_stubs(["$attr_reader","$new","$===","$each","$__send__","$[]","$html=","$gsub","$native"]),function(t){var i,s=i=a(t,"Opal"),o=(s.$$proto,s.$$scope);!function(t){var i,s=i=a(t,"RSpec"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k=a=n(t,$super,"Element",a),w=k.$$proto,q=k.$$scope;w["native"]=r,k.$attr_reader("native"),e.defs(k,"$id",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"id"),r.$new(document.getElementById(t))},i.$$arity=1,i.$$parameters=[["req","id"]]),e.defs(k,"$klass",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"klass"),r.$new(document.getElementsByClassName(t)[0])},s.$$arity=1,s.$$parameters=[["req","klass"]]),e.defs(k,"$from_string",o=function(t){var a=this,n=r,$=arguments.length;return 1!==$&&e.ac($,1,this,"from_string"),n=document.createElement("div"),n.innerHTML=t,a.$new(n.children[0])},o.$$arity=1,o.$$parameters=[["req","str"]]),e.defn(k,"$initialize",l=function(t,a){var n,i,s,o=this;null==a&&(a=$([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"initialize"),(n=q.get("String")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n?o["native"]=t:o["native"]=document.createElement(t),(n=(i=a).$each,n.$$p=(s=function(t,a){var n=s.$$s||this;if(null==t&&(t=r),null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"initialize")}return n.$__send__(t+"=",a)},s.$$s=o,s.$$arity=2,s.$$parameters=[["req","name"],["req","val"]],s),n).call(i)},l.$$arity=-2,l.$$parameters=[["req","el"],["opt","attrs"]]),e.defn(k,"$class_name",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"class_name"),t["native"].className},c.$$arity=0,c.$$parameters=[]),e.defn(k,"$get_child_by_tag_name",u=function(t,a){var n=this,$=r,i=r;null==a&&(a=0);var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"get_child_by_tag_name"),$=n["native"].getElementsByTagName(t),i=[];for(var o=0;o<$.length;o++)i.push($[o]);return q.get("Element").$new(i["$[]"](a))},u.$$arity=-2,u.$$parameters=[["req","tag"],["opt","index"]]),e.defn(k,"$class_name=",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"class_name="),r["native"].className=t},_.$$arity=1,_.$$parameters=[["req","name"]]),e.defn(k,"$native",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"native"),t["native"]},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$outer_html",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"outer_html"),t["native"].outerHTML},d.$$arity=0,d.$$parameters=[]),e.defn(k,"$on_click=",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"on_click="),r["native"].onclick=t},h.$$arity=1,h.$$parameters=[["req","lambda"]]),e.defn(k,"$html=",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"html="),r["native"].innerHTML=t},f.$$arity=1,f.$$parameters=[["req","html"]]),e.defn(k,"$text=",m=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"text="),r=[t.$gsub(/</,"&lt").$gsub(/>/,"&gt")],a=n,a["$html="].apply(a,r),r[r.length-1]},m.$$arity=1,m.$$parameters=[["req","text"]]),e.defn(k,"$type=",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"type="),r["native"].type=t},g.$$arity=1,g.$$parameters=[["req","type"]]),e.defn(k,"$append",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"append"),r["native"].appendChild(t.$native())},b.$$arity=1,b.$$parameters=[["req","child"]]),e.alias(k,"<<","append"),e.defn(k,"$css_text=",v=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"css_text="),r["native"].styleSheet?r["native"].styleSheet.cssText=t:r["native"].appendChild(document.createTextNode(t))},v.$$arity=1,v.$$parameters=[["req","text"]]),e.defn(k,"$style",y=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"style"),a["native"].style[t]=r},y.$$arity=2,y.$$parameters=[["req","name"],["req","value"]]),e.defn(k,"$append_to_head",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"append_to_head"),document.getElementsByTagName("head")[0].appendChild(t["native"])},x.$$arity=0,x.$$parameters=[])}(o.base,null)}(o.base)}(t.base)},Opal.modules["opal/rspec/formatter/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=e.top,n=e,$=e.nil,i=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$puts","$close","$reset_output","$klass","$last","$current_node","$from_string","$string","$append","$new","$<<","$get_child_by_tag_name","$pop","$each","$to_proc","$flush_output","$lambda","$[]","$on_click=","$==","$+","$>","$%","$html=","$id"]),a.$require("opal/rspec/formatter/html_printer/../noop_flush_string_io"),a.$require("opal/rspec/formatter/html_printer/../element"),function(a){var n,o=n=i(a,"Opal"),l=(o.$$proto,o.$$scope);!function(a){var n,o=n=i(a,"RSpec"),l=(o.$$proto,o.$$scope);!function(a,$super){function n(){}var i,o,l,c,u,_,p,d,h,f,m,g,b,v,y,x,k=n=s(a,$super,"HtmlPrinter",n),w=k.$$proto,q=k.$$scope;w.output=w.group_stack=w.root_node=w.update_stack=$,e.defn(k,"$initialize",i=function(){var t,r,a=this,n=i.$$p,s=$,o=$;i.$$p=null;var l=arguments.length;for(1!==l&&e.ac(l,1,this,"initialize"),s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return(r=a,t=e.find_super_dispatcher(a,"initialize",i,!1),t.$$p=n,t).apply(r,s),a.group_stack=[],a.update_stack=[]},i.$$arity=1,i.$$parameters=[["req","output"]]),e.defn(k,"$print_html_start",o=function(){var t,r,a=this,n=o.$$p,i=$,s=$;o.$$p=null;var l=arguments.length;for(0!==l&&e.ac(l,0,this,"print_html_start"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"print_html_start",o,!1),t.$$p=n,t).apply(r,i),a.output.$puts("</div>"),a.output.$puts("</div>"),a.output.$puts("</body>"),a.output.$puts("</html>"),a.output.$close(),a.$reset_output(),a.root_node=q.get("Element").$klass("results")},o.$$arity=0,o.$$parameters=[]),e.defn(k,"$current_node",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"current_node"),(t=r.group_stack.$last())===$||null==t||t.$$is_boolean&&1!=t?r.root_node:r.group_stack.$last()},l.$$arity=0,l.$$parameters=[]),e.defn(k,"$flush_output",c=function(){var t=this,r=$,a=$,n=arguments.length;return 0!==n&&e.ac(n,0,this,"flush_output"),r=t.$current_node(),a=q.get("Element").$from_string(t.output.$string()),r.$append(a),t.$reset_output()},c.$$arity=0,c.$$parameters=[]),e.defn(k,"$reset_output",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset_output"),t.output=q.get("NoopFlushStringIO").$new()},u.$$arity=0,u.$$parameters=[]),e.defn(k,"$print_example_group_start",_=function(){var t,r,a=this,n=_.$$p,i=$,s=$,o=$,l=$;_.$$p=null;var c=arguments.length;for(3!==c&&e.ac(c,3,this,"print_example_group_start"),o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(r=a,t=e.find_super_dispatcher(a,"print_example_group_start",_,!1),t.$$p=n,t).apply(r,o),a.output.$puts("</dl></div>"),i=a.$current_node(),s=q.get("Element").$from_string(a.output.$string()),a.$reset_output(),i["$<<"](s),a.group_stack["$<<"](s.$get_child_by_tag_name("dl")),a.update_stack["$<<"]([])},_.$$arity=3,_.$$parameters=[["req","group_id"],["req","description"],["req","number_of_parents"]]),e.defn(k,"$print_example_group_end",p=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"print_example_group_end"),a.group_stack.$pop(),(t=(r=a.update_stack.$pop()).$each,t.$$p="call".$to_proc(),t).call(r)},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$print_example_passed",d=function(){var t,r,a=this,n=d.$$p,i=$,s=$;d.$$p=null;var o=arguments.length;for(2!==o&&e.ac(o,2,this,"print_example_passed"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"print_example_passed",d,!1),t.$$p=n,t).apply(r,i),a.$flush_output()},d.$$arity=2,d.$$parameters=[["req","description"],["req","run_time"]]),e.defn(k,"$print_example_failed",h=function(t,r,a,n,i,s,o){var l,c,u,_,p,d=this,f=h.$$p,m=$,g=$,b=$,v=$,y=$;null==o&&(o=!1),h.$$p=null;var x=arguments.length;for((x<6||x>7)&&e.ac(x,-7,this,"print_example_failed"),v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return(c=d,l=e.find_super_dispatcher(d,"print_example_failed",h,!1),l.$$p=f,l).apply(c,v),d.$flush_output(),m=d.$current_node().$get_child_by_tag_name("dd",-1),g=(l=(u=d).$lambda,l.$$p=(_=function(){return(_.$$s||this).$puts("Exception for example '"+r+"'\n"+i["$[]"]("backtrace")),!1},_.$$s=d,_.$$arity=-1,_.$$parameters=[["rest"]],_),l).call(u),b=q.get("Element").$from_string('<form><button type="button">Console</button></form>'),l=[g],p=b,p["$on_click="].apply(p,l),l[l.length-1],m["$<<"](b)},h.$$arity=-7,h.$$parameters=[["req","pending_fixed"],["req","description"],["req","run_time"],["req","failure_id"],["req","exception"],["req","extra_content"],["opt","escape_backtrace"]]),e.defn(k,"$print_example_pending",f=function(){var t,r,a=this,n=f.$$p,i=$,s=$;f.$$p=null;var o=arguments.length;for(2!==o&&e.ac(o,2,this,"print_example_pending"),i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"print_example_pending",f,!1),t.$$p=n,t).apply(r,i),a.$flush_output()},f.$$arity=2,f.$$parameters=[["req","description"],["req","pending_message"]]),e.defn(k,"$print_summary",m=function(a,n,i,s){var o,l,c=$,u=$,_=arguments.length;return 4!==_&&e.ac(_,4,this,"print_summary"),c=n+" example"+function(){return n["$=="](1)?$:"s"}()+", ",c=t(c,i+" failure"+function(){return i["$=="](1)?$:"s"}()),(o=r(s,0))===$||null==o||o.$$is_boolean&&1!=o||(c=t(c,", "+s+" pending")),u="%.5f"["$%"](a),o=["Finished in <strong>"+u+" seconds</strong>"],l=q.get("Element").$id("duration"),l["$html="].apply(l,o),o[o.length-1],o=[c],l=q.get("Element").$id("totals"),l["$html="].apply(l,o),o[o.length-1]},m.$$arity=4,m.$$parameters=[["req","duration"],["req","example_count"],["req","failure_count"],["req","pending_count"]]),e.defn(k,"$move_progress",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"move_progress"),moveProgressBar(t)},g.$$arity=1,g.$$parameters=[["req","percent_done"]]),e.defn(k,"$make_header_red",b=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"make_header_red"),makeRed("rspec-header")},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$make_header_yellow",v=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"make_header_yellow"),makeYellow("rspec-header")},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$make_example_group_header_red",y=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"make_example_group_header_red"),$.update_stack.$last()["$<<"]((r=(a=$).$lambda,r.$$p=(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"make_example_group_header_red")}return makeRed("div_group_"+t),makeRed("example_group_"+t)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a))},y.$$arity=1,y.$$parameters=[["req","group_id"]]),e.defn(k,"$make_example_group_header_yellow",x=function(t){var r,a,n,$=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"make_example_group_header_yellow"),$.update_stack.$last()["$<<"]((r=(a=$).$lambda,r.$$p=(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"make_example_group_header_yellow")}return makeYellow("div_group_"+t),makeYellow("example_group_"+t)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a))},x.$$arity=1,x.$$parameters=[["req","group_id"]])}(l.base,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("HtmlPrinter"))}(l.base)}(n.base)},Opal.modules["opal/rspec/formatter/browser_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=e,n=e.nil,$=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$register","$new","$+","$print_example_group_start","$example_group_number","$description","$group","$size","$parent_groups","$flush","$print_example_group_end","$map","$backtrace_line","$backtrace_formatter","$configuration","$backtrace","$exception","$compact"]),r.$require("opal/rspec/formatter/browser_formatter/../document_io"),r.$require("opal/rspec/formatter/browser_formatter/../html_printer"),function(r){var a,s=a=$(r,"Opal"),o=(s.$$proto,s.$$scope);!function(r){var a,s=a=$(r,"RSpec"),o=(s.$$proto,s.$$scope);!function(r,$super){function a(){}var $,s,o,l,c,u=a=i(r,$super,"BrowserFormatter",a),_=u.$$proto,p=u.$$scope;_.output=_.example_group_number=_.printer=n,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$register(u,"example_group_finished"),e.defn(u,"$initialize",$=function(){var t,r,a=this;$.$$p;$.$$p=null;var n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),(r=a,t=e.find_super_dispatcher(a,"initialize",$,!1),t.$$p=null,t).call(r,p.get("DocumentIO").$new()),a.printer=p.get("Opal").$$scope.get("RSpec").$$scope.get("HtmlPrinter").$new(a.output)},$.$$arity=1,$.$$parameters=[["req","output"]]),e.defn(u,"$example_group_started",s=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"example_group_started"),a.example_group_red=!1,a.example_group_number=t(a.example_group_number,1),a.printer.$print_example_group_start(a.$example_group_number(),r.$group().$description(),r.$group().$parent_groups().$size()),a.printer.$flush()},s.$$arity=1,s.$$parameters=[["req","notification"]]),e.defn(u,"$example_group_finished",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_group_finished"),t.printer.$print_example_group_end()},o.$$arity=1,o.$$parameters=[["req","notification"]]),e.defn(u,"$start_dump",l=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"start_dump"),n},l.$$arity=1,l.$$parameters=[["req","_notification"]]),e.defn(u,"$extra_failure_content",c=function(t){var r,a,$,i=this,s=n,o=arguments.length;return 1!==o&&e.ac(o,1,this,"extra_failure_content"),s=(r=(a=t.$exception().$backtrace()).$map,r.$$p=($=function(t){$.$$s;if(null==t&&(t=n),$.$$is_lambda||$.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"extra_failure_content")}return e.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","line"]],$),r).call(a),'    <pre class="ruby"><code>'+s.$compact()+"</code></pre>"},c.$$arity=1,c.$$parameters=[["req","failure"]])}(o.base,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("HtmlFormatter"))}(o.base)}(a.base)},Opal.modules["opal/rspec/formatter/opal_closed_tty_io"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.gvars;return e.add_stubs(["$include","$include?","$raise","$write_proc=","$===","$write_proc"]),function(t,$super){function $(){}var i,s,o=$=a(t,$super,"OpalClosedTtyIO",$),l=(o.$$proto,o.$$scope);return o.$include(l.get("IO").$$scope.get("Writable")),e.defn(o,"$initialize",i=function(t,a){var $,i,s=this,o=r;null==n.stdout&&(n.stdout=r),null==n.stderr&&(n.stderr=r);var l=arguments.length;return 2!==l&&e.ac(l,2,this,"initialize"),(($=["stdout","stderr"]["$include?"](a))===r||null==$||$.$$is_boolean&&1!=$)&&s.$raise("Unknown IO type "+a+"!"),$=[function(){return o=t,"phantom"["$==="](o)?function(e){callPhantom([a,e])}:"node"["$==="](o)||"browser"["$==="](o)?function(){return o=a,"stdout"["$==="](o)?n.stdout.$write_proc():"stderr"["$==="](o)?n.stderr.$write_proc():r}():s.$raise("Unknown runner type "+t)}()],i=s,i["$write_proc="].apply(i,$),$[$.length-1],s.tty=!0},i.$$arity=2,i.$$parameters=[["req","runner_type"],["req","io_type"]]),e.defn(o,"$closed?",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"closed?"),!0},s.$$arity=0,s.$$parameters=[]),r&&"closed?"}(t.base,t.get("IO"))},Opal.modules["opal/rspec/runner"]=function(e){var t=e.top,r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,$=e.gvars;return e.add_stubs(["$phantom?","$node?","$new","$get_opal_closed_tty_io","$then","$exit_with_code","$to_i","$run","$inject","$<<","$value","$all?","$failure_exit_code","$report_async","$ensure","$hooks","$run_groups_async","$reporter","$example_count"]),t.$require("opal/rspec/runner/../formatter/opal_closed_tty_io"),function(t){var i,s=i=a(t,"Core"),o=(s.$$proto,s.$$scope);!function(t,$super){function a(){}var i,s,o=a=n(t,$super,"Runner",a),l=o.$$proto,c=o.$$scope;l.configuration=l.world=r,function(t){var a,n,i,s,o,l,c,u,_=t.$$scope;t.$$proto;e.defn(t,"$browser?",a=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"browser?"),"undefined"!=typeof document},a.$$arity=0,a.$$parameters=[]),e.defn(t,"$phantom?",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"phantom?"),"undefined"!=typeof phantom||"undefined"!=typeof OPAL_SPEC_PHANTOM},n.$$arity=0,n.$$parameters=[]),e.defn(t,"$node?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"node?"),"undefined"!=typeof process&&"undefined"!=typeof process.versions},i.$$arity=0,i.$$parameters=[]),e.defn(t,"$non_browser?",s=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"non_browser?"),!1!==(t=a["$phantom?"]())&&t!==r&&null!=t?t:a["$node?"]()},s.$$arity=0,s.$$parameters=[]),e.defn(t,"$get_opal_closed_tty_io",o=function(){var t,a=this,n=r,$=r,i=r,s=arguments.length;return 0!==s&&e.ac(s,0,this,"get_opal_closed_tty_io"),n=function(){return(t=a["$phantom?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=a["$node?"]())===r||null==t||t.$$is_boolean&&1!=t?"browser":"node":"phantom"}(),$=_.get("OpalClosedTtyIO").$new(n,"stdout"),i=_.get("OpalClosedTtyIO").$new(n,"stderr"),[i,$]},o.$$arity=0,o.$$parameters=[]),e.defn(t,"$autorun",l=function(){var t,a,n,$=this,i=r,s=r,o=arguments.length;return 0!==o&&e.ac(o,0,this,"autorun"),a=$.$get_opal_closed_tty_io(),t=e.to_ary(a),i=null==t[0]?r:t[0],s=null==t[1]?r:t[1],(t=(a=$.$run(_.get("ARGV"),i,s)).$then,t.$$p=(n=function(t){var a=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"autorun")}return a.$exit_with_code(t.$to_i())},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","status"]],n),t).call(a)},l.$$arity=0,l.$$parameters=[]),e.defn(t,"$exit_with_code",c=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"exit_with_code"),(a="undefined"!=typeof phantom)===r||null==a||a.$$is_boolean&&1!=a?(a=n["$node?"]())===r||null==a||a.$$is_boolean&&1!=a?e.global.OPAL_SPEC_CODE=t:process.exit(t):phantom_exit(t)},c.$$arity=1,c.$$parameters=[["req","code"]]),e.defn(t,"$run",u=function(t,a,n){var i=this,s=r;null==$.stderr&&($.stderr=r),null==$.stdout&&($.stdout=r),null==a&&(a=$.stderr),null==n&&(n=$.stdout);var o=arguments.length;return(o<1||o>3)&&e.ac(o,-2,this,"run"),s=_.get("ConfigurationOptions").$new(t),i.$new(s).$run(a,n)},u.$$arity=-2,u.$$parameters=[["req","args"],["opt","err"],["opt","out"]])}(e.get_singleton_class(o)),e.defn(o,"$run_groups_async",i=function(t,a){var n,$,i,s,o,l=this,u=r,_=r,p=arguments.length;return 2!==p&&e.ac(p,2,this,"run_groups_async"),u=[],_=(n=($=t).$inject,n.$$p=(i=function(t,n){var $,s,o,l=i.$$s||this;if(null==t&&(t=r),null==n&&(n=r),i.$$is_lambda||i.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"run_groups_async")}return($=(s=t).$then,$.$$p=(o=function(t){o.$$s;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run_groups_async")}return u["$<<"](t),n.$run(a)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","result"]],o),$).call(s)},i.$$s=l,i.$$arity=2,i.$$parameters=[["req","previous_promise"],["req","group"]],i),n).call($,c.get("Promise").$value(!0)),(n=(s=_).$then,n.$$p=(o=function(t){var a,n=o.$$s||this;if(null==n.configuration&&(n.configuration=r),null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run_groups_async")}return u["$<<"](t),(a=u["$all?"]())===r||null==a||a.$$is_boolean&&1!=a?n.configuration.$failure_exit_code():0},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","result"]],o),n).call(s)},i.$$arity=2,i.$$parameters=[["req","example_groups"],["req","reporter"]]),e.defn(o,"$run_specs",s=function(t){var a,n,$,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"run_specs"),(a=(n=i.configuration.$reporter()).$report_async,a.$$p=($=function(a){var n,i,s,o,l,u,_=$.$$s||this,p=r;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var d=arguments.length;1!==d&&e.block_ac(d,1,"run_specs")}return p=c.get("SuiteHookContext").$new(),(n=(i=(o=(l=c.get("Promise").$value(!0)).$then,o.$$p=(u=function(){var n=u.$$s||this;if(null==n.configuration&&(n.configuration=r),u.$$is_lambda||u.$$define_meth){var $=arguments.length
;0!==$&&e.block_ac($,0,"run_specs")}return n.configuration.$hooks().$run("before","suite",p),n.$run_groups_async(t,a)},u.$$s=_,u.$$arity=0,u.$$parameters=[],u),o).call(l)).$ensure,n.$$p=(s=function(t){var a=s.$$s||this;if(null==a.configuration&&(a.configuration=r),null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run_specs")}return a.configuration.$hooks().$run("after","suite",p),t},s.$$s=_,s.$$arity=1,s.$$parameters=[["req","result"]],s),n).call(i)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","reporter"]],$),a).call(n,i.world.$example_count(t))},s.$$arity=1,s.$$parameters=[["req","example_groups"]])}(o.base,null)}(e.get("RSpec"))},Opal.modules["opal/rspec/async/async_example"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$value","$instance_exec","$to_proc","$rescue","$new","$kind_of?","$then","$subject","$example_group_instance","$is_a?","$[]=","$__memoized","$ensure","$teardown_mocks_for_rspec","$set_exception","$verify_mocks","$expecting_with_rspec?","$configuration","$assign_generated_description","$run","$hooks","$current_example=","$start","$pending?","$mark_pending!","$pending","$finish","$each","$instance_variable_set","$instance_variables","$skipped?","$skip","$!","$dry_run?","$with_around_example_hooks","$run_after_example","$mark_fixed!","$raise","$location","$core_block_run","$resolve_subject","$run_before_example"]),function(a,$super){function n(){}var $,i,s,o,l=n=r(a,$super,"Example",n),c=l.$$proto,u=l.$$scope;return c.example_block=c.example_group_instance=c.example_group_class=t,e.defn(l,"$core_block_run",$=function(){var r,a,n,$,i,s,o,l=this,c=t,_=arguments.length;return 0!==_&&e.ac(_,0,this,"core_block_run"),c=u.get("Promise").$value((r=(a=l.example_group_instance).$instance_exec,r.$$p=l.example_block.$to_proc(),r).call(a,l)),(r=(n=(i=(s=c).$then,i.$$p=(o=function(r){o.$$s;if(null==r&&(r=t),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"core_block_run")}return r},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","result"]],o),i).call(s)).$rescue,r.$$p=($=function(r){var a;$.$$s;if(null==r&&(r=t),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"core_block_run")}return!1!==(a=r)&&a!==t&&null!=a||(r=u.get("Exception").$new("Async promise failed for unspecified reason")),((a=r["$kind_of?"](u.get("Exception")))===t||null==a||a.$$is_boolean&&1!=a)&&(r=u.get("Exception").$new(r)),r},$.$$s=l,$.$$arity=1,$.$$parameters=[["req","ex"]],$),r).call(n)},$.$$arity=0,$.$$parameters=[]),e.defn(l,"$resolve_subject",i=function(){var r,a,n,$=this,i=t,s=arguments.length;0!==s&&e.ac(s,0,this,"resolve_subject");try{if(i=$.$example_group_instance().$subject(),(r=i["$is_a?"](u.get("Promise")))!==t&&null!=r&&(!r.$$is_boolean||1==r))return(r=(a=i).$then,r.$$p=(n=function(r){var a=n.$$s||this;if(null==r&&(r=t),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"resolve_subject")}return a.$example_group_instance().$__memoized()["$[]="]("subject",r)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","resolved_subject"]],n),r).call(a)}catch(t){if(!e.rescue(t,[u.get("Exception")]))throw t;t,e.pop_exception()}return u.get("Promise").$value(!0)},i.$$arity=0,i.$$parameters=[]),e.defn(l,"$run_after_example",s=function(){var r,a,n,$,i,s,o,l,c,_=this,p=arguments.length;return 0!==p&&e.ac(p,0,this,"run_after_example"),(r=(a=($=(i=(o=(l=_.example_group_class.$hooks().$run("after","example",_)).$then,o.$$p=(c=function(){var r,a=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"run_after_example")}return a.$verify_mocks(),(r=u.get("RSpec").$configuration()["$expecting_with_rspec?"]())===t||null==r||r.$$is_boolean&&1!=r?t:a.$assign_generated_description()},c.$$s=_,c.$$arity=0,c.$$parameters=[],c),o).call(l)).$rescue,$.$$p=(s=function(r){var a=s.$$s||this;if(null==r&&(r=t),s.$$is_lambda||s.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run_after_example")}return a.$set_exception(r,"in an `after(:example)` hook")},s.$$s=_,s.$$arity=1,s.$$parameters=[["req","e"]],s),$).call(i)).$ensure,r.$$p=(n=function(){var r=n.$$s||this;if(null==r.example_group_instance&&(r.example_group_instance=t),n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"run_after_example")}return r.example_group_instance.$teardown_mocks_for_rspec()},n.$$s=_,n.$$arity=0,n.$$parameters=[],n),r).call(a)},s.$$arity=0,s.$$parameters=[]),e.defn(l,"$run",o=function(r,a){var n,$,i,s,o,l,c,_,p,d=this,h=arguments.length;return 2!==h&&e.ac(h,2,this,"run"),d.example_group_instance=r,n=[d],$=u.get("RSpec"),$["$current_example="].apply($,n),n[n.length-1],d.$start(a),(n=d["$pending?"]())===t||null==n||n.$$is_boolean&&1!=n||u.get("Pending")["$mark_pending!"](d,d.$pending()),(n=($=(s=(o=(c=(_=u.get("Promise").$value(!0)).$then,c.$$p=(p=function(){var r,a,n,$,i,s,o,l,c,_=p.$$s||this;if(p.$$is_lambda||p.$$define_meth){var d=arguments.length;0!==d&&e.block_ac(d,0,"run")}return(r=(a=($=(i=(o=(l=u.get("Promise").$value(!0)).$then,o.$$p=(c=function(){var r,a,n,$=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"run")}return(r=$["$skipped?"]())===t||null==r||r.$$is_boolean&&1!=r?(r=u.get("RSpec").$configuration()["$dry_run?"]()["$!"]())===t||null==r||r.$$is_boolean&&1!=r?t:(r=(a=$).$with_around_example_hooks,r.$$p=(n=function(){var r,a,$,i,s,o,l,c,_,p=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var d=arguments.length;0!==d&&e.block_ac(d,0,"run")}return(r=(a=(i=(s=(l=(c=u.get("Promise").$value(!0)).$then,l.$$p=(_=function(){var r,a,n,$,i,s,o,l,c,p=_.$$s||this;if(_.$$is_lambda||_.$$define_meth){var d=arguments.length;0!==d&&e.block_ac(d,0,"run")}return(r=(a=($=(i=(o=(l=p.$run_before_example()).$then,o.$$p=(c=function(){var t=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"run")}return t.$resolve_subject()},c.$$s=p,c.$$arity=0,c.$$parameters=[],c),o).call(l)).$then,$.$$p=(s=function(){var t=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"run")}return t.$core_block_run()},s.$$s=p,s.$$arity=0,s.$$parameters=[],s),$).call(i)).$then,r.$$p=(n=function(){var r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"run")}return(r=a["$pending?"]())===t||null==r||r.$$is_boolean&&1!=r?t:(u.get("Pending")["$mark_fixed!"](a),a.$raise(u.get("Pending").$$scope.get("PendingExampleFixedError"),"Expected example to fail since it is pending, but it passed.",[a.$location()]))},n.$$s=p,n.$$arity=0,n.$$parameters=[],n),r).call(a)},_.$$s=p,_.$$arity=0,_.$$parameters=[],_),l).call(c)).$rescue,i.$$p=(o=function(r){var a,n=o.$$s||this;if(null==r&&(r=t),o.$$is_lambda||o.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return(a=r["$is_a?"](u.get("Pending").$$scope.get("SkipDeclaredInExample")))===t||null==a||a.$$is_boolean&&1!=a?n.$set_exception(r):t},o.$$s=p,o.$$arity=1,o.$$parameters=[["req","e"]],o),i).call(s)).$ensure,r.$$p=($=function(){var t=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"run")}return t.$run_after_example()},$.$$s=p,$.$$arity=0,$.$$parameters=[],$),r).call(a)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n),r).call(a):u.get("Pending")["$mark_pending!"]($,$.$skip())},c.$$s=_,c.$$arity=0,c.$$parameters=[],c),o).call(l)).$rescue,$.$$p=(s=function(r){var a=s.$$s||this;if(null==r&&(r=t),s.$$is_lambda||s.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run")}return a.$set_exception(r)},s.$$s=_,s.$$arity=1,s.$$parameters=[["req","e"]],s),$).call(i)).$ensure,r.$$p=(n=function(){var r,a,$,i=n.$$s||this;if(null==i.example_group_instance&&(i.example_group_instance=t),n.$$is_lambda||n.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"run")}return(r=(a=i.example_group_instance.$instance_variables()).$each,r.$$p=($=function(r){var a=$.$$s||this;if(null==a.example_group_instance&&(a.example_group_instance=t),null==r&&(r=t),$.$$is_lambda||$.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run")}return a.example_group_instance.$instance_variable_set(r,t)},$.$$s=i,$.$$arity=1,$.$$parameters=[["req","ivar"]],$),r).call(a),i.example_group_instance=t},n.$$s=_,n.$$arity=0,n.$$parameters=[],n),r).call(a)},p.$$s=d,p.$$arity=0,p.$$parameters=[],p),c).call(_)).$then,s.$$p=(l=function(){var t=l.$$s||this;if(l.$$is_lambda||l.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"run")}return t.$finish(a)},l.$$s=d,l.$$arity=0,l.$$parameters=[],l),s).call(o)).$ensure,n.$$p=(i=function(r){var a,n;i.$$s;if(null==r&&(r=t),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return a=[t],n=u.get("RSpec"),n["$current_example="].apply(n,a),a[a.length-1],r},i.$$s=d,i.$$arity=1,i.$$parameters=[["req","result"]],i),n).call($)},o.$$arity=2,o.$$parameters=[["req","example_group_instance"],["req","reporter"]]),t&&"run"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules.promise=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,i=(e.breaker,e.slice,e.klass),s=e.hash2;return e.add_stubs(["$resolve","$new","$reject","$attr_reader","$===","$value","$has_key?","$keys","$!","$==","$<<","$>>","$exception?","$[]","$resolved?","$rejected?","$error","$include?","$action","$realized?","$raise","$^","$call","$resolve!","$exception!","$any?","$each","$reject!","$there_can_be_only_one!","$then","$to_proc","$fail","$always","$trace","$class","$object_id","$+","$inspect","$act?","$nil?","$prev","$push","$concat","$it","$proc","$reverse","$pop","$<=","$length","$shift","$-","$wait","$map","$reduce","$try","$tap","$all?","$find"]),function(n,$super){function o(){}var l,c,u,_,p,d,h,f,m,g,b,v,y,x,k,w,q,S,E,R,O,M,A,z,j,T,I,C,P,N=o=i(n,$super,"Promise",o),F=N.$$proto,D=N.$$scope;return F.value=F.action=F.exception=F.realized=F.next=F.delayed=F.error=F.prev=$,e.defs(N,"$value",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"value"),r.$new().$resolve(t)},l.$$arity=1,l.$$parameters=[["req","value"]]),e.defs(N,"$error",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"error"),r.$new().$reject(t)},c.$$arity=1,c.$$parameters=[["req","value"]]),e.defs(N,"$when",u=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return D.get("When").$new(e)},u.$$arity=-1,u.$$parameters=[["rest","promises"]]),N.$attr_reader("error","prev","next"),e.defn(N,"$initialize",_=function(t){var r=this;null==t&&(t=s([],{}));var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),r.action=t,r.realized=!1,r.exception=!1,r.value=$,r.error=$,r.delayed=!1,r.prev=$,r.next=[]},_.$$arity=-1,_.$$parameters=[["opt","action"]]),e.defn(N,"$value",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"value"),(t=D.get("Promise")["$==="](r.value))===$||null==t||t.$$is_boolean&&1!=t?r.value:r.value.$value()},p.$$arity=0,p.$$parameters=[]),e.defn(N,"$act?",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"act?"),!1!==(t=r.action["$has_key?"]("success"))&&t!==$&&null!=t?t:r.action["$has_key?"]("always")},d.$$arity=0,d.$$parameters=[]),e.defn(N,"$action",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"action"),t.action.$keys()},h.$$arity=0,h.$$parameters=[]),e.defn(N,"$exception?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exception?"),t.exception},f.$$arity=0,f.$$parameters=[]),e.defn(N,"$realized?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"realized?"),t.realized["$!"]()["$!"]()},m.$$arity=0,m.$$parameters=[]),e.defn(N,"$resolved?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"resolved?"),t.realized["$=="]("resolve")},g.$$arity=0,g.$$parameters=[]),e.defn(N,"$rejected?",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rejected?"),t.realized["$=="]("reject")},b.$$arity=0,b.$$parameters=[]),e.defn(N,"$^",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"^"),t["$<<"](r),r["$>>"](t),t},v.$$arity=1,v.$$parameters=[["req","promise"]]),e.defn(N,"$<<",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.prev=t,r},y.$$arity=1,y.$$parameters=[["req","promise"]]),e.defn(N,"$>>",x=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,">>"),i.next["$<<"](t),(r=i["$exception?"]())===$||null==r||r.$$is_boolean&&1!=r?(r=i["$resolved?"]())===$||null==r||r.$$is_boolean&&1!=r?(r=i["$rejected?"]())===$||null==r||r.$$is_boolean&&1!=r||((r=!1!==(a=i.action["$has_key?"]("failure")["$!"]())&&a!==$&&null!=a?a:D.get("Promise")["$==="](function(){return(n=i.delayed)===$||null==n||n.$$is_boolean&&1!=n?i.error:i.delayed["$[]"](0)}()))===$||null==r||r.$$is_boolean&&1!=r?(r=t.$action()["$include?"]("always"))===$||null==r||r.$$is_boolean&&1!=r||t.$reject(function(){return(r=i.delayed)===$||null==r||r.$$is_boolean&&1!=r?i.$error():i.delayed["$[]"](0)}()):t.$reject(function(){return(r=i.delayed)===$||null==r||r.$$is_boolean&&1!=r?i.$error():i.delayed["$[]"](0)}())):t.$resolve(function(){return(r=i.delayed)===$||null==r||r.$$is_boolean&&1!=r?i.$value():i.delayed["$[]"](0)}()):t.$reject(i.delayed["$[]"](0)),i},x.$$arity=1,x.$$parameters=[["req","promise"]]),e.defn(N,"$resolve",k=function(t){var r,a,n=this,i=$,s=$;null==t&&(t=$);var o=arguments.length;if(o>1&&e.ac(o,-1,this,"resolve"),(r=n["$realized?"]())===$||null==r||r.$$is_boolean&&1!=r||n.$raise(D.get("ArgumentError"),"the promise has already been realized"),(r=D.get("Promise")["$==="](t))!==$&&null!=r&&(!r.$$is_boolean||1==r))return t["$<<"](n.prev)["$^"](n);try{(r=i=!1!==(a=n.action["$[]"]("success"))&&a!==$&&null!=a?a:n.action["$[]"]("always"))===$||null==r||r.$$is_boolean&&1!=r||(t=i.$call(t)),n["$resolve!"](t)}catch(t){if(!e.rescue(t,[D.get("Exception")]))throw t;s=t;try{n["$exception!"](s)}finally{e.pop_exception()}}return n},k.$$arity=-1,k.$$parameters=[["opt","value"]]),e.defn(N,"$resolve!",w=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"resolve!"),i.realized="resolve",i.value=t,(r=i.next["$any?"]())===$||null==r||r.$$is_boolean&&1!=r?i.delayed=[t]:(r=(a=i.next).$each,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=$),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"resolve!")}return r.$resolve(t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","p"]],n),r).call(a)},w.$$arity=1,w.$$parameters=[["req","value"]]),e.defn(N,"$reject",q=function(t){var r,a,n=this,i=$,s=$;null==t&&(t=$);var o=arguments.length;if(o>1&&e.ac(o,-1,this,"reject"),(r=n["$realized?"]())===$||null==r||r.$$is_boolean&&1!=r||n.$raise(D.get("ArgumentError"),"the promise has already been realized"),(r=D.get("Promise")["$==="](t))!==$&&null!=r&&(!r.$$is_boolean||1==r))return t["$<<"](n.prev)["$^"](n);try{(r=i=!1!==(a=n.action["$[]"]("failure"))&&a!==$&&null!=a?a:n.action["$[]"]("always"))===$||null==r||r.$$is_boolean&&1!=r||(t=i.$call(t)),(r=n.action["$has_key?"]("always"))===$||null==r||r.$$is_boolean&&1!=r?n["$reject!"](t):n["$resolve!"](t)}catch(t){if(!e.rescue(t,[D.get("Exception")]))throw t;s=t;try{n["$exception!"](s)}finally{e.pop_exception()}}return n},q.$$arity=-1,q.$$parameters=[["opt","value"]]),e.defn(N,"$reject!",S=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"reject!"),i.realized="reject",i.error=t,(r=i.next["$any?"]())===$||null==r||r.$$is_boolean&&1!=r?i.delayed=[t]:(r=(a=i.next).$each,r.$$p=(n=function(r){n.$$s;if(null==r&&(r=$),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"reject!")}return r.$reject(t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","p"]],n),r).call(a)},S.$$arity=1,S.$$parameters=[["req","value"]]),e.defn(N,"$exception!",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exception!"),r.exception=!0,r["$reject!"](t)},E.$$arity=1,E.$$parameters=[["req","error"]]),e.defn(N,"$then",R=function(){var t=this,r=R.$$p,a=r||$;R.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"then"),t["$^"](D.get("Promise").$new(s(["success"],{success:a})))},R.$$arity=0,R.$$parameters=[["block","block"]]),e.defn(N,"$then!",O=function(){var t,r,a=this,n=O.$$p,i=n||$;O.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"then!"),a["$there_can_be_only_one!"](),(t=(r=a).$then,t.$$p=i.$to_proc(),t).call(r)},O.$$arity=0,O.$$parameters=[["block","block"]]),e.alias(N,"do","then"),e.alias(N,"do!","then!"),e.defn(N,"$fail",M=function(){var t=this,r=M.$$p,a=r||$;M.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"fail"),t["$^"](D.get("Promise").$new(s(["failure"],{failure:a})))},M.$$arity=0,M.$$parameters=[["block","block"]]),e.defn(N,"$fail!",A=function(){var t,r,a=this,n=A.$$p,i=n||$;A.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"fail!"),a["$there_can_be_only_one!"](),(t=(r=a).$fail,t.$$p=i.$to_proc(),t).call(r)},A.$$arity=0,A.$$parameters=[["block","block"]]),e.alias(N,"rescue","fail"),e.alias(N,"catch","fail"),e.alias(N,"rescue!","fail!"),e.alias(N,"catch!","fail!"),e.defn(N,"$always",z=function(){var t=this,r=z.$$p,a=r||$;z.$$p=null;var n=arguments.length;return 0!==n&&e.ac(n,0,this,"always"),t["$^"](D.get("Promise").$new(s(["always"],{always:a})))},z.$$arity=0,z.$$parameters=[["block","block"]]),e.defn(N,"$always!",j=function(){var t,r,a=this,n=j.$$p,i=n||$;j.$$p=null;var s=arguments.length;return 0!==s&&e.ac(s,0,this,"always!"),a["$there_can_be_only_one!"](),(t=(r=a).$always,t.$$p=i.$to_proc(),t).call(r)},j.$$arity=0,j.$$parameters=[["block","block"]]),e.alias(N,"finally","always"),e.alias(N,"ensure","always"),e.alias(N,"finally!","always!"),e.alias(N,"ensure!","always!"),e.defn(N,"$trace",T=function(t){var r=this,a=T.$$p,n=a||$;null==t&&(t=$),T.$$p=null;var i=arguments.length;return i>1&&e.ac(i,-1,this,"trace"),r["$^"](D.get("Trace").$new(t,n))},T.$$arity=-1,T.$$parameters=[["opt","depth"],["block","block"]]),e.defn(N,"$trace!",I=function(){var t,r,a,n=this,i=I.$$p,s=i||$,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<o;c++)a[c-0]=arguments[c];return I.$$p=null,n["$there_can_be_only_one!"](),(t=(r=n).$trace,t.$$p=s.$to_proc(),t).apply(r,e.to_a(a))},I.$$arity=-1,I.$$parameters=[["rest","args"],["block","block"]]),e.defn(N,"$there_can_be_only_one!",C=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"there_can_be_only_one!"),(t=r.next["$any?"]())===$||null==t||t.$$is_boolean&&1!=t?$:r.$raise(D.get("ArgumentError"),"a promise has already been chained")},C.$$arity=0,C.$$parameters=[]),e.defn(N,"$inspect",P=function(){var r,a=this,n=$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"inspect"),n="#<"+a.$class()+"("+a.$object_id()+")",(r=a.next["$any?"]())===$||null==r||r.$$is_boolean&&1!=r||(n=t(n," >> "+a.next.$inspect())),n=(r=a["$realized?"]())===$||null==r||r.$$is_boolean&&1!=r?t(n,">"):t(n,": "+(!1!==(r=a.value)&&r!==$&&null!=r?r:a.error).$inspect()+">")},P.$$arity=0,P.$$parameters=[]),function(t,$super){function n(){}var o,l,c=n=i(t,$super,"Trace",n),u=(c.$$proto,c.$$scope);e.defs(c,"$it",o=function(t){var r,a,n=this,i=$,s=$,o=arguments.length;return 1!==o&&e.ac(o,1,this,"it"),i=[],(r=!1!==(a=t["$act?"]())&&a!==$&&null!=a?a:t.$prev()["$nil?"]())===$||null==r||r.$$is_boolean&&1!=r||i.$push(t.$value()),(r=s=t.$prev())===$||null==r||r.$$is_boolean&&1!=r?i:i.$concat(n.$it(s))},o.$$arity=1,o.$$parameters=[["req","promise"]]),e.defn(c,"$initialize",l=function(t,n){var i,o,c,_,p,d=this;l.$$p;l.$$p=null;var h=arguments.length;return 2!==h&&e.ac(h,2,this,"initialize"),d.depth=t,(o=d,i=e.find_super_dispatcher(d,"initialize",l,!1),i.$$p=null,i).call(o,s(["success"],{success:(c=(_=d).$proc,c.$$p=(p=function(){var i,s=p.$$s||this,o=$;if(p.$$is_lambda||p.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"initialize")}return o=u.get("Trace").$it(s).$reverse(),o.$pop(),(i=!1!==t&&t!==$&&null!=t?r(t,o.$length()):t)===$||null==i||i.$$is_boolean&&1!=i||o.$shift(a(o.$length(),t)),(i=n).$call.apply(i,e.to_a(o))},p.$$s=d,p.$$arity=0,p.$$parameters=[],p),c).call(_)}))},l.$$arity=2,l.$$parameters=[["req","depth"],["req","block"]])}(D.base,N),function(t,$super){function r(){}var a,n,s,o,l,c,u,_=r=i(t,$super,"When",r),p=_.$$proto,d=_.$$scope;return p.wait=$,e.defn(_,"$initialize",a=function(t){var r,n,i,s,o=this;a.$$p;null==t&&(t=[]),a.$$p=null;var l=arguments.length;return l>1&&e.ac(l,-1,this,"initialize"),(n=o,r=e.find_super_dispatcher(o,"initialize",a,!1),r.$$p=null,r).call(n),o.wait=[],(r=(i=t).$each,r.$$p=(s=function(t){var r=s.$$s||this;if(null==t&&(t=$),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"initialize")}return r.$wait(t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","promise"]],s),r).call(i)},a.$$arity=-1,a.$$parameters=[["opt","promises"]]),e.defn(_,"$each",n=function(){var t,r,a,i=this,s=n.$$p,o=s||$;n.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"each"),!1!==o&&o!==$&&null!=o||i.$raise(d.get("ArgumentError"),"no block given"),(t=(r=i).$then,t.$$p=(a=function(t){var r,n;a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"each")}return(r=(n=t).$each,r.$$p=o.$to_proc(),r).call(n)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","values"]],a),t).call(r)},n.$$arity=0,n.$$parameters=[["block","block"]]),e.defn(_,"$collect",s=function(){var t,r,a,n=this,i=s.$$p,o=i||$;s.$$p=null;var l=arguments.length;return 0!==l&&e.ac(l,0,this,"collect"),!1!==o&&o!==$&&null!=o||n.$raise(d.get("ArgumentError"),"no block given"),(t=(r=n).$then,t.$$p=(a=function(t){var r,n;a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"collect")}return d.get("When").$new((r=(n=t).$map,r.$$p=o.$to_proc(),r).call(n))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","values"]],a),t).call(r)},s.$$arity=0,s.$$parameters=[["block","block"]]),e.defn(_,"$inject",o=function(){var t,r,a,n,i=this,s=o.$$p,l=s||$,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];return o.$$p=null,(t=(r=i).$then,t.$$p=(a=function(t){var r,i;a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"inject")}return(r=(i=t).$reduce,r.$$p=l.$to_proc(),r).apply(i,e.to_a(n))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","values"]],a),t).call(r)},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.alias(_,"map","collect"),e.alias(_,"reduce","inject"),e.defn(_,"$wait",l=function(t){var r,a,n,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"wait"),((r=d.get("Promise")["$==="](t))===$||null==r||r.$$is_boolean&&1!=r)&&(t=d.get("Promise").$value(t)),(r=t["$act?"]())===$||null==r||r.$$is_boolean&&1!=r||(t=t.$then()),i.wait["$<<"](t),(r=(a=t).$always,r.$$p=(n=function(){var t,r=n.$$s||this;if(null==r.next&&(r.next=$),n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"wait")}return(t=r.next["$any?"]())===$||null==t||t.$$is_boolean&&1!=t?$:r.$try()},n.$$s=i,n.$$arity=0,n.$$parameters=[],n),r).call(a),i},l.$$arity=1,l.$$parameters=[["req","promise"]]),e.alias(_,"and","wait"),e.defn(_,"$>>",c=function(){var t,r,a,n,i,s=this,o=c.$$p,l=$,u=$;for(c.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return(t=(r=(i=s,n=e.find_super_dispatcher(s,">>",c,!1),n.$$p=o,n).apply(i,l)).$tap,t.$$p=(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,">>")}return t.$try()},a.$$s=s,a.$$arity=0,a.$$parameters=[],a),t).call(r)},c.$$arity=-1,c.$$parameters=[["rest"]]),e.defn(_,"$try",u=function(){var t,r,a,n,i=this,s=$,o=arguments.length;return 0!==o&&e.ac(o,0,this,"try"),(t=(r=(a=i.wait)["$all?"],r.$$p="realized?".$to_proc(),r).call(a))===$||null==t||t.$$is_boolean&&1!=t?$:(t=s=(r=(n=i.wait).$find,r.$$p="rejected?".$to_proc(),r).call(n))===$||null==t||t.$$is_boolean&&1!=t?i.$resolve((t=(r=i.wait).$map,t.$$p="value".$to_proc(),t).call(r)):i.$reject(s.$error())},u.$$arity=0,u.$$parameters=[]),$&&"try"}(D.base,N)}(n.base,null)},Opal.modules["opal/rspec/async/example_group"]=function(e){var t=e.top,r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$new","$delay","$resolve","$then","$to_proc","$order","$ordering_strategy","$children","$empty?","$value","$inject","$<<","$run","$all?","$wants_to_quit","$world","$top_level?","$clear_remaining_example_groups","$example_group_started","$always","$run_after_context_hooks","$clear","$before_context_ivars","$example_group_finished","$rescue","$is_a?","$for_filtered_examples","$skip_with_exception","$fail_fast?","$wants_to_quit=","$fail_with_exception","$process_descendants","$run_examples","$run_before_context_hooks","$filtered_examples","$lambda","$set_ivars","$!","$[]"]),t.$require("promise"),function(t,$super){function n(){}var $,i,s,o,l,c=n=a(t,$super,"ExampleGroup",n),u=(c.$$proto,c.$$scope);return e.defn(c,"$delay",$=function(t){var a=this,n=$.$$p,i=n||r;$.$$p=null;var s=arguments.length;return 1!==s&&e.ac(s,1,this,"delay"),setTimeout(i,1e3*t),a},$.$$arity=1,$.$$parameters=[["req","duration"],["block","block"]]),e.defn(c,"$delay_with_promise",i=function(t){var a,n,$,s,o=this,l=i.$$p,c=l||r,_=r;i.$$p=null;var p=arguments.length;return 1!==p&&e.ac(p,1,this,"delay_with_promise"),_=u.get("Promise").$new(),(a=(n=o).$delay,a.$$p=($=function(){$.$$s;if($.$$is_lambda||$.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"delay_with_promise")}return _.$resolve()},$.$$s=o,$.$$arity=0,$.$$parameters=[],$),a).call(n,t),(a=(s=_).$then,a.$$p=c.$to_proc(),a).call(s)},i.$$arity=1,i.$$parameters=[["req","duration"],["block","block"]]),e.defs(c,"$process_descendants",s=function(t,a){var n,$,i,s,o,l=this,c=r,_=r,p=r,d=r,h=arguments.length;return 2!==h&&e.ac(h,2,this,"process_descendants"),c=l.$ordering_strategy().$order(l.$children()),(n=c["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?(_=[],p=u.get("Promise").$value(!0),d=(n=($=c).$inject,n.$$p=(i=function(t,n){var $,s,o,l=i.$$s||this;if(null==t&&(t=r),null==n&&(n=r),i.$$is_lambda||i.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"process_descendants")}return($=(s=t).$then,$.$$p=(o=function(t){o.$$s;if(null==t&&(t=r),o.$$is_lambda||o.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"process_descendants")}return _["$<<"](t),n.$run(a)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","result"]],o),$).call(s)},i.$$s=l,i.$$arity=2,i.$$parameters=[["req","previous_promise"],["req","next_descendant"]],i),n).call($,p),(n=(s=d).$then,n.$$p=(o=function(a){o.$$s;if(null==a&&(a=r),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"process_descendants")}return _["$<<"](a),!1!==t&&t!==r&&null!=t?_["$all?"]():t},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","result"]],o),n).call(s)):u.get("Promise").$value(t)},s.$$arity=2,s.$$parameters=[["req","our_examples_result"],["req","reporter"]]),e.defs(c,"$run",o=function(t){var a,n,$,i,s,o,l,c,_,p,d,h,f,m,g,b=this,v=arguments.length;return 1!==v&&e.ac(v,1,this,"run"),(a=u.get("RSpec").$world().$wants_to_quit())===r||null==a||a.$$is_boolean&&1!=a?(t.$example_group_started(b),(a=(n=(i=(s=(l=(c=(p=(d=(f=(m=u.get("Promise").$value(!0)).$then,f.$$p=(g=function(){var t=g.$$s||this;if(g.$$is_lambda||g.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"run")}return t.$run_before_context_hooks(t.$new())},g.$$s=b,g.$$arity=0,g.$$parameters=[],g),f).call(m)).$then,p.$$p=(h=function(){var r=h.$$s||this;if(h.$$is_lambda||h.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"run")}return r.$run_examples(t)},h.$$s=b,h.$$arity=0,h.$$parameters=[],h),p).call(d)).$then,l.$$p=(_=function(a){var n=_.$$s||this;if(null==a&&(a=r),_.$$is_lambda||_.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return n.$process_descendants(a,t)},_.$$s=b,_.$$arity=1,_.$$parameters=[["req","our_examples_result"]],_),l).call(c)).$rescue,i.$$p=(o=function(a){var n,$,i,s,l,c=o.$$s||this;if(null==a&&(a=r),o.$$is_lambda||o.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"run")}return function(){return(n=a["$is_a?"](u.get("Pending").$$scope.get("SkipDeclaredInExample")))===r||null==n||n.$$is_boolean&&1!=n?((n=c["$fail_fast?"]())===r||null==n||n.$$is_boolean&&1!=n||(n=[!0],s=u.get("RSpec").$world(),s["$wants_to_quit="].apply(s,n),n[n.length-1]),(n=(s=c).$for_filtered_examples,n.$$p=(l=function(n){l.$$s;if(null==n&&(n=r),l.$$is_lambda||l.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return n.$fail_with_exception(t,a)},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","example"]],l),n).call(s,t)):(n=($=c).$for_filtered_examples,n.$$p=(i=function(n){i.$$s;if(null==n&&(n=r),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run")}return n.$skip_with_exception(t,a)},i.$$s=c,i.$$arity=1,i.$$parameters=[["req","example"]],i),n).call($,t)}()},o.$$s=b,o.$$arity=1,o.$$parameters=[["req","ex"]],o),i).call(s)).$always,a.$$p=($=function(a){var n=$.$$s||this;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"run")}return n.$run_after_context_hooks(n.$new()),n.$before_context_ivars().$clear(),t.$example_group_finished(n),a},$.$$s=b,$.$$arity=1,$.$$parameters=[["req","result"]],$),a).call(n)):((a=b["$top_level?"]())===r||null==a||a.$$is_boolean&&1!=a||u.get("RSpec").$world().$clear_remaining_example_groups(),r)},o.$$arity=1,o.$$parameters=[["req","reporter"]]),e.defs(c,"$run_examples",l=function(t){var a,n,$,i,s,o,l,c=this,_=r,p=r,d=r,h=r,f=r,m=arguments.length;return 1!==m&&e.ac(m,1,this,"run_examples"),_=c.$ordering_strategy().$order(c.$filtered_examples()),(a=_["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a?(p=(a=(n=c).$lambda,a.$$p=($=function(a){var n,i=$.$$s||this,s=r;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"run_examples")}return(n=u.get("RSpec").$world().$wants_to_quit())===r||null==n||n.$$is_boolean&&1!=n?(s=i.$new(),i.$set_ivars(s,i.$before_context_ivars()),a.$run(s,t)):u.get("Promise").$value(r)},$.$$s=c,$.$$arity=1,$.$$parameters=[["req","example"]],$),a).call(n),d=[],h=u.get("Promise").$value(!0),f=(a=(i=_).$inject,a.$$p=(s=function(t,a){var n,$,i,o=s.$$s||this;if(null==t&&(t=r),null==a&&(a=r),s.$$is_lambda||s.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"run_examples")}return(n=($=t).$then,n.$$p=(i=function(t){var n,$,s=i.$$s||this;if(null==t&&(t=r),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"run_examples")}return $=s["$fail_fast?"](),(n=!1!==$&&$!==r&&null!=$?t["$!"]():$)===r||null==n||n.$$is_boolean&&1!=n||(n=[!0],$=u.get("RSpec").$world(),$["$wants_to_quit="].apply($,n),n[n.length-1]),d["$<<"](t),p["$[]"](a)},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","succeeded"]],i),n).call($)},s.$$s=c,s.$$arity=2,s.$$parameters=[["req","previous_promise"],["req","next_example"]],s),a).call(i,h),(a=(o=f).$then,a.$$p=(l=function(t){var a,n,$=l.$$s||this;if(null==t&&(t=r),l.$$is_lambda||l.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"run_examples")}return n=$["$fail_fast?"](),(a=!1!==n&&n!==r&&null!=n?t["$!"]():n)===r||null==a||a.$$is_boolean&&1!=a||(a=[!0],n=u.get("RSpec").$world(),n["$wants_to_quit="].apply(n,a),a[a.length-1]),d["$<<"](t),d["$all?"]()},l.$$s=c,l.$$arity=1,l.$$parameters=[["req","succeeded"]],l),a).call(o)):u.get("Promise").$value(!0)},l.$$arity=1,l.$$parameters=[["req","reporter"]]),r&&"run_examples"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/async/hooks"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$inject","$then","$run","$value","$hooks"]),function(t,$super){function n(){}var $,i=n=a(t,$super,"HookCollection",n),s=(i.$$proto,i.$$scope);return e.defn(i,"$run",$=function(){var t,a,n,$=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"run"),(t=(a=$.$hooks()).$inject,t.$$p=(n=function(t,a){var $,i,o,l=n.$$s||this;if(null==t&&(t=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"run")}return($=(i=t).$then,$.$$p=(o=function(){var t=o.$$s||this,n=r;if(null==t.example&&(t.example=r),o.$$is_lambda||o.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"run")}return n=a.$run(t.example),s.get("Promise").$value(n)},o.$$s=l,o.$$arity=0,o.$$parameters=[],o),$).call(i)},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","previous_hook_promise"],["req","next_hook"]],n),t).call(a,s.get("Promise").$value(!0))
},$.$$arity=0,$.$$parameters=[]),r&&"run"}(t.get("RSpec").$$scope.get("Core").$$scope.get("Hooks"),null)},Opal.modules["opal/rspec/async/legacy"]=function(e){var t=(e.top,e),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,$=e.klass;return e.add_stubs(["$build_hash_from","$update","$<<","$examples","$new","$last","$attr_accessor","$extend","$async","$to_proc","$instance_eval","$resolve","$legacy_promise","$reject","$lambda","$legacy_promise=","$instance_exec"]),function(t){var $,i=$=a(t,"Opal"),s=(i.$$proto,i.$$scope);!function(t){var $,i=$=a(t,"RSpec"),s=(i.$$proto,i.$$scope);!function(t){var $,i,s,o,l=$=a(t,"AsyncHelpers"),c=(l.$$proto,l.$$scope);!function(t){var $,i,s=$=a(t,"ClassMethods"),o=(s.$$proto,s.$$scope);e.defn(s,"$async",i=function(t){var a,$=this,s=i.$$p,l=s||r,c=r,u=arguments.length,_=u-1;_<0&&(_=0),a=new Array(_);for(var p=1;p<u;p++)a[p-1]=arguments[p];i.$$p=null;var d=arguments.length;return d<1&&e.ac(d,-2,this,"async"),c=e.get("RSpec").$$scope.get("Core").$$scope.get("Metadata").$build_hash_from(a),!1!==l&&l!==r&&null!=l||c.$update(n(["skip"],{skip:e.get("RSpec").$$scope.get("Core").$$scope.get("Pending").$$scope.get("NOT_YET_IMPLEMENTED")})),$.$examples()["$<<"](o.get("Opal").$$scope.get("RSpec").$$scope.get("LegacyAsyncExample").$new($,t,c,l)),$.$examples().$last()},i.$$arity=-2,i.$$parameters=[["req","desc"],["rest","args"],["block","block"]])}(c.base),l.$attr_accessor("legacy_promise"),e.defs(l,"$included",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"included"),t.$extend(c.get("ClassMethods"))},i.$$arity=1,i.$$parameters=[["req","base"]]),e.defn(l,"$run_async",s=function(){var t,a,n=this,$=s.$$p,i=$||r;s.$$p=null;var o=arguments.length;return 0!==o&&e.ac(o,0,this,"run_async"),(t=(a=n).$async,t.$$p=i.$to_proc(),t).call(a)},s.$$arity=0,s.$$parameters=[["block","block"]]),e.defn(l,"$async",o=function(){var t,a,n=this,$=o.$$p,i=$||r,s=r;o.$$p=null;var l=arguments.length;0!==l&&e.ac(l,0,this,"async");try{return(t=(a=n).$instance_eval,t.$$p=i.$to_proc(),t).call(a),n.$legacy_promise().$resolve()}catch(t){if(!e.rescue(t,[c.get("Exception")]))throw t;s=t;try{return n.$legacy_promise().$reject(s)}finally{e.pop_exception()}}},o.$$arity=0,o.$$parameters=[["block","block"]])}(s.base)}(s.base)}(t.base),function(t,$super){function a(){}var n,i=a=$(t,$super,"LegacyAsyncExample",a),s=(i.$$proto,i.$$scope);return e.defn(i,"$initialize",n=function(t,a,$,i){var o,l,c,u,_=this,p=(n.$$p,r);null==i&&(i=r),n.$$p=null;var d=arguments.length;return(d<3||d>4)&&e.ac(d,-4,this,"initialize"),p=(o=(l=_).$lambda,o.$$p=(c=function(t){var a,n,$=c.$$s||this;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"initialize")}return a=[s.get("Promise").$new()],n=$,n["$legacy_promise="].apply(n,a),a[a.length-1],(a=(n=$).$instance_exec,a.$$p=i.$to_proc(),a).call(n,t),$.$legacy_promise()},c.$$s=_,c.$$arity=1,c.$$parameters=[["req","example"]],c),o).call(l),(u=_,o=e.find_super_dispatcher(_,"initialize",n,!1),o.$$p=null,o).call(u,t,a,$,p)},n.$$arity=-4,n.$$parameters=[["req","example_group_class"],["req","description"],["req","user_metadata"],["opt","example_block"]]),r&&"initialize"}(t.get("Opal").$$scope.get("RSpec"),e.get("RSpec").$$scope.get("Core").$$scope.get("Example"))},Opal.modules["opal/rspec/async/reporter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$start","$ensure","$finish"]),function(a,$super){function n(){}var $,i=n=r(a,$super,"Reporter",n);i.$$proto,i.$$scope;return e.defn(i,"$report_async",$=function(r){var a,n,i,s=this,o=$.$$p,l=o||t;$.$$p=null;var c=arguments.length;return 1!==c&&e.ac(c,1,this,"report_async"),s.$start(r),(a=(n=e.yield1(l,s)).$ensure,a.$$p=(i=function(r){var a=i.$$s||this;if(null==r&&(r=t),i.$$is_lambda||i.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"report_async")}return a.$finish(),r},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","result"]],i),a).call(n)},$.$$arity=1,$.$$parameters=[["req","expected_example_count"]]),t&&"report_async"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/async"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/rspec/async/async_example"),t.$require("opal/rspec/async/example_group"),t.$require("opal/rspec/async/hooks"),t.$require("opal/rspec/async/legacy"),t.$require("opal/rspec/async/reporter")},Opal.modules["opal/rspec"]=function(e){var t,r,a,n=e.top,$=e,i=e.nil;e.breaker,e.slice;return e.add_stubs(["$require","$configure","$default_formatter=","$non_browser?","$get_opal_closed_tty_io","$output_stream=","$expect_with","$syntax=","$include"]),n.$require("opal/rspec/pre_require_fixes"),n.$require("opal/rspec/requires"),n.$require("opal/rspec/fixes"),n.$require("opal/rspec/formatter/browser_formatter"),n.$require("opal/rspec/runner"),n.$require("opal/rspec/async"),(t=(r=$.get("RSpec")).$configure,t.$$p=(a=function(t){var r,n,s,o,l=a.$$s||this,c=i;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"<main>")}return r=[function(){return(s=e.get("RSpec").$$scope.get("Core").$$scope.get("Runner")["$non_browser?"]())===i||null==s||s.$$is_boolean&&1!=s?e.get("Opal").$$scope.get("RSpec").$$scope.get("BrowserFormatter"):e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ProgressFormatter")}()],n=t,n["$default_formatter="].apply(n,r),r[r.length-1],n=e.get("RSpec").$$scope.get("Core").$$scope.get("Runner").$get_opal_closed_tty_io(),r=e.to_ary(n),null==r[0]?i:r[0],c=null==r[1]?i:r[1],r=[c],n=t,n["$output_stream="].apply(n,r),r[r.length-1],(r=(n=t).$expect_with,r.$$p=(o=function(t){var r,a;o.$$s;if(null==t&&(t=i),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return r=[["should","expect"]],a=t,a["$syntax="].apply(a,r),r[r.length-1]},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","c"]],o),r).call(n,"rspec"),t.$include($.get("Opal").$$scope.get("RSpec").$$scope.get("AsyncHelpers"))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","config"]],a),t).call(r)},Opal.modules["opal-rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/rspec")},Opal.modules.rspec_results=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal"),t.$require("opal-rspec")};