(function(e){function t(){}function r(){}function a(){}function n(){}function i(){}function $(e,t){if(e)return e.$$const[t]}function s(e,t){var r,a,n;if(0!==e.length)for(r=0,a=e.length;r<a;r++)if(null!=(n=e[r].$$const[t]))return n}function o(e,t){var r,a,n;if(null!=e)for(n=y.ancestors(e),r=0,a=n.length;r<a;r++)if(n[r].$$const&&x.call(n[r].$$const,t))return n[r].$$const[t]}function c(e,t){if(null==e||e.$$is_module)return o(m,t)}function _(e,t,r){if(!r)return(e||m).$const_missing(t)}function l(e,t){var r,a,n=t.$instance_methods();for(r=n.length-1;r>=0;r--)a="$"+n[r],y.bridge_method(e,t,a,t.$$proto[a])}function u(e,t){var r=t.$__id__();b[r]||(b[r]=[]),b[r].push(e)}var p,d=this;if("undefined"!=typeof global&&(d=global),"undefined"!=typeof window&&(d=window),p="object"==typeof d.console?d.console:null==d.console?d.console={}:{},"log"in p||(p.log=function(){}),"warn"in p||(p.warn=p.log),"undefined"!=typeof this.Opal)return p.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var f,h,m,g,v,y=this.Opal={},b={};y.global=d,d.Opal=y,y.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var x=Object.hasOwnProperty,k=(y.slice=Array.prototype.slice,4),q=k;y.uid=function(){return q+=2},y.id=function(e){return e.$$is_number?2*e+1:e.$$id||(e.$$id=y.uid())},y.gvars={},y.exit=function(e){y.gvars.DEBUG&&p.log("Exited with status "+e)},y.exceptions=[],y.pop_exception=function(){y.gvars["!"]=y.exceptions.pop()||f},y.inspect=function(t){return t===e?"undefined":null===t?"null":t.$$class?t.$inspect():t.toString()},y.truthy=function(e){return e!==f&&null!=e&&(!e.$$is_boolean||1==e)},y.falsy=function(e){return e===f||null==e||e.$$is_boolean&&0==e},y.const_get_local=function(e,t,r){var a;if(null!=e){if("::"===e&&(e=m),!e.$$is_a_module)throw new y.TypeError(e.toString()+" is not a class/module");return null!=(a=$(e,t))?a:(a=_(e,t,r),null!=a?a:void 0)}},y.const_get_qualified=function(e,t,r){var a,n,i,s=y.const_cache_version;if(null!=e){if("::"===e&&(e=m),!e.$$is_a_module)throw new y.TypeError(e.toString()+" is not a class/module");return null==(n=e.$$const_cache)&&(n=e.$$const_cache=Object.create(null)),i=n[t],null==i||i[0]!==s?(null!=(a=$(e,t))||(a=o(e,t)),n[t]=[s,a]):a=i[1],null!=a?a:_(e,t,r)}},y.const_cache_version=1,y.const_get_relative=function(e,t,r){var a,n,i,l=e[0],u=y.const_cache_version;return null==(n=e.$$const_cache)&&(n=e.$$const_cache=Object.create(null)),i=n[t],null==i||i[0]!==u?(null!=(a=$(l,t))||null!=(a=s(e,t))||null!=(a=o(l,t))||(a=c(l,t)),n[t]=[u,a]):a=i[1],null!=a?a:_(l,t,r)},y.const_set=function(e,t,r){return null!=e&&"::"!==e||(e=m),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==f||(r.$$name=t),null==r.$$base_module&&(r.$$base_module=e)),e.$$const=e.$$const||Object.create(null),e.$$const[t]=r,y.const_cache_version++,e===m&&(y[t]=r),r},y.constants=function(e,t){null==t&&(t=!0);var r,a,n,i,$=[e],s={};for(t&&($=$.concat(y.ancestors(e))),t&&e.$$is_module&&($=$.concat([y.Object]).concat(y.ancestors(y.Object))),a=0,n=$.length;a<n&&(r=$[a],e===m||r!=m);a++)for(i in r.$$const)s[i]=!0;return Object.keys(s)},y.const_remove=function(e,t){if(y.const_cache_version++,null!=e.$$const[t]){var r=e.$$const[t];return delete e.$$const[t],r}if(null!=e.$$autoload&&null!=e.$$autoload[t])return delete e.$$autoload[t],f;throw y.NameError.$new("constant "+e+"::"+e.$name()+" not defined")},y.klass=function(e,t,r,a){var n,i,s;if(null==e&&(e=m),e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&(i=t,t=m),n=$(e,r)){if(!n.$$is_class)throw y.TypeError.$new(r+" is not a class");if(t&&n.$$super!==t)throw y.TypeError.$new("superclass mismatch for class "+r);return n}return null==t&&(t=m),s=i||y.boot_class_alloc(r,a,t),n=y.setup_class_object(r,s,t.$$name,t.constructor),n.$$super=t,n.$$parent=t,y.const_set(e,r,n),e[r]=n,i?y.bridge(n,s):t.$inherited&&t.$inherited(n),n},y.boot_class_alloc=function(e,t,r){if(r){var a=function(){};a.prototype=r.$$proto||r.prototype,t.prototype=new a}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},y.setup_module_or_class=function(e){e.$$id=y.uid(),e.$$is_a_module=!0,e.$$inc=[],e.$$name=f,e.$$const=Object.create(null),e.$$cvars=Object.create(null)},y.setup_class_object=function(e,t,r,a){var n=function(){};n.prototype=a.prototype,n.displayName=r;var i=function(){};i.prototype=new n;var $=new i;return y.setup_module_or_class($),$.$$alloc=t,$.$$name=e||f,i.displayName="#<Class:"+(e||"#<Class:"+$.$$id+">")+">",$.$$proto=t.prototype,$.$$proto.$$class=$,$.constructor=i,$.$$is_class=!0,$.$$class=v,$},y.module=function(e,t){var r;if(null==e&&(e=m),e.$$is_class||e.$$is_module||(e=e.$$class),r=$(e,t),null==r&&e===m&&(r=o(m,t)),r){if(!r.$$is_module&&r!==m)throw y.TypeError.$new(t+" is not a module")}else r=y.module_allocate(g),y.const_set(e,t,r);return r},y.module_initialize=function(e,t){if(t!==f){var r=t.$$s;t.$$s=null,t.call(e),t.$$s=r}return f},y.module_allocate=function(e){var t=function(){};t.prototype=e.$$alloc.prototype;var r=function(){};r.prototype=new t;var a=new r,n={};return y.setup_module_or_class(a),a.$$included_in=[],r.displayName="#<Class:#<Module:"+a.$$id+">>",a.$$proto=n,a.constructor=r,a.$$is_module=!0,a.$$class=g,a.$$super=e,a.$$parent=e,a},y.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?y.build_class_singleton_class(e):y.build_object_singleton_class(e)},y.build_class_singleton_class=function(e){var t,r,a;return e.$$meta?e.$$meta:(t=e.constructor,r=e===h?v:y.build_class_singleton_class(e.$$super),a=y.setup_class_object(null,t,r.$$name,r.constructor),a.$$super=r,a.$$parent=r,a.$$is_singleton=!0,a.$$singleton_of=e,e.$$meta=a)},y.build_object_singleton_class=function(e){var t=e.$$class,r="#<Class:#<"+t.$$name+":"+t.$$id+">>",a=y.boot_class_alloc(r,function(){},t),n=y.setup_class_object(r,a,t.$$name,t.constructor);return n.$$super=t,n.$$parent=t,n.$$class=t.$$class,n.$$proto=e,n.$$is_singleton=!0,n.$$singleton_of=e,e.$$meta=n},y.class_variables=function(e){var t,r=y.ancestors(e),a=r.length,n={};for(t=a-1;t>=0;t--){var i=r[t];for(var $ in i.$$cvars)n[$]=i.$$cvars[$]}return n},y.class_variable_set=function(e,t,r){var a,n=y.ancestors(e),i=n.length;for(a=i-2;a>=0;a--){var $=n[a];if(x.call($.$$cvars,t))return $.$$cvars[t]=r,r}return e.$$cvars[t]=r,r},y.bridge_method=function(e,t,r,a){var n,i,$,s;for(n=e.$$bridge.$ancestors(),i=0,s=n.length;i<s&&($=n[i],!x.call($.$$proto,r)||!$.$$proto[r]||$.$$proto[r].$$donated||$.$$proto[r].$$stub||$===t);i++)if($===t){e.prototype[r]=a;break}},y.bridge_methods=function(e,t){var r,a=b[e.$__id__()],n=t.$__id__();if(a)for(b[n]=a.slice(),r=a.length-1;r>=0;r--)l(a[r],t)},y.has_cyclic_dep=function e(t,r,a,n){var i,$,s;for(i=r.length-1;i>=0;i--)if(s=r[i],$=s.$$id,!n[$]){if(n[$]=!0,$===t)return!0;if(e(t,s[a],a,n))return!0}return!1},y.append_features=function(e,t){var r,a,n;for(n=t.$$inc.length-1;n>=0;n--)if(t.$$inc[n]===e)return;if(!t.$$is_class&&y.has_cyclic_dep(t.$$id,[e],"$$inc",{}))throw y.ArgumentError.$new("cyclic include detected");for(y.const_cache_version++,t.$$inc.push(e),e.$$included_in.push(t),y.bridge_methods(t,e),r={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=r,a=e.$instance_methods(),n=a.length-1;n>=0;n--)y.update_includer(e,t,"$"+a[n])},y.stubs={},y.bridge=function(e,r){if(r.$$bridge)throw y.ArgumentError.$new("already bridged");y.stub_subscribers.push(r.prototype);for(var a in y.stubs)a in r.prototype||(r.prototype[a]=y.stub_for(a));r.prototype.$$class=e,r.$$bridge=e;for(var n=e.$ancestors(),i=n.length-1;i>=0;i--)u(r,n[i]),l(r,n[i]);for(var $ in t.prototype){var s=t.prototype[s];!s||!s.$$stub||$ in r.prototype||(r.prototype[$]=s)}return e},y.update_includer=function(e,t,r){var a,n,i,$,s,o,c,_;if(i=e.$$proto[r],a=t.$$proto,n=a[r],!a.hasOwnProperty(r)||n.$$donated||n.$$stub)if(a.hasOwnProperty(r)&&!n.$$stub){for($=t.$$inc,s=0,o=$.length;s<o;s++)$[s]===n.$$donated&&(c=s),$[s]===e&&(_=s);c<=_&&(a[r]=i,a[r].$$donated=e)}else a[r]=i,a[r].$$donated=e;else;t.$$included_in&&y.update_includers(t,r)},y.update_includers=function(e,t){var r,a,n,i;if(i=e.$$included_in)for(r=0,a=i.length;r<a;r++)n=i[r],y.update_includer(e,n,t)},y.ancestors=function(e){for(var t,r,a,n,i=e,$=[];i;){for($.push(i),r=i.$$inc.length-1;r>=0;r--)for(t=y.ancestors(i.$$inc[r]),a=0,n=t.length;a<n;a++)$.push(t[a]);i=i.$$is_singleton&&i.$$singleton_of.$$is_module?i.$$singleton_of.$$super:i.$$is_class?i.$$super:null}return $},y.add_stubs=function(e){var t,r,a,n,i,$=y.stub_subscribers,s=e.length,o=$.length,c=y.stubs;for(r=0;r<s;r++)if(n=e[r],!c.hasOwnProperty(n))for(c[n]=!0,i=y.stub_for(n),a=0;a<o;a++)t=$[a],n in t||(t[n]=i)},y.stub_subscribers=[t.prototype],y.add_stub_for=function(e,t){var r=y.stub_for(t);e[t]=r},y.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var r=new Array(arguments.length),a=0,n=r.length;a<n;a++)r[a]=arguments[a];return this.$method_missing.apply(this,[e.slice(1)].concat(r))}return t.$$stub=!0,t},y.ac=function(e,t,r,a){var n="";throw r.$$is_class||r.$$is_module?n+=r.$$name+".":n+=r.$$class.$$name+"#",n+=a,y.ArgumentError.$new("["+n+"] wrong number of arguments("+e+" for "+t+")")},y.block_ac=function(e,t,r){var a="`block in "+r+"'";throw y.ArgumentError.$new(a+": wrong number of arguments ("+e+" for "+t+")")},y.find_super_dispatcher=function(e,t,r,a,n){var i,$;if(i=n?e.$$is_class||e.$$is_module?n.$$super:e.$$class.$$proto:y.find_obj_super_dispatcher(e,t,r),$=i["$"+t],!a&&$.$$stub&&y.Kernel.$method_missing===e.$method_missing)throw y.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return $},y.find_iter_super_dispatcher=function(e,t,r,a,n){var i=t;if(!r)throw y.RuntimeError.$new("super called outside of method");if(n&&r.$$define_meth)throw y.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(i=r.$$jsid),y.find_super_dispatcher(e,i,r,a)},y.find_obj_super_dispatcher=function(e,t,r){var a=e.$$meta||e.$$class;if(!(a=y.find_owning_class(a,r)))throw new Error("could not find current class for super()");return y.find_super_func(a,"$"+t,r)},y.find_owning_class=function(e,t){for(var r=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==r)&&(!r.$$is_singleton||e!==r.$$singleton_of.$$class)&&e!==r;)e=e.$$parent;return e},y.find_super_func=function(e,t,r){for(var a=e.$$parent;a;){var n=a.$$proto[t];if(n&&n!==r)break;a=a.$$parent}return a.$$proto},y.ret=function(e){throw y.returner.$v=e,y.returner},y.brk=function(e,t){throw t.$v=e,t},y.new_brk=function(){return new Error("unexpected break")},y.yield1=function(e,t){if("function"!=typeof e)throw y.LocalJumpError.$new("no block given");var r=e.$$has_top_level_mlhs_arg,a=e.$$has_trailing_comma_in_args;return(e.length>1||(r||a)&&1===e.length)&&(t=y.to_ary(t)),(e.length>1||a&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},y.yieldX=function(e,t){if("function"!=typeof e)throw y.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var r=new Array(t.length),a=0,n=r.length;a<n;a++)r[a]=t[a];return e.apply(null,r)}return e.apply(null,t)},y.rescue=function(e,t){for(var r=0;r<t.length;r++){var a=t[r];if(a.$$is_array){var n=y.rescue(e,a);if(n)return n}else{if(a===y.JS.Error)return a;if(a["$==="](e))return a}}return null},y.is_a=function(e,t){if(e.$$meta===t||e.$$class===t)return!0;if(e.$$is_number&&t.$$is_number_class)return!0;var r,a,n=y.ancestors(e.$$is_class?y.get_singleton_class(e):e.$$meta||e.$$class);for(r=0,a=n.length;r<a;r++)if(n[r]===t)return!0;return!1},y.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw y.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw y.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},y.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===f)return[e];if(t.$$is_array)return t;throw y.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},y.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===f)return[e];if(t.$$is_array)return t;throw y.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},y.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):y.hash2([],{})},y.kwrestargs=function(e,t){var r=[],a={},n=null,i=e.$$smap;for(n in i)t[n]||(r.push(n),a[n]=i[n]);return y.hash2(r,a)},y.send=function(e,t,r,a){var n="string"==typeof t?e["$"+t]:t;return null!=n?(n.$$p=a,n.apply(e,r)):e.$method_missing.apply(e,[t].concat(r))},y.def=function(e,t,r){e.$$eval||!e.$$is_class&&!e.$$is_module?y.defs(e,t,r):y.defn(e,t,r)},y.defn=function(e,t,r){e.$$proto[t]=r,r.$$owner=e,null==r.displayName&&(r.displayName=t.substr(1)),e.$$is_module&&(y.update_includers(e,t),e.$$module_function&&y.defs(e,t,r));var a=e.$__id__&&!e.$__id__.$$stub&&b[e.$__id__()];if(a)for(var n=a.length-1;n>=0;n--)y.bridge_method(a[n],e,t,r);var i=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||i?i&&i.$singleton_method_added&&!i.$singleton_method_added.$$stub&&i.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),f},y.defs=function(e,t,r){y.defn(y.get_singleton_class(e),t,r)},y.rdef=function(e,t){if(!x.call(e.$$proto,t))throw y.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},y.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw y.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());y.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},y.alias=function(e,t,r){var a,n="$"+t,i="$"+r,$=e.$$proto["$"+r];if(e.$$eval)return y.alias(y.get_singleton_class(e),t,r);if("function"!=typeof $||$.$$stub){for(var s=e.$$super;"function"!=typeof $&&s;)$=s[i],s=s.$$super;if("function"!=typeof $||$.$$stub)throw y.NameError.$new("undefined method `"+r+"' for class `"+e.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),a=function(){var e,t,r,n=a.$$p;for(e=new Array(arguments.length),t=0,r=arguments.length;t<r;t++)e[t]=arguments[t];return null!=n&&(a.$$p=null),y.send(this,$,e,n)},a.displayName=t,a.length=$.length,a.$$arity=$.$$arity,a.$$parameters=$.$$parameters,a.$$source_location=$.$$source_location,a.$$alias_of=$,a.$$alias_name=t,y.defn(e,n,a),e},y.alias_native=function(e,t,r){var a="$"+t,n=e.$$proto[r];if("function"!=typeof n||n.$$stub)throw y.NameError.$new("undefined native method `"+r+"' for class `"+e.$name()+"'");return y.defn(e,a,n),e},y.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},y.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var r,a,n=0,i=e.$$keys,$=e.$$smap,s=i.length;n<s;n++)r=i[n],r.$$is_string?a=$[r]:(a=r.value,r=r.key),y.hash_put(t,r,a)},y.hash_put=function(t,r,a){if(r.$$is_string)return x.call(t.$$smap,r)||t.$$keys.push(r),void(t.$$smap[r]=a);var n,i,$;if(n=t.$$by_identity?y.id(r):r.$hash(),!x.call(t.$$map,n))return i={key:r,key_hash:n,value:a},t.$$keys.push(i),void(t.$$map[n]=i);for(i=t.$$map[n];i;){if(r===i.key||r["$eql?"](i.key)){$=e,i.value=a;break}$=i,i=i.next}$&&(i={key:r,key_hash:n,value:a},t.$$keys.push(i),$.next=i)},y.hash_get=function(e,t){if(t.$$is_string){if(x.call(e.$$smap,t))return e.$$smap[t]}else{var r,a;if(r=e.$$by_identity?y.id(t):t.$hash(),x.call(e.$$map,r))for(a=e.$$map[r];a;){if(t===a.key||t["$eql?"](a.key))return a.value;a=a.next}}},y.hash_delete=function(e,t){var r,a,n=e.$$keys,i=n.length;if(t.$$is_string){if(!x.call(e.$$smap,t))return;for(r=0;r<i;r++)if(n[r]===t){n.splice(r,1);break}return a=e.$$smap[t],delete e.$$smap[t],a}var $=t.$hash();if(x.call(e.$$map,$))for(var s,o=e.$$map[$];o;){if(t===o.key||t["$eql?"](o.key)){for(a=o.value,r=0;r<i;r++)if(n[r]===o){n.splice(r,1);break}return s&&o.next?s.next=o.next:s?delete s.next:o.next?e.$$map[$]=o.next:delete e.$$map[$],a}s=o,o=o.next}},y.hash_rehash=function(t){for(var r,a,n,i=0,$=t.$$keys.length;i<$;i++)if(!t.$$keys[i].$$is_string&&(r=t.$$keys[i].key.$hash())!==t.$$keys[i].key_hash){for(a=t.$$map[t.$$keys[i].key_hash],n=e;a;){if(a===t.$$keys[i]){n&&a.next?n.next=a.next:n?delete n.next:a.next?t.$$map[t.$$keys[i].key_hash]=a.next:delete t.$$map[t.$$keys[i].key_hash];break}n=a,a=a.next}if(t.$$keys[i].key_hash=r,x.call(t.$$map,r)){for(a=t.$$map[r],n=e;a;){if(a===t.$$keys[i]){n=e;break}n=a,a=a.next}n&&(n.next=t.$$keys[i])}else t.$$map[r]=t.$$keys[i]}},y.hash=function(){var e,t,r,a,n,i,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(t=new y.Hash.$$alloc,y.hash_init(t),1===$&&arguments[0].$$is_array){for(e=arguments[0],a=e.length,r=0;r<a;r++){if(2!==e[r].length)throw y.ArgumentError.$new("value not of length 2: "+e[r].$inspect());n=e[r][0],i=e[r][1],y.hash_put(t,n,i)}return t}if(1===$){e=arguments[0];for(n in e)x.call(e,n)&&(i=e[n],y.hash_put(t,n,i));return t}if($%2!=0)throw y.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<$;r+=2)n=arguments[r],i=arguments[r+1],y.hash_put(t,n,i);return t},y.hash2=function(e,t){var r=new y.Hash.$$alloc;return r.$$smap=t,r.$$map=Object.create(null),r.$$keys=e,r},y.range=function(e,t,r){var a=new y.Range.$$alloc;return a.begin=e,a.end=t,a.excl=r,a},y.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},y.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},y.modules={},y.loaded_features=["corelib/runtime"],y.current_dir=".",y.require_table={"corelib/runtime":!0},y.normalize=function(e){var t,r,a=[],n="/";"."!==y.current_dir&&(e=y.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/^\.\//,""),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split(n);for(var i=0,$=t.length;i<$;i++)""!==(r=t[i])&&(".."===r?a.pop():a.push(r));return a.join(n)},y.loaded=function(e){var t,r,a;for(t=0,r=e.length;t<r;t++){if(a=y.normalize(e[t]),y.require_table[a])return;y.loaded_features.push(a),y.require_table[a]=!0}},y.load=function(e){e=y.normalize(e),y.loaded([e]);var t=y.modules[e];if(t)t(y);else{var r=y.config.missing_require_severity,a="cannot load such file -- "+e;"error"===r?y.LoadError?y.LoadError.$new(a):function(){throw a}():"warning"===r&&p.warn("WARNING: LoadError: "+a)}return!0},y.require=function(e){return e=y.normalize(e),!y.require_table[e]&&y.load(e)},y.boot_class_alloc("BasicObject",t),y.boot_class_alloc("Object",r,t),y.boot_class_alloc("Module",n,r),y.boot_class_alloc("Class",a,n),y.BasicObject=h=y.setup_class_object("BasicObject",t,"Class",a),y.Object=m=y.setup_class_object("Object",r,"BasicObject",h.constructor),y.Module=g=y.setup_class_object("Module",n,"Object",m.constructor),y.Class=v=y.setup_class_object("Class",a,"Module",g.constructor),h.$$const.BasicObject=h,y.const_set(m,"BasicObject",h),y.const_set(m,"Object",m),y.const_set(m,"Module",g),y.const_set(m,"Class",v),h.$$class=v,m.$$class=v,g.$$class=v,v.$$class=v,h.$$super=null,m.$$super=h,g.$$super=m,v.$$super=g,h.$$parent=null,m.$$parent=h,g.$$parent=m,v.$$parent=g,m.$$proto.toString=function(){var e=this.$to_s();return e.$$is_string&&"object"==typeof e?e.valueOf():e},m.$$proto.$require=y.require,y.top=new m.$$alloc,y.klass(m,m,"NilClass",i),f=y.nil=new i,f.$$id=k,f.call=f.apply=function(){throw y.LocalJumpError.$new("no block given")},y.breaker=new Error("unexpected break (old)"),y.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),"undefined"==typeof OpalLoaded&&(OpalLoaded=[]),OpalLoaded.push("corelib/runtime"),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy;return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(t,i){var $,s,o,c,_,l,u,p,d,f,h,m,g,v,y,b=$=a(t,"Opal"),x=(b.$$proto,[b].concat(i));e.defs(b,"$bridge",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"bridge"),e.bridge(t,r)},s.$$arity=2,s.$$parameters=[["req","klass"],["req","constructor"]]),e.defs(b,"$type_error",o=function(t,a,i,$){var s;null==i&&(i=r),null==$&&($=r);var o=arguments.length;return(o<2||o>4)&&e.ac(o,-3,this,"type_error"),n(n(s=i)?$:s)?e.const_get_relative(x,"TypeError").$new("can't convert "+t.$class()+" into "+a+" ("+t.$class()+"#"+i+" gives "+$.$class()):e.const_get_relative(x,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+a)},o.$$arity=-3,o.$$parameters=[["req","object"],["req","type"],["opt","method"],["opt","coerced"]]),e.defs(b,"$coerce_to",c=function(t,r,a){var i=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"coerce_to"),n(r["$==="](t))?t:(n(t["$respond_to?"](a))||i.$raise(i.$type_error(t,r)),t.$__send__(a))},c.$$arity=3,c.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(b,"$coerce_to!",_=function(t,a,i){var $=this,s=r,o=arguments.length;return 3!==o&&e.ac(o,3,this,"coerce_to!"),s=$.$coerce_to(t,a,i),n(a["$==="](s))||$.$raise($.$type_error(t,a,i,s)),s},_.$$arity=3,_.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(b,"$coerce_to?",l=function(t,a,i){var $=this,s=r,o=arguments.length;return 3!==o&&e.ac(o,3,this,"coerce_to?"),n(t["$respond_to?"](i))?(s=$.$coerce_to(t,a,i),n(s["$nil?"]())?r:(n(a["$==="](s))||$.$raise($.$type_error(t,a,i,s)),s)):r},l.$$arity=3,l.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(b,"$try_convert",u=function(t,a,i){var $=arguments.length;return 3!==$&&e.ac($,3,this,"try_convert"),n(a["$==="](t))?t:n(t["$respond_to?"](i))?t.$__send__(i):r},u.$$arity=3,u.$$parameters=[["req","object"],["req","type"],["req","method"]]),e.defs(b,"$compare",p=function(t,a){var i=this,$=r,s=arguments.length;return 2!==s&&e.ac(s,2,this,"compare"),$=t["$<=>"](a),n($===r)&&i.$raise(e.const_get_relative(x,"ArgumentError"),"comparison of "+t.$class()+" with "+a.$class()+" failed"),$},p.$$arity=2,p.$$parameters=[["req","a"],["req","b"]]),e.defs(b,"$destructure",d=function(t){var r=arguments.length;if(1!==r&&e.ac(r,1,this,"destructure"),1==t.length)return t[0];if(t.$$is_array)return t;for(var a=new Array(t.length),n=0,i=a.length;n<i;n++)a[n]=t[n];return a},d.$$arity=1,d.$$parameters=[["req","args"]]),e.defs(b,"$respond_to?",f=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"respond_to?"),!(null==t||!t.$$class)&&t["$respond_to?"](r)},f.$$arity=2,f.$$parameters=[["req","obj"],["req","method"]]),e.defs(b,"$inspect_obj",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"inspect_obj"),e.inspect(t)},h.$$arity=1,h.$$parameters=[["req","obj"]]),e.defs(b,"$instance_variable_name!",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_variable_name!"),t=e.const_get_relative(x,"Opal")["$coerce_to!"](t,e.const_get_relative(x,"String"),"to_str"),n(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||r.$raise(e.const_get_relative(x,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1,m.$$parameters=[["req","name"]]),e.defs(b,"$class_variable_name!",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"class_variable_name!"),t=e.const_get_relative(x,"Opal")["$coerce_to!"](t,e.const_get_relative(x,"String"),"to_str"),n(t.length<3||"@@"!==t.slice(0,2))&&r.$raise(e.const_get_relative(x,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1,g.$$parameters=[["req","name"]]),e.defs(b,"$const_name!",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"const_name!"),t=e.const_get_relative(x,"Opal")["$coerce_to!"](t,e.const_get_relative(x,"String"),"to_str"),n(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&r.$raise(e.const_get_relative(x,"NameError"),"wrong constant name "+t),t},v.$$arity=1,v.$$parameters=[["req","const_name"]]),e.defs(b,"$pristine",y=function(t){var a,n=arguments.length,i=n-1;i<0&&(i=0),a=new Array(i);for(var $=1;$<n;$++)a[$-1]=arguments[$];var s=arguments.length;s<1&&e.ac(s,-2,this,"pristine");for(var o,c=a.length-1;c>=0;c--)o=a[c],t.$$proto["$"+o].$$pristine=!0;return r},y.$$arity=-2,y.$$parameters=[["req","owner_class"],["rest","method_names"]])}(t[0],t)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var e=this,t=arguments.length;0!==t&&Opal.ac(t,0,this,"allocate");return Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0,TMP_Module_allocate_1.$$parameters=[]),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var e=this,t=TMP_Module_initialize_2.$$p,r=t||nil;t&&(TMP_Module_initialize_2.$$p=null);var a=arguments.length;return 0!==a&&Opal.ac(a,0,this,"initialize"),Opal.module_initialize(e,r)},TMP_Module_initialize_2.$$arity=0,TMP_Module_initialize_2.$$parameters=[["block","block"]]),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"==="),!$truthy(null==e)&&Opal.is_a(e,t)},TMP_Module_$eq$eq$eq_3.$$arity=1,TMP_Module_$eq$eq$eq_3.$$parameters=[["req","object"]]),Opal.defn(self,"$<",TMP_Module_$lt_4=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"<"),$truthy(Opal.const_get_relative($nesting,"Module")["$==="](e))||t.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var a,n,i,$=t;if($===e)return!1;for(n=0,a=Opal.ancestors(t),i=a.length;n<i;n++)if(a[n]===e)return!0;for(n=0,a=Opal.ancestors(e),i=a.length;n<i;n++)if(a[n]===t)return!1;return nil},TMP_Module_$lt_4.$$arity=1,TMP_Module_$lt_4.$$parameters=[["req","other"]]),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,"<="),$truthy(t=r["$equal?"](e))?t:$rb_lt(r,e)},TMP_Module_$lt$eq_5.$$arity=1,TMP_Module_$lt$eq_5.$$parameters=[["req","other"]]),Opal.defn(self,"$>",TMP_Module_$gt_6=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,">"),$truthy(Opal.const_get_relative($nesting,"Module")["$==="](e))||t.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(e,t)},TMP_Module_$gt_6.$$arity=1,TMP_Module_$gt_6.$$parameters=[["req","other"]]),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(e){var t,r=this,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,">="),$truthy(t=r["$equal?"](e))?t:$rb_gt(r,e)},TMP_Module_$gt$eq_7.$$arity=1,TMP_Module_$gt$eq_7.$$parameters=[["req","other"]]),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(e){var t=this,r=nil,a=arguments.length;return 1!==a&&Opal.ac(a,1,this,"<=>"),t===e?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](e))?(r=$rb_lt(t,e),$truthy(r["$nil?"]())?nil:$truthy(r)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1,TMP_Module_$lt$eq$gt_8.$$parameters=[["req","other"]]),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(e,t){var r=this,a=arguments.length;return 2!==a&&Opal.ac(a,2,this,"alias_method"),Opal.alias(r,e,t),r},TMP_Module_alias_method_9.$$arity=2,TMP_Module_alias_method_9.$$parameters=[["req","newname"],["req","oldname"]]),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(e,t){var r=this;null==t&&(t=e);var a=arguments.length;return(a<1||a>2)&&Opal.ac(a,-2,this,"alias_native"),Opal.alias_native(r,e,t),r},TMP_Module_alias_native_10.$$arity=-2,TMP_Module_alias_native_10.$$parameters=[["req","mid"],["opt","jsid"]]),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"ancestors"),Opal.ancestors(e)},TMP_Module_ancestors_11.$$arity=0,TMP_Module_ancestors_11.$$parameters=[]),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"append_features"),Opal.append_features(t,e),t},TMP_Module_append_features_12.$$arity=1,TMP_Module_append_features_12.$$parameters=[["req","includer"]]),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return $send(t,"attr_reader",Opal.to_a(e)),$send(t,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1,TMP_Module_attr_accessor_13.$$parameters=[["rest","names"]]),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=t.$$proto,$=e.length-1;$>=0;$--){var s=e[$],o="$"+s,c=Opal.ivar(s),_=function(e){return function(){return null==this[e]?nil:this[e]}}(c);i[c]=nil,_.$$parameters=[],_.$$arity=0,t.$$is_singleton?i.constructor.prototype[o]=_:Opal.defn(t,o,_)}return nil},TMP_Module_attr_reader_14.$$arity=-1,TMP_Module_attr_reader_14.$$parameters=[["rest","names"]]),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=t.$$proto,$=e.length-1;$>=0;$--){var s=e[$],o="$"+s+"=",c=Opal.ivar(s),_=function(e){return function(t){return this[e]=t}}(c);_.$$parameters=[["req"]],_.$$arity=1,i[c]=nil,t.$$is_singleton?i.constructor.prototype[o]=_:Opal.defn(t,o,_)}return nil},TMP_Module_attr_writer_15.$$arity=-1,TMP_Module_attr_writer_15.$$parameters=[["rest","names"]]),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(e,t){var r=this,a=arguments.length;return 2!==a&&Opal.ac(a,2,this,"autoload"),
null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[e]=t,nil},TMP_Module_autoload_16.$$arity=2,TMP_Module_autoload_16.$$parameters=[["req","const$"],["req","path"]]),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"class_variables"),Object.keys(Opal.class_variables(e))},TMP_Module_class_variables_17.$$arity=0,TMP_Module_class_variables_17.$$parameters=[]),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"class_variable_get"),e=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](e);var a=Opal.class_variables(t)[e];return null==a&&t.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+e+" in "+t,e)),a},TMP_Module_class_variable_get_18.$$arity=1,TMP_Module_class_variable_get_18.$$parameters=[["req","name"]]),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(e,t){var r=this,a=arguments.length;return 2!==a&&Opal.ac(a,2,this,"class_variable_set"),e=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](e),Opal.class_variable_set(r,e,t)},TMP_Module_class_variable_set_19.$$arity=2,TMP_Module_class_variable_set_19.$$parameters=[["req","name"],["req","value"]]),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"class_variable_defined?"),e=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](e),Opal.class_variables(t).hasOwnProperty(e)},TMP_Module_class_variable_defined$q_20.$$arity=1,TMP_Module_class_variable_defined$q_20.$$parameters=[["req","name"]]),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(e){var t=this,r=arguments.length;if(1!==r&&Opal.ac(r,1,this,"remove_class_variable"),e=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](e),Opal.hasOwnProperty.call(t.$$cvars,e)){var a=t.$$cvars[e];return delete t.$$cvars[e],a}t.$raise(Opal.const_get_relative($nesting,"NameError").$new("cannot remove "+e+" for "+t))},TMP_Module_remove_class_variable_21.$$arity=1,TMP_Module_remove_class_variable_21.$$parameters=[["req","name"]]),Opal.defn(self,"$constants",TMP_Module_constants_22=function(e){var t=this;null==e&&(e=!0);var r=arguments.length;return r>1&&Opal.ac(r,-1,this,"constants"),Opal.constants(t,e)},TMP_Module_constants_22.$$arity=-1,TMP_Module_constants_22.$$parameters=[["opt","inherit"]]),Opal.defs(self,"$constants",TMP_Module_constants_23=function(e){var t=this,r=arguments.length;if(r>1&&Opal.ac(r,-1,this,"constants"),null==e){var a,n,i,$=(t.$$nesting||[]).concat(Opal.Object),s={};for(n=0,i=$.length;n<i;n++)for(a in $[n].$$const)s[a]=!0;return Object.keys(s)}return Opal.constants(t,e)},TMP_Module_constants_23.$$arity=-1,TMP_Module_constants_23.$$parameters=[["opt","inherit"]]),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"nesting"),e.$$nesting||[]},TMP_Module_nesting_24.$$arity=0,TMP_Module_nesting_24.$$parameters=[]),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_25=function(e,t){var r=this;null==t&&(t=!0);var a=arguments.length;(a<1||a>2)&&Opal.ac(a,-2,this,"const_defined?"),e=Opal.const_get_relative($nesting,"Opal")["$const_name!"](e),$truthy(e["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+e,e));var n,i,$,s=[r];for(t&&(s=s.concat(Opal.ancestors(r)),r.$$is_module&&(s=s.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,$=s.length;i<$;i++)if(n=s[i],null!=n.$$const[e])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2,TMP_Module_const_defined$q_25.$$parameters=[["req","name"],["opt","inherit"]]),Opal.defn(self,"$const_get",TMP_Module_const_get_27=function(e,t){var r,a=this;null==t&&(t=!0);var n=arguments.length;return(n<1||n>2)&&Opal.ac(n,-2,this,"const_get"),e=Opal.const_get_relative($nesting,"Opal")["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),$truthy(-1!=e.indexOf("::")&&"::"!=e)?$send(e.$split("::"),"inject",[a],(r=function(e,t){r.$$s;if(null==e&&(e=nil),null==t&&(t=nil),r.$$is_lambda||r.$$define_meth){var a=arguments.length;2!==a&&Opal.block_ac(a,2,"const_get")}return e.$const_get(t)},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","o"],["req","c"]],r)):($truthy(e["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||a.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+e,e)),t?Opal.const_get_relative([a],e):Opal.const_get_local(a,e))},TMP_Module_const_get_27.$$arity=-2,TMP_Module_const_get_27.$$parameters=[["req","name"],["opt","inherit"]]),Opal.defn(self,"$const_missing",TMP_Module_const_missing_28=function(e){var t=this,r=nil,a=arguments.length;if(1!==a&&Opal.ac(a,1,this,"const_missing"),t.$$autoload){var n=t.$$autoload[e];if(n)return t.$require(n),t.$const_get(e)}return r=function(){return t["$=="](Opal.const_get_relative($nesting,"Object"))?e:t+"::"+e}(),t.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+r,e))},TMP_Module_const_missing_28.$$arity=1,TMP_Module_const_missing_28.$$parameters=[["req","name"]]),Opal.defn(self,"$const_set",TMP_Module_const_set_29=function(e,t){var r,a=this,n=arguments.length;return 2!==n&&Opal.ac(n,2,this,"const_set"),e=Opal.const_get_relative($nesting,"Opal")["$const_name!"](e),$truthy($truthy(r=e["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?r:e["$start_with?"]("::"))&&a.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+e,e)),Opal.const_set(a,e,t),t},TMP_Module_const_set_29.$$arity=2,TMP_Module_const_set_29.$$parameters=[["req","name"],["req","value"]]),Opal.defn(self,"$public_constant",TMP_Module_public_constant_30=function(){var e=arguments.length;return 1!==e&&Opal.ac(e,1,this,"public_constant"),nil},TMP_Module_public_constant_30.$$arity=1,TMP_Module_public_constant_30.$$parameters=[["req","const_name"]]),Opal.defn(self,"$define_method",TMP_Module_define_method_31=function(e,t){var r,a,n=this,i=TMP_Module_define_method_31.$$p,$=i||nil,s=nil;i&&(TMP_Module_define_method_31.$$p=null);var o=arguments.length;(o<1||o>2)&&Opal.ac(o,-2,this,"define_method"),$truthy(t===undefined&&$===nil)&&n.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block"),$=$truthy(r=$)?r:function(){return s=t,Opal.const_get_relative($nesting,"Proc")["$==="](s)?t:Opal.const_get_relative($nesting,"Method")["$==="](s)?t.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="](s)?$send(n,"lambda",[],(a=function(){var e,r=a.$$s||this,n=nil,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var s=0;s<i;s++)e[s-0]=arguments[s];return n=t.$bind(r),$send(n,"call",Opal.to_a(e))},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"]],a)):n.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)")}();var c="$"+e;return $.$$jsid=e,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(n,c,$),e},TMP_Module_define_method_31.$$arity=-2,TMP_Module_define_method_31.$$parameters=[["req","name"],["opt","method"],["block","block"]]),Opal.defn(self,"$remove_method",TMP_Module_remove_method_33=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=0,$=e.length;i<$;i++)Opal.rdef(t,"$"+e[i]);return t},TMP_Module_remove_method_33.$$arity=-1,TMP_Module_remove_method_33.$$parameters=[["rest","names"]]),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"singleton_class?"),!!e.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0,TMP_Module_singleton_class$q_34.$$parameters=[]),Opal.defn(self,"$include",TMP_Module_include_35=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=e.length-1;i>=0;i--){var $=e[i];$.$$is_module||t.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(t),$.$included(t)}return t},TMP_Module_include_35.$$arity=-1,TMP_Module_include_35.$$parameters=[["rest","mods"]]),Opal.defn(self,"$included_modules",TMP_Module_included_modules_36=function(){var e=this,t=arguments.length;0!==t&&Opal.ac(t,0,this,"included_modules");var r,a=function(e){for(var t=[],r=0,n=e.$$inc.length;r<n;r++){var i=e.$$inc[r];t.push(i),t=t.concat(a(i))}return t};if(r=a(e),e.$$is_class)for(var n=e;n;n=n.$$super)r=r.concat(a(n));return r},TMP_Module_included_modules_36.$$arity=0,TMP_Module_included_modules_36.$$parameters=[]),Opal.defn(self,"$include?",TMP_Module_include$q_37=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"include?"),e.$$is_module||t.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)");var a,n,i,$=Opal.ancestors(t);for(a=0,n=$.length;a<n;a++)if((i=$[a])===e&&i!==t)return!0;return!1},TMP_Module_include$q_37.$$arity=1,TMP_Module_include$q_37.$$parameters=[["req","mod"]]),Opal.defn(self,"$instance_method",TMP_Module_instance_method_38=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"instance_method");var a=t.$$proto["$"+e];return a&&!a.$$stub||t.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),Opal.const_get_relative($nesting,"UnboundMethod").$new(t,a.$$owner||t,a,e)},TMP_Module_instance_method_38.$$arity=1,TMP_Module_instance_method_38.$$parameters=[["req","name"]]),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_39=function(e){var t=this;null==e&&(e=!0);var r=arguments.length;r>1&&Opal.ac(r,-1,this,"instance_methods");var a,n=[],i=t.$$proto;for(var $ in i)if("$"===$.charAt(0)&&"$"!==$.charAt(1)&&"function"==typeof(a=i[$])&&!a.$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&a===Opal.BasicObject.$$proto[$])continue;if(!e&&!i.hasOwnProperty($))continue;if(!e&&a.$$donated)continue}n.push($.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1,TMP_Module_instance_methods_39.$$parameters=[["opt","include_super"]]),Opal.defn(self,"$included",TMP_Module_included_40=function(){var e=arguments.length;return 1!==e&&Opal.ac(e,1,this,"included"),nil},TMP_Module_included_40.$$arity=1,TMP_Module_included_40.$$parameters=[["req","mod"]]),Opal.defn(self,"$extended",TMP_Module_extended_41=function(){var e=arguments.length;return 1!==e&&Opal.ac(e,1,this,"extended"),nil},TMP_Module_extended_41.$$arity=1,TMP_Module_extended_41.$$parameters=[["req","mod"]]),Opal.defn(self,"$method_added",TMP_Module_method_added_42=function(){return nil},TMP_Module_method_added_42.$$arity=-1,TMP_Module_method_added_42.$$parameters=[["rest"]]),Opal.defn(self,"$method_removed",TMP_Module_method_removed_43=function(){return nil},TMP_Module_method_removed_43.$$arity=-1,TMP_Module_method_removed_43.$$parameters=[["rest"]]),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_44=function(){return nil},TMP_Module_method_undefined_44.$$arity=-1,TMP_Module_method_undefined_44.$$parameters=[["rest"]]),Opal.defn(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!0}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;if(TMP_46.$$is_lambda||TMP_46.$$define_meth){var $arity=arguments.length;0!==$arity&&Opal.block_ac($arity,0,"module_eval")}return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46.$$parameters=[],TMP_46))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1,TMP_Module_module_eval_45.$$parameters=[["rest","args"],["block","block"]]),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_47=function(){var e,t=this,r=TMP_Module_module_exec_47.$$p,a=r||nil,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];r&&(TMP_Module_module_exec_47.$$p=null),a===nil&&t.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var s,o=a.$$s;return a.$$s=null,s=a.apply(t,e),a.$$s=o,s},TMP_Module_module_exec_47.$$arity=-1,TMP_Module_module_exec_47.$$parameters=[["rest","args"],["block","block"]]),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_48=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"method_defined?");var a=t.$$proto["$"+e];return!!a&&!a.$$stub},TMP_Module_method_defined$q_48.$$arity=1,TMP_Module_method_defined$q_48.$$parameters=[["req","method"]]),Opal.defn(self,"$module_function",TMP_Module_module_function_49=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];if(0===e.length)t.$$module_function=!0;else for(var i=0,$=e.length;i<$;i++){var s=e[i],o="$"+s,c=t.$$proto[o];Opal.defs(t,o,c)}return t},TMP_Module_module_function_49.$$arity=-1,TMP_Module_module_function_49.$$parameters=[["rest","methods"]]),Opal.defn(self,"$name",TMP_Module_name_50=function(){var e=this,t=arguments.length;if(0!==t&&Opal.ac(t,0,this,"name"),e.$$full_name)return e.$$full_name;for(var r=[],a=e;a;){if(a.$$name===nil||null==a.$$name)return nil;if(r.unshift(a.$$name),(a=a.$$base_module)===Opal.Object)break}return 0===r.length?nil:e.$$full_name=r.join("::")},TMP_Module_name_50.$$arity=0,TMP_Module_name_50.$$parameters=[]),Opal.defn(self,"$remove_const",TMP_Module_remove_const_51=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"remove_const"),Opal.const_remove(t,e)},TMP_Module_remove_const_51.$$arity=1,TMP_Module_remove_const_51.$$parameters=[["req","name"]]),Opal.defn(self,"$to_s",TMP_Module_to_s_52=function(){var e,t=this,r=arguments.length;return 0!==r&&Opal.ac(r,0,this,"to_s"),$truthy(e=Opal.Module.$name.call(t))?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0,TMP_Module_to_s_52.$$parameters=[]),Opal.defn(self,"$undef_method",TMP_Module_undef_method_53=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=0,$=e.length;i<$;i++)Opal.udef(t,"$"+e[i]);return t},TMP_Module_undef_method_53.$$arity=-1,TMP_Module_undef_method_53.$$parameters=[["rest","names"]]),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var e=this,t=nil,r=arguments.length;0!==r&&Opal.ac(r,0,this,"instance_variables"),Opal.Module.$$nesting=$nesting,t=e.$constants();var a=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&a.push("@"+n);return a},TMP_Module_instance_variables_54.$$arity=0,TMP_Module_instance_variables_54.$$parameters=[]),Opal.defn(self,"$dup",TMP_Module_dup_55=function(){var e=this,t=TMP_Module_dup_55.$$p,r=nil,a=nil,n=nil,i=nil;t&&(TMP_Module_dup_55.$$p=null);var $=arguments.length;for(0!==$&&Opal.ac($,0,this,"dup"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return r=$send(e,Opal.find_super_dispatcher(e,"dup",TMP_Module_dup_55,!1),a,t),r.$copy_class_variables(e),r.$copy_constants(e),r},TMP_Module_dup_55.$$arity=0,TMP_Module_dup_55.$$parameters=[]),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"copy_class_variables");for(var a in e.$$cvars)t.$$cvars[a]=e.$$cvars[a]},TMP_Module_copy_class_variables_56.$$arity=1,TMP_Module_copy_class_variables_56.$$parameters=[["req","other"]]),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_57=function(e){var t=this,r=arguments.length;1!==r&&Opal.ac(r,1,this,"copy_constants");var a,n=e.$$const;for(a in n)Opal.const_set(t,a,n[a])},TMP_Module_copy_constants_57.$$arity=1,TMP_Module_copy_constants_57.$$parameters=[["req","other"]]),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,$super,r){function $(){}var s,o,c,_,l,u,p,d=$=n(t,$super,"Class",$),f=(d.$$proto,[d].concat(r));return e.defs(d,"$new",s=function(t){var r=s.$$p,n=r||a;null==t&&(t=e.const_get_relative(f,"Object")),r&&(s.$$p=null);var i=arguments.length;if(i>1&&e.ac(i,-1,this,"new"),!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var $=e.boot_class_alloc(null,function(){},t),o=e.setup_class_object(null,$,t.$$name,t.constructor);return o.$$super=t,o.$$parent=t,t.$inherited(o),e.module_initialize(o,n),o},s.$$arity=-1,s.$$parameters=[["opt","superclass"],["block","block"]]),e.defn(d,"$allocate",o=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"allocate");var a=new t.$$alloc;return a.$$id=e.uid(),a},o.$$arity=0,o.$$parameters=[]),e.defn(d,"$inherited",c=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"inherited"),a},c.$$arity=1,c.$$parameters=[["req","cls"]]),e.defn(d,"$initialize_dup",_=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"initialize_dup"),r.$initialize_copy(t),r.$$name=null,r.$$full_name=null},_.$$arity=1,_.$$parameters=[["req","original"]]),e.defn(d,"$new",l=function(){var t,r=this,n=l.$$p,i=n||a,$=arguments.length,s=$-0;s<0&&(s=0),t=new Array(s);for(var o=0;o<$;o++)t[o-0]=arguments[o];n&&(l.$$p=null);var c=r.$allocate();return e.send(c,c.$initialize,t,i),c},l.$$arity=-1,l.$$parameters=[["rest","args"],["block","block"]]),e.defn(d,"$superclass",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"superclass"),t.$$super||a},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$to_s",p=function(){var t=this,r=p.$$p;r&&(p.$$p=null);var a=arguments.length;0!==a&&e.ac(a,0,this,"to_s");var n=t.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+e.id(n).$to_s(16)+">>":i(t,e.find_super_dispatcher(t,"to_s",p,!1),[],null)},p.$$arity=0,p.$$parameters=[]),a&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(){return nil},TMP_BasicObject_initialize_1.$$arity=-1,TMP_BasicObject_initialize_1.$$parameters=[["rest"]]),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"=="),t===e},TMP_BasicObject_$eq$eq_2.$$arity=1,TMP_BasicObject_$eq$eq_2.$$parameters=[["req","other"]]),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"eql?"),t["$=="](e)},TMP_BasicObject_eql$q_3.$$arity=1,TMP_BasicObject_eql$q_3.$$parameters=[["req","other"]]),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){var e=this,t=arguments.length;return 0!==t&&Opal.ac(t,0,this,"__id__"),e.$$id||(e.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0,TMP_BasicObject___id___4.$$parameters=[]),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(e){var t,r=this,a=TMP_BasicObject___send___5.$$p,n=a||nil,i=arguments.length,$=i-1;$<0&&($=0),t=new Array($);for(var s=1;s<i;s++)t[s-1]=arguments[s];a&&(TMP_BasicObject___send___5.$$p=null);var o=arguments.length;o<1&&Opal.ac(o,-2,this,"__send__");var c=r["$"+e];return c?(n!==nil&&(c.$$p=n),c.apply(r,t)):(n!==nil&&(r.$method_missing.$$p=n),r.$method_missing.apply(r,[e].concat(t)))},TMP_BasicObject___send___5.$$arity=-2,TMP_BasicObject___send___5.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){var e=arguments.length;return 0!==e&&Opal.ac(e,0,this,"!"),!1},TMP_BasicObject_$B_6.$$arity=0,TMP_BasicObject_$B_6.$$parameters=[]),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(e){var t=this,r=arguments.length;return 1!==r&&Opal.ac(r,1,this,"!="),t["$=="](e)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1,TMP_BasicObject_$B$eq_7.$$parameters=[["req","other"]]),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!0}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;if(TMP_9.$$is_lambda||TMP_9.$$define_meth){var $arity=arguments.length;0!==$arity&&Opal.block_ac($arity,0,"instance_eval")}return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9.$$parameters=[],TMP_9))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1,TMP_BasicObject_instance_eval_8.$$parameters=[["rest","args"],["block","block"]]),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(){var e,t=this,r=TMP_BasicObject_instance_exec_10.$$p,a=r||nil,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];r&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(a)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var s,o=a.$$s;if(a.$$s=null,t.$$is_class||t.$$is_module){t.$$eval=!0;try{s=a.apply(t,e)}finally{t.$$eval=!1}}else s=a.apply(t,e);return a.$$s=o,s},TMP_BasicObject_instance_exec_10.$$arity=-1,TMP_BasicObject_instance_exec_10.$$parameters=[["rest","args"],["block","block"]]),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1,TMP_BasicObject_singleton_method_added_11.$$parameters=[["rest"]]),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1,TMP_BasicObject_singleton_method_removed_12.$$parameters=[["rest"]]),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1,TMP_BasicObject_singleton_method_undefined_13.$$parameters=[["rest"]]),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(e){var t,r=this,a=TMP_BasicObject_method_missing_14.$$p,n=arguments.length,i=n-1;i<0&&(i=0),t=new Array(i);for(var $=1;$<n;$++)t[$-1]=arguments[$];a&&(TMP_BasicObject_method_missing_14.$$p=null);var s=arguments.length;return s<1&&Opal.ac(s,-2,this,"method_missing"),Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new(function(){return $truthy(r.$inspect&&!r.$inspect.$$stub)?"undefined method `"+e+"' for "+r.$inspect()+":"+r.$$class:"undefined method `"+e+"' for "+r.$$class}(),e))},TMP_BasicObject_method_missing_14.$$arity=-2,TMP_BasicObject_method_missing_14.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.truthy,s=e.gvars,o=e.hash2,c=e.send,_=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(a,_){var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me,ge,ve,ye,be,xe=l=i(a,"Kernel"),ke=(xe.$$proto,[xe].concat(_));e.defn(xe,"$method_missing",u=function(t){var r,a=this,n=u.$$p,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var s=1;s<i;s++)r[s-1]=arguments[s];n&&(u.$$p=null);var o=arguments.length;return o<1&&e.ac(o,-2,this,"method_missing"),a.$raise(e.const_get_relative(ke,"NoMethodError").$new("undefined method `"+t+"' for "+a.$inspect(),t,r))},u.$$arity=-2,u.$$parameters=[["req","symbol"],["rest","args"],["block","block"]]),e.defn(xe,"$=~",p=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"=~"),!1},p.$$arity=1,p.$$parameters=[["req","obj"]]),e.defn(xe,"$!~",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"!~"),r["$=~"](t)["$!"]()},d.$$arity=1,d.$$parameters=[["req","obj"]]),e.defn(xe,"$===",f=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"==="),$(r=a.$object_id()["$=="](t.$object_id()))?r:a["$=="](t)},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(xe,"$<=>",h=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"<=>"),r.$$comparable=!0;var i=r["$=="](t);return i&&i!==n?0:n},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(xe,"$method",m=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"method");var n=r["$"+t];return n&&!n.$$stub||r.$raise(e.const_get_relative(ke,"NameError").$new("undefined method `"+t+"' for class `"+r.$class()+"'",t)),e.const_get_relative(ke,"Method").$new(r,n.$$owner||r.$class(),n,t)},m.$$arity=1,m.$$parameters=[["req","name"]]),e.defn(xe,"$methods",g=function(t){var r=this;null==t&&(t=!0);var a=arguments.length;a>1&&e.ac(a,-1,this,"methods");var i=[];for(var $ in r)if("$"==$[0]&&"function"==typeof r[$]){if((0==t||t===n)&&!e.hasOwnProperty.call(r,$))continue;r[$].$$stub===undefined&&i.push($.substr(1))}return i},g.$$arity=-1,g.$$parameters=[["opt","all"]]),e.alias(xe,"public_methods","methods"),e.defn(xe,"$Array",v=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"Array");var a;return t===n?[]:t.$$is_array?t:(a=e.const_get_relative(ke,"Opal")["$coerce_to?"](t,e.const_get_relative(ke,"Array"),"to_ary"))!==n?a:(a=e.const_get_relative(ke,"Opal")["$coerce_to?"](t,e.const_get_relative(ke,"Array"),"to_a"),a!==n?a:[t])},v.$$arity=1,v.$$parameters=[["req","object"]]),e.defn(xe,"$at_exit",y=function(){var t,r=y.$$p,a=r||n;null==s.__at_exit__&&(s.__at_exit__=n),r&&(y.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"at_exit"),s.__at_exit__=$(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](a)},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(xe,"$caller",b=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return[]},b.$$arity=-1,b.$$parameters=[["rest","args"]]),e.defn(xe,"$class",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"class"),t.$$class},x.$$arity=0,x.$$parameters=[]),e.defn(xe,"$copy_instance_variables",k=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"copy_instance_variables");var n,i,$,s=Object.keys(t);for(n=0,i=s.length;n<i;n++)$=s[n],"$"!==$.charAt(0)&&t.hasOwnProperty($)&&(r[$]=t[$])},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(xe,"$copy_singleton_methods",q=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"copy_singleton_methods");var n;if(t.hasOwnProperty("$$meta")){var i=e.get_singleton_class(t).$$proto,$=e.get_singleton_class(r).$$proto;for(n in i)"$"===n.charAt(0)&&i.hasOwnProperty(n)&&($[n]=i[n])}for(n in t)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&(r[n]=t[n])},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(xe,"$clone",w=function(t){var r,a=this,i=n;if(null==t||!t.$$is_hash){if(null!=t)throw e.ArgumentError.$new("expected kwargs");t=o([],{})}null==(r=t.$$smap.freeze)&&(r=!0);var $=arguments.length;return $>1&&e.ac($,-1,this,"clone"),i=a.$class().$allocate(),i.$copy_instance_variables(a),i.$copy_singleton_methods(a),i.$initialize_clone(a),i},w.$$arity=-1,w.$$parameters=[["key","freeze"]]),e.defn(xe,"$initialize_clone",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_clone"),r.$initialize_copy(t)},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(xe,"$define_singleton_method",S=function(t,r){var a=this,i=S.$$p,$=i||n;i&&(S.$$p=null);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"define_singleton_method"),c(a.$singleton_class(),"define_method",[t,r],$.$to_proc())},S.$$arity=-2,S.$$parameters=[["req","name"],["opt","method"],["block","block"]]),e.defn(xe,"$dup",M=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.$class().$allocate(),
r.$copy_instance_variables(t),r.$initialize_dup(t),r},M.$$arity=0,M.$$parameters=[]),e.defn(xe,"$initialize_dup",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_dup"),r.$initialize_copy(t)},O.$$arity=1,O.$$parameters=[["req","other"]]),e.defn(xe,"$enum_for",A=function(t){var r,a=this,i=A.$$p,$=i||n;null==t&&(t="each");var s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var _=1;_<s;_++)r[_-1]=arguments[_];return i&&(A.$$p=null),c(e.const_get_relative(ke,"Enumerator"),"for",[a,t].concat(e.to_a(r)),$.$to_proc())},A.$$arity=-1,A.$$parameters=[["opt","method"],["rest","args"],["block","block"]]),e.alias(xe,"to_enum","enum_for"),e.defn(xe,"$equal?",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"equal?"),r===t},R.$$arity=1,R.$$parameters=[["req","other"]]),e.defn(xe,"$exit",z=function(r){var a,i=n;null==s.__at_exit__&&(s.__at_exit__=n),null==r&&(r=!0);var o=arguments.length;for(o>1&&e.ac(o,-1,this,"exit"),s.__at_exit__=$(a=s.__at_exit__)?a:[];$(t(s.__at_exit__.$size(),0));)i=s.__at_exit__.$pop(),i.$call();return r=null==r?0:r.$$is_boolean?r?0:1:r.$$is_numeric?r.$to_i():0,e.exit(r),n},z.$$arity=-1,z.$$parameters=[["opt","status"]]),e.defn(xe,"$extend",j=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];for(var $=r.$singleton_class(),s=t.length-1;s>=0;s--){var o=t[s];o.$$is_module||r.$raise(e.const_get_relative(ke,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features($),o.$extended(r)}return r},j.$$arity=-1,j.$$parameters=[["rest","mods"]]),e.defn(xe,"$format",T=function(t){function r(){I&Y&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"flag after width"),I&X&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"flag after precision")}function a(){I&Y&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"width given twice"),I&X&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"width after precision")}function i(t){return t>=p.length&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"too few arguments"),p[t]}function o(){switch(B){case-1:d.$raise(e.const_get_relative(ke,"ArgumentError"),"unnumbered("+F+") mixed with numbered");case-2:d.$raise(e.const_get_relative(ke,"ArgumentError"),"unnumbered("+F+") mixed with named")}return B=F++,i(B-1)}function c(t){return B>0&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"numbered("+t+") after unnumbered("+B+")"),-2===B&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"numbered("+t+") after named"),t<1&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"invalid index - "+t+"$"),B=-1,i(t-1)}function _(){return T===undefined?o():T}function l(r){for(var a,n="";;b++){if(b===N&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(b)<48||t.charCodeAt(b)>57)return b--,a=parseInt(n,10)||0,a>2147483647&&d.$raise(e.const_get_relative(ke,"ArgumentError"),r+" too big"),a;n+=t.charAt(b)}}function u(e){var r,a=l(e);return"$"===t.charAt(b+1)?(b++,r=c(a)):r=o(),r.$to_int()}var p,d=this,f=n;null==s.DEBUG&&(s.DEBUG=n);var h=arguments.length,m=h-1;m<0&&(m=0),p=new Array(m);for(var g=1;g<h;g++)p[g-1]=arguments[g];var v=arguments.length;v<1&&e.ac(v,-2,this,"format"),$(p.$length()["$=="](1)?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))&&(f=e.const_get_relative(ke,"Opal")["$coerce_to?"](p["$[]"](0),e.const_get_relative(ke,"Array"),"to_ary"),$(f["$nil?"]())||(p=f.$to_a()));var y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C="",P=0,N=t.length,F=1,B=0,D=1,H=2,L=4,U=8,G=16,Y=32,V=64,X=128;for(b=t.indexOf("%");-1!==b;b=t.indexOf("%",b)){switch(k=undefined,I=0,w=-1,E=-1,T=undefined,y=b,b++,t.charAt(b)){case"%":P=b;case"":case"\n":case"\0":b++;continue}e:for(;b<N;b++)switch(t.charAt(b)){case" ":r(),I|=G;continue e;case"#":r(),I|=D;continue e;case"+":r(),I|=L;continue e;case"-":r(),I|=H;continue e;case"0":r(),I|=U;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(S=l("width"),"$"===t.charAt(b+1)){if(b+2===N){k="%",b++;break e}T!==undefined&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"value given twice - %"+S+"$"),T=c(S),b++}else a(),I|=Y,w=S;continue e;case"<":case"{":for(O="<"===t.charAt(b)?">":"}",M="",b++;;b++){if(b===N&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(b)===O){if(B>0&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"named "+M+" after unnumbered("+B+")"),-1===B&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"named "+M+" after numbered"),B=-2,p[0]!==undefined&&p[0].$$is_hash||d.$raise(e.const_get_relative(ke,"ArgumentError"),"one hash required"),T=p[0].$fetch(M),">"===O)continue e;if(k=T.toString(),-1!==E&&(k=k.slice(0,E)),I&H)for(;k.length<w;)k+=" ";else for(;k.length<w;)k=" "+k;break e}M+=t.charAt(b)}case"*":b++,a(),I|=Y,(w=u("width"))<0&&(I|=H,w=-w);continue e;case".":if(I&X&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"precision given twice"),I|=V|X,E=0,b++,"*"===t.charAt(b)){b++,(E=u("precision"))<0&&(I&=~V);continue e}E=l("precision");continue e;case"d":case"i":case"u":if((x=d.$Integer(_()))>=0){for(k=x.toString();k.length<E;)k="0"+k;if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<w;)k+=" ";else if(I&U&&-1===E){for(;k.length<w-(I&L||I&G?1:0);)k="0"+k;(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<w;)k=" "+k}else{for(k=(-x).toString();k.length<E;)k="0"+k;if(I&H)for(k="-"+k;k.length<w;)k+=" ";else if(I&U&&-1===E){for(;k.length<w-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<w;)k=" "+k}break e;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(b)){case"b":case"B":A=2,R="0b",z=/^1+/,j="1";break;case"o":A=8,R="0",z=/^3?7+/,j="7";break;case"x":case"X":A=16,R="0x",z=/^f+/,j="f"}if((x=d.$Integer(_()))>=0){for(k=x.toString(A);k.length<E;)k="0"+k;if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k),I&D&&0!==x&&(k=R+k);k.length<w;)k+=" ";else if(I&U&&-1===E){for(;k.length<w-(I&L||I&G?1:0)-(I&D&&0!==x?R.length:0);)k="0"+k;I&D&&0!==x&&(k=R+k),(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for(I&D&&0!==x&&(k=R+k),(I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<w;)k=" "+k}else if(I&L||I&G){for(k=(-x).toString(A);k.length<E;)k="0"+k;if(I&H)for(I&D&&(k=R+k),k="-"+k;k.length<w;)k+=" ";else if(I&U&&-1===E){for(;k.length<w-1-(I&D?2:0);)k="0"+k;I&D&&(k=R+k),k="-"+k}else for(I&D&&(k=R+k),k="-"+k;k.length<w;)k=" "+k}else{for(k=(x>>>0).toString(A).replace(z,j);k.length<E-2;)k=j+k;if(I&H)for(k=".."+k,I&D&&(k=R+k);k.length<w;)k+=" ";else if(I&U&&-1===E){for(;k.length<w-2-(I&D?R.length:0);)k=j+k;k=".."+k,I&D&&(k=R+k)}else for(k=".."+k,I&D&&(k=R+k);k.length<w;)k=" "+k}t.charAt(b)===t.charAt(b).toUpperCase()&&(k=k.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((x=d.$Float(_()))>=0||isNaN(x)){if(x===Infinity)k="Inf";else switch(t.charAt(b)){case"f":k=x.toFixed(-1===E?6:E);break;case"e":case"E":k=x.toExponential(-1===E?6:E);break;case"g":case"G":k=x.toExponential(),(q=parseInt(k.split("e")[1],10))<-4||q>=(-1===E?6:E)||(k=x.toPrecision(-1===E?I&D?6:undefined:E))}if(I&H)for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<w;)k+=" ";else if(I&U&&x!==Infinity&&!isNaN(x)){for(;k.length<w-(I&L||I&G?1:0);)k="0"+k;(I&L||I&G)&&(k=(I&L?"+":" ")+k)}else for((I&L||I&G)&&(k=(I&L?"+":" ")+k);k.length<w;)k=" "+k}else{if(x===-Infinity)k="Inf";else switch(t.charAt(b)){case"f":k=(-x).toFixed(-1===E?6:E);break;case"e":case"E":k=(-x).toExponential(-1===E?6:E);break;case"g":case"G":k=(-x).toExponential(),(q=parseInt(k.split("e")[1],10))<-4||q>=(-1===E?6:E)||(k=(-x).toPrecision(-1===E?I&D?6:undefined:E))}if(I&H)for(k="-"+k;k.length<w;)k+=" ";else if(I&U&&x!==-Infinity){for(;k.length<w-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<w;)k=" "+k}t.charAt(b)!==t.charAt(b).toUpperCase()||x===Infinity||x===-Infinity||isNaN(x)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":d.$raise(e.const_get_relative(ke,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(x=_(),x["$respond_to?"]("to_ary")&&(x=x.$to_ary()[0]),k=x["$respond_to?"]("to_str")?x.$to_str():String.fromCharCode(e.const_get_relative(ke,"Opal").$coerce_to(x,e.const_get_relative(ke,"Integer"),"to_int")),1!==k.length&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"%c requires a character"),I&H)for(;k.length<w;)k+=" ";else for(;k.length<w;)k=" "+k;break e;case"p":if(k=_().$inspect(),-1!==E&&(k=k.slice(0,E)),I&H)for(;k.length<w;)k+=" ";else for(;k.length<w;)k=" "+k;break e;case"s":if(k=_().$to_s(),-1!==E&&(k=k.slice(0,E)),I&H)for(;k.length<w;)k+=" ";else for(;k.length<w;)k=" "+k;break e;default:d.$raise(e.const_get_relative(ke,"ArgumentError"),"malformed format string - %"+t.charAt(b))}k===undefined&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"malformed format string - %"),C+=t.slice(P,y)+k,P=b+1}return s.DEBUG&&B>=0&&F<p.length&&d.$raise(e.const_get_relative(ke,"ArgumentError"),"too many arguments for format string"),C+t.slice(P)},T.$$arity=-2,T.$$parameters=[["req","format_string"],["rest","args"]]),e.defn(xe,"$hash",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.$__id__()},I.$$arity=0,I.$$parameters=[]),e.defn(xe,"$initialize_copy",C=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"initialize_copy"),n},C.$$arity=1,C.$$parameters=[["req","other"]]),e.defn(xe,"$inspect",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.$to_s()},P.$$arity=0,P.$$parameters=[]),e.defn(xe,"$instance_of?",N=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_of?"),t.$$is_class||t.$$is_module||r.$raise(e.const_get_relative(ke,"TypeError"),"class or module required"),r.$$class===t},N.$$arity=1,N.$$parameters=[["req","klass"]]),e.defn(xe,"$instance_variable_defined?",F=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_variable_defined?"),t=e.const_get_relative(ke,"Opal")["$instance_variable_name!"](t),e.hasOwnProperty.call(r,t.substr(1))},F.$$arity=1,F.$$parameters=[["req","name"]]),e.defn(xe,"$instance_variable_get",B=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"instance_variable_get"),t=e.const_get_relative(ke,"Opal")["$instance_variable_name!"](t);var i=r[e.ivar(t.substr(1))];return null==i?n:i},B.$$arity=1,B.$$parameters=[["req","name"]]),e.defn(xe,"$instance_variable_set",D=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"instance_variable_set"),t=e.const_get_relative(ke,"Opal")["$instance_variable_name!"](t),a[e.ivar(t.substr(1))]=r},D.$$arity=2,D.$$parameters=[["req","name"],["req","value"]]),e.defn(xe,"$remove_instance_variable",H=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"remove_instance_variable"),t=e.const_get_relative(ke,"Opal")["$instance_variable_name!"](t);var n,i=e.ivar(t.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):r.$raise(e.const_get_relative(ke,"NameError"),"instance variable "+t+" not defined")},H.$$arity=1,H.$$parameters=[["req","name"]]),e.defn(xe,"$instance_variables",L=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"instance_variables");var a,n=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&(a="$"===i.substr(-1)?i.slice(0,i.length-1):i,n.push("@"+a));return n},L.$$arity=0,L.$$parameters=[]),e.defn(xe,"$Integer",U=function(t,r){var a=this,i=arguments.length;(i<1||i>2)&&e.ac(i,-2,this,"Integer");var $,s,o;return t.$$is_string?"0"===t?0:(r===undefined?r=0:(1===(r=e.const_get_relative(ke,"Opal").$coerce_to(r,e.const_get_relative(ke,"Integer"),"to_int"))||r<0||r>36)&&a.$raise(e.const_get_relative(ke,"ArgumentError"),"invalid radix "+r),s=t.toLowerCase(),s=s.replace(/(\d)_(?=\d)/g,"$1"),s=s.replace(/^(\s*[+-]?)(0[bodx]?)/,function(n,i,$){switch($){case"0b":if(0===r||2===r)return r=2,i;case"0":case"0o":if(0===r||8===r)return r=8,i;case"0d":if(0===r||10===r)return r=10,i;case"0x":if(0===r||16===r)return r=16,i}a.$raise(e.const_get_relative(ke,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),r=0===r?10:r,o="0-"+(r<=10?r-1:"9a-"+String.fromCharCode(r-11+97)),new RegExp("^\\s*[+-]?["+o+"]+\\s*$").test(s)||a.$raise(e.const_get_relative(ke,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),$=parseInt(s,r),isNaN($)&&a.$raise(e.const_get_relative(ke,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),$):(r!==undefined&&a.$raise(e.const_get_relative(ke,"ArgumentError"),"base specified for non string value"),t===n&&a.$raise(e.const_get_relative(ke,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===Infinity||t===-Infinity||isNaN(t))&&a.$raise(e.const_get_relative(ke,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&($=t.$to_int())!==n?$:e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"Integer"),"to_i"))},U.$$arity=-2,U.$$parameters=[["req","value"],["opt","base"]]),e.defn(xe,"$Float",G=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"Float");var i;return t===n&&r.$raise(e.const_get_relative(ke,"TypeError"),"can't convert nil into Float"),t.$$is_string?(i=t.toString(),i=i.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(i)?r.$Integer(i):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(i)||r.$raise(e.const_get_relative(ke,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(i))):e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"Float"),"to_f")},G.$$arity=1,G.$$parameters=[["req","value"]]),e.defn(xe,"$Hash",Y=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"Hash"),$($(r=t["$nil?"]())?r:t["$=="]([]))?o([],{}):$(e.const_get_relative(ke,"Hash")["$==="](t))?t:e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"Hash"),"to_hash")},Y.$$arity=1,Y.$$parameters=[["req","arg"]]),e.defn(xe,"$is_a?",V=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"is_a?"),t.$$is_class||t.$$is_module||r.$raise(e.const_get_relative(ke,"TypeError"),"class or module required"),e.is_a(r,t)},V.$$arity=1,V.$$parameters=[["req","klass"]]),e.defn(xe,"$itself",X=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"itself"),t},X.$$arity=0,X.$$parameters=[]),e.alias(xe,"kind_of?","is_a?"),e.defn(xe,"$lambda",K=function(){var t=K.$$p,r=t||n;t&&(K.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"lambda"),r.$$is_lambda=!0,r},K.$$arity=0,K.$$parameters=[["block","block"]]),e.defn(xe,"$load",W=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"load"),t=e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"String"),"to_str"),e.load(t)},W.$$arity=1,W.$$parameters=[["req","file"]]),e.defn(xe,"$loop",Z=function(){var t,r=this,a=Z.$$p,i=a||n,s=n;a&&(Z.$$p=null);var o=arguments.length;if(0!==o&&e.ac(o,0,this,"loop"),i===n)return c(r,"enum_for",["loop"],(t=function(){t.$$s;if(t.$$is_lambda||t.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"loop")}return e.const_get_qualified(e.const_get_relative(ke,"Float"),"INFINITY")},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(;$(!0);)try{e.yieldX(i,[])}catch(t){if(!e.rescue(t,[e.const_get_relative(ke,"StopIteration")]))throw t;s=t;try{return s.$result()}finally{e.pop_exception()}}return r},Z.$$arity=0,Z.$$parameters=[]),e.defn(xe,"$nil?",J=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"nil?"),!1},J.$$arity=0,J.$$parameters=[]),e.alias(xe,"object_id","__id__"),e.defn(xe,"$printf",Q=function(){var r,a=this,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<i;o++)r[o-0]=arguments[o];return $(t(r.$length(),0))&&a.$print(c(a,"format",e.to_a(r))),n},Q.$$arity=-1,Q.$$parameters=[["rest","args"]]),e.defn(xe,"$proc",ee=function(){var t=this,r=ee.$$p,a=r||n;r&&(ee.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"proc"),$(a)||t.$raise(e.const_get_relative(ke,"ArgumentError"),"tried to create Proc object without a block"),a.$$is_lambda=!1,a},ee.$$arity=0,ee.$$parameters=[["block","block"]]),e.defn(xe,"$puts",te=function(){var t;null==s.stdout&&(s.stdout=n);var r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var i=0;i<r;i++)t[i-0]=arguments[i];return c(s.stdout,"puts",e.to_a(t))},te.$$arity=-1,te.$$parameters=[["rest","strs"]]),e.defn(xe,"$p",re=function(){var t,a,i=this,o=arguments.length,_=o-0;_<0&&(_=0),a=new Array(_);for(var l=0;l<o;l++)a[l-0]=arguments[l];return c(a,"each",[],(t=function(r){t.$$s;if(null==s.stdout&&(s.stdout=n),null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"p")}return s.stdout.$puts(r.$inspect())},t.$$s=i,t.$$arity=1,t.$$parameters=[["req","obj"]],t)),$(r(a.$length(),1))?a["$[]"](0):a},re.$$arity=-1,re.$$parameters=[["rest","args"]]),e.defn(xe,"$print",ae=function(){var t;null==s.stdout&&(s.stdout=n);var r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var i=0;i<r;i++)t[i-0]=arguments[i];return c(s.stdout,"print",e.to_a(t))},ae.$$arity=-1,ae.$$parameters=[["rest","strs"]]),e.defn(xe,"$warn",ne=function(){var t,r;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var a=arguments.length,i=a-0;i<0&&(i=0),r=new Array(i);for(var o=0;o<a;o++)r[o-0]=arguments[o];return $($(t=s.VERBOSE["$nil?"]())?t:r["$empty?"]())?n:c(s.stderr,"puts",e.to_a(r))},ne.$$arity=-1,ne.$$parameters=[["rest","strs"]]),e.defn(xe,"$raise",ie=function(t,r,a){null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==a&&(a=n);var i=arguments.length;if(i>3&&e.ac(i,-1,this,"raise"),null==t&&s["!"]!==n)throw s["!"];throw null==t?t=e.const_get_relative(ke,"RuntimeError").$new():t.$$is_string?t=e.const_get_relative(ke,"RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(r):t["$kind_of?"](e.const_get_relative(ke,"Exception"))||(t=e.const_get_relative(ke,"TypeError").$new("exception class/object expected")),s["!"]!==n&&e.exceptions.push(s["!"]),s["!"]=t,t},ie.$$arity=-1,ie.$$parameters=[["opt","exception"],["opt","string"],["opt","_backtrace"]]),e.alias(xe,"fail","raise"),e.defn(xe,"$rand",$e=function(t){var r=arguments.length;return r>1&&e.ac(r,-1,this,"rand"),t===undefined?e.const_get_qualified(e.const_get_relative(ke,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=undefined)),e.const_get_qualified(e.const_get_relative(ke,"Random"),"DEFAULT").$rand(t))},$e.$$arity=-1,$e.$$parameters=[["opt","max"]]),e.defn(xe,"$respond_to?",se=function(t,r){var a=this;null==r&&(r=!1);var n=arguments.length;if((n<1||n>2)&&e.ac(n,-2,this,"respond_to?"),$(a["$respond_to_missing?"](t,r)))return!0;var i=a["$"+t];return"function"==typeof i&&!i.$$stub},se.$$arity=-2,se.$$parameters=[["req","name"],["opt","include_all"]]),e.defn(xe,"$respond_to_missing?",oe=function(t,r){null==r&&(r=!1);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"respond_to_missing?"),!1},oe.$$arity=-2,oe.$$parameters=[["req","method_name"],["opt","include_all"]]),e.defn(xe,"$require",ce=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"require"),t=e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"String"),"to_str"),e.require(t)},ce.$$arity=1,ce.$$parameters=[["req","file"]]),e.defn(xe,"$require_relative",_e=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"require_relative"),e.const_get_relative(ke,"Opal")["$try_convert!"](t,e.const_get_relative(ke,"String"),"to_str"),t=e.const_get_relative(ke,"File").$expand_path(e.const_get_relative(ke,"File").$join(e.current_file,"..",t)),e.require(t)},_e.$$arity=1,_e.$$parameters=[["req","file"]]),e.defn(xe,"$require_tree",le=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"require_tree");var a=[];t=e.const_get_relative(ke,"File").$expand_path(t),"."===(t=e.normalize(t))&&(t="");for(var n in e.modules)n["$start_with?"](t)&&a.push([n,e.require(n)]);return a},le.$$arity=1,le.$$parameters=[["req","path"]]),e.alias(xe,"send","__send__"),e.alias(xe,"public_send","__send__"),e.defn(xe,"$singleton_class",ue=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"singleton_class"),e.get_singleton_class(t)},ue.$$arity=0,ue.$$parameters=[]),e.defn(xe,"$sleep",pe=function(t){var r=this;null==t&&(t=n);var a=arguments.length;a>1&&e.ac(a,-1,this,"sleep"),t===n&&r.$raise(e.const_get_relative(ke,"TypeError"),"can't convert NilClass into time interval"),t.$$is_number||r.$raise(e.const_get_relative(ke,"TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&r.$raise(e.const_get_relative(ke,"ArgumentError"),"time interval must be positive");for(var i=e.global.performance?function(){return performance.now()}:function(){return new Date},$=i();i()-$<=1e3*t;);return t},pe.$$arity=-1,pe.$$parameters=[["opt","seconds"]]),e.alias(xe,"sprintf","format"),e.defn(xe,"$srand",de=function(t){null==t&&(t=e.const_get_relative(ke,"Random").$new_seed());var r=arguments.length;return r>1&&e.ac(r,-1,this,"srand"),e.const_get_relative(ke,"Random").$srand(t)},de.$$arity=-1,de.$$parameters=[["opt","seed"]]),e.defn(xe,"$String",fe=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"String"),$(r=e.const_get_relative(ke,"Opal")["$coerce_to?"](t,e.const_get_relative(ke,"String"),"to_str"))?r:e.const_get_relative(ke,"Opal")["$coerce_to!"](t,e.const_get_relative(ke,"String"),"to_s")},fe.$$arity=1,fe.$$parameters=[["req","str"]]),e.defn(xe,"$tap",he=function(){var t=this,r=he.$$p,a=r||n;r&&(he.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"tap"),e.yield1(a,t),t},he.$$arity=0,he.$$parameters=[["block","block"]]),e.defn(xe,"$to_proc",me=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t},me.$$arity=0,me.$$parameters=[]),e.defn(xe,"$to_s",ge=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},ge.$$arity=0,ge.$$parameters=[]),e.defn(xe,"$catch",ve=function(t){var r=this,a=ve.$$p,i=a||n,$=n;a&&(ve.$$p=null);var s=arguments.length;1!==s&&e.ac(s,1,this,"catch");try{return e.yieldX(i,[])}catch(a){if(!e.rescue(a,[e.const_get_relative(ke,"UncaughtThrowError")]))throw a;$=a;try{return $.$sym()["$=="](t)?$.$arg():r.$raise()}finally{e.pop_exception()}}},ve.$$arity=1,ve.$$parameters=[["req","sym"]]),e.defn(xe,"$throw",ye=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return r.$raise(e.const_get_relative(ke,"UncaughtThrowError").$new(t))},ye.$$arity=-1,ye.$$parameters=[["rest","args"]]),e.defn(xe,"$open",be=function(){var t,r=be.$$p,a=r||n,i=arguments.length,$=i-0;$<0&&($=0),t=new Array($);for(var s=0;s<i;s++)t[s-0]=arguments[s];return r&&(be.$$p=null),c(e.const_get_relative(ke,"File"),"open",e.to_a(t),a.$to_proc())},be.$$arity=-1,be.$$parameters=[["rest","args"],["block","block"]])}(a[0],a),function(t,$super,r){function a(){}var n=a=_(t,$super,"Object",a),i=(n.$$proto,[n].concat(r));return n.$include(e.const_get_relative(i,"Kernel"))}(a[0],null,a)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.send,s=e.truthy,o=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(t,$super,r){function a(){}var o,c,_,l,u,p,d,f,h=a=i(t,$super,"Exception",a),m=h.$$proto,g=[h].concat(r);m.message=n;var v=e.const_get_relative(g,"Kernel").$raise;e.defs(h,"$new",o=function(){var t,r=this,a=arguments.length,i=a-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<a;$++)t[$-0]=arguments[$];var s=t.length>0?t[0]:n,o=new r.$$alloc(s);return o.name=r.$$name,o.message=s,e.send(o,o.$initialize,t),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(o,v),o},o.$$arity=-1,o.$$parameters=[["rest","args"]]),e.defs(h,"$exception",c=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return $(r,"new",e.to_a(t))},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(h,"$initialize",_=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var i=0;i<r;i++)e[i-0]=arguments[i];return t.message=e.length>0?e[0]:n},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(h,"$backtrace",l=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"backtrace");var a=t.stack;return"string"==typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},l.$$arity=0,l.$$parameters=[]),e.defn(h,"$exception",u=function(t){var r=this;null==t&&(t=n);var a=arguments.length;if(a>1&&e.ac(a,-1,this,"exception"),t===n||r===t)return r;var i=r.$clone();return i.message=t,i},u.$$arity=-1,u.$$parameters=[["opt","str"]]),e.defn(h,"$message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message"),t.$to_s()},p.$$arity=0,p.$$parameters=[]),e.defn(h,"$inspect",d=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"inspect"),r=t.$to_s(),s(r["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$to_s",f=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"to_s"),s(t=s(r=a.message)?a.message.$to_s():r)?t:a.$class().$to_s()},f.$$arity=0,f.$$parameters=[])}(a[0],Error,a),function(e,$super,t){function r(){}var a=r=i(e,$super,"ScriptError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"SyntaxError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"ScriptError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"LoadError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"ScriptError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"NotImplementedError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"ScriptError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"SystemExit",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"NoMemoryError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"SignalException",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"Interrupt",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"SecurityError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"StandardError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"Exception"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"ZeroDivisionError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"NameError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"NoMethodError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"NameError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"RuntimeError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"LocalJumpError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"TypeError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"ArgumentError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"IndexError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"StopIteration",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"IndexError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"KeyError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"IndexError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"RangeError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"FloatDomainError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"RangeError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"IOError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(e,$super,t){function r(){}var a=r=i(e,$super,"SystemCallError",r);a.$$proto,[a].concat(t)}(a[0],e.const_get_relative(a,"StandardError"),a),function(r,a){var c,_=c=o(r,"Errno"),l=(_.$$proto,[_].concat(a));!function(r,$super,a){function o(){}var c,_=o=i(r,$super,"EINVAL",o);_.$$proto,[_].concat(a);e.defs(_,"$new",c=function(r){var a=this,i=c.$$p,_=n;null==r&&(r=n),i&&(c.$$p=null);var l=arguments.length;return l>1&&e.ac(l,-1,this,"new"),_="Invalid argument",s(r)&&(_=t(_," - "+r)),$(a,e.find_super_dispatcher(a,"new",c,!1,o),[_],null)},c.$$arity=-1,c.$$parameters=[["opt","name"]])}(l[0],e.const_get_relative(l,"SystemCallError"),l)}(a[0],a),function(t,$super,a){function o(){}var c,_=o=i(t,$super,"UncaughtThrowError",o),l=_.$$proto;[_].concat(a);l.sym=n,_.$attr_reader("sym","arg"),e.defn(_,"$initialize",c=function(t){var a=this,n=c.$$p;n&&(c.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),a.sym=t["$[]"](0),s(r(t.$length(),1))&&(a.arg=t["$[]"](1)),$(a,e.find_super_dispatcher(a,"initialize",c,!1),["uncaught throw "+a.sym.$inspect()],null)},c.$$arity=1,c.$$parameters=[["req","args"]])}(a[0],e.const_get_relative(a,"ArgumentError"),a),function(t,$super,r){function a(){}var s,o=a=i(t,$super,"NameError",a);o.$$proto,[o].concat(r);o.$attr_reader("name"),e.defn(o,"$initialize",s=function(t,r){var a=this,i=s.$$p;null==r&&(r=n),i&&(s.$$p=null);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"initialize"),$(a,e.find_super_dispatcher(a,"initialize",s,!1),[t],null),a.name=r},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","name"]])}(a[0],null,a),function(t,$super,r){function a(){}var s,o=a=i(t,$super,"NoMethodError",a);o.$$proto,[o].concat(r);o.$attr_reader("args"),e.defn(o,"$initialize",s=function(t,r,a){var i=this,o=s.$$p;null==r&&(r=n),null==a&&(a=[]),o&&(s.$$p=null);var c=arguments.length;return(c<1||c>3)&&e.ac(c,-2,this,"initialize"),$(i,e.find_super_dispatcher(i,"initialize",s,!1),[t,r],null),i.args=a},s.$$arity=-2,s.$$parameters=[["req","message"],["opt","name"],["opt","args"]])}(a[0],null,a),function(e,$super,t){function r(){}var a=r=i(e,$super,"StopIteration",r);a.$$proto,[a].concat(t);a.$attr_reader("result")}(a[0],null,a),function(e,t){var r,a=r=o(e,"JS"),n=(a.$$proto,[a].concat(t));!function(e,$super,t){function r(){}var a=r=i(e,$super,"Error",r);a.$$proto,[a].concat(t)}(n[0],null,n)}(a[0],a)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,[]);e.nil,e.breaker,e.slice;return e.const_set(t[0],"RUBY_PLATFORM","opal"),e.const_set(t[0],"RUBY_ENGINE","opal"),e.const_set(t[0],"RUBY_VERSION","2.4.0"),e.const_set(t[0],"RUBY_ENGINE_VERSION","0.11.1"),e.const_set(t[0],"RUBY_RELEASE_DATE","2018-07-17"),e.const_set(t[0],"RUBY_PATCHLEVEL",0),e.const_set(t[0],"RUBY_REVISION",0),e.const_set(t[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.const_set(t[0],"RUBY_DESCRIPTION","opal "+e.const_get_relative(t,"RUBY_ENGINE_VERSION")+" ("+e.const_get_relative(t,"RUBY_RELEASE_DATE")+" revision "+e.const_get_relative(t,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.hash2,$=e.truthy;return e.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,$super,s){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S=o=n(r,$super,"NilClass",o),M=S.$$proto,O=[S].concat(s);M.$$meta=S,function(t,r){var a,n=(t.$$proto,[t].concat(r));e.defn(t,"$allocate",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"allocate"),t.$raise(e.const_get_relative(n,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0,a.$$parameters=[]),e.udef(t,"$new")}(e.get_singleton_class(S),O),e.defn(S,"$!",c=function(){var t=arguments.length
;return 0!==t&&e.ac(t,0,this,"!"),!0},c.$$arity=0,c.$$parameters=[]),e.defn(S,"$&",_=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"&"),!1},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(S,"$|",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"|"),!1!==t&&t!==a},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(S,"$^",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"^"),!1!==t&&t!==a},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(S,"$==",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"=="),t===a},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(S,"$dup",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"dup"),a},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$clone",f=function(t){var r;if(null==t||!t.$$is_hash){if(null!=t)throw e.ArgumentError.$new("expected kwargs");t=i([],{})}null==(r=t.$$smap.freeze)&&(r=!0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"clone"),a},f.$$arity=-1,f.$$parameters=[["key","freeze"]]),e.defn(S,"$inspect",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"inspect"),"nil"},h.$$arity=0,h.$$parameters=[]),e.defn(S,"$nil?",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"nil?"),!0},m.$$arity=0,m.$$parameters=[]),e.defn(S,"$singleton_class",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"singleton_class"),e.const_get_relative(O,"NilClass")},g.$$arity=0,g.$$parameters=[]),e.defn(S,"$to_a",v=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_a"),[]},v.$$arity=0,v.$$parameters=[]),e.defn(S,"$to_h",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_h"),e.hash()},y.$$arity=0,y.$$parameters=[]),e.defn(S,"$to_i",b=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_i"),0},b.$$arity=0,b.$$parameters=[]),e.alias(S,"to_f","to_i"),e.defn(S,"$to_s",x=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_s"),""},x.$$arity=0,x.$$parameters=[]),e.defn(S,"$to_c",k=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_c"),e.const_get_relative(O,"Complex").$new(0,0)},k.$$arity=0,k.$$parameters=[]),e.defn(S,"$rationalize",q=function(){var r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var s=0;s<n;s++)r[s-0]=arguments[s];return $(t(r.$length(),1))&&a.$raise(e.const_get_relative(O,"ArgumentError")),a.$Rational(0,1)},q.$$arity=-1,q.$$parameters=[["rest","args"]]),e.defn(S,"$to_r",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t.$Rational(0,1)},w.$$arity=0,w.$$parameters=[]),e.defn(S,"$instance_variables",E=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"instance_variables"),[]},E.$$arity=0,E.$$parameters=[])}(r[0],null,r),e.const_set(r[0],"NIL",a)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.hash2;return e.add_stubs(["$raise","$name"]),function(t,$super,i){function $(){}var s,o,c,_,l,u,p,d,f,h,m=$=a(t,$super,"Boolean",$),g=m.$$proto,v=[m].concat(i);g.$$is_boolean=!0,g.$$meta=m,function(t,r){var a,n=(t.$$proto,[t].concat(r));e.defn(t,"$allocate",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"allocate"),t.$raise(e.const_get_relative(n,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0,a.$$parameters=[]),e.udef(t,"$new")}(e.get_singleton_class(m),v),e.defn(m,"$__id__",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),t.valueOf()?2:0},s.$$arity=0,s.$$parameters=[]),e.alias(m,"object_id","__id__"),e.defn(m,"$!",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"!"),1!=t},o.$$arity=0,o.$$parameters=[]),e.defn(m,"$&",c=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"&"),1==a&&(!1!==t&&t!==r)},c.$$arity=1,c.$$parameters=[["req","other"]]),e.defn(m,"$|",_=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"|"),1==a||!1!==t&&t!==r},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(m,"$^",l=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"^"),1==a?!1===t||t===r:!1!==t&&t!==r},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(m,"$==",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),1==r===t.valueOf()},u.$$arity=1,u.$$parameters=[["req","other"]]),e.alias(m,"equal?","=="),e.alias(m,"eql?","=="),e.defn(m,"$singleton_class",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"singleton_class"),e.const_get_relative(v,"Boolean")},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$to_s",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),1==t?"true":"false"},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$dup",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dup"),t},f.$$arity=0,f.$$parameters=[]),e.defn(m,"$clone",h=function(t){var r,a=this;if(null==t||!t.$$is_hash){if(null!=t)throw e.ArgumentError.$new("expected kwargs");t=n([],{})}null==(r=t.$$smap.freeze)&&(r=!0);var i=arguments.length;return i>1&&e.ac(i,-1,this,"clone"),a},h.$$arity=-1,h.$$parameters=[["key","freeze"]])}(t[0],Boolean,t),e.const_set(t[0],"TrueClass",e.const_get_relative(t,"Boolean")),e.const_set(t[0],"FalseClass",e.const_get_relative(t,"Boolean")),e.const_set(t[0],"TRUE",!0),e.const_set(t[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.truthy;return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(a,s){var o,c,_,l,u,p,d,f,h,m=o=i(a,"Comparable"),g=(m.$$proto,[m].concat(s));e.defs(m,"$normalize",c=function(a){var n=arguments.length;return 1!==n&&e.ac(n,1,this,"normalize"),$(e.const_get_relative(g,"Integer")["$==="](a))?a:$(t(a,0))?1:$(r(a,0))?-1:0},c.$$arity=1,c.$$parameters=[["req","what"]]),e.defn(m,"$==",_=function(t){var r=this,a=n,i=arguments.length;1!==i&&e.ac(i,1,this,"==");try{return!!$(r["$equal?"](t))||r["$<=>"]!=e.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!$(a=r["$<=>"](t))&&0==e.const_get_relative(g,"Comparable").$normalize(a))}catch(t){if(!e.rescue(t,[e.const_get_relative(g,"StandardError")]))throw t;try{return!1}finally{e.pop_exception()}}},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(m,"$>",l=function(t){var r=this,a=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,">"),$(a=r["$<=>"](t))||r.$raise(e.const_get_relative(g,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get_relative(g,"Comparable").$normalize(a)>0},l.$$arity=1,l.$$parameters=[["req","other"]]),e.defn(m,"$>=",u=function(t){var r=this,a=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,">="),$(a=r["$<=>"](t))||r.$raise(e.const_get_relative(g,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get_relative(g,"Comparable").$normalize(a)>=0},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(m,"$<",p=function(t){var r=this,a=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"<"),$(a=r["$<=>"](t))||r.$raise(e.const_get_relative(g,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get_relative(g,"Comparable").$normalize(a)<0},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(m,"$<=",d=function(t){var r=this,a=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"<="),$(a=r["$<=>"](t))||r.$raise(e.const_get_relative(g,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get_relative(g,"Comparable").$normalize(a)<=0},d.$$arity=1,d.$$parameters=[["req","other"]]),e.defn(m,"$between?",f=function(a,n){var i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"between?"),!r(i,a)&&!t(i,n)},f.$$arity=2,f.$$parameters=[["req","min"],["req","max"]]),e.defn(m,"$clamp",h=function(a,i){var s=this,o=n,c=arguments.length;return 2!==c&&e.ac(c,2,this,"clamp"),o=a["$<=>"](i),$(o)||s.$raise(e.const_get_relative(g,"ArgumentError"),"comparison of "+a.$class()+" with "+i.$class()+" failed"),$(t(e.const_get_relative(g,"Comparable").$normalize(o),0))&&s.$raise(e.const_get_relative(g,"ArgumentError"),"min argument must be smaller than max argument"),$(r(e.const_get_relative(g,"Comparable").$normalize(s["$<=>"](a)),0))?a:$(t(e.const_get_relative(g,"Comparable").$normalize(s["$<=>"](i)),0))?i:s},h.$$arity=2,h.$$parameters=[["req","min"],["req","max"]])}(a[0],a)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.send,i=e.truthy,$=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,$super,t){function r(){}var n=r=a(e,$super,"RegexpError",r);n.$$proto,[n].concat(t)}(t[0],e.const_get_relative(t,"StandardError"),t),function(t,$super,s){function o(){}var c,_,l,u,p,d,f,h,m,g,v=o=a(t,$super,"Regexp",o),y=v.$$proto,b=[v].concat(s);e.const_set(b[0],"IGNORECASE",1),e.const_set(b[0],"MULTILINE",4),y.$$is_regexp=!0,function(t,a){var s,o,c,_,l,u=(t.$$proto,[t].concat(a));e.defn(t,"$allocate",s=function(){var t=this,a=s.$$p,i=r,$=r,o=r,c=r;a&&(s.$$p=null);var _=arguments.length;for(0!==_&&e.ac(_,0,this,"allocate"),o=0,c=arguments.length,$=new Array(c);o<c;o++)$[o]=arguments[o];return i=n(t,e.find_super_dispatcher(t,"allocate",s,!1),$,a),i.uninitialized=!0,i},s.$$arity=0,s.$$parameters=[]),e.defn(t,"$escape",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"escape"),e.escape_regexp(t)},o.$$arity=1,o.$$parameters=[["req","string"]]),e.defn(t,"$last_match",c=function(t){null==$["~"]&&($["~"]=r),null==t&&(t=r);var a=arguments.length;return a>1&&e.ac(a,-1,this,"last_match"),i(t["$nil?"]())?$["~"]:$["~"]["$[]"](t)},c.$$arity=-1,c.$$parameters=[["opt","n"]]),e.alias(t,"quote","escape"),e.defn(t,"$union",_=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];var $,s,o,c,_;if(0==t.length)return/(?!)/;$=t[0].$$is_array,t.length>1&&$&&r.$raise(e.const_get_relative(u,"TypeError"),"no implicit conversion of Array into String"),$&&(t=t[0]),c=undefined,s=[];for(var l=0;l<t.length;l++)o=t[l],o.$$is_string?s.push(r.$escape(o)):o.$$is_regexp?(_=o.$options(),c!=undefined&&c!=_&&r.$raise(e.const_get_relative(u,"TypeError"),"All expressions must use the same options"),c=_,s.push("("+o.source+")")):s.push(r.$escape(o.$to_str()));return r.$new(s.$join("|"),c)},_.$$arity=-1,_.$$parameters=[["rest","parts"]]),e.defn(t,"$new",l=function(t,r){var a=this,n=arguments.length;if((n<1||n>2)&&e.ac(n,-2,this,"new"),t.$$is_regexp)return new RegExp(t);if(t=e.const_get_relative(u,"Opal")["$coerce_to!"](t,e.const_get_relative(u,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&a.$raise(e.const_get_relative(u,"RegexpError"),"too short escape sequence: /"+t+"/"),r===undefined||r["$!"]())return new RegExp(t);if(r.$$is_number){var i="";e.const_get_relative(u,"IGNORECASE")&r&&(i+="i"),e.const_get_relative(u,"MULTILINE")&r&&(i+="m"),r=i}else r="i";return new RegExp(t,r)},l.$$arity=-2,l.$$parameters=[["req","regexp"],["opt","options"]])}(e.get_singleton_class(v),b),e.defn(v,"$==",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.constructor==RegExp&&r.toString()===t.toString()},c.$$arity=1,c.$$parameters=[["req","other"]]),e.defn(v,"$===",_=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"==="),a.$match(e.const_get_relative(b,"Opal")["$coerce_to?"](t,e.const_get_relative(b,"String"),"to_str"))!==r},_.$$arity=1,_.$$parameters=[["req","string"]]),e.defn(v,"$=~",l=function(t){var a,n=this;null==$["~"]&&($["~"]=r);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"=~"),i(a=n.$match(t))?$["~"].$begin(0):a},l.$$arity=1,l.$$parameters=[["req","string"]]),e.alias(v,"eql?","=="),e.defn(v,"$inspect",u=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");var a=/^\/(.*)\/([^\/]*)$/,n=t.toString(),i=a.exec(n);if(i){for(var $=i[1],s=i[2],o=$.split(""),c=o.length,_=!1,l="",u=0;u<c;u++){var p=o[u];_||"/"!=p||(l=l.concat("\\")),l=l.concat(p),_="\\"==p&&!_}return"/"+l+"/"+s}return n},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$match",p=function(t,a){var n=this,i=p.$$p,s=i||r;null==$["~"]&&($["~"]=r),i&&(p.$$p=null);var o=arguments.length;if((o<1||o>2)&&e.ac(o,-2,this,"match"),n.uninitialized&&n.$raise(e.const_get_relative(b,"TypeError"),"uninitialized Regexp"),a=a===undefined?0:e.const_get_relative(b,"Opal").$coerce_to(a,e.const_get_relative(b,"Integer"),"to_int"),t===r)return $["~"]=r;if(t=e.const_get_relative(b,"Opal").$coerce_to(t,e.const_get_relative(b,"String"),"to_str"),a<0&&(a+=t.length)<0)return $["~"]=r;var c=n.source,_="g";n.multiline&&(c=c.replace(".","[\\s\\S]"),_+="m");for(var l,u=new RegExp(c,_+(n.ignoreCase?"i":""));;){if(null===(l=u.exec(t)))return $["~"]=r;if(l.index>=a)return $["~"]=e.const_get_relative(b,"MatchData").$new(u,l),s===r?$["~"]:s.$call($["~"]);u.lastIndex=l.index+1}},p.$$arity=-2,p.$$parameters=[["req","string"],["opt","pos"],["block","block"]]),e.defn(v,"$match?",d=function(t,a){var n=this,i=arguments.length;if((i<1||i>2)&&e.ac(i,-2,this,"match?"),n.uninitialized&&n.$raise(e.const_get_relative(b,"TypeError"),"uninitialized Regexp"),a=a===undefined?0:e.const_get_relative(b,"Opal").$coerce_to(a,e.const_get_relative(b,"Integer"),"to_int"),t===r)return!1;if(t=e.const_get_relative(b,"Opal").$coerce_to(t,e.const_get_relative(b,"String"),"to_str"),a<0&&(a+=t.length)<0)return!1;var $=n.source,s="g";n.multiline&&($=$.replace(".","[\\s\\S]"),s+="m");var o;return!(null===(o=new RegExp($,s+(n.ignoreCase?"i":"")).exec(t))||o.index<a)},d.$$arity=-2,d.$$parameters=[["req","string"],["opt","pos"]]),e.defn(v,"$~",f=function(){var t=this;null==$._&&($._=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"~"),t["$=~"]($._)},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$source",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"source"),t.source},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$options",m=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"options"),t.uninitialized&&t.$raise(e.const_get_relative(b,"TypeError"),"uninitialized Regexp");var a=0;return t.multiline&&(a|=e.const_get_relative(b,"MULTILINE")),t.ignoreCase&&(a|=e.const_get_relative(b,"IGNORECASE")),a},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$casefold?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"casefold?"),t.ignoreCase},g.$$arity=0,g.$$parameters=[]),e.alias(v,"to_s","source")}(t[0],RegExp,t),function(t,$super,s){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b=o=a(t,$super,"MatchData",o),x=b.$$proto,k=[b].concat(s);return x.matches=r,b.$attr_reader("post_match","pre_match","regexp","string"),e.defn(b,"$initialize",c=function(t,a){var n=this,i=arguments.length;2!==i&&e.ac(i,2,this,"initialize"),$["~"]=n,n.regexp=t,n.begin=a.index,n.string=a.input,n.pre_match=a.input.slice(0,a.index),n.post_match=a.input.slice(a.index+a[0].length),n.matches=[];for(var s=0,o=a.length;s<o;s++){var c=a[s];null==c?n.matches.push(r):n.matches.push(c)}},c.$$arity=2,c.$$parameters=[["req","regexp"],["req","match_groups"]]),e.defn(b,"$[]",_=function(){var t,r=this,a=arguments.length,i=a-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<a;$++)t[$-0]=arguments[$];return n(r.matches,"[]",e.to_a(t))},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(b,"$offset",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"offset"),0!==t&&r.$raise(e.const_get_relative(k,"ArgumentError"),"MatchData#offset only supports 0th element"),[r.begin,r.begin+r.matches[t].length]},l.$$arity=1,l.$$parameters=[["req","n"]]),e.defn(b,"$==",u=function(t){var r,a,n,$,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"=="),!!i(e.const_get_relative(k,"MatchData")["$==="](t))&&(i(r=i(a=i(n=i($=s.string==t.string)?s.regexp.toString()==t.regexp.toString():$)?s.pre_match==t.pre_match:n)?s.post_match==t.post_match:a)?s.begin==t.begin:r)},u.$$arity=1,u.$$parameters=[["req","other"]]),e.alias(b,"eql?","=="),e.defn(b,"$begin",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"begin"),0!==t&&r.$raise(e.const_get_relative(k,"ArgumentError"),"MatchData#begin only supports 0th element"),r.begin},p.$$arity=1,p.$$parameters=[["req","n"]]),e.defn(b,"$end",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"end"),0!==t&&r.$raise(e.const_get_relative(k,"ArgumentError"),"MatchData#end only supports 0th element"),r.begin+r.matches[t].length},d.$$arity=1,d.$$parameters=[["req","n"]]),e.defn(b,"$captures",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"captures"),t.matches.slice(1)},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$inspect",h=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");for(var a="#<MatchData "+t.matches[0].$inspect(),n=1,i=t.matches.length;n<i;n++)a+=" "+n+":"+t.matches[n].$inspect();return a+">"},h.$$arity=0,h.$$parameters=[]),e.defn(b,"$length",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.matches.length},m.$$arity=0,m.$$parameters=[]),e.alias(b,"size","length"),e.defn(b,"$to_a",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t.matches},g.$$arity=0,g.$$parameters=[]),e.defn(b,"$to_s",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.matches[0]},v.$$arity=0,v.$$parameters=[]),e.defn(b,"$values_at",y=function(){var t,a=this,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];var s,o,c,_=[];for(s=0;s<t.length;s++)t[s].$$is_range&&(o=t[s].$to_a(),o.unshift(s,1),Array.prototype.splice.apply(t,o)),c=e.const_get_relative(k,"Opal")["$coerce_to!"](t[s],e.const_get_relative(k,"Integer"),"to_int"),c<0&&(c+=a.matches.length)<0?_.push(r):_.push(a.matches[c]);return _},y.$$arity=-1,y.$$parameters=[["rest","args"]]),r&&"values_at"}(t[0],null,t)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.klass),s=e.truthy,o=e.send,c=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),a.$require("corelib/comparable"),a.$require("corelib/regexp"),function(a,$super,n){function _(){}function l(t){function r(t){var r,a,n,i,$,s,o="",c=t.length;for(r=0;r<c;r++)if("-"===(a=t.charAt(r))&&r>0&&r<c-1&&!n){for(i=t.charCodeAt(r-1),$=t.charCodeAt(r+1),i>$&&Ee.$raise(e.const_get_relative(Me,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),s=i+1;s<$+1;s++)o+=String.fromCharCode(s);n=!0,r++}else n="\\"===a,o+=a;return o}function a(e,t){if(0===e.length)return t;var r,a,n="",i=e.length;for(r=0;r<i;r++)a=e.charAt(r),-1!==t.indexOf(a)&&(n+=a);return n}var n,i,$,s,o,c,_="",l="";for(n=0,i=t.length;n<i;n++)$=e.const_get_relative(Me,"Opal").$coerce_to(t[n],e.const_get_relative(Me,"String"),"to_str"),s="^"===$.charAt(0)&&$.length>1,$=r(s?$.slice(1):$),s?l=a(l,$):_=a(_,$);if(_.length>0&&l.length>0){for(c="",n=0,i=_.length;n<i;n++)o=_.charAt(n),-1===l.indexOf(o)&&(c+=o);_=c,l=""}return _.length>0?"["+e.const_get_relative(Me,"Regexp").$escape(_)+"]":l.length>0?"[^"+e.const_get_relative(Me,"Regexp").$escape(l)+"]":null}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me,ge,ve,ye,be,xe,ke,qe,we,Ee=_=$(a,$super,"String",_),Se=Ee.$$proto,Me=[Ee].concat(n);Se.length=i,Ee.$include(e.const_get_relative(Me,"Comparable")),Se.$$is_string=!0,e.defn(Ee,"$__id__",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),t.toString()},u.$$arity=0,u.$$parameters=[]),e.alias(Ee,"object_id","__id__"),e.defs(Ee,"$try_convert",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),e.const_get_relative(Me,"Opal")["$coerce_to?"](t,e.const_get_relative(Me,"String"),"to_str")},p.$$arity=1,p.$$parameters=[["req","what"]]),e.defs(Ee,"$new",d=function(t){null==t&&(t="");var r=arguments.length;return r>1&&e.ac(r,-1,this,"new"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),new String(t)},d.$$arity=-1,d.$$parameters=[["opt","str"]]),e.defn(Ee,"$initialize",f=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),t===undefined?r:r.$raise(e.const_get_relative(Me,"NotImplementedError"),"Mutable strings are not supported in Opal.")},f.$$arity=-1,f.$$parameters=[["opt","str"]]),e.defn(Ee,"$%",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"%"),s(e.const_get_relative(Me,"Array")["$==="](t))?o(r,"format",[r].concat(e.to_a(t))):r.$format(r,t)},h.$$arity=1,h.$$parameters=[["req","data"]]),e.defn(Ee,"$*",m=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"*"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int"),t<0&&r.$raise(e.const_get_relative(Me,"ArgumentError"),"negative argument"),0===t)return"";var n="",i=r.toString();for(i.length*t>=1<<28&&r.$raise(e.const_get_relative(Me,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(n+=i),0!==(t>>>=1);)i+=i;return n},m.$$arity=1,m.$$parameters=[["req","count"]]),e.defn(Ee,"$+",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),r+t.$to_s()},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(Ee,"$<=>",v=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"<=>"),s(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),r>t?1:r<t?-1:0;var n=t["$<=>"](r);return n===i?i:n>0?-1:n<0?1:0},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(Ee,"$==",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$$is_string?r.toString()===t.toString():!!e.const_get_relative(Me,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](r)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.alias(Ee,"eql?","=="),e.alias(Ee,"===","=="),e.defn(Ee,"$=~",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=~"),t.$$is_string&&r.$raise(e.const_get_relative(Me,"TypeError"),"type mismatch: String given"),t["$=~"](r)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(Ee,"$[]",x=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"[]");var $,s=a.length;if(t.$$is_range)return $=t.excl,r=e.const_get_relative(Me,"Opal").$coerce_to(t.end,e.const_get_relative(Me,"Integer"),"to_int"),t=e.const_get_relative(Me,"Opal").$coerce_to(t.begin,e.const_get_relative(Me,"Integer"),"to_int"),Math.abs(t)>s?i:(t<0&&(t+=s),r<0&&(r+=s),$||(r+=1),r-=t,r<0&&(r=0),a.substr(t,r));if(t.$$is_string)return null!=r&&a.$raise(e.const_get_relative(Me,"TypeError")),-1!==a.indexOf(t)?t:i;if(t.$$is_regexp){var o=a.match(t);return null===o?(c["~"]=i,i):(c["~"]=e.const_get_relative(Me,"MatchData").$new(t,o),null==r?o[0]:(r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"Integer"),"to_int"),r<0&&-r<o.length?o[r+=o.length]:r>=0&&r<o.length?o[r]:i))}return t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int"),t<0&&(t+=s),null==r?t>=s||t<0?i:a.substr(t,1):(r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"Integer"),"to_int"),r<0?i:t>s||t<0?i:a.substr(t,r))},x.$$arity=-2,x.$$parameters=[["req","index"],["opt","length"]]),e.alias(Ee,"byteslice","[]"),e.defn(Ee,"$capitalize",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"capitalize"),t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},k.$$arity=0,k.$$parameters=[]),e.defn(Ee,"$casecmp",q=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"casecmp"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(r)&&n.test(t)&&(r=r.toLowerCase(),t=t.toLowerCase()),r["$<=>"](t)},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(Ee,"$center",w=function(a,n){var i=this;null==n&&(n=" ");var $=arguments.length;if(($<1||$>2)&&e.ac($,-2,this,"center"),a=e.const_get_relative(Me,"Opal").$coerce_to(a,e.const_get_relative(Me,"Integer"),"to_int"),n=e.const_get_relative(Me,"Opal").$coerce_to(n,e.const_get_relative(Me,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise(e.const_get_relative(Me,"ArgumentError"),"zero width padding"),s(a<=i.length))return i;var o=i.$ljust(t(r(a,i.length),2).$ceil(),n);return i.$rjust(t(r(a,i.length),2).$floor(),n)+o.slice(i.length)},w.$$arity=-2,w.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(Ee,"$chars",E=function(){var t=this,r=E.$$p,a=r||i;r&&(E.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"chars"),s(a)?o(t,"each_char",[],a.$to_proc()):t.$each_char().$to_a()},E.$$arity=0,E.$$parameters=[["block","block"]]),e.defn(Ee,"$chomp",S=function(t){var r=this;null==c["/"]&&(c["/"]=i),null==t&&(t=c["/"]);var a=arguments.length;if(a>1&&e.ac(a,-1,this,"chomp"),s(t===i||0===r.length))return r;if("\n"===(t=e.const_get_relative(Me,"Opal")["$coerce_to!"](t,e.const_get_relative(Me,"String"),"to_str").$to_s()))return r.replace(/\r?\n?$/,"");if(""===t)return r.replace(/(\r?\n)+$/,"");if(r.length>t.length){if(r.substr(r.length-t.length,t.length)===t)return r.substr(0,r.length-t.length)}return r},S.$$arity=-1,S.$$parameters=[["opt","separator"]]),e.defn(Ee,"$chop",M=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"chop");var a=t.length;return a<=1?"":"\n"===t.charAt(a-1)&&"\r"===t.charAt(a-2)?t.substr(0,a-2):t.substr(0,a-1)},M.$$arity=0,M.$$parameters=[]),e.defn(Ee,"$chr",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"chr"),t.charAt(0)},O.$$arity=0,O.$$parameters=[]),e.defn(Ee,"$clone",A=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"clone"),r=t.slice(),r.$copy_singleton_methods(t),r.$initialize_clone(t),r},A.$$arity=0,A.$$parameters=[]),e.defn(Ee,"$dup",R=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.slice(),r.$initialize_dup(t),r},R.$$arity=0,R.$$parameters=[]),e.defn(Ee,"$count",z=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];0===t.length&&r.$raise(e.const_get_relative(Me,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=l(t);return null===$?0:r.length-r.replace(new RegExp($,"g"),"").length},z.$$arity=-1,z.$$parameters=[["rest","sets"]]),e.defn(Ee,"$delete",j=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];0===t.length&&r.$raise(e.const_get_relative(Me,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=l(t);return null===$?r:r.replace(new RegExp($,"g"),"")},j.$$arity=-1,j.$$parameters=[["rest","sets"]]),e.defn(Ee,"$downcase",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"downcase"),t.toLowerCase()},T.$$arity=0,T.$$parameters=[]),e.defn(Ee,"$each_char",I=function(){var t,r=this,a=I.$$p,n=a||i;a&&(I.$$p=null);var $=arguments.length;if(0!==$&&e.ac($,0,this,"each_char"),n===i)return o(r,"enum_for",["each_char"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_char")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s=0,c=r.length;s<c;s++)e.yield1(n,r.charAt(s));return r},I.$$arity=0,I.$$parameters=[["block","block"]]),e.defn(Ee,"$each_line",C=function(t){var r=this,a=C.$$p,n=a||i;null==c["/"]&&(c["/"]=i),null==t&&(t=c["/"]),a&&(C.$$p=null);var $=arguments.length;if($>1&&e.ac($,-1,this,"each_line"),n===i)return r.$enum_for("each_line",t);if(t===i)return e.yield1(n,r),r;t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str");var s,o,_,l,u,p,d;if(0===t.length){for(s=r.split(/(\n{2,})/),o=0,_=s.length;o<_;o+=2)(s[o]||s[o+1])&&e.yield1(n,(s[o]||"")+(s[o+1]||""));return r}for(u=r.$chomp(t),p=r.length!=u.length,d=u.split(t),o=0,l=d.length;o<l;o++)o<l-1||p?e.yield1(n,d[o]+t):e.yield1(n,d[o]);return r},C.$$arity=-1,C.$$parameters=[["opt","separator"],["block","block"]]),e.defn(Ee,"$empty?",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.length},P.$$arity=0,P.$$parameters=[]),e.defn(Ee,"$end_with?",N=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];for(var $=0,s=t.length;$<s;$++){var o=e.const_get_relative(Me,"Opal").$coerce_to(t[$],e.const_get_relative(Me,"String"),"to_str").$to_s();if(r.length>=o.length&&r.substr(r.length-o.length,o.length)==o)return!0}return!1},N.$$arity=-1,N.$$parameters=[["rest","suffixes"]]),e.alias(Ee,"eql?","=="),e.alias(Ee,"equal?","==="),e.defn(Ee,"$gsub",F=function(t,r){var a=this,n=F.$$p,$=n||i;n&&(F.$$p=null);var s=arguments.length;if((s<1||s>2)&&e.ac(s,-2,this,"gsub"),r===undefined&&$===i)return a.$enum_for("gsub",t);var o,_,l="",u=i,p=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(o=t.exec(a))){c["~"]=i,l+=a.slice(p);break}u=e.const_get_relative(Me,"MatchData").$new(t,o),r===undefined?_=$(o[0]):r.$$is_hash?_=r["$[]"](o[0]).$to_s():(r.$$is_string||(r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str")),_=r.replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=o.length-1;n>0;n--)if(o[n]!==undefined)return t.slice(1)+o[n];return"";case"&":return t.slice(1)+o[0];case"`":return t.slice(1)+a.slice(0,o.index);case"'":return t.slice(1)+a.slice(o.index+o[0].length);default:return t.slice(1)+(o[r]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(l+=_+a.slice(p,o.index+1),t.lastIndex+=1):l+=a.slice(p,o.index)+_,p=t.lastIndex}return c["~"]=u,l},F.$$arity=-2,F.$$parameters=[["req","pattern"],["opt","replacement"],["block","block"]]),e.defn(Ee,"$hash",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.toString()},B.$$arity=0,B.$$parameters=[]),e.defn(Ee,"$hex",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hex"),t.$to_i(16)},D.$$arity=0,D.$$parameters=[]),e.defn(Ee,"$include?",H=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),t.$$is_string||(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str")),-1!==r.indexOf(t)},H.$$arity=1,H.$$parameters=[["req","other"]]),e.defn(Ee,"$index",L=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"index");var $,s,o;if(r===undefined)r=0;else if((r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"Integer"),"to_int"))<0&&(r+=a.length)<0)return i;if(t.$$is_regexp)for(o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(s=o.exec(a))){c["~"]=i,$=-1;break}if(s.index>=r){c["~"]=e.const_get_relative(Me,"MatchData").$new(o,s),$=s.index;break}o.lastIndex=s.index+1}else t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),$=0===t.length&&r>a.length?-1:a.indexOf(t,r);return-1===$?i:$},L.$$arity=-2,L.$$parameters=[["req","search"],["opt","offset"]]),e.defn(Ee,"$inspect",U=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");var a=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\x07":"\\a","\x1b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+t.replace(a,function(e){return n[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},U.$$arity=0,U.$$parameters=[]),e.defn(Ee,"$intern",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"intern"),t},G.$$arity=0,G.$$parameters=[]),e.defn(Ee,"$lines",Y=function(t){var r=this,a=Y.$$p,n=a||i,$=i;null==c["/"]&&(c["/"]=i),null==t&&(t=c["/"]),a&&(Y.$$p=null)
;var _=arguments.length;return _>1&&e.ac(_,-1,this,"lines"),$=o(r,"each_line",[t],n.$to_proc()),s(n)?r:$.$to_a()},Y.$$arity=-1,Y.$$parameters=[["opt","separator"],["block","block"]]),e.defn(Ee,"$length",V=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.length},V.$$arity=0,V.$$parameters=[]),e.defn(Ee,"$ljust",X=function(t,r){var a=this;null==r&&(r=" ");var n=arguments.length;if((n<1||n>2)&&e.ac(n,-2,this,"ljust"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int"),r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str").$to_s(),s(r["$empty?"]())&&a.$raise(e.const_get_relative(Me,"ArgumentError"),"zero width padding"),s(t<=a.length))return a;var i=-1,$="";for(t-=a.length;++i<t;)$+=r;return a+$.slice(0,t)},X.$$arity=-2,X.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(Ee,"$lstrip",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lstrip"),t.replace(/^\s*/,"")},K.$$arity=0,K.$$parameters=[]),e.defn(Ee,"$ascii_only?",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ascii_only?"),t.match(/[ -~\n]*/)[0]===t},W.$$arity=0,W.$$parameters=[]),e.defn(Ee,"$match",Z=function(t,r){var a,n=this,$=Z.$$p,c=$||i;$&&(Z.$$p=null);var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"match"),s(s(a=e.const_get_relative(Me,"String")["$==="](t))?a:t["$respond_to?"]("to_str"))&&(t=e.const_get_relative(Me,"Regexp").$new(t.$to_str())),s(e.const_get_relative(Me,"Regexp")["$==="](t))||n.$raise(e.const_get_relative(Me,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),o(t,"match",[n,r],c.$to_proc())},Z.$$arity=-2,Z.$$parameters=[["req","pattern"],["opt","pos"],["block","block"]]),e.defn(Ee,"$next",J=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"next");var a=t.length;if(0===a)return"";for(var n,i=t,$=t.search(/[a-zA-Z0-9]/),s=!1;a--;){if((n=t.charCodeAt(a))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:s=!0,n=48;break;case 90:s=!0,n=65;break;case 122:s=!0,n=97;break;default:s=!1,n+=1}else-1===$?255===n?(s=!0,n=0):(s=!1,n+=1):s=!0;if(i=i.slice(0,a)+String.fromCharCode(n)+i.slice(a+1),s&&(0===a||a===$)){switch(n){case 65:case 97:break;default:n+=1}i=0===a?String.fromCharCode(n)+i:i.slice(0,a)+String.fromCharCode(n)+i.slice(a),s=!1}if(!s)break}return i},J.$$arity=0,J.$$parameters=[]),e.defn(Ee,"$oct",Q=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"oct");var a,n=t,i=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,r,a){switch(a.charAt(0)){case"+":case"-":return e;case"0":if("x"===a.charAt(1)&&"0x"===r)return e}switch(r){case"0b":i=2;break;case"0":case"0o":i=8;break;case"0d":i=10;break;case"0x":i=16}return t+a}),a=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(a)?0:a)},Q.$$arity=0,Q.$$parameters=[]),e.defn(Ee,"$ord",ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ord"),t.charCodeAt(0)},ee.$$arity=0,ee.$$parameters=[]),e.defn(Ee,"$partition",te=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"partition");var n,i;return t.$$is_regexp?(i=t.exec(r),null===i?n=-1:(e.const_get_relative(Me,"MatchData").$new(t,i),t=i[0],n=i.index)):(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),n=r.indexOf(t)),-1===n?[r,"",""]:[r.slice(0,n),r.slice(n,n+t.length),r.slice(n+t.length)]},te.$$arity=1,te.$$parameters=[["req","sep"]]),e.defn(Ee,"$reverse",re=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse"),t.split("").reverse().join("")},re.$$arity=0,re.$$parameters=[]),e.defn(Ee,"$rindex",ae=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"rindex");var $,s,o,_;if(r===undefined)r=a.length;else if((r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"Integer"),"to_int"))<0&&(r+=a.length)<0)return i;if(t.$$is_regexp){for(s=null,o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(_=o.exec(a))||_.index>r)break;s=_,o.lastIndex=s.index+1}null===s?(c["~"]=i,$=-1):(e.const_get_relative(Me,"MatchData").$new(o,s),$=s.index)}else t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),$=a.lastIndexOf(t,r);return-1===$?i:$},ae.$$arity=-2,ae.$$parameters=[["req","search"],["opt","offset"]]),e.defn(Ee,"$rjust",ne=function(t,r){var a=this;null==r&&(r=" ");var n=arguments.length;if((n<1||n>2)&&e.ac(n,-2,this,"rjust"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int"),r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str").$to_s(),s(r["$empty?"]())&&a.$raise(e.const_get_relative(Me,"ArgumentError"),"zero width padding"),s(t<=a.length))return a;var i=Math.floor(t-a.length),$=Math.floor(i/r.length),o=Array($+1).join(r),c=i-o.length;return o+r.slice(0,c)+a},ne.$$arity=-2,ne.$$parameters=[["req","width"],["opt","padstr"]]),e.defn(Ee,"$rpartition",ie=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"rpartition");var n,i,$,s;if(t.$$is_regexp){for(i=null,$=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(s=$.exec(r)))break;i=s,$.lastIndex=i.index+1}null===i?n=-1:(e.const_get_relative(Me,"MatchData").$new($,i),t=i[0],n=i.index)}else t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),n=r.lastIndexOf(t);return-1===n?["","",r]:[r.slice(0,n),r.slice(n,n+t.length),r.slice(n+t.length)]},ie.$$arity=1,ie.$$parameters=[["req","sep"]]),e.defn(Ee,"$rstrip",$e=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rstrip"),t.replace(/[\s\u0000]*$/,"")},$e.$$arity=0,$e.$$parameters=[]),e.defn(Ee,"$scan",se=function(t){var r=this,a=se.$$p,n=a||i;a&&(se.$$p=null);var $=arguments.length;1!==$&&e.ac($,1,this,"scan");var s,o=[],_=i;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(s=t.exec(r));)_=e.const_get_relative(Me,"MatchData").$new(t,s),n===i?1==s.length?o.push(s[0]):o.push(_.$captures()):1==s.length?n(s[0]):n.call(r,_.$captures()),t.lastIndex===s.index&&(t.lastIndex+=1);return c["~"]=_,n!==i?r:o},se.$$arity=1,se.$$parameters=[["req","pattern"],["block","block"]]),e.alias(Ee,"size","length"),e.alias(Ee,"slice","[]"),e.defn(Ee,"$split",oe=function(t,r){var a,n=this;null==c[";"]&&(c[";"]=i);var $=arguments.length;if($>2&&e.ac($,-1,this,"split"),0===n.length)return[];if(r===undefined)r=0;else if(1===(r=e.const_get_relative(Me,"Opal")["$coerce_to!"](r,e.const_get_relative(Me,"Integer"),"to_int")))return[n];t!==undefined&&t!==i||(t=s(a=c[";"])?a:" ");var o,_,l,u=[],p=n.toString(),d=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,p=p.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),u=p.split(t),1===u.length&&u[0]===p)return u;for(;-1!==(_=u.indexOf(undefined));)u.splice(_,1);if(0===r){for(;""===u[u.length-1];)u.length-=1;return u}if(o=t.exec(p),r<0){if(null!==o&&""===o[0]&&-1===t.source.indexOf("(?="))for(_=0,l=o.length;_<l;_++)u.push("");return u}if(null!==o&&""===o[0])return u.splice(r-1,u.length-1,u.slice(r-1).join("")),u;if(r>=u.length)return u;for(_=0;null!==o&&(_++,d=t.lastIndex,_+1!==r);)o=t.exec(p);return u.splice(r-1,u.length-1,p.slice(d)),u},oe.$$arity=-1,oe.$$parameters=[["opt","pattern"],["opt","limit"]]),e.defn(Ee,"$squeeze",ce=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];if(0===e.length)return t.replace(/(.)\1+/g,"$1");var i=l(e);return null===i?t:t.replace(new RegExp("("+i+")\\1+","g"),"$1")},ce.$$arity=-1,ce.$$parameters=[["rest","sets"]]),e.defn(Ee,"$start_with?",_e=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];for(var $=0,s=t.length;$<s;$++){var o=e.const_get_relative(Me,"Opal").$coerce_to(t[$],e.const_get_relative(Me,"String"),"to_str").$to_s();if(0===r.indexOf(o))return!0}return!1},_e.$$arity=-1,_e.$$parameters=[["rest","prefixes"]]),e.defn(Ee,"$strip",le=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"strip"),t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},le.$$arity=0,le.$$parameters=[]),e.defn(Ee,"$sub",ue=function(t,r){var a=this,n=ue.$$p,$=n||i;n&&(ue.$$p=null);var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"sub"),t.$$is_regexp||(t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(a);return null===o?(c["~"]=i,a.toString()):(e.const_get_relative(Me,"MatchData").$new(t,o),r===undefined?($===i&&a.$raise(e.const_get_relative(Me,"ArgumentError"),"wrong number of arguments (1 for 2)"),a.slice(0,o.index)+$(o[0])+a.slice(o.index+o[0].length)):r.$$is_hash?a.slice(0,o.index)+r["$[]"](o[0]).$to_s()+a.slice(o.index+o[0].length):(r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str"),r=r.replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=o.length-1;n>0;n--)if(o[n]!==undefined)return t.slice(1)+o[n];return"";case"&":return t.slice(1)+o[0];case"`":return t.slice(1)+a.slice(0,o.index);case"'":return t.slice(1)+a.slice(o.index+o[0].length);default:return t.slice(1)+(o[r]||"")}}).replace(/\\\\/g,"\\"),a.slice(0,o.index)+r+a.slice(o.index+o[0].length)))},ue.$$arity=-2,ue.$$parameters=[["req","pattern"],["opt","replacement"],["block","block"]]),e.alias(Ee,"succ","next"),e.defn(Ee,"$sum",pe=function(t){var r=this;null==t&&(t=16);var a=arguments.length;a>1&&e.ac(a,-1,this,"sum"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int");for(var n=0,i=r.length,$=0;$<i;$++)n+=r.charCodeAt($);return t<=0?n:n&Math.pow(2,t)-1},pe.$$arity=-1,pe.$$parameters=[["opt","n"]]),e.defn(Ee,"$swapcase",de=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"swapcase");var a=t.replace(/([a-z]+)|([A-Z]+)/g,function(e,t){return t?e.toUpperCase():e.toLowerCase()});return t.constructor===String?a:t.$class().$new(a)},de.$$arity=0,de.$$parameters=[]),e.defn(Ee,"$to_f",fe=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"to_f"),"_"===t.charAt(0))return 0;var a=parseFloat(t.replace(/_/g,""));return isNaN(a)||a==Infinity||a==-Infinity?0:a},fe.$$arity=0,fe.$$parameters=[]),e.defn(Ee,"$to_i",he=function(t){var r=this;null==t&&(t=10);var a=arguments.length;a>1&&e.ac(a,-1,this,"to_i");var n,i=r.toLowerCase(),$=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"Integer"),"to_int");return(1===$||$<0||$>36)&&r.$raise(e.const_get_relative(Me,"ArgumentError"),"invalid radix "+$),/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,r,a){switch(a.charAt(0)){case"+":case"-":return e;case"0":if("x"===a.charAt(1)&&"0x"===r&&(0===$||16===$))return e}switch(r){case"0b":if(0===$||2===$)return $=2,t+a;break;case"0":case"0o":if(0===$||8===$)return $=8,t+a;break;case"0d":if(0===$||10===$)return $=10,t+a;break;case"0x":if(0===$||16===$)return $=16,t+a}return e}),n=parseInt(i.replace(/_(?!_)/g,""),$),isNaN(n)?0:n)},he.$$arity=-1,he.$$parameters=[["opt","base"]]),e.defn(Ee,"$to_proc",me=function(){var t,r=this,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"to_proc"),a=r.valueOf(),o(r,"proc",[],(t=function(){var r,n,$=t.$$s||this;(r=t.$$p||i)&&(t.$$p=null);var s=arguments.length,o=s-0;o<0&&(o=0),n=new Array(o);for(var c=0;c<s;c++)n[c-0]=arguments[c];0===n.length&&$.$raise(e.const_get_relative(Me,"ArgumentError"),"no receiver given");var _=n.shift();return null==_&&(_=i),e.send(_,a,n,r)},t.$$s=r,t.$$arity=-1,t.$$parameters=[["rest","args"],["block","block"]],t))},me.$$arity=0,me.$$parameters=[]),e.defn(Ee,"$to_s",ge=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.toString()},ge.$$arity=0,ge.$$parameters=[]),e.alias(Ee,"to_str","to_s"),e.alias(Ee,"to_sym","intern"),e.defn(Ee,"$tr",ve=function(t,r){var a=this,n=arguments.length;if(2!==n&&e.ac(n,2,this,"tr"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str").$to_s(),r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str").$to_s(),0==t.length||t===r)return a;var i,$,s,o,c,_,l,u={},p=t.split(""),d=p.length,f=r.split(""),h=f.length,m=!1,g=null;"^"===p[0]&&p.length>1&&(m=!0,p.shift(),g=f[h-1],d-=1);var v=[],y=null;for($=!1,i=0;i<d;i++)if(o=p[i],null==y)y=o,v.push(o);else if("-"===o)"-"===y?(v.push("-"),v.push("-")):i==d-1?v.push("-"):$=!0;else if($){for(c=y.charCodeAt(0),_=o.charCodeAt(0),c>_&&a.$raise(e.const_get_relative(Me,"ArgumentError"),'invalid range "'+String.fromCharCode(c)+"-"+String.fromCharCode(_)+'" in string transliteration'),s=c+1;s<_;s++)v.push(String.fromCharCode(s));v.push(o),$=null,y=null}else v.push(o);if(p=v,d=p.length,m)for(i=0;i<d;i++)u[p[i]]=!0;else{if(h>0){var b=[],x=null;for($=!1,i=0;i<h;i++)if(o=f[i],null==x)x=o,b.push(o);else if("-"===o)"-"===x?(b.push("-"),b.push("-")):i==h-1?b.push("-"):$=!0;else if($){for(c=x.charCodeAt(0),_=o.charCodeAt(0),c>_&&a.$raise(e.const_get_relative(Me,"ArgumentError"),'invalid range "'+String.fromCharCode(c)+"-"+String.fromCharCode(_)+'" in string transliteration'),s=c+1;s<_;s++)b.push(String.fromCharCode(s));b.push(o),$=null,x=null}else b.push(o);f=b,h=f.length}var k=d-h;if(k>0){var q=h>0?f[h-1]:"";for(i=0;i<k;i++)f.push(q)}for(i=0;i<d;i++)u[p[i]]=f[i]}var w="";for(i=0,l=a.length;i<l;i++){o=a.charAt(i);var E=u[o];w+=m?null==E?g:o:null!=E?E:o}return w},ve.$$arity=2,ve.$$parameters=[["req","from"],["req","to"]]),e.defn(Ee,"$tr_s",ye=function(t,r){var a=this,n=arguments.length;if(2!==n&&e.ac(n,2,this,"tr_s"),t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str").$to_s(),r=e.const_get_relative(Me,"Opal").$coerce_to(r,e.const_get_relative(Me,"String"),"to_str").$to_s(),0==t.length)return a;var i,$,s,o,c,_,l,u={},p=t.split(""),d=p.length,f=r.split(""),h=f.length,m=!1,g=null;"^"===p[0]&&p.length>1&&(m=!0,p.shift(),g=f[h-1],d-=1);var v=[],y=null;for($=!1,i=0;i<d;i++)if(o=p[i],null==y)y=o,v.push(o);else if("-"===o)"-"===y?(v.push("-"),v.push("-")):i==d-1?v.push("-"):$=!0;else if($){for(c=y.charCodeAt(0),_=o.charCodeAt(0),c>_&&a.$raise(e.const_get_relative(Me,"ArgumentError"),'invalid range "'+String.fromCharCode(c)+"-"+String.fromCharCode(_)+'" in string transliteration'),s=c+1;s<_;s++)v.push(String.fromCharCode(s));v.push(o),$=null,y=null}else v.push(o);if(p=v,d=p.length,m)for(i=0;i<d;i++)u[p[i]]=!0;else{if(h>0){var b=[];for($=!1,i=0;i<h;i++)if(o=f[i],null==y)y=o,b.push(o);else if("-"===o)"-"===null?(b.push("-"),b.push("-")):i==h-1?b.push("-"):$=!0;else if($){for(c=y.charCodeAt(0),_=o.charCodeAt(0),c>_&&a.$raise(e.const_get_relative(Me,"ArgumentError"),'invalid range "'+String.fromCharCode(c)+"-"+String.fromCharCode(_)+'" in string transliteration'),s=c+1;s<_;s++)b.push(String.fromCharCode(s));b.push(o),$=null,y=null}else b.push(o);f=b,h=f.length}var x=d-h;if(x>0){var k=h>0?f[h-1]:"";for(i=0;i<x;i++)f.push(k)}for(i=0;i<d;i++)u[p[i]]=f[i]}var q="",w=null;for(i=0,l=a.length;i<l;i++){o=a.charAt(i);var E=u[o];m?null==E?null==w&&(q+=g,w=!0):(q+=o,w=null):null!=E?null!=w&&w===E||(q+=E,w=E):(q+=o,w=null)}return q},ye.$$arity=2,ye.$$parameters=[["req","from"],["req","to"]]),e.defn(Ee,"$upcase",be=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"upcase"),t.toUpperCase()},be.$$arity=0,be.$$parameters=[]),e.defn(Ee,"$upto",xe=function(t,r){var a=this,n=xe.$$p,$=n||i;null==r&&(r=!1),n&&(xe.$$p=null);var s=arguments.length;if((s<1||s>2)&&e.ac(s,-2,this,"upto"),$===i)return a.$enum_for("upto",t,r);t=e.const_get_relative(Me,"Opal").$coerce_to(t,e.const_get_relative(Me,"String"),"to_str");var o,c,_=a.toString();if(1===_.length&&1===t.length)for(o=_.charCodeAt(0),c=t.charCodeAt(0);o<=c&&(!r||o!==c);)$(String.fromCharCode(o)),o+=1;else if(parseInt(_,10).toString()===_&&parseInt(t,10).toString()===t)for(o=parseInt(_,10),c=parseInt(t,10);o<=c&&(!r||o!==c);)$(o.toString()),o+=1;else for(;_.length<=t.length&&_<=t&&(!r||_!==t);)$(_),_=_.$succ();return a},xe.$$arity=-2,xe.$$parameters=[["req","stop"],["opt","excl"],["block","block"]]),e.defn(Ee,"$instance_variables",ke=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"instance_variables"),[]},ke.$$arity=0,ke.$$parameters=[]),e.defs(Ee,"$_load",qe=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return o(r,"new",e.to_a(t))},qe.$$arity=-1,qe.$$parameters=[["rest","args"]]),e.defn(Ee,"$unpack",we=function(t){function r(e){var t,r,a=e.length,n=[];for(t=0;t<a;t++)r=e.charCodeAt(t),n.push(r);return n}var a=this,n=i,$=arguments.length;return 1!==$&&e.ac($,1,this,"unpack"),function(){return n=t,"U*"["$==="](n)||"C*"["$==="](n)?r(a):a.$raise(e.const_get_relative(Me,"NotImplementedError"))}()},we.$$arity=1,we.$$parameters=[["req","pattern"]])}(n[0],String,n),e.const_set(n[0],"Symbol",e.const_get_relative(n,"String"))},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var s=(e.top,[]),o=e.nil,c=(e.breaker,e.slice,e.module),_=e.send,l=e.truthy,u=e.falsy,p=e.hash2;return e.add_stubs(["$each","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$has_key?","$values","$zip"]),function(s,d){var f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e=f=c(s,"Enumerable"),le=(_e.$$proto,[_e].concat(d));e.defn(_e,"$all?",h=function(){try{var t,r,a=this,n=h.$$p,i=n||o;n&&(h.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"all?"),i!==o?_(a,"each",[],(t=function(){var r,a=(t.$$s,arguments.length),n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];if(l(e.yieldX(i,e.to_a(r))))return o;e.ret(!1)},t.$$s=a,t.$$arity=-1,t.$$parameters=[["rest","value"]],t)):_(a,"each",[],(r=function(){var t,a=(r.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if(l(e.const_get_relative(le,"Opal").$destructure(t)))return o;e.ret(!1)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","value"]],r)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},h.$$arity=0,h.$$parameters=[["block","block"]]),e.defn(_e,"$any?",m=function(){try{var t,r,a=this,n=m.$$p,i=n||o;n&&(m.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"any?"),i!==o?_(a,"each",[],(t=function(){var r,a=(t.$$s,arguments.length),n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];if(!l(e.yieldX(i,e.to_a(r))))return o;e.ret(!0)},t.$$s=a,t.$$arity=-1,t.$$parameters=[["rest","value"]],t)):_(a,"each",[],(r=function(){var t,a=(r.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if(!l(e.const_get_relative(le,"Opal").$destructure(t)))return o;e.ret(!0)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","value"]],r)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},m.$$arity=0,m.$$parameters=[["block","block"]]),e.defn(_e,"$chunk",g=function(){var t,r,a=this,n=g.$$p,i=n||o;n&&(g.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"chunk"),i===o?_(a,"to_enum",["chunk"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"chunk")}return r.$enumerator_size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):_(e.const_get_qualified("::","Enumerator"),"new",[],(r=function(t){function a(){c.length>0&&t.$yield(s,c)}var n=r.$$s||this;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"chunk")}var s=o,c=[];n.$each.$$p=function(t){var r=e.yield1(i,t);r===o?(a(),c=[],s=o):(s===o||s===r?c.push(t):(a(),c=[t]),s=r)},n.$each(),a()},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","yielder"]],r))},g.$$arity=0,g.$$parameters=[["block","block"]]),e.defn(_e,"$chunk_while",v=function(){var t,r=this,a=v.$$p,n=a||o;a&&(v.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"chunk_while"),n!==o||r.$raise(e.const_get_relative(le,"ArgumentError"),"no block given"),_(r,"slice_when",[],(t=function(r,a){t.$$s;if(null==r&&(r=o),null==a&&(a=o),t.$$is_lambda||t.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"chunk_while")}return e.yieldX(n,[r,a])["$!"]()},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","before"],["req","after"]],t))},v.$$arity=0,v.$$parameters=[["block","block"]]),e.defn(_e,"$collect",y=function(){var t,r=this,a=y.$$p,n=a||o;a&&(y.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"collect"),n===o)return _(r,"enum_for",["collect"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"collect")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=[];return r.$each.$$p=function(){var t=e.yieldX(n,arguments);$.push(t)},r.$each(),$},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(_e,"$collect_concat",b=function(){var t,r,a=this,n=b.$$p,i=n||o;n&&(b.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"collect_concat"),i===o?_(a,"enum_for",["collect_concat"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"collect_concat")}return r.$enumerator_size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):_(a,"map",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect_concat")}return e.yield1(i,t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","item"]],r)).$flatten(1)},b.$$arity=0,b.$$parameters=[["block","block"]]),e.defn(_e,"$count",x=function(t){var r,a,n,i=this,$=x.$$p,s=$||o,c=o;$&&(x.$$p=null);var u=arguments.length;return u>1&&e.ac(u,-1,this,"count"),c=0,null!=t&&s!==o&&i.$warn("warning: given block not used"),l(null!=t)?s=_(i,"proc",[],(r=function(){var a,n=(r.$$s,arguments.length),i=n-0;i<0&&(i=0),a=new Array(i);for(var $=0;$<n;$++)a[$-0]=arguments[$];return e.const_get_relative(le,"Opal").$destructure(a)["$=="](t)},r.$$s=i,r.$$arity=-1,r.$$parameters=[["rest","args"]],r)):l(s["$nil?"]())&&(s=_(i,"proc",[],(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"count")}return!0},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))),_(i,"each",[],(n=function(){var t,r=(n.$$s,arguments.length),a=r-0;a<0&&(a=0),t=new Array(a);for(var i=0;i<r;i++)t[i-0]=arguments[i];return l(e.yieldX(s,t))?c++:o},n.$$s=i,n.$$arity=-1,n.$$parameters=[["rest","args"]],n)),c},x.$$arity=-1,x.$$parameters=[["opt","object"],["block","block"]]),e.defn(_e,"$cycle",k=function(a){var n,i=this,$=k.$$p,s=$||o;null==a&&(a=o),$&&(k.$$p=null);var c=arguments.length;if(c>1&&e.ac(c,-1,this,"cycle"),s===o)return _(i,"enum_for",["cycle",a],(n=function(){var i=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"cycle")}return a["$=="](o)?l(i["$respond_to?"]("size"))?e.const_get_qualified(e.const_get_relative(le,"Float"),"INFINITY"):o:(a=e.const_get_relative(le,"Opal")["$coerce_to!"](a,e.const_get_relative(le,"Integer"),"to_int"),l(t(a,0))?r(i.$enumerator_size(),a):0)},n.$$s=i,n.$$arity=0,n.$$parameters=[],n));if(l(a["$nil?"]()));else if(a=e.const_get_relative(le,"Opal")["$coerce_to!"](a,e.const_get_relative(le,"Integer"),"to_int"),l(a<=0))return o;var u,p,d,f=[];if(i.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);e.yield1(s,t);f.push(t)},i.$each(),u!==undefined)return u;if(0===f.length)return o;if(a===o)for(;;)for(p=0,d=f.length;p<d;p++)e.yield1(s,f[p]);else for(;a>1;){for(p=0,d=f.length;p<d;p++)e.yield1(s,f[p]);a--}},k.$$arity=-1,k.$$parameters=[["opt","n"],["block","block"]]),e.defn(_e,"$detect",q=function(t){try{var r,a=this,n=q.$$p,i=n||o;n&&(q.$$p=null);var $=arguments.length;return $>1&&e.ac($,-1,this,"detect"),i===o?a.$enum_for("detect",t):(_(a,"each",[],(r=function(){var t,a=(r.$$s,o),n=arguments.length,$=n-0;$<0&&($=0),t=new Array($);for(var s=0;s<n;s++)t[s-0]=arguments[s];if(a=e.const_get_relative(le,"Opal").$destructure(t),!l(e.yield1(i,a)))return o;e.ret(a)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","args"]],r)),t!==undefined?"function"==typeof t?t():t:o)}catch(t){if(t===e.returner)return t.$v;throw t}},q.$$arity=-1,q.$$parameters=[["opt","ifnone"],["block","block"]]),e.defn(_e,"$drop",w=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"drop"),t=e.const_get_relative(le,"Opal").$coerce_to(t,e.const_get_relative(le,"Integer"),"to_int"),l(t<0)&&r.$raise(e.const_get_relative(le,"ArgumentError"),"attempt to drop negative size");var n=[],i=0;return r.$each.$$p=function(){t<=i&&n.push(e.const_get_relative(le,"Opal").$destructure(arguments)),i++},r.$each(),n},w.$$arity=1,w.$$parameters=[["req","number"]]),e.defn(_e,"$drop_while",E=function(){var t=this,r=E.$$p,a=r||o;r&&(E.$$p=null);var n=arguments.length;if(0!==n&&e.ac(n,0,this,"drop_while"),a===o)return t.$enum_for("drop_while");var i=[],$=!0;return t.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if($){var r=e.yield1(a,t);u(r)&&($=!1,i.push(t))}else i.push(t)},t.$each(),i},E.$$arity=0,E.$$parameters=[["block","block"]]),e.defn(_e,"$each_cons",S=function(t){var r,$=this,s=S.$$p,c=s||o;s&&(S.$$p=null);var u=arguments.length;if(1!==u&&e.ac(u,1,this,"each_cons"),l(1!=arguments.length)&&$.$raise(e.const_get_relative(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),t=e.const_get_relative(le,"Opal").$try_convert(t,e.const_get_relative(le,"Integer"),"to_int"),l(t<=0)&&$.$raise(e.const_get_relative(le,"ArgumentError"),"invalid size"),c===o)return _($,"enum_for",["each_cons",t],(r=function(){var $,s=r.$$s||this,c=o;if(r.$$is_lambda||r.$$define_meth){var _=arguments.length;0!==_&&e.block_ac(_,0,"each_cons")}return c=s.$enumerator_size(),l(c["$nil?"]())?o:l(l($=c["$=="](0))?$:a(c,t))?0:n(i(c,t),1)},r.$$s=$,r.$$arity=0,r.$$parameters=[],r));var p=[],d=o;return $.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments);p.push(r),p.length>t&&p.shift(),p.length==t&&e.yield1(c,p.slice(0,t))},$.$each(),d},S.$$arity=1,S.$$parameters=[["req","n"],["block","block"]]),e.defn(_e,"$each_entry",M=function(){var t,r,a=this,n=M.$$p,i=n||o,$=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<$;c++)r[c-0]=arguments[c];return n&&(M.$$p=null),i===o?_(a,"to_enum",["each_entry"].concat(e.to_a(r)),(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_entry")}return r.$enumerator_size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):(a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);e.yield1(i,t)},a.$each.apply(a,r),a)},M.$$arity=-1,M.$$parameters=[["rest","data"],["block","block"]]),e.defn(_e,"$each_slice",O=function(t){var r,a=this,n=O.$$p,i=n||o;n&&(O.$$p=null);var s=arguments.length;if(1!==s&&e.ac(s,1,this,"each_slice"),t=e.const_get_relative(le,"Opal").$coerce_to(t,e.const_get_relative(le,"Integer"),"to_int"),l(t<=0)&&a.$raise(e.const_get_relative(le,"ArgumentError"),"invalid slice size"),i===o)return _(a,"enum_for",["each_slice",t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"each_slice")}return l(a["$respond_to?"]("size"))?$(a.$size(),t).$ceil():o},r.$$s=a,r.$$arity=0,r.$$parameters=[],r));var c,u=[];return a.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments);u.push(r),u.length===t&&(e.yield1(i,u),u=[])},a.$each(),c!==undefined?c:(u.length>0&&e.yield1(i,u),o)},O.$$arity=1,O.$$parameters=[["req","n"],["block","block"]]),e.defn(_e,"$each_with_index",A=function(){var t,r,a=this,n=A.$$p,i=n||o,$=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<$;c++)r[c-0]=arguments[c];if(n&&(A.$$p=null),i===o)return _(a,"enum_for",["each_with_index"].concat(e.to_a(r)),(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_with_index")}return r.$enumerator_size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t));var l,u=0;return a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);i(t,u),u++},a.$each.apply(a,r),l!==undefined?l:a},A.$$arity=-1,A.$$parameters=[["rest","args"],["block","block"]]),e.defn(_e,"$each_with_object",R=function(t){var r,a=this,n=R.$$p,i=n||o;n&&(R.$$p=null);var $=arguments.length;if(1!==$&&e.ac($,1,this,"each_with_object"),i===o)return _(a,"enum_for",["each_with_object",t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_with_object")}return t.$enumerator_size()},r.$$s=a,r.$$arity=0,r.$$parameters=[],r));var s;return a.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments);i(r,t)},a.$each(),s!==undefined?s:t},R.$$arity=1,R.$$parameters=[["req","object"],["block","block"]]),e.defn(_e,"$entries",z=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];var $=[];return r.$each.$$p=function(){$.push(e.const_get_relative(le,"Opal").$destructure(arguments))},r.$each.apply(r,t),$},z.$$arity=-1,z.$$parameters=[["rest","args"]]),e.alias(_e,"find","detect"),e.defn(_e,"$find_all",j=function(){var t,r=this,a=j.$$p,n=a||o;a&&(j.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"find_all"),n===o)return _(r,"enum_for",["find_all"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"find_all")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=[];return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(n,t);l(r)&&$.push(t)},r.$each(),$},j.$$arity=0,j.$$parameters=[["block","block"]]),e.defn(_e,"$find_index",T=function(t){try{var r,a,n=this,i=T.$$p,$=i||o,s=o;i&&(T.$$p=null);var c=arguments.length;return c>1&&e.ac(c,-1,this,"find_index"),l(t===undefined&&$===o)?n.$enum_for("find_index"):(null!=t&&$!==o&&n.$warn("warning: given block not used"),s=0,l(null!=t)?_(n,"each",[],(r=function(){var a,n=(r.$$s,arguments.length),i=n-0;i<0&&(i=0),a=new Array(i);for(var $=0;$<n;$++)a[$-0]=arguments[$];return e.const_get_relative(le,"Opal").$destructure(a)["$=="](t)&&e.ret(s),s+=1},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","value"]],r)):_(n,"each",[],(a=function(){var t,r=(a.$$s,arguments.length),n=r-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<r;i++)t[i-0]=arguments[i];return l(e.yieldX($,e.to_a(t)))&&e.ret(s),s+=1},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","value"]],a)),o)}catch(t){if(t===e.returner)return t.$v;throw t}},T.$$arity=-1,T.$$parameters=[["opt","object"],["block","block"]]),e.defn(_e,"$first",I=function(t){try{var r,a,n=this,i=o,$=o,s=arguments.length;return s>1&&e.ac(s,-1,this,"first"),l(t===undefined)?_(n,"each",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"first")}e.ret(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","value"]],r)):(i=[],t=e.const_get_relative(le,"Opal").$coerce_to(t,e.const_get_relative(le,"Integer"),"to_int"),l(t<0)&&n.$raise(e.const_get_relative(le,"ArgumentError"),"attempt to take negative size"),l(0==t)?[]:($=0,_(n,"each",[],(a=function(){var r,n=(a.$$s,arguments.length),s=n-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<n;c++)r[c-0]=arguments[c];if(i.push(e.const_get_relative(le,"Opal").$destructure(r)),!l(t<=++$))return o;e.ret(i)},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"]],a)),i))}catch(t){if(t===e.returner)return t.$v;throw t}},I.$$arity=-1,I.$$parameters=[["opt","number"]]),e.alias(_e,"flat_map","collect_concat"),e.defn(_e,"$grep",C=function(t){var r=this,a=C.$$p,n=a||o;a&&(C.$$p=null);var i=arguments.length
;1!==i&&e.ac(i,1,this,"grep");var $=[];return r.$each.$$p=n!==o?function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),a=t["$==="](r);l(a)&&(a=e.yield1(n,r),$.push(a))}:function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),a=t["$==="](r);l(a)&&$.push(r)},r.$each(),$},C.$$arity=1,C.$$parameters=[["req","pattern"],["block","block"]]),e.defn(_e,"$grep_v",P=function(t){var r=this,a=P.$$p,n=a||o;a&&(P.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"grep_v");var $=[];return r.$each.$$p=n!==o?function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),a=t["$==="](r);u(a)&&(a=e.yield1(n,r),$.push(a))}:function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),a=t["$==="](r);u(a)&&$.push(r)},r.$each(),$},P.$$arity=1,P.$$parameters=[["req","pattern"],["block","block"]]),e.defn(_e,"$group_by",N=function(){var t,r,a=this,n=N.$$p,$=n||o,s=o,c=o;n&&(N.$$p=null);var u=arguments.length;if(0!==u&&e.ac(u,0,this,"group_by"),$===o)return _(a,"enum_for",["group_by"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"group_by")}return r.$enumerator_size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t));s=e.const_get_relative(le,"Hash").$new();var p;return a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),a=e.yield1($,t);(l(r=s["$[]"](a))?r:(c=[a,[]],_(s,"[]=",e.to_a(c)),c[i(c.length,1)]))["$<<"](t)},a.$each(),p!==undefined?p:s},N.$$arity=0,N.$$parameters=[["block","block"]]),e.defn(_e,"$include?",F=function(t){try{var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"include?"),_(a,"each",[],(r=function(){var a,n=(r.$$s,arguments.length),i=n-0;i<0&&(i=0),a=new Array(i);for(var $=0;$<n;$++)a[$-0]=arguments[$];if(!e.const_get_relative(le,"Opal").$destructure(a)["$=="](t))return o;e.ret(!0)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","args"]],r)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},F.$$arity=1,F.$$parameters=[["req","obj"]]),e.defn(_e,"$inject",B=function(t,r){var a=this,n=B.$$p,i=n||o;n&&(B.$$p=null);var $=arguments.length;$>2&&e.ac($,-1,this,"inject");var s=t;return i!==o&&r===undefined?a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if(s===undefined)return void(s=t);t=e.yieldX(i,[s,t]),s=t}:(r===undefined&&(e.const_get_relative(le,"Symbol")["$==="](t)||a.$raise(e.const_get_relative(le,"TypeError"),t.$inspect()+" is not a Symbol"),r=t,s=undefined),a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if(s===undefined)return void(s=t);s=s.$__send__(r,t)}),a.$each(),s==undefined?o:s},B.$$arity=-1,B.$$parameters=[["opt","object"],["opt","sym"],["block","block"]]),e.defn(_e,"$lazy",D=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"lazy"),_(e.const_get_qualified(e.const_get_relative(le,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(t=function(r){var a,n=(t.$$s,arguments.length),i=n-1;i<0&&(i=0),a=new Array(i);for(var $=1;$<n;$++)a[$-1]=arguments[$];if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var s=arguments.length;s<1&&e.block_ac(s,-2,"lazy")}return _(r,"yield",e.to_a(a))},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},D.$$arity=0,D.$$parameters=[]),e.defn(_e,"$enumerator_size",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"enumerator_size"),l(t["$respond_to?"]("size"))?t.$size():o},H.$$arity=0,H.$$parameters=[]),e.alias(_e,"map","collect"),e.defn(_e,"$max",L=function(t){var r=this,a=L.$$p,n=a||o;a&&(L.$$p=null);var i=arguments.length;if(i>1&&e.ac(i,-1,this,"max"),t===undefined||t===o){var $,s;return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if($===undefined)return void($=t);s=n!==o?e.yieldX(n,[t,$]):t["$<=>"]($),s===o&&r.$raise(e.const_get_relative(le,"ArgumentError"),"comparison failed"),s>0&&($=t)},r.$each(),$===undefined?o:$}return t=e.const_get_relative(le,"Opal").$coerce_to(t,e.const_get_relative(le,"Integer"),"to_int"),_(r,"sort",[],n.$to_proc()).$reverse().$first(t)},L.$$arity=-1,L.$$parameters=[["opt","n"],["block","block"]]),e.defn(_e,"$max_by",U=function(){var t,r=this,a=U.$$p,n=a||o;a&&(U.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"max_by"),!l(n))return _(r,"enum_for",["max_by"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"max_by")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $,s;return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(n,t);if($===undefined)return $=t,void(s=r);r["$<=>"](s)>0&&($=t,s=r)},r.$each(),$===undefined?o:$},U.$$arity=0,U.$$parameters=[["block","block"]]),e.alias(_e,"member?","include?"),e.defn(_e,"$min",G=function(){var t=this,r=G.$$p,a=r||o;r&&(G.$$p=null);var n=arguments.length;0!==n&&e.ac(n,0,this,"min");var i;return t.$each.$$p=a!==o?function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments);if(i===undefined)return void(i=r);var n=a(r,i);n===o&&t.$raise(e.const_get_relative(le,"ArgumentError"),"comparison failed"),n<0&&(i=r)}:function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if(i===undefined)return void(i=t);e.const_get_relative(le,"Opal").$compare(t,i)<0&&(i=t)},t.$each(),i===undefined?o:i},G.$$arity=0,G.$$parameters=[["block","block"]]),e.defn(_e,"$min_by",Y=function(){var t,r=this,a=Y.$$p,n=a||o;a&&(Y.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"min_by"),!l(n))return _(r,"enum_for",["min_by"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"min_by")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $,s;return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(n,t);if($===undefined)return $=t,void(s=r);r["$<=>"](s)<0&&($=t,s=r)},r.$each(),$===undefined?o:$},Y.$$arity=0,Y.$$parameters=[["block","block"]]),e.defn(_e,"$minmax",V=function(){var t,r,a=this,n=V.$$p,i=n||o;n&&(V.$$p=null);var $=arguments.length;0!==$&&e.ac($,0,this,"minmax"),i=l(t=i)?t:_(a,"proc",[],(r=function(t,a){r.$$s;if(null==t&&(t=o),null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"minmax")}return t["$<=>"](a)},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","a"],["req","b"]],r));var s=o,c=o,u=!0;return a.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments);if(u)s=c=t,u=!1;else{var r=i.$call(s,t);r===o?a.$raise(e.const_get_relative(le,"ArgumentError"),"comparison failed"):r>0&&(s=t);var n=i.$call(c,t);n===o?a.$raise(e.const_get_relative(le,"ArgumentError"),"comparison failed"):n<0&&(c=t)}},a.$each(),[s,c]},V.$$arity=0,V.$$parameters=[["block","block"]]),e.defn(_e,"$minmax_by",X=function(){var t=this,r=X.$$p;r&&(X.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"minmax_by"),t.$raise(e.const_get_relative(le,"NotImplementedError"))},X.$$arity=0,X.$$parameters=[["block","block"]]),e.defn(_e,"$none?",K=function(){try{var t,r,a=this,n=K.$$p,i=n||o;n&&(K.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"none?"),i!==o?_(a,"each",[],(t=function(){var r,a=(t.$$s,arguments.length),n=a-0;n<0&&(n=0),r=new Array(n);for(var $=0;$<a;$++)r[$-0]=arguments[$];if(!l(e.yieldX(i,e.to_a(r))))return o;e.ret(!1)},t.$$s=a,t.$$arity=-1,t.$$parameters=[["rest","value"]],t)):_(a,"each",[],(r=function(){var t,a=(r.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];if(!l(e.const_get_relative(le,"Opal").$destructure(t)))return o;e.ret(!1)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","value"]],r)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},K.$$arity=0,K.$$parameters=[["block","block"]]),e.defn(_e,"$one?",W=function(){try{var r,a,i=this,$=W.$$p,s=$||o,c=o;$&&(W.$$p=null);var u=arguments.length;return 0!==u&&e.ac(u,0,this,"one?"),c=0,s!==o?_(i,"each",[],(r=function(){var a,i=(r.$$s,arguments.length),$=i-0;$<0&&($=0),a=new Array($);for(var _=0;_<i;_++)a[_-0]=arguments[_];return l(e.yieldX(s,e.to_a(a)))?(c=n(c,1),l(t(c,1))?void e.ret(!1):o):o},r.$$s=i,r.$$arity=-1,r.$$parameters=[["rest","value"]],r)):_(i,"each",[],(a=function(){var r,i=(a.$$s,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var s=0;s<i;s++)r[s-0]=arguments[s];return l(e.const_get_relative(le,"Opal").$destructure(r))?(c=n(c,1),l(t(c,1))?void e.ret(!1):o):o},a.$$s=i,a.$$arity=-1,a.$$parameters=[["rest","value"]],a)),c["$=="](1)}catch(t){if(t===e.returner)return t.$v;throw t}},W.$$arity=0,W.$$parameters=[["block","block"]]),e.defn(_e,"$partition",Z=function(){var t,r=this,a=Z.$$p,n=a||o;a&&(Z.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"partition"),n===o)return _(r,"enum_for",["partition"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"partition")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=[],s=[];return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(n,t);l(r)?$.push(t):s.push(t)},r.$each(),[$,s]},Z.$$arity=0,Z.$$parameters=[["block","block"]]),e.alias(_e,"reduce","inject"),e.defn(_e,"$reject",J=function(){var t,r=this,a=J.$$p,n=a||o;a&&(J.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"reject"),n===o)return _(r,"enum_for",["reject"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reject")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=[];return r.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(n,t);u(r)&&$.push(t)},r.$each(),$},J.$$arity=0,J.$$parameters=[["block","block"]]),e.defn(_e,"$reverse_each",Q=function(){var t,r=this,a=Q.$$p,n=a||o;a&&(Q.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"reverse_each"),n===o)return _(r,"enum_for",["reverse_each"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reverse_each")}return r.$enumerator_size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=[];r.$each.$$p=function(){$.push(arguments)},r.$each();for(var s=$.length-1;s>=0;s--)e.yieldX(n,$[s]);return $},Q.$$arity=0,Q.$$parameters=[["block","block"]]),e.alias(_e,"select","find_all"),e.defn(_e,"$slice_before",ee=function(t){var r,a=this,n=ee.$$p,i=n||o;n&&(ee.$$p=null);var $=arguments.length;return $>1&&e.ac($,-1,this,"slice_before"),l(t===undefined&&i===o)&&a.$raise(e.const_get_relative(le,"ArgumentError"),"both pattern and block are given"),l(t!==undefined&&i!==o||arguments.length>1)&&a.$raise(e.const_get_relative(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(e.const_get_relative(le,"Enumerator"),"new",[],(r=function(a){var n=r.$$s||this;if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"slice_before")}var s=[];i!==o?t===undefined?n.$each.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),r=e.yield1(i,t);l(r)&&s.length>0&&(a["$<<"](s),s=[]),s.push(t)}:n.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),n=i(r,t.$dup());l(n)&&s.length>0&&(a["$<<"](s),s=[]),s.push(r)}:n.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),n=t["$==="](r);l(n)&&s.length>0&&(a["$<<"](s),s=[]),s.push(r)},n.$each(),s.length>0&&a["$<<"](s)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","e"]],r))},ee.$$arity=-1,ee.$$parameters=[["opt","pattern"],["block","block"]]),e.defn(_e,"$slice_after",te=function(t){var r,a,n=this,i=te.$$p,$=i||o;i&&(te.$$p=null);var s=arguments.length;return s>1&&e.ac(s,-1,this,"slice_after"),l(t===undefined&&$===o)&&n.$raise(e.const_get_relative(le,"ArgumentError"),"both pattern and block are given"),l(t!==undefined&&$!==o||arguments.length>1)&&n.$raise(e.const_get_relative(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),l(t!==undefined)&&($=_(n,"proc",[],(r=function(a){r.$$s;if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"slice_after")}return t["$==="](a)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","e"]],r))),_(e.const_get_relative(le,"Enumerator"),"new",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"slice_after")}var i;r.$each.$$p=function(){var r=e.const_get_relative(le,"Opal").$destructure(arguments),a=e.yield1($,r);null==i&&(i=[]),l(a)?(i.push(r),t.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&t.$yield(i)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","yielder"]],a))},te.$$arity=-1,te.$$parameters=[["opt","pattern"],["block","block"]]),e.defn(_e,"$slice_when",re=function(){var t,r=this,a=re.$$p,n=a||o;a&&(re.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"slice_when"),n!==o||r.$raise(e.const_get_relative(le,"ArgumentError"),"wrong number of arguments (0 for 1)"),_(e.const_get_relative(le,"Enumerator"),"new",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"slice_when")}var $=o,s=o;a.$each_cons.$$p=function(){var t=e.const_get_relative(le,"Opal").$destructure(arguments),a=t[0],i=t[1],c=e.yieldX(n,[a,i]);s=i,$===o&&($=[]),l(c)?($.push(a),r.$yield($),$=[]):$.push(a)},a.$each_cons(2),$!==o&&($.push(s),r.$yield($))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","yielder"]],t))},re.$$arity=0,re.$$parameters=[["block","block"]]),e.defn(_e,"$sort",ae=function(){var t,r=this,a=ae.$$p,n=a||o,i=o;a&&(ae.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"sort"),i=r.$to_a(),n!==o||(n=_(r,"lambda",[],(t=function(r,a){t.$$s;if(null==r&&(r=o),null==a&&(a=o),t.$$is_lambda||t.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"sort")}return r["$<=>"](a)},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","a"],["req","b"]],t))),_(i,"sort",[],n.$to_proc())},ae.$$arity=0,ae.$$parameters=[["block","block"]]),e.defn(_e,"$sort_by",ne=function(){var t,r,a,n,i=this,$=ne.$$p,s=$||o,c=o;$&&(ne.$$p=null);var l=arguments.length;return 0!==l&&e.ac(l,0,this,"sort_by"),s===o?_(i,"enum_for",["sort_by"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"sort_by")}return r.$enumerator_size()},t.$$s=i,t.$$arity=0,t.$$parameters=[],t)):(c=_(i,"map",[],(r=function(){var t=(r.$$s,o);if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"sort_by")}return t=e.const_get_relative(le,"Opal").$destructure(arguments),[e.yield1(s,t),t]},r.$$s=i,r.$$arity=0,r.$$parameters=[],r)),_(c,"sort!",[],(a=function(t,r){a.$$s;if(null==t&&(t=o),null==r&&(r=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"sort_by")}return t[0]["$<=>"](r[0])},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","a"],["req","b"]],a)),_(c,"map!",[],(n=function(t){n.$$s;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"sort_by")}return t[1]},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","i"]],n)))},ne.$$arity=0,ne.$$parameters=[["block","block"]]),e.defn(_e,"$sum",ie=function(t){var r,a=this,i=ie.$$p,$=i||o,s=o;null==t&&(t=0),i&&(ie.$$p=null);var c=arguments.length;return c>1&&e.ac(c,-1,this,"sum"),s=t,_(a,"each",[],(r=function(){var t,a=(r.$$s,o),i=arguments.length,c=i-0;c<0&&(c=0),t=new Array(c);for(var l=0;l<i;l++)t[l-0]=arguments[l];return a=$!==o?_($,"call",e.to_a(t)):e.const_get_relative(le,"Opal").$destructure(t),s=n(s,a)},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","args"]],r)),s},ie.$$arity=-1,ie.$$parameters=[["opt","initial"],["block","block"]]),e.defn(_e,"$take",$e=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"take"),r.$first(t)},$e.$$arity=1,$e.$$parameters=[["req","num"]]),e.defn(_e,"$take_while",se=function(){try{var t,r=this,a=se.$$p,n=a||o,i=o;a&&(se.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"take_while"),l(n)?(i=[],_(r,"each",[],(t=function(){var r,a=(t.$$s,o),$=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<$;c++)r[c-0]=arguments[c];return a=e.const_get_relative(le,"Opal").$destructure(r),l(e.yield1(n,a))||e.ret(i),i.push(a)},t.$$s=r,t.$$arity=-1,t.$$parameters=[["rest","args"]],t))):r.$enum_for("take_while")}catch(t){if(t===e.returner)return t.$v;throw t}},se.$$arity=0,se.$$parameters=[["block","block"]]),e.defn(_e,"$uniq",oe=function(){var t,r=this,a=oe.$$p,n=a||o,$=o;a&&(oe.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"uniq"),$=p([],{}),_(r,"each",[],(t=function(){var r,a=(t.$$s,o),s=o,c=o,u=arguments.length,p=u-0;p<0&&(p=0),r=new Array(p);for(var d=0;d<u;d++)r[d-0]=arguments[d];return a=e.const_get_relative(le,"Opal").$destructure(r),s=function(){return n!==o?n.$call(a):a}(),l($["$has_key?"](s))?o:(c=[s,a],_($,"[]=",e.to_a(c)),c[i(c.length,1)])},t.$$s=r,t.$$arity=-1,t.$$parameters=[["rest","args"]],t)),$.$values()},oe.$$arity=0,oe.$$parameters=[["block","block"]]),e.alias(_e,"to_a","entries"),e.defn(_e,"$zip",ce=function(){var t,r=this,a=ce.$$p,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];return a&&(ce.$$p=null),_(r.$to_a(),"zip",e.to_a(t))},ce.$$arity=-1,ce.$$parameters=[["rest","others"],["block","block"]])}(s[0],s)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=e.top,n=[],i=e.nil,$=e.breaker,s=e.slice,o=e.klass,c=e.truthy,_=e.send,l=e.falsy;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),a.$require("corelib/enumerable"),function(a,$super,n){function u(){}var p,d,f,h,m,g,v=u=o(a,$super,"Enumerator",u),y=v.$$proto,b=[v].concat(n);return y.size=y.args=y.object=y.method=i,v.$include(e.const_get_relative(b,"Enumerable")),y.$$is_enumerator=!0,e.defs(v,"$for",p=function(t,r){var a,n=this,$=p.$$p,s=$||i;null==r&&(r="each");var o=arguments.length,c=o-2;c<0&&(c=0),a=new Array(c);for(var _=2;_<o;_++)a[_-2]=arguments[_];$&&(p.$$p=null);var l=arguments.length;l<1&&e.ac(l,-2,this,"for");var u=n.$allocate();return u.object=t,u.size=s,u.method=r,u.args=a,u},p.$$arity=-2,p.$$parameters=[["req","object"],["opt","method"],["rest","args"],["block","block"]]),e.defn(v,"$initialize",d=function(){var t=this,r=d.$$p,a=r||i;return r&&(d.$$p=null),c(a)?(t.object=_(e.const_get_relative(b,"Generator"),"new",[],a.$to_proc()),t.method="each",t.args=[],t.size=arguments[0]||i,c(t.size)?t.size=e.const_get_relative(b,"Opal").$coerce_to(t.size,e.const_get_relative(b,"Integer"),"to_int"):i):(t.object=arguments[0],t.method=arguments[1]||"each",t.args=s.call(arguments,2),t.size=i)},d.$$arity=-1,d.$$parameters=[["rest"],["block","block"]]),e.defn(v,"$each",f=function(){var r,a,n=this,$=f.$$p,s=$||i,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var u=0;u<o;u++)a[u-0]=arguments[u];return $&&(f.$$p=null),c(c(r=s["$nil?"]())?a["$empty?"]():r)?n:(a=t(n.args,a),c(s["$nil?"]())?_(n.$class(),"new",[n.object,n.method].concat(e.to_a(a))):_(n.object,"__send__",[n.method].concat(e.to_a(a)),s.$to_proc()))},f.$$arity=-1,f.$$parameters=[["rest","args"],["block","block"]]),e.defn(v,"$size",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"size"),c(e.const_get_relative(b,"Proc")["$==="](t.size))?_(t.size,"call",e.to_a(t.args)):t.size},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$with_index",m=function(t){var r,a=this,n=m.$$p,$=n||i;null==t&&(t=0),n&&(m.$$p=null);var s=arguments.length;if(s>1&&e.ac(s,-1,this,"with_index"),t=c(t)?e.const_get_relative(b,"Opal").$coerce_to(t,e.const_get_relative(b,"Integer"),"to_int"):0,!c($))return _(a,"enum_for",["with_index",t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"with_index")}return t.$size()},r.$$s=a,r.$$arity=0,r.$$parameters=[],r));var o=t;return a.$each.$$p=function(){var t=e.const_get_relative(b,"Opal").$destructure(arguments),r=$(t,o);return o++,r},a.$each()},m.$$arity=-1,m.$$parameters=[["opt","offset"],["block","block"]]),e.alias(v,"with_object","each_with_object"),e.defn(v,"$inspect",g=function(){var r=this,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"inspect"),a="#<"+r.$class()+": "+r.object.$inspect()+":"+r.method,c(r.args["$empty?"]())||(a=t(a,"("+r.args.$inspect()["$[]"](e.const_get_relative(b,"Range").$new(1,-2))+")")),t(a,">")},g.$$arity=0,g.$$parameters=[]),function(t,$super,r){function a(){}var n,s,l=a=o(t,$super,"Generator",a),u=l.$$proto,p=[l].concat(r);u.block=i,l.$include(e.const_get_relative(p,"Enumerable")),e.defn(l,"$initialize",n=function(){var t=this,r=n.$$p,a=r||i;r&&(n.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"initialize"),c(a)||t.$raise(e.const_get_relative(p,"LocalJumpError"),"no block given"),t.block=a},n.$$arity=0,n.$$parameters=[["block","block"]]),e.defn(l,"$each",s=function(){var t,r=this,a=s.$$p,n=a||i,o=i,c=arguments.length,l=c-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<c;u++)t[u-0]=arguments[u];a&&(s.$$p=null),o=_(e.const_get_relative(p,"Yielder"),"new",[],n.$to_proc());try{t.unshift(o),e.yieldX(r.block,t)}catch(e){if(e===$)return $.$v;throw e}return r},s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]])}(b[0],null,b),function(t,$super,r){function a(){}var n,s,c,l=a=o(t,$super,"Yielder",a),u=l.$$proto;[l].concat(r);u.block=i,e.defn(l,"$initialize",n=function(){var t=this,r=n.$$p,a=r||i;r&&(n.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"initialize"),t.block=a},n.$$arity=0,n.$$parameters=[["block","block"]]),e.defn(l,"$yield",s=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];var s=e.yieldX(r.block,t);if(s===$)throw $;return s},s.$$arity=-1,s.$$parameters=[["rest","values"]]),e.defn(l,"$<<",c=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return _(r,"yield",e.to_a(t)),r},c.$$arity=-1,c.$$parameters=[["rest","values"]])}(b[0],null,b),function(a,$super,n){function $(){}var s,u,p,d,f,h,m,g,v,y,b,x,k,q=$=o(a,$super,"Lazy",$),w=q.$$proto,E=[q].concat(n);return w.enumerator=i,function(e,$super,t){function r(){}var a=r=o(e,$super,"StopLazyError",r);a.$$proto,[a].concat(t)}(E[0],e.const_get_relative(E,"Exception"),E),e.defn(q,"$initialize",s=function(t,r){var a,n=this,$=s.$$p,o=$||i;null==r&&(r=i),$&&(s.$$p=null);var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"initialize"),o!==i||n.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy new without a block"),n.enumerator=t,_(n,e.find_super_dispatcher(n,"initialize",s,!1),[r],(a=function(r){var n,$,s=a.$$s||this,c=arguments.length,l=c-1;l<0&&(l=0),n=new Array(l);for(var u=1;u<c;u++)n[u-1]=arguments[u];if(null==r&&(r=i),a.$$is_lambda||a.$$define_meth){var p=arguments.length;p<1&&e.block_ac(p,-2,"initialize")}try{return _(t,"each",e.to_a(n),($=function(){var t,a=($.$$s,arguments.length),n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];t.unshift(r),e.yieldX(o,t)},$.$$s=s,$.$$arity=-1,$.$$parameters=[["rest","args"]],$))}catch(t){if(!e.rescue(t,[e.const_get_relative(E,"Exception")]))throw t;try{return i}finally{e.pop_exception()}}},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","yielder"],["rest","each_args"]],a))},s.$$arity=-2,s.$$parameters=[["req","object"],["opt","size"],["block","block"]]),e.alias(q,"force","to_a"),e.defn(q,"$lazy",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lazy"),t},u.$$arity=0,u.$$parameters=[]),e.defn(q,"$collect",p=function(){var t,r=this,a=p.$$p,n=a||i;a&&(p.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"collect"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy map without a block"),_(e.const_get_relative(E,"Lazy"),"new",[r,r.$enumerator_size()],(t=function(r){var a,$=(t.$$s,arguments.length),s=$-1;s<0&&(s=0),a=new Array(s);for(var o=1;o<$;o++)a[o-1]=arguments[o];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"collect")}var _=e.yieldX(n,a);r.$yield(_)},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},p.$$arity=0,p.$$parameters=[["block","block"]]),e.defn(q,"$collect_concat",d=function(){var t,r=this,a=d.$$p,n=a||i;a&&(d.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"collect_concat"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy map without a block"),_(e.const_get_relative(E,"Lazy"),"new",[r,i],(t=function(r){var a,$,s,o=t.$$s||this,c=arguments.length,l=c-1;l<0&&(l=0),a=new Array(l);for(var u=1;u<c;u++)a[u-1]=arguments[u];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var p=arguments.length;p<1&&e.block_ac(p,-2,"collect_concat")}var d=e.yieldX(n,a);if(d["$respond_to?"]("force")&&d["$respond_to?"]("each"))_(d,"each",[],($=function(t){$.$$s;if(null==t&&(t=i),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect_concat")}return r.$yield(t)},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","v"]],$));else{e.const_get_relative(E,"Opal").$try_convert(d,e.const_get_relative(E,"Array"),"to_ary")===i?r.$yield(d):_(d,"each",[],(s=function(t){s.$$s;if(null==t&&(t=i),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect_concat")}return r.$yield(t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","v"]],s))}},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},d.$$arity=0,d.$$parameters=[["block","block"]]),e.defn(q,"$drop",f=function(a){var n,$=this,s=i,o=i,l=i,u=arguments.length;return 1!==u&&e.ac(u,1,this,"drop"),a=e.const_get_relative(E,"Opal").$coerce_to(a,e.const_get_relative(E,"Integer"),"to_int"),c(r(a,0))&&$.$raise(e.const_get_relative(E,"ArgumentError"),"attempt to drop negative size"),s=$.$enumerator_size(),o=function(){return c(e.const_get_relative(E,"Integer")["$==="](s))&&c(r(a,s))?a:s}(),l=0,_(e.const_get_relative(E,"Lazy"),"new",[$,o],(n=function($){var s,o=(n.$$s,arguments.length),u=o-1;u<0&&(u=0),s=new Array(u);for(var p=1;p<o;p++)s[p-1]=arguments[p];if(null==$&&($=i),n.$$is_lambda||n.$$define_meth){var d=arguments.length;d<1&&e.block_ac(d,-2,"drop")}return c(r(l,a))?l=t(l,1):_($,"yield",e.to_a(s))},n.$$s=$,n.$$arity=-2,n.$$parameters=[["req","enum$"],["rest","args"]],n))},f.$$arity=1,f.$$parameters=[["req","n"]]),e.defn(q,"$drop_while",h=function(){var t,r=this,a=h.$$p,n=a||i,$=i;a&&(h.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"drop_while"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy drop_while without a block"),$=!0,_(e.const_get_relative(E,"Lazy"),"new",[r,i],(t=function(r){var a,s=(t.$$s,arguments.length),o=s-1;o<0&&(o=0),a=new Array(o);for(var u=1;u<s;u++)a[u-1]=arguments[u];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var p=arguments.length;p<1&&e.block_ac(p,-2,"drop_while")}if(!c($))return _(r,"yield",e.to_a(a));var d=e.yieldX(n,a);l(d)&&($=!1,_(r,"yield",e.to_a(a)))},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},h.$$arity=0,h.$$parameters=[["block","block"]]),e.defn(q,"$enum_for",m=function(t){var r,a=this,n=m.$$p,$=n||i;null==t&&(t="each");var s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];return n&&(m.$$p=null),_(a.$class(),"for",[a,t].concat(e.to_a(r)),$.$to_proc())},m.$$arity=-1,m.$$parameters=[["opt","method"],["rest","args"],["block","block"]]),e.defn(q,"$find_all",g=function(){var t,r=this,a=g.$$p,n=a||i;a&&(g.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"find_all"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy select without a block"),_(e.const_get_relative(E,"Lazy"),"new",[r,i],(t=function(r){var a,$=(t.$$s,arguments.length),s=$-1;s<0&&(s=0),a=new Array(s);for(var o=1;o<$;o++)a[o-1]=arguments[o];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var l=arguments.length;l<1&&e.block_ac(l,-2,"find_all")}var u=e.yieldX(n,a);c(u)&&_(r,"yield",e.to_a(a))},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},g.$$arity=0,g.$$parameters=[["block","block"]]),e.alias(q,"flat_map","collect_concat"),e.defn(q,"$grep",v=function(t){var r,a,n=this,$=v.$$p,s=$||i;$&&(v.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"grep"),c(s)?_(e.const_get_relative(E,"Lazy"),"new",[n,i],(r=function(a){var n,$=(r.$$s,arguments.length),o=$-1;o<0&&(o=0),n=new Array(o);for(var _=1;_<$;_++)n[_-1]=arguments[_];if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var l=arguments.length;l<1&&e.block_ac(l,-2,"grep")}var u=e.const_get_relative(E,"Opal").$destructure(n),p=t["$==="](u);c(p)&&(p=e.yield1(s,u),a.$yield(e.yield1(s,u)))},r.$$s=n,r.$$arity=-2,r.$$parameters=[["req","enum$"],["rest","args"]],r)):_(e.const_get_relative(E,"Lazy"),"new",[n,i],(a=function(r){var n,$=(a.$$s,arguments.length),s=$-1;s<0&&(s=0),n=new Array(s);for(var o=1;o<$;o++)n[o-1]=arguments[o];if(null==r&&(r=i),a.$$is_lambda||a.$$define_meth){var _=arguments.length;_<1&&e.block_ac(_,-2,"grep")}var l=e.const_get_relative(E,"Opal").$destructure(n),u=t["$==="](l);c(u)&&r.$yield(l)},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","enum$"],["rest","args"]],a))},v.$$arity=1,v.$$parameters=[["req","pattern"],["block","block"]]),e.alias(q,"map","collect"),e.alias(q,"select","find_all"),e.defn(q,"$reject",y=function(){var t,r=this,a=y.$$p,n=a||i;a&&(y.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"reject"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy reject without a block"),_(e.const_get_relative(E,"Lazy"),"new",[r,i],(t=function(r){var a,$=(t.$$s,arguments.length),s=$-1;s<0&&(s=0),a=new Array(s);for(var o=1;o<$;o++)a[o-1]=arguments[o];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"reject")}var u=e.yieldX(n,a);l(u)&&_(r,"yield",e.to_a(a))},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(q,"$take",b=function(a){var n,$=this,s=i,o=i,l=i,u=arguments.length;return 1!==u&&e.ac(u,1,this,"take"),a=e.const_get_relative(E,"Opal").$coerce_to(a,e.const_get_relative(E,"Integer"),"to_int"),c(r(a,0))&&$.$raise(e.const_get_relative(E,"ArgumentError"),"attempt to take negative size"),s=$.$enumerator_size(),o=function(){return c(e.const_get_relative(E,"Integer")["$==="](s))&&c(r(a,s))?a:s}(),l=0,_(e.const_get_relative(E,"Lazy"),"new",[$,o],(n=function($){var s,o=n.$$s||this,u=arguments.length,p=u-1;p<0&&(p=0),s=new Array(p);for(var d=1;d<u;d++)s[d-1]=arguments[d];if(null==$&&($=i),n.$$is_lambda||n.$$define_meth){var f=arguments.length;f<1&&e.block_ac(f,-2,"take")}return c(r(l,a))?(_($,"yield",e.to_a(s)),l=t(l,1)):o.$raise(e.const_get_relative(E,"StopLazyError"))},n.$$s=$,n.$$arity=-2,n.$$parameters=[["req","enum$"],["rest","args"]],n))},b.$$arity=1,b.$$parameters=[["req","n"]]),e.defn(q,"$take_while",x=function(){var t,r=this,a=x.$$p,n=a||i;a&&(x.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"take_while"),c(n)||r.$raise(e.const_get_relative(E,"ArgumentError"),"tried to call lazy take_while without a block"),_(e.const_get_relative(E,"Lazy"),"new",[r,i],(t=function(r){var a,$=t.$$s||this,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var l=1;l<s;l++)a[l-1]=arguments[l];if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var u=arguments.length;u<1&&e.block_ac(u,-2,"take_while")}var p=e.yieldX(n,a);c(p)?_(r,"yield",e.to_a(a)):$.$raise(e.const_get_relative(E,"StopLazyError"))},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","enum$"],["rest","args"]],t))},x.$$arity=0,x.$$parameters=[["block","block"]]),e.alias(q,"to_enum","enum_for"),e.defn(q,"$inspect",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},k.$$arity=0,k.$$parameters=[]),i&&"inspect"}(b[0],v,b)}(n[0],null,n)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)
}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.klass),_=e.truthy,l=e.hash2;return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,$super,s){function u(){}var p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X=u=c($,$super,"Numeric",u),K=(X.$$proto,[X].concat(s));return X.$include(e.const_get_relative(K,"Comparable")),e.defn(X,"$coerce",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"coerce"),_(t["$instance_of?"](r.$class()))?[t,r]:[r.$Float(t),r.$Float(r)]},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(X,"$__coerced__",d=function(t,r){var a,n,i=this,$=o,s=o,c=o,_=arguments.length;2!==_&&e.ac(_,2,this,"__coerced__");try{n=r.$coerce(i),a=e.to_ary(n),$=null==a[0]?o:a[0],s=null==a[1]?o:a[1]}catch(a){if(!e.rescue(a,[e.const_get_relative(K,"StandardError")]))throw a;try{c=t,"+"["$==="](c)||"-"["$==="](c)||"*"["$==="](c)||"/"["$==="](c)||"%"["$==="](c)||"&"["$==="](c)||"|"["$==="](c)||"^"["$==="](c)||"**"["$==="](c)?i.$raise(e.const_get_relative(K,"TypeError"),r.$class()+" can't be coerce into Numeric"):(">"["$==="](c)||">="["$==="](c)||"<"["$==="](c)||"<="["$==="](c)||"<=>"["$==="](c))&&i.$raise(e.const_get_relative(K,"ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed")}finally{e.pop_exception()}}return $.$__send__(t,s)},d.$$arity=2,d.$$parameters=[["req","method"],["req","other"]]),e.defn(X,"$<=>",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<=>"),_(r["$equal?"](t))?0:o},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(X,"$+@",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"+@"),t},h.$$arity=0,h.$$parameters=[]),e.defn(X,"$-@",m=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"-@"),t(0,r)},m.$$arity=0,m.$$parameters=[]),e.defn(X,"$%",g=function(a){var n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"%"),t(n,r(a,n.$div(a)))},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(X,"$abs",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),a(t,0)?t["$-@"]():t},v.$$arity=0,v.$$parameters=[]),e.defn(X,"$abs2",y=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"abs2"),r(t,t)},y.$$arity=0,y.$$parameters=[]),e.defn(X,"$angle",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"angle"),a(t,0)?e.const_get_qualified(e.const_get_relative(K,"Math"),"PI"):0},b.$$arity=0,b.$$parameters=[]),e.alias(X,"arg","angle"),e.defn(X,"$ceil",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ceil"),t.$to_f().$ceil()},x.$$arity=0,x.$$parameters=[]),e.defn(X,"$conj",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"conj"),t},k.$$arity=0,k.$$parameters=[]),e.alias(X,"conjugate","conj"),e.defn(X,"$denominator",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.$to_r().$denominator()},q.$$arity=0,q.$$parameters=[]),e.defn(X,"$div",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"div"),t["$=="](0)&&r.$raise(e.const_get_relative(K,"ZeroDivisionError"),"divided by o"),n(r,t).$floor()},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(X,"$divmod",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"divmod"),[r.$div(t),r["$%"](t)]},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(X,"$fdiv",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"fdiv"),n(r.$to_f(),t)},S.$$arity=1,S.$$parameters=[["req","other"]]),e.defn(X,"$floor",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"floor"),t.$to_f().$floor()},M.$$arity=0,M.$$parameters=[]),e.defn(X,"$i",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"i"),t.$Complex(0,t)},O.$$arity=0,O.$$parameters=[]),e.defn(X,"$imag",A=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"imag"),0},A.$$arity=0,A.$$parameters=[]),e.alias(X,"imaginary","imag"),e.defn(X,"$integer?",R=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"integer?"),!1},R.$$arity=0,R.$$parameters=[]),e.alias(X,"magnitude","abs"),e.alias(X,"modulo","%"),e.defn(X,"$nonzero?",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"nonzero?"),_(t["$zero?"]())?o:t},z.$$arity=0,z.$$parameters=[]),e.defn(X,"$numerator",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numerator"),t.$to_r().$numerator()},j.$$arity=0,j.$$parameters=[]),e.alias(X,"phase","arg"),e.defn(X,"$polar",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"polar"),[t.$abs(),t.$arg()]},T.$$arity=0,T.$$parameters=[]),e.defn(X,"$quo",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"quo"),n(e.const_get_relative(K,"Opal")["$coerce_to!"](r,e.const_get_relative(K,"Rational"),"to_r"),t)},I.$$arity=1,I.$$parameters=[["req","other"]]),e.defn(X,"$real",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"real"),t},C.$$arity=0,C.$$parameters=[]),e.defn(X,"$real?",P=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"real?"),!0},P.$$arity=0,P.$$parameters=[]),e.defn(X,"$rect",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rect"),[t,0]},N.$$arity=0,N.$$parameters=[]),e.alias(X,"rectangular","rect"),e.defn(X,"$round",F=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"round"),r.$to_f().$round(t)},F.$$arity=-1,F.$$parameters=[["opt","digits"]]),e.defn(X,"$to_c",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_c"),t.$Complex(t,0)},B.$$arity=0,B.$$parameters=[]),e.defn(X,"$to_int",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_int"),t.$to_i()},D.$$arity=0,D.$$parameters=[]),e.defn(X,"$truncate",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"truncate"),t.$to_f().$truncate()},H.$$arity=0,H.$$parameters=[]),e.defn(X,"$zero?",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"zero?"),t["$=="](0)},L.$$arity=0,L.$$parameters=[]),e.defn(X,"$positive?",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive?"),i(t,0)},U.$$arity=0,U.$$parameters=[]),e.defn(X,"$negative?",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),a(t,0)},G.$$arity=0,G.$$parameters=[]),e.defn(X,"$dup",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dup"),t},Y.$$arity=0,Y.$$parameters=[]),e.defn(X,"$clone",V=function(t){var r,a=this;if(null==t||!t.$$is_hash){if(null!=t)throw e.ArgumentError.$new("expected kwargs");t=l([],{})}null==(r=t.$$smap.freeze)&&(r=!0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"clone"),a},V.$$arity=-1,V.$$parameters=[["key","freeze"]]),o&&"clone"}(s[0],null,s)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.klass),_=e.truthy,l=e.hash2,u=e.send,p=e.gvars;return e.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,$super,s){function d(){}function f(t,r){return r.$$name===e.Array?t:r.$allocate().$replace(t.$to_a())}function h(t,r){var a,n,i,$,s=t.length;return a=r.excl,n=e.Opal.$coerce_to(r.begin,e.Integer,"to_int"),i=e.Opal.$coerce_to(r.end,e.Integer,"to_int"),n<0&&(n+=s)<0?o:n>s?o:i<0&&(i+=s)<0?[]:(a||(i+=1),$=t.slice(n,i),f($,t.$class()))}function m(t,r,a){var n,i=t.length;return(r=e.Opal.$coerce_to(r,e.Integer,"to_int"))<0&&(r+=i)<0?o:a===undefined?r>=i||r<0?o:t[r]:(a=e.Opal.$coerce_to(a,e.Integer,"to_int"))<0||r>i||r<0?o:(n=t.slice(r,r+a),f(n,t.$class()))}function g(e,t){return e===t||0===t?1:t>0&&e>t?g(e-1,t-1)+g(e-1,t):0}function v(e,t){for(var r=t>=0?1:0;t;)r*=e,e--,t--;return r}var y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me,ge,ve,ye,be,xe,ke,qe,we,Ee,Se,Me,Oe,Ae,Re,ze,je,Te,Ie,Ce,Pe,Ne,Fe,Be,De,He,Le,Ue,Ge,Ye,Ve,Xe,Ke,We,Ze,Je,Qe,et,tt,rt=d=c($,$super,"Array",d),at=rt.$$proto,nt=[rt].concat(s);return rt.$include(e.const_get_relative(nt,"Enumerable")),at.$$is_array=!0,e.defs(rt,"$[]",y=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return f(e,t)},y.$$arity=-1,y.$$parameters=[["rest","objects"]]),e.defn(rt,"$initialize",b=function(t,r){var a=this,n=b.$$p,i=n||o;null==t&&(t=o),null==r&&(r=o),n&&(b.$$p=null);var $=arguments.length;if($>2&&e.ac($,-1,this,"initialize"),r!==o&&i!==o&&a.$warn("warning: block supersedes default value argument"),t>e.const_get_qualified(e.const_get_relative(nt,"Integer"),"MAX")&&a.$raise(e.const_get_relative(nt,"ArgumentError"),"array size too big"),arguments.length>2&&a.$raise(e.const_get_relative(nt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return a.splice(0,a.length),a;if(1===arguments.length){if(t.$$is_array)return a.$replace(t.$to_a()),a;if(t["$respond_to?"]("to_ary"))return a.$replace(t.$to_ary()),a}t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&a.$raise(e.const_get_relative(nt,"ArgumentError"),"negative array size"),a.splice(0,a.length);var s,c;if(i===o)for(s=0;s<t;s++)a.push(r);else for(s=0,c;s<t;s++)c=i(s),a[s]=c;return a},b.$$arity=-1,b.$$parameters=[["opt","size"],["opt","obj"],["block","block"]]),e.defs(rt,"$try_convert",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),e.const_get_relative(nt,"Opal")["$coerce_to?"](t,e.const_get_relative(nt,"Array"),"to_ary")},x.$$arity=1,x.$$parameters=[["req","obj"]]),e.defn(rt,"$&",k=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"&"),t=_(e.const_get_relative(nt,"Array")["$==="](t))?t.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Array"),"to_ary").$to_a();var n,i,$,s=[],o=l([],{});for(n=0,i=t.length;n<i;n++)e.hash_put(o,t[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],e.hash_delete(o,$)!==undefined&&s.push($);return s},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(rt,"$|",q=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"|"),t=_(e.const_get_relative(nt,"Array")["$==="](t))?t.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Array"),"to_ary").$to_a();var n,i,$=l([],{});for(n=0,i=r.length;n<i;n++)e.hash_put($,r[n],!0);for(n=0,i=t.length;n<i;n++)e.hash_put($,t[n],!0);return $.$keys()},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(rt,"$*",w=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"*"),_(t["$respond_to?"]("to_str")))return r.$join(t.$to_str());t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),_(t<0)&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"negative argument");for(var n=[],i=r.$to_a(),$=0;$<t;$++)n=n.concat(i);return f(n,r.$class())},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(rt,"$+",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),t=_(e.const_get_relative(nt,"Array")["$==="](t))?t.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Array"),"to_ary").$to_a(),r.concat(t)},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(rt,"$-",S=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"-"),t=_(e.const_get_relative(nt,"Array")["$==="](t))?t.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Array"),"to_ary").$to_a(),_(0===r.length))return[];if(_(0===t.length))return r.slice();var n,i,$,s=[],o=l([],{});for(n=0,i=t.length;n<i;n++)e.hash_put(o,t[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],e.hash_get(o,$)===undefined&&s.push($);return s},S.$$arity=1,S.$$parameters=[["req","other"]]),e.defn(rt,"$<<",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.push(t),r},M.$$arity=1,M.$$parameters=[["req","object"]]),e.defn(rt,"$<=>",O=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"<=>"),_(e.const_get_relative(nt,"Array")["$==="](t)))t=t.$to_a();else{if(!_(t["$respond_to?"]("to_ary")))return o;t=t.$to_ary().$to_a()}if(r.$hash()===t.$hash())return 0;for(var n=Math.min(r.length,t.length),i=0;i<n;i++){var $=r[i]["$<=>"](t[i]);if(0!==$)return $}return r.length["$<=>"](t.length)},O.$$arity=1,O.$$parameters=[["req","other"]]),e.defn(rt,"$==",A=function(t){function r(t,a){var n,$,s,o;if(t===a)return!0;if(!a.$$is_array)return!!e.const_get_relative(nt,"Opal")["$respond_to?"](a,"to_ary")&&a["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),a.constructor!==Array&&(a=a.$to_a()),t.length!==a.length)return!1;for(i[t.$object_id()]=!0,n=0,$=t.length;n<$;n++)if(s=t[n],o=a[n],s.$$is_array){if(o.$$is_array&&o.length!==s.length)return!1;if(!i.hasOwnProperty(s.$object_id())&&!r(s,o))return!1}else if(!s["$=="](o))return!1;return!0}var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"==");var i={};return r(a,t)},A.$$arity=1,A.$$parameters=[["req","other"]]),e.defn(rt,"$[]",R=function(t,r){var a=this,n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"[]"),t.$$is_range?h(a,t):m(a,t,r)},R.$$arity=-2,R.$$parameters=[["req","index"],["opt","length"]]),e.defn(rt,"$[]=",z=function(t,r,a){var n=this,i=o,$=o,s=arguments.length;(s<2||s>3)&&e.ac(s,-3,this,"[]=");var c,l=n.length;if(_(e.const_get_relative(nt,"Range")["$==="](t))){i=_(e.const_get_relative(nt,"Array")["$==="](r))?r.$to_a():_(r["$respond_to?"]("to_ary"))?r.$to_ary().$to_a():[r];var u=t.excl,p=e.const_get_relative(nt,"Opal").$coerce_to(t.begin,e.const_get_relative(nt,"Integer"),"to_int"),d=e.const_get_relative(nt,"Opal").$coerce_to(t.end,e.const_get_relative(nt,"Integer"),"to_int");if(p<0&&(p+=l)<0&&n.$raise(e.const_get_relative(nt,"RangeError"),t.$inspect()+" out of range"),d<0&&(d+=l),u||(d+=1),p>l)for(c=l;c<p;c++)n[c]=o;return d<0?n.splice.apply(n,[p,0].concat(i)):n.splice.apply(n,[p,d-p].concat(i)),r}_(a===undefined)?$=1:($=r,r=a,i=_(e.const_get_relative(nt,"Array")["$==="](r))?r.$to_a():_(r["$respond_to?"]("to_ary"))?r.$to_ary().$to_a():[r]);var f;if(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),$=e.const_get_relative(nt,"Opal").$coerce_to($,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&(f=t,(t+=l)<0&&n.$raise(e.const_get_relative(nt,"IndexError"),"index "+f+" too small for array; minimum "+-n.length)),$<0&&n.$raise(e.const_get_relative(nt,"IndexError"),"negative length ("+$+")"),t>l)for(c=l;c<t;c++)n[c]=o;return a===undefined?n[t]=r:n.splice.apply(n,[t,$].concat(i)),r},z.$$arity=-3,z.$$parameters=[["req","index"],["req","value"],["opt","extra"]]),e.defn(rt,"$any?",j=function(){var t=this,r=j.$$p,a=o,n=o,i=o;r&&(j.$$p=null);var $=arguments.length;for(0!==$&&e.ac($,0,this,"any?"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return 0!==t.length&&u(t,e.find_super_dispatcher(t,"any?",j,!1),a,r)},j.$$arity=0,j.$$parameters=[]),e.defn(rt,"$assoc",T=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"assoc");for(var n,i=0,$=r.length;i<$;i++)if(n=r[i],n.length&&n[0]["$=="](t))return n;return o},T.$$arity=1,T.$$parameters=[["req","object"]]),e.defn(rt,"$at",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at"),t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&(t+=r.length),t<0||t>=r.length?o:r[t]},I.$$arity=1,I.$$parameters=[["req","index"]]),e.defn(rt,"$bsearch_index",C=function(){var t=this,r=C.$$p,a=r||o;r&&(C.$$p=null);var n=arguments.length;if(0!==n&&e.ac(n,0,this,"bsearch_index"),a===o)return t.$enum_for("bsearch_index");for(var i,$,s,c=0,_=t.length,l=!1,u=o;c<_;){if(i=c+Math.floor((_-c)/2),$=t[i],!0===(s=e.yield1(a,$)))u=i,l=!0;else if(!1===s||s===o)l=!1;else if(s.$$is_number){if(0===s)return i;l=s<0}else t.$raise(e.const_get_relative(nt,"TypeError"),"wrong argument type "+s.$class()+" (must be numeric, true, false or nil)");l?_=i:c=i+1}return u},C.$$arity=0,C.$$parameters=[["block","block"]]),e.defn(rt,"$bsearch",P=function(){var t=this,r=P.$$p,a=r||o,n=o;r&&(P.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"bsearch"),a===o?t.$enum_for("bsearch"):(n=u(t,"bsearch_index",[],a.$to_proc()),null!=n&&n.$$is_number?t[n]:n)},P.$$arity=0,P.$$parameters=[["block","block"]]),e.defn(rt,"$cycle",N=function(a){var n,i,$=this,s=N.$$p,c=s||o;null==a&&(a=o),s&&(N.$$p=null);var l=arguments.length;if(l>1&&e.ac(l,-1,this,"cycle"),c===o)return u($,"enum_for",["cycle",a],(n=function(){var i=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"cycle")}return a["$=="](o)?e.const_get_qualified(e.const_get_relative(nt,"Float"),"INFINITY"):(a=e.const_get_relative(nt,"Opal")["$coerce_to!"](a,e.const_get_relative(nt,"Integer"),"to_int"),_(t(a,0))?r(i.$enumerator_size(),a):0)},n.$$s=$,n.$$arity=0,n.$$parameters=[],n));if(_(_(i=$["$empty?"]())?i:a["$=="](0)))return o;var p,d;if(a===o)for(;;)for(p=0,d=$.length;p<d;p++)e.yield1(c,$[p]);else{if((a=e.const_get_relative(nt,"Opal")["$coerce_to!"](a,e.const_get_relative(nt,"Integer"),"to_int"))<=0)return $;for(;a>0;){for(p=0,d=$.length;p<d;p++)e.yield1(c,$[p]);a--}}return $},N.$$arity=-1,N.$$parameters=[["opt","n"],["block","block"]]),e.defn(rt,"$clear",F=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.splice(0,t.length),t},F.$$arity=0,F.$$parameters=[]),e.defn(rt,"$count",B=function(t){var r,a=this,n=B.$$p,i=n||o,$=o,s=o,c=o;null==t&&(t=o),n&&(B.$$p=null);var l=arguments.length;for(l>1&&e.ac(l,-1,this,"count"),s=0,c=arguments.length,$=new Array(c);s<c;s++)$[s]=arguments[s];return _(_(r=t)?r:i)?u(a,e.find_super_dispatcher(a,"count",B,!1),$,n):a.$size()},B.$$arity=-1,B.$$parameters=[["opt","object"],["block","block"]]),e.defn(rt,"$initialize_copy",D=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_copy"),r.$replace(t)},D.$$arity=1,D.$$parameters=[["req","other"]]),e.defn(rt,"$collect",H=function(){var t,r=this,a=H.$$p,n=a||o;a&&(H.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"collect"),n===o)return u(r,"enum_for",["collect"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"collect")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $=[],s=0,c=r.length;s<c;s++){var _=e.yield1(n,r[s]);$.push(_)}return $},H.$$arity=0,H.$$parameters=[["block","block"]]),e.defn(rt,"$collect!",L=function(){var t,r=this,a=L.$$p,n=a||o;a&&(L.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"collect!"),n===o)return u(r,"enum_for",["collect!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"collect!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $=0,s=r.length;$<s;$++){var c=e.yield1(n,r[$]);r[$]=c}return r},L.$$arity=0,L.$$parameters=[["block","block"]]),e.defn(rt,"$combination",U=function(t){var r,a=this,n=U.$$p,i=n||o,$=o;n&&(U.$$p=null);var s=arguments.length;if(1!==s&&e.ac(s,1,this,"combination"),$=e.const_get_relative(nt,"Opal")["$coerce_to!"](t,e.const_get_relative(nt,"Integer"),"to_int"),i===o)return u(a,"enum_for",["combination",$],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"combination")}return g(t.length,$)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r));var c,_,l,p,d,f,h;if(0===$)e.yield1(i,[]);else if(1===$)for(c=0,_=a.length;c<_;c++)e.yield1(i,[a[c]]);else if($===a.length)e.yield1(i,a.slice());else if($>=0&&$<a.length){for(l=[],c=0;c<=$+1;c++)l.push(0);for(p=[],d=0,f=!1,l[0]=-1;!f;){for(p[d]=a[l[d+1]];d<$-1;)d++,h=l[d+1]=l[d]+1,p[d]=a[h];e.yield1(i,p.slice()),d++;do{f=0===d,l[d]++,d--}while(l[d+1]+$===a.length+d+1)}}return a},U.$$arity=1,U.$$parameters=[["req","n"]]),e.defn(rt,"$repeated_combination",G=function(t){function r(t,a,n,i){if(n.length==t){var s=n.slice();return void e.yield1($,s)}for(var o=a;o<i.length;o++)n.push(i[o]),r(t,o,n,i),n.pop()}var a,n=this,i=G.$$p,$=i||o,s=o;i&&(G.$$p=null);var c=arguments.length;return 1!==c&&e.ac(c,1,this,"repeated_combination"),s=e.const_get_relative(nt,"Opal")["$coerce_to!"](t,e.const_get_relative(nt,"Integer"),"to_int"),$===o?u(n,"enum_for",["repeated_combination",s],(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"repeated_combination")}return g(t.length+s-1,s)},a.$$s=n,a.$$arity=0,a.$$parameters=[],a)):(s>=0&&r(s,0,[],n),n)},G.$$arity=1,G.$$parameters=[["req","n"]]),e.defn(rt,"$compact",Y=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact");for(var a,n=[],i=0,$=t.length;i<$;i++)(a=t[i])!==o&&n.push(a);return n},Y.$$arity=0,Y.$$parameters=[]),e.defn(rt,"$compact!",V=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact!");for(var a=t.length,n=0,i=t.length;n<i;n++)t[n]===o&&(t.splice(n,1),i--,n--);return t.length===a?o:t},V.$$arity=0,V.$$parameters=[]),e.defn(rt,"$concat",X=function(){var t,r,a,n=this,i=arguments.length,$=i-0;$<0&&($=0),a=new Array($);for(var s=0;s<i;s++)a[s-0]=arguments[s];return a=u(a,"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"concat")}return r=_(e.const_get_relative(nt,"Array")["$==="](r))?r.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(r,e.const_get_relative(nt,"Array"),"to_ary").$to_a(),_(r["$equal?"](a))&&(r=r.$dup()),r},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","other"]],t)),u(a,"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"concat")}for(var i=0,$=t.length;i<$;i++)a.push(t[i])},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","other"]],r)),n},X.$$arity=-1,X.$$parameters=[["rest","others"]]),e.defn(rt,"$delete",K=function(t){var r=this,a=K.$$p,n=a||o;a&&(K.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"delete");for(var $=r.length,s=0,c=$;s<c;s++)r[s]["$=="](t)&&(r.splice(s,1),c--,s--);return r.length===$?n!==o?e.yieldX(n,[]):o:t},K.$$arity=1,K.$$parameters=[["req","object"]]),e.defn(rt,"$delete_at",W=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"delete_at"),t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&(t+=r.length),t<0||t>=r.length)return o;var n=r[t];return r.splice(t,1),n},W.$$arity=1,W.$$parameters=[["req","index"]]),e.defn(rt,"$delete_if",Z=function(){var t,r=this,a=Z.$$p,n=a||o;a&&(Z.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"delete_if"),n===o)return u(r,"enum_for",["delete_if"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"delete_if")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $,s=0,c=r.length;s<c;s++)!1!==($=n(r[s]))&&$!==o&&(r.splice(s,1),c--,s--);return r},Z.$$arity=0,Z.$$parameters=[["block","block"]]),e.defn(rt,"$dig",J=function(t){var r,a=this,n=o,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var s=1;s<i;s++)r[s-1]=arguments[s];var c=arguments.length;return c<1&&e.ac(c,-2,this,"dig"),(n=a["$[]"](t))===o||0===r.length?n:(_(n["$respond_to?"]("dig"))||a.$raise(e.const_get_relative(nt,"TypeError"),n.$class()+" does not have #dig method"),u(n,"dig",e.to_a(r)))},J.$$arity=-2,J.$$parameters=[["req","idx"],["rest","idxs"]]),e.defn(rt,"$drop",Q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"drop"),t<0&&r.$raise(e.const_get_relative(nt,"ArgumentError")),r.slice(t)},Q.$$arity=1,Q.$$parameters=[["req","number"]]),e.defn(rt,"$dup",ee=function(){var t=this,r=ee.$$p,a=o,n=o,i=o;r&&(ee.$$p=null);var $=arguments.length;for(0!==$&&e.ac($,0,this,"dup"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return t.$$class===e.Array&&t.$allocate.$$pristine&&t.$copy_instance_variables.$$pristine&&t.$initialize_dup.$$pristine?t.slice(0):u(t,e.find_super_dispatcher(t,"dup",ee,!1),a,r)},ee.$$arity=0,ee.$$parameters=[]),e.defn(rt,"$each",te=function(){var t,r=this,a=te.$$p,n=a||o;a&&(te.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"each"),n===o)return u(r,"enum_for",["each"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $=0,s=r.length;$<s;$++){e.yield1(n,r[$])}return r},te.$$arity=0,te.$$parameters=[["block","block"]]),e.defn(rt,"$each_index",re=function(){var t,r=this,a=re.$$p,n=a||o;a&&(re.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"each_index"),n===o)return u(r,"enum_for",["each_index"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_index")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $=0,s=r.length;$<s;$++){e.yield1(n,$)}return r},re.$$arity=0,re.$$parameters=[["block","block"]]),e.defn(rt,"$empty?",ae=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.length},ae.$$arity=0,ae.$$parameters=[]),e.defn(rt,"$eql?",ne=function(t){function r(e,t){var a,n,$,s;if(!t.$$is_array)return!1;if(t=t.$to_a(),e.length!==t.length)return!1;for(i[e.$object_id()]=!0,a=0,n=e.length;a<n;a++)if($=e[a],s=t[a],$.$$is_array){if(s.$$is_array&&s.length!==$.length)return!1;if(!i.hasOwnProperty($.$object_id())&&!r($,s))return!1}else if(!$["$eql?"](s))return!1;return!0}var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"eql?");var i={};return r(a,t)},ne.$$arity=1,ne.$$parameters=[["req","other"]]),e.defn(rt,"$fetch",ie=function(t,r){var a=this,n=ie.$$p,i=n||o;n&&(ie.$$p=null);var $=arguments.length;($<1||$>2)&&e.ac($,-2,this,"fetch");var s=t;return t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&(t+=a.length),t>=0&&t<a.length?a[t]:(i!==o&&null!=r&&a.$warn("warning: block supersedes default value argument"),i!==o?i(s):null!=r?r:void(0===a.length?a.$raise(e.const_get_relative(nt,"IndexError"),"index "+s+" outside of array bounds: 0...0"):a.$raise(e.const_get_relative(nt,"IndexError"),"index "+s+" outside of array bounds: -"+a.length+"..."+a.length)))},ie.$$arity=-2,ie.$$parameters=[["req","index"],["opt","defaults"],["block","block"]]),e.defn(rt,"$fill",$e=function(){var t,r,a,n=this,i=$e.$$p,$=i||o,s=o,c=o,l=o,u=o,p=o,d=arguments.length,f=d-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<d;h++)a[h-0]=arguments[h];i&&($e.$$p=null);var m,g;if(_($)?(_(a.length>2)&&n.$raise(e.const_get_relative(nt,"ArgumentError"),"wrong number of arguments ("+a.$length()+" for 0..2)"),r=a,t=e.to_ary(r),s=null==t[0]?o:t[0],c=null==t[1]?o:t[1]):(_(0==a.length)?n.$raise(e.const_get_relative(nt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):_(a.length>3)&&n.$raise(e.const_get_relative(nt,"ArgumentError"),"wrong number of arguments ("+a.$length()+" for 1..3)"),r=a,t=e.to_ary(r),l=null==t[0]?o:t[0],s=null==t[1]?o:t[1],c=null==t[2]?o:t[2]),_(e.const_get_relative(nt,"Range")["$==="](s))){if(_(c)&&n.$raise(e.const_get_relative(nt,"TypeError"),"length invalid with range"),u=e.const_get_relative(nt,"Opal").$coerce_to(s.$begin(),e.const_get_relative(nt,"Integer"),"to_int"),_(u<0)&&(u+=this.length),_(u<0)&&n.$raise(e.const_get_relative(nt,"RangeError"),s.$inspect()+" out of range"),p=e.const_get_relative(nt,"Opal").$coerce_to(s.$end(),e.const_get_relative(nt,"Integer"),"to_int"),_(p<0)&&(p+=this.length),_(s["$exclude_end?"]())||(p+=1),_(p<=u))return n}else if(_(s))if(u=e.const_get_relative(nt,"Opal").$coerce_to(s,e.const_get_relative(nt,"Integer"),"to_int"),_(u<0)&&(u+=this.length),_(u<0)&&(u=0),_(c)){if(p=e.const_get_relative(nt,"Opal").$coerce_to(c,e.const_get_relative(nt,"Integer"),"to_int"),_(0==p))return n;p+=u}else p=this.length;else u=0,p=this.length;if(_(u>this.length))for(m=this.length;m<p;m++)n[m]=o;if(_(p>this.length)&&(this.length=p),_($))for(this.length;u<p;u++)g=$(u),n[u]=g;else for(this.length;u<p;u++)n[u]=l;return n},$e.$$arity=-1,$e.$$parameters=[["rest","args"],["block","block"]]),e.defn(rt,"$first",se=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"first"),null==t?0===r.length?o:r[0]:(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"negative array size"),r.slice(0,t))},se.$$arity=-1,se.$$parameters=[["opt","count"]]),e.defn(rt,"$flatten",oe=function(t){function r(t,n){var i,$,s,c,_=[];for(t=t.$to_a(),i=0,$=t.length;i<$;i++)if(s=t[i],e.const_get_relative(nt,"Opal")["$respond_to?"](s,"to_ary"))if((c=s.$to_ary())!==o)switch(c.$$is_array||a.$raise(e.const_get_relative(nt,"TypeError")),c===a&&a.$raise(e.const_get_relative(nt,"ArgumentError")),n){case undefined:_=_.concat(r(c));break;case 0:_.push(c);break;default:_.push.apply(_,r(c,n-1))}else _.push(s);else _.push(s);return _}var a=this,n=arguments.length;return n>1&&e.ac(n,-1,this,"flatten"),t!==undefined&&(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int")),f(r(a,t),a.$class())},oe.$$arity=-1,oe.$$parameters=[["opt","level"]]),e.defn(rt,"$flatten!",ce=function(t){var r=this,a=arguments.length;a>1&&e.ac(a,-1,this,"flatten!");var n=r.$flatten(t);if(r.length==n.length){for(var i=0,$=r.length;i<$&&r[i]===n[i];i++);if(i==$)return o}return r.$replace(n),r},ce.$$arity=-1,ce.$$parameters=[["opt","level"]]),e.defn(rt,"$hash",_e=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"hash");var a,n,i,$=e.hash_ids===undefined,s=["A"],o=t.$object_id();try{if($&&(e.hash_ids=Object.create(null)),e.hash_ids[o])return"self";for(i in e.hash_ids)if(a=e.hash_ids[i],t["$eql?"](a))return"self";for(e.hash_ids[o]=t,n=0;n<t.length;n++)a=t[n],s.push(a.$hash());return s.join(",")}finally{$&&(e.hash_ids=undefined)}},_e.$$arity=0,_e.$$parameters=[]),e.defn(rt,"$include?",le=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"include?");for(var n=0,i=r.length;n<i;n++)if(r[n]["$=="](t))return!0;return!1},le.$$arity=1,le.$$parameters=[["req","member"]]),e.defn(rt,"$index",ue=function(t){var r=this,a=ue.$$p,n=a||o;a&&(ue.$$p=null);var i=arguments.length;i>1&&e.ac(i,-1,this,"index");var $,s,c;if(null!=t&&n!==o&&r.$warn("warning: given block not used"),null!=t){for($=0,s=r.length;$<s;$++)if(r[$]["$=="](t))return $}else{if(n===o)return r.$enum_for("index");for($=0,s=r.length;$<s;$++)if(!1!==(c=n(r[$]))&&c!==o)return $}return o},ue.$$arity=-1,ue.$$parameters=[["opt","object"],["block","block"]]),e.defn(rt,"$insert",pe=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;if(s<1&&e.ac(s,-2,this,"insert"),t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=a.length+1)<0&&a.$raise(e.const_get_relative(nt,"IndexError"),t+" is out of bounds"),t>a.length)for(var c=a.length;c<t;c++)a.push(o);a.splice.apply(a,[t,0].concat(r))}return a},pe.$$arity=-2,pe.$$parameters=[["req","index"],["rest","objects"]]),e.defn(rt,"$inspect",de=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");for(var a=[],n=t.$__id__(),i=0,$=t.length;i<$;i++){var s=t["$[]"](i);s.$__id__()===n?a.push("[...]"):a.push(s.$inspect())}return"["+a.join(", ")+"]"},de.$$arity=0,de.$$parameters=[]),e.defn(rt,"$join",fe=function(t){var r=this;null==p[","]&&(p[","]=o),null==t&&(t=o);var a=arguments.length;if(a>1&&e.ac(a,-1,this,"join"),_(0===r.length))return"";_(t===o)&&(t=p[","]);var n,i,$,s,c=[];for(n=0,
i=r.length;n<i;n++)$=r[n],e.const_get_relative(nt,"Opal")["$respond_to?"]($,"to_str")&&(s=$.$to_str())!==o?c.push(s.$to_s()):e.const_get_relative(nt,"Opal")["$respond_to?"]($,"to_ary")&&(s=$.$to_ary(),s===r&&r.$raise(e.const_get_relative(nt,"ArgumentError")),s!==o)?c.push(s.$join(t)):e.const_get_relative(nt,"Opal")["$respond_to?"]($,"to_s")&&(s=$.$to_s())!==o?c.push(s):r.$raise(e.const_get_relative(nt,"NoMethodError").$new(e.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===o?c.join(""):c.join(e.const_get_relative(nt,"Opal")["$coerce_to!"](t,e.const_get_relative(nt,"String"),"to_str").$to_s())},fe.$$arity=-1,fe.$$parameters=[["opt","sep"]]),e.defn(rt,"$keep_if",he=function(){var t,r=this,a=he.$$p,n=a||o;a&&(he.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"keep_if"),n===o)return u(r,"enum_for",["keep_if"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"keep_if")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $,s=0,c=r.length;s<c;s++)!1!==($=n(r[s]))&&$!==o||(r.splice(s,1),c--,s--);return r},he.$$arity=0,he.$$parameters=[["block","block"]]),e.defn(rt,"$last",me=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"last"),null==t?0===r.length?o:r[r.length-1]:(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),t<0&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"negative array size"),t>r.length&&(t=r.length),r.slice(r.length-t,r.length))},me.$$arity=-1,me.$$parameters=[["opt","count"]]),e.defn(rt,"$length",ge=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.length},ge.$$arity=0,ge.$$parameters=[]),e.alias(rt,"map","collect"),e.alias(rt,"map!","collect!"),e.defn(rt,"$permutation",ve=function(t){var r,a=this,n=ve.$$p,i=n||o,$=o,s=o;n&&(ve.$$p=null);var c=arguments.length;if(c>1&&e.ac(c,-1,this,"permutation"),i===o)return u(a,"enum_for",["permutation",t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"permutation")}return v(a.length,t===undefined?a.length:t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r));var _,l,p;if((t=t===undefined?a.length:e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"))<0||a.length<t);else if(0===t)e.yield1(i,[]);else if(1===t)for(var d=0;d<a.length;d++)e.yield1(i,[a[d]]);else $=e.const_get_relative(nt,"Array").$new(t),s=e.const_get_relative(nt,"Array").$new(a.length,!1),_=function(t,r,n,i,$){a=this;for(var s=0;s<a.length;s++)if(i["$[]"](s)["$!"]())if(r[n]=s,n<t-1)i[s]=!0,_.call(a,t,r,n+1,i,$),i[s]=!1;else{p=[];for(var o=0;o<r.length;o++)p.push(a[r[o]]);e.yield1($,p)}},i!==o?(l=a.slice(),_.call(l,t,$,0,s,i)):_.call(a,t,$,0,s,i);return a},ve.$$arity=-1,ve.$$parameters=[["opt","num"],["block","block"]]),e.defn(rt,"$repeated_permutation",ye=function(t){function r(t,a,n){if(a.length==t){var i=a.slice();return void e.yield1(s,i)}for(var $=0;$<n.length;$++)a.push(n[$]),r(t,a,n),a.pop()}var n,i=this,$=ye.$$p,s=$||o,c=o;$&&(ye.$$p=null);var l=arguments.length;return 1!==l&&e.ac(l,1,this,"repeated_permutation"),c=e.const_get_relative(nt,"Opal")["$coerce_to!"](t,e.const_get_relative(nt,"Integer"),"to_int"),s===o?u(i,"enum_for",["repeated_permutation",c],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"repeated_permutation")}return _(a(c,0))?t.$size()["$**"](c):0},n.$$s=i,n.$$arity=0,n.$$parameters=[],n)):(r(c,[],i.slice()),i)},ye.$$arity=1,ye.$$parameters=[["req","n"]]),e.defn(rt,"$pop",be=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"pop"),_(t===undefined)?_(0===r.length)?o:r.pop():(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),_(t<0)&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"negative array size"),_(0===r.length)?[]:_(t>r.length)?r.splice(0,r.length):r.splice(r.length-t,r.length))},be.$$arity=-1,be.$$parameters=[["opt","count"]]),e.defn(rt,"$product",xe=function(){var t,r=this,a=xe.$$p,n=a||o,i=arguments.length,$=i-0;$<0&&($=0),t=new Array($);for(var s=0;s<i;s++)t[s-0]=arguments[s];a&&(xe.$$p=null);var c,_,l,u,p=n!==o?null:[],d=t.length+1,f=new Array(d),h=new Array(d),m=new Array(d),g=1;for(m[0]=r,c=1;c<d;c++)m[c]=e.const_get_relative(nt,"Opal").$coerce_to(t[c-1],e.const_get_relative(nt,"Array"),"to_ary");for(c=0;c<d;c++){if(0===(u=m[c].length))return p||r;g*=u,g>2147483647&&r.$raise(e.const_get_relative(nt,"RangeError"),"too big to product"),h[c]=u,f[c]=0}e:for(;;){for(l=[],c=0;c<d;c++)l.push(m[c][f[c]]);for(p?p.push(l):e.yield1(n,l),_=d-1,f[_]++;f[_]===h[_];){if(f[_]=0,--_<0)break e;f[_]++}}return p||r},xe.$$arity=-1,xe.$$parameters=[["rest","args"],["block","block"]]),e.defn(rt,"$push",ke=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=0,$=e.length;i<$;i++)t.push(e[i]);return t},ke.$$arity=-1,ke.$$parameters=[["rest","objects"]]),e.defn(rt,"$rassoc",qe=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"rassoc");for(var n,i=0,$=r.length;i<$;i++)if(n=r[i],n.length&&n[1]!==undefined&&n[1]["$=="](t))return n;return o},qe.$$arity=1,qe.$$parameters=[["req","object"]]),e.defn(rt,"$reject",we=function(){var t,r=this,a=we.$$p,n=a||o;a&&(we.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"reject"),n===o)return u(r,"enum_for",["reject"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reject")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $,s=[],c=0,_=r.length;c<_;c++)!1!==($=n(r[c]))&&$!==o||s.push(r[c]);return s},we.$$arity=0,we.$$parameters=[["block","block"]]),e.defn(rt,"$reject!",Ee=function(){var t,r=this,a=Ee.$$p,n=a||o,i=o;a&&(Ee.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"reject!"),n===o?u(r,"enum_for",["reject!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reject!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t)):(i=r.$length(),u(r,"delete_if",[],n.$to_proc()),r.$length()["$=="](i)?o:r)},Ee.$$arity=0,Ee.$$parameters=[["block","block"]]),e.defn(rt,"$replace",Se=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace"),t=_(e.const_get_relative(nt,"Array")["$==="](t))?t.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Array"),"to_ary").$to_a(),r.splice(0,r.length),r.push.apply(r,t),r},Se.$$arity=1,Se.$$parameters=[["req","other"]]),e.defn(rt,"$reverse",Me=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse"),t.slice(0).reverse()},Me.$$arity=0,Me.$$parameters=[]),e.defn(rt,"$reverse!",Oe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reverse!"),t.reverse()},Oe.$$arity=0,Oe.$$parameters=[]),e.defn(rt,"$reverse_each",Ae=function(){var t,r=this,a=Ae.$$p,n=a||o;a&&(Ae.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"reverse_each"),n===o?u(r,"enum_for",["reverse_each"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reverse_each")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t)):(u(r.$reverse(),"each",[],n.$to_proc()),r)},Ae.$$arity=0,Ae.$$parameters=[["block","block"]]),e.defn(rt,"$rindex",Re=function(t){var r=this,a=Re.$$p,n=a||o;a&&(Re.$$p=null);var i=arguments.length;i>1&&e.ac(i,-1,this,"rindex");var $,s;if(null!=t&&n!==o&&r.$warn("warning: given block not used"),null!=t){for($=r.length-1;$>=0&&!($>=r.length);$--)if(r[$]["$=="](t))return $}else if(n!==o){for($=r.length-1;$>=0&&!($>=r.length);$--)if(!1!==(s=n(r[$]))&&s!==o)return $}else if(null==t)return r.$enum_for("rindex");return o},Re.$$arity=-1,Re.$$parameters=[["opt","object"],["block","block"]]),e.defn(rt,"$rotate",ze=function(t){var r=this;null==t&&(t=1);var a=arguments.length;a>1&&e.ac(a,-1,this,"rotate"),t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int");var n,i,$,s;return 1===r.length?r.slice():0===r.length?[]:(n=r.slice(),i=t%n.length,$=n.slice(i),s=n.slice(0,i),$.concat(s))},ze.$$arity=-1,ze.$$parameters=[["opt","n"]]),e.defn(rt,"$rotate!",je=function(t){var r=this,a=o;null==t&&(t=1);var n=arguments.length;return n>1&&e.ac(n,-1,this,"rotate!"),0===r.length||1===r.length?r:(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),a=r.$rotate(t),r.$replace(a))},je.$$arity=-1,je.$$parameters=[["opt","cnt"]]),function(t,$super,r){function a(){}var n,i,$=a=c(t,$super,"SampleRandom",a),s=$.$$proto,l=[$].concat(r);s.rng=o,e.defn($,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.rng=t},n.$$arity=1,n.$$parameters=[["req","rng"]]),e.defn($,"$rand",i=function(t){var r=this,a=o,n=arguments.length;return 1!==n&&e.ac(n,1,this,"rand"),a=e.const_get_relative(l,"Opal").$coerce_to(r.rng.$rand(t),e.const_get_relative(l,"Integer"),"to_int"),_(a<0)&&r.$raise(e.const_get_relative(l,"RangeError"),"random value must be >= 0"),_(a<t)||r.$raise(e.const_get_relative(l,"RangeError"),"random value must be less than Array size"),a},i.$$arity=1,i.$$parameters=[["req","size"]])}(nt[0],null,nt),e.defn(rt,"$sample",Te=function(t,r){var a,n=this,i=o,$=o,s=arguments.length;if(s>2&&e.ac(s,-1,this,"sample"),_(t===undefined))return n.$at(e.const_get_relative(nt,"Kernel").$rand(n.length));if(_(r===undefined)?_(i=e.const_get_relative(nt,"Opal")["$coerce_to?"](t,e.const_get_relative(nt,"Hash"),"to_hash"))?(r=i,t=o):(r=o,t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int")):(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),r=e.const_get_relative(nt,"Opal").$coerce_to(r,e.const_get_relative(nt,"Hash"),"to_hash")),_(_(a=t)?t<0:a)&&n.$raise(e.const_get_relative(nt,"ArgumentError"),"count must be greater than 0"),_(r)&&($=r["$[]"]("random")),$=_(_(a=$)?$["$respond_to?"]("rand"):a)?e.const_get_relative(nt,"SampleRandom").$new($):e.const_get_relative(nt,"Kernel"),!_(t))return n[$.$rand(n.length)];var c,l,u,p,d,f,h,m;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[$.$rand(n.length)]];case 2:return p=$.$rand(n.length),d=$.$rand(n.length),p===d&&(d=0===p?p+1:p-1),[n[p],n[d]];default:if(n.length/t>3){for(c=!1,l=0,u=e.const_get_relative(nt,"Array").$new(t),p=1,u[0]=$.$rand(n.length);p<t;){for(f=$.$rand(n.length),d=0;d<p;){for(;f===u[d];){if(++l>100){c=!0;break}f=$.$rand(n.length)}if(c)break;d++}if(c)break;u[p]=f,p++}if(!c){for(p=0;p<t;)u[p]=n[u[p]],p++;return u}}u=n.slice();for(var g=0;g<t;g++)h=$.$rand(n.length),m=u[g],u[g]=u[h],u[h]=m;return t===n.length?u:u["$[]"](0,t)}},Te.$$arity=-1,Te.$$parameters=[["opt","count"],["opt","options"]]),e.defn(rt,"$select",Ie=function(){var t,r=this,a=Ie.$$p,n=a||o;a&&(Ie.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"select"),n===o)return u(r,"enum_for",["select"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"select")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $,s,c=[],_=0,l=r.length;_<l;_++)$=r[_],!1!==(s=e.yield1(n,$))&&s!==o&&c.push($);return c},Ie.$$arity=0,Ie.$$parameters=[["block","block"]]),e.defn(rt,"$select!",Ce=function(){var t,r=this,a=Ce.$$p,n=a||o;a&&(Ce.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"select!"),n===o)return u(r,"enum_for",["select!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"select!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));var $=r.length;return u(r,"keep_if",[],n.$to_proc()),r.length===$?o:r},Ce.$$arity=0,Ce.$$parameters=[["block","block"]]),e.defn(rt,"$shift",Pe=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"shift"),_(t===undefined)?_(0===r.length)?o:r.shift():(t=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),_(t<0)&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"negative array size"),_(0===r.length)?[]:r.splice(0,t))},Pe.$$arity=-1,Pe.$$parameters=[["opt","count"]]),e.alias(rt,"size","length"),e.defn(rt,"$shuffle",Ne=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"shuffle"),r.$dup().$to_a()["$shuffle!"](t)},Ne.$$arity=-1,Ne.$$parameters=[["opt","rng"]]),e.defn(rt,"$shuffle!",Fe=function(t){var r=this,a=arguments.length;a>1&&e.ac(a,-1,this,"shuffle!");var n,i,$,s=r.length;for(t!==undefined&&(t=e.const_get_relative(nt,"Opal")["$coerce_to?"](t,e.const_get_relative(nt,"Hash"),"to_hash"))!==o&&(t=t["$[]"]("random"))!==o&&t["$respond_to?"]("rand")&&(n=t);s;)n?(i=n.$rand(s).$to_int(),i<0&&r.$raise(e.const_get_relative(nt,"RangeError"),"random number too small "+i),i>=s&&r.$raise(e.const_get_relative(nt,"RangeError"),"random number too big "+i)):i=r.$rand(s),$=r[--s],r[s]=r[i],r[i]=$;return r},Fe.$$arity=-1,Fe.$$parameters=[["opt","rng"]]),e.alias(rt,"slice","[]"),e.defn(rt,"$slice!",Be=function(t,r){var a=this,n=o,i=o,$=o,s=o,c=o,l=arguments.length;if((l<1||l>2)&&e.ac(l,-2,this,"slice!"),n=o,_(r===undefined))if(_(e.const_get_relative(nt,"Range")["$==="](t))){i=t,n=a["$[]"](i),$=e.const_get_relative(nt,"Opal").$coerce_to(i.$begin(),e.const_get_relative(nt,"Integer"),"to_int"),s=e.const_get_relative(nt,"Opal").$coerce_to(i.$end(),e.const_get_relative(nt,"Integer"),"to_int"),$<0&&($+=a.length),s<0?s+=a.length:s>=a.length&&(s=a.length-1,i.excl&&(s+=1));var u=s-$;i.excl?s-=1:u+=1,$<a.length&&$>=0&&s<a.length&&s>=0&&u>0&&a.splice($,u)}else{if(c=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),c<0&&(c+=a.length),c<0||c>=a.length)return o;n=a[c],0===c?a.shift():a.splice(c,1)}else{if(c=e.const_get_relative(nt,"Opal").$coerce_to(t,e.const_get_relative(nt,"Integer"),"to_int"),(r=e.const_get_relative(nt,"Opal").$coerce_to(r,e.const_get_relative(nt,"Integer"),"to_int"))<0)return o;n=a["$[]"](c,r),c<0&&(c+=a.length),c+r>a.length&&(r=a.length-c),c<a.length&&c>=0&&a.splice(c,r)}return n},Be.$$arity=-2,Be.$$parameters=[["req","index"],["opt","length"]]),e.defn(rt,"$sort",De=function(){var r=this,a=De.$$p,i=a||o;a&&(De.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"sort"),_(r.length>1)?(i===o&&(i=function(e,t){return e["$<=>"](t)}),r.slice().sort(function(a,$){var s=i(a,$);return s===o&&r.$raise(e.const_get_relative(nt,"ArgumentError"),"comparison of "+a.$inspect()+" with "+$.$inspect()+" failed"),t(s,0)?1:n(s,0)?-1:0})):r},De.$$arity=0,De.$$parameters=[["block","block"]]),e.defn(rt,"$sort!",He=function(){var t=this,r=He.$$p,a=r||o;r&&(He.$$p=null);var n=arguments.length;0!==n&&e.ac(n,0,this,"sort!");var i;i=a!==o?u(t.slice(),"sort",[],a.$to_proc()):t.slice().$sort(),t.length=0;for(var $=0,s=i.length;$<s;$++)t.push(i[$]);return t},He.$$arity=0,He.$$parameters=[["block","block"]]),e.defn(rt,"$sort_by!",Le=function(){var t,r=this,a=Le.$$p,n=a||o;a&&(Le.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"sort_by!"),n===o?u(r,"enum_for",["sort_by!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"sort_by!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t)):r.$replace(u(r,"sort_by",[],n.$to_proc()))},Le.$$arity=0,Le.$$parameters=[["block","block"]]),e.defn(rt,"$take",Ue=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"take"),t<0&&r.$raise(e.const_get_relative(nt,"ArgumentError")),r.slice(0,t)},Ue.$$arity=1,Ue.$$parameters=[["req","count"]]),e.defn(rt,"$take_while",Ge=function(){var t=this,r=Ge.$$p,a=r||o;r&&(Ge.$$p=null);var n=arguments.length;0!==n&&e.ac(n,0,this,"take_while");for(var i,$,s=[],c=0,_=t.length;c<_;c++){if(i=t[c],!1===($=a(i))||$===o)return s;s.push(i)}return s},Ge.$$arity=0,Ge.$$parameters=[["block","block"]]),e.defn(rt,"$to_a",Ye=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t},Ye.$$arity=0,Ye.$$parameters=[]),e.alias(rt,"to_ary","to_a"),e.defn(rt,"$to_h",Ve=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_h");var a,n,i,$,s=t.length,o=l([],{});for(a=0;a<s;a++)n=e.const_get_relative(nt,"Opal")["$coerce_to?"](t[a],e.const_get_relative(nt,"Array"),"to_ary"),n.$$is_array||t.$raise(e.const_get_relative(nt,"TypeError"),"wrong element type "+n.$class()+" at "+a+" (expected array)"),2!==n.length&&t.$raise(e.const_get_relative(nt,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+n.$length()+")"),i=n[0],$=n[1],e.hash_put(o,i,$);return o},Ve.$$arity=0,Ve.$$parameters=[]),e.alias(rt,"to_s","inspect"),e.defn(rt,"$transpose",Xe=function(){var t,r=this,a=o,n=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"transpose"),_(r["$empty?"]())?[]:(a=[],n=o,u(r,"each",[],(t=function(r){var $,s,c=t.$$s||this;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"transpose")}return r=_(e.const_get_relative(nt,"Array")["$==="](r))?r.$to_a():e.const_get_relative(nt,"Opal").$coerce_to(r,e.const_get_relative(nt,"Array"),"to_ary").$to_a(),n=_($=n)?$:r.length,_(r.length["$!="](n))&&c.$raise(e.const_get_relative(nt,"IndexError"),"element size differs ("+r.length+" should be "+n+")"),u(r.length,"times",[],(s=function(t){var n,$=(s.$$s,o),c=o;if(null==t&&(t=o),s.$$is_lambda||s.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"transpose")}return $=_(n=a["$[]"](t))?n:(c=[t,[]],u(a,"[]=",e.to_a(c)),c[i(c.length,1)]),$["$<<"](r.$at(t))},s.$$s=c,s.$$arity=1,s.$$parameters=[["req","i"]],s))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","row"]],t)),a)},Xe.$$arity=0,Xe.$$parameters=[]),e.defn(rt,"$uniq",Ke=function(){var t=this,r=Ke.$$p,a=r||o;r&&(Ke.$$p=null);var n=arguments.length;0!==n&&e.ac(n,0,this,"uniq");var i,$,s,c,_=l([],{});if(a===o)for(i=0,$=t.length;i<$;i++)s=t[i],e.hash_get(_,s)===undefined&&e.hash_put(_,s,s);else for(i=0,$=t.length;i<$;i++)s=t[i],c=e.yield1(a,s),e.hash_get(_,c)===undefined&&e.hash_put(_,c,s);return f(_.$values(),t.$class())},Ke.$$arity=0,Ke.$$parameters=[["block","block"]]),e.defn(rt,"$uniq!",We=function(){var t=this,r=We.$$p,a=r||o;r&&(We.$$p=null);var n=arguments.length;0!==n&&e.ac(n,0,this,"uniq!");var i,$,s,c,_=t.length,u=l([],{});for(i=0,$=_;i<$;i++)s=t[i],c=a===o?s:e.yield1(a,s),e.hash_get(u,c)!==undefined?(t.splice(i,1),$--,i--):e.hash_put(u,c,s);return t.length===_?o:t},We.$$arity=0,We.$$parameters=[["block","block"]]),e.defn(rt,"$unshift",Ze=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(var i=e.length-1;i>=0;i--)t.unshift(e[i]);return t},Ze.$$arity=-1,Ze.$$parameters=[["rest","objects"]]),e.defn(rt,"$values_at",Je=function(){var t,r,a=this,n=o,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var s=0;s<i;s++)r[s-0]=arguments[s];return n=[],u(r,"each",[],(t=function(r){var a,i=t.$$s||this,$=o,s=o,c=o;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"values_at")}return _(r["$kind_of?"](e.const_get_relative(nt,"Range")))?($=e.const_get_relative(nt,"Opal").$coerce_to(r.$last(),e.const_get_relative(nt,"Integer"),"to_int"),(s=e.const_get_relative(nt,"Opal").$coerce_to(r.$first(),e.const_get_relative(nt,"Integer"),"to_int"))<0?(s+=i.length,o):($<0&&($+=i.length),r["$exclude_end?"]()&&$--,$<s?o:u(s,"upto",[$],(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"values_at")}return n["$<<"](r.$at(t))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","i"]],a)))):(c=e.const_get_relative(nt,"Opal").$coerce_to(r,e.const_get_relative(nt,"Integer"),"to_int"),n["$<<"](i.$at(c)))},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","elem"]],t)),n},Je.$$arity=-1,Je.$$parameters=[["rest","args"]]),e.defn(rt,"$zip",Qe=function(){var t,r,a=this,n=Qe.$$p,i=n||o,$=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<$;c++)r[c-0]=arguments[c];n&&(Qe.$$p=null);var l,u,p,d,f,h=[],m=a.length;for(d=0,f=r.length;d<f;d++)u=r[d],u.$$is_array||(u.$$is_enumerator?u.$size()===Infinity?r[d]=u.$take(m):r[d]=u.$to_a():r[d]=(_(t=e.const_get_relative(nt,"Opal")["$coerce_to?"](u,e.const_get_relative(nt,"Array"),"to_ary"))?t:e.const_get_relative(nt,"Opal")["$coerce_to!"](u,e.const_get_relative(nt,"Enumerator"),"each")).$to_a());for(p=0;p<m;p++){for(l=[a[p]],d=0,f=r.length;d<f;d++)u=r[d][p],null==u&&(u=o),l[d+1]=u;h[p]=l}if(i!==o){for(p=0;p<m;p++)i(h[p]);return o}return h},Qe.$$arity=-1,Qe.$$parameters=[["rest","others"],["block","block"]]),e.defs(rt,"$inherited",et=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"inherited"),t.$$proto.$to_a=function(){return this.slice(0,this.length)}},et.$$arity=1,et.$$parameters=[["req","klass"]]),e.defn(rt,"$instance_variables",tt=function(){var t,r=this,a=tt.$$p,n=o,i=o,$=o;a&&(tt.$$p=null);var s=arguments.length;for(0!==s&&e.ac(s,0,this,"instance_variables"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return u(u(r,e.find_super_dispatcher(r,"instance_variables",tt,!1),n,a),"reject",[],(t=function(r){var a;t.$$s;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"instance_variables")}return _(a=/^@\d+$/.test(r))?a:r["$=="]("@length")},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","ivar"]],t))},tt.$$arity=0,tt.$$parameters=[]),e.const_get_relative(nt,"Opal").$pristine(rt,"allocate","copy_instance_variables","initialize_dup")}(s[0],Array,s)},Opal.modules["corelib/hash"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.klass),o=e.send,c=e.hash2,_=e.truthy;return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),n.$require("corelib/enumerable"),function(n,$super,i){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me=l=s(n,$super,"Hash",l),ge=me.$$proto,ve=[me].concat(i);me.$include(e.const_get_relative(ve,"Enumerable")),ge.$$is_hash=!0,e.defs(me,"$[]",u=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];var s,o,c=t.length;if(1===c){if((s=e.const_get_relative(ve,"Opal")["$coerce_to?"](t["$[]"](0),e.const_get_relative(ve,"Hash"),"to_hash"))!==$)return r.$allocate()["$merge!"](s);for(t=e.const_get_relative(ve,"Opal")["$coerce_to?"](t["$[]"](0),e.const_get_relative(ve,"Array"),"to_ary"),t===$&&r.$raise(e.const_get_relative(ve,"ArgumentError"),"odd number of arguments for Hash"),c=t.length,s=r.$allocate(),o=0;o<c;o++)if(t[o].$$is_array)switch(t[o].length){case 1:s.$store(t[o][0],$);break;case 2:s.$store(t[o][0],t[o][1]);break;default:r.$raise(e.const_get_relative(ve,"ArgumentError"),"invalid number of elements ("+t[o].length+" for 1..2)")}return s}for(c%2!=0&&r.$raise(e.const_get_relative(ve,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),o=0;o<c;o+=2)s.$store(t[o],t[o+1]);return s},u.$$arity=-1,u.$$parameters=[["rest","argv"]]),e.defs(me,"$allocate",p=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"allocate");var a=new t.$$alloc;return e.hash_init(a),a.$$none=$,a.$$proc=$,a},p.$$arity=0,p.$$parameters=[]),e.defs(me,"$try_convert",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"try_convert"),e.const_get_relative(ve,"Opal")["$coerce_to?"](t,e.const_get_relative(ve,"Hash"),"to_hash")},d.$$arity=1,d.$$parameters=[["req","obj"]]),e.defn(me,"$initialize",f=function(t){var r=this,a=f.$$p,n=a||$;a&&(f.$$p=null);var i=arguments.length;return i>1&&e.ac(i,-1,this,"initialize"),t!==undefined&&n!==$&&r.$raise(e.const_get_relative(ve,"ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=t===undefined?$:t,r.$$proc=n,r},f.$$arity=-1,f.$$parameters=[["opt","defaults"],["block","block"]]),e.defn(me,"$==",h=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"=="),r===t)return!0;if(!t.$$is_hash)return!1;if(r.$$keys.length!==t.$$keys.length)return!1;for(var n,i,$,s=0,o=r.$$keys,c=o.length;s<c;s++)if(n=o[s],n.$$is_string?(i=r.$$smap[n],$=t.$$smap[n]):(i=n.value,$=e.hash_get(t,n.key)),$===undefined||!i["$eql?"]($))return!1;return!0},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(me,"$>=",m=function(t){var r,a=this,n=$,i=arguments.length;return 1!==i&&e.ac(i,1,this,">="),t=e.const_get_relative(ve,"Opal")["$coerce_to!"](t,e.const_get_relative(ve,"Hash"),"to_hash"),!(a.$$keys.length<t.$$keys.length)&&(n=!0,o(t,"each",[],(r=function(t,a){var i=r.$$s||this,s=$;if(null==t&&(t=$),null==a&&(a=$),r.$$is_lambda||r.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,">=")}if(null==(s=i.$fetch(t,null))||s!==a)return void(n=!1)},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","other_key"],["req","other_val"]],r)),n)},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(me,"$>",g=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,">"),r=e.const_get_relative(ve,"Opal")["$coerce_to!"](r,e.const_get_relative(ve,"Hash"),"to_hash"),!(a.$$keys.length<=r.$$keys.length)&&t(a,r)},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(me,"$<",v=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"<"),t=e.const_get_relative(ve,"Opal")["$coerce_to!"](t,e.const_get_relative(ve,"Hash"),"to_hash"),r(t,a)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(me,"$<=",y=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"<="),r=e.const_get_relative(ve,"Opal")["$coerce_to!"](r,e.const_get_relative(ve,"Hash"),"to_hash"),t(r,a)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(me,"$[]",b=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"[]");var n=e.hash_get(r,t);return n!==undefined?n:r.$default(t)},b.$$arity=1,b.$$parameters=[["req","key"]]),e.defn(me,"$[]=",x=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"[]="),e.hash_put(a,t,r),r},x.$$arity=2,x.$$parameters=[["req","key"],["req","value"]]),e.defn(me,"$assoc",k=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"assoc");for(var n,i=0,s=r.$$keys,o=s.length;i<o;i++)if(n=s[i],n.$$is_string){if(n["$=="](t))return[n,r.$$smap[n]]}else if(n.key["$=="](t))return[n.key,n.value];return $},k.$$arity=1,k.$$parameters=[["req","object"]]),e.defn(me,"$clear",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),e.hash_init(t),t},q.$$arity=0,q.$$parameters=[]),e.defn(me,"$clone",w=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"clone");var a=new t.$$class.$$alloc;return e.hash_init(a),e.hash_clone(t,a),a},w.$$arity=0,w.$$parameters=[]),e.defn(me,"$compact",E=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact");for(var a,n,i=e.hash(),s=0,o=t.$$keys,c=o.length;s<c;s++)a=o[s],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),n!==$&&e.hash_put(i,a,n);return i},E.$$arity=0,E.$$parameters=[]),e.defn(me,"$compact!",S=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compact!");for(var a,n,i=!1,s=0,o=t.$$keys,c=o.length;s<c;s++)a=o[s],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),n===$&&e.hash_delete(t,a)!==undefined&&(i=!0,c--,s--);return i?t:$},S.$$arity=0,S.$$parameters=[]),e.defn(me,"$compare_by_identity",M=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"compare_by_identity");var a,n,i,$,s=t.$$keys;if(t.$$by_identity)return t;if(0===t.$$keys.length)return t.$$by_identity=!0,t;for($=c([],{}).$compare_by_identity(),a=0,n=s.length;a<n;a++)i=s[a],i.$$is_string||(i=i.key),e.hash_put($,i,e.hash_get(t,i));return t.$$by_identity=!0,t.$$map=$.$$map,t.$$smap=$.$$smap,t},M.$$arity=0,M.$$parameters=[]),e.defn(me,"$compare_by_identity?",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"compare_by_identity?"),!0===t.$$by_identity},O.$$arity=0,O.$$parameters=[]),e.defn(me,"$default",A=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"default"),t!==undefined&&r.$$proc!==$&&r.$$proc!==undefined?r.$$proc.$call(r,t):r.$$none===undefined?$:r.$$none},A.$$arity=-1,A.$$parameters=[["opt","key"]]),e.defn(me,"$default=",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"default="),r.$$proc=$,r.$$none=t,t},R.$$arity=1,R.$$parameters=[["req","object"]]),e.defn(me,"$default_proc",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"default_proc"),t.$$proc!==undefined?t.$$proc:$},z.$$arity=0,z.$$parameters=[]),e.defn(me,"$default_proc=",j=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"default_proc=");var n=t;return n!==$&&(n=e.const_get_relative(ve,"Opal")["$coerce_to!"](n,e.const_get_relative(ve,"Proc"),"to_proc"),n["$lambda?"]()&&2!==n.$arity().$abs()&&r.$raise(e.const_get_relative(ve,"TypeError"),"default_proc takes two arguments")),r.$$none=$,r.$$proc=n,t},j.$$arity=1,j.$$parameters=[["req","default_proc"]]),e.defn(me,"$delete",T=function(t){var r=this,a=T.$$p,n=a||$;a&&(T.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"delete");var s=e.hash_delete(r,t);return s!==undefined?s:n!==$?n.$call(t):$},T.$$arity=1,T.$$parameters=[["req","key"],["block","block"]]),e.defn(me,"$delete_if",I=function(){var t,r=this,a=I.$$p,n=a||$;a&&(I.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"delete_if"),!_(n))return o(r,"enum_for",["delete_if"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"delete_if")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=0,p=r.$$keys,d=p.length;u<d;u++)s=p[u],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$&&e.hash_delete(r,s)!==undefined&&(d--,u--);return r},I.$$arity=0,I.$$parameters=[["block","block"]]),e.alias(me,"dup","clone"),e.defn(me,"$dig",C=function(t){var r,a=this,n=$,i=arguments.length,s=i-1;s<0&&(s=0),r=new Array(s);for(var c=1;c<i;c++)r[c-1]=arguments[c];var l=arguments.length;return l<1&&e.ac(l,-2,this,"dig"),(n=a["$[]"](t))===$||0===r.length?n:(_(n["$respond_to?"]("dig"))||a.$raise(e.const_get_relative(ve,"TypeError"),n.$class()+" does not have #dig method"),o(n,"dig",e.to_a(r)))},C.$$arity=-2,C.$$parameters=[["req","key"],["rest","keys"]]),e.defn(me,"$each",P=function(){var t,r=this,a=P.$$p,n=a||$;a&&(P.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"each"),!_(n))return o(r,"enum_for",["each"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l=0,u=r.$$keys,p=u.length;l<p;l++)s=u[l],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),e.yield1(n,[s,c]);return r},P.$$arity=0,P.$$parameters=[["block","block"]]),e.defn(me,"$each_key",N=function(){var t,r=this,a=N.$$p,n=a||$;a&&(N.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"each_key"),!_(n))return o(r,"enum_for",["each_key"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_key")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c=0,l=r.$$keys,u=l.length;c<u;c++)s=l[c],n(s.$$is_string?s:s.key);return r},N.$$arity=0,N.$$parameters=[["block","block"]]),e.alias(me,"each_pair","each"),e.defn(me,"$each_value",F=function(){var t,r=this,a=F.$$p,n=a||$;a&&(F.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"each_value"),!_(n))return o(r,"enum_for",["each_value"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_value")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c=0,l=r.$$keys,u=l.length;c<u;c++)s=l[c],n(s.$$is_string?r.$$smap[s]:s.value);return r},F.$$arity=0,F.$$parameters=[["block","block"]]),e.defn(me,"$empty?",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),0===t.$$keys.length},B.$$arity=0,B.$$parameters=[]),e.alias(me,"eql?","=="),e.defn(me,"$fetch",D=function(t,r){var a=this,n=D.$$p,i=n||$;n&&(D.$$p=null);var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"fetch");var o=e.hash_get(a,t)
;return o!==undefined?o:i!==$?i(t):r!==undefined?r:a.$raise(e.const_get_relative(ve,"KeyError"),"key not found: "+t.$inspect())},D.$$arity=-2,D.$$parameters=[["req","key"],["opt","defaults"],["block","block"]]),e.defn(me,"$fetch_values",H=function(){var t,r,a=this,n=H.$$p,i=n||$,s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<s;_++)r[_-0]=arguments[_];return n&&(H.$$p=null),o(r,"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=$),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"fetch_values")}return o(a,"fetch",[r],i.$to_proc())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","key"]],t))},H.$$arity=-1,H.$$parameters=[["rest","keys"],["block","block"]]),e.defn(me,"$flatten",L=function(t){var r=this;null==t&&(t=1);var a=arguments.length;a>1&&e.ac(a,-1,this,"flatten"),t=e.const_get_relative(ve,"Opal")["$coerce_to!"](t,e.const_get_relative(ve,"Integer"),"to_int");for(var n,i,$=[],s=0,o=r.$$keys,c=o.length;s<c;s++)if(n=o[s],n.$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),$.push(n),i.$$is_array){if(1===t){$.push(i);continue}$=$.concat(i.$flatten(t-2))}else $.push(i);return $},L.$$arity=-1,L.$$parameters=[["opt","level"]]),e.defn(me,"$has_key?",U=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"has_key?"),e.hash_get(r,t)!==undefined},U.$$arity=1,U.$$parameters=[["req","key"]]),e.defn(me,"$has_value?",G=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_value?");for(var n,i=0,$=r.$$keys,s=$.length;i<s;i++)if(n=$[i],(n.$$is_string?r.$$smap[n]:n.value)["$=="](t))return!0;return!1},G.$$arity=1,G.$$parameters=[["req","value"]]),e.defn(me,"$hash",Y=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"hash");var a,n,i=e.hash_ids===undefined,$=t.$object_id(),s=["Hash"];try{if(i&&(e.hash_ids=Object.create(null)),e[$])return"self";for(a in e.hash_ids)if(n=e.hash_ids[a],t["$eql?"](n))return"self";e.hash_ids[$]=t;for(var o=0,c=t.$$keys,_=c.length;o<_;o++)a=c[o],a.$$is_string?s.push([a,t.$$smap[a].$hash()]):s.push([a.key_hash,a.value.$hash()]);return s.sort().join()}finally{i&&(e.hash_ids=undefined)}},Y.$$arity=0,Y.$$parameters=[]),e.alias(me,"include?","has_key?"),e.defn(me,"$index",V=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"index");for(var n,i,s=0,o=r.$$keys,c=o.length;s<c;s++)if(n=o[s],n.$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),i["$=="](t))return n;return $},V.$$arity=1,V.$$parameters=[["req","object"]]),e.defn(me,"$indexes",X=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];for(var $,s,o=[],c=0,_=t.length;c<_;c++)$=t[c],s=e.hash_get(r,$),s!==undefined?o.push(s):o.push(r.$default());return o},X.$$arity=-1,X.$$parameters=[["rest","args"]]),e.alias(me,"indices","indexes");var ye;return e.defn(me,"$inspect",K=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"inspect");var a=ye===undefined,n=t.$object_id(),i=[];try{if(a&&(ye={}),ye.hasOwnProperty(n))return"{...}";ye[n]=!0;for(var $,s,o=0,c=t.$$keys,_=c.length;o<_;o++)$=c[o],$.$$is_string?s=t.$$smap[$]:(s=$.value,$=$.key),i.push($.$inspect()+"=>"+s.$inspect());return"{"+i.join(", ")+"}"}finally{a&&(ye=undefined)}},K.$$arity=0,K.$$parameters=[]),e.defn(me,"$invert",W=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"invert");for(var a,n,i=e.hash(),$=0,s=t.$$keys,o=s.length;$<o;$++)a=s[$],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),e.hash_put(i,n,a);return i},W.$$arity=0,W.$$parameters=[]),e.defn(me,"$keep_if",Z=function(){var t,r=this,a=Z.$$p,n=a||$;a&&(Z.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"keep_if"),!_(n))return o(r,"enum_for",["keep_if"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"keep_if")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=0,p=r.$$keys,d=p.length;u<d;u++)s=p[u],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$||e.hash_delete(r,s)!==undefined&&(d--,u--);return r},Z.$$arity=0,Z.$$parameters=[["block","block"]]),e.alias(me,"key","index"),e.alias(me,"key?","has_key?"),e.defn(me,"$keys",J=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"keys");for(var a,n=[],i=0,$=t.$$keys,s=$.length;i<s;i++)a=$[i],a.$$is_string?n.push(a):n.push(a.key);return n},J.$$arity=0,J.$$parameters=[]),e.defn(me,"$length",Q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.$$keys.length},Q.$$arity=0,Q.$$parameters=[]),e.alias(me,"member?","has_key?"),e.defn(me,"$merge",ee=function(t){var r=this,a=ee.$$p,n=a||$;a&&(ee.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"merge"),o(r.$dup(),"merge!",[t],n.$to_proc())},ee.$$arity=1,ee.$$parameters=[["req","other"],["block","block"]]),e.defn(me,"$merge!",te=function(t){var r=this,a=te.$$p,n=a||$;a&&(te.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"merge!"),t.$$is_hash||(t=e.const_get_relative(ve,"Opal")["$coerce_to!"](t,e.const_get_relative(ve,"Hash"),"to_hash"));var s,o,c,_,l=t.$$keys,u=l.length;if(n===$){for(s=0;s<u;s++)o=l[s],o.$$is_string?_=t.$$smap[o]:(_=o.value,o=o.key),e.hash_put(r,o,_);return r}for(s=0;s<u;s++)o=l[s],o.$$is_string?_=t.$$smap[o]:(_=o.value,o=o.key),c=e.hash_get(r,o),c!==undefined?e.hash_put(r,o,n(o,c,_)):e.hash_put(r,o,_);return r},te.$$arity=1,te.$$parameters=[["req","other"],["block","block"]]),e.defn(me,"$rassoc",re=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"rassoc");for(var n,i,s=0,o=r.$$keys,c=o.length;s<c;s++)if(n=o[s],n.$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),i["$=="](t))return[n,i];return $},re.$$arity=1,re.$$parameters=[["req","object"]]),e.defn(me,"$rehash",ae=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rehash"),e.hash_rehash(t),t},ae.$$arity=0,ae.$$parameters=[]),e.defn(me,"$reject",ne=function(){var t,r=this,a=ne.$$p,n=a||$;a&&(ne.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"reject"),!_(n))return o(r,"enum_for",["reject"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reject")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=e.hash(),p=0,d=r.$$keys,f=d.length;p<f;p++)s=d[p],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$||e.hash_put(u,s,c);return u},ne.$$arity=0,ne.$$parameters=[["block","block"]]),e.defn(me,"$reject!",ie=function(){var t,r=this,a=ie.$$p,n=a||$;a&&(ie.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"reject!"),!_(n))return o(r,"enum_for",["reject!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"reject!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=!1,p=0,d=r.$$keys,f=d.length;p<f;p++)s=d[p],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$&&e.hash_delete(r,s)!==undefined&&(u=!0,f--,p--);return u?r:$},ie.$$arity=0,ie.$$parameters=[["block","block"]]),e.defn(me,"$replace",$e=function(t){var r=this,n=$,i=arguments.length;1!==i&&e.ac(i,1,this,"replace"),t=e.const_get_relative(ve,"Opal")["$coerce_to!"](t,e.const_get_relative(ve,"Hash"),"to_hash"),e.hash_init(r);for(var s,c,l=0,u=t.$$keys,p=u.length;l<p;l++)s=u[l],s.$$is_string?c=t.$$smap[s]:(c=s.value,s=s.key),e.hash_put(r,s,c);return _(t.$default_proc())?(n=[t.$default_proc()],o(r,"default_proc=",e.to_a(n)),n[a(n.length,1)]):(n=[t.$default()],o(r,"default=",e.to_a(n)),n[a(n.length,1)]),r},$e.$$arity=1,$e.$$parameters=[["req","other"]]),e.defn(me,"$select",se=function(){var t,r=this,a=se.$$p,n=a||$;a&&(se.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"select"),!_(n))return o(r,"enum_for",["select"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"select")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=e.hash(),p=0,d=r.$$keys,f=d.length;p<f;p++)s=d[p],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$&&e.hash_put(u,s,c);return u},se.$$arity=0,se.$$parameters=[["block","block"]]),e.defn(me,"$select!",oe=function(){var t,r=this,a=oe.$$p,n=a||$;a&&(oe.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"select!"),!_(n))return o(r,"enum_for",["select!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"select!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l,u=$,p=0,d=r.$$keys,f=d.length;p<f;p++)s=d[p],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),!1!==(l=n(s,c))&&l!==$||(e.hash_delete(r,s)!==undefined&&(f--,p--),u=r);return u},oe.$$arity=0,oe.$$parameters=[["block","block"]]),e.defn(me,"$shift",ce=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"shift");var a,n=t.$$keys;return n.length>0?(a=n[0],a=a.$$is_string?a:a.key,[a,e.hash_delete(t,a)]):t.$default($)},ce.$$arity=0,ce.$$parameters=[]),e.alias(me,"size","length"),me.$alias_method("store","[]="),e.defn(me,"$to_a",_e=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_a");for(var a,n,i=[],$=0,s=t.$$keys,o=s.length;$<o;$++)a=s[$],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),i.push([a,n]);return i},_e.$$arity=0,_e.$$parameters=[]),e.defn(me,"$to_h",le=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"to_h"),t.$$class===e.Hash)return t;var a=new e.Hash.$$alloc;return e.hash_init(a),e.hash_clone(t,a),a},le.$$arity=0,le.$$parameters=[]),e.defn(me,"$to_hash",ue=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_hash"),t},ue.$$arity=0,ue.$$parameters=[]),e.defn(me,"$to_proc",pe=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"to_proc"),o(r,"proc",[],(t=function(r){var a=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var n=arguments.length;n>1&&e.block_ac(n,-1,"to_proc")}return null==r&&a.$raise(e.const_get_relative(ve,"ArgumentError"),"no key given"),a["$[]"](r)},t.$$s=r,t.$$arity=-1,t.$$parameters=[["opt","key"]],t))},pe.$$arity=0,pe.$$parameters=[]),e.alias(me,"to_s","inspect"),e.defn(me,"$transform_values",de=function(){var t,r=this,a=de.$$p,n=a||$;a&&(de.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"transform_values"),!_(n))return o(r,"enum_for",["transform_values"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"transform_values")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l=e.hash(),u=0,p=r.$$keys,d=p.length;u<d;u++)s=p[u],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),c=e.yield1(n,c),e.hash_put(l,s,c);return l},de.$$arity=0,de.$$parameters=[["block","block"]]),e.defn(me,"$transform_values!",fe=function(){var t,r=this,a=fe.$$p,n=a||$;a&&(fe.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"transform_values!"),!_(n))return o(r,"enum_for",["transform_values!"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"transform_values!")}return r.$size()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var s,c,l=0,u=r.$$keys,p=u.length;l<p;l++)s=u[l],s.$$is_string?c=r.$$smap[s]:(c=s.value,s=s.key),c=e.yield1(n,c),e.hash_put(r,s,c);return r},fe.$$arity=0,fe.$$parameters=[["block","block"]]),e.alias(me,"update","merge!"),e.alias(me,"value?","has_value?"),e.alias(me,"values_at","indexes"),e.defn(me,"$values",he=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"values");for(var a,n=[],i=0,$=t.$$keys,s=$.length;i<s;i++)a=$[i],a.$$is_string?n.push(t.$$smap[a]):n.push(a.value);return n},he.$$arity=0,he.$$parameters=[]),$&&"values"}(i[0],null,i)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var c=e.top,_=[],l=e.nil,u=(e.breaker,e.slice,e.klass),p=e.truthy,d=e.send,f=e.hash2;return e.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>=","$<=>","$compare","$empty?"]),c.$require("corelib/numeric"),function(c,$super,_){function h(){}var m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me,ge,ve,ye,be,xe,ke,qe,we,Ee,Se,Me=h=u(c,$super,"Number",h),Oe=(Me.$$proto,[Me].concat(_));e.const_get_relative(Oe,"Opal").$bridge(Me,Number),Number.prototype.$$is_number=!0,Me.$$is_number_class=!0,function(t,r){var a,n=(t.$$proto,[t].concat(r));e.defn(t,"$allocate",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"allocate"),t.$raise(e.const_get_relative(n,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0,a.$$parameters=[]),e.udef(t,"$new")}(e.get_singleton_class(Me),Oe),e.defn(Me,"$coerce",m=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"coerce"),t===l)r.$raise(e.const_get_relative(Oe,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[r.$Float(t),r];if(t["$respond_to?"]("to_f"))return[e.const_get_relative(Oe,"Opal")["$coerce_to!"](t,e.const_get_relative(Oe,"Float"),"to_f"),r];if(t.$$is_number)return[t,r];r.$raise(e.const_get_relative(Oe,"TypeError"),"can't convert "+t.$class()+" into Float")}},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(Me,"$__id__",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__id__"),2*t+1},g.$$arity=0,g.$$parameters=[]),e.alias(Me,"object_id","__id__"),e.defn(Me,"$+",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),t.$$is_number?r+t:r.$__coerced__("+",t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(Me,"$-",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"-"),t.$$is_number?r-t:r.$__coerced__("-",t)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(Me,"$*",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"*"),t.$$is_number?r*t:r.$__coerced__("*",t)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(Me,"$/",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"/"),t.$$is_number?r/t:r.$__coerced__("/",t)},x.$$arity=1,x.$$parameters=[["req","other"]]),e.alias(Me,"fdiv","/"),e.defn(Me,"$%",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"%"),t.$$is_number?t==-Infinity?t:0!=t?t<0||r<0?(r%t+t)%t:r%t:void r.$raise(e.const_get_relative(Oe,"ZeroDivisionError"),"divided by 0"):r.$__coerced__("%",t)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(Me,"$&",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"&"),t.$$is_number?r&t:r.$__coerced__("&",t)},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(Me,"$|",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"|"),t.$$is_number?r|t:r.$__coerced__("|",t)},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(Me,"$^",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"^"),t.$$is_number?r^t:r.$__coerced__("^",t)},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(Me,"$<",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<"),t.$$is_number?r<t:r.$__coerced__("<",t)},S.$$arity=1,S.$$parameters=[["req","other"]]),e.defn(Me,"$<=",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<="),t.$$is_number?r<=t:r.$__coerced__("<=",t)},M.$$arity=1,M.$$parameters=[["req","other"]]),e.defn(Me,"$>",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">"),t.$$is_number?r>t:r.$__coerced__(">",t)},O.$$arity=1,O.$$parameters=[["req","other"]]),e.defn(Me,"$>=",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">="),t.$$is_number?r>=t:r.$__coerced__(">=",t)},A.$$arity=1,A.$$parameters=[["req","other"]]);var Ae=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?l:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};e.defn(Me,"$<=>",R=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"<=>");try{return Ae(r,t)}catch(t){if(!e.rescue(t,[e.const_get_relative(Oe,"ArgumentError")]))throw t;try{return l}finally{e.pop_exception()}}},R.$$arity=1,R.$$parameters=[["req","other"]]),e.defn(Me,"$<<",z=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),t=e.const_get_relative(Oe,"Opal")["$coerce_to!"](t,e.const_get_relative(Oe,"Integer"),"to_int"),t>0?r<<t:r>>-t},z.$$arity=1,z.$$parameters=[["req","count"]]),e.defn(Me,"$>>",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,">>"),t=e.const_get_relative(Oe,"Opal")["$coerce_to!"](t,e.const_get_relative(Oe,"Integer"),"to_int"),t>0?r>>t:r<<-t},j.$$arity=1,j.$$parameters=[["req","count"]]),e.defn(Me,"$[]",T=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),t=e.const_get_relative(Oe,"Opal")["$coerce_to!"](t,e.const_get_relative(Oe,"Integer"),"to_int"),t<0?0:t>=32?r<0?1:0:r>>t&1},T.$$arity=1,T.$$parameters=[["req","bit"]]),e.defn(Me,"$+@",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"+@"),+t},I.$$arity=0,I.$$parameters=[]),e.defn(Me,"$-@",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"-@"),-t},C.$$arity=0,C.$$parameters=[]),e.defn(Me,"$~",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"~"),~t},P.$$arity=0,P.$$parameters=[]),e.defn(Me,"$**",N=function(a){var n,i,$=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"**"),p(e.const_get_relative(Oe,"Integer")["$==="](a))?p(p(n=e.const_get_relative(Oe,"Integer")["$==="]($)["$!"]())?n:t(a,0))?Math.pow($,a):e.const_get_relative(Oe,"Rational").$new($,1)["$**"](a):p((n=r($,0))?p(i=e.const_get_relative(Oe,"Float")["$==="](a))?i:e.const_get_relative(Oe,"Rational")["$==="](a):r($,0))?e.const_get_relative(Oe,"Complex").$new($,0)["$**"](a.$to_f()):p(null!=a.$$is_number)?Math.pow($,a):$.$__coerced__("**",a)},N.$$arity=1,N.$$parameters=[["req","other"]]),e.defn(Me,"$===",F=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),t.$$is_number?r.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](r)},F.$$arity=1,F.$$parameters=[["req","other"]]),e.defn(Me,"$==",B=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$$is_number?r.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](r)},B.$$arity=1,B.$$parameters=[["req","other"]]),e.defn(Me,"$abs",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),Math.abs(t)},D.$$arity=0,D.$$parameters=[]),e.defn(Me,"$abs2",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs2"),Math.abs(t*t)},H.$$arity=0,H.$$parameters=[]),e.defn(Me,"$angle",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"angle"),p(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},L.$$arity=0,L.$$parameters=[]),e.alias(Me,"arg","angle"),e.alias(Me,"phase","angle"),e.defn(Me,"$bit_length",U=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"bit_length"),p(e.const_get_relative(Oe,"Integer")["$==="](t))||t.$raise(e.const_get_relative(Oe,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||-1===t)return 0;for(var a=0,n=t<0?~t:t;0!=n;)a+=1,n>>>=1;return a},U.$$arity=0,U.$$parameters=[]),e.defn(Me,"$ceil",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ceil"),Math.ceil(t)},G.$$arity=0,G.$$parameters=[]),e.defn(Me,"$chr",Y=function(){var t=this,r=arguments.length;return r>1&&e.ac(r,-1,this,"chr"),String.fromCharCode(t)},Y.$$arity=-1,Y.$$parameters=[["opt","encoding"]]),e.defn(Me,"$denominator",V=function(){var t,r=this,a=V.$$p,n=l,i=l,$=l;a&&(V.$$p=null);var s=arguments.length;for(0!==s&&e.ac(s,0,this,"denominator"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return p(p(t=r["$nan?"]())?t:r["$infinite?"]())?1:d(r,e.find_super_dispatcher(r,"denominator",V,!1),n,a)},V.$$arity=0,V.$$parameters=[]),e.defn(Me,"$downto",X=function(r){var i,$=this,s=X.$$p,o=s||l;s&&(X.$$p=null);var c=arguments.length;if(1!==c&&e.ac(c,1,this,"downto"),o===l)return d($,"enum_for",["downto",r],(i=function(){var $=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"downto")}return p(e.const_get_relative(Oe,"Numeric")["$==="](r))||$.$raise(e.const_get_relative(Oe,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed"),p(t(r,$))?0:a(n($,r),1)},i.$$s=$,i.$$arity=0,i.$$parameters=[],i));r.$$is_number||$.$raise(e.const_get_relative(Oe,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed");for(var _=$;_>=r;_--)o(_);return $},X.$$arity=1,X.$$parameters=[["req","stop"],["block","block"]]),e.alias(Me,"eql?","=="),e.defn(Me,"$equal?",K=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"equal?"),p(r=a["$=="](t))?r:isNaN(a)&&isNaN(t)},K.$$arity=1,K.$$parameters=[["req","other"]]),e.defn(Me,"$even?",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"even?"),t%2==0},W.$$arity=0,W.$$parameters=[]),e.defn(Me,"$floor",Z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"floor"),Math.floor(t)},Z.$$arity=0,Z.$$parameters=[]),e.defn(Me,"$gcd",J=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"gcd"),p(e.const_get_relative(Oe,"Integer")["$==="](t))||r.$raise(e.const_get_relative(Oe,"TypeError"),"not an integer");for(var n=Math.abs(r),i=Math.abs(t);n>0;){var $=n;n=i%n,i=$}return i},J.$$arity=1,J.$$parameters=[["req","other"]]),e.defn(Me,"$gcdlcm",Q=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"gcdlcm"),[t.$gcd(),t.$lcm()]},Q.$$arity=1,Q.$$parameters=[["req","other"]]),e.defn(Me,"$integer?",ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"integer?"),t%1==0},ee.$$arity=0,ee.$$parameters=[]),e.defn(Me,"$is_a?",te=function(t){var r=this,a=te.$$p,n=l,i=l,$=l;a&&(te.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"is_a?"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return!!p(t["$=="](e.const_get_relative(Oe,"Fixnum"))?e.const_get_relative(Oe,"Integer")["$==="](r):t["$=="](e.const_get_relative(Oe,"Fixnum")))||(!!p(t["$=="](e.const_get_relative(Oe,"Integer"))?e.const_get_relative(Oe,"Integer")["$==="](r):t["$=="](e.const_get_relative(Oe,"Integer")))||(!!p(t["$=="](e.const_get_relative(Oe,"Float"))?e.const_get_relative(Oe,"Float")["$==="](r):t["$=="](e.const_get_relative(Oe,"Float")))||d(r,e.find_super_dispatcher(r,"is_a?",te,!1),n,a)))},te.$$arity=1,te.$$parameters=[["req","klass"]]),e.alias(Me,"kind_of?","is_a?"),e.defn(Me,"$instance_of?",re=function(t){var r=this,a=re.$$p,n=l,i=l,$=l;a&&(re.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"instance_of?"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return!!p(t["$=="](e.const_get_relative(Oe,"Fixnum"))?e.const_get_relative(Oe,"Integer")["$==="](r):t["$=="](e.const_get_relative(Oe,"Fixnum")))||(!!p(t["$=="](e.const_get_relative(Oe,"Integer"))?e.const_get_relative(Oe,"Integer")["$==="](r):t["$=="](e.const_get_relative(Oe,"Integer")))||(!!p(t["$=="](e.const_get_relative(Oe,"Float"))?e.const_get_relative(Oe,"Float")["$==="](r):t["$=="](e.const_get_relative(Oe,"Float")))||d(r,e.find_super_dispatcher(r,"instance_of?",re,!1),n,a)))},re.$$arity=1,re.$$parameters=[["req","klass"]]),e.defn(Me,"$lcm",ae=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"lcm"),p(e.const_get_relative(Oe,"Integer")["$==="](t))||r.$raise(e.const_get_relative(Oe,"TypeError"),"not an integer"),0==r||0==t?0:Math.abs(r*t/r.$gcd(t))},ae.$$arity=1,ae.$$parameters=[["req","other"]]),e.alias(Me,"magnitude","abs"),e.alias(Me,"modulo","%"),e.defn(Me,"$next",ne=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"next"),t+1},ne.$$arity=0,ne.$$parameters=[]),e.defn(Me,"$nonzero?",ie=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"nonzero?"),0==t?l:t},ie.$$arity=0,ie.$$parameters=[]),e.defn(Me,"$numerator",$e=function(){var t,r=this,a=$e.$$p,n=l,i=l,$=l;a&&($e.$$p=null);var s=arguments.length;for(0!==s&&e.ac(s,0,this,"numerator"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return p(p(t=r["$nan?"]())?t:r["$infinite?"]())?r:d(r,e.find_super_dispatcher(r,"numerator",$e,!1),n,a)},$e.$$arity=0,$e.$$parameters=[]),e.defn(Me,"$odd?",se=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"odd?"),t%2!=0},se.$$arity=0,se.$$parameters=[]),e.defn(Me,"$ord",oe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ord"),t},oe.$$arity=0,oe.$$parameters=[]),e.defn(Me,"$pred",ce=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pred"),t-1},ce.$$arity=0,ce.$$parameters=[]),e.defn(Me,"$quo",_e=function(t){var r=this,a=_e.$$p,n=l,$=l,s=l;a&&(_e.$$p=null);var o=arguments.length;for(1!==o&&e.ac(o,1,this,"quo"),$=0,s=arguments.length,n=new Array(s);$<s;$++)n[$]=arguments[$];return p(e.const_get_relative(Oe,"Integer")["$==="](r))?d(r,e.find_super_dispatcher(r,"quo",_e,!1),n,a):i(r,t)},_e.$$arity=1,_e.$$parameters=[["req","other"]]),e.defn(Me,"$rationalize",le=function(t){var r,a,i=this,s=l,o=l,c=arguments.length;return c>1&&e.ac(c,-1,this,"rationalize"),arguments.length>1&&i.$raise(e.const_get_relative(Oe,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),p(e.const_get_relative(Oe,"Integer")["$==="](i))?e.const_get_relative(Oe,"Rational").$new(i,1):p(i["$infinite?"]())?i.$raise(e.const_get_relative(Oe,"FloatDomainError"),"Infinity"):p(i["$nan?"]())?i.$raise(e.const_get_relative(Oe,"FloatDomainError"),"NaN"):p(null==t)?(a=e.const_get_relative(Oe,"Math").$frexp(i),r=e.to_ary(a),s=null==r[0]?l:r[0],o=null==r[1]?l:r[1],s=e.const_get_relative(Oe,"Math").$ldexp(s,e.const_get_qualified(e.const_get_relative(Oe,"Float"),"MANT_DIG")).$to_i(),o=n(o,e.const_get_qualified(e.const_get_relative(Oe,"Float"),"MANT_DIG")),e.const_get_relative(Oe,"Rational").$new($(2,s),1["$<<"](n(1,o))).$rationalize(e.const_get_relative(Oe,"Rational").$new(1,1["$<<"](n(1,o))))):i.$to_r().$rationalize(t)},le.$$arity=-1,le.$$parameters=[["opt","eps"]]),e.defn(Me,"$round",ue=function($){var c,_,u=this,d=l,f=arguments.length;if(f>1&&e.ac(f,-1,this,"round"),p(e.const_get_relative(Oe,"Integer")["$==="](u))){if(p(null==$))return u;if(p(p(c=e.const_get_relative(Oe,"Float")["$==="]($))?$["$infinite?"]():c)&&u.$raise(e.const_get_relative(Oe,"RangeError"),"Infinity"),$=e.const_get_relative(Oe,"Opal")["$coerce_to!"]($,e.const_get_relative(Oe,"Integer"),"to_int"),p(r($,e.const_get_qualified(e.const_get_relative(Oe,"Integer"),"MIN")))&&u.$raise(e.const_get_relative(Oe,"RangeError"),"out of bounds"),p($>=0))return u;if(.415241*($=$["$-@"]())-.125>u.$size())return 0;var h=Math.pow(10,$),m=Math.floor((Math.abs(m)+h/2)/h)*h;return u<0?-m:m}if(p(p(c=u["$nan?"]())?null==$:c)&&u.$raise(e.const_get_relative(Oe,"FloatDomainError"),"NaN"),$=e.const_get_relative(Oe,"Opal")["$coerce_to!"]($||0,e.const_get_relative(Oe,"Integer"),"to_int"),p(s($,0)))p(u["$nan?"]())?u.$raise(e.const_get_relative(Oe,"RangeError"),"NaN"):p(u["$infinite?"]())&&u.$raise(e.const_get_relative(Oe,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(u);if(p(p(c=u["$nan?"]())?c:u["$infinite?"]()))return u}return _=e.const_get_relative(Oe,"Math").$frexp(u),c=e.to_ary(_),null==c[0]?l:c[0],d=null==c[1]?l:c[1],p(o($,n(a(e.const_get_qualified(e.const_get_relative(Oe,"Float"),"DIG"),2),function(){return p(t(d,0))?i(d,4):n(i(d,3),1)}())))?u:p(r($,function(){return p(t(d,0))?a(i(d,3),1):i(d,4)}()["$-@"]()))?0:Math.round(u*Math.pow(10,$))/Math.pow(10,$)},ue.$$arity=-1,ue.$$parameters=[["opt","ndigits"]]),e.defn(Me,"$step",pe=function(t,r,a){function n(){c!==undefined&&(u=c),u===undefined&&(u=l),p===l&&h.$raise(e.const_get_relative(Oe,"TypeError"),"step must be numeric"),0===p&&h.$raise(e.const_get_relative(Oe,"ArgumentError"),"step can't be 0"),_!==undefined&&(p=_),p!==l&&null!=p||(p=1);var t=p["$<=>"](0);t===l&&h.$raise(e.const_get_relative(Oe,"TypeError"),"0 can't be coerced into "+p.$class()),u!==l&&null!=u||(u=t>0?e.const_get_qualified(e.const_get_relative(Oe,"Float"),"INFINITY"):e.const_get_qualified(e.const_get_relative(Oe,"Float"),"INFINITY")["$-@"]()),e.const_get_relative(Oe,"Opal").$compare(h,u)}function i(){if(p>0&&h>u||p<0&&h<u)return 0;if(p===Infinity||p===-Infinity)return 1;var t=Math.abs,r=Math.floor,a=(t(h)+t(u)+t(u-h))/t(p)*e.const_get_qualified(e.const_get_relative(Oe,"Float"),"EPSILON");return a===Infinity||a===-Infinity?0:(a>.5&&(a=.5),r((u-h)/p+a)+1)}function $(){if(n(),0===p)return Infinity;if(p%1!=0)return i();if(p>0&&h>u||p<0&&h<u)return 0;var e=Math.ceil,t=Math.abs;return e((t(h-u)+1)/t(p))}var s,o,c,_,u,p,h=this,m=pe.$$p,g=m||l,v=l,y=l;if(o=e.slice.call(arguments,0,arguments.length),null==(a=e.extract_kwargs(o))||!a.$$is_hash){if(null!=a)throw e.ArgumentError.$new("expected kwargs");a=f([],{})}c=a.$$smap.to,_=a.$$smap.by,0<o.length&&(u=o.splice(0,1)[0]),0<o.length&&(p=o.splice(0,1)[0]),m&&(pe.$$p=null);var b=arguments.length;if(b>4&&e.ac(b,-1,this,"step"),u!==undefined&&c!==undefined&&h.$raise(e.const_get_relative(Oe,"ArgumentError"),"to is given twice"),p!==undefined&&_!==undefined&&h.$raise(e.const_get_relative(Oe,"ArgumentError"),"step is given twice"),g===l)return v=[],y=f([],{}),u!==undefined&&v.push(u),p!==undefined&&v.push(p),c!==undefined&&e.hash_put(y,"to",c),_!==undefined&&e.hash_put(y,"by",_),y["$empty?"]()||v.push(y),d(h,"enum_for",["step"].concat(e.to_a(v)),(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"step")}return $()},s.$$s=h,s.$$arity=0,s.$$parameters=[],s));if(n(),0===p)for(;;)g(h);if(h%1!=0||u%1!=0||p%1!=0){var x=i();if(x>0)if(p===Infinity||p===-Infinity)g(h);else{var k,q=0;if(p>0)for(;q<x;)k=q*p+h,u<k&&(k=u),g(k),q+=1;else for(;q<x;)k=q*p+h,u>k&&(k=u),g(k),q+=1}}else{var w=h;if(p>0)for(;w<=u;)g(w),w+=p;else for(;w>=u;)g(w),w+=p}return h},pe.$$arity=-1,pe.$$parameters=[["opt","limit"],["opt","step"],["key","to"],["key","by"],["block","block"]]),e.alias(Me,"succ","next"),e.defn(Me,"$times",de=function(){var t,r=this,a=de.$$p,n=a||l;a&&(de.$$p=null);var i=arguments.length;if(0!==i&&e.ac(i,0,this,"times"),!p(n))return d(r,"enum_for",["times"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"times")}return r},t.$$s=r,t.$$arity=0,t.$$parameters=[],t));for(var $=0;$<r;$++)n($);return r},de.$$arity=0,de.$$parameters=[["block","block"]]),e.defn(Me,"$to_f",fe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t},fe.$$arity=0,fe.$$parameters=[]),e.defn(Me,"$to_i",he=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),parseInt(t,10)},he.$$arity=0,he.$$parameters=[]),e.alias(Me,"to_int","to_i"),e.defn(Me,"$to_r",me=function(){var t,r,a=this,i=l,s=l,o=arguments.length;return 0!==o&&e.ac(o,0,this,"to_r"),p(e.const_get_relative(Oe,"Integer")["$==="](a))?e.const_get_relative(Oe,"Rational").$new(a,1):(r=e.const_get_relative(Oe,"Math").$frexp(a),t=e.to_ary(r),i=null==t[0]?l:t[0],s=null==t[1]?l:t[1],i=e.const_get_relative(Oe,"Math").$ldexp(i,e.const_get_qualified(e.const_get_relative(Oe,"Float"),"MANT_DIG")).$to_i(),s=n(s,e.const_get_qualified(e.const_get_relative(Oe,"Float"),"MANT_DIG")),$(i,e.const_get_qualified(e.const_get_relative(Oe,"Float"),"RADIX")["$**"](s)).$to_r())},me.$$arity=0,me.$$parameters=[]),e.defn(Me,"$to_s",ge=function(a){var n,i=this;null==a&&(a=10);var $=arguments.length;return $>1&&e.ac($,-1,this,"to_s"),p(p(n=r(a,2))?n:t(a,36))&&i.$raise(e.const_get_relative(Oe,"ArgumentError"),"base must be between 2 and 36"),i.toString(a)},ge.$$arity=-1,ge.$$parameters=[["opt","base"]]),e.alias(Me,"truncate","to_i"),e.alias(Me,"inspect","to_s"),e.defn(Me,"$divmod",ve=function(t){var r,a=this,n=ve.$$p,i=l,$=l,s=l;n&&(ve.$$p=null);var o=arguments.length;for(1!==o&&e.ac(o,1,this,"divmod"),$=0,s=arguments.length,i=new Array(s);$<s;$++)i[$]=arguments[$]
;return p(p(r=a["$nan?"]())?r:t["$nan?"]())?a.$raise(e.const_get_relative(Oe,"FloatDomainError"),"NaN"):p(a["$infinite?"]())?a.$raise(e.const_get_relative(Oe,"FloatDomainError"),"Infinity"):d(a,e.find_super_dispatcher(a,"divmod",ve,!1),i,n)},ve.$$arity=1,ve.$$parameters=[["req","other"]]),e.defn(Me,"$upto",ye=function(t){var i,$=this,s=ye.$$p,o=s||l;s&&(ye.$$p=null);var c=arguments.length;if(1!==c&&e.ac(c,1,this,"upto"),o===l)return d($,"enum_for",["upto",t],(i=function(){var $=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"upto")}return p(e.const_get_relative(Oe,"Numeric")["$==="](t))||$.$raise(e.const_get_relative(Oe,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),p(r(t,$))?0:a(n(t,$),1)},i.$$s=$,i.$$arity=0,i.$$parameters=[],i));t.$$is_number||$.$raise(e.const_get_relative(Oe,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed");for(var _=$;_<=t;_++)o(_);return $},ye.$$arity=1,ye.$$parameters=[["req","stop"],["block","block"]]),e.defn(Me,"$zero?",be=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"zero?"),0==t},be.$$arity=0,be.$$parameters=[]),e.defn(Me,"$size",xe=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"size"),4},xe.$$arity=0,xe.$$parameters=[]),e.defn(Me,"$nan?",ke=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"nan?"),isNaN(t)},ke.$$arity=0,ke.$$parameters=[]),e.defn(Me,"$finite?",qe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"finite?"),t!=Infinity&&t!=-Infinity&&!isNaN(t)},qe.$$arity=0,qe.$$parameters=[]),e.defn(Me,"$infinite?",we=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"infinite?"),t==Infinity?1:t==-Infinity?-1:l},we.$$arity=0,we.$$parameters=[]),e.defn(Me,"$positive?",Ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive?"),0!=t&&(t==Infinity||1/t>0)},Ee.$$arity=0,Ee.$$parameters=[]),e.defn(Me,"$negative?",Se=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),t==-Infinity||1/t<0},Se.$$arity=0,Se.$$parameters=[])}(_[0],e.const_get_relative(_,"Numeric"),_),e.const_set(_[0],"Fixnum",e.const_get_relative(_,"Number")),function(t,$super,r){function a(){}var n=a=u(t,$super,"Integer",a),i=(n.$$proto,[n].concat(r));n.$$is_number_class=!0,function(t,r){var a,n,i=(t.$$proto,[t].concat(r));e.defn(t,"$allocate",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"allocate"),t.$raise(e.const_get_relative(i,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0,a.$$parameters=[]),e.udef(t,"$new"),e.defn(t,"$===",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"==="),!!t.$$is_number&&t%1==0},n.$$arity=1,n.$$parameters=[["req","other"]])}(e.get_singleton_class(n),i),e.const_set(i[0],"MAX",Math.pow(2,30)-1),e.const_set(i[0],"MIN",-Math.pow(2,30))}(_[0],e.const_get_relative(_,"Numeric"),_),function(t,$super,r){function a(){}var n=a=u(t,$super,"Float",a),i=(n.$$proto,[n].concat(r));return n.$$is_number_class=!0,function(t,r){var a,n,i=(t.$$proto,[t].concat(r));e.defn(t,"$allocate",a=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"allocate"),t.$raise(e.const_get_relative(i,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0,a.$$parameters=[]),e.udef(t,"$new"),e.defn(t,"$===",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"==="),!!t.$$is_number},n.$$arity=1,n.$$parameters=[["req","other"]])}(e.get_singleton_class(n),i),e.const_set(i[0],"INFINITY",Infinity),e.const_set(i[0],"MAX",Number.MAX_VALUE),e.const_set(i[0],"MIN",Number.MIN_VALUE),e.const_set(i[0],"NAN",NaN),e.const_set(i[0],"DIG",15),e.const_set(i[0],"MANT_DIG",53),e.const_set(i[0],"RADIX",2),e.const_set(i[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(_[0],e.const_get_relative(_,"Numeric"),_)},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var c=e.top,_=[],l=e.nil,u=(e.breaker,e.slice,e.klass),p=e.truthy,d=e.send;return e.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),c.$require("corelib/enumerable"),function(c,$super,_){function f(){}var h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T=f=u(c,$super,"Range",f),I=T.$$proto,C=[T].concat(_);return I.begin=I.end=I.excl=l,T.$include(e.const_get_relative(C,"Enumerable")),I.$$is_range=!0,T.$attr_reader("begin","end"),e.defn(T,"$initialize",h=function(t,r,a){var n=this;null==a&&(a=!1);var i=arguments.length;return(i<2||i>3)&&e.ac(i,-3,this,"initialize"),p(n.begin)&&n.$raise(e.const_get_relative(C,"NameError"),"'initialize' called twice"),p(t["$<=>"](r))||n.$raise(e.const_get_relative(C,"ArgumentError"),"bad value for range"),n.begin=t,n.end=r,n.excl=a},h.$$arity=-3,h.$$parameters=[["req","first"],["req","last"],["opt","exclude"]]),e.defn(T,"$==",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),!!t.$$is_range&&(r.excl===t.excl&&r.begin==t.begin&&r.end==t.end)},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(T,"$===",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),r["$include?"](t)},g.$$arity=1,g.$$parameters=[["req","value"]]),e.defn(T,"$cover?",v=function(a){var n,i=this,$=l,s=l,o=arguments.length;return 1!==o&&e.ac(o,1,this,"cover?"),$=i.begin["$<=>"](a),!!p(p(n=$)?t($,0):n)&&(s=a["$<=>"](i.end),p(i.excl)?p(n=s)?r(s,0):n:p(n=s)?t(s,0):n)},v.$$arity=1,v.$$parameters=[["req","value"]]),e.defn(T,"$each",y=function(){var t,a=this,n=y.$$p,i=n||l,$=l,s=l;n&&(y.$$p=null);var o=arguments.length;if(0!==o&&e.ac(o,0,this,"each"),i===l)return a.$enum_for("each");var c,_;if(a.begin.$$is_number&&a.end.$$is_number){for(a.begin%1==0&&a.end%1==0||a.$raise(e.const_get_relative(C,"TypeError"),"can't iterate from Float"),c=a.begin,_=a.end+function(){return p(a.excl)?0:1}();c<_;c++)i(c);return a}if(a.begin.$$is_string&&a.end.$$is_string)return d(a.begin,"upto",[a.end,a.excl],i.$to_proc()),a;for($=a.begin,s=a.end,p($["$respond_to?"]("succ"))||a.$raise(e.const_get_relative(C,"TypeError"),"can't iterate from "+$.$class());p(r($["$<=>"](s),0));)e.yield1(i,$),$=$.$succ();return p(p(t=a.excl["$!"]())?$["$=="](s):t)&&e.yield1(i,$),a},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(T,"$eql?",b=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"eql?"),!!p(e.const_get_relative(C,"Range")["$==="](t))&&(p(r=p(a=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):a)?n.end["$eql?"](t.$end()):r)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(T,"$exclude_end?",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclude_end?"),t.excl},x.$$arity=0,x.$$parameters=[]),e.defn(T,"$first",k=function(t){var r=this,a=k.$$p,n=l,i=l,$=l;a&&(k.$$p=null);var s=arguments.length;for(s>1&&e.ac(s,-1,this,"first"),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return p(null==t)?r.begin:d(r,e.find_super_dispatcher(r,"first",k,!1),n,a)},k.$$arity=-1,k.$$parameters=[["opt","n"]]),e.alias(T,"include?","cover?"),e.defn(T,"$last",q=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"last"),p(null==t)?r.end:r.$to_a().$last(t)},q.$$arity=-1,q.$$parameters=[["opt","n"]]),e.defn(T,"$max",w=function(){var t,r=this,n=w.$$p,i=n||l,$=l,s=l,o=l;n&&(w.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"max"),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return i!==l?d(r,e.find_super_dispatcher(r,"max",w,!1),$,n):p(a(r.begin,r.end))?l:p(p(t=r.excl)?r.begin["$=="](r.end):t)?l:r.excl?r.end-1:r.end},w.$$arity=0,w.$$parameters=[]),e.alias(T,"member?","cover?"),e.defn(T,"$min",E=function(){var t,r=this,n=E.$$p,i=n||l,$=l,s=l,o=l;n&&(E.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"min"),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return i!==l?d(r,e.find_super_dispatcher(r,"min",E,!1),$,n):p(a(r.begin,r.end))?l:p(p(t=r.excl)?r.begin["$=="](r.end):t)?l:r.begin},E.$$arity=0,E.$$parameters=[]),e.defn(T,"$size",S=function(){var t,a=this,i=l,$=l,s=l,o=arguments.length;return 0!==o&&e.ac(o,0,this,"size"),i=a.begin,$=a.end,p(a.excl)&&($=n($,1)),p(p(t=e.const_get_relative(C,"Numeric")["$==="](i))?e.const_get_relative(C,"Numeric")["$==="]($):t)?p(r($,i))?0:(s=e.const_get_qualified(e.const_get_relative(C,"Float"),"INFINITY"),p(p(t=s["$=="](i.$abs()))?t:$.$abs()["$=="](s))?s:(Math.abs($-i)+1).$to_i()):l},S.$$arity=0,S.$$parameters=[]),e.defn(T,"$step",M=function(t){function r(){t.$$is_number||(t=e.const_get_relative(C,"Opal")["$coerce_to!"](t,e.const_get_relative(C,"Integer"),"to_int")),t<0?f.$raise(e.const_get_relative(C,"ArgumentError"),"step can't be negative"):0===t&&f.$raise(e.const_get_relative(C,"ArgumentError"),"step can't be 0")}function n(){if(!f.begin["$respond_to?"]("succ"))return l;if(f.begin.$$is_string&&f.end.$$is_string)return l;if(t%1==0)return i(f.$size(),t).$ceil();var r,a=f.begin,n=f.end,$=Math.abs,s=Math.floor,o=($(a)+$(n)+$(n-a))/$(t)*e.const_get_qualified(e.const_get_relative(C,"Float"),"EPSILON");return o>.5&&(o=.5),f.excl?(r=s((n-a)/t-o))*t+a<n&&r++:r=s((n-a)/t+o)+1,r}var c,_,u,f=this,h=M.$$p,m=h||l,g=l;null==t&&(t=1),h&&(M.$$p=null);var v=arguments.length;return v>1&&e.ac(v,-1,this,"step"),m===l?d(f,"enum_for",["step",t],(c=function(){c.$$s;if(c.$$is_lambda||c.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"step")}return r(),n()},c.$$s=f,c.$$arity=0,c.$$parameters=[],c)):(r(),p(f.begin.$$is_number&&f.end.$$is_number)?(g=0,function(){var r=e.new_brk();try{d(f,"loop",[],(_=function(){var n=_.$$s||this,i=l;if(null==n.begin&&(n.begin=l),null==n.excl&&(n.excl=l),null==n.end&&(n.end=l),_.$$is_lambda||_.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"step")}return i=$(n.begin,s(g,t)),p(n.excl)?p(o(i,n.end))&&e.brk(l,r):p(a(i,n.end))&&e.brk(l,r),e.yield1(m,i),g=$(g,1)},_.$$s=f,_.$$brk=r,_.$$arity=0,_.$$parameters=[],_))}catch(e){if(e===r)return e.$v;throw e}}()):(f.begin.$$is_string&&f.end.$$is_string&&t%1!=0&&f.$raise(e.const_get_relative(C,"TypeError"),"no implicit conversion to float from string"),d(f,"each_with_index",[],(u=function(r,a){u.$$s;if(null==r&&(r=l),null==a&&(a=l),u.$$is_lambda||u.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"step")}return a["$%"](t)["$=="](0)?e.yield1(m,r):l},u.$$s=f,u.$$arity=2,u.$$parameters=[["req","value"],["req","idx"]],u))),f)},M.$$arity=-1,M.$$parameters=[["opt","n"]]),e.defn(T,"$bsearch",O=function(){var t=this,r=O.$$p,a=r||l;r&&(O.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"bsearch"),a===l?t.$enum_for("bsearch"):(p(t.begin.$$is_number&&t.end.$$is_number)||t.$raise(e.const_get_relative(C,"TypeError"),"can't do binary search for "+t.begin.$class()),d(t.$to_a(),"bsearch",[],a.$to_proc()))},O.$$arity=0,O.$$parameters=[["block","block"]]),e.defn(T,"$to_s",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),""+t.begin+function(){return p(t.excl)?"...":".."}()+t.end},A.$$arity=0,A.$$parameters=[]),e.defn(T,"$inspect",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),""+t.begin.$inspect()+function(){return p(t.excl)?"...":".."}()+t.end.$inspect()},R.$$arity=0,R.$$parameters=[]),e.defn(T,"$marshal_load",z=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"marshal_load"),r.begin=t["$[]"]("begin"),r.end=t["$[]"]("end"),r.excl=t["$[]"]("excl")},z.$$arity=1,z.$$parameters=[["req","args"]]),e.defn(T,"$hash",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),[t.begin,t.end,t.excl].$hash()},j.$$arity=0,j.$$parameters=[]),l&&"hash"}(_[0],null,_)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice),n=e.klass,i=e.truthy;return e.add_stubs(["$raise","$coerce_to!"]),function(t,$super,$){function s(){}var o,c,_,l,u,p,d,f,h,m,g=s=n(t,$super,"Proc",s),v=g.$$proto,y=[g].concat($);return v.$$is_proc=!0,v.$$is_lambda=!1,e.defs(g,"$new",o=function(){var t=this,a=o.$$p,n=a||r;a&&(o.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"new"),i(n)||t.$raise(e.const_get_relative(y,"ArgumentError"),"tried to create a Proc object without a block"),n},o.$$arity=0,o.$$parameters=[["block","block"]]),e.defn(g,"$call",c=function(){var t,a=this,n=c.$$p,i=n||r,$=arguments.length,s=$-0;s<0&&(s=0),t=new Array(s);for(var o=0;o<$;o++)t[o-0]=arguments[o];n&&(c.$$p=null),i!==r&&(a.$$p=i);var _,l=a.$$brk;if(l)try{_=a.$$is_lambda?a.apply(null,t):e.yieldX(a,t)}catch(e){if(e===l)return l.$v;throw e}else _=a.$$is_lambda?a.apply(null,t):e.yieldX(a,t);return _},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.alias(g,"[]","call"),e.alias(g,"===","call"),e.alias(g,"yield","call"),e.defn(g,"$to_proc",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$lambda?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lambda?"),!!t.$$is_lambda},l.$$arity=0,l.$$parameters=[]),e.defn(g,"$arity",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.$$is_curried?-1:t.$$arity},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$source_location",p=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"source_location"),t.$$is_curried,r},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$binding",d=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"binding"),t.$$is_curried&&t.$raise(e.const_get_relative(y,"ArgumentError"),"Can't create Binding"),r},d.$$arity=0,d.$$parameters=[]),e.defn(g,"$parameters",f=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"parameters"),t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var a,n,i=[];for(a=0,n=t.$$parameters.length;a<n;a++){var $=t.$$parameters[a];"req"===$[0]&&($=["opt",$[1]]),i.push($)}return i}return[]},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$curry",h=function(t){function r(){var i,$=a.call(arguments),s=$.length;return s>t&&n.$$is_lambda&&!n.$$is_curried&&n.$raise(e.const_get_relative(y,"ArgumentError"),"wrong number of arguments ("+s+" for "+t+")"),s>=t?n.$call.apply(n,$):(i=function(){return r.apply(null,$.concat(a.call(arguments)))},i.$$is_lambda=n.$$is_lambda,i.$$is_curried=!0,i)}var n=this,i=arguments.length;return i>1&&e.ac(i,-1,this,"curry"),t===undefined?t=n.length:(t=e.const_get_relative(y,"Opal")["$coerce_to!"](t,e.const_get_relative(y,"Integer"),"to_int"),n.$$is_lambda&&t!==n.length&&n.$raise(e.const_get_relative(y,"ArgumentError"),"wrong number of arguments ("+t+" for "+n.length+")")),r.$$is_lambda=n.$$is_lambda,r.$$is_curried=!0,r},h.$$arity=-1,h.$$parameters=[["opt","arity"]]),e.defn(g,"$dup",m=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"dup");var a=t.$$original_proc||t,n=function(){return a.apply(this,arguments)};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},m.$$arity=0,m.$$parameters=[]),e.alias(g,"clone","dup")}(t[0],Function,t)},Opal.modules["corelib/method"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.truthy;return e.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,$super,i){function $(){}var s,o,c,_,l,u,p,d,f,h=$=a(t,$super,"Method",$),m=h.$$proto,g=[h].concat(i);m.method=m.receiver=m.owner=m.name=r,h.$attr_reader("owner","receiver","name"),e.defn(h,"$initialize",s=function(t,r,a,n){var i=this,$=arguments.length;return 4!==$&&e.ac($,4,this,"initialize"),i.receiver=t,i.owner=r,i.name=n,i.method=a},s.$$arity=4,s.$$parameters=[["req","receiver"],["req","owner"],["req","method"],["req","name"]]),e.defn(h,"$arity",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.method.$arity()},o.$$arity=0,o.$$parameters=[]),e.defn(h,"$parameters",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"parameters"),t.method.$$parameters},c.$$arity=0,c.$$parameters=[]),e.defn(h,"$source_location",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"source_location"),n(t=r.method.$$source_location)?t:["(eval)",0]},_.$$arity=0,_.$$parameters=[]),e.defn(h,"$comments",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"comments"),n(t=r.method.$$comments)?t:[]},l.$$arity=0,l.$$parameters=[]),e.defn(h,"$call",u=function(){var e,t=this,a=u.$$p,n=a||r,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var s=0;s<i;s++)e[s-0]=arguments[s];return a&&(u.$$p=null),t.method.$$p=n,t.method.apply(t.receiver,e)},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),e.alias(h,"[]","call"),e.defn(h,"$unbind",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unbind"),e.const_get_relative(g,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},p.$$arity=0,p.$$parameters=[]),e.defn(h,"$to_proc",d=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_proc");var a=t.$call.bind(t);return a.$$unbound=t.method,a.$$is_lambda=!0,a},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$inspect",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},f.$$arity=0,f.$$parameters=[])}(t[0],null,t),function(t,$super,i){function $(){}var s,o,c,_,l,u,p,d=$=a(t,$super,"UnboundMethod",$),f=d.$$proto,h=[d].concat(i);return f.method=f.owner=f.name=f.source=r,d.$attr_reader("source","owner","name"),e.defn(d,"$initialize",s=function(t,r,a,n){var i=this,$=arguments.length;return 4!==$&&e.ac($,4,this,"initialize"),i.source=t,i.owner=r,i.method=a,i.name=n},s.$$arity=4,s.$$parameters=[["req","source"],["req","owner"],["req","method"],["req","name"]]),e.defn(d,"$arity",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"arity"),t.method.$arity()},o.$$arity=0,o.$$parameters=[]),e.defn(d,"$parameters",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"parameters"),t.method.$$parameters},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$source_location",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"source_location"),n(t=r.method.$$source_location)?t:["(eval)",0]},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$comments",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"comments"),n(t=r.method.$$comments)?t:[]},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$bind",u=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"bind"),r.owner.$$is_module||e.is_a(t,r.owner))return e.const_get_relative(h,"Method").$new(t,r.owner,r.method,r.name);r.$raise(e.const_get_relative(h,"TypeError"),"can't bind singleton method to a different class (expected "+t+".kind_of?("+r.owner+" to be true)")},u.$$arity=1,u.$$parameters=[["req","object"]]),e.defn(d,"$inspect",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},p.$$arity=0,p.$$parameters=[]),r&&"inspect"}(t[0],null,t)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.gvars),n=e.hash2;return e.add_stubs(["$new"]),a["&"]=a["~"]=a["`"]=a["'"]=r,a.LOADED_FEATURES=a['"']=e.loaded_features,a.LOAD_PATH=a[":"]=[],a["/"]="\n",a[","]=r,e.const_set(t[0],"ARGV",[]),e.const_set(t[0],"ARGF",e.const_get_relative(t,"Object").$new()),e.const_set(t[0],"ENV",n([],{})),a.VERBOSE=!1,a.DEBUG=!1,a.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t,n){var i,$=i=a(t,"Opal"),s=($.$$proto,[$].concat(n));e.const_set(s[0],"REGEXP_START",function(){return e.const_get_relative(s,"RUBY_ENGINE")["$=="]("opal")?"^":r}()),e.const_set(s[0],"REGEXP_END",function(){return e.const_get_relative(s,"RUBY_ENGINE")["$=="]("opal")?"$":r}()),e.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",e.const_get_relative(s,"Regexp").$new("[^"+e.const_get_relative(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+e.const_get_relative(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),e.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.const_set(s[0],"CONST_NAME_REGEXP",e.const_get_relative(s,"Regexp").$new(e.const_get_relative(s,"REGEXP_START")+"(::)?[A-Z][^"+e.const_get_relative(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+e.const_get_relative(s,"REGEXP_END")))}(t[0],t)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.klass),o=e.send,c=e.truthy,_=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),n.$require("corelib/string"),function(t,$super,r){function a(){}var n,i=a=s(t,$super,"String",a),o=(i.$$proto,[i].concat(r));e.defs(i,"$inherited",n=function(t){var r=$,a=arguments.length;1!==a&&e.ac(a,1,this,"inherited"),r=e.const_get_relative(o,"Class").$new(e.const_get_qualified(e.const_get_relative(o,"String"),"Wrapper")),t.$$proto=r.$$proto,t.$$proto.$$class=t,t.$$alloc=r.$$alloc,t.$$parent=e.const_get_qualified(e.const_get_relative(o,"String"),"Wrapper"),t.$allocate=r.$allocate,t.$new=r.$new},n.$$arity=1,n.$$parameters=[["req","klass"]])}(i[0],null,i),function(n,$super,i){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A=l=s(n,$super,"Wrapper",l),R=A.$$proto;[A].concat(i);return R.literal=$,R.$$is_string=!0,e.defs(A,"$allocate",u=function(t){var r=this,a=u.$$p,n=$;null==t&&(t=""),a&&(u.$$p=null);var i=arguments.length;return i>1&&e.ac(i,-1,this,"allocate"),n=o(r,e.find_super_dispatcher(r,"allocate",u,!1,l),[],null),n.literal=t,n},u.$$arity=-1,u.$$parameters=[["opt","string"]]),e.defs(A,"$new",p=function(){var t,r=this,a=p.$$p,n=a||$,i=$,s=arguments.length,c=s-0;c<0&&(c=0),t=new Array(c);for(var _=0;_<s;_++)t[_-0]=arguments[_];return a&&(p.$$p=null),i=r.$allocate(),o(i,"initialize",e.to_a(t),n.$to_proc()),i},p.$$arity=-1,p.$$parameters=[["rest","args"],["block","block"]]),e.defs(A,"$[]",d=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$allocate(e)},d.$$arity=-1,d.$$parameters=[["rest","objects"]]),e.defn(A,"$initialize",f=function(t){var r=this;null==t&&(t="");var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),r.literal=t},f.$$arity=-1,f.$$parameters=[["opt","string"]]),e.defn(A,"$method_missing",h=function(){var t,r=this,a=h.$$p,n=a||$,i=$,s=arguments.length,_=s-0;_<0&&(_=0),t=new Array(_);for(var l=0;l<s;l++)t[l-0]=arguments[l];return a&&(h.$$p=null),i=o(r.literal,"__send__",e.to_a(t),n.$to_proc()),c(null!=i.$$is_string)?c(i==r.literal)?r:r.$class().$allocate(i):i},h.$$arity=-1,h.$$parameters=[["rest","args"],["block","block"]]),e.defn(A,"$initialize_copy",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize_copy"),r.literal=t.literal.$clone()},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(A,"$respond_to?",g=function(t){var r,a=this,n=g.$$p,i=$,s=$,_=$;n&&(g.$$p=null);var l=arguments.length;for(l<1&&e.ac(l,-2,this,"respond_to?"),s=0,_=arguments.length,i=new Array(_);s<_;s++)i[s]=arguments[s];return c(r=o(a,e.find_super_dispatcher(a,"respond_to?",g,!1),i,n))?r:a.literal["$respond_to?"](t)},g.$$arity=-2,g.$$parameters=[["req","name"],["rest"]]),e.defn(A,"$==",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),r.literal["$=="](t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.alias(A,"eql?","=="),e.alias(A,"===","=="),e.defn(A,"$to_s",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.literal.$to_s()},y.$$arity=0,y.$$parameters=[]),e.alias(A,"to_str","to_s"),e.defn(A,"$inspect",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.literal.$inspect()},b.$$arity=0,b.$$parameters=[]),e.defn(A,"$+",x=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"+"),t(a.literal,r)},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(A,"$*",k=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"*");var i=r(a.literal,t);return i.$$is_string?a.$class().$allocate(i):i},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(A,"$split",q=function(t,r){var a,n=this,i=arguments.length;return i>2&&e.ac(i,-1,this,"split"),o(n.literal.$split(t,r),"map",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"split")}return r.$class().$allocate(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","str"]],a))},q.$$arity=-1,q.$$parameters=[["opt","pattern"],["opt","limit"]]),e.defn(A,"$replace",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace"),r.literal=t},w.$$arity=1,w.$$parameters=[["req","string"]]),e.defn(A,"$each_line",E=function(t){var r,a=this,n=E.$$p,i=n||$;null==_["/"]&&(_["/"]=$),null==t&&(t=_["/"]),n&&(E.$$p=null);var s=arguments.length;return s>1&&e.ac(s,-1,this,"each_line"),i===$?a.$enum_for("each_line",t):o(a.literal,"each_line",[t],(r=function(t){var a=r.$$s||this;if(null==t&&(t=$),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"each_line")}return e.yield1(i,a.$class().$allocate(t))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","str"]],r))},E.$$arity=-1,E.$$parameters=[["opt","separator"]]),e.defn(A,"$lines",S=function(t){var r=this,a=S.$$p,n=a||$,i=$;null==_["/"]&&(_["/"]=$),null==t&&(t=_["/"]),a&&(S.$$p=null);var s=arguments.length;return s>1&&e.ac(s,-1,this,"lines"),i=o(r,"each_line",[t],n.$to_proc()),c(n)?r:i.$to_a()},S.$$arity=-1,S.$$parameters=[["opt","separator"],["block","block"]]),e.defn(A,"$%",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"%"),r.literal["$%"](t)},M.$$arity=1,M.$$parameters=[["req","data"]]),e.defn(A,"$instance_variables",O=function(){var t=this,r=O.$$p,n=$,i=$,s=$;r&&(O.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"instance_variables"),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return a(o(t,e.find_super_dispatcher(t,"instance_variables",O,!1),n,r),["@literal"])},O.$$arity=0,O.$$parameters=[]),$&&"instance_variables"}(e.const_get_relative(i,"String"),null,i)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a,n,i,$,s=e.top,o=[],c=e.nil,_=(e.breaker,e.slice,e.klass),l=e.truthy,u=e.send,p=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),s.$require("corelib/string"),function(r,$super,a){function n(){}var i,$,s,o,d,f,h,m,g,v,y=n=_(r,$super,"Encoding",n),b=y.$$proto,x=[y].concat(a);b.ascii=b.dummy=b.name=c,y.$$register={},e.defs(y,"$register",i=function(r,a){var n,$,s=this,o=i.$$p,_=o||c,d=c,f=c,h=c;null==a&&(a=p([],{})),o&&(i.$$p=null);var m=arguments.length;return(m<1||m>2)&&e.ac(m,-2,this,"register"),d=t([r],l(n=a["$[]"]("aliases"))?n:[]),f=u(e.const_get_relative(x,"Class"),"new",[s],_.$to_proc()).$new(r,d,!!l(n=a["$[]"]("ascii"))&&n,!!l(n=a["$[]"]("dummy"))&&n),h=s.$$register,u(d,"each",[],($=function(t){var r=$.$$s||this;if(null==t&&(t=c),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"register")}return r.$const_set(t.$sub("-","_"),f),h["$$"+t]=f},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","name"]],$))},i.$$arity=-2,i.$$parameters=[["req","name"],["opt","options"],["block","block"]]),e.defs(y,"$find",$=function(t){var r,a=this,n=c,i=c,$=arguments.length;return 1!==$&&e.ac($,1,this,"find"),t["$=="]("default_external")?a.$default_external():(n=a.$$register,i=l(r=n["$$"+t])?r:n["$$"+t.$upcase()],l(i)||a.$raise(e.const_get_relative(x,"ArgumentError"),"unknown encoding name - "+t),i)},$.$$arity=1,$.$$parameters=[["req","name"]]),function(e,t){e.$$proto,[e].concat(t);e.$attr_accessor("default_external")}(e.get_singleton_class(y),x),y.$attr_reader("name","names"),e.defn(y,"$initialize",s=function(t,r,a,n){var i=this,$=arguments.length;return 4!==$&&e.ac($,4,this,"initialize"),i.name=t,i.names=r,i.ascii=a,i.dummy=n},s.$$arity=4,s.$$parameters=[["req","name"],["req","names"],["req","ascii"],["req","dummy"]]),e.defn(y,"$ascii_compatible?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ascii_compatible?"),t.ascii},o.$$arity=0,o.$$parameters=[]),e.defn(y,"$dummy?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dummy?"),t.dummy},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$to_s",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.name},f.$$arity=0,f.$$parameters=[]),e.defn(y,"$inspect",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Encoding:"+t.name+function(){return l(t.dummy)?" (dummy)":c}()+">"},h.$$arity=0,h.$$parameters=[]),e.defn(y,"$each_byte",m=function(){return this.$raise(e.const_get_relative(x,"NotImplementedError"))},m.$$arity=-1,m.$$parameters=[["rest"]]),e.defn(y,"$getbyte",g=function(){return this.$raise(e.const_get_relative(x,"NotImplementedError"))},g.$$arity=-1,g.$$parameters=[["rest"]]),e.defn(y,"$bytesize",v=function(){return this.$raise(e.const_get_relative(x,"NotImplementedError"))},v.$$arity=-1,v.$$parameters=[["rest"]]),function(e,$super,t){function r(){}var a=r=_(e,$super,"EncodingError",r);a.$$proto,[a].concat(t)}(x[0],e.const_get_relative(x,"StandardError"),x),function(e,$super,t){function r(){}var a=r=_(e,$super,"CompatibilityError",r);a.$$proto,[a].concat(t)}(x[0],e.const_get_relative(x,"EncodingError"),x)}(o[0],null,o),u(e.const_get_relative(o,"Encoding"),"register",["UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var t,a,n=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<main>")}return e.def(n,"$each_byte",t=function(r){var a=t.$$p,n=a||c;a&&(t.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"each_byte");for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);if(o<=127)e.yield1(n,o);else for(var _=encodeURIComponent(r.charAt($)).substr(1).split("%"),l=0,u=_.length;l<u;l++)e.yield1(n,parseInt(_[l],16))}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(n,"$bytesize",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bytesize"),t.$bytes().$length()},a.$$arity=1,a.$$parameters=[["req","string"]]),c&&"bytesize"},r.$$s=s,r.$$arity=0,r.$$parameters=[],r)),
u(e.const_get_relative(o,"Encoding"),"register",["UTF-16LE"],(a=function(){var t,r,n=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<main>")}return e.def(n,"$each_byte",t=function(r){var a=t.$$p,n=a||c;a&&(t.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"each_byte");for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);e.yield1(n,255&o),e.yield1(n,o>>8)}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(n,"$bytesize",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bytesize"),t.$bytes().$length()},r.$$arity=1,r.$$parameters=[["req","string"]]),c&&"bytesize"},a.$$s=s,a.$$arity=0,a.$$parameters=[],a)),u(e.const_get_relative(o,"Encoding"),"register",["UTF-16BE"],(n=function(){var t,r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||c;a&&(t.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"each_byte");for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);e.yield1(n,o>>8),e.yield1(n,255&o)}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bytesize"),t.$bytes().$length()},r.$$arity=1,r.$$parameters=[["req","string"]]),c&&"bytesize"},n.$$s=s,n.$$arity=0,n.$$parameters=[],n)),u(e.const_get_relative(o,"Encoding"),"register",["UTF-32LE"],(i=function(){var t,r,a=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||c;a&&(t.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"each_byte");for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);e.yield1(n,255&o),e.yield1(n,o>>8)}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bytesize"),t.$bytes().$length()},r.$$arity=1,r.$$parameters=[["req","string"]]),c&&"bytesize"},i.$$s=s,i.$$arity=0,i.$$parameters=[],i)),u(e.const_get_relative(o,"Encoding"),"register",["ASCII-8BIT",p(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],($=function(){var t,r,a=$.$$s||this;if($.$$is_lambda||$.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<main>")}return e.def(a,"$each_byte",t=function(r){var a=t.$$p,n=a||c;a&&(t.$$p=null);var i=arguments.length;1!==i&&e.ac(i,1,this,"each_byte");for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);e.yield1(n,255&o),e.yield1(n,o>>8)}},t.$$arity=1,t.$$parameters=[["req","string"],["block","block"]]),e.def(a,"$bytesize",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bytesize"),t.$bytes().$length()},r.$$arity=1,r.$$parameters=[["req","string"]]),c&&"bytesize"},$.$$s=s,$.$$arity=0,$.$$parameters=[],$)),function(t,$super,r){function a(){}var n,i,$,s,o,l,p,d,f=a=_(t,$super,"String",a),h=f.$$proto,m=[f].concat(r);return h.encoding=c,String.prototype.encoding=e.const_get_qualified(e.const_get_relative(m,"Encoding"),"UTF_16LE"),e.defn(f,"$bytes",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytes"),t.$each_byte().$to_a()},n.$$arity=0,n.$$parameters=[]),e.defn(f,"$bytesize",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"bytesize"),t.encoding.$bytesize(t)},i.$$arity=0,i.$$parameters=[]),e.defn(f,"$each_byte",$=function(){var t=this,r=$.$$p,a=r||c;r&&($.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"each_byte"),a===c?t.$enum_for("each_byte"):(u(t.encoding,"each_byte",[t],a.$to_proc()),t)},$.$$arity=0,$.$$parameters=[["block","block"]]),e.defn(f,"$encode",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"encode"),r.$dup().$force_encoding(t)},s.$$arity=1,s.$$parameters=[["req","encoding"]]),e.defn(f,"$encoding",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"encoding"),t.encoding},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$force_encoding",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"force_encoding"),t===r.encoding?r:(t=e.const_get_relative(m,"Opal")["$coerce_to!"](t,e.const_get_relative(m,"String"),"to_s"),(t=e.const_get_relative(m,"Encoding").$find(t))===r.encoding?r:(r.encoding=t,r))},l.$$arity=1,l.$$parameters=[["req","encoding"]]),e.defn(f,"$getbyte",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"getbyte"),r.encoding.$getbyte(r,t)},p.$$arity=1,p.$$parameters=[["req","idx"]]),e.defn(f,"$valid_encoding?",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"valid_encoding?"),!0},d.$$arity=0,d.$$parameters=[]),c&&"valid_encoding?"}(o[0],null,o)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var a=(e.top,[]),n=(e.nil,e.breaker,e.slice,e.module),i=e.truthy;return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(a,$){var s,o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P=s=n(a,"Math"),N=(P.$$proto,[P].concat($));e.const_set(N[0],"E",Math.E),e.const_set(N[0],"PI",Math.PI),e.const_set(N[0],"DomainError",e.const_get_relative(N,"Class").$new(e.const_get_relative(N,"StandardError"))),e.defs(P,"$checked",o=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;if(s<1&&e.ac(s,-2,this,"checked"),isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var o=Math[t].apply(null,r);return isNaN(o)&&a.$raise(e.const_get_relative(N,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),o},o.$$arity=-2,o.$$parameters=[["req","method"],["rest","args"]]),e.defs(P,"$float!",c=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"float!");try{return r.$Float(t)}catch(a){if(!e.rescue(a,[e.const_get_relative(N,"ArgumentError")]))throw a;try{return r.$raise(e.const_get_relative(N,"Opal").$type_error(t,e.const_get_relative(N,"Float")))}finally{e.pop_exception()}}},c.$$arity=1,c.$$parameters=[["req","value"]]),e.defs(P,"$integer!",_=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"integer!");try{return r.$Integer(t)}catch(a){if(!e.rescue(a,[e.const_get_relative(N,"ArgumentError")]))throw a;try{return r.$raise(e.const_get_relative(N,"Opal").$type_error(t,e.const_get_relative(N,"Integer")))}finally{e.pop_exception()}}},_.$$arity=1,_.$$parameters=[["req","value"]]),P.$module_function(),e.defn(P,"$acos",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"acos"),e.const_get_relative(N,"Math").$checked("acos",e.const_get_relative(N,"Math")["$float!"](t))},l.$$arity=1,l.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.acosh)||(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(P,"$acosh",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"acosh"),e.const_get_relative(N,"Math").$checked("acosh",e.const_get_relative(N,"Math")["$float!"](t))},u.$$arity=1,u.$$parameters=[["req","x"]]),e.defn(P,"$asin",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"asin"),e.const_get_relative(N,"Math").$checked("asin",e.const_get_relative(N,"Math")["$float!"](t))},p.$$arity=1,p.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.asinh)||(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(P,"$asinh",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"asinh"),e.const_get_relative(N,"Math").$checked("asinh",e.const_get_relative(N,"Math")["$float!"](t))},d.$$arity=1,d.$$parameters=[["req","x"]]),e.defn(P,"$atan",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"atan"),e.const_get_relative(N,"Math").$checked("atan",e.const_get_relative(N,"Math")["$float!"](t))},f.$$arity=1,f.$$parameters=[["req","x"]]),e.defn(P,"$atan2",h=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"atan2"),e.const_get_relative(N,"Math").$checked("atan2",e.const_get_relative(N,"Math")["$float!"](t),e.const_get_relative(N,"Math")["$float!"](r))},h.$$arity=2,h.$$parameters=[["req","y"],["req","x"]]),i("undefined"!=typeof Math.atanh)||(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(P,"$atanh",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"atanh"),e.const_get_relative(N,"Math").$checked("atanh",e.const_get_relative(N,"Math")["$float!"](t))},m.$$arity=1,m.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var t=e,r=0;t<.125;)t*=8,r--;for(;t>1;)t*=.125,r++;for(t=(-.46946116*t+1.072302)*t+.3812513;r<0;)t*=.5,r++;for(;r>0;)t*=2,r--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(P,"$cbrt",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cbrt"),e.const_get_relative(N,"Math").$checked("cbrt",e.const_get_relative(N,"Math")["$float!"](t))},g.$$arity=1,g.$$parameters=[["req","x"]]),e.defn(P,"$cos",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cos"),e.const_get_relative(N,"Math").$checked("cos",e.const_get_relative(N,"Math")["$float!"](t))},v.$$arity=1,v.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.cosh)||(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(P,"$cosh",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"cosh"),e.const_get_relative(N,"Math").$checked("cosh",e.const_get_relative(N,"Math")["$float!"](t))},y.$$arity=1,y.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.erf)||(Math.erf=function(e){var t=.254829592,r=-.284496736,a=1.421413741,n=-1.453152027,i=1.061405429,$=.3275911,s=1;e<0&&(s=-1),e=Math.abs(e);var o=1/(1+$*e);return s*(1-((((i*o+n)*o+a)*o+r)*o+t)*o*Math.exp(-e*e))}),e.defn(P,"$erf",b=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"erf"),e.const_get_relative(N,"Math").$checked("erf",e.const_get_relative(N,"Math")["$float!"](t))},b.$$arity=1,b.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.erfc)||(Math.erfc=function(e){var t=Math.abs(e),r=1/(.5*t+1),a=.17087277*r-.82215223,n=r*a+1.48851587,i=r*n-1.13520398,$=r*i+.27886807,s=r*$-.18628806,o=r*s+.09678418,c=r*o+.37409196,_=r*c+1.00002368,l=r*_,u=-t*t-1.26551223+l,p=r*Math.exp(u);return e<0?2-p:p}),e.defn(P,"$erfc",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"erfc"),e.const_get_relative(N,"Math").$checked("erfc",e.const_get_relative(N,"Math")["$float!"](t))},x.$$arity=1,x.$$parameters=[["req","x"]]),e.defn(P,"$exp",k=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"exp"),e.const_get_relative(N,"Math").$checked("exp",e.const_get_relative(N,"Math")["$float!"](t))},k.$$arity=1,k.$$parameters=[["req","x"]]),e.defn(P,"$frexp",q=function(t){var r=arguments.length;if(1!==r&&e.ac(r,1,this,"frexp"),t=e.const_get_relative(N,"Math")["$float!"](t),isNaN(t))return[NaN,0];var a=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,a),a]},q.$$arity=1,q.$$parameters=[["req","x"]]),e.defn(P,"$gamma",w=function(r){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"gamma"),r=e.const_get_relative(N,"Math")["$float!"](r);var i,$,s,o,c,_,l,u,p,d=4.7421875,f=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(r))return NaN;if(0===r&&1/r<0)return-Infinity;if(-1!==r&&r!==-Infinity||a.$raise(e.const_get_relative(N,"DomainError"),'Numerical argument is out of domain - "gamma"'),e.const_get_relative(N,"Integer")["$==="](r)){if(r<=0)return isFinite(r)?Infinity:NaN;if(r>171)return Infinity;for(o=r-2,c=r-1;o>1;)c*=o,o--;return 0==c&&(c=1),c}if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*e.const_get_relative(N,"Math").$gamma(t(1,r)));if(r>=171.35)return Infinity;if(r>85)return _=r*r,l=_*r,u=l*r,p=u*r,Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*_)-139/(51840*l)-571/(2488320*u)+163879/(209018880*p)+5246819/(75246796800*p*r));for(r-=1,s=f[0],i=1;i<f.length;++i)s+=f[i]/(r+i);return $=r+d+.5,Math.sqrt(2*Math.PI)*Math.pow($,r+.5)*Math.exp(-$)*s},w.$$arity=1,w.$$parameters=[["req","n"]]),i("undefined"!=typeof Math.hypot)||(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(P,"$hypot",E=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"hypot"),e.const_get_relative(N,"Math").$checked("hypot",e.const_get_relative(N,"Math")["$float!"](t),e.const_get_relative(N,"Math")["$float!"](r))},E.$$arity=2,E.$$parameters=[["req","x"],["req","y"]]),e.defn(P,"$ldexp",S=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"ldexp"),t=e.const_get_relative(N,"Math")["$float!"](t),r=e.const_get_relative(N,"Math")["$integer!"](r),isNaN(r)&&a.$raise(e.const_get_relative(N,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,r)},S.$$arity=2,S.$$parameters=[["req","mantissa"],["req","exponent"]]),e.defn(P,"$lgamma",M=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"lgamma"),-1==t?[Infinity,1]:[Math.log(Math.abs(e.const_get_relative(N,"Math").$gamma(t))),e.const_get_relative(N,"Math").$gamma(t)<0?-1:1]},M.$$arity=1,M.$$parameters=[["req","n"]]),e.defn(P,"$log",O=function(t,a){var n=this,$=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"log"),i(e.const_get_relative(N,"String")["$==="](t))&&n.$raise(e.const_get_relative(N,"Opal").$type_error(t,e.const_get_relative(N,"Float"))),i(null==a)?e.const_get_relative(N,"Math").$checked("log",e.const_get_relative(N,"Math")["$float!"](t)):(i(e.const_get_relative(N,"String")["$==="](a))&&n.$raise(e.const_get_relative(N,"Opal").$type_error(a,e.const_get_relative(N,"Float"))),r(e.const_get_relative(N,"Math").$checked("log",e.const_get_relative(N,"Math")["$float!"](t)),e.const_get_relative(N,"Math").$checked("log",e.const_get_relative(N,"Math")["$float!"](a))))},O.$$arity=-2,O.$$parameters=[["req","x"],["opt","base"]]),i("undefined"!=typeof Math.log10)||(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(P,"$log10",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"log10"),i(e.const_get_relative(N,"String")["$==="](t))&&r.$raise(e.const_get_relative(N,"Opal").$type_error(t,e.const_get_relative(N,"Float"))),e.const_get_relative(N,"Math").$checked("log10",e.const_get_relative(N,"Math")["$float!"](t))},A.$$arity=1,A.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.log2)||(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(P,"$log2",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"log2"),i(e.const_get_relative(N,"String")["$==="](t))&&r.$raise(e.const_get_relative(N,"Opal").$type_error(t,e.const_get_relative(N,"Float"))),e.const_get_relative(N,"Math").$checked("log2",e.const_get_relative(N,"Math")["$float!"](t))},R.$$arity=1,R.$$parameters=[["req","x"]]),e.defn(P,"$sin",z=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sin"),e.const_get_relative(N,"Math").$checked("sin",e.const_get_relative(N,"Math")["$float!"](t))},z.$$arity=1,z.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.sinh)||(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(P,"$sinh",j=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sinh"),e.const_get_relative(N,"Math").$checked("sinh",e.const_get_relative(N,"Math")["$float!"](t))},j.$$arity=1,j.$$parameters=[["req","x"]]),e.defn(P,"$sqrt",T=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"sqrt"),e.const_get_relative(N,"Math").$checked("sqrt",e.const_get_relative(N,"Math")["$float!"](t))},T.$$arity=1,T.$$parameters=[["req","x"]]),e.defn(P,"$tan",I=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"tan"),t=e.const_get_relative(N,"Math")["$float!"](t),i(t["$infinite?"]())?e.const_get_qualified(e.const_get_relative(N,"Float"),"NAN"):e.const_get_relative(N,"Math").$checked("tan",e.const_get_relative(N,"Math")["$float!"](t))},I.$$arity=1,I.$$parameters=[["req","x"]]),i("undefined"!=typeof Math.tanh)||(Math.tanh=function(e){return e==Infinity?1:e==-Infinity?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(P,"$tanh",C=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"tanh"),e.const_get_relative(N,"Math").$checked("tanh",e.const_get_relative(N,"Math")["$float!"](t))},C.$$arity=1,C.$$parameters=[["req","x"]])}(a[0],a)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.klass),_=e.truthy,l=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),$.$require("corelib/numeric"),function($,$super,s){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D=l=c($,$super,"Complex",l),H=D.$$proto,L=[D].concat(s);H.real=H.imag=o,e.defs(D,"$rect",u=function(t,r){var a,n,i,$=this;null==r&&(r=0);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"rect"),_(_(a=_(n=_(i=e.const_get_relative(L,"Numeric")["$==="](t))?t["$real?"]():i)?e.const_get_relative(L,"Numeric")["$==="](r):n)?r["$real?"]():a)||$.$raise(e.const_get_relative(L,"TypeError"),"not a real"),$.$new(t,r)},u.$$arity=-2,u.$$parameters=[["req","real"],["opt","imag"]]),function(t,r){t.$$proto,[t].concat(r);e.alias(t,"rectangular","rect")}(e.get_singleton_class(D),L),e.defs(D,"$polar",p=function(r,a){var n,i,$,s=this;null==a&&(a=0);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"polar"),_(_(n=_(i=_($=e.const_get_relative(L,"Numeric")["$==="](r))?r["$real?"]():$)?e.const_get_relative(L,"Numeric")["$==="](a):i)?a["$real?"]():n)||s.$raise(e.const_get_relative(L,"TypeError"),"not a real"),s.$new(t(r,e.const_get_relative(L,"Math").$cos(a)),t(r,e.const_get_relative(L,"Math").$sin(a)))},p.$$arity=-2,p.$$parameters=[["req","r"],["opt","theta"]]),D.$attr_reader("real","imag"),e.defn(D,"$initialize",d=function(t,r){var a=this;null==r&&(r=0);var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"initialize"),a.real=t,a.imag=r},d.$$arity=-2,d.$$parameters=[["req","real"],["opt","imag"]]),e.defn(D,"$coerce",f=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"coerce"),_(e.const_get_relative(L,"Complex")["$==="](t))?[t,a]:_(_(r=e.const_get_relative(L,"Numeric")["$==="](t))?t["$real?"]():r)?[e.const_get_relative(L,"Complex").$new(t,0),a]:a.$raise(e.const_get_relative(L,"TypeError"),t.$class()+" can't be coerced into Complex")},f.$$arity=1,f.$$parameters=[["req","other"]]),e.defn(D,"$==",h=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"=="),_(e.const_get_relative(L,"Complex")["$==="](t))?(r=a.real["$=="](t.$real()))?a.imag["$=="](t.$imag()):a.real["$=="](t.$real()):_(_(r=e.const_get_relative(L,"Numeric")["$==="](t))?t["$real?"]():r)?(r=a.real["$=="](t))?a.imag["$=="](0):a.real["$=="](t):t["$=="](a)},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(D,"$-@",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"-@"),t.$Complex(t.real["$-@"](),t.imag["$-@"]())},m.$$arity=0,m.$$parameters=[]),e.defn(D,"$+",g=function(t){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"+"),_(e.const_get_relative(L,"Complex")["$==="](t))?n.$Complex(r(n.real,t.$real()),r(n.imag,t.$imag())):_(_(a=e.const_get_relative(L,"Numeric")["$==="](t))?t["$real?"]():a)?n.$Complex(r(n.real,t),n.imag):n.$__coerced__("+",t)},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(D,"$-",v=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"-"),_(e.const_get_relative(L,"Complex")["$==="](t))?n.$Complex(a(n.real,t.$real()),a(n.imag,t.$imag())):_(_(r=e.const_get_relative(L,"Numeric")["$==="](t))?t["$real?"]():r)?n.$Complex(a(n.real,t),n.imag):n.$__coerced__("-",t)},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(D,"$*",y=function(n){var i,$=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"*"),_(e.const_get_relative(L,"Complex")["$==="](n))?$.$Complex(a(t($.real,n.$real()),t($.imag,n.$imag())),r(t($.real,n.$imag()),t($.imag,n.$real()))):_(_(i=e.const_get_relative(L,"Numeric")["$==="](n))?n["$real?"]():i)?$.$Complex(t($.real,n),t($.imag,n)):$.$__coerced__("*",n)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(D,"$/",b=function(r){var a,i,$,s,o=this,c=arguments.length;return 1!==c&&e.ac(c,1,this,"/"),_(e.const_get_relative(L,"Complex")["$==="](r))?_(_(a=_(i=_($=_(s=e.const_get_relative(L,"Number")["$==="](o.real))?o.real["$nan?"]():s)?$:_(s=e.const_get_relative(L,"Number")["$==="](o.imag))?o.imag["$nan?"]():s)?i:_($=e.const_get_relative(L,"Number")["$==="](r.$real()))?r.$real()["$nan?"]():$)?a:_(i=e.const_get_relative(L,"Number")["$==="](r.$imag()))?r.$imag()["$nan?"]():i)?e.const_get_relative(L,"Complex").$new(e.const_get_qualified(e.const_get_relative(L,"Float"),"NAN"),e.const_get_qualified(e.const_get_relative(L,"Float"),"NAN")):n(t(o,r.$conj()),r.$abs2()):_(_(a=e.const_get_relative(L,"Numeric")["$==="](r))?r["$real?"]():a)?o.$Complex(o.real.$quo(r),o.imag.$quo(r)):o.$__coerced__("/",r)},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(D,"$**",x=function($){var s,c,l,u,p=this,d=o,f=o,h=o,m=o,g=o,v=o,y=o,b=o,x=o,k=o,q=o,w=arguments.length;if(1!==w&&e.ac(w,1,this,"**"),$["$=="](0))return e.const_get_relative(L,"Complex").$new(1,0);if(_(e.const_get_relative(L,"Complex")["$==="]($)))return c=p.$polar(),s=e.to_ary(c),d=null==s[0]?o:s[0],f=null==s[1]?o:s[1],h=$.$real(),m=$.$imag(),g=e.const_get_relative(L,"Math").$exp(a(t(h,e.const_get_relative(L,"Math").$log(d)),t(m,f))),v=r(t(f,h),t(m,e.const_get_relative(L,"Math").$log(d))),e.const_get_relative(L,"Complex").$polar(g,v);if(_(e.const_get_relative(L,"Integer")["$==="]($))){if(_(i($,0))){for(y=p,b=y,x=a($,1);_(x["$!="](0));){for(;_((u=x.$divmod(2),l=e.to_ary(u),k=null==l[0]?o:l[0],q=null==l[1]?o:l[1],q["$=="](0)));)y=p.$Complex(a(t(y.$real(),y.$real()),t(y.$imag(),y.$imag())),t(t(2,y.$real()),y.$imag())),x=k;b=t(b,y),x=a(x,1)}return b}return n(e.const_get_relative(L,"Rational").$new(1,1),p)["$**"]($["$-@"]())}return _(_(s=e.const_get_relative(L,"Float")["$==="]($))?s:e.const_get_relative(L,"Rational")["$==="]($))?(c=p.$polar(),s=e.to_ary(c),d=null==s[0]?o:s[0],f=null==s[1]?o:s[1],e.const_get_relative(L,"Complex").$polar(d["$**"]($),t(f,$))):p.$__coerced__("**",$)},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(D,"$abs",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),e.const_get_relative(L,"Math").$hypot(t.real,t.imag)},k.$$arity=0,k.$$parameters=[]),e.defn(D,"$abs2",q=function(){var a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"abs2"),r(t(a.real,a.real),t(a.imag,a.imag))},q.$$arity=0,q.$$parameters=[]),e.defn(D,"$angle",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"angle"),e.const_get_relative(L,"Math").$atan2(t.imag,t.real)},w.$$arity=0,w.$$parameters=[]),e.alias(D,"arg","angle"),e.defn(D,"$conj",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"conj"),t.$Complex(t.real,t.imag["$-@"]())},E.$$arity=0,E.$$parameters=[]),e.alias(D,"conjugate","conj"),e.defn(D,"$denominator",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.real.$denominator().$lcm(t.imag.$denominator())},S.$$arity=0,S.$$parameters=[]),e.alias(D,"divide","/"),e.defn(D,"$eql?",M=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"eql?"),_(r=_(a=e.const_get_relative(L,"Complex")["$==="](t))?n.real.$class()["$=="](n.imag.$class()):a)?n["$=="](t):r},M.$$arity=1,M.$$parameters=[["req","other"]]),e.defn(D,"$fdiv",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"fdiv"),_(e.const_get_relative(L,"Numeric")["$==="](t))||r.$raise(e.const_get_relative(L,"TypeError"),t.$class()+" can't be coerced into Complex"),n(r,t)},O.$$arity=1,O.$$parameters=[["req","other"]]),e.defn(D,"$hash",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Complex:"+t.real+":"+t.imag},A.$$arity=0,A.$$parameters=[]),e.alias(D,"imaginary","imag"),e.defn(D,"$inspect",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$to_s()+")"},R.$$arity=0,R.$$parameters=[]),e.alias(D,"magnitude","abs"),e.udef(D,"$negative?"),e.defn(D,"$numerator",z=function(){var r=this,a=o,i=arguments.length;return 0!==i&&e.ac(i,0,this,"numerator"),a=r.$denominator(),r.$Complex(t(r.real.$numerator(),n(a,r.real.$denominator())),t(r.imag.$numerator(),n(a,r.imag.$denominator())))},z.$$arity=0,z.$$parameters=[]),e.alias(D,"phase","arg"),e.defn(D,"$polar",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"polar"),[t.$abs(),t.$arg()]},j.$$arity=0,j.$$parameters=[]),e.udef(D,"$positive?"),e.alias(D,"quo","/"),e.defn(D,"$rationalize",T=function(t){var r=this,a=arguments.length;return a>1&&e.ac(a,-1,this,"rationalize"),arguments.length>1&&r.$raise(e.const_get_relative(L,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(r.imag["$!="](0))&&r.$raise(e.const_get_relative(L,"RangeError"),"can't' convert "+r+" into Rational"),r.$real().$rationalize(t)},T.$$arity=-1,T.$$parameters=[["opt","eps"]]),e.defn(D,"$real?",I=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"real?"),!1},I.$$arity=0,I.$$parameters=[]),e.defn(D,"$rect",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rect"),[t.real,t.imag]},C.$$arity=0,C.$$parameters=[]),e.alias(D,"rectangular","rect"),e.defn(D,"$to_f",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t.imag["$=="](0)||t.$raise(e.const_get_relative(L,"RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},P.$$arity=0,P.$$parameters=[]),e.defn(D,"$to_i",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),t.imag["$=="](0)||t.$raise(e.const_get_relative(L,"RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},N.$$arity=0,N.$$parameters=[]),e.defn(D,"$to_r",F=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t.imag["$=="](0)||t.$raise(e.const_get_relative(L,"RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},F.$$arity=0,F.$$parameters=[]),e.defn(D,"$to_s",B=function(){var t,a,n,i=this,$=o,s=arguments.length;return 0!==s&&e.ac(s,0,this,"to_s"),$=i.real.$inspect(),$=_(_(t=_(a=_(n=e.const_get_relative(L,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?a:i.imag["$positive?"]())?t:i.imag["$zero?"]())?r($,"+"):r($,"-"),$=r($,i.imag.$abs().$inspect()),_(_(t=e.const_get_relative(L,"Number")["$==="](i.imag))?_(a=i.imag["$nan?"]())?a:i.imag["$infinite?"]():t)&&($=r($,"*")),r($,"i")},B.$$arity=0,B.$$parameters=[]),e.const_set(L[0],"I",D.$new(0,1))}(s[0],e.const_get_relative(s,"Numeric"),s),function(t,r){var a,n,i=a=l(t,"Kernel"),$=(i.$$proto,[i].concat(r));e.defn(i,"$Complex",n=function(t,r){null==r&&(r=o);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"Complex"),_(r)?e.const_get_relative($,"Complex").$new(t,r):e.const_get_relative($,"Complex").$new(t,0)},n.$$arity=-2,n.$$parameters=[["req","real"],["opt","imag"]])}(s[0],s)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var o=e.top,c=[],_=e.nil,l=(e.breaker,e.slice,e.klass),u=e.truthy,p=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),o.$require("corelib/numeric"),function(o,$super,c){function p(){}var d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B=p=l(o,$super,"Rational",p),D=B.$$proto,H=[B].concat(c);D.num=D.den=_,e.defs(B,"$reduce",d=function(a,n){var i=this,$=_,s=arguments.length;if(2!==s&&e.ac(s,2,this,"reduce"),a=a.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(e.const_get_relative(H,"ZeroDivisionError"),"divided by 0");else if(u(t(n,0)))a=a["$-@"](),n=n["$-@"]();else if(n["$=="](1))return i.$new(a,n);return $=a.$gcd(n),i.$new(r(a,$),r(n,$))},d.$$arity=2,d.$$parameters=[["req","num"],["req","den"]]),e.defs(B,"$convert",f=function(t,a){var n,i,$=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"convert"),u(u(n=t["$nil?"]())?n:a["$nil?"]())&&$.$raise(e.const_get_relative(H,"TypeError"),"cannot convert nil into Rational"),u(u(n=e.const_get_relative(H,"Integer")["$==="](t))?e.const_get_relative(H,"Integer")["$==="](a):n)?$.$reduce(t,a):(u(u(n=u(i=e.const_get_relative(H,"Float")["$==="](t))?i:e.const_get_relative(H,"String")["$==="](t))?n:e.const_get_relative(H,"Complex")["$==="](t))&&(t=t.$to_r()),u(u(n=u(i=e.const_get_relative(H,"Float")["$==="](a))?i:e.const_get_relative(H,"String")["$==="](a))?n:e.const_get_relative(H,"Complex")["$==="](a))&&(a=a.$to_r()),u(u(n=a["$equal?"](1))?e.const_get_relative(H,"Integer")["$==="](t)["$!"]():n)?e.const_get_relative(H,"Opal")["$coerce_to!"](t,e.const_get_relative(H,"Rational"),"to_r"):u(u(n=e.const_get_relative(H,"Numeric")["$==="](t))?e.const_get_relative(H,"Numeric")["$==="](a):n)?r(t,a):$.$reduce(t,a))},f.$$arity=2,f.$$parameters=[["req","num"],["req","den"]]),B.$attr_reader("numerator","denominator"),e.defn(B,"$initialize",h=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.num=t,a.den=r},h.$$arity=2,h.$$parameters=[["req","num"],["req","den"]]),e.defn(B,"$numerator",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numerator"),t.num},m.$$arity=0,m.$$parameters=[]),e.defn(B,"$denominator",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"denominator"),t.den},g.$$arity=0,g.$$parameters=[]),e.defn(B,"$coerce",v=function(t){var r=this,a=_,n=arguments.length;return 1!==n&&e.ac(n,1,this,"coerce"),function(){return a=t,e.const_get_relative(H,"Rational")["$==="](a)?[t,r]:e.const_get_relative(H,"Integer")["$==="](a)?[t.$to_r(),r]:e.const_get_relative(H,"Float")["$==="](a)?[t,r.$to_f()]:_}()},v.$$arity=1,v.$$parameters=[["req","other"]]),e.defn(B,"$==",y=function(t){var r,a=this,n=_,i=arguments.length;return 1!==i&&e.ac(i,1,this,"=="),function(){return n=t,e.const_get_relative(H,"Rational")["$==="](n)?(r=a.num["$=="](t.$numerator()))?a.den["$=="](t.$denominator()):a.num["$=="](t.$numerator()):e.const_get_relative(H,"Integer")["$==="](n)?(r=a.num["$=="](t))?a.den["$=="](1):a.num["$=="](t):e.const_get_relative(H,"Float")["$==="](n)?a.$to_f()["$=="](t):t["$=="](a)}()},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(B,"$<=>",b=function(t){var r=this,i=_,$=arguments.length;return 1!==$&&e.ac($,1,this,"<=>"),function(){return i=t,e.const_get_relative(H,"Rational")["$==="](i)?a(n(r.num,t.$denominator()),n(r.den,t.$numerator()))["$<=>"](0):e.const_get_relative(H,"Integer")["$==="](i)?a(r.num,n(r.den,t))["$<=>"](0):e.const_get_relative(H,"Float")["$==="](i)?r.$to_f()["$<=>"](t):r.$__coerced__("<=>",t)}()},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(B,"$+",x=function(t){var r=this,a=_,$=_,s=_,o=arguments.length;return 1!==o&&e.ac(o,1,this,"+"),function(){return a=t,e.const_get_relative(H,"Rational")["$==="](a)?($=i(n(r.num,t.$denominator()),n(r.den,t.$numerator())),s=n(r.den,t.$denominator()),
r.$Rational($,s)):e.const_get_relative(H,"Integer")["$==="](a)?r.$Rational(i(r.num,n(t,r.den)),r.den):e.const_get_relative(H,"Float")["$==="](a)?i(r.$to_f(),t):r.$__coerced__("+",t)}()},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(B,"$-",k=function(t){var r=this,i=_,$=_,s=_,o=arguments.length;return 1!==o&&e.ac(o,1,this,"-"),function(){return i=t,e.const_get_relative(H,"Rational")["$==="](i)?($=a(n(r.num,t.$denominator()),n(r.den,t.$numerator())),s=n(r.den,t.$denominator()),r.$Rational($,s)):e.const_get_relative(H,"Integer")["$==="](i)?r.$Rational(a(r.num,n(t,r.den)),r.den):e.const_get_relative(H,"Float")["$==="](i)?a(r.$to_f(),t):r.$__coerced__("-",t)}()},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(B,"$*",q=function(t){var r=this,a=_,i=_,$=_,s=arguments.length;return 1!==s&&e.ac(s,1,this,"*"),function(){return a=t,e.const_get_relative(H,"Rational")["$==="](a)?(i=n(r.num,t.$numerator()),$=n(r.den,t.$denominator()),r.$Rational(i,$)):e.const_get_relative(H,"Integer")["$==="](a)?r.$Rational(n(r.num,t),r.den):e.const_get_relative(H,"Float")["$==="](a)?n(r.$to_f(),t):r.$__coerced__("*",t)}()},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(B,"$/",w=function(t){var a=this,i=_,$=_,s=_,o=arguments.length;return 1!==o&&e.ac(o,1,this,"/"),function(){return i=t,e.const_get_relative(H,"Rational")["$==="](i)?($=n(a.num,t.$denominator()),s=n(a.den,t.$numerator()),a.$Rational($,s)):e.const_get_relative(H,"Integer")["$==="](i)?t["$=="](0)?r(a.$to_f(),0):a.$Rational(a.num,n(a.den,t)):e.const_get_relative(H,"Float")["$==="](i)?r(a.$to_f(),t):a.$__coerced__("/",t)}()},w.$$arity=1,w.$$parameters=[["req","other"]]),e.defn(B,"$**",E=function(r){var a,n=this,i=_,s=arguments.length;return 1!==s&&e.ac(s,1,this,"**"),function(){return i=r,e.const_get_relative(H,"Integer")["$==="](i)?u((a=n["$=="](0))?t(r,0):n["$=="](0))?e.const_get_qualified(e.const_get_relative(H,"Float"),"INFINITY"):u($(r,0))?n.$Rational(n.num["$**"](r),n.den["$**"](r)):u(t(r,0))?n.$Rational(n.den["$**"](r["$-@"]()),n.num["$**"](r["$-@"]())):n.$Rational(1,1):e.const_get_relative(H,"Float")["$==="](i)?n.$to_f()["$**"](r):e.const_get_relative(H,"Rational")["$==="](i)?r["$=="](0)?n.$Rational(1,1):r.$denominator()["$=="](1)?u(t(r,0))?n.$Rational(n.den["$**"](r.$numerator().$abs()),n.num["$**"](r.$numerator().$abs())):n.$Rational(n.num["$**"](r.$numerator()),n.den["$**"](r.$numerator())):u((a=n["$=="](0))?t(r,0):n["$=="](0))?n.$raise(e.const_get_relative(H,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](r):n.$__coerced__("**",r)}()},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(B,"$abs",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"abs"),t.$Rational(t.num.$abs(),t.den.$abs())},S.$$arity=0,S.$$parameters=[]),e.defn(B,"$ceil",M=function(t){var a=this;null==t&&(t=0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"ceil"),t["$=="](0)?r(a.num["$-@"](),a.den)["$-@"]().$ceil():a.$with_precision("ceil",t)},M.$$arity=-1,M.$$parameters=[["opt","precision"]]),e.alias(B,"divide","/"),e.defn(B,"$floor",O=function(t){var a=this;null==t&&(t=0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"floor"),t["$=="](0)?r(a.num["$-@"](),a.den)["$-@"]().$floor():a.$with_precision("floor",t)},O.$$arity=-1,O.$$parameters=[["opt","precision"]]),e.defn(B,"$hash",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Rational:"+t.num+":"+t.den},A.$$arity=0,A.$$parameters=[]),e.defn(B,"$inspect",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$to_s()+")"},R.$$arity=0,R.$$parameters=[]),e.alias(B,"quo","/"),e.defn(B,"$rationalize",z=function(t){var n=this,$=arguments.length;if($>1&&e.ac($,-1,this,"rationalize"),arguments.length>1&&n.$raise(e.const_get_relative(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return n;for(var o,c,_,l,u,p=t.$abs(),d=a(n,p),f=i(n,p),h=0,m=1,g=1,v=0;;){if(_=d.$ceil(),s(_,f))break;l=_-1,o=l*m+h,c=l*v+g,u=r(1,a(f,l)),f=r(1,a(d,l)),d=u,h=m,g=v,m=o,v=c}return n.$Rational(_*m+h,_*v+g)},z.$$arity=-1,z.$$parameters=[["opt","eps"]]),e.defn(B,"$round",j=function(a){var $=this,s=_,o=_,c=_;null==a&&(a=0);var l=arguments.length;return l>1&&e.ac(l,-1,this,"round"),a["$=="](0)?$.num["$=="](0)?0:$.den["$=="](1)?$.num:(s=i(n($.num.$abs(),2),$.den),o=n($.den,2),c=r(s,o).$truncate(),u(t($.num,0))?c["$-@"]():c):$.$with_precision("round",a)},j.$$arity=-1,j.$$parameters=[["opt","precision"]]),e.defn(B,"$to_f",T=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"to_f"),r(t.num,t.den)},T.$$arity=0,T.$$parameters=[]),e.defn(B,"$to_i",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),t.$truncate()},I.$$arity=0,I.$$parameters=[]),e.defn(B,"$to_r",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_r"),t},C.$$arity=0,C.$$parameters=[]),e.defn(B,"$to_s",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.num+"/"+t.den},P.$$arity=0,P.$$parameters=[]),e.defn(B,"$truncate",N=function(r){var a=this;null==r&&(r=0);var n=arguments.length;return n>1&&e.ac(n,-1,this,"truncate"),r["$=="](0)?u(t(a.num,0))?a.$ceil():a.$floor():a.$with_precision("truncate",r)},N.$$arity=-1,N.$$parameters=[["opt","precision"]]),e.defn(B,"$with_precision",F=function(a,i){var $=this,s=_,o=_,c=arguments.length;return 2!==c&&e.ac(c,2,this,"with_precision"),u(e.const_get_relative(H,"Integer")["$==="](i))||$.$raise(e.const_get_relative(H,"TypeError"),"not an Integer"),s=10["$**"](i),o=n($,s),u(t(i,1))?r(o.$send(a),s).$to_i():$.$Rational(o.$send(a),s)},F.$$arity=2,F.$$parameters=[["req","method"],["req","precision"]])}(c[0],e.const_get_relative(c,"Numeric"),c),function(t,r){var a,n,i=a=p(t,"Kernel"),$=(i.$$proto,[i].concat(r));e.defn(i,"$Rational",n=function(t,r){null==r&&(r=1);var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"Rational"),e.const_get_relative($,"Rational").$convert(t,r)},n.$$arity=-2,n.$$parameters=[["req","numerator"],["opt","denominator"]])}(c[0],c)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=e.top,o=[],c=e.nil,_=(e.breaker,e.slice),l=e.klass,u=e.truthy,p=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),s.$require("corelib/comparable"),function(s,$super,o){function d(){}function f(t,r,a,n,i,$){if(t=t.$$is_string?parseInt(t,10):e.const_get_relative(ie,"Opal")["$coerce_to!"](t,e.const_get_relative(ie,"Integer"),"to_int"),r===c)r=1;else if(!r.$$is_number)if(r["$respond_to?"]("to_str"))switch(r=r.$to_str(),r.toLowerCase()){case"jan":r=1;break;case"feb":r=2;break;case"mar":r=3;break;case"apr":r=4;break;case"may":r=5;break;case"jun":r=6;break;case"jul":r=7;break;case"aug":r=8;break;case"sep":r=9;break;case"oct":r=10;break;case"nov":r=11;break;case"dec":r=12;break;default:r=r.$to_i()}else r=e.const_get_relative(ie,"Opal")["$coerce_to!"](r,e.const_get_relative(ie,"Integer"),"to_int");return(r<1||r>12)&&ne.$raise(e.const_get_relative(ie,"ArgumentError"),"month out of range: "+r),r-=1,a=a===c?1:a.$$is_string?parseInt(a,10):e.const_get_relative(ie,"Opal")["$coerce_to!"](a,e.const_get_relative(ie,"Integer"),"to_int"),(a<1||a>31)&&ne.$raise(e.const_get_relative(ie,"ArgumentError"),"day out of range: "+a),n=n===c?0:n.$$is_string?parseInt(n,10):e.const_get_relative(ie,"Opal")["$coerce_to!"](n,e.const_get_relative(ie,"Integer"),"to_int"),(n<0||n>24)&&ne.$raise(e.const_get_relative(ie,"ArgumentError"),"hour out of range: "+n),i=i===c?0:i.$$is_string?parseInt(i,10):e.const_get_relative(ie,"Opal")["$coerce_to!"](i,e.const_get_relative(ie,"Integer"),"to_int"),(i<0||i>59)&&ne.$raise(e.const_get_relative(ie,"ArgumentError"),"min out of range: "+i),$===c?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):e.const_get_relative(ie,"Opal")["$coerce_to!"]($,e.const_get_relative(ie,"Integer"),"to_int")),($<0||$>60)&&ne.$raise(e.const_get_relative(ie,"ArgumentError"),"sec out of range: "+$),[t,r,a,n,i,$]}var h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne=d=l(s,$super,"Time",d),ie=(ne.$$proto,[ne].concat(o));ne.$include(e.const_get_relative(ie,"Comparable"));var $e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],se=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ce=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs(ne,"$at",h=function(t,r){var a=this,n=arguments.length;(n<1||n>2)&&e.ac(n,-2,this,"at");var i;return e.const_get_relative(ie,"Time")["$==="](t)?(r!==undefined&&a.$raise(e.const_get_relative(ie,"TypeError"),"can't convert Time into an exact number"),i=new Date(t.getTime()),i.is_utc=t.is_utc,i):(t.$$is_number||(t=e.const_get_relative(ie,"Opal")["$coerce_to!"](t,e.const_get_relative(ie,"Integer"),"to_int")),r===undefined?new Date(1e3*t):(r.$$is_number||(r=e.const_get_relative(ie,"Opal")["$coerce_to!"](r,e.const_get_relative(ie,"Integer"),"to_int")),new Date(1e3*t+r/1e3)))},h.$$arity=-2,h.$$parameters=[["req","seconds"],["opt","frac"]]),e.defs(ne,"$new",m=function(t,r,a,n,i,$,s){var o=this;null==r&&(r=c),null==a&&(a=c),null==n&&(n=c),null==i&&(i=c),null==$&&($=c),null==s&&(s=c);var _=arguments.length;_>7&&e.ac(_,-1,this,"new");var l,u;return t===undefined?new Date:(s!==c&&o.$raise(e.const_get_relative(ie,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),l=f(t,r,a,n,i,$),t=l[0],r=l[1],a=l[2],n=l[3],i=l[4],$=l[5],u=new Date(t,r,a,n,i,0,1e3*$),t<100&&u.setFullYear(t),u)},m.$$arity=-1,m.$$parameters=[["opt","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","utc_offset"]]),e.defs(ne,"$local",g=function(t,r,a,n,i,$,s,o,l,u){null==r&&(r=c),null==a&&(a=c),null==n&&(n=c),null==i&&(i=c),null==$&&($=c),null==s&&(s=c),null==o&&(o=c),null==l&&(l=c),null==u&&(u=c);var p=arguments.length;(p<1||p>10)&&e.ac(p,-2,this,"local");var d,h;return 10===arguments.length&&(d=_.call(arguments),t=d[5],r=d[4],a=d[3],n=d[2],i=d[1],$=d[0]),d=f(t,r,a,n,i,$),t=d[0],r=d[1],a=d[2],n=d[3],i=d[4],$=d[5],h=new Date(t,r,a,n,i,0,1e3*$),t<100&&h.setFullYear(t),h},g.$$arity=-2,g.$$parameters=[["req","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","millisecond"],["opt","_dummy1"],["opt","_dummy2"],["opt","_dummy3"]]),e.defs(ne,"$gm",v=function(t,r,a,n,i,$,s,o,l,u){null==r&&(r=c),null==a&&(a=c),null==n&&(n=c),null==i&&(i=c),null==$&&($=c),null==s&&(s=c),null==o&&(o=c),null==l&&(l=c),null==u&&(u=c);var p=arguments.length;(p<1||p>10)&&e.ac(p,-2,this,"gm");var d,h;return 10===arguments.length&&(d=_.call(arguments),t=d[5],r=d[4],a=d[3],n=d[2],i=d[1],$=d[0]),d=f(t,r,a,n,i,$),t=d[0],r=d[1],a=d[2],n=d[3],i=d[4],$=d[5],h=new Date(Date.UTC(t,r,a,n,i,0,1e3*$)),t<100&&h.setUTCFullYear(t),h.is_utc=!0,h},v.$$arity=-2,v.$$parameters=[["req","year"],["opt","month"],["opt","day"],["opt","hour"],["opt","min"],["opt","sec"],["opt","millisecond"],["opt","_dummy1"],["opt","_dummy2"],["opt","_dummy3"]]),function(t,r){t.$$proto,[t].concat(r);e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class(ne),ie),e.defs(ne,"$now",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"now"),t.$new()},y.$$arity=0,y.$$parameters=[]),e.defn(ne,"$+",b=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"+"),u(e.const_get_relative(ie,"Time")["$==="](t))&&r.$raise(e.const_get_relative(ie,"TypeError"),"time + time?"),t.$$is_number||(t=e.const_get_relative(ie,"Opal")["$coerce_to!"](t,e.const_get_relative(ie,"Integer"),"to_int"));var n=new Date(r.getTime()+1e3*t);return n.is_utc=r.is_utc,n},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(ne,"$-",x=function(t){var r=this,a=arguments.length;if(1!==a&&e.ac(a,1,this,"-"),u(e.const_get_relative(ie,"Time")["$==="](t)))return(r.getTime()-t.getTime())/1e3;t.$$is_number||(t=e.const_get_relative(ie,"Opal")["$coerce_to!"](t,e.const_get_relative(ie,"Integer"),"to_int"));var n=new Date(r.getTime()-1e3*t);return n.is_utc=r.is_utc,n},x.$$arity=1,x.$$parameters=[["req","other"]]),e.defn(ne,"$<=>",k=function(a){var n=this,i=c,$=arguments.length;return 1!==$&&e.ac($,1,this,"<=>"),u(e.const_get_relative(ie,"Time")["$==="](a))?n.$to_f()["$<=>"](a.$to_f()):(i=a["$<=>"](n),u(i["$nil?"]())?c:u(t(i,0))?-1:u(r(i,0))?1:0)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(ne,"$==",q=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"=="),u(r=e.const_get_relative(ie,"Time")["$==="](t))?a.$to_f()===t.$to_f():r},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(ne,"$asctime",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"asctime"),t.$strftime("%a %b %e %H:%M:%S %Y")},w.$$arity=0,w.$$parameters=[]),e.alias(ne,"ctime","asctime"),e.defn(ne,"$day",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"day"),t.is_utc?t.getUTCDate():t.getDate()},E.$$arity=0,E.$$parameters=[]),e.defn(ne,"$yday",S=function(){var t=this,r=c,$=c,s=c,o=arguments.length;return 0!==o&&e.ac(o,0,this,"yday"),r=e.const_get_relative(ie,"Time").$new(t.$year()).$to_i(),$=e.const_get_relative(ie,"Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),s=86400,a(n(i($,r),s).$round(),1)},S.$$arity=0,S.$$parameters=[]),e.defn(ne,"$isdst",M=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"isdst");var a=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),n.getTimezoneOffset())},M.$$arity=0,M.$$parameters=[]),e.alias(ne,"dst?","isdst"),e.defn(ne,"$dup",O=function(){var t=this,r=c,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=new Date(t.getTime()),r.$copy_instance_variables(t),r.$initialize_dup(t),r},O.$$arity=0,O.$$parameters=[]),e.defn(ne,"$eql?",A=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"eql?"),u(r=t["$is_a?"](e.const_get_relative(ie,"Time")))?a["$<=>"](t)["$zero?"]():r},A.$$arity=1,A.$$parameters=[["req","other"]]),e.defn(ne,"$friday?",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"friday?"),5==t.$wday()},R.$$arity=0,R.$$parameters=[]),e.defn(ne,"$hash",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),"Time:"+t.getTime()},z.$$arity=0,z.$$parameters=[]),e.defn(ne,"$hour",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hour"),t.is_utc?t.getUTCHours():t.getHours()},j.$$arity=0,j.$$parameters=[]),e.defn(ne,"$inspect",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),u(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},T.$$arity=0,T.$$parameters=[]),e.alias(ne,"mday","day"),e.defn(ne,"$min",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"min"),t.is_utc?t.getUTCMinutes():t.getMinutes()},I.$$arity=0,I.$$parameters=[]),e.defn(ne,"$mon",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mon"),(t.is_utc?t.getUTCMonth():t.getMonth())+1},C.$$arity=0,C.$$parameters=[]),e.defn(ne,"$monday?",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"monday?"),1==t.$wday()},P.$$arity=0,P.$$parameters=[]),e.alias(ne,"month","mon"),e.defn(ne,"$saturday?",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"saturday?"),6==t.$wday()},N.$$arity=0,N.$$parameters=[]),e.defn(ne,"$sec",F=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"sec"),t.is_utc?t.getUTCSeconds():t.getSeconds()},F.$$arity=0,F.$$parameters=[]),e.defn(ne,"$succ",B=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"succ");var a=new Date(t.getTime()+1e3);return a.is_utc=t.is_utc,a},B.$$arity=0,B.$$parameters=[]),e.defn(ne,"$usec",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"usec"),1e3*t.getMilliseconds()},D.$$arity=0,D.$$parameters=[]),e.defn(ne,"$zone",H=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"zone");var a,n=t.toString();return a=-1==n.indexOf("(")?n.match(/[A-Z]{3,4}/)[0]:n.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==a&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:a},H.$$arity=0,H.$$parameters=[]),e.defn(ne,"$getgm",L=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"getgm");var a=new Date(t.getTime());return a.is_utc=!0,a},L.$$arity=0,L.$$parameters=[]),e.alias(ne,"getutc","getgm"),e.defn(ne,"$gmtime",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmtime"),t.is_utc=!0,t},U.$$arity=0,U.$$parameters=[]),e.alias(ne,"utc","gmtime"),e.defn(ne,"$gmt?",G=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmt?"),!0===t.is_utc},G.$$arity=0,G.$$parameters=[]),e.defn(ne,"$gmt_offset",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"gmt_offset"),60*-t.getTimezoneOffset()},Y.$$arity=0,Y.$$parameters=[]),e.defn(ne,"$strftime",V=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"strftime"),t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,a,n,i){var $="",s=-1!==t.indexOf("0"),o=-1===t.indexOf("-"),c=-1!==t.indexOf("_"),_=-1!==t.indexOf("^"),l=-1!==t.indexOf("#"),u=(t.match(":")||[]).length;switch(a=parseInt(a,10),s&&c&&(t.indexOf("0")<t.indexOf("_")?s=!1:c=!1),i){case"Y":$+=r.$year();break;case"C":s=!c,$+=Math.round(r.$year()/100);break;case"y":s=!c,$+=r.$year()%100;break;case"m":s=!c,$+=r.$mon();break;case"B":$+=ce[r.$mon()-1];break;case"b":case"h":c=!s,$+=oe[r.$mon()-1];break;case"d":s=!c,$+=r.$day();break;case"e":c=!s,$+=r.$day();break;case"j":$+=r.$yday();break;case"H":s=!c,$+=r.$hour();break;case"k":c=!s,$+=r.$hour();break;case"I":s=!c,$+=r.$hour()%12||12;break;case"l":c=!s,$+=r.$hour()%12||12;break;case"P":$+=r.$hour()>=12?"pm":"am";break;case"p":$+=r.$hour()>=12?"PM":"AM";break;case"M":s=!c,$+=r.$min();break;case"S":s=!c,$+=r.$sec();break;case"L":s=!c,a=isNaN(a)?3:a,$+=r.getMilliseconds();break;case"N":a=isNaN(a)?9:a,$+=r.getMilliseconds().toString().$rjust(3,"0"),$=$.$ljust(a,"0");break;case"z":var d=r.getTimezoneOffset(),f=Math.floor(Math.abs(d)/60),h=Math.abs(d)%60;$+=d<0?"+":"-",$+=f<10?"0":"",$+=f,u>0&&($+=":"),$+=h<10?"0":"",$+=h,u>1&&($+=":00");break;case"Z":$+=r.$zone();break;case"A":$+=$e[r.$wday()];break;case"a":$+=se[r.$wday()];break;case"u":$+=r.$wday()+1;break;case"w":$+=r.$wday();break;case"V":$+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=r.$cweek_cyear()["$[]"](1);break;case"g":$+=r.$cweek_cyear()["$[]"](1)["$[]"](p(-2,-1,!1));break;case"s":$+=r.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=r.$strftime("%m/%d/%y");break;case"F":$+=r.$strftime("%Y-%m-%d");break;case"v":$+=r.$strftime("%e-%^b-%4Y");break;case"r":$+=r.$strftime("%I:%M:%S %p");break;case"R":$+=r.$strftime("%H:%M");break;case"T":case"X":$+=r.$strftime("%H:%M:%S");break;default:return e}return _&&($=$.toUpperCase()),l&&($=$.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),o&&(s||c)&&($=$.$rjust(isNaN(a)?2:a,c?" ":"0")),$})},V.$$arity=1,V.$$parameters=[["req","format"]]),e.defn(ne,"$sunday?",X=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"sunday?"),0==t.$wday()},X.$$arity=0,X.$$parameters=[]),e.defn(ne,"$thursday?",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thursday?"),4==t.$wday()},K.$$arity=0,K.$$parameters=[]),e.defn(ne,"$to_a",W=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},W.$$arity=0,W.$$parameters=[]),e.defn(ne,"$to_f",Z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_f"),t.getTime()/1e3},Z.$$arity=0,Z.$$parameters=[]),e.defn(ne,"$to_i",J=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_i"),parseInt(t.getTime()/1e3,10)},J.$$arity=0,J.$$parameters=[]),e.alias(ne,"to_s","inspect"),e.defn(ne,"$tuesday?",Q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tuesday?"),2==t.$wday()},Q.$$arity=0,Q.$$parameters=[]),e.alias(ne,"tv_sec","to_i"),e.alias(ne,"tv_usec","usec"),e.alias(ne,"utc?","gmt?"),e.alias(ne,"gmtoff","gmt_offset"),e.alias(ne,"utc_offset","gmt_offset"),e.defn(ne,"$wday",ee=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"wday"),t.is_utc?t.getUTCDay():t.getDay()},ee.$$arity=0,ee.$$parameters=[]),e.defn(ne,"$wednesday?",te=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"wednesday?"),3==t.$wday()},te.$$arity=0,te.$$parameters=[]),e.defn(ne,"$year",re=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"year"),t.is_utc?t.getUTCFullYear():t.getFullYear()},re.$$arity=0,re.$$parameters=[]),e.defn(ne,"$cweek_cyear",ae=function(){var t,r=this,s=c,o=c,_=c,l=c,p=c,d=c,f=c,h=arguments.length;return 0!==h&&e.ac(h,0,this,"cweek_cyear"),s=e.const_get_relative(ie,"Time").$new(r.$year(),1,1),o=s.$wday(),0,_=r.$year(),u(u(t=$(o,4))?o["$!="](0):t)?l=i(o,1):(l=i(i(o,7),1),l["$=="](-8)&&(l=-1)),p=n(a(r.$yday(),l),7).$ceil(),u($(p,0))?e.const_get_relative(ie,"Time").$new(i(r.$year(),1),12,31).$cweek_cyear():(p["$=="](53)&&(d=e.const_get_relative(ie,"Time").$new(r.$year(),12,31),f=d.$wday(),u(u(t=$(f,3))?f["$!="](0):t)&&(p=1,_=a(_,1))),[p,_])},ae.$$arity=0,ae.$$parameters=[]),c&&"cweek_cyear"}(o[0],Date,o)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.klass),_=e.truthy,l=e.send,u=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig"]),$.$require("corelib/enumerable"),function($,$super,s){function p(){}var d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j=p=c($,$super,"Struct",p),T=(j.$$proto,[j].concat(s));return j.$include(e.const_get_relative(T,"Enumerable")),e.defs(j,"$new",d=function(t){var r,a,n,i=this,$=d.$$p,s=$||o,c=o,u=arguments.length,p=u-1;p<0&&(p=0),n=new Array(p);for(var f=1;f<u;f++)n[f-1]=arguments[f];$&&(d.$$p=null);var h=arguments.length;if(h<1&&e.ac(h,-2,this,"new"),_(t))try{t=e.const_get_relative(T,"Opal")["$const_name!"](t)}catch(r){if(!e.rescue(r,[e.const_get_relative(T,"TypeError"),e.const_get_relative(T,"NameError")]))throw r;try{n.$unshift(t),t=o}finally{e.pop_exception()}}return l(n,"map",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"new")}return e.const_get_relative(T,"Opal")["$coerce_to!"](t,e.const_get_relative(T,"String"),"to_str")},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","arg"]],r)),c=l(e.const_get_relative(T,"Class"),"new",[i],(a=function(){var t,r=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"new")}return l(n,"each",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"new")}return a.$define_struct_attribute(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","arg"]],t)),function(t,r){var a;t.$$proto,[t].concat(r);return e.defn(t,"$new",a=function(){var t,r=this,a=o,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];return a=r.$allocate(),a.$$data={},l(a,"initialize",e.to_a(t)),a},a.$$arity=-1,a.$$parameters=[["rest","args"]]),e.alias(t,"[]","new")}(e.get_singleton_class(r),T)},a.$$s=i,a.$$arity=0,a.$$parameters=[],a)),_(s)&&l(c,"module_eval",[],s.$to_proc()),_(t)&&e.const_get_relative(T,"Struct").$const_set(t,c),c},d.$$arity=-2,d.$$parameters=[["req","const_name"],["rest","args"],["block","block"]]),e.defs(j,"$define_struct_attribute",f=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"define_struct_attribute"),n["$=="](e.const_get_relative(T,"Struct"))&&n.$raise(e.const_get_relative(T,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),l(n,"define_method",[t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"define_struct_attribute")}return a.$$data[t]},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)),l(n,"define_method",[t+"="],(a=function(r){var n=a.$$s||this;if(null==r&&(r=o),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"define_struct_attribute")}return n.$$data[t]=r},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","value"]],a))},f.$$arity=1,f.$$parameters=[["req","name"]]),e.defs(j,"$members",h=function(){var t,r=this;null==r.members&&(r.members=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"members"),r["$=="](e.const_get_relative(T,"Struct"))&&r.$raise(e.const_get_relative(T,"ArgumentError"),"the Struct class has no members"),r.members=_(t=r.members)?t:[]},h.$$arity=0,h.$$parameters=[]),e.defs(j,"$inherited",m=function(t){var r,a=this,n=o;null==a.members&&(a.members=o);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"inherited"),n=a.members,l(t,"instance_eval",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"inherited")}return t.members=n},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},m.$$arity=1,m.$$parameters=[["req","klass"]]),e.defn(j,"$initialize",g=function(){var a,n,i=this,$=arguments.length,s=$-0;s<0&&(s=0),n=new Array(s);for(var c=0;c<$;c++)n[c-0]=arguments[c];return _(t(n.$length(),i.$class().$members().$length()))&&i.$raise(e.const_get_relative(T,"ArgumentError"),"struct size differs"),l(i.$class().$members(),"each_with_index",[],(a=function(t,i){var $=a.$$s||this,s=o;if(null==t&&(t=o),null==i&&(i=o),a.$$is_lambda||a.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"initialize")}return s=[t,n["$[]"](i)],l($,"[]=",e.to_a(s)),s[r(s.length,1)]},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","name"],["req","index"]],a))},g.$$arity=-1,g.$$parameters=[["rest","args"]]),e.defn(j,"$members",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"members"),t.$class().$members()},v.$$arity=0,v.$$parameters=[]),e.defn(j,"$hash",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),e.const_get_relative(T,"Hash").$new(t.$$data).$hash()},y.$$arity=0,y.$$parameters=[]),e.defn(j,"$[]",b=function(t){var r=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"[]"),_(e.const_get_relative(T,"Integer")["$==="](t))?(_(a(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(e.const_get_relative(T,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),_(n(t,r.$class().$members().$size()))&&r.$raise(e.const_get_relative(T,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):_(e.const_get_relative(T,"String")["$==="](t))?r.$$data.hasOwnProperty(t)||r.$raise(e.const_get_relative(T,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(e.const_get_relative(T,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=e.const_get_relative(T,"Opal")["$coerce_to!"](t,e.const_get_relative(T,"String"),"to_str"),r.$$data[t]},b.$$arity=1,b.$$parameters=[["req","name"]]),e.defn(j,"$[]=",x=function(t,r){var i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"[]="),_(e.const_get_relative(T,"Integer")["$==="](t))?(_(a(t,i.$class().$members().$size()["$-@"]()))&&i.$raise(e.const_get_relative(T,"IndexError"),"offset "+t+" too small for struct(size:"+i.$class().$members().$size()+")"),_(n(t,i.$class().$members().$size()))&&i.$raise(e.const_get_relative(T,"IndexError"),"offset "+t+" too large for struct(size:"+i.$class().$members().$size()+")"),t=i.$class().$members()["$[]"](t)):_(e.const_get_relative(T,"String")["$==="](t))?_(i.$class().$members()["$include?"](t.$to_sym()))||i.$raise(e.const_get_relative(T,"NameError").$new("no member '"+t+"' in struct",t)):i.$raise(e.const_get_relative(T,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=e.const_get_relative(T,"Opal")["$coerce_to!"](t,e.const_get_relative(T,"String"),"to_str"),i.$$data[t]=r},x.$$arity=2,x.$$parameters=[["req","name"],["req","value"]]),e.defn(j,"$==",k=function(t){function r(t,a){var n,s,o;i[t.$__id__()]=!0,$[a.$__id__()]=!0;for(n in t.$$data)if(s=t.$$data[n],o=a.$$data[n],e.const_get_relative(T,"Struct")["$==="](s)){if(!(i.hasOwnProperty(s.$__id__())&&$.hasOwnProperty(o.$__id__())||r(s,o)))return!1}else if(!s["$=="](o))return!1;return!0}var a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"=="),!_(t["$instance_of?"](a.$class())))return!1;var i={},$={};return r(a,t)},k.$$arity=1,k.$$parameters=[["req","other"]]),e.defn(j,"$eql?",q=function(t){function r(t,a){var n,s,o;i[t.$__id__()]=!0,$[a.$__id__()]=!0;for(n in t.$$data)if(s=t.$$data[n],o=a.$$data[n],e.const_get_relative(T,"Struct")["$==="](s)){if(!(i.hasOwnProperty(s.$__id__())&&$.hasOwnProperty(o.$__id__())||r(s,o)))return!1}else if(!s["$eql?"](o))return!1;return!0}var a=this,n=arguments.length;if(1!==n&&e.ac(n,1,this,"eql?"),!_(t["$instance_of?"](a.$class())))return!1;var i={},$={};return r(a,t)},q.$$arity=1,q.$$parameters=[["req","other"]]),e.defn(j,"$each",w=function(){var t,r,a=this,n=w.$$p,i=n||o;n&&(w.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"each"),i===o?l(a,"enum_for",["each"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each")}return r.$size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):(l(a.$class().$members(),"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"each")}return e.yield1(i,a["$[]"](t))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","name"]],r)),a)},w.$$arity=0,w.$$parameters=[]),e.defn(j,"$each_pair",E=function(){var t,r,a=this,n=E.$$p,i=n||o;n&&(E.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"each_pair"),i===o?l(a,"enum_for",["each_pair"],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"each_pair")}return r.$size()},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):(l(a.$class().$members(),"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"each_pair")}return e.yield1(i,[t,a["$[]"](t)])},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","name"]],r)),a)},E.$$arity=0,E.$$parameters=[]),e.defn(j,"$length",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"length"),t.$class().$members().$length()},S.$$arity=0,S.$$parameters=[]),e.alias(j,"size","length"),e.defn(j,"$to_a",M=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"to_a"),l(r.$class().$members(),"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"to_a")}return a["$[]"](r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","name"]],t))},M.$$arity=0,M.$$parameters=[]),e.alias(j,"values","to_a"),e.defn(j,"$inspect",O=function(){var t,r,a=this,n=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"inspect"),n="#<struct ",
_(_(t=e.const_get_relative(T,"Struct")["$==="](a))?a.$class().$name():t)&&(n=i(n,a.$class()+" ")),n=i(n,l(a.$each_pair(),"map",[],(r=function(t,a){r.$$s;if(null==t&&(t=o),null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;2!==n&&e.block_ac(n,2,"inspect")}return t+"="+a.$inspect()},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","name"],["req","value"]],r)).$join(", ")),n=i(n,">")},O.$$arity=0,O.$$parameters=[]),e.alias(j,"to_s","inspect"),e.defn(j,"$to_h",A=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"to_h"),l(a.$class().$members(),"inject",[u([],{})],(t=function(a,n){var i=t.$$s||this,$=o;if(null==a&&(a=o),null==n&&(n=o),t.$$is_lambda||t.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"to_h")}return $=[n,i["$[]"](n)],l(a,"[]=",e.to_a($)),$[r($.length,1)],a},t.$$s=a,t.$$arity=2,t.$$parameters=[["req","h"],["req","name"]],t))},A.$$arity=0,A.$$parameters=[]),e.defn(j,"$values_at",R=function(){var t,r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];r=l(r,"map",[],(t=function(r){t.$$s;if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"values_at")}return r.$$is_range?r.$to_a():r},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","arg"]],t)).$flatten();for(var s=[],c=0,_=r.length;c<_;c++)r[c].$$is_number||a.$raise(e.const_get_relative(T,"TypeError"),"no implicit conversion of "+r[c].$class()+" into Integer"),s.push(a["$[]"](r[c]));return s},R.$$arity=-1,R.$$parameters=[["rest","args"]]),e.defn(j,"$dig",z=function(t){var r,a=this,n=o,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var s=1;s<i;s++)r[s-1]=arguments[s];var c=arguments.length;return c<1&&e.ac(c,-2,this,"dig"),(n=_(t.$$is_string&&a.$$data.hasOwnProperty(t))?a.$$data[t]||o:o)===o||0===r.length?n:(_(n["$respond_to?"]("dig"))||a.$raise(e.const_get_relative(T,"TypeError"),n.$class()+" does not have #dig method"),l(n,"dig",e.to_a(r)))},z.$$arity=-2,z.$$parameters=[["req","key"],["rest","keys"]]),o&&"dig"}(s[0],null,s)},Opal.modules["corelib/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.module,$=e.send,s=e.gvars,o=e.truthy,c=a;e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,$super,r){function c(){}var _,l,u,p,d=c=n(t,$super,"IO",c),f=d.$$proto,h=[d].concat(r);f.tty=f.closed=a,e.const_set(h[0],"SEEK_SET",0),e.const_set(h[0],"SEEK_CUR",1),e.const_set(h[0],"SEEK_END",2),e.defn(d,"$tty?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tty?"),t.tty},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$closed?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"closed?"),t.closed},l.$$arity=0,l.$$parameters=[]),d.$attr_accessor("write_proc"),e.defn(d,"$write",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"write"),r.write_proc(t),t.$size()},u.$$arity=1,u.$$parameters=[["req","string"]]),d.$attr_accessor("sync","tty"),e.defn(d,"$flush",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),a},p.$$arity=0,p.$$parameters=[]),function(t,r){var n,c,_,l,u=n=i(t,"Writable");u.$$proto,[u].concat(r);e.defn(u,"$<<",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.$write(t),r},c.$$arity=1,c.$$parameters=[["req","string"]]),e.defn(u,"$print",_=function(){var t,r,n=this;null==s[","]&&(s[","]=a);var i=arguments.length,o=i-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<i;c++)r[c-0]=arguments[c];return n.$write($(r,"map",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"print")}return n.$String(r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","arg"]],t)).$join(s[","])),a},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(u,"$puts",l=function(){var t,r,n=this,i=a;null==s["/"]&&(s["/"]=a);var c=arguments.length,_=c-0;_<0&&(_=0),r=new Array(_);for(var l=0;l<c;l++)r[l-0]=arguments[l];return i=s["/"],o(r["$empty?"]())?n.$write(s["/"]):n.$write($(r,"map",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"puts")}return n.$String(r).$chomp()},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","arg"]],t)).$concat([a]).$join(i)),a},l.$$arity=-1,l.$$parameters=[["rest","args"]])}(h[0],h),function(t,r){var n,$,o,c,_,l=n=i(t,"Readable"),u=(l.$$proto,[l].concat(r));e.defn(l,"$readbyte",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"readbyte"),t.$getbyte()},$.$$arity=0,$.$$parameters=[]),e.defn(l,"$readchar",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"readchar"),t.$getc()},o.$$arity=0,o.$$parameters=[]),e.defn(l,"$readline",c=function(t){var r=this;null==s["/"]&&(s["/"]=a),null==t&&(t=s["/"]);var n=arguments.length;return n>1&&e.ac(n,-1,this,"readline"),r.$raise(e.const_get_relative(u,"NotImplementedError"))},c.$$arity=-1,c.$$parameters=[["opt","sep"]]),e.defn(l,"$readpartial",_=function(t,r){var n=this;null==r&&(r=a);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"readpartial"),n.$raise(e.const_get_relative(u,"NotImplementedError"))},_.$$arity=-2,_.$$parameters=[["req","integer"],["opt","outbuf"]])}(h[0],h)}(r[0],null,r),e.const_set(r[0],"STDERR",s.stderr=e.const_get_relative(r,"IO").$new()),e.const_set(r[0],"STDIN",s.stdin=e.const_get_relative(r,"IO").$new()),e.const_set(r[0],"STDOUT",s.stdout=e.const_get_relative(r,"IO").$new());var _=e.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(e){process.stdout.write(e)}:function(e){_.log(e)}],$(e.const_get_relative(r,"STDOUT"),"write_proc=",e.to_a(c)),c[t(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(e){process.stderr.write(e)}:function(e){_.warn(e)}],$(e.const_get_relative(r,"STDERR"),"write_proc=",e.to_a(c)),c[t(c.length,1)],e.const_get_relative(r,"STDOUT").$extend(e.const_get_qualified(e.const_get_relative(r,"IO"),"Writable")),e.const_get_relative(r,"STDERR").$extend(e.const_get_qualified(e.const_get_relative(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(e){var t,r,a=e.top,n=[];e.nil,e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs(a,"$to_s",t=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_s"),"main"},t.$$arity=0,t.$$parameters=[]),e.defs(a,"$include",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"include"),e.const_get_relative(n,"Object").$include(t)},r.$$arity=1,r.$$parameters=[["req","mod"]])},Opal.modules["corelib/dir"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.truthy;return e.add_stubs(["$[]"]),function(t,$super,i){function $(){}var s=$=a(t,$super,"Dir",$),o=(s.$$proto,[s].concat(i));return function(t,a){var i,$,s,o=(t.$$proto,[t].concat(a));return e.defn(t,"$chdir",i=function(t){var a=i.$$p,n=a||r,$=r;a&&(i.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"chdir"),function(){try{return $=e.current_dir,e.current_dir=t,e.yieldX(n,[])}finally{e.current_dir=$}}()},i.$$arity=1,i.$$parameters=[["req","dir"]]),e.defn(t,"$pwd",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"pwd"),e.current_dir||"."},$.$$arity=0,$.$$parameters=[]),e.alias(t,"getwd","pwd"),e.defn(t,"$home",s=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"home"),n(t=e.const_get_relative(o,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0,s.$$parameters=[]),r&&"home"}(e.get_singleton_class(s),o)}(t[0],null,t)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.truthy,s=e.range,o=e.send;return e.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?"]),function(a,$super,c){function _(){}var l=_=i(a,$super,"File",_),u=(l.$$proto,[l].concat(c)),p=n;return e.const_set(u[0],"Separator",e.const_set(u[0],"SEPARATOR","/")),e.const_set(u[0],"ALT_SEPARATOR",n),e.const_set(u[0],"PATH_SEPARATOR",":"),e.const_set(u[0],"FNM_SYSCASE",0),p=/^[a-zA-Z]:(?:\\|\/)/,function(a,i){function c(t){return $(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=e.const_get_relative(y,"Opal")["$coerce_to!"](t,e.const_get_relative(y,"String"),"to_str")}function _(){return e.const_get_relative(y,"ALT_SEPARATOR")===n?e.escape_regexp(e.const_get_relative(y,"SEPARATOR")):e.escape_regexp(t(e.const_get_relative(y,"SEPARATOR"),e.const_get_relative(y,"ALT_SEPARATOR")))}var l,u,d,f,h,m,g,v,y=(a.$$proto,[a].concat(i));return e.defn(a,"$expand_path",l=function(r,a){var i=this,s=n,o=n,c=n,l=n,u=n,d=n,f=n,h=n,m=n,g=n,v=n;null==a&&(a=n);var b=arguments.length;(b<1||b>2)&&e.ac(b,-2,this,"expand_path"),s=e.const_get_relative(y,"SEPARATOR"),o=_(),c=[],$("~"===r[0]||a&&"~"===a[0])&&(l=e.const_get_relative(y,"Dir").$home(),$(l)||i.$raise(e.const_get_relative(y,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),$(l["$start_with?"](s))||i.$raise(e.const_get_relative(y,"ArgumentError"),"non-absolute home"),l=t(l,s),u=new RegExp("^\\~(?:"+s+"|$)"),r=r.$sub(u,l),$(a)&&(a=a.$sub(u,l))),$(a)||(a=e.const_get_relative(y,"Dir").$pwd()),d=r.substr(0,s.length)===s||p.test(r),f=a.substr(0,s.length)===s||p.test(a),$(d)?(h=r.$split(new RegExp("["+o+"]")),m=p.test(r)?"":r.$sub(new RegExp("^(["+o+"]+).*$"),"\\1"),g=!0):(h=t(a.$split(new RegExp("["+o+"]")),r.$split(new RegExp("["+o+"]"))),m=p.test(a)?"":a.$sub(new RegExp("^(["+o+"]+).*$"),"\\1"),g=f);for(var x,k=0,q=h.length;k<q;k++)(x=h[k])===n||""===x&&(0===c.length||g)||"."===x&&(0===c.length||g)||(".."===x?c.pop():c.push(x));return g||"."===h[0]||c.$unshift("."),v=c.$join(s),$(g)&&(v=t(m,v)),v},l.$$arity=-2,l.$$parameters=[["req","path"],["opt","basedir"]]),e.alias(a,"realpath","expand_path"),e.defn(a,"$dirname",u=function(t){var r=n,a=arguments.length;1!==a&&e.ac(a,1,this,"dirname"),r=_(),t=c(t);var i=t.match(new RegExp("^["+r+"]"));return t=t.replace(new RegExp("["+r+"]+$"),""),t=t.replace(new RegExp("[^"+r+"]+$"),""),t=t.replace(new RegExp("["+r+"]+$"),""),""===t?i?"/":".":t},u.$$arity=1,u.$$parameters=[["req","path"]]),e.defn(a,"$basename",d=function(t,r){var a=n;null==r&&(r=n);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"basename"),a=_(),t=c(t),0==t.length?t:(r=r!==n?e.const_get_relative(y,"Opal")["$coerce_to!"](r,e.const_get_relative(y,"String"),"to_str"):null,t=t.replace(new RegExp("(.)["+a+"]*$"),"$1"),t=t.replace(new RegExp("^(?:.*["+a+"])?([^"+a+"]+)$"),"$1"),".*"===r?t=t.replace(/\.[^\.]+$/,""):null!==r&&(r=e.escape_regexp(r),t=t.replace(new RegExp(r+"$"),"")),t)},d.$$arity=-2,d.$$parameters=[["req","name"],["opt","suffix"]]),e.defn(a,"$extname",f=function(a){var i,o=this,_=n,l=n,u=arguments.length;return 1!==u&&e.ac(u,1,this,"extname"),a=c(a),_=o.$basename(a),$(_["$empty?"]())?"":(l=_["$[]"](s(1,-1,!1)).$rindex("."),$($(i=l["$nil?"]())?i:t(l,1)["$=="](r(_.$length(),1)))?"":_["$[]"](e.Range.$new(t(l,1),-1,!1)))},f.$$arity=1,f.$$parameters=[["req","path"]]),e.defn(a,"$exist?",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"exist?"),null!=e.modules[t]},h.$$arity=1,h.$$parameters=[["req","path"]]),e.alias(a,"exists?","exist?"),e.defn(a,"$directory?",m=function(t){var r,a=this,i=n,$=arguments.length;1!==$&&e.ac($,1,this,"directory?"),i=[];for(var s in e.modules)i.push(s);return t=t.$gsub(new RegExp("(^."+e.const_get_relative(y,"SEPARATOR")+"+|"+e.const_get_relative(y,"SEPARATOR")+"+$)")),o(i,"find",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"directory?")}return a["$=~"](new RegExp("^"+t))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","file"]],r))},m.$$arity=1,m.$$parameters=[["req","path"]]),e.defn(a,"$join",g=function(){var r,a,i,s,c=this,_=n,l=arguments.length,u=l-0;u<0&&(u=0),s=new Array(u);for(var p=0;p<l;p++)s[p-0]=arguments[p];return s.$length()["$=="](0)?"":(_="",s=o(s.$flatten().$each_with_index(),"map",[],(r=function(a,i){r.$$s;if(null==a&&(a=n),null==i&&(i=n),r.$$is_lambda||r.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"join")}return $(i["$=="](0)?a["$empty?"]():i["$=="](0))?e.const_get_relative(y,"SEPARATOR"):$(s.$length()["$=="](t(i,1))?a["$empty?"]():s.$length()["$=="](t(i,1)))?e.const_get_relative(y,"SEPARATOR"):a},r.$$s=c,r.$$arity=2,r.$$parameters=[["req","item"],["req","index"]],r)),s=o(s,"reject",[],(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"join")}return t["$empty?"]()},a.$$s=c,a.$$arity=1,a.$$parameters=[["req","path"]],a)),o(s,"each_with_index",[],(i=function(r,a){var o,c=(i.$$s,n);if(null==r&&(r=n),null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"join")}return c=s["$[]"](t(a,1)),$(c["$nil?"]())?_=""+_+r:($($(o=r["$end_with?"](e.const_get_relative(y,"SEPARATOR")))?c["$start_with?"](e.const_get_relative(y,"SEPARATOR")):o)&&(r=r.$sub(new RegExp(e.const_get_relative(y,"SEPARATOR")+"+$"),"")),_=$($(o=r["$end_with?"](e.const_get_relative(y,"SEPARATOR")))?o:c["$start_with?"](e.const_get_relative(y,"SEPARATOR")))?""+_+r:""+_+r+e.const_get_relative(y,"SEPARATOR"))},i.$$s=c,i.$$arity=2,i.$$parameters=[["req","item"],["req","index"]],i)),_)},g.$$arity=-1,g.$$parameters=[["rest","paths"]]),e.defn(a,"$split",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"split"),t.$split(e.const_get_relative(y,"SEPARATOR"))},v.$$arity=1,v.$$parameters=[["req","path"]]),n&&"split"}(e.get_singleton_class(l),u)}(a[0],e.const_get_relative(a,"IO"),a)},Opal.modules["corelib/process"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.truthy;return e.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(t,$super,i){function $(){}var s,o,c,_,l=$=a(t,$super,"Process",$),u=(l.$$proto,[l].concat(i)),p=r;if(l.__clocks__=[],e.defs(l,"$__register_clock__",s=function(t,a){var n=this;null==n.__clocks__&&(n.__clocks__=r);var i=arguments.length;return 2!==i&&e.ac(i,2,this,"__register_clock__"),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](a)},s.$$arity=2,s.$$parameters=[["req","name"],["req","func"]]),l.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,e.global.performance)p=function(){return performance.now()};else if(e.global.process&&process.hrtime){var d=process.hrtime();p=function(){var e=process.hrtime(d),t=e[1]/1e3|0;return 1e3*e[0]+t/1e3}}n(p)&&l.$__register_clock__("CLOCK_MONOTONIC",p),e.defs(l,"$pid",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"pid"),0},o.$$arity=0,o.$$parameters=[]),e.defs(l,"$times",c=function(){var t=r,a=arguments.length;return 0!==a&&e.ac(a,0,this,"times"),t=e.const_get_relative(u,"Time").$now().$to_f(),e.const_get_qualified(e.const_get_relative(u,"Benchmark"),"Tms").$new(t,t,t,t,t)},c.$$arity=0,c.$$parameters=[]),e.defs(l,"$clock_gettime",_=function(t,a){var i=this,$=r;null==i.__clocks__&&(i.__clocks__=r),null==a&&(a="float_second");var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"clock_gettime"),n($=i.__clocks__["$[]"](t))||i.$raise(e.const_get_qualified(e.const_get_relative(u,"Errno"),"EINVAL"),"clock_gettime("+t+") "+i.__clocks__["$[]"](t));var o=$();switch(a){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:i.$raise(e.const_get_relative(u,"ArgumentError"),"unexpected unit: "+a)}},_.$$arity=-2,_.$$parameters=[["req","clock_id"],["opt","unit"]])}(t[0],null,t),function(t,$super,n){function i(){}var $,s=i=a(t,$super,"Signal",i);s.$$proto,[s].concat(n);e.defs(s,"$trap",$=function(){return r},$.$$arity=-1,$.$$parameters=[["rest"]])}(t[0],null,t),function(t,$super,n){function i(){}var $,s=i=a(t,$super,"GC",i);s.$$proto,[s].concat(n);return e.defs(s,"$start",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"start"),r},$.$$arity=0,$.$$parameters=[])}(t[0],null,t)},Opal.modules["corelib/random/seedrandom"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.klass);return function(e,$super,t){function a(){}var n=a=r(e,$super,"Random",a);n.$$proto,[n].concat(t);!function(e,t){function r(r,c,_){var p=[];c=1==c?{entropy:!0}:c||{};var g=$(i(c.entropy?[r,o(e)]:null==r?s():r,3),p),v=new a(p),y=function(){for(var e=v.g(u),t=f,r=0;e<h;)e=(e+r)*l,t*=l,r=v.g(1);for(;e>=m;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y["double"]=y,$(o(v.S),e),(c.pass||_||function(e,r,a,i){return i&&(i.S&&n(i,v),e.state=function(){return n(v,{})}),a?(t[d]=e,r):e})(y,g,"global"in c?c.global:this==t,c.state)}function a(e){var t,r=e.length,a=this,n=0,i=a.i=a.j=0,$=a.S=[];for(r||(e=[r++]);n<l;)$[n]=n++;for(n=0;n<l;n++)$[n]=$[i=g&i+e[n%r]+(t=$[n])],$[i]=t;(a.g=function(e){for(var t,r=0,n=a.i,i=a.j,$=a.S;e--;)t=$[n=g&n+1],r=r*l+$[g&($[n]=$[i=g&i+t])+($[i]=t)];return a.i=n,a.j=i,r})(l)}function n(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function i(e,t){var r,a=[],n=typeof e;if(t&&"object"==n)for(r in e)if(e.hasOwnProperty(r))try{a.push(i(e[r],t-1))}catch(e){}return a.length?a:"string"==n?e:e+"\0"}function $(e,t){for(var r,a=e+"",n=0;n<a.length;)t[g&n]=g&(r^=19*t[g&n])+a.charCodeAt(n++);return o(t)}function s(){try{if(c)return o(c.randomBytes(l));var t=new Uint8Array(l);return(_.crypto||_.msCrypto).getRandomValues(t),o(t)}catch(t){var r=_.navigator,a=r&&r.plugins;return[+new Date,_,a,_.screen,o(e)]}}function o(e){return String.fromCharCode.apply(0,e)}var c,_=this,l=256,u=6,p=52,d="random",f=t.pow(l,u),h=t.pow(2,p),m=2*h,g=l-1;if(t["seed"+d]=r,$(t.random(),e),"object"==typeof module&&module.exports){module.exports=r;try{c=require("crypto")}catch(e){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return r})}([],Math)}(t[0],null,t)},Opal.modules["corelib/random"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.truthy,$=e.send;return e.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),t.$require("corelib/random/seedrandom.js"),function(t,$super,r){function s(){}var o,c,_,l,u,p,d,f,h=s=n(t,$super,"Random",s),m=(h.$$proto,[h].concat(r));h.$attr_reader("seed","state"),e.defn(h,"$initialize",o=function(t){var r=this;null==t&&(t=e.const_get_relative(m,"Random").$new_seed());var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),t=e.const_get_relative(m,"Opal")["$coerce_to!"](t,e.const_get_relative(m,"Integer"),"to_int"),r.state=t,r.$reseed(t)},o.$$arity=-1,o.$$parameters=[["opt","seed"]]),e.defn(h,"$reseed",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"reseed"),r.seed=t,r.$rng=new Math.seedrandom(t)},c.$$arity=1,c.$$parameters=[["req","seed"]]);var g=new Math.seedrandom("opal",{entropy:!0});return e.defs(h,"$new_seed",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_seed"),Math.abs(g.int32())},_.$$arity=0,_.$$parameters=[]),e.defs(h,"$rand",l=function(t){var r=arguments.length;return r>1&&e.ac(r,-1,this,"rand"),e.const_get_relative(m,"DEFAULT").$rand(t)},l.$$arity=-1,l.$$parameters=[["opt","limit"]]),e.defs(h,"$srand",u=function(t){var r=a;null==t&&(t=e.const_get_relative(m,"Random").$new_seed());var n=arguments.length;return n>1&&e.ac(n,-1,this,"srand"),t=e.const_get_relative(m,"Opal")["$coerce_to!"](t,e.const_get_relative(m,"Integer"),"to_int"),r=e.const_get_relative(m,"DEFAULT").$seed(),e.const_get_relative(m,"DEFAULT").$reseed(t),r},u.$$arity=-1,u.$$parameters=[["opt","n"]]),e.const_set(m[0],"DEFAULT",h.$new(h.$new_seed())),e.defn(h,"$==",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),!!i(e.const_get_relative(m,"Random")["$==="](t))&&(r.$seed()["$=="](t.$seed())?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},p.$$arity=1,p.$$parameters=[["req","other"]]),e.defn(h,"$bytes",d=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"bytes"),t=e.const_get_relative(m,"Opal")["$coerce_to!"](t,e.const_get_relative(m,"Integer"),"to_int"),$(t.$times(),"map",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"bytes")}return t.$rand(255).$chr()},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)).$join().$encode(e.const_get_qualified(e.const_get_relative(m,"Encoding"),"ASCII_8BIT"))},d.$$arity=1,d.$$parameters=[["req","length"]]),e.defn(h,"$rand",f=function(t){function r(){return $.state++,$.$rng.quick()}function n(){return Math.floor(r()*t)}function i(){var e=t.begin,r=t.end;if(e===a||r===a)return a;var n=r-e;return n<0?a:0===n?e:(r%1!=0||e%1!=0||t.excl||n++,$.$rand(n)+e)}var $=this,s=arguments.length;return s>1&&e.ac(s,-1,this,"rand"),null==t?r():t.$$is_range?i():t.$$is_number?(t<=0&&$.$raise(e.const_get_relative(m,"ArgumentError"),"invalid argument - "+t),t%1==0?n():r()*t):(t=e.const_get_relative(m,"Opal")["$coerce_to!"](t,e.const_get_relative(m,"Integer"),"to_int"),t<=0&&$.$raise(e.const_get_relative(m,"ArgumentError"),"invalid argument - "+t),n())},f.$$arity=-1,f.$$parameters=[["opt","limit"]]),a&&"rand"}(r[0],null,r)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":e.const_get_relative($,"Kernel").$raise(e.const_get_relative($,"NotImplementedError"),t);break;case"warning":r(t)}}function r(e){_[e]||(_[e]=!0,i.$warn(e))}var a,n,i=e.top,$=[],s=e.nil,o=(e.breaker,e.slice,e.klass),c=e.module;e.add_stubs(["$raise","$warn","$%"]);var _={};return function(t,$super,r){function a(){}var n,i,$,s,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k=a=o(t,$super,"String",a),q=(k.$$proto,[k].concat(r)),w="String#%s not supported. Mutable String methods are not supported in Opal.";e.defn(k,"$<<",n=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("<<"))},n.$$arity=-1,n.$$parameters=[["rest"]]),e.defn(k,"$capitalize!",i=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("capitalize!"))},i.$$arity=-1,i.$$parameters=[["rest"]]),e.defn(k,"$chomp!",$=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("chomp!"))},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(k,"$chop!",s=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("chop!"))},s.$$arity=-1,s.$$parameters=[["rest"]]),e.defn(k,"$downcase!",c=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("downcase!"))},c.$$arity=-1,c.$$parameters=[["rest"]]),e.defn(k,"$gsub!",_=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("gsub!"))},_.$$arity=-1,_.$$parameters=[["rest"]]),e.defn(k,"$lstrip!",l=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("lstrip!"))},l.$$arity=-1,l.$$parameters=[["rest"]]),e.defn(k,"$next!",u=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("next!"))},u.$$arity=-1,u.$$parameters=[["rest"]]),e.defn(k,"$reverse!",p=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("reverse!"))},p.$$arity=-1,p.$$parameters=[["rest"]]),e.defn(k,"$slice!",d=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("slice!"))},d.$$arity=-1,d.$$parameters=[["rest"]]),e.defn(k,"$squeeze!",f=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("squeeze!"))},f.$$arity=-1,f.$$parameters=[["rest"]]),e.defn(k,"$strip!",h=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("strip!"))},h.$$arity=-1,h.$$parameters=[["rest"]]),e.defn(k,"$sub!",m=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("sub!"))},m.$$arity=-1,m.$$parameters=[["rest"]]),e.defn(k,"$succ!",g=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("succ!"))},g.$$arity=-1,g.$$parameters=[["rest"]]),e.defn(k,"$swapcase!",v=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("swapcase!"))},v.$$arity=-1,v.$$parameters=[["rest"]]),e.defn(k,"$tr!",y=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("tr!"))},y.$$arity=-1,y.$$parameters=[["rest"]]),e.defn(k,"$tr_s!",b=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("tr_s!"))},b.$$arity=-1,b.$$parameters=[["rest"]]),e.defn(k,"$upcase!",x=function(){return this.$raise(e.const_get_relative(q,"NotImplementedError"),w["$%"]("upcase!"))},x.$$arity=-1,x.$$parameters=[["rest"]])}($[0],null,$),function(r,a){var n,i,$,s=n=c(r,"Kernel"),o=(s.$$proto,[s].concat(a),"Object freezing is not supported by Opal");e.defn(s,"$freeze",i=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"freeze"),t(o),r},i.$$arity=0,i.$$parameters=[]),e.defn(s,"$frozen?",$=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"frozen?"),t(o),!1},$.$$arity=0,$.$$parameters=[])}($[0],$),function(r,a){var n,i,$,s,o=n=c(r,"Kernel"),_=(o.$$proto,[o].concat(a),"Object tainting is not supported by Opal");e.defn(o,"$taint",i=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"taint"),t(_),r},i.$$arity=0,i.$$parameters=[]),e.defn(o,"$untaint",$=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"untaint"),t(_),r},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$tainted?",s=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"tainted?"),t(_),!1},s.$$arity=0,s.$$parameters=[])}($[0],$),function(t,$super,r){function a(){}var n,i,$,c,_=a=o(t,$super,"Module",a);_.$$proto,[_].concat(r);e.defn(_,"$public",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length&&(t.$$module_function=!1),s},n.$$arity=-1,n.$$parameters=[["rest","methods"]]),e.alias(_,"private","public"),e.alias(_,"protected","public"),e.alias(_,"nesting","public"),e.defn(_,"$private_class_method",i=function(){return this},i.$$arity=-1,i.$$parameters=[["rest"]]),e.alias(_,"public_class_method","private_class_method"),e.defn(_,"$private_method_defined?",$=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"private_method_defined?"),!1},$.$$arity=1,$.$$parameters=[["req","obj"]]),e.defn(_,"$private_constant",c=function(){return s},c.$$arity=-1,c.$$parameters=[["rest"]]),e.alias(_,"protected_method_defined?","private_method_defined?"),e.alias(_,"public_instance_methods","instance_methods"),e.alias(_,"public_method_defined?","method_defined?")}($[0],null,$),function(t,r){var a,n,i=a=c(t,"Kernel");i.$$proto,[i].concat(r);e.defn(i,"$private_methods",n=function(){return[]},n.$$arity=-1,n.$$parameters=[["rest"]]),e.alias(i,"private_instance_methods","private_methods")}($[0],$),function(t,r){var a,n,i=a=c(t,"Kernel"),$=(i.$$proto,[i].concat(r));e.defn(i,"$eval",n=function(){return this.$raise(e.const_get_relative($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+e.const_get_relative($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},n.$$arity=-1,n.$$parameters=[["rest"]])}($[0],$),e.defs(i,"$public",a=function(){return s},a.$$arity=-1,a.$$parameters=[["rest"]]),e.defs(i,"$private",n=function(){return s},n.$$arity=-1,n.$$parameters=[["rest"]])},function(e){var t=e.top;e.nil,e.breaker,e.slice;e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/random"),t.$require("corelib/unsupported")}(Opal),Opal.modules["nodejs/kernel"]=function(e){var t,r,a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_str","$new","$to_s"]),e.exit=process.exit,function(t,r){var a,n,$,s=a=i(t,"Kernel"),o=(s.$$proto,[s].concat(r));e.const_set(o[0],"NODE_REQUIRE",require),e.defn(s,"$caller",n=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];var n;try{throw Error("my error")}catch(e){n=e.stack}return n.$split("\n").slice(3)},n.$$arity=-1,n.$$parameters=[["rest","args"]]),e.defn(s,"$node_require",$=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"node_require"),e.const_get_relative(o,"NODE_REQUIRE")(t.$to_str())},$.$$arity=1,$.$$parameters=[["req","path"]])}(a[0],a),e.const_set(a[0],"ARGV",process.argv.slice(2)),e.const_set(a[0],"ENV",e.const_get_relative(a,"Object").$new()),e.defs(e.const_get_relative(a,"ENV"),"$[]=",t=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"[]="),process.env[t.$to_s()]=r.$to_s()},t.$$arity=2,t.$$parameters=[["req","name"],["req","value"]]),e.defs(e.const_get_relative(a,"ENV"),"$[]",r=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"[]"),process.env[t]||n},r.$$arity=1,r.$$parameters=[["req","name"]])},Opal.modules["nodejs/file"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":e.const_get_relative(i,"Kernel").$raise(e.const_get_relative(i,"NotImplementedError"),t);break;case"warning":r(t)}}function r(e){_[e]||(_[e]=!0,n.$warn(e))}function a(t){try{return t()}catch(t){if(l.indexOf(t.code)>=0){var r=e.const_get_relative(i,"Errno").$const_get(t.code);throw r.$new(t.message)}throw t}}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.klass),o=e.truthy;e.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$node_require","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$match","$gsub","$attr_reader"]);for(var c,_={},l=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"],u=0,p=l.length;u<p;u++)c=l[u],e.const_get_relative(i,"Errno")["$const_defined?"](c)||e.const_get_relative(i,"Errno").$const_set(c,e.const_get_relative(i,"Class").$new(e.const_get_relative(i,"SystemCallError")));return function(r,$super,n){function i(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E=i=s(r,$super,"File",i),S=E.$$proto,M=[E].concat(n);null==E.__fs__&&(E.__fs__=$),null==E.__path__&&(E.__path__=$),S.fd=S.path=$,E.$include(e.const_get_qualified(e.const_get_qualified("::","IO"),"Writable")),E.$include(e.const_get_qualified(e.const_get_qualified("::","IO"),"Readable")),E.__fs__=E.$node_require("fs"),E.__path__=E.$node_require("path");var O=E.__fs__,A=E.__path__;o(A.sep!==e.const_get_relative(M,"Separator"))&&e.const_set(M[0],"ALT_SEPARATOR",A.sep),e.defs(E,"$read",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"read"),a(function(){return O.readFileSync(t).toString()})},c.$$arity=1,c.$$parameters=[["req","path"]]),e.defs(E,"$write",_=function(t,r){var n=arguments.length;return 2!==n&&e.ac(n,2,this,"write"),a(function(){return O.writeFileSync(t,r)}),r.$size()},_.$$arity=2,_.$$parameters=[["req","path"],["req","data"]]),e.defs(E,"$exist?",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"exist?"),o(t["$respond_to?"]("path"))&&(t=t.$path()),a(function(){return O.existsSync(t)})},l.$$arity=1,l.$$parameters=[["req","path"]]),e.defs(E,"$realpath",u=function(t,r,n){var i=this,s=u.$$p,c=s||$;null==r&&(r=$),null==n&&(n=$),s&&(u.$$p=null);var _=arguments.length;return(_<1||_>3)&&e.ac(_,-2,this,"realpath"),o(r)&&(t=i.$join(r,t)),c!==$?void 0:a(function(){return O.realpathSync(t,n)})},u.$$arity=-2,u.$$parameters=[["req","pathname"],["opt","dir_string"],["opt","cache"],["block","block"]]),e.defs(E,"$join",p=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return A.join.apply(A,e)},p.$$arity=-1,p.$$parameters=[["rest","paths"]]),e.defs(E,"$directory?",d=function(t){var r=this,n=$,i=$,s=arguments.length;return 1!==s&&e.ac(s,1,this,"directory?"),!!o(r["$exist?"](t))&&(n=a(function(){return!!O.lstatSync(t).isDirectory()}),o(n)||(i=r.$realpath(t),o(i["$!="](t))&&(n=a(function(){return!!O.lstatSync(i).isDirectory()}))),n)
},d.$$arity=1,d.$$parameters=[["req","path"]]),e.defs(E,"$file?",f=function(t){var r=this,n=$,i=$,s=arguments.length;return 1!==s&&e.ac(s,1,this,"file?"),!!o(r["$exist?"](t))&&(n=a(function(){return!!O.lstatSync(t).isFile()}),o(n)||(i=r.$realpath(t),o(i["$!="](t))&&(n=a(function(){return!!O.lstatSync(i).isFile()}))),n)},f.$$arity=1,f.$$parameters=[["req","path"]]),e.defs(E,"$readable?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"readable?"),!!o(r["$exist?"](t))&&"\n      try {\n        __fs__.accessSync(path, __fs__.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},h.$$arity=1,h.$$parameters=[["req","path"]]),e.defs(E,"$size",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"size"),a(function(){return O.lstatSync(t).size})},m.$$arity=1,m.$$parameters=[["req","path"]]),e.defs(E,"$open",g=function(t,r){var a=this,n=g.$$p,i=n||$,s=$;null==r&&(r="r"),n&&(g.$$p=null);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"open"),s=a.$new(t,r),i!==$?function(){try{return e.yield1(i,s)}finally{s.$close()}}():s},g.$$arity=-2,g.$$parameters=[["req","path"],["opt","mode"]]),e.defs(E,"$stat",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"stat"),o(t["$respond_to?"]("path"))&&(t=t.$path()),e.const_get_qualified(e.const_get_relative(M,"File"),"Stat").$new(t)},v.$$arity=1,v.$$parameters=[["req","path"]]),e.defs(E,"$mtime",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"mtime"),a(function(){return O.statSync(t).mtime})},y.$$arity=1,y.$$parameters=[["req","path"]]),e.defn(E,"$initialize",b=function(r,n){var i=this,s=$,c=$;null==n&&(n="r");var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"initialize"),s=/b/,c=/:(.*)/,o(n.$match(s))&&t("Binary flag (b) is unsupported by Node.js openSync method, removing flag."),n=n.$gsub(s,""),o(n.$match(c))&&t("Encoding flag (:encoding) is unsupported by Node.js openSync method, removing flag."),n=n.$gsub(c,""),i.path=r,i.flags=n,i.fd=a(function(){return O.openSync(r,n)})},b.$$arity=-2,b.$$parameters=[["req","path"],["opt","flags"]]),E.$attr_reader("path"),e.defn(E,"$write",x=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"write"),a(function(){return O.writeSync(r.fd,t)})},x.$$arity=1,x.$$parameters=[["req","string"]]),e.defn(E,"$flush",k=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"flush"),a(function(){return O.fsyncSync(t.fd)})},k.$$arity=0,k.$$parameters=[]),e.defn(E,"$close",q=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"close"),a(function(){return O.closeSync(t.fd)})},q.$$arity=0,q.$$parameters=[]),e.defn(E,"$mtime",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mtime"),a(function(){return O.statSync(t.path).mtime})},w.$$arity=0,w.$$parameters=[])}(i[0],e.const_get_relative(i,"IO"),i),function(t,$super,r){function n(){}var i,o,c,_=n=s(t,$super,"Stat",n),l=_.$$proto;[_].concat(r);null==_.__fs__&&(_.__fs__=$),l.path=$,_.__fs__=_.$node_require("fs");var u=_.__fs__;return e.defn(_,"$initialize",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.path=t},i.$$arity=1,i.$$parameters=[["req","path"]]),e.defn(_,"$file?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"file?"),a(function(){return u.statSync(t.path).isFile()})},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$mtime",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mtime"),a(function(){return u.statSync(t.path).mtime})},c.$$arity=0,c.$$parameters=[]),$&&"mtime"}(e.const_get_relative(i,"File"),null,i)},Opal.modules["nodejs/dir"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$node_require"]),function(t,$super,n){function i(){}var $=i=a(t,$super,"Dir",i),s=($.$$proto,[$].concat(n));null==$.__glob__&&($.__glob__=r),null==$.__fs__&&($.__fs__=r),$.__glob__=$.$node_require("glob"),$.__fs__=$.$node_require("fs");var o=$.__glob__,c=$.__fs__;return function(t,r){var a,n,i,$;t.$$proto,[t].concat(r);return e.defn(t,"$[]",a=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"[]"),o.sync(t)},a.$$arity=1,a.$$parameters=[["req","glob"]]),e.defn(t,"$pwd",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"pwd"),process.cwd()},n.$$arity=0,n.$$parameters=[]),e.defn(t,"$mkdir",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"mkdir"),c.mkdirSync(t)},i.$$arity=1,i.$$parameters=[["req","path"]]),e.defn(t,"$entries",$=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"entries");for(var a=[],n=c.readdirSync(t),i=0,$=n.length;i<$;i++)a.push(n[i]);return a},$.$$arity=1,$.$$parameters=[["req","dirname"]]),e.alias(t,"getwd","pwd")}(e.get_singleton_class($),s)}(t[0],null,t)},Opal.modules["nodejs/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var a,n,i=e.top,$=[],s=e.nil,o=(e.breaker,e.slice,e.klass),c=e.truthy,_=e.gvars,l=e.send,u=s;return e.add_stubs(["$node_require","$attr_reader","$write","$read","$size","$to_enum","$chomp","$each_line","$lambda","$write_proc=","$-","$tty="]),function(t,$super,a){function n(){}var i,$,l,u,p,d,f=n=o(t,$super,"IO",n),h=f.$$proto,m=[f].concat(a);null==f.__fs__&&(f.__fs__=s),h.eof=h.path=s,f.__fs__=f.$node_require("fs");var g=f.__fs__;f.$attr_reader("eof"),f.$attr_reader("lineno"),e.defn(f,"$initialize",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.eof=!1,t.lineno=0},i.$$arity=0,i.$$parameters=[]),e.defs(f,"$write",$=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"write"),e.const_get_relative(m,"File").$write(t,r)},$.$$arity=2,$.$$parameters=[["req","path"],["req","data"]]),e.defs(f,"$read",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"read"),e.const_get_relative(m,"File").$read(t)},l.$$arity=1,l.$$parameters=[["req","path"]]),e.defn(f,"$read",u=function(){var t=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"read"),c(t.eof)?"":(a=r(function(){return g.readFileSync(t.path).toString()}),t.eof=!0,t.lineno=a.$size(),a)},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$each_line",p=function(t){var r=this,a=p.$$p,n=a||s,i=s;null==_["/"]&&(_["/"]=s),null==t&&(t=_["/"]),a&&(p.$$p=null);var $=arguments.length;if($>1&&e.ac($,-1,this,"each_line"),c(r.eof))return function(){return n!==s?r:[].$to_enum()}();if(n!==s){i=e.const_get_relative(m,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var o=i.$chomp(),l=i.length!=o.length,u=o.split(t),d=0,f=u.length;d<f;d++)r.lineno+=1,d<f-1||l?e.yield1(n,u[d]+t):e.yield1(n,u[d]);return r.eof=!0,r}return r.$read().$each_line()},p.$$arity=-1,p.$$parameters=[["opt","separator"],["block","block"]]),e.defs(f,"$binread",d=function(t){var a=arguments.length;return 1!==a&&e.ac(a,1,this,"binread"),r(function(){return g.readFileSync(t).toString("binary")})},d.$$arity=1,d.$$parameters=[["req","path"]])}($[0],null,$),u=[l(i,"lambda",[],(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return process.stdout.write(t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","string"]],a))],l(e.const_get_relative($,"STDOUT"),"write_proc=",e.to_a(u)),u[t(u.length,1)],u=[l(i,"lambda",[],(n=function(t){n.$$s;if(null==t&&(t=s),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return process.stderr.write(t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","string"]],n))],l(e.const_get_relative($,"STDERR"),"write_proc=",e.to_a(u)),u[t(u.length,1)],u=[!0],l(e.const_get_relative($,"STDOUT"),"tty=",e.to_a(u)),u[t(u.length,1)],u=[!0],l(e.const_get_relative($,"STDERR"),"tty=",e.to_a(u)),u[t(u.length,1)]},Opal.modules.nodejs=function(e){var t=e.top,r=[],a=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require"]),function(e,t){var r,n=r=a(e,"NodeJS");n.$$proto,[n].concat(t)}(r[0],r),t.$require("nodejs/kernel"),t.$require("nodejs/file"),t.$require("nodejs/dir"),t.$require("nodejs/io")},Opal.modules.js=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy;return e.add_stubs(["$insert","$<<","$global","$extend"]),function(t,i){var $,s,o,c,_,l,u,p,d,f,h=$=a(t,"JS");h.$$proto,[h].concat(i);e.defn(h,"$delete",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"delete"),delete t[r]},s.$$arity=2,s.$$parameters=[["req","object"],["req","property"]]),e.defn(h,"$global",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"global"),e.global},o.$$arity=0,o.$$parameters=[]),e.defn(h,"$in",c=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"in"),t in r},c.$$arity=2,c.$$parameters=[["req","property"],["req","object"]]),e.defn(h,"$instanceof",_=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"instanceof"),t instanceof r},_.$$arity=2,_.$$parameters=[["req","value"],["req","func"]]),n("function"==typeof Function.prototype.bind)?e.defn(h,"$new",l=function(t){var a,i=l.$$p,$=i||r,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var c=1;c<s;c++)a[c-1]=arguments[c];i&&(l.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"new"),a.$insert(0,this),n($)&&a["$<<"]($),new(t.bind.apply(t,a))},l.$$arity=-2,l.$$parameters=[["req","func"],["rest","args"],["block","block"]]):e.defn(h,"$new",u=function(t){var a,i=u.$$p,$=i||r,s=r,o=arguments.length,c=o-1;c<0&&(c=0),a=new Array(c);for(var _=1;_<o;_++)a[_-1]=arguments[_];i&&(u.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"new"),n($)&&a["$<<"]($),s=function(){return t.apply(this,a)},s.prototype=t.prototype,new s},u.$$arity=-2,u.$$parameters=[["req","func"],["rest","args"],["block","block"]]),e.defn(h,"$typeof",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"typeof"),typeof t},p.$$arity=1,p.$$parameters=[["req","value"]]),e.defn(h,"$void",d=function(){var t=arguments.length;1!==t&&e.ac(t,1,this,"void")},d.$$arity=1,d.$$parameters=[["req","expr"]]),e.defn(h,"$call",f=function(t){var a,i=this,$=f.$$p,s=$||r,o=r,c=arguments.length,_=c-1;_<0&&(_=0),a=new Array(_);for(var l=1;l<c;l++)a[l-1]=arguments[l];$&&(f.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"call"),o=i.$global(),n(s)&&a["$<<"](s),o[t].apply(o,a)},f.$$arity=-2,f.$$parameters=[["req","func"],["rest","args"],["block","block"]]),e.alias(h,"method_missing","call"),h.$extend(h)}(t[0],t)},Opal.modules["opal/rspec/fixes/opal"]=function(e){var t,r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.module,s=e.truthy,o=e.send;return e.add_stubs(["$new","$==","$require","$respond_to?","$include","$===","$kind_of?","$stuff"]),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"IO",a);$.$$proto,[$].concat(r);e.defn($,"$closed?",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"closed?"),!0},n.$$arity=0,n.$$parameters=[])}(a[0],null,a),e.const_set(e.const_get_relative(a,"Errno"),"ENOTDIR",e.const_get_relative(a,"Class").$new(e.const_get_relative(a,"SystemCallError"))),e.const_get_relative(a,"OPAL_PLATFORM")["$=="]("nodejs")&&r.$require("nodejs"),function(t,r){var a,i,s=a=$(t,"Kernel");s.$$proto,[s].concat(r);e.defn(s,"$trap",i=function(){var t=i.$$p;t&&(i.$$p=null);var r=arguments.length;return 1!==r&&e.ac(r,1,this,"trap"),n},i.$$arity=1,i.$$parameters=[["req","sig"],["block","block"]])}(a[0],a),r.$require("js"),s(e.const_get_relative(a,"JS")["$respond_to?"]("[]"))||e.defs(e.const_get_relative(a,"JS"),"$[]",t=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"[]"),e.global[t]},t.$$arity=1,t.$$parameters=[["req","name"]]),function(t,r){var a,c=a=$(t,"Opal"),_=(c.$$proto,[c].concat(r));!function(t,r){var a,c=a=$(t,"RSpec"),_=(c.$$proto,[c].concat(r));!function(t,r){var a,c,_,l=a=$(t,"Compatibility"),u=(l.$$proto,[l].concat(r));!function(e,t){var r,a=r=$(e,"ModuleCase");a.$$proto,[a].concat(t)}(u[0],u),function(t,r){var a,n=a=$(t,"ModuleCase2"),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"ModuleCase"))}(u[0],u),function(t,$super,r){function a(){}var n=a=i(t,$super,"ModuleCase3",a),$=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative($,"ModuleCase2"))}(u[0],null,u),e.defs(l,"$module_case_works_right?",c=function(){var t,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"module_case_works_right?"),r=e.const_get_relative(u,"ModuleCase3").$new(),s(t=e.const_get_relative(u,"ModuleCase")["$==="](r))?r["$kind_of?"](e.const_get_relative(u,"ModuleCase")):t},c.$$arity=0,c.$$parameters=[]),function(t,r){var a,n,i=a=$(t,"MultModSuper1");i.$$proto,[i].concat(r);e.defn(i,"$stuff",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"stuff"),"howdy"},n.$$arity=0,n.$$parameters=[])}(u[0],u),function(t,r){var a,i,s=a=$(t,"MultModSuper2");s.$$proto,[s].concat(r);e.defn(s,"$stuff",i=function(){var t=this,r=i.$$p,a=n,$=n,s=n;r&&(i.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"stuff"),$=0,s=arguments.length,a=new Array(s);$<s;$++)a[$]=arguments[$];return o(t,e.find_super_dispatcher(t,"stuff",i,!1),a,r)},i.$$arity=0,i.$$parameters=[])}(u[0],u),function(t,r){var a,n=a=$(t,"MultModSuper3"),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"MultModSuper1")),n.$include(e.const_get_relative(i,"MultModSuper2"))}(u[0],u),function(t,$super,r){function a(){}var n=a=i(t,$super,"MultModSuperClass",a),$=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative($,"MultModSuper3"))}(u[0],null,u),e.defs(l,"$multiple_module_include_super_works_right?",_=function(){var t=arguments.length;0!==t&&e.ac(t,0,this,"multiple_module_include_super_works_right?");try{return e.const_get_relative(u,"MultModSuperClass").$new().$stuff()["$=="]("howdy")}catch(t){if(!e.rescue(t,[e.const_get_relative(u,"Exception")]))throw t;t;try{return!1}finally{e.pop_exception()}}},_.$$arity=0,_.$$parameters=[])}(_[0],_)}(_[0],_)}(a[0],a)},Opal.modules["opal/rspec/pre_require_fixes"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.truthy),i=e.klass;return n(e.const_get_relative(r,"RUBY_DESCRIPTION","skip_raise")?"constant":a)||e.const_set(r[0],"RUBY_DESCRIPTION",e.const_get_relative(r,"RUBY_VERSION")),n(e.const_get_relative(r,"SecurityError","skip_raise")?"constant":a)||function(e,$super,t){function r(){}var a=r=i(e,$super,"SecurityError",r);a.$$proto,[a].concat(t)}(r[0],e.const_get_relative(r,"Exception"),r),t.$require("opal/rspec/pre_require_fixes/../fixes/opal")},Opal.modules["cgi/escape"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["cgi/util"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs/block"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs/callbacks"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs/change"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs/hunk"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["diff/lcs/internals"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.template=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.hash2,$=e.truthy,s=e.send;return e.add_stubs(["$[]","$[]=","$-","$keys","$attr_reader","$instance_exec","$new","$to_proc","$<<","$join"]),function(r,$super,o){function c(){}var _,l,u,p,d,f,h=c=n(r,$super,"Template",c),m=h.$$proto,g=[h].concat(o);return m.name=m.body=a,h._cache=i([],{}),e.defs(h,"$[]",_=function(t){var r,n=this;null==n._cache&&(n._cache=a);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"[]"),$(r=n._cache["$[]"](t))?r:n._cache["$[]"]("templates/"+t)},_.$$arity=1,_.$$parameters=[["req","name"]]),e.defs(h,"$[]=",l=function(r,n){var i=this,$=a;null==i._cache&&(i._cache=a);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"[]="),$=[r,n],s(i._cache,"[]=",e.to_a($)),$[t($.length,1)]},l.$$arity=2,l.$$parameters=[["req","name"],["req","instance"]]),e.defs(h,"$paths",u=function(){var t=this;null==t._cache&&(t._cache=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"paths"),t._cache.$keys()},u.$$arity=0,u.$$parameters=[]),h.$attr_reader("body"),e.defn(h,"$initialize",p=function(r){var n,i=this,$=p.$$p,o=$||a,c=a;$&&(p.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"initialize"),n=[r,o],i.name=n[0],i.body=n[1],c=[r,i],s(e.const_get_relative(g,"Template"),"[]=",e.to_a(c)),c[t(c.length,1)]},p.$$arity=1,p.$$parameters=[["req","name"],["block","body"]]),e.defn(h,"$inspect",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Template: '"+t.name+"'>"},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$render",f=function(t){var r=this;null==t&&(t=r);var a=arguments.length;return a>1&&e.ac(a,-1,this,"render"),s(t,"instance_exec",[e.const_get_relative(g,"OutputBuffer").$new()],r.body.$to_proc())},f.$$arity=-1,f.$$parameters=[["opt","ctx"]]),function(t,$super,r){function i(){}var $,s,o,c=i=n(t,$super,"OutputBuffer",i),_=c.$$proto;[c].concat(r);return _.buffer=a,e.defn(c,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.buffer=[]},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$append",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"append"),r.buffer["$<<"](t)},s.$$arity=1,s.$$parameters=[["req","str"]]),e.alias(c,"append=","append"),e.defn(c,"$join",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"join"),t.buffer.$join()},o.$$arity=0,o.$$parameters=[]),a&&"join"}(g[0],null,g)}(r[0],null,r)},Opal.modules.erb=function(e){var t=e.top,r=[],a=(e.nil,e.breaker,e.slice,e.klass),n=e.module;return e.add_stubs(["$require","$module_function"]),t.$require("template"),function(t,$super,r){function i(){}var $=i=a(t,$super,"ERB",i),s=($.$$proto,[$].concat(r));return function(t,r){var a,i,$=a=n(t,"Util"),s=($.$$proto,[$].concat(r),{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),o=/[&<>"']/g;e.defn($,"$html_escape",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"html_escape"),(""+t).replace(o,function(e){return s[e]})},i.$$arity=1,i.$$parameters=[["req","str"]]),e.alias($,"h","html_escape"),$.$module_function("h"),$.$module_function("html_escape")}(s[0],s)}(r[0],null,r)},Opal.modules.json=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy,o=e.hash2;return e.add_stubs(["$raise","$new","$push","$[]=","$-","$[]","$create_id","$json_create","$const_get","$attr_accessor","$create_id=","$===","$parse","$generate","$from_object","$merge","$to_json","$responds_to?","$to_io","$write","$to_s","$to_a","$strftime"]),function(r,c){function _(t){try{return JSON.parse(t)}catch(t){y.$raise(e.const_get_qualified(e.const_get_relative(b,"JSON"),"ParserError"),t.message)}}function l(r,n){var i,s,o,c,_,u;switch(typeof r){case"string":case"number":return r;case"boolean":return!!r;case"null":return a;case"object":if(!r)return a;if(r.$$is_array){for(s=n.array_class.$new(),c=0,_=r.length;c<_;c++)s.$push(l(r[c],n));return s}o=n.object_class.$new();for(u in r)k.call(r,u)&&(x=[u,l(r[u],n)],$(o,"[]=",e.to_a(x)),x[t(x.length,1)]);return n.parse||(i=o["$[]"](e.const_get_relative(b,"JSON").$create_id()))==a?o:e.const_get_qualified("::","Object").$const_get(i).$json_create(o)}}var u,p,d,f,h,m,g,v,y=u=n(r,"JSON"),b=(y.$$proto,[y].concat(c)),x=a;!function(e,$super,t){function r(){}var a=r=i(e,$super,"JSONError",r);a.$$proto,[a].concat(t)}(b[0],e.const_get_relative(b,"StandardError"),b),function(e,$super,t){function r(){}var a=r=i(e,$super,"ParserError",r);a.$$proto,[a].concat(t)}(b[0],e.const_get_relative(b,"JSONError"),b);var k=e.hasOwnProperty;!function(e,t){e.$$proto,[e].concat(t);e.$attr_accessor("create_id")}(e.get_singleton_class(y),b),x=["json_class"],$(y,"create_id=",e.to_a(x)),x[t(x.length,1)],e.defs(y,"$[]",p=function(t,r){var a=this;null==r&&(r=o([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"[]"),s(e.const_get_relative(b,"String")["$==="](t))?a.$parse(t,r):a.$generate(t,r)},p.$$arity=-2,p.$$parameters=[["req","value"],["opt","options"]]),e.defs(y,"$parse",d=function(t,r){var a=this;null==r&&(r=o([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"parse"),a.$from_object(_(t),r.$merge(o(["parse"],{parse:!0})))},d.$$arity=-2,d.$$parameters=[["req","source"],["opt","options"]]),e.defs(y,"$parse!",f=function(t,r){var a=this;null==r&&(r=o([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"parse!"),a.$parse(t,r)},f.$$arity=-2,f.$$parameters=[["req","source"],["opt","options"]]),e.defs(y,"$load",h=function(t,r){var a=this;null==r&&(r=o([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"load"),a.$from_object(_(t),r)},h.$$arity=-2,h.$$parameters=[["req","source"],["opt","options"]]),e.defs(y,"$from_object",m=function(r,n){var i=a;null==n&&(n=o([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"from_object"),s(n["$[]"]("object_class"))||(i=["object_class",e.const_get_relative(b,"Hash")],$(n,"[]=",e.to_a(i)),i[t(i.length,1)]),s(n["$[]"]("array_class"))||(i=["array_class",e.const_get_relative(b,"Array")],$(n,"[]=",e.to_a(i)),i[t(i.length,1)]),l(r,n.$$smap)},m.$$arity=-2,m.$$parameters=[["req","js_object"],["opt","options"]]),e.defs(y,"$generate",g=function(t,r){null==r&&(r=o([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"generate"),t.$to_json(r)},g.$$arity=-2,g.$$parameters=[["req","obj"],["opt","options"]]),e.defs(y,"$dump",v=function(t,r,n){var i=this,$=a;null==r&&(r=a),null==n&&(n=a);var o=arguments.length;return(o<1||o>3)&&e.ac(o,-2,this,"dump"),$=i.$generate(t),s(r)?(s(r["$responds_to?"]("to_io"))&&(r=r.$to_io()),r.$write($),r):$},v.$$arity=-2,v.$$parameters=[["req","obj"],["opt","io"],["opt","limit"]])}(r[0],r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Object",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_s().$to_json()},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,r){var a,i,$=a=n(t,"Enumerable");$.$$proto,[$].concat(r);e.defn($,"$to_json",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_a().$to_json()},i.$$arity=0,i.$$parameters=[])}(r[0],r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Array",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_json");for(var a=[],n=0,i=t.length;n<i;n++)a.push(t[n].$to_json());return"["+a.join(", ")+"]"},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Boolean",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),1==t?"true":"false"},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Hash",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"to_json");for(var a,n,i=[],$=0,s=t.$$keys,o=s.length;$<o;$++)a=s[$],a.$$is_string?n=t.$$smap[a]:(n=a.value,a=a.key),i.push(a.$to_s().$to_json()+":"+n.$to_json());return"{"+i.join(", ")+"}"},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"NilClass",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"to_json"),"null"},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Numeric",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.toString()},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function a(){}var n=a=i(t,$super,"String",a);n.$$proto,[n].concat(r);e.alias(n,"to_json","inspect")}(r[0],null,r),function(t,$super,r){function a(){}var n,$=a=i(t,$super,"Time",a);$.$$proto,[$].concat(r);e.defn($,"$to_json",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$strftime("%FT%T%z").$to_json()},n.$$arity=0,n.$$parameters=[])}(r[0],null,r),function(t,$super,r){function n(){}var $,s,o=n=i(t,$super,"Date",n);o.$$proto,[o].concat(r);return e.defn(o,"$to_json",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_json"),t.$to_s().$to_json()},$.$$arity=0,$.$$parameters=[]),e.defn(o,"$as_json",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_json"),t.$to_s()},s.$$arity=0,s.$$parameters=[]),a&&"as_json"}(r[0],null,r)},Opal.modules.optparse=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.pathname=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.truthy,s=e.send,o=e.module;return e.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,$super,a){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T=o=i(r,$super,"Pathname",o),I=T.$$proto,C=[T].concat(a);I.path=n,T.$include(e.const_get_relative(C,"Comparable")),e.const_set(C[0],"SEPARATOR_PAT",new RegExp(e.const_get_relative(C,"Regexp").$quote(e.const_get_qualified(e.const_get_relative(C,"File"),"SEPARATOR")))),e.defn(T,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),$(e.const_get_relative(C,"Pathname")["$==="](t))?r.path=t.$path().$to_s():$(t["$respond_to?"]("to_path"))?r.path=t.$to_path():$(t["$is_a?"](e.const_get_relative(C,"String")))?r.path=t:$(t["$nil?"]())?r.$raise(e.const_get_relative(C,"TypeError"),"no implicit conversion of nil into String"):r.$raise(e.const_get_relative(C,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),r.path["$=="]("\0")?r.$raise(e.const_get_relative(C,"ArgumentError")):n},c.$$arity=1,c.$$parameters=[["req","path"]]),T.$attr_reader("path"),e.defn(T,"$==",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$path()["$=="](r.path)},_.$$arity=1,_.$$parameters=[["req","other"]]),e.defn(T,"$absolute?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"absolute?"),t["$relative?"]()["$!"]()},l.$$arity=0,l.$$parameters=[]),e.defn(T,"$relative?",u=function(){var t,r,a=this,i=n,s=n,o=arguments.length;for(0!==o&&e.ac(o,0,this,"relative?"),i=a.path;$(s=a.$chop_basename(i));)r=s,t=e.to_ary(r),i=null==t[0]?n:t[0];return i["$=="]("")},u.$$arity=0,u.$$parameters=[]),e.defn(T,"$chop_basename",p=function(t){var r=n,a=arguments.length;return 1!==a&&e.ac(a,1,this,"chop_basename"),r=e.const_get_relative(C,"File").$basename(t),$(e.const_get_relative(C,"Regexp").$new("^"+e.const_get_qualified(e.const_get_relative(C,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](r))?n:[t["$[]"](0,t.$rindex(r)),r]},p.$$arity=1,p.$$parameters=[["req","path"]]),e.defn(T,"$root?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"root?"),t.path["$=="]("/")},d.$$arity=0,d.$$parameters=[]),e.defn(T,"$parent",f=function(){var t=this,r=n,a=arguments.length;return 0!==a&&e.ac(a,0,this,"parent"),r=t.path.$sub(/\/([^\/]+\/?$)/,""),r["$=="]("")&&(r=function(){return $(t["$absolute?"]())?"/":"."}()),e.const_get_relative(C,"Pathname").$new(r)},f.$$arity=0,f.$$parameters=[]),e.defn(T,"$sub",h=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return e.const_get_relative(C,"Pathname").$new(s(r.path,"sub",e.to_a(t)))},h.$$arity=-1,h.$$parameters=[["rest","args"]]),e.defn(T,"$cleanpath",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"cleanpath"),e.normalize(t.path)},m.$$arity=0,m.$$parameters=[]),e.defn(T,"$to_path",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_path"),t.path},g.$$arity=0,g.$$parameters=[]),e.defn(T,"$hash",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash"),t.path},v.$$arity=0,v.$$parameters=[]),e.defn(T,"$expand_path",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expand_path"),e.const_get_relative(C,"File").$expand_path(t.path)},y.$$arity=0,y.$$parameters=[]),e.defn(T,"$+",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"+"),$(e.const_get_relative(C,"Pathname")["$==="](t))||(t=e.const_get_relative(C,"Pathname").$new(t)),e.const_get_relative(C,"Pathname").$new(r.$plus(r.path,t.$to_s()))},b.$$arity=1,b.$$parameters=[["req","other"]]),e.defn(T,"$plus",x=function(r,a){var i,s,o,c=this,_=n,l=n,u=n,p=n,d=n,f=n,h=n,m=n,g=n,v=arguments.length;for(2!==v&&e.ac(v,2,this,"plus"),_=a,l=[],u=[];$(p=c.$chop_basename(_));)o=p,s=e.to_ary(o),_=null==s[0]?n:s[0],d=null==s[1]?n:s[1],l.$unshift(_.$length()),u.$unshift(d);if($(_["$!="]("")))return a;for(f=r;$(!0);){for(;$($(o=u["$empty?"]()["$!"]())?u.$first()["$=="]("."):o);)l.$shift(),u.$shift();if(!$(h=c.$chop_basename(f)))break;if(o=h,s=e.to_ary(o),f=null==s[0]?n:s[0],m=null==s[1]?n:s[1],!m["$=="](".")){if($($(s=$(o=m["$=="](".."))?o:u["$empty?"]())?s:u.$first()["$!="](".."))){f=t(f,m);break}l.$shift(),u.$shift()}}if(h=c.$chop_basename(f),$($(i=h["$!"]())?new RegExp(e.const_get_relative(C,"SEPARATOR_PAT"))["$=~"](e.const_get_relative(C,"File").$basename(f)):i))for(;$($(s=u["$empty?"]()["$!"]())?u.$first()["$=="](".."):s);)l.$shift(),u.$shift();return $(u["$empty?"]()["$!"]())?(g=a["$[]"](e.Range.$new(l.$first(),-1,!1)),$(h)?e.const_get_relative(C,"File").$join(f,g):t(f,g)):$(h)?f:e.const_get_relative(C,"File").$dirname(f)},x.$$arity=2,x.$$parameters=[["req","path1"],["req","path2"]]),e.defn(T,"$join",k=function(){try{var r,a,i=this,o=n,c=arguments.length,_=c-0;_<0&&(_=0),a=new Array(_);for(var l=0;l<c;l++)a[l-0]=arguments[l];return $(a["$empty?"]())?i:(o=a.$pop(),$(e.const_get_relative(C,"Pathname")["$==="](o))||(o=e.const_get_relative(C,"Pathname").$new(o)),$(o["$absolute?"]())?o:(s(a,"reverse_each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"join")}if($(e.const_get_relative(C,"Pathname")["$==="](a))||(a=e.const_get_relative(C,"Pathname").$new(a)),o=t(a,o),!$(o["$absolute?"]()))return n;e.ret(o)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","arg"]],r)),t(i,o)))}catch(t){if(t===e.returner)return t.$v;throw t}},k.$$arity=-1,k.$$parameters=[["rest","args"]]),e.defn(T,"$split",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"split"),[t.$dirname(),t.$basename()]},q.$$arity=0,q.$$parameters=[]),e.defn(T,"$dirname",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"dirname"),e.const_get_relative(C,"Pathname").$new(e.const_get_relative(C,"File").$dirname(t.path))},w.$$arity=0,w.$$parameters=[]),e.defn(T,"$basename",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"basename"),e.const_get_relative(C,"Pathname").$new(e.const_get_relative(C,"File").$basename(t.path))},E.$$arity=0,E.$$parameters=[]),e.defn(T,"$directory?",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"directory?"),e.const_get_relative(C,"File")["$directory?"](t.path)},S.$$arity=0,S.$$parameters=[]),e.defn(T,"$extname",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"extname"),e.const_get_relative(C,"File").$extname(t.path)},M.$$arity=0,M.$$parameters=[]),e.defn(T,"$<=>",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<=>"),r.$path()["$<=>"](t.$path())},O.$$arity=1,O.$$parameters=[["req","other"]]),e.alias(T,"eql?","=="),e.alias(T,"===","=="),e.alias(T,"to_str","to_path"),e.alias(T,"to_s","to_path"),e.const_set(C[0],"SAME_PATHS",function(){return $(e.const_get_qualified(e.const_get_relative(C,"File"),"FNM_SYSCASE")["$nonzero?"]())?s(T,"proc",[],(A=function(t,r){A.$$s;if(null==t&&(t=n),null==r&&(r=n),A.$$is_lambda||A.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"<class:Pathname>")}return t.$casecmp(r)["$=="](0)},A.$$s=T,A.$$arity=2,
A.$$parameters=[["req","a"],["req","b"]],A)):s(T,"proc",[],(R=function(t,r){R.$$s;if(null==t&&(t=n),null==r&&(r=n),R.$$is_lambda||R.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"<class:Pathname>")}return t["$=="](r)},R.$$s=T,R.$$arity=2,R.$$parameters=[["req","a"],["req","b"]],R))}()),e.defn(T,"$relative_path_from",z=function(r){var a,i,o=this,c=n,_=n,l=n,u=n,p=n,d=n,f=n,h=n,m=arguments.length;for(1!==m&&e.ac(m,1,this,"relative_path_from"),c=o.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),_=c,l=[];$(u=o.$chop_basename(_));)i=u,a=e.to_ary(i),_=null==a[0]?n:a[0],p=null==a[1]?n:a[1],$(p["$!="]("."))&&l.$unshift(p);for(d=r,f=[];$(u=o.$chop_basename(d));)i=u,a=e.to_ary(i),d=null==a[0]?n:a[0],p=null==a[1]?n:a[1],$(p["$!="]("."))&&f.$unshift(p);for($(e.const_get_relative(C,"SAME_PATHS")["$[]"](_,d))||o.$raise(e.const_get_relative(C,"ArgumentError"),"different prefix: "+_.$inspect()+" and "+r.$inspect());$($(a=$(i=l["$empty?"]()["$!"]())?f["$empty?"]()["$!"]():i)?e.const_get_relative(C,"SAME_PATHS")["$[]"](l.$first(),f.$first()):a);)l.$shift(),f.$shift();return $(f["$include?"](".."))&&o.$raise(e.const_get_relative(C,"ArgumentError"),"base_directory has ..: "+r.$inspect()),f.$fill(".."),h=t(f,l),$(h["$empty?"]())?e.const_get_relative(C,"Pathname").$new("."):e.const_get_relative(C,"Pathname").$new(s(e.const_get_relative(C,"File"),"join",e.to_a(h)))},z.$$arity=1,z.$$parameters=[["req","base_directory"]]),e.defn(T,"$entries",j=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"entries"),s(e.const_get_relative(C,"Dir").$entries(r.path),"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"entries")}return a.$class().$new(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","f"]],t))},j.$$arity=0,j.$$parameters=[])}(a[0],null,a),function(t,r){var a,n,i=a=o(t,"Kernel"),$=(i.$$proto,[i].concat(r));e.defn(i,"$Pathname",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"Pathname"),e.const_get_relative($,"Pathname").$new(t)},n.$$arity=1,n.$$parameters=[["req","path"]])}(a[0],a)},Opal.modules.pp=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.send,s=e.truthy,o=e.klass,c=e.gvars;return e.add_stubs(["$inspect","$each","$pp","$<=","$size","$first","$module_function","$p","$args","$===","$+","$<<"]),function(r,a){var o,c,_,l=o=i(r,"Kernel"),u=(l.$$proto,[l].concat(a));e.defn(l,"$pretty_inspect",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pretty_inspect"),t.$inspect()},c.$$arity=0,c.$$parameters=[]),e.defn(l,"$pp",_=function(){var r,a,i=this,o=arguments.length,c=o-0;c<0&&(c=0),a=new Array(c);for(var _=0;_<o;_++)a[_-0]=arguments[_];return $(a,"each",[],(r=function(t){r.$$s;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"pp")}return e.const_get_relative(u,"PP").$pp(t)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","obj"]],r)),s(t(a.$size(),1))?a.$first():a},_.$$arity=-1,_.$$parameters=[["rest","objs"]]),l.$module_function("pp")}(a[0],a),function(t,$super,a){function i(){}var _=i=o(t,$super,"PP",i),l=(_.$$proto,[_].concat(a));return function(t,a){var i,o,_=(t.$$proto,[t].concat(a));return s("undefined"==typeof console||"undefined"==typeof console.log)?e.defn(t,"$pp",i=function(t,r,a){var i=this;null==c.stdout&&(c.stdout=n),null==r&&(r=c.stdout),null==a&&(a=79);var s=arguments.length;return(s<1||s>3)&&e.ac(s,-2,this,"pp"),$(i,"p",e.to_a(i.$args()))},i.$$arity=-2,i.$$parameters=[["req","obj"],["opt","out"],["opt","width"]]):e.defn(t,"$pp",o=function(t,a,i){null==c.stdout&&(c.stdout=n),null==a&&(a=c.stdout),null==i&&(i=79);var $=arguments.length;return($<1||$>3)&&e.ac($,-2,this,"pp"),s(e.const_get_relative(_,"String")["$==="](a))?r(r(a,t.$inspect()),"\n"):a["$<<"](r(t.$inspect(),"\n"))},o.$$arity=-2,o.$$parameters=[["req","obj"],["opt","out"],["opt","width"]]),e.alias(t,"singleline_pp","pp")}(e.get_singleton_class(_),l)}(a[0],null,a)},Opal.modules.prettyprint=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.rbconfig=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2;return e.add_stubs(["$split","$[]"]),function(t,i){var $,s=$=a(t,"RbConfig"),o=(s.$$proto,[s].concat(i)),c=r;c=e.const_get_relative(o,"RUBY_VERSION").$split("."),e.const_set(o[0],"CONFIG",n(["ruby_version","MAJOR","MINOR","TEENY","RUBY","RUBY_INSTALL_NAME","RUBY_SO_NAME","target_os","host_os","PATH_SEPARATOR"],{ruby_version:e.const_get_relative(o,"RUBY_VERSION"),MAJOR:c["$[]"](0),MINOR:c["$[]"](1),TEENY:c["$[]"](2),RUBY:e.const_get_relative(o,"RUBY_ENGINE"),RUBY_INSTALL_NAME:e.const_get_relative(o,"RUBY_ENGINE"),RUBY_SO_NAME:e.const_get_relative(o,"RUBY_ENGINE"),target_os:"ECMA-262",host_os:"ECMA-262",PATH_SEPARATOR:":"}))}(t[0],t),e.const_set(t[0],"RUBY_EXE","bundle exec exe/opal")},Opal.modules["rspec/support"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send;return e.add_stubs(["$respond_to?","$__send__","$call","$require","$define_optimized_require_for_rspec","$require_rspec_support","$instance_method","$supports_rebinding_module_methods?","$bind","$method","$is_a?","$raise","$==="]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l,u=s=a(t,"Support"),p=(u.$$proto,[u].concat($));e.defs(u,"$define_optimized_require_for_rspec",o=function(t){var a,$,s=this,c=o.$$p,_=c||r,l=r;c&&(o.$$p=null);var u=arguments.length;return 1!==u&&e.ac(u,1,this,"define_optimized_require_for_rspec"),l="require_rspec_"+t,n(e.const_get_relative(p,"Kernel")["$respond_to?"]("require_relative"))?i(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(s),p),"__send__",["define_method",l],(a=function(n){a.$$s;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"define_optimized_require_for_rspec")}return _.$call(t+"/"+n)},a.$$s=s,a.$$arity=1,a.$$parameters=[["req","f"]],a)):i(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(s),p),"__send__",["define_method",l],($=function(a){var n=$.$$s||this;if(null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"define_optimized_require_for_rspec")}return n.$require("rspec/"+t+"/"+a)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","f"]],$))},o.$$arity=1,o.$$parameters=[["req","lib"],["block","require_relative"]]),i(u,"define_optimized_require_for_rspec",["support"],(c=function(t){var a=c.$$s||this;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<module:Support>")}return a.$require("rspec/support/../"+t)},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","f"]],c)),u.$require_rspec_support("version"),u.$require_rspec_support("ruby_features"),e.const_set(p[0],"KERNEL_METHOD_METHOD",e.const_get_qualified("::","Kernel").$instance_method("method")),n(e.const_get_relative(p,"RubyFeatures")["$supports_rebinding_module_methods?"]())?e.defs(u,"$method_handle_for",_=function(t,a){var i=this,$=r,s=r,o=arguments.length;2!==o&&e.ac(o,2,this,"method_handle_for");try{return e.const_get_relative(p,"KERNEL_METHOD_METHOD").$bind(t).$call(a)}catch(r){if(!e.rescue(r,[e.const_get_relative(p,"NameError")]))throw r;$=r;try{try{return s=t.$method(a),n(s["$is_a?"](e.const_get_relative(p,"Method")))||i.$raise($),s}catch(t){if(!e.rescue(t,[e.const_get_relative(p,"Exception")]))throw t;try{return i.$raise($)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},_.$$arity=2,_.$$parameters=[["req","object"],["req","method_name"]]):e.defs(u,"$method_handle_for",l=function(t,a){var i=this,$=r,s=r,o=arguments.length;2!==o&&e.ac(o,2,this,"method_handle_for");try{return n(e.const_get_qualified("::","Kernel")["$==="](t))?e.const_get_relative(p,"KERNEL_METHOD_METHOD").$bind(t).$call(a):t.$method(a)}catch(r){if(!e.rescue(r,[e.const_get_relative(p,"NameError")]))throw r;$=r;try{try{return s=t.$method(a),n(s["$is_a?"](e.const_get_relative(p,"Method")))||i.$raise($),s}catch(t){if(!e.rescue(t,[e.const_get_relative(p,"Exception")]))throw t;try{return i.$raise($)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},l.$$arity=2,l.$$parameters=[["req","object"],["req","method_name"]])}(c[0],c)}(t[0],t)},Opal.modules["rspec/core/shared_context"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy;return e.add_stubs(["$each","$__shared_context_recordings","$playback_onto","$new","$__send__","$method_name","$args","$to_proc","$block","$define_method","$<<","$record","$+","$instance_methods"]),function(r,s){var o,c=o=n(r,"RSpec"),_=(c.$$proto,[c].concat(s));!function(r,s){var o,c=o=n(r,"Core"),_=(c.$$proto,[c].concat(s));!function(r,s){var o,c,_,l,u,p=o=n(r,"SharedContext"),d=(p.$$proto,[p].concat(s));e.defn(p,"$included",c=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"included"),i(n.$__shared_context_recordings(),"each",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"included")}return n.$playback_onto(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","recording"]],r))},c.$$arity=1,c.$$parameters=[["req","group"]]),e.defn(p,"$__shared_context_recordings",_=function(){var t,r=this;null==r.__shared_context_recordings&&(r.__shared_context_recordings=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"__shared_context_recordings"),r.__shared_context_recordings=$(t=r.__shared_context_recordings)?t:[]},_.$$arity=0,_.$$parameters=[]),e.const_set(d[0],"Recording",i(e.const_get_relative(d,"Struct"),"new",["method_name","args","block"],(l=function(){var t,r=l.$$s||this;if(l.$$is_lambda||l.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<module:SharedContext>")}return e.def(r,"$playback_onto",t=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"playback_onto"),i(t,"__send__",[r.$method_name()].concat(e.to_a(r.$args())),r.$block().$to_proc())},t.$$arity=1,t.$$parameters=[["req","group"]]),a&&"playback_onto"},l.$$s=p,l.$$arity=0,l.$$parameters=[],l))),e.defs(p,"$record",u=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"record"),i(t,"each",[],(r=function(t){var n,$=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"record")}return i($,"define_method",[t],(n=function(){var r,i,$=n.$$s||this;(r=n.$$p||a)&&(n.$$p=null);var s=arguments.length,o=s-0;o<0&&(o=0),i=new Array(o);for(var c=0;c<s;c++)i[c-0]=arguments[c];return $.$__shared_context_recordings()["$<<"](e.const_get_relative(d,"Recording").$new(t,i,r))},n.$$s=$,n.$$arity=-1,n.$$parameters=[["rest","args"],["block","block"]],n))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","meth"]],r))},u.$$arity=1,u.$$parameters=[["req","methods"]]),p.$record(t(t(["describe","context"],e.const_get_relative(d,"Hooks").$instance_methods(!1)),e.const_get_qualified(e.const_get_relative(d,"MemoizedHelpers"),"ClassMethods").$instance_methods(!1)))}(_[0],_)}(_[0],_),e.const_set(_[0],"SharedContext",e.const_get_qualified(e.const_get_relative(_,"Core"),"SharedContext"))}(r[0],r)},Opal.modules["rspec/core"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r,a,n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.gvars),o=e.send,c=e.module,_=e.truthy,l=e.hash2,u=e.klass;return e.add_stubs(["$now","$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_core","$autoload","$extend","$new","$expose_dsl_globally=","$-","$configuration","$[]","$thread_local_metadata","$[]=","$current","$define_method","$to_proc","$method","$expand_path","$fetch","$const_get"]),s._rspec_core_load_started_at=e.const_get_relative(i,"Time").$now(),n.$require("rbconfig"),n.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(i,"RSpec"),"Support").$require_rspec_support("caller_filter"),o(e.const_get_qualified(e.const_get_relative(i,"RSpec"),"Support"),"define_optimized_require_for_rspec",["core"],(r=function(t){var a=r.$$s||this;if(null==t&&(t=$),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return a.$require("rspec/core/../"+t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","f"]],r)),o(["version","warnings","flat_map","filter_manager","dsl","notifications","reporter","hooks","memoized_helpers","metadata","metadata_filter","pending","formatters","ordering","world","configuration","option_parser","configuration_options","runner","example","shared_example_group","example_group"],"each",[],(a=function(t){a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<main>")}return e.const_get_qualified(e.const_get_relative(i,"RSpec"),"Support").$require_rspec_core(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","name"]],a)),function(r,a){var n,i,s,p,d,f,h,m,g,v=n=c(r,"RSpec"),y=(v.$$proto,[v].concat(a));v.$autoload("SharedContext","rspec/core/shared_context"),v.$extend(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Core"),"Warnings")),e.defs(v,"$reset",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.world=$,t.configuration=$},i.$$arity=0,i.$$parameters=[]),e.defs(v,"$configuration",s=function(){var r,a=this,n=$,i=$;null==a.configuration&&(a.configuration=$);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"configuration"),a.configuration=_(r=a.configuration)?r:(n=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Core"),"Configuration").$new(),i=[!0],o(n,"expose_dsl_globally=",e.to_a(i)),i[t(i.length,1)],n)},s.$$arity=0,s.$$parameters=[]),e.defs(v,"$configure",p=function(){var t=this,r=p.$$p,a=r||$;r&&(p.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configure"),a!==$?e.yield1(a,t.$configuration()):$},p.$$arity=0,p.$$parameters=[]),e.defs(v,"$current_example",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"current_example"),t.$thread_local_metadata()["$[]"]("current_example")},d.$$arity=0,d.$$parameters=[]),e.defs(v,"$current_example=",f=function(r){var a=this,n=$,i=arguments.length;return 1!==i&&e.ac(i,1,this,"current_example="),n=["current_example",r],o(a.$thread_local_metadata(),"[]=",e.to_a(n)),n[t(n.length,1)]},f.$$arity=1,f.$$parameters=[["req","example"]]),e.defs(v,"$thread_local_metadata",h=function(){var r,a=$,n=$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"thread_local_metadata"),a=e.const_get_relative(y,"Thread").$current(),_(r=a["$[]"]("_rspec"))?r:(n=["_rspec",l([],{})],o(a,"[]=",e.to_a(n)),n[t(n.length,1)])},h.$$arity=0,h.$$parameters=[]),e.defs(v,"$world",m=function(){var t,r=this;null==r.world&&(r.world=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"world"),r.world=_(t=r.world)?t:e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Core"),"World").$new()},m.$$arity=0,m.$$parameters=[]),function(t,r){var a,n,i=a=c(t,"Core"),s=(i.$$proto,[i].concat(r));!function(t,$super,r){function a(){}var n=a=u(t,$super,"Time",a),i=(n.$$proto,[n].concat(r));(function(t,r){t.$$proto,[t].concat(r);o(t,"define_method",["now"],e.const_get_qualified("::","Time").$method("now").$to_proc())})(e.get_singleton_class(n),i)}(s[0],null,s),e.defs(i,"$path_to_executable",n=function(){var t,r=this;null==r.path_to_executable&&(r.path_to_executable=$);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"path_to_executable"),r.path_to_executable=_(t=r.path_to_executable)?t:e.const_get_relative(s,"File").$expand_path("../../../exe/rspec","rspec/core")},n.$$arity=0,n.$$parameters=[])}(y[0],y),e.const_set(y[0],"MODULES_TO_AUTOLOAD",l(["Matchers","Expectations","Mocks"],{Matchers:"rspec/expectations",Expectations:"rspec/expectations",Mocks:"rspec/mocks"})),e.defs(v,"$const_missing",g=function(t){try{var r,a=this,n=g.$$p,i=$,s=$,c=$;n&&(g.$$p=null);var _=arguments.length;for(1!==_&&e.ac(_,1,this,"const_missing"),s=0,c=arguments.length,i=new Array(c);s<c;s++)i[s]=arguments[s];return a.$require(o(e.const_get_relative(y,"MODULES_TO_AUTOLOAD"),"fetch",[t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"const_missing")}e.ret(o(t,e.find_iter_super_dispatcher(t,"const_missing",r.$$def||g,!1,!0),i,n))},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))),e.const_get_qualified("::","RSpec").$const_get(t)}catch(t){if(t===e.returner)return t.$v;throw t}},g.$$arity=1,g.$$parameters=[["req","name"]])}(i[0],i)},Opal.modules["rspec/version"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Version"),$=(i.$$proto,[i].concat(a));e.const_set($[0],"STRING","3.1.0")}($[0],$)}(t[0],t)},Opal.modules.rspec=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("rspec/core"),t.$require("rspec/version")},Opal.modules["rspec/core/backport_random"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var c=(e.top,[]),_=e.nil,l=(e.breaker,e.slice,e.module),u=e.truthy,p=e.klass,d=e.send;return e.add_stubs(["$kind_of?","$__send__","$raise","$inspect","$message","$class","$coerce_to","$new","$-","$seed=","$times","$|","$&","$[]","$+","$^","$>>","$[]=","$odd?","$===","$each","$*","$max","$size","$>=","$next_state","$<<","$/","$random_32_bits","$>","$mask_32_bits","$<","$map","$pack","$each_with_index","$state_as_bignum","$left","$abs","$==","$pop","$first","$convert_seed","$private","$attr_reader","$seed_rand","$coerce_to_int","$nonzero?","$new_seed","$random_float","$<=","$_rand_range","$random_integer","$random_bytes","$is_a?","$seed","$send","$state","$marshal_dump","$allocate","$marshal_load","$end","$begin","$!","$respond_to?","$exclude_end?","$loop","$**","$rand","$include"]),function(c,f){var h,m=h=l(c,"RSpec"),g=(m.$$proto,[m].concat(f));!function(c,f){var h,m=h=l(c,"Core"),g=(m.$$proto,[m].concat(f));!function(c,f){var h,m,g,v=h=l(c,"Backports"),y=(v.$$proto,[v].concat(f));e.defs(v,"$coerce_to",m=function(t,r,a){var n=this,i=_,$=_,s=arguments.length;if(3!==s&&e.ac(s,3,this,"coerce_to"),u(t["$kind_of?"](r)))return t;try{i=t.$__send__(a)}catch(i){if(!e.rescue(i,[e.const_get_relative(y,"Exception")]))throw i;$=i;try{n.$raise(e.const_get_relative(y,"TypeError"),"Coercion error: "+t.$inspect()+"."+a+" => "+r+" failed:\n("+$.$message()+")")}finally{e.pop_exception()}}return u(i["$kind_of?"](r))||n.$raise(e.const_get_relative(y,"TypeError"),"Coercion error: obj."+a+" did NOT return a "+r+" (was "+i.$class()+")"),i},m.$$arity=3,m.$$parameters=[["req","obj"],["req","cls"],["req","meth"]]),e.defs(v,"$coerce_to_int",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"coerce_to_int"),r.$coerce_to(t,e.const_get_relative(y,"Integer"),"to_int")},g.$$arity=1,g.$$parameters=[["req","obj"]]),e.const_set(y[0],"Undefined",e.const_get_relative(y,"Object").$new()),function(c,$super,f){function h(){}var m,g=h=p(c,$super,"Random",h),v=(g.$$proto,[g].concat(f));(function(o,$super,c){function l(){}var f,h,m,g,v,y,b,x,k,q,w,E,S,M,O=l=p(o,$super,"MT19937",l),A=O.$$proto,R=[O].concat(c);A.state=A.last_read=_,e.const_set(R[0],"STATE_SIZE",624),e.const_set(R[0],"LAST_STATE",t(e.const_get_relative(R,"STATE_SIZE"),1)),e.const_set(R[0],"PAD_32_BITS",4294967295),e.defn(O,"$initialize",f=function(r){var a=this,n=_,i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),n=[r],d(a,"seed=",e.to_a(n)),n[t(n.length,1)]},f.$$arity=1,f.$$parameters=[["req","seed"]]),e.const_set(R[0],"LAST_31_BITS",2147483647),e.const_set(R[0],"OFFSET",397),e.defn(O,"$next_state",h=function(){var a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"next_state"),d(e.const_get_relative(R,"STATE_SIZE"),"times",[],(a=function(n){var i=a.$$s||this,$=_,s=_;if(null==i.state&&(i.state=_),null==n&&(n=_),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"next_state")}return $=i.state["$[]"](n)["$&"](2147483648)["$|"](i.state["$[]"](t(r(n,1),e.const_get_relative(R,"STATE_SIZE")))["$&"](2147483647)),s=[n,i.state["$[]"](t(r(n,e.const_get_relative(R,"OFFSET")),e.const_get_relative(R,"STATE_SIZE")))["$^"]($["$>>"](1))],d(i.state,"[]=",e.to_a(s)),s[t(s.length,1)],u($["$odd?"]())?(s=[n,i.state["$[]"](n)["$^"](2567483615)],d(i.state,"[]=",e.to_a(s)),s[t(s.length,1)]):_},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","i"]],a)),n.last_read=-1},h.$$arity=0,h.$$parameters=[]),e.defn(O,"$seed=",m=function(i){var $,s,o,c=this,l=_,p=_,f=_,h=_,m=arguments.length;return 1!==m&&e.ac(m,1,this,"seed="),function(){return l=i,e.const_get_relative(R,"Integer")["$==="](l)?(c.state=e.const_get_relative(R,"Array").$new(e.const_get_relative(R,"STATE_SIZE")),p=[0,i["$&"](e.const_get_relative(R,"PAD_32_BITS"))],d(c.state,"[]=",e.to_a(p)),p[t(p.length,1)],d(e.Range.$new(1,e.const_get_relative(R,"LAST_STATE"),!1),"each",[],($=function(n){var i=$.$$s||this;if(null==i.state&&(i.state=_),null==n&&(n=_),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"seed=")}return p=[n,r(a(1812433253,i.state["$[]"](t(n,1))["$^"](i.state["$[]"](t(n,1))["$>>"](30))),n)["$&"](e.const_get_relative(R,"PAD_32_BITS"))],d(i.state,"[]=",e.to_a(p)),p[t(p.length,1)]},$.$$s=c,$.$$arity=1,$.$$parameters=[["req","i"]],$)),c.last_read=e.const_get_relative(R,"LAST_STATE")):e.const_get_relative(R,"Array")["$==="](l)?(p=[19650218],d(c,"seed=",e.to_a(p)),p[t(p.length,1)],f=1,h=0,d([e.const_get_relative(R,"STATE_SIZE"),i.$size()].$max(),"times",[],(s=function(){var $=s.$$s||this;if(null==$.state&&($.state=_),s.$$is_lambda||s.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"seed=")}return p=[f,r(r($.state["$[]"](f)["$^"](a($.state["$[]"](t(f,1))["$^"]($.state["$[]"](t(f,1))["$>>"](30)),1664525)),h),i["$[]"](h))["$&"](e.const_get_relative(R,"PAD_32_BITS"))],d($.state,"[]=",e.to_a(p)),p[t(p.length,1)],u(n(f=r(f,1),e.const_get_relative(R,"STATE_SIZE")))&&(p=[0,$.state["$[]"](-1)],d($.state,"[]=",e.to_a(p)),p[t(p.length,1)],f=1),u(n(h=r(h,1),i.$size()))?h=0:_},s.$$s=c,s.$$arity=0,s.$$parameters=[],s)),d(t(e.const_get_relative(R,"STATE_SIZE"),1),"times",[],(o=function(){var i=o.$$s||this;if(null==i.state&&(i.state=_),o.$$is_lambda||o.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"seed=")}return p=[f,t(i.state["$[]"](f)["$^"](a(i.state["$[]"](t(f,1))["$^"](i.state["$[]"](t(f,1))["$>>"](30)),1566083941)),f)["$&"](e.const_get_relative(R,"PAD_32_BITS"))],d(i.state,"[]=",e.to_a(p)),p[t(p.length,1)],u(n(f=r(f,1),e.const_get_relative(R,"STATE_SIZE")))?(p=[0,i.state["$[]"](-1)],d(i.state,"[]=",e.to_a(p)),p[t(p.length,1)],f=1):_},o.$$s=c,o.$$arity=0,o.$$parameters=[],o)),p=[0,2147483648],d(c.state,"[]=",e.to_a(p)),p[t(p.length,1)]):c.$raise(e.const_get_relative(R,"ArgumentError"),"Seed must be an Integer or an Array")}()},m.$$arity=1,m.$$parameters=[["req","seed"]]),e.defn(O,"$random_32_bits",g=function(){var t=this,a=_,i=arguments.length;return 0!==i&&e.ac(i,0,this,"random_32_bits"),u(n(t.last_read,e.const_get_relative(R,"LAST_STATE")))&&t.$next_state(),t.last_read=r(t.last_read,1),a=t.state["$[]"](t.last_read),a=a["$^"](a["$>>"](11)),a=a["$^"](a["$<<"](7)["$&"](2636928640)),a=a["$^"](a["$<<"](15)["$&"](4022730752)),a=a["$^"](a["$>>"](18))},g.$$arity=0,g.$$parameters=[]),e.const_set(R[0],"FLOAT_FACTOR",i(1,9007199254740992)),e.defn(O,"$random_float",v=function(){var t=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"random_float"),a(r(a(t.$random_32_bits()["$>>"](5),67108864),t.$random_32_bits()["$>>"](6)),e.const_get_relative(R,"FLOAT_FACTOR"))},v.$$arity=0,v.$$parameters=[]),e.defn(O,"$random_integer",y=function(a){var n,i=this,o=_,c=_,l=_,p=_,f=arguments.length;for(1!==f&&e.ac(f,1,this,"random_integer"),o=t(a,1),c=0;u($(o,e.const_get_relative(R,"PAD_32_BITS")));)o=o["$>>"](32),c=r(c,1);for(l=i.$mask_32_bits(o);!u(s(p,a));)p=i.$random_32_bits()["$&"](l),d(c,"times",[],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"random_integer")}return p=p["$<<"](32),p=p["$|"](t.$random_32_bits())},n.$$s=i,n.$$arity=0,n.$$parameters=[],n));return p},y.$$arity=1,y.$$parameters=[["req","upto"]]),e.defn(O,"$random_bytes",b=function(t){var n,$=this,s=_,o=_,c=arguments.length;return 1!==c&&e.ac(c,1,this,"random_bytes"),s=i(r(t,3),4),o=d(s.$times(),"map",[],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"random_bytes")}return t.$random_32_bits()},n.$$s=$,n.$$arity=0,n.$$parameters=[],n)),o.$pack(a("L",s))["$[]"](0,t)},b.$$arity=1,b.$$parameters=[["req","nb"]]),e.defn(O,"$state_as_bignum",x=function(){var t,r=this,n=_,i=arguments.length;return 0!==i&&e.ac(i,0,this,"state_as_bignum"),n=0,d(r.state,"each_with_index",[],(t=function(r,i){t.$$s;if(null==r&&(r=_),null==i&&(i=_),t.$$is_lambda||t.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"state_as_bignum")}return n=n["$|"](r["$<<"](a(32,i)))},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","val"],["req","i"]],t)),n},x.$$arity=0,x.$$parameters=[]),e.defn(O,"$left",k=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"left"),t(e.const_get_qualified(e.const_get_relative(R,"MT19937"),"STATE_SIZE"),r.last_read)},k.$$arity=0,k.$$parameters=[]),e.defn(O,"$marshal_dump",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"marshal_dump"),[t.$state_as_bignum(),t.$left()]},q.$$arity=0,q.$$parameters=[]),e.defn(O,"$marshal_load",w=function(r){var a,n,i,$=this,s=_,o=_,c=arguments.length;return 1!==c&&e.ac(c,1,this,"marshal_load"),n=r,a=e.to_ary(n),s=null==a[0]?_:a[0],o=null==a[1]?_:a[1],$.last_read=t(e.const_get_qualified(e.const_get_relative(R,"MT19937"),"STATE_SIZE"),o),$.state=e.const_get_relative(R,"Array").$new(e.const_get_relative(R,"STATE_SIZE")),d(e.const_get_relative(R,"STATE_SIZE"),"times",[],(i=function(r){var a=i.$$s||this,n=_;if(null==a.state&&(a.state=_),null==r&&(r=_),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"marshal_load")}return n=[r,s["$&"](e.const_get_relative(R,"PAD_32_BITS"))],d(a.state,"[]=",e.to_a(n)),n[t(n.length,1)],s=s["$>>"](32)},i.$$s=$,i.$$arity=1,i.$$parameters=[["req","i"]],i))},w.$$arity=1,w.$$parameters=[["req","ary"]]),e.defs(O,"$convert_seed",E=function(t){var r=_,a=arguments.length;for(1!==a&&e.ac(a,1,this,"convert_seed"),t=t.$abs(),r=[];!t["$=="](0);)r["$<<"](t["$&"](e.const_get_relative(R,"PAD_32_BITS"))),t=t["$>>"](32);return u(r["$[]"](-1)["$=="](1)?$(r.$size(),1):r["$[]"](-1)["$=="](1))&&r.$pop(),u($(r.$size(),1))?r:r.$first()},E.$$arity=1,E.$$parameters=[["req","seed"]]),e.defs(O,"$[]",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.$new(r.$convert_seed(t))},S.$$arity=1,S.$$parameters=[["req","seed"]]),O.$private(),e.const_set(R[0],"MASK_BY",[1,2,4,8,16]),e.defn(O,"$mask_32_bits",M=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"mask_32_bits"),d(e.const_get_relative(R,"MASK_BY"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=_),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"mask_32_bits")}return t=t["$|"](t["$>>"](a))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","shift"]],r)),t},M.$$arity=1,M.$$parameters=[["req","n"]])})(v[0],null,v),function(n,i){var c,p,f,h,m,g,v,y,b,x,k,q=c=l(n,"Implementation"),w=(q.$$proto,[q].concat(i));q.$attr_reader("seed"),e.defn(q,"$initialize",p=function(t){var r=this,a=p.$$p;null==t&&(t=0),a&&(p.$$p=null);var n=arguments.length;return n>1&&e.ac(n,-1,this,"initialize"),d(r,e.find_super_dispatcher(r,"initialize",p,!1),[],null),r.$seed_rand(t)},p.$$arity=-1,p.$$parameters=[["opt","seed"]]),e.defn(q,"$seed_rand",f=function(t){var r,a,n,i=this,$=_;null==i.seed&&(i.seed=_),null==t&&(t=0);var s=arguments.length;return s>1&&e.ac(s,-1,this,"seed_rand"),t=e.const_get_relative(w,"Backports").$coerce_to_int(t),u(null!=(r=i.seed)&&r!==_?"instance-variable":_)||(i.seed=_),a=[i.seed,u(n=t["$nonzero?"]())?n:e.const_get_relative(w,"Random").$new_seed()],$=a[0],i.seed=a[1],i.mt=e.const_get_relative(w,"MT19937")["$[]"](i.seed),$},f.$$arity=-1,f.$$parameters=[["opt","new_seed"]]),e.defn(q,"$rand",h=function(t){var r,n=this,i=_;null==n.mt&&(n.mt=_),null==t&&(t=e.const_get_qualified(e.const_get_relative(w,"Backports"),"Undefined"));var $=arguments.length;return $>1&&e.ac($,-1,this,"rand"),u(r=function(){return i=t,e.const_get_qualified(e.const_get_relative(w,"Backports"),"Undefined")["$==="](i)?n.mt.$random_float():e.const_get_relative(w,"Float")["$==="](i)?u(o(t,0))?_:a(t,n.mt.$random_float()):e.const_get_relative(w,"Range")["$==="](i)?n.$_rand_range(t):(t=e.const_get_relative(w,"Backports").$coerce_to_int(t),u(o(t,0))?_:n.mt.$random_integer(t))}())?r:n.$raise(e.const_get_relative(w,"ArgumentError"),"invalid argument "+t)},h.$$arity=-1,h.$$parameters=[["opt","limit"]]),e.defn(q,"$bytes",m=function(t){var r=this;null==r.mt&&(r.mt=_);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"bytes"),t=e.const_get_relative(w,"Backports").$coerce_to_int(t),u(s(t,0))&&r.$raise(e.const_get_relative(w,"ArgumentError"),"negative size"),r.mt.$random_bytes(t)},m.$$arity=1,m.$$parameters=[["req","nb"]]),e.defn(q,"$==",g=function(t){var r,a,n,i=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"=="),u(r=u(a=u(n=t["$is_a?"](e.const_get_relative(w,"Random")))?i.$seed()["$=="](t.$seed()):n)?i.$left()["$=="](t.$send("left")):a)?i.$state()["$=="](t.$send("state")):r},g.$$arity=1,g.$$parameters=[["req","other"]]),e.defn(q,"$marshal_dump",v=function(){var t=this;null==t.mt&&(t.mt=_),null==t.seed&&(t.seed=_);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"marshal_dump"),t.mt.$marshal_dump()["$<<"](t.seed)},v.$$arity=0,v.$$parameters=[]),e.defn(q,"$marshal_load",y=function(t){var r=this;null==r.mt&&(r.mt=_);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"marshal_load"),r.seed=t.$pop(),r.mt=e.const_get_relative(w,"MT19937").$allocate(),r.mt.$marshal_load(t)},y.$$arity=1,y.$$parameters=[["req","ary"]]),q.$private(),e.defn(q,"$state",b=function(){var t=this;null==t.mt&&(t.mt=_);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"state"),t.mt.$state_as_bignum()},b.$$arity=0,b.$$parameters=[]),e.defn(q,"$left",x=function(){var t=this;null==t.mt&&(t.mt=_);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"left"),t.mt.$left()},x.$$arity=0,x.$$parameters=[]),e.defn(q,"$_rand_range",k=function(n){var i,c,l,p=this,f=_;null==p.mt&&(p.mt=_);var h=arguments.length;return 1!==h&&e.ac(h,1,this,"_rand_range"),f=t(n.$end(),n.$begin()),u(u(i=u(c=f["$is_a?"](e.const_get_relative(w,"Float"))["$!"]())?f["$respond_to?"]("to_int"):c)?f=e.const_get_relative(w,"Backports").$coerce_to_int(f):i)?(u(n["$exclude_end?"]())||(f=r(f,1)),u(o(f,0))?_:r(n.$begin(),p.mt.$random_integer(f))):u(f=e.const_get_relative(w,"Backports").$coerce_to(f,e.const_get_relative(w,"Float"),"to_f"))?u(s(f,0))?_:u(n["$exclude_end?"]())?u(o(f,0))?_:r(n.$begin(),a(p.mt.$random_float(),f)):function(){var t=e.new_brk();try{return d(p,"loop",[],(l=function(){var i=l.$$s||this,s=_;if(null==i.mt&&(i.mt=_),l.$$is_lambda||l.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"_rand_range")}if(s=a(a(i.mt.$random_float(),f),1.0001),u($(s,f)))return _;e.brk(r(n.$begin(),s),t)},l.$$s=p,l.$$brk=t,l.$$arity=0,l.$$parameters=[],l))}catch(e){if(e===t)return e.$v;throw e}}():_},k.$$arity=1,k.$$parameters=[["req","limit"]])}(v[0],v),e.defs(g,"$new_seed",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_seed"),r(2["$**"](62),e.const_get_relative(v,"Kernel").$rand(2["$**"](62)))},m.$$arity=0,m.$$parameters=[])}(y[0],null,y),function(t,$super,r){function a(){}var n=a=p(t,$super,"Random",a),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"Implementation")),function(t,r){var a=(t.$$proto,[t].concat(r));t.$include(e.const_get_relative(a,"Implementation"))}(e.get_singleton_class(n),i)}(y[0],null,y)}(g[0],g)}(g[0],g)}(c[0],c)},
Opal.modules["rspec/core/backtrace_formatter"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$attr_accessor","$==","$<<","$map!","$new","$gsub","$union","$matches?","$join","$getwd","$inclusion_patterns","$attr_writer","$empty?","$exclusion_patterns","$[]","$tap","$compact","$map","$backtrace_line","$concat","$exclude?","$relative_path","$!","$private","$any?","$=~"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Core"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p,d,f,h=o=n(t,$super,"BacktraceFormatter",o),m=h.$$proto,g=[h].concat(a);m.exclusion_patterns=m.full_backtrace=r,h.$attr_accessor("exclusion_patterns","inclusion_patterns"),e.defn(h,"$initialize",c=function(){var t,a=this,n=r,s=arguments.length;return 0!==s&&e.ac(s,0,this,"initialize"),a.full_backtrace=!1,n=["/lib\\d*/ruby/","bin/","exe/rspec"],e.const_get_relative(g,"RUBY_PLATFORM")["$=="]("java")&&n["$<<"]("org/jruby/"),i(n,"map!",[],(t=function(a){t.$$s;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"initialize")}return e.const_get_relative(g,"Regexp").$new(a.$gsub("/",e.const_get_qualified(e.const_get_relative(g,"File"),"SEPARATOR")))},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","s"]],t)),a.exclusion_patterns=[i(e.const_get_relative(g,"Regexp"),"union",[e.const_get_qualified(e.const_get_qualified(e.const_get_relative(g,"RSpec"),"CallerFilter"),"IGNORE_REGEX")].concat(e.to_a(n)))],a.inclusion_patterns=[],$(a["$matches?"](a.exclusion_patterns,e.const_get_relative(g,"File").$join(e.const_get_relative(g,"Dir").$getwd(),"lib","foo.rb:13")))?a.$inclusion_patterns()["$<<"](e.const_get_relative(g,"Regexp").$new(e.const_get_relative(g,"Dir").$getwd())):r},c.$$arity=0,c.$$parameters=[]),h.$attr_writer("full_backtrace"),e.defn(h,"$full_backtrace?",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"full_backtrace?"),$(t=r.full_backtrace)?t:r.$exclusion_patterns()["$empty?"]()},_.$$arity=0,_.$$parameters=[]),e.defn(h,"$filter_gem",l=function(t){var a=this,n=r,i=arguments.length;return 1!==i&&e.ac(i,1,this,"filter_gem"),n=e.const_get_qualified(e.const_get_relative(g,"File"),"SEPARATOR"),a.$exclusion_patterns()["$<<"](new RegExp(""+n+t+"(-[^"+n+"]+)?"+n))},l.$$arity=1,l.$$parameters=[["req","gem_name"]]),e.defn(h,"$format_backtrace",u=function(t,a){var n,o,c=this;null==a&&(a=s([],{}));var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"format_backtrace"),$(a["$[]"]("full_backtrace"))?t:i(i(t,"map",[],(n=function(t){var a=n.$$s||this;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"format_backtrace")}return a.$backtrace_line(t)},n.$$s=c,n.$$arity=1,n.$$parameters=[["req","l"]],n)).$compact(),"tap",[],(o=function(a){o.$$s;if(null==a&&(a=r),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"format_backtrace")}return $(a["$empty?"]())?(a.$concat(t),a["$<<"](""),a["$<<"]("  Showing full backtrace because every line was filtered out."),a["$<<"]("  See docs for RSpec::Configuration#backtrace_exclusion_patterns and"),a["$<<"]("  RSpec::Configuration#backtrace_inclusion_patterns for more information.")):r},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","filtered"]],o))},u.$$arity=-2,u.$$parameters=[["req","backtrace"],["opt","options"]]),e.defn(h,"$backtrace_line",p=function(t){var a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"backtrace_line");try{return $(a["$exclude?"](t))?r:e.const_get_relative(g,"Metadata").$relative_path(t)}catch(t){if(!e.rescue(t,[e.const_get_relative(g,"SecurityError")]))throw t;try{return r}finally{e.pop_exception()}}},p.$$arity=1,p.$$parameters=[["req","line"]]),e.defn(h,"$exclude?",d=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"exclude?"),!$(a.full_backtrace)&&($(r=a["$matches?"](a.$exclusion_patterns(),t))?a["$matches?"](a.$inclusion_patterns(),t)["$!"]():r)},d.$$arity=1,d.$$parameters=[["req","line"]]),h.$private(),e.defn(h,"$matches?",f=function(t,a){var n,$=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"matches?"),i(t,"any?",[],(n=function(t){n.$$s;if(null==t&&(t=r),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"matches?")}return a["$=~"](t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","p"]],n))},f.$$arity=2,f.$$parameters=[["req","patterns"],["req","line"]])}(l[0],null,l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/matchers"]=function(e){var t,r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send),s=e.module,o=e.truthy,c=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_matchers","$lambda","$gsub","$split_words","$fetch","$define_method","$__send__","$to_proc","$new","$alias_matcher","$empty?","$equal","$be_a_kind_of","$alias_method","$contain_exactly","$sub","$configuration","$private","$to_s","$===","$respond_to?","$register_matcher_definition","$is_a_matcher?"]),a.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("matcher_definition"),$(e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support"),"define_optimized_require_for_rspec",["matchers"],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return a.$require("rspec/matchers/../"+r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","f"]],t)),$(["pretty","composable","built_in","generated_descriptions","dsl","matcher_delegator","aliased_matcher"],"each",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<main>")}return e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_matchers(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","file"]],r)),function(t,r){var a,n=a=s(t,"RSpec"),_=(n.$$proto,[n].concat(r));!function(t,r){var a,n,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J=a=s(t,"Matchers"),Q=(J.$$proto,[J].concat(r));e.defs(J,"$alias_matcher",n=function(t,r,a){var s,_,l,u,p=this,d=n.$$p,f=d||i,h=i;null==a&&(a=c([],{})),d&&(n.$$p=null);var m=arguments.length;return(m<2||m>3)&&e.ac(m,-3,this,"alias_matcher"),f=o(s=f)?s:$(p,"lambda",[],(_=function(a){_.$$s;if(null==a&&(a=i),_.$$is_lambda||_.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"alias_matcher")}return a.$gsub(e.const_get_relative(Q,"Pretty").$split_words(r),e.const_get_relative(Q,"Pretty").$split_words(t))},_.$$s=p,_.$$arity=1,_.$$parameters=[["req","old_desc"]],_)),h=$(a,"fetch",["klass"],(l=function(){l.$$s;if(l.$$is_lambda||l.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"alias_matcher")}return e.const_get_relative(Q,"AliasedMatcher")},l.$$s=p,l.$$arity=0,l.$$parameters=[],l)),$(p,"define_method",[t],(u=function(){var t,a,n=u.$$s||this,s=i;(t=u.$$p||i)&&(u.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),a=new Array(c);for(var _=0;_<o;_++)a[_-0]=arguments[_];return s=$(n,"__send__",[r].concat(e.to_a(a)),t.$to_proc()),h.$new(s,f)},u.$$s=p,u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]],u))},n.$$arity=-3,n.$$parameters=[["req","new_name"],["req","old_name"],["opt","options"],["block","description_override"]]),e.defs(J,"$define_negated_matcher",_=function(t,r){var a=this,n=_.$$p,s=n||i;n&&(_.$$p=null);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"define_negated_matcher"),$(a,"alias_matcher",[t,r,c(["klass"],{klass:e.const_get_relative(Q,"AliasedNegatedMatcher")})],s.$to_proc())},_.$$arity=2,_.$$parameters=[["req","negated_name"],["req","base_name"],["block","description_override"]]),e.defn(J,"$be_truthy",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_truthy"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeTruthy").$new()},l.$$arity=0,l.$$parameters=[]),J.$alias_matcher("a_truthy_value","be_truthy"),e.defn(J,"$be_falsey",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_falsey"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeFalsey").$new()},u.$$arity=0,u.$$parameters=[]),J.$alias_matcher("be_falsy","be_falsey"),J.$alias_matcher("a_falsey_value","be_falsey"),J.$alias_matcher("a_falsy_value","be_falsey"),e.defn(J,"$be_nil",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"be_nil"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeNil").$new()},p.$$arity=0,p.$$parameters=[]),J.$alias_matcher("a_nil_value","be_nil"),e.defn(J,"$be",d=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return o(t["$empty?"]())?e.const_get_qualified(e.const_get_qualified(e.const_get_relative(Q,"Matchers"),"BuiltIn"),"Be").$new():$(r,"equal",e.to_a(t))},d.$$arity=-1,d.$$parameters=[["rest","args"]]),J.$alias_matcher("a_value","be",c(["klass"],{klass:e.const_get_relative(Q,"AliasedMatcherWithOperatorSupport")})),e.defn(J,"$be_a",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"be_a"),r.$be_a_kind_of(t)},f.$$arity=1,f.$$parameters=[["req","klass"]]),J.$alias_method("be_an","be_a"),e.defn(J,"$be_an_instance_of",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_an_instance_of"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeAnInstanceOf").$new(t)},h.$$arity=1,h.$$parameters=[["req","expected"]]),J.$alias_method("be_instance_of","be_an_instance_of"),J.$alias_matcher("an_instance_of","be_an_instance_of"),e.defn(J,"$be_a_kind_of",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_a_kind_of"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeAKindOf").$new(t)},m.$$arity=1,m.$$parameters=[["req","expected"]]),J.$alias_method("be_kind_of","be_a_kind_of"),J.$alias_matcher("a_kind_of","be_a_kind_of"),e.defn(J,"$be_between",g=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"be_between"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeBetween").$new(t,r)},g.$$arity=2,g.$$parameters=[["req","min"],["req","max"]]),J.$alias_matcher("a_value_between","be_between"),e.defn(J,"$be_within",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"be_within"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BeWithin").$new(t)},v.$$arity=1,v.$$parameters=[["req","delta"]]),J.$alias_matcher("a_value_within","be_within"),J.$alias_matcher("within","be_within"),e.defn(J,"$change",y=function(t,r){var a=y.$$p,n=a||i;null==t&&(t=i),null==r&&(r=i),a&&(y.$$p=null);var s=arguments.length;return s>2&&e.ac(s,-1,this,"change"),$(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Change"),"new",[t,r],n.$to_proc())},y.$$arity=-1,y.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),J.$alias_matcher("a_block_changing","change"),J.$alias_matcher("changing","change"),e.defn(J,"$contain_exactly",b=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"ContainExactly").$new(t)},b.$$arity=-1,b.$$parameters=[["rest","items"]]),J.$alias_matcher("a_collection_containing_exactly","contain_exactly"),J.$alias_matcher("containing_exactly","contain_exactly"),e.defn(J,"$cover",x=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Cover"),"new",e.to_a(t))},x.$$arity=-1,x.$$parameters=[["rest","values"]]),J.$alias_matcher("a_range_covering","cover"),J.$alias_matcher("covering","cover"),e.defn(J,"$end_with",k=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"EndWith"),"new",e.to_a(t))},k.$$arity=-1,k.$$parameters=[["rest","expected"]]),J.$alias_matcher("a_collection_ending_with","end_with"),J.$alias_matcher("a_string_ending_with","end_with"),J.$alias_matcher("ending_with","end_with"),e.defn(J,"$eq",q=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"eq"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Eq").$new(t)},q.$$arity=1,q.$$parameters=[["req","expected"]]),J.$alias_matcher("an_object_eq_to","eq"),J.$alias_matcher("eq_to","eq"),e.defn(J,"$eql",w=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"eql"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Eql").$new(t)},w.$$arity=1,w.$$parameters=[["req","expected"]]),J.$alias_matcher("an_object_eql_to","eql"),J.$alias_matcher("eql_to","eql"),e.defn(J,"$equal",E=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"equal"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Equal").$new(t)},E.$$arity=1,E.$$parameters=[["req","expected"]]),J.$alias_matcher("an_object_equal_to","equal"),J.$alias_matcher("equal_to","equal"),e.defn(J,"$exist",S=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Exist"),"new",e.to_a(t))},S.$$arity=-1,S.$$parameters=[["rest","args"]]),J.$alias_matcher("an_object_existing","exist"),J.$alias_matcher("existing","exist"),e.defn(J,"$have_attributes",M=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"have_attributes"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"HaveAttributes").$new(t)},M.$$arity=1,M.$$parameters=[["req","expected"]]),J.$alias_matcher("an_object_having_attributes","have_attributes"),e.defn(J,"$include",O=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Include"),"new",e.to_a(t))},O.$$arity=-1,O.$$parameters=[["rest","expected"]]),J.$alias_matcher("a_collection_including","include"),J.$alias_matcher("a_string_including","include"),J.$alias_matcher("a_hash_including","include"),J.$alias_matcher("including","include"),e.defn(J,"$all",A=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"all"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"All").$new(t)},A.$$arity=1,A.$$parameters=[["req","expected"]]),e.defn(J,"$match",R=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"match"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Match").$new(t)},R.$$arity=1,R.$$parameters=[["req","expected"]]),J.$alias_matcher("match_regex","match"),J.$alias_matcher("an_object_matching","match"),J.$alias_matcher("a_string_matching","match"),J.$alias_matcher("matching","match"),e.defn(J,"$match_array",z=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"match_array"),$(r,"contain_exactly",e.to_a(t))},z.$$arity=1,z.$$parameters=[["req","items"]]),e.defn(J,"$output",j=function(t){null==t&&(t=i);var r=arguments.length;return r>1&&e.ac(r,-1,this,"output"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Output").$new(t)},j.$$arity=-1,j.$$parameters=[["opt","expected"]]),J.$alias_matcher("a_block_outputting","output"),e.defn(J,"$raise_error",T=function(t,r){var a=T.$$p,n=a||i;null==t&&(t=e.const_get_relative(Q,"Exception")),null==r&&(r=i),a&&(T.$$p=null);var s=arguments.length;return s>2&&e.ac(s,-1,this,"raise_error"),$(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"RaiseError"),"new",[t,r],n.$to_proc())},T.$$arity=-1,T.$$parameters=[["opt","error"],["opt","message"],["block","block"]]),J.$alias_method("raise_exception","raise_error"),$(J,"alias_matcher",["a_block_raising","raise_error"],(I=function(t){I.$$s;if(null==t&&(t=i),I.$$is_lambda||I.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("raise","a block raising")},I.$$s=J,I.$$arity=1,I.$$parameters=[["req","desc"]],I)),$(J,"alias_matcher",["raising","raise_error"],(C=function(t){C.$$s;if(null==t&&(t=i),C.$$is_lambda||C.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("raise","raising")},C.$$s=J,C.$$arity=1,C.$$parameters=[["req","desc"]],C)),e.defn(J,"$respond_to",P=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"RespondTo"),"new",e.to_a(t))},P.$$arity=-1,P.$$parameters=[["rest","names"]]),J.$alias_matcher("an_object_responding_to","respond_to"),J.$alias_matcher("responding_to","respond_to"),e.defn(J,"$satisfy",N=function(){var t=N.$$p,r=t||i;t&&(N.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"satisfy"),$(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Satisfy"),"new",[],r.$to_proc())},N.$$arity=0,N.$$parameters=[["block","block"]]),J.$alias_matcher("an_object_satisfying","satisfy"),J.$alias_matcher("satisfying","satisfy"),e.defn(J,"$start_with",F=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"StartWith"),"new",e.to_a(t))},F.$$arity=-1,F.$$parameters=[["rest","expected"]]),J.$alias_matcher("a_collection_starting_with","start_with"),J.$alias_matcher("a_string_starting_with","start_with"),J.$alias_matcher("starting_with","start_with"),e.defn(J,"$throw_symbol",B=function(t,r){null==t&&(t=i),null==r&&(r=i);var a=arguments.length;return a>2&&e.ac(a,-1,this,"throw_symbol"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"ThrowSymbol").$new(t,r)},B.$$arity=-1,B.$$parameters=[["opt","expected_symbol"],["opt","expected_arg"]]),$(J,"alias_matcher",["a_block_throwing","throw_symbol"],(D=function(t){D.$$s;if(null==t&&(t=i),D.$$is_lambda||D.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("throw","a block throwing")},D.$$s=J,D.$$arity=1,D.$$parameters=[["req","desc"]],D)),$(J,"alias_matcher",["throwing","throw_symbol"],(H=function(t){H.$$s;if(null==t&&(t=i),H.$$is_lambda||H.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:Matchers>")}return t.$sub("throw","throwing")},H.$$s=J,H.$$arity=1,H.$$parameters=[["req","desc"]],H)),e.defn(J,"$yield_control",L=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"yield_control"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"YieldControl").$new()},L.$$arity=0,L.$$parameters=[]),J.$alias_matcher("a_block_yielding_control","yield_control"),J.$alias_matcher("yielding_control","yield_control"),e.defn(J,"$yield_with_no_args",U=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"yield_with_no_args"),e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"YieldWithNoArgs").$new()},U.$$arity=0,U.$$parameters=[]),J.$alias_matcher("a_block_yielding_with_no_args","yield_with_no_args"),J.$alias_matcher("yielding_with_no_args","yield_with_no_args"),e.defn(J,"$yield_with_args",G=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"YieldWithArgs"),"new",e.to_a(t))},G.$$arity=-1,G.$$parameters=[["rest","args"]]),J.$alias_matcher("a_block_yielding_with_args","yield_with_args"),J.$alias_matcher("yielding_with_args","yield_with_args"),e.defn(J,"$yield_successive_args",Y=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return $(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"YieldSuccessiveArgs"),"new",e.to_a(t))},Y.$$arity=-1,Y.$$parameters=[["rest","args"]]),J.$alias_matcher("a_block_yielding_successive_args","yield_successive_args"),J.$alias_matcher("yielding_successive_args","yield_successive_args"),e.defs(J,"$configuration",V=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"configuration"),e.const_get_relative(Q,"Expectations").$configuration()},V.$$arity=0,V.$$parameters=[]),J.$private(),e.const_set(Q[0],"BE_PREDICATE_REGEX",/^(be_(?:an?_)?)(.*)/),e.const_set(Q[0],"HAS_REGEX",/^(?:have_)(.*)/),e.defn(J,"$method_missing",X=function(t){var r,a=this,n=X.$$p,s=n||i,o=i,c=i,_=i,l=i,u=arguments.length,p=u-1;p<0&&(p=0),r=new Array(p);for(var d=1;d<u;d++)r[d-1]=arguments[d];n&&(X.$$p=null);var f=arguments.length;for(f<1&&e.ac(f,-2,this,"method_missing"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return function(){return o=t.$to_s(),e.const_get_relative(Q,"BE_PREDICATE_REGEX")["$==="](o)?$(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"BePredicate"),"new",[t].concat(e.to_a(r)),s.$to_proc()):e.const_get_relative(Q,"HAS_REGEX")["$==="](o)?$(e.const_get_qualified(e.const_get_relative(Q,"BuiltIn"),"Has"),"new",[t].concat(e.to_a(r)),s.$to_proc()):$(a,e.find_super_dispatcher(a,"method_missing",X,!1),c,n)}()},X.$$arity=-2,X.$$parameters=[["req","method"],["rest","args"],["block","block"]]),e.defs(J,"$is_a_matcher?",K=function(t){var r,a=arguments.length;if(1!==a&&e.ac(a,1,this,"is_a_matcher?"),o(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"BuiltIn"),"BaseMatcher")["$==="](t)))return!0;try{if(o(t["$respond_to?"]("i_respond_to_everything_so_im_not_really_a_matcher")))return!1}catch(t){if(!e.rescue(t,[e.const_get_relative(Q,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}return!!o(t["$respond_to?"]("matches?"))&&(o(r=t["$respond_to?"]("failure_message"))?r:t["$respond_to?"]("failure_message_for_should"))},K.$$arity=1,K.$$parameters=[["req","obj"]]),$(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Support"),"register_matcher_definition",[],(W=function(t){var r=W.$$s||this;if(null==t&&(t=i),W.$$is_lambda||W.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<module:Matchers>")}return r["$is_a_matcher?"](t)},W.$$s=J,W.$$arity=1,W.$$parameters=[["req","obj"]],W)),e.defs(J,"$is_a_describable_matcher?",Z=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"is_a_describable_matcher?"),o(r=a["$is_a_matcher?"](t))?t["$respond_to?"]("description"):r},Z.$$arity=1,Z.$$parameters=[["req","obj"]])}(_[0],_)}(n[0],n)},Opal.modules["rspec/expectations"]=function(e){var t,r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send),s=e.module;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_expectations","$new"]),a.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("caller_filter"),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("warnings"),a.$require("rspec/matchers"),$(e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support"),"define_optimized_require_for_rspec",["expectations"],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return a.$require("rspec/expectations/../"+r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","f"]],t)),$(["expectation_target","configuration","fail_with","handler","version"],"each",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<main>")}return e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_expectations(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","file"]],r)),function(t,r){var a,n=a=s(t,"RSpec"),i=(n.$$proto,[n].concat(r));!function(t,r){var a,n=a=s(t,"Expectations"),i=(n.$$proto,[n].concat(r));e.const_set(i[0],"ExpectationNotMetError",e.const_get_relative(i,"Class").$new(e.const_get_qualified("::","Exception")))}(i[0],i)}(n[0],n)},Opal.modules["test/unit/assertions"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.minitest=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["minitest/assertions"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["minitest/unit"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["rspec/core/minitest_assertions_adapter"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy;e.add_stubs(["$require","$include","$attr_writer"]);try{t.$require("minitest"),t.$require("minitest/assertions")}catch(a){if(!e.rescue(a,[e.const_get_relative(r,"LoadError")]))throw a;try{t.$require("minitest/unit"),e.const_set(r[0],"Minitest",e.const_get_relative(r,"MiniTest"))}finally{e.pop_exception()}}return function(t,r){var $,s=$=n(t,"RSpec"),o=(s.$$proto,[s].concat(r));!function(t,r){var $,s=$=n(t,"Core"),o=(s.$$proto,[s].concat(r));!function(t,r){var $,s,o=$=n(t,"MinitestAssertionsAdapter");o.$$proto,[o].concat(r);o.$include(e.const_get_qualified(e.const_get_qualified("::","Minitest"),"Assertions")),o.$attr_writer("assertions"),e.defn(o,"$assertions",s=function(){var t,r=this;null==r.assertions&&(r.assertions=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"assertions"),r.assertions=i(t=r.assertions)?t:0},s.$$arity=0,s.$$parameters=[])}(o[0],o)}(o[0],o)}(r[0],r)},Opal.modules["rspec/core/test_unit_assertions_adapter"]=function(e){var t=e.top,r=[],a=(e.nil,e.breaker,e.slice,e.module),n=e.truthy;return e.add_stubs(["$require","$include","$include?","$ancestors"]),t.$require("test/unit/assertions"),function(t,r){var i,$=i=a(t,"RSpec"),s=($.$$proto,[$].concat(r));!function(t,r){var i,$=i=a(t,"Core"),s=($.$$proto,[$].concat(r));!function(t,r){var i,$=i=a(t,"TestUnitAssertionsAdapter"),s=($.$$proto,[$].concat(r));$.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","Test"),"Unit"),"Assertions"));try{n($.$ancestors()["$include?"](e.const_get_qualified(e.const_get_qualified("::","Minitest"),"Assertions")))&&($.$require("rspec/core/minitest_assertions_adapter"),$.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"MinitestAssertionsAdapter")))}catch(t){if(!e.rescue(t,[e.const_get_relative(s,"NameError")]))throw t;e.pop_exception()}}(s[0],s)}(s[0],s)}(r[0],r)},Opal.modules["rspec/core/configuration"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var $=(e.top,[]),s=e.nil,o=(e.breaker,e.slice,e.module),c=e.klass,_=e.send,l=e.truthy,u=e.hash2,p=e.gvars,d=e.range;return e.add_stubs(["$require_rspec_core","$include","$define_method","$instance_variable_defined?","$instance_variable_get","$value_for","$alias_method","$define_predicate_for","$each","$key?","$raise","$attr_writer","$add_read_only_setting","$Array","$[]","$define_aliases","$define_reader","$add_setting","$exposed_globally?","$expose_globally!","$remove_globally!","$!","$equal?","$warn","$inspect","$deprecation_stream","$first_non_rspec_line","$output_stream","$update_pattern_attr","$deprecate","$attr_accessor","$attr_reader","$now","$new","$force","$ordering_manager","$merge!","$delete","$class_exec","$__send__","$nil?","$mock_with","$exclusion_patterns","$exclusion_patterns=","$-","$inclusion_patterns","$inclusion_patterns=","$filter_gem","$is_a?","$fetch","$keys","$downcase","$to_s","$const_get","$map","$respond_to?","$framework_name","$==","$assert_no_example_groups_defined","$configuration","$empty?","$expect_with","$===","$require","$expecting_with_rspec=","$any?","$>","$length","$first","$push","$full_backtrace?","$full_backtrace=","$output_to_tty?","$color","$windows_os?","$world","$warning","$unshift","$filter_run","$union","$filter","$<<","$add","$formatter_loader","$default_formatter","$default_formatter=","$dup","$formatters","$deprecation","$setup_default","$play_onto","$reporter","$flatten","$command","$running_in_drb?","$default_path","$get_files_to_run","$build_hash_from","$define_example_method","$define_example_group_method","$define_nested_shared_group_method","$include_with_low_priority","$filter_manager","$include_only","$inclusions","$exclude_with_low_priority","$exclude_only","$exclusions","$include_or_extend_modules","$any_apply?","$<","$select","$directory?","$add_to_load_path","$+","$>=","$to_f","$singleton_class","$extend","$include?","$included_modules","$mock_framework","$conditionally_disable_mocks_monkey_patching","$expectation_frameworks","$conditionally_disable_expectations_monkey_patching","$uniq","$files_to_run","$load","$expand_path","$lambda","$to_proc","$delegate_to_ordering_manager","$module_exec","$let","$deprecation_stream=","$expose_dsl_globally=","$disable_monkey_patching=","$call","$private","$sort","$flat_map","$paths_to_check","$gsub","$gather_directories","$extract_location","$pattern_might_load_specs_from_vendored_dirs?","$split","$pattern","$get_matching_files","$exclude_pattern","$file_glob_from","$=~","$escape","$absolute_pattern?","$join","$windows?","$windows_absolute_network_path?","$start_with?","$match","$captures","$to_i","$add_location","$last","$example_groups","$tty?","$disable_monkey_patching","$rspec_mocks_loaded?","$tap","$syntax=","$patch_marshal_to_support_partial_doubles=","$rspec_expectations_loaded?","$instance_variable_set"]),e.const_get_qualified(e.const_get_relative($,"RSpec"),"Support").$require_rspec_core("backtrace_formatter"),e.const_get_qualified(e.const_get_relative($,"RSpec"),"Support").$require_rspec_core("ruby_project"),e.const_get_qualified(e.const_get_relative($,"RSpec"),"Support").$require_rspec_core("formatters/deprecation_formatter"),function($,f){var h,m=h=o($,"RSpec"),g=(m.$$proto,[m].concat(f));!function($,f){var h,m=h=o($,"Core"),g=(m.$$proto,[m].concat(f));!function($,$super,f){function h(){}var m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue,pe,de,fe,he,me,ge,ve,ye,be,xe,ke,qe,we,Ee,Se,Me,Oe,Ae,Re,ze,je,Te,Ie,Ce,Pe,Ne,Fe,Be,De,He,Le,Ue,Ge,Ye,Ve,Xe,Ke,We,Ze,Je,Qe,et,tt,rt=h=c($,$super,"Configuration",h),at=rt.$$proto,nt=[rt].concat(f);at.reporter=at.deprecation_stream=at.output_stream=at.preferred_options=at.mock_framework=at.backtrace_formatter=at.expectation_frameworks=at.color=at.formatter_loader=at.reporter_buffer=at.profile_examples=at.files_to_run=at.files_or_directories_to_run=at.requires=at.format_docstrings_block=at.derived_metadata_blocks=at.spec_files_loaded=s,rt.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"Hooks")),function(e,$super,t){function r(){}var a=r=c(e,$super,"MustBeConfiguredBeforeExampleGroupsError",r);a.$$proto,[a].concat(t)}(nt[0],e.const_get_relative(nt,"StandardError"),nt),e.defs(rt,"$define_reader",m=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"define_reader"),_(a,"define_method",[t],(r=function(){var a=r.$$s||this,n=s;if(r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"define_reader")}return n=function(){return l(a["$instance_variable_defined?"]("@"+t))?a.$instance_variable_get("@"+t):s}(),a.$value_for(t,n)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},m.$$arity=1,m.$$parameters=[["req","name"]]),e.defs(rt,"$define_aliases",g=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"define_aliases"),a.$alias_method(r,t),a.$alias_method(r+"=",t+"="),a.$define_predicate_for(r)},g.$$arity=2,g.$$parameters=[["req","name"],["req","alias_name"]]),e.defs(rt,"$define_predicate_for",v=function(){var t,r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(r,"each",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"define_predicate_for")}return a.$alias_method(r+"?",r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","name"]],t))},v.$$arity=-1,v.$$parameters=[["rest","names"]]),e.defs(rt,"$add_setting",y=function(t,r){var a,n=this;null==r&&(r=u([],{}));var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"add_setting"),l(r["$key?"]("default"))&&n.$raise("Use the instance add_setting method if you want to set a default"),n.$attr_writer(t),n.$add_read_only_setting(t),_(n.$Array(r["$[]"]("alias_with")),"each",[],(a=function(r){var n=a.$$s||this;if(null==r&&(r=s),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_setting")}return n.$define_aliases(t,r)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","alias_name"]],a))},y.$$arity=-2,y.$$parameters=[["req","name"],["opt","opts"]]),e.defs(rt,"$add_read_only_setting",b=function(t,r){var a=this;null==r&&(r=u([],{}))
;var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"add_read_only_setting"),l(r["$key?"]("default"))&&a.$raise("Use the instance add_setting method if you want to set a default"),a.$define_reader(t),a.$define_predicate_for(t)},b.$$arity=-2,b.$$parameters=[["req","name"],["opt","opts"]]),rt.$add_setting("default_path"),rt.$add_setting("drb"),rt.$add_setting("drb_port"),rt.$add_setting("error_stream"),e.defn(rt,"$expose_dsl_globally?",x=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expose_dsl_globally?"),e.const_get_qualified(e.const_get_relative(nt,"Core"),"DSL")["$exposed_globally?"]()},x.$$arity=0,x.$$parameters=[]),e.defn(rt,"$expose_dsl_globally=",k=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expose_dsl_globally="),l(t)?(e.const_get_qualified(e.const_get_relative(nt,"Core"),"DSL")["$expose_globally!"](),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"Core"),"SharedExampleGroup"),"TopLevelDSL")["$expose_globally!"]()):(e.const_get_qualified(e.const_get_relative(nt,"Core"),"DSL")["$remove_globally!"](),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"Core"),"SharedExampleGroup"),"TopLevelDSL")["$remove_globally!"]())},k.$$arity=1,k.$$parameters=[["req","value"]]),rt.$define_reader("deprecation_stream"),e.defn(rt,"$deprecation_stream=",q=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"deprecation_stream="),l(l(r=a.reporter)?t["$equal?"](a.deprecation_stream)["$!"]():r)?a.$warn("RSpec's reporter has already been initialized with "+a.$deprecation_stream().$inspect()+" as the deprecation stream, so your change to `deprecation_stream` will be ignored. You should configure it earlier for it to take effect, or use the `--deprecation-out` CLI option. (Called from "+e.const_get_relative(nt,"CallerFilter").$first_non_rspec_line()+")"):a.deprecation_stream=t},q.$$arity=1,q.$$parameters=[["req","value"]]),rt.$add_setting("fail_fast"),rt.$add_setting("dry_run"),rt.$add_setting("failure_exit_code"),rt.$define_reader("requires"),rt.$define_reader("libs"),rt.$define_reader("output_stream"),e.defn(rt,"$output_stream=",w=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"output_stream="),l(l(r=a.reporter)?t["$equal?"](a.output_stream)["$!"]():r)?a.$warn("RSpec's reporter has already been initialized with "+a.$output_stream().$inspect()+" as the output stream, so your change to `output_stream` will be ignored. You should configure it earlier for it to take effect. (Called from "+e.const_get_relative(nt,"CallerFilter").$first_non_rspec_line()+")"):a.output_stream=t},w.$$arity=1,w.$$parameters=[["req","value"]]),rt.$define_reader("pattern"),e.defn(rt,"$pattern=",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pattern="),r.$update_pattern_attr("pattern",t)},E.$$arity=1,E.$$parameters=[["req","value"]]),rt.$define_reader("exclude_pattern"),e.defn(rt,"$exclude_pattern=",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exclude_pattern="),r.$update_pattern_attr("exclude_pattern",t)},S.$$arity=1,S.$$parameters=[["req","value"]]),rt.$add_setting("profile_examples"),rt.$add_setting("run_all_when_everything_filtered"),rt.$add_setting("success_color"),rt.$add_setting("pending_color"),rt.$add_setting("failure_color"),rt.$add_setting("default_color"),rt.$add_setting("fixed_color"),rt.$add_setting("detail_color"),e.defn(rt,"$treat_symbols_as_metadata_keys_with_true_values=",M=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"treat_symbols_as_metadata_keys_with_true_values="),e.const_get_relative(nt,"RSpec").$deprecate("RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values=",u(["message"],{message:"RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values= is deprecated, it is now set to true as default and setting it to false has no effect."}))},M.$$arity=1,M.$$parameters=[["req","_value"]]),rt.$add_setting("start_time"),rt.$add_setting("tty"),rt.$add_setting("include_or_extend_modules"),rt.$attr_writer("files_to_run"),rt.$add_setting("expecting_with_rspec"),rt.$attr_accessor("filter_manager"),rt.$attr_reader("backtrace_formatter","ordering_manager"),e.defn(rt,"$initialize",O=function(){var t,r=this;null==p._rspec_core_load_started_at&&(p._rspec_core_load_started_at=s),null==p.stderr&&(p.stderr=s),null==p.stdout&&(p.stdout=s);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"initialize"),r.start_time=l(t=p._rspec_core_load_started_at)?t:e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Time").$now(),r.expectation_frameworks=[],r.include_or_extend_modules=[],r.mock_framework=s,r.files_or_directories_to_run=[],r.color=!1,r.pattern="**{,/*/**}/*_spec.rb",r.exclude_pattern="",r.failure_exit_code=1,r.spec_files_loaded=!1,r.backtrace_formatter=e.const_get_relative(nt,"BacktraceFormatter").$new(),r.default_path="spec",r.deprecation_stream=p.stderr,r.output_stream=p.stdout,r.reporter=s,r.reporter_buffer=s,r.filter_manager=e.const_get_relative(nt,"FilterManager").$new(),r.ordering_manager=e.const_get_qualified(e.const_get_relative(nt,"Ordering"),"ConfigurationManager").$new(),r.preferred_options=u([],{}),r.failure_color="red",r.success_color="green",r.pending_color="yellow",r.default_color="white",r.fixed_color="blue",r.detail_color="cyan",r.profile_examples=!1,r.requires=[],r.libs=[],r.derived_metadata_blocks=[]},O.$$arity=0,O.$$parameters=[]),e.defn(rt,"$force",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"force"),r.$ordering_manager().$force(t),r.preferred_options["$merge!"](t)},A.$$arity=1,A.$$parameters=[["req","hash"]]),e.defn(rt,"$reset",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.spec_files_loaded=!1,t.reporter=s,t.formatter_loader=s},R.$$arity=0,R.$$parameters=[]),e.defn(rt,"$add_setting",z=function(t,r){var a,n=this,i=s;null==r&&(r=u([],{}));var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"add_setting"),i=r.$delete("default"),_(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(n),nt),"class_exec",[],(a=function(){var n=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"add_setting")}return n.$add_setting(t,r)},a.$$s=n,a.$$arity=0,a.$$parameters=[],a)),l(i)?n.$__send__(t+"=",i):s},z.$$arity=-2,z.$$parameters=[["req","name"],["opt","opts"]]),e.defn(rt,"$mock_framework",j=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"mock_framework"),l(t.mock_framework["$nil?"]()))try{t.$mock_with("rspec")}catch(r){if(!e.rescue(r,[e.const_get_relative(nt,"LoadError")]))throw r;try{t.$mock_with("nothing")}finally{e.pop_exception()}}return t.mock_framework},j.$$arity=0,j.$$parameters=[]),e.defn(rt,"$mock_framework=",T=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"mock_framework="),r.$mock_with(t)},T.$$arity=1,T.$$parameters=[["req","framework"]]),e.defn(rt,"$backtrace_exclusion_patterns",I=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"backtrace_exclusion_patterns"),t.backtrace_formatter.$exclusion_patterns()},I.$$arity=0,I.$$parameters=[]),e.defn(rt,"$backtrace_exclusion_patterns=",C=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"backtrace_exclusion_patterns="),n=[r],_(a.backtrace_formatter,"exclusion_patterns=",e.to_a(n)),n[t(n.length,1)]},C.$$arity=1,C.$$parameters=[["req","patterns"]]),e.defn(rt,"$backtrace_inclusion_patterns",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"backtrace_inclusion_patterns"),t.backtrace_formatter.$inclusion_patterns()},P.$$arity=0,P.$$parameters=[]),e.defn(rt,"$backtrace_inclusion_patterns=",N=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"backtrace_inclusion_patterns="),n=[r],_(a.backtrace_formatter,"inclusion_patterns=",e.to_a(n)),n[t(n.length,1)]},N.$$arity=1,N.$$parameters=[["req","patterns"]]),e.defn(rt,"$filter_gems_from_backtrace",F=function(){var t,r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(r,"each",[],(t=function(r){var a=t.$$s||this;if(null==a.backtrace_formatter&&(a.backtrace_formatter=s),null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"filter_gems_from_backtrace")}return a.backtrace_formatter.$filter_gem(r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","name"]],t))},F.$$arity=-1,F.$$parameters=[["rest","gem_names"]]),e.const_set(nt[0],"MOCKING_ADAPTERS",u(["rspec","flexmock","rr","mocha","nothing"],{rspec:"RSpec",flexmock:"Flexmock",rr:"RR",mocha:"Mocha",nothing:"Null"})),e.defn(rt,"$mock_with",B=function(t){var r,a,n,i,$=this,o=B.$$p,c=o||s,u=s,p=s,d=s,f=s;o&&(B.$$p=null);var h=arguments.length;return 1!==h&&e.ac(h,1,this,"mock_with"),u=function(){return l(t["$is_a?"](e.const_get_relative(nt,"Module")))?t:(p=_(e.const_get_relative(nt,"MOCKING_ADAPTERS"),"fetch",[t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"mock_with")}return a.$raise(e.const_get_relative(nt,"ArgumentError"),"Unknown mocking framework: "+t.$inspect()+". Pass a module or one of "+e.const_get_relative(nt,"MOCKING_ADAPTERS").$keys().$inspect())},r.$$s=$,r.$$arity=0,r.$$parameters=[],r)),e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Support").$require_rspec_core("mocking_adapters/"+p.$to_s().$downcase()),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"MockingAdapters").$const_get(p))}(),n=_([u,$.mock_framework],"map",[],(i=function(t){i.$$s;if(null==t&&(t=s),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"mock_with")}return l(t["$respond_to?"]("framework_name"))?t.$framework_name():"unnamed"},i.$$s=$,i.$$arity=1,i.$$parameters=[["req","mod"]],i)),a=e.to_ary(n),d=null==a[0]?s:a[0],f=null==a[1]?s:a[1],d["$=="](f)||$.$assert_no_example_groups_defined("mock_framework"),c!==s&&(l(u["$respond_to?"]("configuration"))||$.$raise(u+" must respond to `configuration` so that mock_with can yield it."),e.yield1(c,u.$configuration())),$.mock_framework=u},B.$$arity=1,B.$$parameters=[["req","framework"]]),e.defn(rt,"$expectation_frameworks",D=function(){var t=this,r=arguments.length;if(0!==r&&e.ac(r,0,this,"expectation_frameworks"),l(t.expectation_frameworks["$empty?"]()))try{t.$expect_with("rspec")}catch(r){if(!e.rescue(r,[e.const_get_relative(nt,"LoadError")]))throw r;try{t.$expect_with(e.const_get_relative(nt,"Module").$new())}finally{e.pop_exception()}}return t.expectation_frameworks},D.$$arity=0,D.$$parameters=[]),e.defn(rt,"$expectation_framework=",H=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"expectation_framework="),r.$expect_with(t)},H.$$arity=1,H.$$parameters=[["req","framework"]]),e.defn(rt,"$expect_with",L=function(){var a,n,i=this,$=L.$$p,o=$||s,c=s,u=arguments.length,p=u-0;p<0&&(p=0),n=new Array(p);for(var d=0;d<u;d++)n[d-0]=arguments[d];return $&&(L.$$p=null),c=_(n,"map",[],(a=function(r){var n=a.$$s||this,i=s,$=s;if(null==r&&(r=s),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"expect_with")}return function(){return i=r,e.const_get_relative(nt,"Module")["$==="](i)?r:"rspec"["$==="](i)?(n.$require("rspec/expectations"),$=[!0],_(n,"expecting_with_rspec=",e.to_a($)),$[t($.length,1)],e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers")):"test_unit"["$==="](i)?(n.$require("rspec/core/test_unit_assertions_adapter"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"TestUnitAssertionsAdapter")):"minitest"["$==="](i)?(n.$require("rspec/core/minitest_assertions_adapter"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"MinitestAssertionsAdapter")):n.$raise(e.const_get_relative(nt,"ArgumentError"),r.$inspect()+" is not supported")}()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","framework"]],a)),l(t(c,i.expectation_frameworks)["$any?"]())&&i.$assert_no_example_groups_defined("expect_with"),o!==s&&(l(r(c.$length(),1))&&i.$raise("expect_with only accepts a block with a single argument. Call expect_with "+c.$length()+" times, once with each argument, instead."),l(c.$first()["$respond_to?"]("configuration"))||i.$raise(c.$first()+" must respond to `configuration` so that expect_with can yield it."),e.yield1(o,c.$first().$configuration())),_(i.expectation_frameworks,"push",e.to_a(c))},L.$$arity=-1,L.$$parameters=[["rest","frameworks"]]),e.defn(rt,"$full_backtrace?",U=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_backtrace?"),t.backtrace_formatter["$full_backtrace?"]()},U.$$arity=0,U.$$parameters=[]),e.defn(rt,"$full_backtrace=",G=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"full_backtrace="),n=[r],_(a.backtrace_formatter,"full_backtrace=",e.to_a(n)),n[t(n.length,1)]},G.$$arity=1,G.$$parameters=[["req","true_or_false"]]),e.defn(rt,"$color",Y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"color"),t.$value_for("color",t.color)},Y.$$arity=0,Y.$$parameters=[]),e.defn(rt,"$color_enabled?",V=function(t){var r,a=this;null==t&&(t=a.$output_stream());var n=arguments.length;return n>1&&e.ac(n,-1,this,"color_enabled?"),l(r=a["$output_to_tty?"](t))?a.$color():r},V.$$arity=-1,V.$$parameters=[["opt","output"]]),e.defn(rt,"$color=",X=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"color="),l(t)?l(l(r=e.const_get_relative(nt,"RSpec").$world()["$windows_os?"]())?e.const_get_relative(nt,"ENV")["$[]"]("ANSICON")["$!"]():r)?(e.const_get_relative(nt,"RSpec").$warning("You must use ANSICON 1.31 or later (http://adoxa.3eeweb.com/ansicon/) to use colour on Windows"),a.color=!1):a.color=!0:s},X.$$arity=1,X.$$parameters=[["req","true_or_false"]]),e.defn(rt,"$libs=",K=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"libs="),_(t,"map",[],(r=function(t){var a=r.$$s||this;if(null==a.libs&&(a.libs=s),null==p.LOAD_PATH&&(p.LOAD_PATH=s),null==t&&(t=s),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"libs=")}return a.libs.$unshift(t),p.LOAD_PATH.$unshift(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","lib"]],r))},K.$$arity=1,K.$$parameters=[["req","libs"]]),e.defn(rt,"$full_description=",W=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"full_description="),a.$filter_run(u(["full_description"],{full_description:_(e.const_get_relative(nt,"Regexp"),"union",e.to_a(_(a.$Array(t),"map",[],(r=function(t){r.$$s;if(null==t&&(t=s),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"full_description=")}return e.const_get_relative(nt,"Regexp").$new(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","d"]],r))))}))},W.$$arity=1,W.$$parameters=[["req","description"]]),e.defn(rt,"$full_description",Z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_description"),t.$filter().$fetch("full_description",s)},Z.$$arity=0,Z.$$parameters=[]),e.defn(rt,"$add_formatter",J=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;return s<1&&e.ac(s,-2,this,"add_formatter"),l(r["$empty?"]())&&r["$<<"](a.$output_stream()),_(a.$formatter_loader(),"add",[t].concat(e.to_a(r)))},J.$$arity=-2,J.$$parameters=[["req","formatter_to_use"],["rest","paths"]]),rt.$alias_method("formatter=","add_formatter"),e.defn(rt,"$default_formatter",Q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"default_formatter"),t.$formatter_loader().$default_formatter()},Q.$$arity=0,Q.$$parameters=[]),e.defn(rt,"$default_formatter=",ee=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"default_formatter="),n=[r],_(a.$formatter_loader(),"default_formatter=",e.to_a(n)),n[t(n.length,1)]},ee.$$arity=1,ee.$$parameters=[["req","value"]]),e.defn(rt,"$formatters",te=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatters"),t.$formatter_loader().$formatters().$dup()},te.$$arity=0,te.$$parameters=[]),e.defn(rt,"$formatter_loader",re=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"formatter_loader"),r.formatter_loader=l(t=r.formatter_loader)?t:e.const_get_qualified(e.const_get_relative(nt,"Formatters"),"Loader").$new(e.const_get_relative(nt,"Reporter").$new(r))},re.$$arity=0,re.$$parameters=[]),function(t,$super,r){function a(){}var n,i,$,o=a=c(t,$super,"DeprecationReporterBuffer",a),l=o.$$proto;[o].concat(r);l.calls=s,e.defn(o,"$initialize",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.calls=[]},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$deprecation",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.calls["$<<"](e)},i.$$arity=-1,i.$$parameters=[["rest","args"]]),e.defn(o,"$play_onto",$=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"play_onto"),_(a.calls,"each",[],(r=function(a){r.$$s;if(null==a&&(a=s),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"play_onto")}return _(t,"deprecation",e.to_a(a))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","args"]],r))},$.$$arity=1,$.$$parameters=[["req","reporter"]])}(nt[0],null,nt),e.defn(rt,"$reporter",ae=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"reporter"),l(t=a.reporter_buffer)?t:a.reporter=l(r=a.reporter)?r:(a.reporter_buffer=e.const_get_relative(nt,"DeprecationReporterBuffer").$new(),a.$formatter_loader().$setup_default(a.$output_stream(),a.$deprecation_stream()),a.reporter_buffer.$play_onto(a.$formatter_loader().$reporter()),a.reporter_buffer=s,a.$formatter_loader().$reporter())},ae.$$arity=0,ae.$$parameters=[]),e.defn(rt,"$profile_examples",ne=function(){var t,r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"profile_examples"),a=r.$value_for("profile_examples",r.profile_examples),l(l(t=a)?a["$is_a?"](e.const_get_relative(nt,"Integer"))["$!"]():t)?10:a},ne.$$arity=0,ne.$$parameters=[]),e.defn(rt,"$files_or_directories_to_run=",ie=function(){var t,r,a,n,i=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var c=0;c<$;c++)n[c-0]=arguments[c];return n=n.$flatten(),l(l(t=l(r=l(a=i.$command()["$=="]("rspec"))?a:e.const_get_relative(nt,"Runner")["$running_in_drb?"]())?i.$default_path():r)?n["$empty?"]():t)&&n["$<<"](i.$default_path()),i.files_or_directories_to_run=n,i.files_to_run=s},ie.$$arity=-1,ie.$$parameters=[["rest","files"]]),e.defn(rt,"$files_to_run",$e=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"files_to_run"),r.files_to_run=l(t=r.files_to_run)?t:r.$get_files_to_run(r.files_or_directories_to_run)},$e.$$arity=0,$e.$$parameters=[]),e.defn(rt,"$alias_example_to",se=function(t){var r,a=s,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var o=arguments.length;return o<1&&e.ac(o,-2,this,"alias_example_to"),a=e.const_get_relative(nt,"Metadata").$build_hash_from(r),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"ExampleGroup").$define_example_method(t,a)},se.$$arity=-2,se.$$parameters=[["req","name"],["rest","args"]]),e.defn(rt,"$alias_example_group_to",oe=function(t){var r,a=s,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var o=arguments.length;return o<1&&e.ac(o,-2,this,"alias_example_group_to"),a=e.const_get_relative(nt,"Metadata").$build_hash_from(r),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"ExampleGroup").$define_example_group_method(t,a)},oe.$$arity=-2,oe.$$parameters=[["req","new_name"],["rest","args"]]),e.defn(rt,"$alias_it_behaves_like_to",ce=function(t,r){null==r&&(r="");var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"alias_it_behaves_like_to"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"ExampleGroup").$define_nested_shared_group_method(t,r)},ce.$$arity=-2,ce.$$parameters=[["req","new_name"],["opt","report_label"]]),rt.$alias_method("alias_it_should_behave_like_to","alias_it_behaves_like_to"),e.defn(rt,"$filter_run_including",_e=function(){var t,r=this,a=s,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];return a=e.const_get_relative(nt,"Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),r.$filter_manager().$include_with_low_priority(a)},_e.$$arity=-1,_e.$$parameters=[["rest","args"]]),rt.$alias_method("filter_run","filter_run_including"),e.defn(rt,"$inclusion_filter=",le=function(t){var r=this,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"inclusion_filter="),a=e.const_get_relative(nt,"Metadata").$build_hash_from([t],"warn_about_example_group_filtering"),r.$filter_manager().$include_only(a)},le.$$arity=1,le.$$parameters=[["req","filter"]]),rt.$alias_method("filter=","inclusion_filter="),e.defn(rt,"$inclusion_filter",ue=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusion_filter"),t.$filter_manager().$inclusions()},ue.$$arity=0,ue.$$parameters=[]),rt.$alias_method("filter","inclusion_filter"),e.defn(rt,"$filter_run_excluding",pe=function(){var t,r=this,a=s,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];return a=e.const_get_relative(nt,"Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),r.$filter_manager().$exclude_with_low_priority(a)},pe.$$arity=-1,pe.$$parameters=[["rest","args"]]),e.defn(rt,"$exclusion_filter=",de=function(t){var r=this,a=s,n=arguments.length;return 1!==n&&e.ac(n,1,this,"exclusion_filter="),a=e.const_get_relative(nt,"Metadata").$build_hash_from([t],"warn_about_example_group_filtering"),r.$filter_manager().$exclude_only(a)},de.$$arity=1,de.$$parameters=[["req","filter"]]),e.defn(rt,"$exclusion_filter",fe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusion_filter"),t.$filter_manager().$exclusions()},fe.$$arity=0,fe.$$parameters=[]),e.defn(rt,"$include",he=function(t){var r,a=this,n=s,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var o=1;o<i;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"include"),n=e.const_get_relative(nt,"Metadata").$build_hash_from(r,"warn_about_example_group_filtering"),a.$include_or_extend_modules()["$<<"](["include",t,n])},he.$$arity=-2,he.$$parameters=[["req","mod"],["rest","filters"]]),e.defn(rt,"$extend",me=function(t){var r,a=this,n=s,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var o=1;o<i;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"extend"),n=e.const_get_relative(nt,"Metadata").$build_hash_from(r,"warn_about_example_group_filtering"),a.$include_or_extend_modules()["$<<"](["extend",t,n])},me.$$arity=-2,me.$$parameters=[["req","mod"],["rest","filters"]]),e.defn(rt,"$configure_group",ge=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"configure_group"),_(a.$include_or_extend_modules(),"each",[],(r=function(a,n,i){var $,o=r.$$s||this;if(null==a&&(a=s),null==n&&(n=s),null==i&&(i=s),r.$$is_lambda||r.$$define_meth){var c=arguments.length;3!==c&&e.block_ac(c,3,"configure_group")}return l(l($=i["$empty?"]())?$:t["$any_apply?"](i))?o.$__send__("safe_"+a,n,t):s},r.$$s=a,r.$$arity=3,r.$$parameters=[["req","include_or_extend"],["req","mod"],["req","filters"]],r))},ge.$$arity=1,ge.$$parameters=[["req","group"]]),e.defn(rt,"$safe_include",ve=function(t,r){var n=arguments.length;return 2!==n&&e.ac(n,2,this,"safe_include"),l(a(r,t))?s:r.$__send__("include",t)},ve.$$arity=2,ve.$$parameters=[["req","mod"],["req","host"]]),e.defn(rt,"$requires=",ye=function(t){var r,a,i=this,$=s,o=arguments.length;return 1!==o&&e.ac(o,1,this,"requires="),$=_(["lib",i.$default_path()],"select",[],(r=function(t){r.$$s;if(null==t&&(t=s),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"requires=")}return e.const_get_relative(nt,"File")["$directory?"](t)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","p"]],r)),_(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"RubyProject"),"add_to_load_path",e.to_a($)),_(t,"each",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"requires=")}return r.$require(t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","path"]],a)),i.requires=n(i.requires,t)},ye.$$arity=1,ye.$$parameters=[["req","paths"]]),l(i(e.const_get_relative(nt,"RUBY_VERSION").$to_f(),1.9))?e.defn(rt,"$safe_extend",be=function(t,r){var n=arguments.length;return 2!==n&&e.ac(n,2,this,"safe_extend"),l(a(r.$singleton_class(),t))?s:r.$extend(t)},be.$$arity=2,be.$$parameters=[["req","mod"],["req","host"]]):e.defn(rt,"$safe_extend",xe=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"safe_extend"),l(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(r),nt).$included_modules()["$include?"](t))?s:r.$extend(t)},xe.$$arity=2,xe.$$parameters=[["req","mod"],["req","host"]]),e.defn(rt,"$configure_mock_framework",ke=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"configure_mock_framework"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"ExampleGroup").$__send__("include",t.$mock_framework()),t.$conditionally_disable_mocks_monkey_patching()},ke.$$arity=0,ke.$$parameters=[]),e.defn(rt,"$configure_expectation_framework",qe=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"configure_expectation_framework"),_(r.$expectation_frameworks(),"each",[],(t=function(r){t.$$s;if(null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"configure_expectation_framework")}return e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Core"),"ExampleGroup").$__send__("include",r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","framework"]],t)),r.$conditionally_disable_expectations_monkey_patching()},qe.$$arity=0,qe.$$parameters=[]),e.defn(rt,"$load_spec_files",we=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"load_spec_files"),_(r.$files_to_run().$uniq(),"each",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"load_spec_files")}return a.$load(e.const_get_relative(nt,"File").$expand_path(r))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","f"]],t)),r.spec_files_loaded=!0},we.$$arity=0,we.$$parameters=[]),e.const_set(nt[0],"DEFAULT_FORMATTER",_(rt,"lambda",[],(Ee=function(t){Ee.$$s;if(null==t&&(t=s),Ee.$$is_lambda||Ee.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<class:Configuration>")}return t},Ee.$$s=rt,Ee.$$arity=1,Ee.$$parameters=[["req","string"]],Ee))),e.defn(rt,"$format_docstrings",Se=function(){var t=this,r=Se.$$p,a=r||s;r&&(Se.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"format_docstrings"),t.format_docstrings_block=function(){return a!==s?a:e.const_get_relative(nt,"DEFAULT_FORMATTER")}()},Se.$$arity=0,Se.$$parameters=[["block","block"]]),e.defn(rt,"$format_docstrings_block",Me=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"format_docstrings_block"),r.format_docstrings_block=l(t=r.format_docstrings_block)?t:e.const_get_relative(nt,"DEFAULT_FORMATTER")},Me.$$arity=0,Me.$$parameters=[]),e.defs(rt,"$delegate_to_ordering_manager",Oe=function(){var t,r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(r,"each",[],(t=function(r){var a,n=t.$$s||this;if(null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"delegate_to_ordering_manager")}return _(n,"define_method",[r],(a=function(){var t,n,i=a.$$s||this;(t=a.$$p||s)&&(a.$$p=null);var $=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var c=0;c<$;c++)n[c-0]=arguments[c];return _(i.$ordering_manager(),"__send__",[r].concat(e.to_a(n)),t.$to_proc())},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a))},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","method"]],t))},Oe.$$arity=-1,Oe.$$parameters=[["rest","methods"]]),rt.$delegate_to_ordering_manager("seed="),rt.$delegate_to_ordering_manager("seed"),rt.$delegate_to_ordering_manager("order="),rt.$delegate_to_ordering_manager("register_ordering"),rt.$delegate_to_ordering_manager("seed_used?","ordering_registry"),e.defn(rt,"$warnings=",Ae=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"warnings="),p.VERBOSE=t["$!"]()["$!"]()},Ae.$$arity=1,Ae.$$parameters=[["req","value"]]),e.defn(rt,"$warnings?",Re=function(){null==p.VERBOSE&&(p.VERBOSE=s);var t=arguments.length;return 0!==t&&e.ac(t,0,this,"warnings?"),p.VERBOSE},Re.$$arity=0,Re.$$parameters=[]),e.defn(rt,"$expose_current_running_example_as",ze=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"expose_current_running_example_as"),_(e.const_get_relative(nt,"ExposeCurrentExample"),"module_exec",[],(r=function(){var a,n=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"expose_current_running_example_as")}return n.$extend(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"SharedContext")),_(n,"let",[t],(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"expose_current_running_example_as")}return t},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","ex"]],a))},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)),a.$include(e.const_get_relative(nt,"ExposeCurrentExample"))},ze.$$arity=1,ze.$$parameters=[["req","method_name"]]),function(e,t){var r,a=r=o(e,"ExposeCurrentExample");a.$$proto,[a].concat(t)}(nt[0],nt),e.defn(rt,"$raise_errors_for_deprecations!",je=function(){var r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"raise_errors_for_deprecations!"),a=[e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"Formatters"),"DeprecationFormatter"),"RaiseErrorStream").$new()],_(r,"deprecation_stream=",e.to_a(a)),a[t(a.length,1)]},je.$$arity=0,je.$$parameters=[]),e.defn(rt,"$disable_monkey_patching!",Te=function(){var r=this,a=s,n=arguments.length;return 0!==n&&e.ac(n,0,this,"disable_monkey_patching!"),a=[!1],_(r,"expose_dsl_globally=",e.to_a(a)),a[t(a.length,1)],a=[!0],_(r,"disable_monkey_patching=",e.to_a(a)),a[t(a.length,1)],r.$conditionally_disable_mocks_monkey_patching(),r.$conditionally_disable_expectations_monkey_patching()},Te.$$arity=0,Te.$$parameters=[]),rt.$attr_accessor("disable_monkey_patching"),e.defn(rt,"$define_derived_metadata",Ie=function(){var t,r=this,a=Ie.$$p,n=a||s,i=s,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<$;c++)t[c-0]=arguments[c];return a&&(Ie.$$p=null),i=e.const_get_relative(nt,"Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),r.derived_metadata_blocks["$<<"]([i,n])},Ie.$$arity=-1,Ie.$$parameters=[["rest","filters"],["block","block"]]),e.defn(rt,"$apply_derived_metadata_to",Ce=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"apply_derived_metadata_to"),_(a.derived_metadata_blocks,"each",[],(r=function(a,n){var i;r.$$s;if(null==a&&(a=s),null==n&&(n=s),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"apply_derived_metadata_to")}return l(l(i=a["$empty?"]())?i:e.const_get_relative(nt,"MetadataFilter")["$any_apply?"](a,t))?n.$call(t):s},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","filter"],["req","block"]],r))},Ce.$$arity=1,Ce.$$parameters=[["req","metadata"]]),rt.$private(),e.defn(rt,"$get_files_to_run",Pe=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"get_files_to_run"),_(e.const_get_relative(nt,"FlatMap"),"flat_map",[a.$paths_to_check(t)],(r=function(t){var a=r.$$s||this;if(null==t&&(t=s),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"get_files_to_run")}return l(e.const_get_qualified(e.const_get_relative(nt,"File"),"ALT_SEPARATOR"))&&(t=t.$gsub(e.const_get_qualified(e.const_get_relative(nt,"File"),"ALT_SEPARATOR"),e.const_get_qualified(e.const_get_relative(nt,"File"),"SEPARATOR"))),l(e.const_get_relative(nt,"File")["$directory?"](t))?a.$gather_directories(t):a.$extract_location(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","path"]],r)).$sort().$uniq()},Pe.$$arity=1,Pe.$$parameters=[["req","paths"]]),e.defn(rt,"$paths_to_check",Ne=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"paths_to_check"),l(r["$pattern_might_load_specs_from_vendored_dirs?"]())?t:n(t,["."])},Ne.$$arity=1,Ne.$$parameters=[["req","paths"]]),
e.defn(rt,"$pattern_might_load_specs_from_vendored_dirs?",Fe=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pattern_might_load_specs_from_vendored_dirs?"),t.$pattern().$split(e.const_get_qualified(e.const_get_relative(nt,"File"),"SEPARATOR")).$first()["$include?"]("**")},Fe.$$arity=0,Fe.$$parameters=[]),e.defn(rt,"$gather_directories",Be=function(r){var a=this,n=s,i=s,$=arguments.length;return 1!==$&&e.ac($,1,this,"gather_directories"),n=a.$get_matching_files(r,a.$pattern()),i=a.$get_matching_files(r,a.$exclude_pattern()),t(n,i).$sort().$uniq()},Be.$$arity=1,Be.$$parameters=[["req","path"]]),e.defn(rt,"$get_matching_files",De=function(t,r){var a,n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"get_matching_files"),_(e.const_get_relative(nt,"Dir")["$[]"](n.$file_glob_from(t,r)),"map",[],(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"get_matching_files")}return e.const_get_relative(nt,"File").$expand_path(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","file"]],a))},De.$$arity=2,De.$$parameters=[["req","path"],["req","pattern"]]),e.defn(rt,"$file_glob_from",He=function(t,r){var a,n=this,i=s,$=arguments.length;return 2!==$&&e.ac($,2,this,"file_glob_from"),i="{"+r.$gsub(/\s*,\s*/,",")+"}",l(l(a=r["$=~"](new RegExp("^(\\./)?"+e.const_get_relative(nt,"Regexp").$escape(t))))?a:n["$absolute_pattern?"](r))?i:e.const_get_relative(nt,"File").$join(t,i)},He.$$arity=2,He.$$parameters=[["req","path"],["req","pattern"]]),l(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Support"),"OS")["$windows?"]())?(e.defn(rt,"$absolute_pattern?",Le=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"absolute_pattern?"),l(r=t["$=~"](/^[A-Z]:\\/))?r:a["$windows_absolute_network_path?"](t)},Le.$$arity=1,Le.$$parameters=[["req","pattern"]]),e.defn(rt,"$windows_absolute_network_path?",Ue=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"windows_absolute_network_path?"),!!l(e.const_get_qualified(e.const_get_qualified("::","File"),"ALT_SEPARATOR"))&&t["$start_with?"](n(e.const_get_qualified(e.const_get_qualified("::","File"),"ALT_SEPARATOR"),e.const_get_qualified(e.const_get_qualified("::","File"),"ALT_SEPARATOR")))},Ue.$$arity=1,Ue.$$parameters=[["req","pattern"]])):e.defn(rt,"$absolute_pattern?",Ge=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"absolute_pattern?"),t["$start_with?"](e.const_get_qualified(e.const_get_relative(nt,"File"),"Separator"))},Ge.$$arity=1,Ge.$$parameters=[["req","pattern"]]),e.defn(rt,"$extract_location",Ye=function(t){var r,a,n=this,i=s,$=s,o=s,c=arguments.length;return 1!==c&&e.ac(c,1,this,"extract_location"),i=/^(.*?)((?:\:\d+)+)$/.$match(t),l(i)&&($=i.$captures(),r=[$["$[]"](0),_($["$[]"](1)["$[]"](d(1,-1,!1)).$split(":"),"map",[],(a=function(t){a.$$s;if(null==t&&(t=s),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"extract_location")}return t.$to_i()},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","n"]],a))],t=r[0],o=r[1],n.$filter_manager().$add_location(t,o)),t["$=="](n.$default_path())?[]:t},Ye.$$arity=1,Ye.$$parameters=[["req","path"]]),e.defn(rt,"$command",Ve=function(){null==p[0]&&(p[0]=s);var t=arguments.length;return 0!==t&&e.ac(t,0,this,"command"),p[0].$split(e.const_get_qualified(e.const_get_relative(nt,"File"),"SEPARATOR")).$last()},Ve.$$arity=0,Ve.$$parameters=[]),e.defn(rt,"$value_for",Xe=function(t,r){var a=this;null==r&&(r=s);var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"value_for"),l(a.preferred_options["$key?"](t))?a.preferred_options["$[]"](t):r},Xe.$$arity=-2,Xe.$$parameters=[["req","key"],["opt","default$"]]),e.defn(rt,"$assert_no_example_groups_defined",Ke=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"assert_no_example_groups_defined"),l(e.const_get_relative(nt,"RSpec").$world().$example_groups()["$any?"]())?r.$raise(e.const_get_relative(nt,"MustBeConfiguredBeforeExampleGroupsError").$new("RSpec's "+t+" configuration option must be configured before any example groups are defined, but you have already defined a group.")):s},Ke.$$arity=1,Ke.$$parameters=[["req","config_option"]]),e.defn(rt,"$output_to_tty?",We=function(t){var r,a,n=this;null==t&&(t=n.$output_stream());var i=arguments.length;return i>1&&e.ac(i,-1,this,"output_to_tty?"),l(r=n["$tty?"]())?r:l(a=t["$respond_to?"]("tty?"))?t["$tty?"]():a},We.$$arity=-1,We.$$parameters=[["opt","output"]]),e.defn(rt,"$conditionally_disable_mocks_monkey_patching",Ze=function(){var r,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"conditionally_disable_mocks_monkey_patching"),l(l(r=n.$disable_monkey_patching())?n["$rspec_mocks_loaded?"]():r)?_(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Mocks").$configuration(),"tap",[],(a=function(r){var n=(a.$$s,s);if(null==r&&(r=s),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"conditionally_disable_mocks_monkey_patching")}return n=["expect"],_(r,"syntax=",e.to_a(n)),n[t(n.length,1)],n=[!1],_(r,"patch_marshal_to_support_partial_doubles=",e.to_a(n)),n[t(n.length,1)]},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","config"]],a)):s},Ze.$$arity=0,Ze.$$parameters=[]),e.defn(rt,"$conditionally_disable_expectations_monkey_patching",Je=function(){var r,a=this,n=s,i=arguments.length;return 0!==i&&e.ac(i,0,this,"conditionally_disable_expectations_monkey_patching"),l(l(r=a.$disable_monkey_patching())?a["$rspec_expectations_loaded?"]():r)?(n=["expect"],_(e.const_get_qualified(e.const_get_relative(nt,"RSpec"),"Expectations").$configuration(),"syntax=",e.to_a(n)),n[t(n.length,1)]):s},Je.$$arity=0,Je.$$parameters=[]),e.defn(rt,"$rspec_mocks_loaded?",Qe=function(){var t,r,a,n,i,$=arguments.length;return 0!==$&&e.ac($,0,this,"rspec_mocks_loaded?"),(r=e.const_get_relative(nt,"RSpec","skip_raise"))&&(t=e.const_get_qualified(r,"Mocks","skip_raise"))&&(a=t)&&(n=a)&&((i=n.$configuration)&&!i.$$stub||n["$respond_to_missing?"]("configuration"))?"method":s},Qe.$$arity=0,Qe.$$parameters=[]),e.defn(rt,"$rspec_expectations_loaded?",et=function(){var t,r,a,n,i,$=arguments.length;return 0!==$&&e.ac($,0,this,"rspec_expectations_loaded?"),(r=e.const_get_relative(nt,"RSpec","skip_raise"))&&(t=e.const_get_qualified(r,"Expectations","skip_raise"))&&(a=t)&&(n=a)&&((i=n.$configuration)&&!i.$$stub||n["$respond_to_missing?"]("configuration"))?"method":s},et.$$arity=0,et.$$parameters=[]),e.defn(rt,"$update_pattern_attr",tt=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"update_pattern_attr"),l(a.spec_files_loaded)&&e.const_get_relative(nt,"RSpec").$warning("Configuring `"+t+"` to "+r+" has no effect since RSpec has already loaded the spec files."),a.$instance_variable_set("@"+t,r),a.files_to_run=s},tt.$$arity=2,tt.$$parameters=[["req","name"],["req","value"]])}(g[0],null,g)}(g[0],g)}($[0],$)},Opal.modules.shellwords=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.klass),s=e.truthy,o=e.send,c=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(n,$super,c){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F=_=$(n,$super,"Set",_),B=F.$$proto,D=[F].concat(c);B.hash=i,F.$include(e.const_get_relative(D,"Enumerable")),e.defs(F,"$[]",l=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$new(e)},l.$$arity=-1,l.$$parameters=[["rest","ary"]]),e.defn(F,"$initialize",u=function(t){var r,a=this,n=u.$$p,$=n||i;null==t&&(t=i),n&&(u.$$p=null);var c=arguments.length;return c>1&&e.ac(c,-1,this,"initialize"),a.hash=e.const_get_relative(D,"Hash").$new(),s(t["$nil?"]())?i:(s(e.const_get_relative(D,"Enumerable")["$==="](t))||a.$raise(e.const_get_relative(D,"ArgumentError"),"value must be enumerable"),s($)?o(t,"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"initialize")}return a.$add($.$call(t))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","item"]],r)):a.$merge(t))},u.$$arity=-1,u.$$parameters=[["opt","enum$"],["block","block"]]),e.defn(F,"$dup",p=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"dup"),r=t.$class().$new(),r.$merge(t)},p.$$arity=0,p.$$parameters=[]),e.defn(F,"$-",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"-"),s(t["$respond_to?"]("each"))||r.$raise(e.const_get_relative(D,"ArgumentError"),"value must be enumerable"),r.$dup().$subtract(t)},d.$$arity=1,d.$$parameters=[["req","enum$"]]),e.alias(F,"difference","-"),e.defn(F,"$inspect",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<Set: {"+t.$to_a().$join(",")+"}>"},f.$$arity=0,f.$$parameters=[]),e.defn(F,"$==",h=function(t){var r,a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"=="),!!s(n["$equal?"](t))||(s(t["$instance_of?"](n.$class()))?n.hash["$=="](t.$instance_variable_get("@hash")):!!s(s(r=t["$is_a?"](e.const_get_relative(D,"Set")))?n.$size()["$=="](t.$size()):r)&&o(t,"all?",[],(a=function(t){var r=a.$$s||this;if(null==r.hash&&(r.hash=i),null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"==")}return r.hash["$include?"](t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","o"]],a)))},h.$$arity=1,h.$$parameters=[["req","other"]]),e.defn(F,"$add",m=function(r){var a=this,n=i,$=arguments.length;return 1!==$&&e.ac($,1,this,"add"),n=[r,!0],o(a.hash,"[]=",e.to_a(n)),n[t(n.length,1)],a},m.$$arity=1,m.$$parameters=[["req","o"]]),e.alias(F,"<<","add"),e.defn(F,"$classify",g=function(){var r,a,n=this,$=g.$$p,s=$||i,c=i;$&&(g.$$p=null);var _=arguments.length;return 0!==_&&e.ac(_,0,this,"classify"),s===i?n.$enum_for("classify"):(c=o(e.const_get_relative(D,"Hash"),"new",[],(r=function(a,n){var $=r.$$s||this,s=i;if(null==a&&(a=i),null==n&&(n=i),r.$$is_lambda||r.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"classify")}return s=[n,$.$class().$new()],o(a,"[]=",e.to_a(s)),s[t(s.length,1)]},r.$$s=n,r.$$arity=2,r.$$parameters=[["req","h"],["req","k"]],r)),o(n,"each",[],(a=function(t){a.$$s;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"classify")}return c["$[]"](e.yield1(s,t)).$add(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","item"]],a)),c)},g.$$arity=0,g.$$parameters=[["block","block"]]),e.defn(F,"$collect!",v=function(){var t,r=this,a=v.$$p,n=a||i,$=i;a&&(v.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"collect!"),n===i?r.$enum_for("collect!"):($=r.$class().$new(),o(r,"each",[],(t=function(r){t.$$s;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"collect!")}return $["$<<"](e.yield1(n,r))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","item"]],t)),r.$replace($))},v.$$arity=0,v.$$parameters=[["block","block"]]),e.alias(F,"map!","collect!"),e.defn(F,"$delete",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"delete"),r.hash.$delete(t),r},y.$$arity=1,y.$$parameters=[["req","o"]]),e.defn(F,"$delete?",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"delete?"),s(r["$include?"](t))?(r.$delete(t),r):i},b.$$arity=1,b.$$parameters=[["req","o"]]),e.defn(F,"$delete_if",x=function(){try{var t,r,a=this,n=x.$$p,$=n||i;n&&(x.$$p=null);var c=arguments.length;return 0!==c&&e.ac(c,0,this,"delete_if"),s($!==i)||e.ret(a.$enum_for("delete_if")),o(o(a,"select",[],(t=function(r){t.$$s;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"delete_if")}return e.yield1($,r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","o"]],t)),"each",[],(r=function(t){var a=r.$$s||this;if(null==a.hash&&(a.hash=i),null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"delete_if")}return a.hash.$delete(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","o"]],r)),a}catch(t){if(t===e.returner)return t.$v;throw t}},x.$$arity=0,x.$$parameters=[]),e.defn(F,"$add?",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"add?"),s(r["$include?"](t))?i:r.$add(t)},k.$$arity=1,k.$$parameters=[["req","o"]]),e.defn(F,"$each",q=function(){var t=this,r=q.$$p,a=r||i;r&&(q.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"each"),a===i?t.$enum_for("each"):(o(t.hash,"each_key",[],a.$to_proc()),t)},q.$$arity=0,q.$$parameters=[["block","block"]]),e.defn(F,"$empty?",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.hash["$empty?"]()},w.$$arity=0,w.$$parameters=[]),e.defn(F,"$eql?",E=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"eql?"),a.hash["$eql?"](o(t,"instance_eval",[],(r=function(){var t=r.$$s||this;if(null==t.hash&&(t.hash=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"eql?")}return t.hash},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)))},E.$$arity=1,E.$$parameters=[["req","other"]]),e.defn(F,"$clear",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.hash.$clear(),t},S.$$arity=0,S.$$parameters=[]),e.defn(F,"$include?",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),r.hash["$include?"](t)},M.$$arity=1,M.$$parameters=[["req","o"]]),e.alias(F,"member?","include?"),e.defn(F,"$merge",O=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"merge"),o(t,"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"merge")}return a.$add(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","item"]],r)),a},O.$$arity=1,O.$$parameters=[["req","enum$"]]),e.defn(F,"$replace",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace"),r.$clear(),r.$merge(t),r},A.$$arity=1,A.$$parameters=[["req","enum$"]]),e.defn(F,"$size",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"size"),t.hash.$size()},R.$$arity=0,R.$$parameters=[]),e.alias(F,"length","size"),e.defn(F,"$subtract",z=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"subtract"),o(t,"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"subtract")}return a.$delete(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","item"]],r)),a},z.$$arity=1,z.$$parameters=[["req","enum$"]]),e.defn(F,"$|",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"|"),s(t["$respond_to?"]("each"))||r.$raise(e.const_get_relative(D,"ArgumentError"),"value must be enumerable"),r.$dup().$merge(t)},j.$$arity=1,j.$$parameters=[["req","enum$"]]),e.defn(F,"$superset?",T=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"superset?"),s(t["$is_a?"](e.const_get_relative(D,"Set")))||n.$raise(e.const_get_relative(D,"ArgumentError"),"value must be a set"),!s(r(n.$size(),t.$size()))&&o(t,"all?",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"superset?")}return r["$include?"](t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","o"]],a))},T.$$arity=1,T.$$parameters=[["req","set"]]),e.alias(F,">=","superset?"),e.defn(F,"$proper_superset?",I=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"proper_superset?"),s(t["$is_a?"](e.const_get_relative(D,"Set")))||n.$raise(e.const_get_relative(D,"ArgumentError"),"value must be a set"),!s(a(n.$size(),t.$size()))&&o(t,"all?",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"proper_superset?")}return a["$include?"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","o"]],r))},I.$$arity=1,I.$$parameters=[["req","set"]]),e.alias(F,">","proper_superset?"),e.defn(F,"$subset?",C=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"subset?"),s(t["$is_a?"](e.const_get_relative(D,"Set")))||n.$raise(e.const_get_relative(D,"ArgumentError"),"value must be a set"),!s(r(t.$size(),n.$size()))&&o(n,"all?",[],(a=function(r){a.$$s;if(null==r&&(r=i),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"subset?")}return t["$include?"](r)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","o"]],a))},C.$$arity=1,C.$$parameters=[["req","set"]]),e.alias(F,"<=","subset?"),e.defn(F,"$proper_subset?",P=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"proper_subset?"),s(t["$is_a?"](e.const_get_relative(D,"Set")))||n.$raise(e.const_get_relative(D,"ArgumentError"),"value must be a set"),!s(a(t.$size(),n.$size()))&&o(n,"all?",[],(r=function(a){r.$$s;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"proper_subset?")}return t["$include?"](a)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","o"]],r))},P.$$arity=1,P.$$parameters=[["req","set"]]),e.alias(F,"<","proper_subset?"),e.alias(F,"+","|"),e.alias(F,"union","|"),e.defn(F,"$to_a",N=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_a"),t.hash.$keys()},N.$$arity=0,N.$$parameters=[])}(n[0],null,n),function(t,r){var a,n,$=a=c(t,"Enumerable"),s=($.$$proto,[$].concat(r));e.defn($,"$to_set",n=function(t){var r,a=this,$=n.$$p,c=$||i;null==t&&(t=e.const_get_relative(s,"Set"));var _=arguments.length,l=_-1;l<0&&(l=0),r=new Array(l);for(var u=1;u<_;u++)r[u-1]=arguments[u];return $&&(n.$$p=null),o(t,"new",[a].concat(e.to_a(r)),c.$to_proc())},n.$$arity=-1,n.$$parameters=[["opt","klass"],["rest","args"],["block","block"]])}(n[0],n)},Opal.modules["rspec/core/configuration_options"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.send,o=e.truthy,c=e.hash2,_=e.hash;return e.add_stubs(["$require","$dup","$organize_options","$process_options_into","$configure_filter_manager","$filter_manager","$load_formatters_into","$each","$__send__","$attr_reader","$private","$<<","$file_options","$command_line_options","$env_options","$key?","$delete","$inject","$merge","$include?","$+","$to_set","$!","$reverse","$unshift","$reject","$options","$order","$keys","$force?","$force","$[]","$add_formatter","$custom_options_file","$custom_options","$global_options","$project_options","$local_options","$parse","$split","$options_from","$local_options_file","$project_options_file","$global_options_file","$args_from_options_file","$exist?","$options_file_as_erb_string","$flat_map","$to_proc","$result","$new","$read","$binding","$join","$expand_path","$warning"]),r.$require("erb"),r.$require("shellwords"),r.$require("set"),function(r,a){var l,u=l=i(r,"RSpec"),p=(u.$$proto,[u].concat(a));!function(r,a){var l,u=l=i(r,"Core"),p=(u.$$proto,[u].concat(a));!function(r,$super,a){function i(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j=i=$(r,$super,"ConfigurationOptions",i),T=j.$$proto,I=[j].concat(a);T.filter_manager_options=T.options=T.command_line_options=T.args=T.local_options=T.project_options=T.global_options=n,e.defn(j,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.args=t.$dup(),r.$organize_options()},l.$$arity=1,l.$$parameters=[["req","args"]]),e.defn(j,"$configure",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"configure"),r.$process_options_into(t),r.$configure_filter_manager(t.$filter_manager()),r.$load_formatters_into(t)},u.$$arity=1,u.$$parameters=[["req","config"]]),e.defn(j,"$configure_filter_manager",p=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"configure_filter_manager"),s(a.filter_manager_options,"each",[],(r=function(a,i){r.$$s;if(null==a&&(a=n),null==i&&(i=n),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"configure_filter_manager")}return t.$__send__(a,i)},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","command"],["req","value"]],r))},p.$$arity=1,p.$$parameters=[["req","filter_manager"]]),j.$attr_reader("options"),j.$private(),e.defn(j,"$organize_options",d=function(){var r,a,i=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"organize_options"),i.filter_manager_options=[],i.options=s(i.$file_options()["$<<"](i.$command_line_options())["$<<"](i.$env_options()),"each",[],(r=function(t){var a=r.$$s||this;if(null==a.filter_manager_options&&(a.filter_manager_options=n),null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"organize_options")}return o(t["$key?"]("inclusion_filter"))&&a.filter_manager_options["$<<"](["include",t.$delete("inclusion_filter")]),o(t["$key?"]("exclusion_filter"))?a.filter_manager_options["$<<"](["exclude",t.$delete("exclusion_filter")]):n},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","opts"]],r)),i.options=s(i.options,"inject",[c(["libs","requires"],{libs:[],requires:[]})],(a=function(r,i){var $,c=a.$$s||this;if(null==r&&(r=n),null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"organize_options")}return s(r,"merge",[i],($=function(r,a,i){$.$$s;if(null==r&&(r=n),null==a&&(a=n),null==i&&(i=n),$.$$is_lambda||$.$$define_meth){var s=arguments.length;3!==s&&e.block_ac(s,3,"organize_options")}return o(["libs","requires"]["$include?"](r))?t(a,i):i},$.$$s=c,$.$$arity=3,$.$$parameters=[["req","key"],["req","oldval"],["req","newval"]],$))},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","hash"],["req","opts"]],a))},d.$$arity=0,d.$$parameters=[]),e.const_set(I[0],"UNFORCED_OPTIONS",["requires","profile","drb","libs","files_or_directories_to_run","full_description","full_backtrace","tty"].$to_set()),e.const_set(I[0],"UNPROCESSABLE_OPTIONS",["formatters"].$to_set()),e.defn(j,"$force?",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"force?"),e.const_get_relative(I,"UNFORCED_OPTIONS")["$include?"](t)["$!"]()},f.$$arity=1,f.$$parameters=[["req","key"]]),e.defn(j,"$order",h=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"order"),s(e.const_get_relative(I,"OPTIONS_ORDER").$reverse(),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"order")}return o(t.$delete(a))?t.$unshift(a):n},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","key"]],r)),t},h.$$arity=1,h.$$parameters=[["req","keys"]]),e.const_set(I[0],"OPTIONS_ORDER",["deprecation_stream","libs","default_path","files_or_directories_to_run","pattern","exclude_pattern","requires"]),e.defn(j,"$process_options_into",m=function(t){var r,a,i=this,$=n,c=arguments.length;return 1!==c&&e.ac(c,1,this,"process_options_into"),$=s(i.$options(),"reject",[],(r=function(t,a){r.$$s;if(null==t&&(t=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"process_options_into")}return e.const_get_relative(I,"UNPROCESSABLE_OPTIONS")["$include?"](t)},r.$$s=i,r.$$arity=2,r.$$parameters=[["req","k"],["req","_"]],r)),s(i.$order($.$keys()),"each",[],(a=function(r){var i=a.$$s||this;if(null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"process_options_into")}return o(i["$force?"](r))?t.$force(_(r,$["$[]"](r))):t.$__send__(r+"=",$["$[]"](r))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","key"]],a))},m.$$arity=1,m.$$parameters=[["req","config"]]),e.defn(j,"$load_formatters_into",g=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"load_formatters_into"),o(a.$options()["$[]"]("formatters"))?s(a.$options()["$[]"]("formatters"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"load_formatters_into")}return s(t,"add_formatter",e.to_a(a))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","pair"]],r)):n},g.$$arity=1,g.$$parameters=[["req","config"]]),e.defn(j,"$file_options",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"file_options"),o(t.$custom_options_file())?[t.$custom_options()]:[t.$global_options(),t.$project_options(),t.$local_options()]},v.$$arity=0,v.$$parameters=[]),e.defn(j,"$env_options",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"env_options"),o(e.const_get_relative(I,"ENV")["$[]"]("SPEC_OPTS"))?e.const_get_relative(I,"Parser").$parse(e.const_get_relative(I,"Shellwords").$split(e.const_get_relative(I,"ENV")["$[]"]("SPEC_OPTS"))):c([],{})},y.$$arity=0,y.$$parameters=[]),e.defn(j,"$command_line_options",b=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"command_line_options"),r.command_line_options=o(t=r.command_line_options)?t:e.const_get_relative(I,"Parser").$parse(r.args).$merge(c(["files_or_directories_to_run"],{files_or_directories_to_run:r.args}))},b.$$arity=0,b.$$parameters=[]),e.defn(j,"$custom_options",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"custom_options"),t.$options_from(t.$custom_options_file())},x.$$arity=0,x.$$parameters=[]),e.defn(j,"$local_options",k=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"local_options"),r.local_options=o(t=r.local_options)?t:r.$options_from(r.$local_options_file())},k.$$arity=0,k.$$parameters=[]),e.defn(j,"$project_options",q=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"project_options"),r.project_options=o(t=r.project_options)?t:r.$options_from(r.$project_options_file())},q.$$arity=0,q.$$parameters=[]),e.defn(j,"$global_options",w=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"global_options"),r.global_options=o(t=r.global_options)?t:r.$options_from(r.$global_options_file())},w.$$arity=0,w.$$parameters=[]),e.defn(j,"$options_from",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_from"),e.const_get_relative(I,"Parser").$parse(r.$args_from_options_file(t))},E.$$arity=1,E.$$parameters=[["req","path"]]),e.defn(j,"$args_from_options_file",S=function(t){var r,a=this,i=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"args_from_options_file"),o(o(r=t)?e.const_get_relative(I,"File")["$exist?"](t):r)?(i=a.$options_file_as_erb_string(t),s(e.const_get_relative(I,"FlatMap"),"flat_map",[i.$split(/\n+/)],"shellsplit".$to_proc())):[]},S.$$arity=1,S.$$parameters=[["req","path"]]),e.defn(j,"$options_file_as_erb_string",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_file_as_erb_string"),e.const_get_relative(I,"ERB").$new(e.const_get_relative(I,"File").$read(t),n,"-").$result(r.$binding())},M.$$arity=1,M.$$parameters=[["req","path"]]),e.defn(j,"$custom_options_file",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"custom_options_file"),t.$command_line_options()["$[]"]("custom_options_file")},O.$$arity=0,O.$$parameters=[]),e.defn(j,"$project_options_file",A=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"project_options_file"),".rspec"},A.$$arity=0,A.$$parameters=[]),e.defn(j,"$local_options_file",R=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"local_options_file"),".rspec-local"},R.$$arity=0,R.$$parameters=[]),e.defn(j,"$global_options_file",z=function(){var t=arguments.length;0!==t&&e.ac(t,0,this,"global_options_file");try{return e.const_get_relative(I,"File").$join(e.const_get_relative(I,"File").$expand_path("~"),".rspec")}catch(t){if(!e.rescue(t,[e.const_get_relative(I,"ArgumentError")]))throw t;try{return e.const_get_relative(I,"RSpec").$warning("Unable to find ~/.rspec because the HOME environment variable is not set"),n}finally{e.pop_exception()}}},z.$$arity=0,z.$$parameters=[])}(p[0],null,p)}(p[0],p)}(a[0],a)},Opal.modules["rspec/core/dsl"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.truthy,s=e.send,o=n;return e.add_stubs(["$<<","$example_group_aliases","$__send__","$register","$world","$to_proc","$exposed_globally?","$expose_example_group_alias_globally","$attr_accessor","$each","$change_global_dsl","$undef_method","$define_method","$class_exec","$top_level","$top_level=","$-"]),function(t,r){var a,o=a=i(t,"RSpec"),c=(o.$$proto,[o].concat(r));!function(t,r){var a,o=a=i(t,"Core"),c=(o.$$proto,[o].concat(r));!function(t,r){var a,o,c,_,l,u,p,d,f=a=i(t,"DSL"),h=(f.$$proto,[f].concat(r));e.defs(f,"$example_group_aliases",o=function(){var t,r=this;null==r.example_group_aliases&&(r.example_group_aliases=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"example_group_aliases"),r.example_group_aliases=$(t=r.example_group_aliases)?t:[]},o.$$arity=0,o.$$parameters=[]),e.defs(f,"$exposed_globally?",c=function(){var t,r=this;null==r.exposed_globally&&(r.exposed_globally=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"exposed_globally?"),r.exposed_globally=!!$(t=r.exposed_globally)&&t},c.$$arity=0,c.$$parameters=[]),e.defs(f,"$expose_example_group_alias",_=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"expose_example_group_alias"),a.$example_group_aliases()["$<<"](t),s(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(e.const_get_relative(h,"RSpec")),h),"__send__",["define_method",t],(r=function(){var a,i;r.$$s;(a=r.$$p||n)&&(r.$$p=null);var $=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var c=0;c<$;c++)i[c-0]=arguments[c];return e.const_get_relative(h,"RSpec").$world().$register(s(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(h,"RSpec"),"Core"),"ExampleGroup"),"__send__",[t].concat(e.to_a(i)),a.$to_proc()))},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","args"],["block","example_group_block"]],r)),$(a["$exposed_globally?"]())?a.$expose_example_group_alias_globally(t):n},_.$$arity=1,_.$$parameters=[["req","name"]]),function(e,t){e.$$proto,[e].concat(t);e.$attr_accessor("top_level")}(e.get_singleton_class(f),h),e.defs(f,"$expose_globally!",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expose_globally!"),$(r["$exposed_globally?"]())?n:(s(r.$example_group_aliases(),"each",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"expose_globally!")}return a.$expose_example_group_alias_globally(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","method_name"]],t)),r.exposed_globally=!0)},l.$$arity=0,l.$$parameters=[]),e.defs(f,"$remove_globally!",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"remove_globally!"),$(r["$exposed_globally?"]())?(s(r.$example_group_aliases(),"each",[],(t=function(r){var a,i=t.$$s||this;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"remove_globally!")}return s(i,"change_global_dsl",[],(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"remove_globally!")}return t.$undef_method(r)},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","method_name"]],t)),r.exposed_globally=!1):n},u.$$arity=0,u.$$parameters=[]),e.defs(f,"$expose_example_group_alias_globally",p=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"expose_example_group_alias_globally"),s(a,"change_global_dsl",[],(r=function(){var a,i=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"expose_example_group_alias_globally")}return s(i,"define_method",[t],(a=function(){var r,i;a.$$s;(r=a.$$p||n)&&(a.$$p=null);var $=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var c=0;c<$;c++)i[c-0]=arguments[c];return s(e.const_get_qualified("::","RSpec"),"__send__",[t].concat(e.to_a(i)),r.$to_proc())},a.$$s=i,a.$$arity=-1,a.$$parameters=[["rest","a"],["block","b"]],a))},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},p.$$arity=1,p.$$parameters=[["req","method_name"]]),e.defs(f,"$change_global_dsl",d=function(){var t=this,r=d.$$p,a=r||n;r&&(d.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"change_global_dsl"),s(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(t.$top_level()),h),"class_exec",[],a.$to_proc()),
s(e.const_get_relative(h,"Module"),"class_exec",[],a.$to_proc())},d.$$arity=0,d.$$parameters=[["block","changes"]])}(c[0],c)}(c[0],c)}(a[0],a),o=[r],s(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"DSL"),"top_level=",e.to_a(o)),o[t(o.length,1)]},Opal.modules["rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy,o=e.hash2;return e.add_stubs(["$define_method","$[]","$delegate_to_metadata","$empty?","$to_s","$metadata","$location","$call","$format_docstrings_block","$configuration","$attr_reader","$attr_accessor","$create","$alias_method","$current_example=","$-","$start","$pending?","$mark_pending!","$pending","$skipped?","$skip","$!","$dry_run?","$with_around_example_hooks","$run_before_example","$instance_exec","$to_proc","$mark_fixed!","$raise","$set_exception","$run_after_example","$each","$instance_variables","$instance_variable_set","$finish","$public_instance_methods","$==","$to_sym","$__send__","$method","$new","$class","$example","$gsub","$inspect","$any_apply?","$all_apply?","$around_example_hooks_for","$hooks","$example_group","$===","$pending_exception=","$execution_result","$message","$first","$backtrace","$reporter","$mark_skipped!","$argument","$private","$around_example_hooks","$run","$example_started","$now","$clock","$started_at=","$pending_message","$record_finished","$exception=","$example_failed","$pending_message=","$example_pending","$example_passed","$setup_mocks_for_rspec","$verify_mocks","$expecting_with_rspec?","$assign_generated_description","$teardown_mocks_for_rspec","$mocks_need_verification?","$verify_mocks_for_rspec","$pending_fixed=","$nil?","$exception","$pending_fixed?","$generated_description","$[]=","$<<","$clear_generated_description","$include","$status=","$finished_at=","$to_f","$started_at","$run_time=","$tap","$status","$deprecate"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j=c=i(r,$super,"Example",c),T=j.$$proto,I=[j].concat(n);T.example_group_class=T.example_group_instance=T.around_example_hooks=T.exception=a,e.defs(j,"$delegate_to_metadata",_=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"delegate_to_metadata"),$(n,"define_method",[t],(r=function(){var n=r.$$s||this;if(null==n.metadata&&(n.metadata=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"delegate_to_metadata")}return n.metadata["$[]"](t)},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},_.$$arity=1,_.$$parameters=[["req","key"]]),j.$delegate_to_metadata("execution_result"),j.$delegate_to_metadata("file_path"),j.$delegate_to_metadata("full_description"),j.$delegate_to_metadata("location"),j.$delegate_to_metadata("pending"),j.$delegate_to_metadata("skip"),e.defn(j,"$description",l=function(){var t=this,r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),r=function(){return s(t.$metadata()["$[]"]("description").$to_s()["$empty?"]())?"example at "+t.$location():t.$metadata()["$[]"]("description")}(),e.const_get_relative(I,"RSpec").$configuration().$format_docstrings_block().$call(r)},l.$$arity=0,l.$$parameters=[]),j.$attr_reader("exception"),j.$attr_reader("metadata"),j.$attr_reader("example_group_instance"),j.$attr_accessor("clock"),e.defn(j,"$initialize",u=function(t,r,n,i){var $=this;null==i&&(i=a);var s=arguments.length;return(s<3||s>4)&&e.ac(s,-4,this,"initialize"),$.example_group_class=t,$.example_block=i,$.metadata=e.const_get_qualified(e.const_get_relative(I,"Metadata"),"ExampleHash").$create($.example_group_class.$metadata(),n,r,i),$.example_group_instance=$.exception=a,$.clock=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(I,"RSpec"),"Core"),"Time")},u.$$arity=-4,u.$$parameters=[["req","example_group_class"],["req","description"],["req","user_metadata"],["opt","example_block"]]),e.defn(j,"$example_group",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group"),t.example_group_class},p.$$arity=0,p.$$parameters=[]),j.$alias_method("pending?","pending"),j.$alias_method("skipped?","skip"),e.defn(j,"$run",d=function(r,n){var i,o,c=this,_=a,l=a,u=arguments.length;return 2!==u&&e.ac(u,2,this,"run"),function(){try{c.example_group_instance=r,_=[c],$(e.const_get_relative(I,"RSpec"),"current_example=",e.to_a(_)),_[t(_.length,1)],c.$start(n),s(c["$pending?"]())&&e.const_get_relative(I,"Pending")["$mark_pending!"](c,c.$pending());try{try{s(c["$skipped?"]())?e.const_get_relative(I,"Pending")["$mark_pending!"](c,c.$skip()):s(e.const_get_relative(I,"RSpec").$configuration()["$dry_run?"]()["$!"]())&&$(c,"with_around_example_hooks",[],(i=function(){var t=i.$$s||this,r=a;if(null==t.example_group_instance&&(t.example_group_instance=a),null==t.example_block&&(t.example_block=a),i.$$is_lambda||i.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"run")}return function(){try{try{return t.$run_before_example(),$(t.example_group_instance,"instance_exec",[t],t.example_block.$to_proc()),s(t["$pending?"]())?(e.const_get_relative(I,"Pending")["$mark_fixed!"](t),t.$raise(e.const_get_qualified(e.const_get_relative(I,"Pending"),"PendingExampleFixedError"),"Expected example to fail since it is pending, but it passed.",[t.$location()])):a}catch(n){if(e.rescue(n,[e.const_get_qualified(e.const_get_relative(I,"Pending"),"SkipDeclaredInExample")]))try{return a}finally{e.pop_exception()}else{if(!e.rescue(n,[e.const_get_relative(I,"Exception")]))throw n;r=n;try{return t.$set_exception(r)}finally{e.pop_exception()}}}}finally{t.$run_after_example()}}()},i.$$s=c,i.$$arity=0,i.$$parameters=[],i))}catch(t){if(!e.rescue(t,[e.const_get_relative(I,"Exception")]))throw t;l=t;try{c.$set_exception(l)}finally{e.pop_exception()}}}finally{$(c.example_group_instance.$instance_variables(),"each",[],(o=function(t){var r=o.$$s||this;if(null==r.example_group_instance&&(r.example_group_instance=a),null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run")}return r.example_group_instance.$instance_variable_set(t,a)},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","ivar"]],o)),c.example_group_instance=a}return c.$finish(n)}finally{_=[a],$(e.const_get_relative(I,"RSpec"),"current_example=",e.to_a(_)),_[t(_.length,1)]}}()},d.$$arity=2,d.$$parameters=[["req","example_group_instance"],["req","reporter"]]),function(t,$super,r){function n(){}var o,c,_,l,u,p,d,f,h=n=i(t,$super,"Procsy",n),m=h.$$proto,g=[h].concat(r);m.proc=m.executed=m.example=a,h.$attr_reader("example"),$(e.const_get_relative(g,"Example").$public_instance_methods(!1),"each",[],(o=function(t){var r,n,i=o.$$s||this;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"<class:Procsy>")}return s(s(r=t.$to_sym()["$=="]("run"))?r:t.$to_sym()["$=="]("inspect"))?a:$(i,"define_method",[t],(n=function(){var r,i,s=n.$$s||this;null==s.example&&(s.example=a),(r=n.$$p||a)&&(n.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),i=new Array(c);for(var _=0;_<o;_++)i[_-0]=arguments[_];return $(s.example,"__send__",[t].concat(e.to_a(i)),r.$to_proc())},n.$$s=i,n.$$arity=-1,n.$$parameters=[["rest","a"],["block","b"]],n))},o.$$s=h,o.$$arity=1,o.$$parameters=[["req","name"]],o)),$(e.const_get_relative(g,"Proc").$public_instance_methods(!1),"each",[],(c=function(t){var r,n,i,o=c.$$s||this;if(null==t&&(t=a),c.$$is_lambda||c.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"<class:Procsy>")}return s(s(r=s(n=t.$to_sym()["$=="]("call"))?n:t.$to_sym()["$=="]("inspect"))?r:t.$to_sym()["$=="]("to_proc"))?a:$(o,"define_method",[t],(i=function(){var r,n,s=i.$$s||this;null==s.proc&&(s.proc=a),(r=i.$$p||a)&&(i.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<o;_++)n[_-0]=arguments[_];return $(s.proc,"__send__",[t].concat(e.to_a(n)),r.$to_proc())},i.$$s=o,i.$$arity=-1,i.$$parameters=[["rest","a"],["block","b"]],i))},c.$$s=h,c.$$arity=1,c.$$parameters=[["req","name"]],c)),e.defn(h,"$call",_=function(){var t,r=this,n=_.$$p,i=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(_.$$p=null),r.executed=!0,$(r.proc,"call",e.to_a(t),i.$to_proc())},_.$$arity=-1,_.$$parameters=[["rest","args"],["block","block"]]),e.alias(h,"run","call"),e.defn(h,"$to_proc",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_proc"),t.$method("call").$to_proc()},l.$$arity=0,l.$$parameters=[]),e.defn(h,"$initialize",u=function(t){var r=this,n=u.$$p,i=n||a;n&&(u.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),r.example=t,r.proc=i,r.executed=!1},u.$$arity=1,u.$$parameters=[["req","example"],["block","block"]]),e.defn(h,"$wrap",p=function(){var t=this,r=p.$$p,n=r||a;r&&(p.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"wrap"),$(t.$class(),"new",[t.$example()],n.$to_proc())},p.$$arity=0,p.$$parameters=[["block","block"]]),e.defn(h,"$executed?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"executed?"),t.executed},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$inspect",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),t.example.$inspect().$gsub("Example","ExampleProcsy")},f.$$arity=0,f.$$parameters=[])}(I[0],null,I),e.defn(j,"$any_apply?",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_apply?"),e.const_get_relative(I,"MetadataFilter")["$any_apply?"](t,r.$metadata())},f.$$arity=1,f.$$parameters=[["req","filters"]]),e.defn(j,"$all_apply?",h=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"all_apply?"),s(r=e.const_get_relative(I,"MetadataFilter")["$all_apply?"](t,a.$metadata()))?r:a.example_group_class["$all_apply?"](t)},h.$$arity=1,h.$$parameters=[["req","filters"]]),e.defn(j,"$around_example_hooks",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"around_example_hooks"),r.around_example_hooks=s(t=r.around_example_hooks)?t:r.$example_group().$hooks().$around_example_hooks_for(r)},m.$$arity=0,m.$$parameters=[]),e.defn(j,"$set_exception",g=function(r,n){var i,o=this,c=a,_=a;null==n&&(n=a);var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"set_exception"),s(s(i=o["$pending?"]())?e.const_get_qualified(e.const_get_relative(I,"Pending"),"PendingExampleFixedError")["$==="](r)["$!"]():i)?(c=[r],$(o.$execution_result(),"pending_exception=",e.to_a(c)),c[t(c.length,1)]):(s(o.exception)&&(_="\n  An error occurred "+n+"\n    "+r.$class()+": "+r.$message()+"\n    occurred at "+r.$backtrace().$first()+"\n\n",e.const_get_relative(I,"RSpec").$configuration().$reporter().$message(_)),o.exception=s(i=o.exception)?i:r)},g.$$arity=-2,g.$$parameters=[["req","exception"],["opt","context"]]),e.defn(j,"$fail_with_exception",v=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"fail_with_exception"),a.$start(t),a.$set_exception(r),a.$finish(t)},v.$$arity=2,v.$$parameters=[["req","reporter"],["req","exception"]]),e.defn(j,"$skip_with_exception",y=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"skip_with_exception"),a.$start(t),e.const_get_relative(I,"Pending")["$mark_skipped!"](a,r.$argument()),a.$finish(t)},y.$$arity=2,y.$$parameters=[["req","reporter"],["req","exception"]]),e.defn(j,"$instance_exec_with_rescue",b=function(t){var r=this,n=b.$$p,i=n||a,s=a;n&&(b.$$p=null);var o=arguments.length;1!==o&&e.ac(o,1,this,"instance_exec_with_rescue");try{return $(r.example_group_instance,"instance_exec",[r],i.$to_proc())}catch(a){if(!e.rescue(a,[e.const_get_relative(I,"Exception")]))throw a;s=a;try{return r.$set_exception(s,t)}finally{e.pop_exception()}}},b.$$arity=1,b.$$parameters=[["req","context"],["block","block"]]),e.defn(j,"$instance_exec",x=function(){var t,r=this,n=x.$$p,i=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(x.$$p=null),$(r.example_group_instance,"instance_exec",e.to_a(t),i.$to_proc())},x.$$arity=-1,x.$$parameters=[["rest","args"],["block","block"]]),j.$private(),e.defn(j,"$with_around_example_hooks",k=function(){var t=this,r=k.$$p,n=r||a,i=a;r&&(k.$$p=null);var o=arguments.length;0!==o&&e.ac(o,0,this,"with_around_example_hooks");try{return s(t.$around_example_hooks()["$empty?"]())?e.yieldX(n,[]):t.example_group_class.$hooks().$run("around","example",t,$(e.const_get_relative(I,"Procsy"),"new",[t],n.$to_proc()))}catch(r){if(!e.rescue(r,[e.const_get_relative(I,"Exception")]))throw r;i=r;try{return t.$set_exception(i,"in an `around(:example)` hook")}finally{e.pop_exception()}}},k.$$arity=0,k.$$parameters=[["block","block"]]),e.defn(j,"$start",q=function(r){var n=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"start"),r.$example_started(n),i=[n.$clock().$now()],$(n.$execution_result(),"started_at=",e.to_a(i)),i[t(i.length,1)]},q.$$arity=1,q.$$parameters=[["req","reporter"]]),e.defn(j,"$finish",w=function(r){var n=this,i=a,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"finish"),i=n.$execution_result().$pending_message(),s(n.exception)?(n.$record_finished("failed"),o=[n.exception],$(n.$execution_result(),"exception=",e.to_a(o)),o[t(o.length,1)],r.$example_failed(n),!1):s(i)?(n.$record_finished("pending"),o=[i],$(n.$execution_result(),"pending_message=",e.to_a(o)),o[t(o.length,1)],r.$example_pending(n),!0):(n.$record_finished("passed"),r.$example_passed(n),!0)},w.$$arity=1,w.$$parameters=[["req","reporter"]]),e.defn(j,"$record_finished",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"record_finished"),r.$execution_result().$record_finished(t,r.$clock().$now())},E.$$arity=1,E.$$parameters=[["req","status"]]),e.defn(j,"$run_before_example",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"run_before_example"),t.example_group_instance.$setup_mocks_for_rspec(),t.example_group_class.$hooks().$run("before","example",t)},S.$$arity=0,S.$$parameters=[]),e.defn(j,"$run_after_example",M=function(){var t=this,r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"run_after_example"),function(){try{try{return t.example_group_class.$hooks().$run("after","example",t),t.$verify_mocks(),s(e.const_get_relative(I,"RSpec").$configuration()["$expecting_with_rspec?"]())?t.$assign_generated_description():a}catch(a){if(!e.rescue(a,[e.const_get_relative(I,"Exception")]))throw a;r=a;try{return t.$set_exception(r,"in an `after(:example)` hook")}finally{e.pop_exception()}}}finally{t.example_group_instance.$teardown_mocks_for_rspec()}}()},M.$$arity=0,M.$$parameters=[]),e.defn(j,"$verify_mocks",O=function(){var r=this,n=a,i=a,o=arguments.length;0!==o&&e.ac(o,0,this,"verify_mocks");try{return s(r["$mocks_need_verification?"]())?r.example_group_instance.$verify_mocks_for_rspec():a}catch(o){if(!e.rescue(o,[e.const_get_relative(I,"Exception")]))throw o;n=o;try{return s(r["$pending?"]())?(i=[!1],$(r.$execution_result(),"pending_fixed=",e.to_a(i)),i[t(i.length,1)],r.exception=a):r.$set_exception(n)}finally{e.pop_exception()}}},O.$$arity=0,O.$$parameters=[]),e.defn(j,"$mocks_need_verification?",A=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"mocks_need_verification?"),s(t=r.$exception()["$nil?"]())?t:r.$execution_result()["$pending_fixed?"]()},A.$$arity=0,A.$$parameters=[]),e.defn(j,"$assign_generated_description",R=function(){var r,n=this,i=a,o=a,c=a,_=arguments.length;return 0!==_&&e.ac(_,0,this,"assign_generated_description"),function(){try{try{return s(s(r=n.$metadata()["$[]"]("description")["$empty?"]())?i=e.const_get_qualified(e.const_get_relative(I,"RSpec"),"Matchers").$generated_description():r)?(o=["description",i],$(n.$metadata(),"[]=",e.to_a(o)),o[t(o.length,1)],n.$metadata()["$[]"]("full_description")["$<<"](i)):a}catch(t){if(!e.rescue(t,[e.const_get_relative(I,"Exception")]))throw t;c=t;try{return n.$set_exception(c,"while assigning the example description")}finally{e.pop_exception()}}}finally{e.const_get_qualified(e.const_get_relative(I,"RSpec"),"Matchers").$clear_generated_description()}}()},R.$$arity=0,R.$$parameters=[]),e.defn(j,"$skip_message",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"skip_message"),s(e.const_get_relative(I,"String")["$==="](t.$skip()))?t.$skip():e.const_get_qualified(e.const_get_relative(I,"Pending"),"NO_REASON_GIVEN")},z.$$arity=0,z.$$parameters=[]),function(r,$super,n){function c(){}var _,l,u,p,d,f=c=i(r,$super,"ExecutionResult",c),h=(f.$$proto,[f].concat(n));f.$include(e.const_get_relative(h,"HashImitatable")),f.$attr_accessor("status"),f.$attr_accessor("exception"),f.$attr_accessor("started_at"),f.$attr_accessor("finished_at"),f.$attr_accessor("run_time"),f.$attr_accessor("pending_message"),f.$attr_accessor("pending_exception"),f.$attr_accessor("pending_fixed"),e.alias(f,"pending_fixed?","pending_fixed"),e.defn(f,"$record_finished",_=function(r,n){var i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"record_finished"),s=[r],$(i,"status=",e.to_a(s)),s[t(s.length,1)],s=[n],$(i,"finished_at=",e.to_a(s)),s[t(s.length,1)],s=[t(n,i.$started_at()).$to_f()],$(i,"run_time=",e.to_a(s)),s[t(s.length,1)]},_.$$arity=2,_.$$parameters=[["req","status"],["req","finished_at"]]),f.$private(),e.defn(f,"$hash_for_delegation",l=function(){var r,n=this,i=l.$$p,o=a,c=a,_=a;i&&(l.$$p=null);var u=arguments.length;for(0!==u&&e.ac(u,0,this,"hash_for_delegation"),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return $($(n,e.find_super_dispatcher(n,"hash_for_delegation",l,!1),o,i),"tap",[],(r=function(n){var i,o=r.$$s||this,c=a;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"hash_for_delegation")}return s(i=n["$[]"]("status"))?(c=["status",o.$status().$to_s()],$(n,"[]=",e.to_a(c)),c[t(c.length,1)]):i},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","hash"]],r))},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$set_value",u=function(t,r){var a,n=this,i=u.$$p;i&&(u.$$p=null);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"set_value"),t["$=="]("status")&&(r=s(a=r)?r.$to_sym():a),$(n,e.find_super_dispatcher(n,"set_value",u,!1),[t,r],null)},u.$$arity=2,u.$$parameters=[["req","name"],["req","value"]]),e.defn(f,"$get_value",p=function(t){var r=this,n=p.$$p,i=a,o=a,c=a;n&&(p.$$p=null);var _=arguments.length;for(1!==_&&e.ac(_,1,this,"get_value"),o=0,c=arguments.length,i=new Array(c);o<c;o++)i[o]=arguments[o];return t["$=="]("status")?s(r.$status())?r.$status().$to_s():a:$(r,e.find_super_dispatcher(r,"get_value",p,!1),i,n)},p.$$arity=1,p.$$parameters=[["req","name"]]),e.defn(f,"$issue_deprecation",d=function(){var t,r=arguments.length,a=r-1;a<0&&(a=0),t=new Array(a);for(var n=1;n<r;n++)t[n-1]=arguments[n];var i=arguments.length;return i<1&&e.ac(i,-2,this,"issue_deprecation"),e.const_get_relative(h,"RSpec").$deprecate("Treating `metadata[:execution_result]` as a hash",o(["replacement"],{replacement:"the attributes methods to access the data"}))},d.$$arity=-2,d.$$parameters=[["req","_method_name"],["rest","_args"]])}(I[0],null,I)}(u[0],null,u),function(t,$super,r){function n(){}var s,c,_=n=i(t,$super,"SuiteHookContext",n),l=(_.$$proto,[_].concat(r));e.defn(_,"$initialize",s=function(){var t=this,r=s.$$p;r&&(s.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"initialize"),$(t,e.find_super_dispatcher(t,"initialize",s,!1),[e.const_get_relative(l,"AnonymousExampleGroup"),"",o([],{})],null)},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$set_exception",c=function(t,r){var n=this;null==r&&(r=a);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"set_exception"),n.$raise(t)},c.$$arity=-2,c.$$parameters=[["req","exception"],["opt","_context"]])}(u[0],e.const_get_relative(u,"Example"),u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/core/example_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice),s=e.module,o=e.klass,c=e.truthy,_=e.send,l=e.hash2;return e.add_stubs(["$require_rspec_support","$extend","$include","$respond_to?","$__send__","$to_proc","$superclass","$metadata","$each","$define_singleton_method","$fetch","$delegate_to_metadata","$[]","$call","$format_docstrings_block","$configuration","$described_class","$class","$build_hash_from","$update","$<<","$examples","$new","$last","$define_example_method","$thread_local_metadata","$==","$raise","$[]=","$-","$shift","$dup","$is_a?","$merge!","$pop","$tap","$subclass","$children","$delete","$expose_example_group_alias","$define_example_group_method","$example_group","$caller","$find_and_eval_shared","$define_nested_shared_group_method","$find","$shared_example_group_registry","$world","$parent_groups","$inspect","$module_exec","$set_it_up","$assign_const","$define_helpers_on","$ensure_example_groups_are_configured","$unshift","$create","$superclass_metadata","$register_globals","$hooks","$configure_group","$filtered_examples","$+","$inject","$descendant_filtered_examples","$descendants","$select","$ancestors","$<","$configure_mock_framework","$configure_expectation_framework","$empty?","$instance_variables","$instance_variable_get","$before_context_ivars","$set_ivars","$isolate_for_context_hook","$run","$store_before_context_ivars","$wants_to_quit","$top_level?","$clear_remaining_example_groups","$example_group_started","$run_before_context_hooks","$run_examples","$all?","$map","$order","$ordering_strategy","$for_filtered_examples","$skip_with_exception","$fail_fast?","$wants_to_quit=","$fail_with_exception","$run_after_context_hooks","$clear","$example_group_finished","$ordering_registry","$warn","$gsub","$location","$!","$any_apply?","$all_apply?","$declaration_line_numbers","$description","$instance_variable_set","$base_name_for","$constant_scope_for","$disambiguate","$const_set","$gsub!","$upcase","$last_match","$lstrip!","$_base_name_for","$private_class_method","$const_defined_on?","$next!"]),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("recursive_const_methods"),function(n,u){var p,d=p=s(n,"RSpec"),f=(d.$$proto,[d].concat(u));!function(n,u){var p,d=p=s(n,"Core"),f=(d.$$proto,[d].concat(u));!function(n,$super,s){function u(){}var p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K=u=o(n,$super,"ExampleGroup",u),W=(K.$$proto,[K].concat(s));K.$extend(e.const_get_relative(W,"Hooks")),K.$include(e.const_get_relative(W,"MemoizedHelpers")),K.$extend(e.const_get_qualified(e.const_get_relative(W,"MemoizedHelpers"),"ClassMethods")),K.$include(e.const_get_relative(W,"Pending")),K.$extend(e.const_get_relative(W,"SharedExampleGroup")),c(K["$respond_to?"]("define_singleton_method"))||e.defs(K,"$define_singleton_method",p=function(){var t,r=this,a=p.$$p,n=a||i,$=arguments.length,s=$-0;s<0&&(s=0),t=new Array(s);for(var o=0;o<$;o++)t[o-0]=arguments[o];return a&&(p.$$p=null),_(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(r),W),"__send__",["define_method"].concat(e.to_a(t)),n.$to_proc())},p.$$arity=-1,p.$$parameters=[["rest","a"],["block","b"]]),e.defs(K,"$metadata",d=function(){var t,r=this;null==r.metadata&&(r.metadata=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"metadata"),c(null!=(t=r.metadata)&&t!==i?"instance-variable":i)?r.metadata:i},d.$$arity=0,d.$$parameters=[]),e.defs(K,"$superclass_metadata",f=function(){var t,r=this;null==r.superclass_metadata&&(r.superclass_metadata=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"superclass_metadata"),r.superclass_metadata=c(t=r.superclass_metadata)?t:function(){return c(r.$superclass()["$respond_to?"]("metadata"))?r.$superclass().$metadata():i}()},f.$$arity=0,f.$$parameters=[]),e.defs(K,"$delegate_to_metadata",h=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var s=0;s<n;s++)r[s-0]=arguments[s];return _(r,"each",[],(t=function(r){var a,n=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"delegate_to_metadata")}return _(n,"define_singleton_method",[r],(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"delegate_to_metadata")}return t.$metadata().$fetch(r)},a.$$s=n,a.$$arity=0,a.$$parameters=[],a))},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","name"]],t))},h.$$arity=-1,h.$$parameters=[["rest","names"]]),K.$delegate_to_metadata("described_class","file_path","location"),e.defs(K,"$description",m=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),r=t.$metadata()["$[]"]("description"),e.const_get_relative(W,"RSpec").$configuration().$format_docstrings_block().$call(r)},m.$$arity=0,m.$$parameters=[]),e.defn(K,"$described_class",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"described_class"),t.$class().$described_class()},g.$$arity=0,g.$$parameters=[]),e.defs(K,"$define_example_method",v=function(t,r){var a,n=this;null==r&&(r=l([],{}));var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"define_example_method"),_(n,"define_singleton_method",[t],(a=function(){var t,n,s,o=a.$$s||this,_=i,u=i,p=i;(t=a.$$p||i)&&(a.$$p=null);var d=arguments.length,f=d-0;f<0&&(f=0),n=new Array(f);for(var h=0;h<d;h++)n[h-0]=arguments[h];return s=[].concat(e.to_a(n)),_=null==s[0]?i:s[0],u=$.call(s,1),p=e.const_get_relative(W,"Metadata").$build_hash_from(u),c(t)||p.$update(l(["skip"],{skip:e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(W,"RSpec"),"Core"),"Pending"),"NOT_YET_IMPLEMENTED")})),p.$update(r),o.$examples()["$<<"](e.const_get_qualified(e.const_get_qualified(e.const_get_relative(W,"RSpec"),"Core"),"Example").$new(o,_,p,t)),o.$examples().$last()},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","all_args"],["block","block"]],a))},v.$$arity=-2,v.$$parameters=[["req","name"],["opt","extra_options"]]),K.$define_example_method("example"),K.$define_example_method("it"),K.$define_example_method("specify"),K.$define_example_method("focus",l(["focus"],{focus:!0})),K.$define_example_method("fexample",l(["focus"],{focus:!0})),K.$define_example_method("fit",l(["focus"],{focus:!0})),K.$define_example_method("fspecify",l(["focus"],{focus:!0})),K.$define_example_method("xexample",l(["skip"],{skip:"Temporarily skipped with xexample"})),K.$define_example_method("xit",l(["skip"],{skip:"Temporarily skipped with xit"})),K.$define_example_method("xspecify",l(["skip"],{skip:"Temporarily skipped with xspecify"})),K.$define_example_method("skip",l(["skip"],{skip:!0})),K.$define_example_method("pending",l(["pending"],{pending:!0})),e.defs(K,"$define_example_group_method",y=function(r,a){var n,$=this;null==a&&(a=l([],{}));var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"define_example_group_method"),_($,"define_singleton_method",[r],(n=function(){var $,s,o,l=n.$$s||this,u=i,p=i,d=i,f=i,h=i;($=n.$$p||i)&&(n.$$p=null);var m=arguments.length,g=m-0;g<0&&(g=0),s=new Array(g);for(var v=0;v<m;v++)s[v-0]=arguments[v];return u=e.const_get_relative(W,"RSpec").$thread_local_metadata(),p=l["$=="](e.const_get_relative(W,"ExampleGroup")),c(p)&&(c(u["$[]"]("in_example_group"))&&l.$raise("Creating an isolated context from within a context is not allowed. Change `RSpec."+r+"` to `"+r+"` or move this to a top-level scope."),d=["in_example_group",!0],_(u,"[]=",e.to_a(d)),d[t(d.length,1)]),function(){try{return f=s.$shift(),h=a.$dup(),c(s.$last()["$is_a?"](e.const_get_relative(W,"Hash")))&&h["$merge!"](s.$pop()),s["$<<"](h),_(_(l,"subclass",[l,f,s],$.$to_proc()),"tap",[],(o=function(t){var r=o.$$s||this;if(null==t&&(t=i),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"define_example_group_method")}return r.$children()["$<<"](t)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","child"]],o))}finally{!function(){c(p)&&u.$delete("in_example_group")}()}}()},n.$$s=$,n.$$arity=-1,n.$$parameters=[["rest","args"],["block","example_group_block"]],n)),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(W,"RSpec"),"Core"),"DSL").$expose_example_group_alias(r)},y.$$arity=-2,y.$$parameters=[["req","name"],["opt","metadata"]]),K.$define_example_group_method("example_group"),K.$define_example_group_method("describe"),K.$define_example_group_method("context"),K.$define_example_group_method("xdescribe",l(["skip"],{skip:"Temporarily skipped with xdescribe"})),K.$define_example_group_method("xcontext",l(["skip"],{skip:"Temporarily skipped with xcontext"})),K.$define_example_group_method("fdescribe",l(["focus"],{focus:!0})),K.$define_example_group_method("fcontext",l(["focus"],{focus:!0})),e.defs(K,"$define_nested_shared_group_method",b=function(r,a){var n,$=this;null==a&&(a="it should behave like");var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"define_nested_shared_group_method"),_($,"define_singleton_method",[r],(n=function(r){var $,s,o,c=n.$$s||this,u=i,p=i;($=n.$$p||i)&&(n.$$p=null);var d=arguments.length,f=d-1;f<0&&(f=0),s=new Array(f);for(var h=1;h<d;h++)s[h-1]=arguments[h];if(null==r&&(r=i),n.$$is_lambda||n.$$define_meth){var m=arguments.length;m<1&&e.block_ac(m,-2,"define_nested_shared_group_method")}return u=_(c,"example_group",[a+" "+r,l(["caller"],{caller:c.$caller()})],(o=function(){var t=o.$$s||this;if(o.$$is_lambda||o.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"define_nested_shared_group_method")}return _(t,"find_and_eval_shared",["examples",r].concat(e.to_a(s)),$.$to_proc())},o.$$s=c,o.$$arity=0,o.$$parameters=[],o)),p=["shared_group_name",r],_(u.$metadata(),"[]=",e.to_a(p)),p[t(p.length,1)],u},n.$$s=$,n.$$arity=-2,n.$$parameters=[["req","name"],["rest","args"],["block","customization_block"]],n))},b.$$arity=-2,b.$$parameters=[["req","new_name"],["opt","report_label"]]),K.$define_nested_shared_group_method("it_behaves_like","behaves like"),K.$define_nested_shared_group_method("it_should_behave_like"),e.defs(K,"$include_context",x=function(t){var r,a=this,n=x.$$p,$=n||i,s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];n&&(x.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"include_context"),_(a,"find_and_eval_shared",["context",t].concat(e.to_a(r)),$.$to_proc())},x.$$arity=-2,x.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defs(K,"$include_examples",k=function(t){var r,a=this,n=k.$$p,$=n||i,s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];n&&(k.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"include_examples"),_(a,"find_and_eval_shared",["examples",t].concat(e.to_a(r)),$.$to_proc())},k.$$arity=-2,k.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defs(K,"$find_and_eval_shared",q=function(t,r){var a,n=this,$=q.$$p,s=$||i,o=i,l=arguments.length,u=l-2;u<0&&(u=0),a=new Array(u);for(var p=2;p<l;p++)a[p-2]=arguments[p];$&&(q.$$p=null);var d=arguments.length;return d<2&&e.ac(d,-3,this,"find_and_eval_shared"),o=e.const_get_relative(W,"RSpec").$world().$shared_example_group_registry().$find(n.$parent_groups(),r),c(o)||n.$raise(e.const_get_relative(W,"ArgumentError"),"Could not find shared "+t+" "+r.$inspect()),_(n,"module_exec",e.to_a(a),o.$to_proc()),c(s)?_(n,"module_exec",[],s.$to_proc()):i},q.$$arity=-3,q.$$parameters=[["req","label"],["req","name"],["rest","args"],["block","customization_block"]]),e.defs(K,"$subclass",w=function(t,r,a){var n=w.$$p,$=n||i,s=i;n&&(w.$$p=null);var o=arguments.length;return 3!==o&&e.ac(o,3,this,"subclass"),s=e.const_get_relative(W,"Class").$new(t),_(s,"set_it_up",[r].concat(e.to_a(a)),$.$to_proc()),e.const_get_relative(W,"ExampleGroups").$assign_const(s),c($)&&_(s,"module_exec",[],$.$to_proc()),e.const_get_relative(W,"MemoizedHelpers").$define_helpers_on(s),s},w.$$arity=3,w.$$parameters=[["req","parent"],["req","description"],["req","args"],["block","example_group_block"]]),e.defs(K,"$set_it_up",E=function(){var t,r=this,a=E.$$p,n=a||i,$=i,s=i,o=arguments.length,c=o-0;c<0&&(c=0),t=new Array(c);for(var l=0;l<o;l++)t[l-0]=arguments[l];return a&&(E.$$p=null),r.$ensure_example_groups_are_configured(),$=t.$shift(),s=e.const_get_relative(W,"Metadata").$build_hash_from(t),t.$unshift($),r.metadata=_(e.const_get_qualified(e.const_get_relative(W,"Metadata"),"ExampleGroupHash"),"create",[r.$superclass_metadata(),s].concat(e.to_a(t)),n.$to_proc()),r.$hooks().$register_globals(r,e.const_get_relative(W,"RSpec").$configuration().$hooks()),e.const_get_relative(W,"RSpec").$world().$configure_group(r)
},E.$$arity=-1,E.$$parameters=[["rest","args"],["block","example_group_block"]]),e.defs(K,"$examples",S=function(){var t,r=this;null==r.examples&&(r.examples=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"examples"),r.examples=c(t=r.examples)?t:[]},S.$$arity=0,S.$$parameters=[]),e.defs(K,"$filtered_examples",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"filtered_examples"),e.const_get_relative(W,"RSpec").$world().$filtered_examples()["$[]"](t)},M.$$arity=0,M.$$parameters=[]),e.defs(K,"$descendant_filtered_examples",O=function(){var t,a,n=this;null==n.descendant_filtered_examples&&(n.descendant_filtered_examples=i);var $=arguments.length;return 0!==$&&e.ac($,0,this,"descendant_filtered_examples"),n.descendant_filtered_examples=c(t=n.descendant_filtered_examples)?t:r(n.$filtered_examples(),_(n.$children(),"inject",[[]],(a=function(t,n){a.$$s;if(null==t&&(t=i),null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"descendant_filtered_examples")}return r(t,n.$descendant_filtered_examples())},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","a"],["req","e"]],a)))},O.$$arity=0,O.$$parameters=[]),e.defs(K,"$children",A=function(){var t,r=this;null==r.children&&(r.children=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"children"),r.children=c(t=r.children)?t:[]},A.$$arity=0,A.$$parameters=[]),e.defs(K,"$descendants",R=function(){var t,a,n=this;null==n._descendants&&(n._descendants=i);var $=arguments.length;return 0!==$&&e.ac($,0,this,"descendants"),n._descendants=c(t=n._descendants)?t:r([n],_(n.$children(),"inject",[[]],(a=function(t,n){a.$$s;if(null==t&&(t=i),null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"descendants")}return r(t,n.$descendants())},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","a"],["req","e"]],a)))},R.$$arity=0,R.$$parameters=[]),e.defs(K,"$parent_groups",z=function(){var t,r,n=this;null==n.parent_groups&&(n.parent_groups=i);var $=arguments.length;return 0!==$&&e.ac($,0,this,"parent_groups"),n.parent_groups=c(t=n.parent_groups)?t:_(n.$ancestors(),"select",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"parent_groups")}return a(t,e.const_get_qualified(e.const_get_qualified(e.const_get_relative(W,"RSpec"),"Core"),"ExampleGroup"))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","a"]],r))},z.$$arity=0,z.$$parameters=[]),e.defs(K,"$top_level?",j=function(){var t,r=this;null==r.top_level&&(r.top_level=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"top_level?"),r.top_level=c(t=r.top_level)?t:r.$superclass()["$=="](e.const_get_relative(W,"ExampleGroup"))},j.$$arity=0,j.$$parameters=[]),e.defs(K,"$ensure_example_groups_are_configured",T=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"ensure_example_groups_are_configured"),c(null!=u.$$cvars["@@example_groups_configured"]?"class variable":i)?i:(e.const_get_relative(W,"RSpec").$configuration().$configure_mock_framework(),e.const_get_relative(W,"RSpec").$configuration().$configure_expectation_framework(),e.class_variable_set(u,"@@example_groups_configured",!0))},T.$$arity=0,T.$$parameters=[]),e.defs(K,"$before_context_ivars",I=function(){var t,r=this;null==r.before_context_ivars&&(r.before_context_ivars=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"before_context_ivars"),r.before_context_ivars=c(t=r.before_context_ivars)?t:l([],{})},I.$$arity=0,I.$$parameters=[]),e.defs(K,"$store_before_context_ivars",C=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"store_before_context_ivars"),c(r.$instance_variables()["$empty?"]())?i:_(r.$instance_variables(),"each",[],(a=function(n){var $=a.$$s||this,s=i;if(null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"store_before_context_ivars")}return s=[n,r.$instance_variable_get(n)],_($.$before_context_ivars(),"[]=",e.to_a(s)),s[t(s.length,1)]},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","ivar"]],a))},C.$$arity=1,C.$$parameters=[["req","example_group_instance"]]),e.defs(K,"$run_before_context_hooks",P=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"run_before_context_hooks"),c(a.$descendant_filtered_examples()["$empty?"]())?i:function(){try{return a.$set_ivars(t,a.$superclass().$before_context_ivars()),_(e.const_get_qualified(e.const_get_relative(W,"ContextHookMemoizedHash"),"Before"),"isolate_for_context_hook",[t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"run_before_context_hooks")}return a.$hooks().$run("before","context",t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))}finally{a.$store_before_context_ivars(t)}}()},P.$$arity=1,P.$$parameters=[["req","example_group_instance"]]),e.defs(K,"$run_after_context_hooks",N=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"run_after_context_hooks"),c(a.$descendant_filtered_examples()["$empty?"]())?i:(a.$set_ivars(t,a.$before_context_ivars()),_(e.const_get_qualified(e.const_get_relative(W,"ContextHookMemoizedHash"),"After"),"isolate_for_context_hook",[t],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"run_after_context_hooks")}return a.$hooks().$run("after","context",t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)))},N.$$arity=1,N.$$parameters=[["req","example_group_instance"]]),e.defs(K,"$run",F=function(r){var a,n,$,s,o=this,l=i,u=i,p=i,d=i,f=arguments.length;return 1!==f&&e.ac(f,1,this,"run"),c(e.const_get_relative(W,"RSpec").$world().$wants_to_quit())?(c(o["$top_level?"]())&&e.const_get_relative(W,"RSpec").$world().$clear_remaining_example_groups(),i):(r.$example_group_started(o),function(){try{try{return o.$run_before_context_hooks(o.$new()),l=o.$run_examples(r),u=_(o.$ordering_strategy().$order(o.$children()),"map",[],(a=function(t){a.$$s;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"run")}return t.$run(r)},a.$$s=o,a.$$arity=1,a.$$parameters=[["req","child"]],a))["$all?"](),c(n=l)?u:n}catch(a){if(e.rescue(a,[e.const_get_qualified(e.const_get_relative(W,"Pending"),"SkipDeclaredInExample")])){p=a;try{return _(o,"for_filtered_examples",[r],($=function(t){$.$$s;if(null==t&&(t=i),$.$$is_lambda||$.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"run")}return t.$skip_with_exception(r,p)},$.$$s=o,$.$$arity=1,$.$$parameters=[["req","example"]],$))}finally{e.pop_exception()}}else{if(!e.rescue(a,[e.const_get_relative(W,"Exception")]))throw a;p=a;try{return c(o["$fail_fast?"]())&&(d=[!0],_(e.const_get_relative(W,"RSpec").$world(),"wants_to_quit=",e.to_a(d)),d[t(d.length,1)]),_(o,"for_filtered_examples",[r],(s=function(t){s.$$s;if(null==t&&(t=i),s.$$is_lambda||s.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"run")}return t.$fail_with_exception(r,p)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","example"]],s))}finally{e.pop_exception()}}}}finally{o.$run_after_context_hooks(o.$new()),o.$before_context_ivars().$clear(),r.$example_group_finished(o)}}())},F.$$arity=1,F.$$parameters=[["req","reporter"]]),e.defs(K,"$ordering_strategy",B=function(){var t,r=this,a=i,n=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"ordering_strategy"),a=r.$metadata().$fetch("order","global"),n=e.const_get_relative(W,"RSpec").$configuration().$ordering_registry(),_(n,"fetch",[a],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"ordering_strategy")}return r.$warn(("            |WARNING: Ignoring unknown ordering specified using `:order => "+a.$inspect()+"` metadata.\n            |         Falling back to configured global ordering.\n            |         Unrecognized ordering specified at: "+r.$location()+"\n").$gsub(/^ +\|/,"")),n.$fetch("global")},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},B.$$arity=0,B.$$parameters=[]),e.defs(K,"$run_examples",D=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"run_examples"),_(n.$ordering_strategy().$order(n.$filtered_examples()),"map",[],(a=function(n){var $,s=a.$$s||this,o=i,l=i,u=i;if(null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var p=arguments.length;1!==p&&e.block_ac(p,1,"run_examples")}return c(e.const_get_relative(W,"RSpec").$world().$wants_to_quit())?i:(o=s.$new(),s.$set_ivars(o,s.$before_context_ivars()),l=n.$run(o,r),c(c($=s["$fail_fast?"]())?l["$!"]():$)&&(u=[!0],_(e.const_get_relative(W,"RSpec").$world(),"wants_to_quit=",e.to_a(u)),u[t(u.length,1)]),l)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","example"]],a))["$all?"]()},D.$$arity=1,D.$$parameters=[["req","reporter"]]),e.defs(K,"$for_filtered_examples",H=function(t){var r,a=this,n=H.$$p,$=n||i;n&&(H.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"for_filtered_examples"),_(a.$filtered_examples(),"each",[],$.$to_proc()),_(a.$children(),"each",[],(r=function(a){r.$$s;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"for_filtered_examples")}return t.$example_group_started(a),_(a,"for_filtered_examples",[t],$.$to_proc()),t.$example_group_finished(a)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","child"]],r)),!1},H.$$arity=1,H.$$parameters=[["req","reporter"],["block","block"]]),e.defs(K,"$fail_fast?",L=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"fail_fast?"),e.const_get_relative(W,"RSpec").$configuration()["$fail_fast?"]()},L.$$arity=0,L.$$parameters=[]),e.defs(K,"$any_apply?",U=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_apply?"),e.const_get_relative(W,"MetadataFilter")["$any_apply?"](t,r.$metadata())},U.$$arity=1,U.$$parameters=[["req","filters"]]),e.defs(K,"$all_apply?",G=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"all_apply?"),e.const_get_relative(W,"MetadataFilter")["$all_apply?"](t,r.$metadata())},G.$$arity=1,G.$$parameters=[["req","filters"]]),e.defs(K,"$declaration_line_numbers",Y=function(){var t,a,n,$=this;null==$.declaration_line_numbers&&($.declaration_line_numbers=i);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"declaration_line_numbers"),$.declaration_line_numbers=c(t=$.declaration_line_numbers)?t:r(r([$.$metadata()["$[]"]("line_number")],_($.$examples(),"map",[],(a=function(t){a.$$s;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"declaration_line_numbers")}return t.$metadata()["$[]"]("line_number")},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","e"]],a))),_($.$children(),"inject",[[]],(n=function(t,a){n.$$s;if(null==t&&(t=i),null==a&&(a=i),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"declaration_line_numbers")}return r(t,a.$declaration_line_numbers())},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","a"],["req","e"]],n)))},Y.$$arity=0,Y.$$parameters=[]),e.defs(K,"$top_level_description",V=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"top_level_description"),t.$parent_groups().$last().$description()},V.$$arity=0,V.$$parameters=[]),e.defs(K,"$set_ivars",X=function(t,r){var a,n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"set_ivars"),_(r,"each",[],(a=function(r,n){a.$$s;if(null==r&&(r=i),null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"set_ivars")}return t.$instance_variable_set(r,n)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","name"],["req","value"]],a))},X.$$arity=2,X.$$parameters=[["req","instance"],["req","ivars"]])}(f[0],null,f),function(t,$super,r){function a(){}var n,i=a=o(t,$super,"AnonymousExampleGroup",a);i.$$proto,[i].concat(r);e.defs(i,"$metadata",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"metadata"),l([],{})},n.$$arity=0,n.$$parameters=[])}(f[0],e.const_get_relative(f,"ExampleGroup"),f)}(f[0],f),function(t,a){var n,$,o,l,u,p=n=s(t,"ExampleGroups"),d=(p.$$proto,[p].concat(a));p.$extend(e.const_get_qualified(e.const_get_relative(d,"Support"),"RecursiveConstMethods")),e.defs(p,"$assign_const",$=function(t){var r=this,a=i,n=i,$=i,s=arguments.length;return 1!==s&&e.ac(s,1,this,"assign_const"),a=r.$base_name_for(t),n=r.$constant_scope_for(t),$=r.$disambiguate(a,n),n.$const_set($,t)},$.$$arity=1,$.$$parameters=[["req","group"]]),e.defs(p,"$constant_scope_for",o=function(t){var r=this,a=i,n=arguments.length;return 1!==n&&e.ac(n,1,this,"constant_scope_for"),a=t.$superclass(),a["$=="](e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"ExampleGroup"))&&(a=r),a},o.$$arity=1,o.$$parameters=[["req","group"]]),e.defs(p,"$base_name_for",l=function(t){var a,n=this,$=i,s=arguments.length;return 1!==s&&e.ac(s,1,this,"base_name_for"),c(t.$description()["$empty?"]())?"Anonymous":($=r(" ",t.$description()),_($,"gsub!",[/[^0-9a-zA-Z]+([0-9a-zA-Z])/],(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"base_name_for")}return e.const_get_relative(d,"Regexp").$last_match()["$[]"](1).$upcase()},a.$$s=n,a.$$arity=0,a.$$parameters=[],a)),$["$lstrip!"](),$["$gsub!"](/\W/,""),$["$gsub!"](/^([^A-Z]|$)/,"Nested\\1"),$)},l.$$arity=1,l.$$parameters=[["req","group"]]),e.const_get_relative(d,"RUBY_VERSION")["$=="]("1.9.2")&&(!function(t,a){var n;t.$$proto,[t].concat(a);e.alias(t,"_base_name_for","base_name_for"),e.defn(t,"$base_name_for",n=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"base_name_for"),r(a.$_base_name_for(t),"_")},n.$$arity=1,n.$$parameters=[["req","group"]])}(e.get_singleton_class(p),d),p.$private_class_method("_base_name_for")),e.defs(p,"$disambiguate",u=function(t,r){var a=this,n=arguments.length;if(2!==n&&e.ac(n,2,this,"disambiguate"),!c(a["$const_defined_on?"](r,t)))return t;for(t["$<<"]("_2");c(a["$const_defined_on?"](r,t));)t["$next!"]();return t},u.$$arity=2,u.$$parameters=[["req","name"],["req","const_scope"]])}(f[0],f)}(n[0],n)},Opal.modules["rspec/core/filter_manager"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send,o=e.hash2;return e.add_stubs(["$attr_reader","$build","$delete","$inclusions","$new","$[]=","$-","$push","$[]","$expand_path","$add_location","$empty?","$exclusions","$standalone?","$select","$!","$include_example?","$include?","$exclude?","$add","$last","$use_only","$add_with_low_priority","$attr_accessor","$opposite=","$to_proc","$each_key","$merge!","$opposite","$merge","$each_pair","$==","$replace","$clear","$fetch","$rules","$gsub","$inspect","$replace_filters","$apply_standalone_filter","$any_apply?","$is_standalone_filter?","$private","$any?","$key?","$freeze","$lambda"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b=o=i(r,$super,"FilterManager",o),x=(b.$$proto,[b].concat(n));b.$attr_reader("exclusions","inclusions"),e.defn(b,"$initialize",c=function(){var t,r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),r=e.const_get_relative(x,"FilterRules").$build(),t=e.to_ary(r),n.exclusions=null==t[0]?a:t[0],n.inclusions=null==t[1]?a:t[1],r},c.$$arity=0,c.$$parameters=[]),e.defn(b,"$add_location",_=function(r,n){var i,o,c=this,_=a,l=arguments.length;return 2!==l&&e.ac(l,2,this,"add_location"),_=$(i=c.$inclusions().$delete("locations"))?i:s(e.const_get_relative(x,"Hash"),"new",[],(o=function(r,n){var i=(o.$$s,a);if(null==r&&(r=a),null==n&&(n=a),o.$$is_lambda||o.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"add_location")}return i=[n,[]],s(r,"[]=",e.to_a(i)),i[t(i.length,1)]},o.$$s=c,o.$$arity=2,o.$$parameters=[["req","h"],["req","k"]],o)),s(_["$[]"](e.const_get_relative(x,"File").$expand_path(r)),"push",e.to_a(n)),c.$inclusions().$add_location(_)},_.$$arity=2,_.$$parameters=[["req","file_path"],["req","line_numbers"]]),e.defn(b,"$empty?",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"empty?"),$(t=r.$inclusions()["$empty?"]())?r.$exclusions()["$empty?"]():t},l.$$arity=0,l.$$parameters=[]),e.defn(b,"$prune",u=function(t){var r,n,i=this,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"prune"),$(i.$inclusions()["$standalone?"]())?(o=e.const_get_relative(x,"ExclusionRules").$new(),s(t,"select",[],(r=function(t){var n,i=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"prune")}return $(n=o["$include_example?"](t)["$!"]())?i["$include?"](t):n},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","e"]],r))):s(t,"select",[],(n=function(t){var r,i=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"prune")}return $(r=i["$exclude?"](t)["$!"]())?i["$include?"](t):r},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","e"]],n))},u.$$arity=1,u.$$parameters=[["req","examples"]]),e.defn(b,"$exclude",p=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$add(e.$last())},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(b,"$exclude_only",d=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$use_only(e.$last())},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(b,"$exclude_with_low_priority",f=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$exclusions().$add_with_low_priority(e.$last())},f.$$arity=-1,f.$$parameters=[["rest","args"]]),e.defn(b,"$exclude?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exclude?"),r.$exclusions()["$include_example?"](t)},h.$$arity=1,h.$$parameters=[["req","example"]]),e.defn(b,"$include",m=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$add(e.$last())},m.$$arity=-1,m.$$parameters=[["rest","args"]]),e.defn(b,"$include_only",g=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$use_only(e.$last())},g.$$arity=-1,g.$$parameters=[["rest","args"]]),e.defn(b,"$include_with_low_priority",v=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$inclusions().$add_with_low_priority(e.$last())},v.$$arity=-1,v.$$parameters=[["rest","args"]]),e.defn(b,"$include?",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include?"),r.$inclusions()["$include_example?"](t)},y.$$arity=1,y.$$parameters=[["req","example"]])}(u[0],null,u),function(r,$super,n){function $(){}var o,c,_,l,u,p,d,f,h,m,g,v,y=$=i(r,$super,"FilterRules",$),b=y.$$proto,x=[y].concat(n);b.rules=a,e.const_set(x[0],"PROC_HEX_NUMBER",/0x[0-9a-f]+@/),e.const_set(x[0],"PROJECT_DIR",e.const_get_relative(x,"File").$expand_path(".")),y.$attr_accessor("opposite"),y.$attr_reader("rules"),e.defs(y,"$build",o=function(){var r=a,n=a,i=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"build"),r=e.const_get_relative(x,"ExclusionRules").$new(),n=e.const_get_relative(x,"InclusionRules").$new(),i=[n],s(r,"opposite=",e.to_a(i)),i[t(i.length,1)],i=[r],s(n,"opposite=",e.to_a(i)),i[t(i.length,1)],[r,n]},o.$$arity=0,o.$$parameters=[]),e.defn(y,"$initialize",c=function(){var t,r=this,n=c.$$p,i=n||a,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var _=0;_<$;_++)t[_-0]=arguments[_];return n&&(c.$$p=null),r.rules=s(e.const_get_relative(x,"Hash"),"new",e.to_a(t),i.$to_proc())},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.defn(y,"$add",_=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add"),s(n.rules["$merge!"](t),"each_key",[],(r=function(t){var n=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add")}return n.$opposite().$delete(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","k"]],r))},_.$$arity=1,_.$$parameters=[["req","updated"]]),e.defn(y,"$add_with_low_priority",l=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add_with_low_priority"),t=t.$merge(n.rules),s(n.$opposite(),"each_pair",[],(r=function(n,i){r.$$s;if(null==n&&(n=a),null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"add_with_low_priority")}return t["$[]"](n)["$=="](i)?t.$delete(n):a},r.$$s=n,r.$$arity=2,r.$$parameters=[["req","k"],["req","v"]],r)),n.rules.$replace(t)},l.$$arity=1,l.$$parameters=[["req","updated"]]),e.defn(y,"$use_only",u=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"use_only"),s(t,"each_key",[],(r=function(t){var n=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"use_only")}return n.$opposite().$delete(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","k"]],r)),n.rules.$replace(t)},u.$$arity=1,u.$$parameters=[["req","updated"]]),e.defn(y,"$clear",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.rules.$clear()},p.$$arity=0,p.$$parameters=[]),e.defn(y,"$delete",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"delete"),r.rules.$delete(t)},d.$$arity=1,d.$$parameters=[["req","key"]]),e.defn(y,"$fetch",f=function(){var t,r=this,n=f.$$p,i=n||a,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<$;c++)t[c-0]=arguments[c];return n&&(f.$$p=null),s(r.rules,"fetch",e.to_a(t),i.$to_proc())},f.$$arity=-1,f.$$parameters=[["rest","args"],["block","block"]]),e.defn(y,"$[]",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.rules["$[]"](t)},h.$$arity=1,h.$$parameters=[["req","key"]]),e.defn(y,"$empty?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.$rules()["$empty?"]()},m.$$arity=0,m.$$parameters=[]),e.defn(y,"$each_pair",g=function(){var t=this,r=g.$$p,n=r||a;r&&(g.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"each_pair"),s(t.rules,"each_pair",[],n.$to_proc())},g.$$arity=0,g.$$parameters=[["block","block"]]),e.defn(y,"$description",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$rules().$inspect().$gsub(e.const_get_relative(x,"PROC_HEX_NUMBER"),"").$gsub(e.const_get_relative(x,"PROJECT_DIR"),".").$gsub(" (lambda)","")},v.$$arity=0,v.$$parameters=[])}(u[0],null,u),function(t,$super,r){function n(){}var c,_,l,u,p,d,f,h,m,g=n=i(t,$super,"InclusionRules",n),v=g.$$proto,y=[g].concat(r);v.rules=a,e.const_set(y[0],"STANDALONE_FILTERS",["locations","full_description"]),e.defn(g,"$add_location",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"add_location"),r.$replace_filters(o(["locations"],{locations:t}))},c.$$arity=1,c.$$parameters=[["req","locations"]]),e.defn(g,"$add",_=function(){var t,r,n=this,i=_.$$p,o=a,c=a,l=a,u=arguments.length,p=u-0;p<0&&(p=0),r=new Array(p);for(var d=0;d<u;d++)r[d-0]=arguments[d];for(i&&(_.$$p=null),c=0,l=arguments.length,o=new Array(l);c<l;c++)o[c]=arguments[c];return $(t=s(n,"apply_standalone_filter",e.to_a(r)))?t:s(n,e.find_super_dispatcher(n,"add",_,!1),o,i)},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(g,"$add_with_low_priority",l=function(){var t,r,n=this,i=l.$$p,o=a,c=a,_=a,u=arguments.length,p=u-0;p<0&&(p=0),r=new Array(p);for(var d=0;d<u;d++)r[d-0]=arguments[d];for(i&&(l.$$p=null),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return $(t=s(n,"apply_standalone_filter",e.to_a(r)))?t:s(n,e.find_super_dispatcher(n,"add_with_low_priority",l,!1),o,i)},l.$$arity=-1,l.$$parameters=[["rest","args"]]),e.defn(g,"$use",u=function(){var t,r,n=this,i=u.$$p,o=a,c=a,_=a,l=arguments.length,p=l-0;p<0&&(p=0),r=new Array(p);for(var d=0;d<l;d++)r[d-0]=arguments[d];for(i&&(u.$$p=null),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return $(t=s(n,"apply_standalone_filter",e.to_a(r)))?t:s(n,e.find_super_dispatcher(n,"use",u,!1),o,i)},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(g,"$include_example?",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"include_example?"),!!$(r.rules["$empty?"]())||t["$any_apply?"](r.rules)},p.$$arity=1,p.$$parameters=[["req","example"]]),e.defn(g,"$standalone?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"standalone?"),t["$is_standalone_filter?"](t.rules)},d.$$arity=0,d.$$parameters=[]),g.$private(),e.defn(g,"$apply_standalone_filter",f=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"apply_standalone_filter"),!!$(r["$standalone?"]())||($(r["$is_standalone_filter?"](t))?(r.$replace_filters(t),!0):a)},f.$$arity=1,f.$$parameters=[["req","updated"]]),e.defn(g,"$replace_filters",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"replace_filters"),r.rules.$replace(t),r.$opposite().$clear()},h.$$arity=1,h.$$parameters=[["req","new_rules"]]),e.defn(g,"$is_standalone_filter?",m=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"is_standalone_filter?"),s(e.const_get_relative(y,"STANDALONE_FILTERS"),"any?",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"is_standalone_filter?")}return t["$key?"](n)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","key"]],r))},m.$$arity=1,m.$$parameters=[["req","rules"]])}(u[0],e.const_get_relative(u,"FilterRules"),u),function(t,$super,r){function n(){}var c,_,l,u=n=i(t,$super,"ExclusionRules",n),p=u.$$proto,d=[u].concat(r);p.rules=a,e.const_set(d[0],"CONDITIONAL_FILTERS",o(["if","unless"],{"if":s(u,"lambda",[],(c=function(t){c.$$s;if(null==t&&(t=a),c.$$is_lambda||c.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<class:ExclusionRules>")}return t["$!"]()},c.$$s=u,c.$$arity=1,c.$$parameters=[["req","value"]],c)),unless:s(u,"lambda",[],(_=function(t){_.$$s;if(null==t&&(t=a),_.$$is_lambda||_.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<class:ExclusionRules>")}return t},_.$$s=u,_.$$arity=1,_.$$parameters=[["req","value"]],_))}).$freeze()),e.defn(u,"$include_example?",l=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"include_example?"),$(r=t["$any_apply?"](a.rules))?r:t["$any_apply?"](e.const_get_relative(d,"CONDITIONAL_FILTERS"))},l.$$arity=1,l.$$parameters=[["req","example"]])}(u[0],e.const_get_relative(u,"FilterRules"),u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/core/flat_map"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send;return e.add_stubs(["$respond_to?","$flat_map","$flatten","$map","$module_function"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Core"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_=s=a(t,"FlatMap");_.$$proto,[_].concat($);n([]["$respond_to?"]("flat_map"))?e.defn(_,"$flat_map",o=function(t){var a,n=this,$=o.$$p,s=$||r;$&&(o.$$p=null);var c=arguments.length;return 1!==c&&e.ac(c,1,this,"flat_map"),i(t,"flat_map",[],(a=function(t){a.$$s;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"flat_map")}return e.yield1(s,t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","item"]],a))},o.$$arity=1,o.$$parameters=[["req","array"]]):e.defn(_,"$flat_map",c=function(t){var a,n=this,$=c.$$p,s=$||r;$&&(c.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"flat_map"),i(t,"map",[],(a=function(t){a.$$s;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"flat_map")}return e.yield1(s,t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","item"]],a)).$flatten()},c.$$arity=1,c.$$parameters=[["req","array"]]),_.$module_function("flat_map")}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/core/formatters/documentation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.send,c=e.truthy;return e.add_stubs(["$require_rspec_core","$register","$==","$puts","$output","$current_indentation","$strip","$description","$group","$+","$-","$passed_output","$example","$pending_output","$pending_message","$execution_result","$failure_output","$exception","$private","$wrap","$next_failure_index","$*","$reverse","$parent_groups","$example_group"]),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_core("formatters/base_text_formatter"),function(n,_){var l,u=l=$(n,"RSpec"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"Core"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"Formatters"),p=(u.$$proto,[u].concat(_));!function(n,$super,$){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x,k=_=s(n,$super,"DocumentationFormatter",_),q=k.$$proto,w=[k].concat($);q.group_level=q.next_failure_index=i,e.const_get_relative(w,"Formatters").$register(k,"example_group_started","example_group_finished","example_passed","example_pending","example_failed"),e.defn(k,"$initialize",l=function(){var t=this,r=l.$$p,a=i,n=i,$=i;r&&(l.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"initialize"),n=0,$=arguments.length,a=new Array($);n<$;n++)a[n]=arguments[n];return o(t,e.find_super_dispatcher(t,"initialize",l,!1),a,r),t.group_level=0},l.$$arity=1,l.$$parameters=[["req","output"]]),e.defn(k,"$example_group_started",u=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"example_group_started"),a.group_level["$=="](0)&&a.$output().$puts(),a.$output().$puts(""+a.$current_indentation()+r.$group().$description().$strip()),a.group_level=t(a.group_level,1)},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(k,"$example_group_finished",p=function(){var t=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_finished"),t.group_level=r(t.group_level,1)},p.$$arity=1,p.$$parameters=[["req","_notification"]]),e.defn(k,"$example_passed",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.$output().$puts(r.$passed_output(t.$example()))},d.$$arity=1,d.$$parameters=[["req","passed"]]),e.defn(k,"$example_pending",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_pending"),r.$output().$puts(r.$pending_output(t.$example(),t.$example().$execution_result().$pending_message()))},f.$$arity=1,f.$$parameters=[["req","pending"]]),e.defn(k,"$example_failed",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_failed"),r.$output().$puts(r.$failure_output(t.$example(),t.$example().$execution_result().$exception()))},h.$$arity=1,h.$$parameters=[["req","failure"]]),k.$private(),e.defn(k,"$passed_output",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"passed_output"),e.const_get_relative(w,"ConsoleCodes").$wrap(""+r.$current_indentation()+t.$description().$strip(),"success")},m.$$arity=1,m.$$parameters=[["req","example"]]),e.defn(k,"$pending_output",g=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"pending_output"),e.const_get_relative(w,"ConsoleCodes").$wrap(""+a.$current_indentation()+t.$description().$strip()+" (PENDING: "+r+")","pending")},g.$$arity=2,g.$$parameters=[["req","example"],["req","message"]]),e.defn(k,"$failure_output",v=function(t){var r=this,a=arguments.length;return 2!==a&&e.ac(a,2,this,"failure_output"),e.const_get_relative(w,"ConsoleCodes").$wrap(""+r.$current_indentation()+t.$description().$strip()+" (FAILED - "+r.$next_failure_index()+")","failure")},v.$$arity=2,v.$$parameters=[["req","example"],["req","_exception"]]),e.defn(k,"$next_failure_index",y=function(){var r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"next_failure_index"),a.next_failure_index=c(r=a.next_failure_index)?r:0,a.next_failure_index=t(a.next_failure_index,1)},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$current_indentation",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"current_indentation"),a("  ",t.group_level)},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$example_group_chain",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group_chain"),t.$example_group().$parent_groups().$reverse()},x.$$arity=0,x.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseTextFormatter"),p)}(p[0],p)}(p[0],p)}(n[0],n)},Opal.modules["rspec/core/formatters/html_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){
return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var i=(e.top,[]),$=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,c=e.send,_=e.truthy,l=e.hash2;return e.add_stubs(["$require_rspec_core","$register","$new","$print_html_start","$flush","$+","$==","$example_group_number","$print_example_group_end","$print_example_group_start","$description","$group","$size","$parent_groups","$move_progress","$percent_done","$print_example_passed","$example","$run_time","$execution_result","$<<","$make_header_red","$make_example_group_header_red","$exception","$message","$join","$formatted_backtrace","$extra_failure_content","$print_example_failed","$pending_fixed","$make_header_yellow","$make_example_group_header_yellow","$print_example_pending","$pending_message","$print_summary","$duration","$example_count","$failure_count","$pending_count","$private","$>","$to_f","$/","$to_i","$*","$example_number","$map","$backtrace","$backtrace_line","$backtrace_formatter","$configuration","$compact!","$snippet"]),e.const_get_qualified(e.const_get_relative(i,"RSpec"),"Support").$require_rspec_core("formatters/base_text_formatter"),e.const_get_qualified(e.const_get_relative(i,"RSpec"),"Support").$require_rspec_core("formatters/html_printer"),function(i,u){var p,d=p=s(i,"RSpec"),f=(d.$$proto,[d].concat(u));!function(i,u){var p,d=p=s(i,"Core"),f=(d.$$proto,[d].concat(u));!function(i,u){var p,d=p=s(i,"Formatters"),f=(d.$$proto,[d].concat(u));!function(i,$super,s){function u(){}var p,d,f,h,m,g,v,y,b,x,k,q,w,E=u=o(i,$super,"HtmlFormatter",u),S=E.$$proto,M=[E].concat(s);S.printer=S.example_group_number=S.example_number=S.failed_examples=S.header_red=S.example_group_red=S.example_count=S.snippet_extractor=$,e.const_get_relative(M,"Formatters").$register(E,"start","example_group_started","start_dump","example_started","example_passed","example_failed","example_pending","dump_summary"),e.defn(E,"$initialize",p=function(t){var r=this,a=p.$$p;a&&(p.$$p=null);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),c(r,e.find_super_dispatcher(r,"initialize",p,!1),[t],null),r.failed_examples=[],r.example_group_number=0,r.example_number=0,r.header_red=$,r.printer=e.const_get_relative(M,"HtmlPrinter").$new(t)},p.$$arity=1,p.$$parameters=[["req","output"]]),e.defn(E,"$start",d=function(){var t=this,r=d.$$p,a=$,n=$,i=$;r&&(d.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"start"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"start",d,!1),a,r),t.printer.$print_html_start(),t.printer.$flush()},d.$$arity=1,d.$$parameters=[["req","notification"]]),e.defn(E,"$example_group_started",f=function(r){var a=this,n=f.$$p,i=$,s=$,o=$;n&&(f.$$p=null);var _=arguments.length;for(1!==_&&e.ac(_,1,this,"example_group_started"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return c(a,e.find_super_dispatcher(a,"example_group_started",f,!1),i,n),a.example_group_red=!1,a.example_group_number=t(a.example_group_number,1),a.$example_group_number()["$=="](1)||a.printer.$print_example_group_end(),a.printer.$print_example_group_start(a.$example_group_number(),r.$group().$description(),r.$group().$parent_groups().$size()),a.printer.$flush()},f.$$arity=1,f.$$parameters=[["req","notification"]]),e.defn(E,"$start_dump",h=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"start_dump"),t.printer.$print_example_group_end(),t.printer.$flush()},h.$$arity=1,h.$$parameters=[["req","_notification"]]),e.defn(E,"$example_started",m=function(){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_started"),r.example_number=t(r.example_number,1)},m.$$arity=1,m.$$parameters=[["req","_notification"]]),e.defn(E,"$example_passed",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.printer.$move_progress(r.$percent_done()),r.printer.$print_example_passed(t.$example().$description(),t.$example().$execution_result().$run_time()),r.printer.$flush()},g.$$arity=1,g.$$parameters=[["req","passed"]]),e.defn(E,"$example_failed",v=function(t){var r=this,a=$,n=$,i=$,s=$,o=arguments.length;return 1!==o&&e.ac(o,1,this,"example_failed"),r.failed_examples["$<<"](t.$example()),_(r.header_red)||(r.header_red=!0,r.printer.$make_header_red()),_(r.example_group_red)||(r.example_group_red=!0,r.printer.$make_example_group_header_red(r.$example_group_number())),r.printer.$move_progress(r.$percent_done()),a=t.$example(),n=t.$exception(),i=function(){return!!_(n)&&l(["message","backtrace"],{message:n.$message(),backtrace:t.$formatted_backtrace().$join("\n")})}(),s=r.$extra_failure_content(t),r.printer.$print_example_failed(a.$execution_result().$pending_fixed(),a.$description(),a.$execution_result().$run_time(),r.failed_examples.$size(),i,function(){return!_(s["$=="](""))&&s}(),!0),r.printer.$flush()},v.$$arity=1,v.$$parameters=[["req","failure"]]),e.defn(E,"$example_pending",y=function(t){var r=this,a=$,n=arguments.length;return 1!==n&&e.ac(n,1,this,"example_pending"),a=t.$example(),_(r.header_red)||r.printer.$make_header_yellow(),_(r.example_group_red)||r.printer.$make_example_group_header_yellow(r.$example_group_number()),r.printer.$move_progress(r.$percent_done()),r.printer.$print_example_pending(a.$description(),a.$execution_result().$pending_message()),r.printer.$flush()},y.$$arity=1,y.$$parameters=[["req","pending"]]),e.defn(E,"$dump_summary",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_summary"),r.printer.$print_summary(t.$duration(),t.$example_count(),t.$failure_count(),t.$pending_count()),r.printer.$flush()},b.$$arity=1,b.$$parameters=[["req","summary"]]),E.$private(),e.defn(E,"$example_group_number",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_group_number"),t.example_group_number},x.$$arity=0,x.$$parameters=[]),e.defn(E,"$example_number",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"example_number"),t.example_number},k.$$arity=0,k.$$parameters=[]),e.defn(E,"$percent_done",q=function(){var t=this,i=$,s=arguments.length;return 0!==s&&e.ac(s,0,this,"percent_done"),i=100,_(r(t.example_count,0))&&(i=a(n(a(t.$example_number().$to_f(),t.example_count.$to_f()),1e3).$to_i(),10).$to_f()),i},q.$$arity=0,q.$$parameters=[]),e.defn(E,"$extra_failure_content",w=function(t){var r,a,n=this,i=$,s=arguments.length;return 1!==s&&e.ac(s,1,this,"extra_failure_content"),e.const_get_qualified(e.const_get_relative(M,"RSpec"),"Support").$require_rspec_core("formatters/snippet_extractor"),i=c(t.$exception().$backtrace(),"map",[],(r=function(t){r.$$s;if(null==t&&(t=$),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"extra_failure_content")}return e.const_get_relative(M,"RSpec").$configuration().$backtrace_formatter().$backtrace_line(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","line"]],r)),i["$compact!"](),n.snippet_extractor=_(a=n.snippet_extractor)?a:e.const_get_relative(M,"SnippetExtractor").$new(),'    <pre class="ruby"><code>'+n.snippet_extractor.$snippet(i)+"</code></pre>"},w.$$arity=1,w.$$parameters=[["req","failure"]])}(f[0],e.const_get_relative(f,"BaseFormatter"),f)}(f[0],f)}(f[0],f)}(i[0],i)},Opal.modules["rspec/core/formatters/progress_formatter"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require_rspec_core","$register","$print","$output","$wrap","$puts"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_core("formatters/base_text_formatter"),function(t,n){var i,$=i=r(t,"RSpec"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"Core"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"Formatters"),s=($.$$proto,[$].concat(n));!function(t,$super,r){function n(){}var i,$,s,o,c=n=a(t,$super,"ProgressFormatter",n),_=(c.$$proto,[c].concat(r));e.const_get_relative(_,"Formatters").$register(c,"example_passed","example_pending","example_failed","start_dump"),e.defn(c,"$example_passed",i=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_passed"),t.$output().$print(e.const_get_relative(_,"ConsoleCodes").$wrap(".","success"))},i.$$arity=1,i.$$parameters=[["req","_notification"]]),e.defn(c,"$example_pending",$=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_pending"),t.$output().$print(e.const_get_relative(_,"ConsoleCodes").$wrap("*","pending"))},$.$$arity=1,$.$$parameters=[["req","_notification"]]),e.defn(c,"$example_failed",s=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_failed"),t.$output().$print(e.const_get_relative(_,"ConsoleCodes").$wrap("F","failure"))},s.$$arity=1,s.$$parameters=[["req","_notification"]]),e.defn(c,"$start_dump",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"start_dump"),t.$output().$puts()},o.$$arity=1,o.$$parameters=[["req","_notification"]])}(s[0],e.const_get_relative(s,"BaseTextFormatter"),s)}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["rspec/core/formatters/profile_formatter"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$require_rspec_core","$register","$attr_reader","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$private","$puts","$size","$slowest_examples","$format_seconds","$slow_duration","$percentage","$each","$full_description","$bold","$run_time","$execution_result","$format_caller","$location","$empty?","$slowest_groups","$[]","$pluralize","$backtrace_line","$backtrace_formatter","$configuration","$first","$split","$to_s","$wrap"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_core("formatters/console_codes"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Core"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Formatters"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d=s=n(t,$super,"ProfileFormatter",s),f=d.$$proto,h=[d].concat(a);f.output=r,e.const_get_relative(h,"Formatters").$register(d,"dump_profile"),e.defn(d,"$initialize",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.output=t},o.$$arity=1,o.$$parameters=[["req","output"]]),d.$attr_reader("output"),e.defn(d,"$dump_profile",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_profile"),r.$dump_profile_slowest_examples(t),r.$dump_profile_slowest_example_groups(t)},c.$$arity=1,c.$$parameters=[["req","profile"]]),d.$private(),e.defn(d,"$dump_profile_slowest_examples",_=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"dump_profile_slowest_examples"),n.output.$puts("\nTop "+t.$slowest_examples().$size()+" slowest examples ("+e.const_get_relative(h,"Helpers").$format_seconds(t.$slow_duration())+" seconds, "+t.$percentage()+"% of total time):\n"),i(t.$slowest_examples(),"each",[],(a=function(t){var n=a.$$s||this;if(null==n.output&&(n.output=r),null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"dump_profile_slowest_examples")}return n.output.$puts("  "+t.$full_description()),n.output.$puts("    "+n.$bold(e.const_get_relative(h,"Helpers").$format_seconds(t.$execution_result().$run_time()))+" "+n.$bold("seconds")+" "+n.$format_caller(t.$location()))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","example"]],a))},_.$$arity=1,_.$$parameters=[["req","profile"]]),e.defn(d,"$dump_profile_slowest_example_groups",l=function(t){var a,n=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"dump_profile_slowest_example_groups"),$(t.$slowest_groups()["$empty?"]())?r:(n.output.$puts("\nTop "+t.$slowest_groups().$size()+" slowest example groups:"),i(t.$slowest_groups(),"each",[],(a=function(t,n){var i=a.$$s||this,$=r,s=r,o=r;if(null==i.output&&(i.output=r),null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"dump_profile_slowest_example_groups")}return $=i.$bold(e.const_get_relative(h,"Helpers").$format_seconds(n["$[]"]("average")))+" "+i.$bold("seconds")+" average",s=e.const_get_relative(h,"Helpers").$format_seconds(n["$[]"]("total_time"))+" seconds",o=e.const_get_relative(h,"Helpers").$pluralize(n["$[]"]("count"),"example"),i.output.$puts("  "+n["$[]"]("description")),i.output.$puts("    "+$+" ("+s+" / "+o+") "+t)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","loc"],["req","hash"]],a)))},l.$$arity=1,l.$$parameters=[["req","profile"]]),e.defn(d,"$format_caller",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_caller"),e.const_get_relative(h,"RSpec").$configuration().$backtrace_formatter().$backtrace_line(t.$to_s().$split(":in `block").$first())},u.$$arity=1,u.$$parameters=[["req","caller_info"]]),e.defn(d,"$bold",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"bold"),e.const_get_relative(h,"ConsoleCodes").$wrap(t,"bold")},p.$$arity=1,p.$$parameters=[["req","text"]])}(_[0],null,_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/core/formatters/json_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.send,o=e.hash2,c=e.truthy,_=e.gvars;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$<<","$[]","$[]=","$-","$message","$duration","$example_count","$failure_count","$pending_count","$totals_line","$map","$examples","$tap","$format_example","$exception","$name","$class","$backtrace","$write","$output","$to_json","$===","$!=","$close","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$slowest_examples","$run_time","$execution_result","$slow_duration","$slowest_groups","$update","$private","$description","$full_description","$to_s","$status","$metadata"]),e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_core("formatters/base_formatter"),r.$require("json"),function(r,a){var l,u=l=i(r,"RSpec"),p=(u.$$proto,[u].concat(a));!function(r,a){var l,u=l=i(r,"Core"),p=(u.$$proto,[u].concat(a));!function(r,a){var l,u=l=i(r,"Formatters"),p=(u.$$proto,[u].concat(a));!function(r,$super,a){function i(){}var l,u,p,d,f,h,m,g,v,y=i=$(r,$super,"JsonFormatter",i),b=y.$$proto,x=[y].concat(a);b.output_hash=n,e.const_get_relative(x,"Formatters").$register(y,"message","dump_summary","dump_profile","stop","close"),y.$attr_reader("output_hash"),e.defn(y,"$initialize",l=function(){var t=this,r=l.$$p,a=n,i=n,$=n;r&&(l.$$p=null);var c=arguments.length;for(1!==c&&e.ac(c,1,this,"initialize"),i=0,$=arguments.length,a=new Array($);i<$;i++)a[i]=arguments[i];return s(t,e.find_super_dispatcher(t,"initialize",l,!1),a,r),t.output_hash=o([],{})},l.$$arity=1,l.$$parameters=[["req","output"]]),e.defn(y,"$message",u=function(r){var a,i=this,$=n,o=arguments.length;return 1!==o&&e.ac(o,1,this,"message"),(c(a=i.output_hash["$[]"]("messages"))?a:($=["messages",[]],s(i.output_hash,"[]=",e.to_a($)),$[t($.length,1)]))["$<<"](r.$message())},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(y,"$dump_summary",p=function(r){var a=this,i=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"dump_summary"),i=["summary",o(["duration","example_count","failure_count","pending_count"],{duration:r.$duration(),example_count:r.$example_count(),failure_count:r.$failure_count(),pending_count:r.$pending_count()})],s(a.output_hash,"[]=",e.to_a(i)),i[t(i.length,1)],i=["summary_line",r.$totals_line()],s(a.output_hash,"[]=",e.to_a(i)),i[t(i.length,1)]},p.$$arity=1,p.$$parameters=[["req","summary"]]),e.defn(y,"$stop",d=function(r){var a,i=this,$=n,_=arguments.length;return 1!==_&&e.ac(_,1,this,"stop"),$=["examples",s(r.$examples(),"map",[],(a=function(r){var i,_=a.$$s||this;if(null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"stop")}return s(_.$format_example(r),"tap",[],(i=function(a){var _=(i.$$s,n);if(null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"stop")}return _=r.$exception(),c(_)?($=["exception",o(["class","message","backtrace"],{"class":_.$class().$name(),message:_.$message(),backtrace:_.$backtrace()})],s(a,"[]=",e.to_a($)),$[t($.length,1)]):n},i.$$s=_,i.$$arity=1,i.$$parameters=[["req","hash"]],i))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","example"]],a))],s(i.output_hash,"[]=",e.to_a($)),$[t($.length,1)]},d.$$arity=1,d.$$parameters=[["req","notification"]]),e.defn(y,"$close",f=function(){var t,r=this;null==_.stdout&&(_.stdout=n);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"close"),r.$output().$write(r.output_hash.$to_json()),c(c(t=e.const_get_relative(x,"IO")["$==="](r.$output()))?r.$output()["$!="](_.stdout):t)?r.$output().$close():n},f.$$arity=1,f.$$parameters=[["req","_notification"]]),e.defn(y,"$dump_profile",h=function(r){var a=this,i=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"dump_profile"),i=["profile",o([],{})],s(a.output_hash,"[]=",e.to_a(i)),i[t(i.length,1)],a.$dump_profile_slowest_examples(r),a.$dump_profile_slowest_example_groups(r)},h.$$arity=1,h.$$parameters=[["req","profile"]]),e.defn(y,"$dump_profile_slowest_examples",m=function(r){var a,i=this,$=n,c=n,_=arguments.length;return 1!==_&&e.ac(_,1,this,"dump_profile_slowest_examples"),$=["profile",o([],{})],s(i.output_hash,"[]=",e.to_a($)),$[t($.length,1)],c=r.$slowest_examples(),$=["examples",s(c,"map",[],(a=function(r){var i,o=a.$$s||this;if(null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"dump_profile_slowest_examples")}return s(o.$format_example(r),"tap",[],(i=function(a){i.$$s;if(null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"dump_profile_slowest_examples")}return $=["run_time",r.$execution_result().$run_time()],s(a,"[]=",e.to_a($)),$[t($.length,1)]},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","hash"]],i))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","example"]],a))],s(i.output_hash["$[]"]("profile"),"[]=",e.to_a($)),$[t($.length,1)],$=["slowest",r.$slow_duration()],s(i.output_hash["$[]"]("profile"),"[]=",e.to_a($)),$[t($.length,1)],$=["total",r.$duration()],s(i.output_hash["$[]"]("profile"),"[]=",e.to_a($)),$[t($.length,1)]},m.$$arity=1,m.$$parameters=[["req","profile"]]),e.defn(y,"$dump_profile_slowest_example_groups",g=function(r){var a,i=this,$=n,_=arguments.length;return 1!==_&&e.ac(_,1,this,"dump_profile_slowest_example_groups"),c(i.output_hash["$[]"]("profile"))||($=["profile",o([],{})],s(i.output_hash,"[]=",e.to_a($)),$[t($.length,1)]),$=["groups",s(r.$slowest_groups(),"map",[],(a=function(t,r){a.$$s;if(null==t&&(t=n),null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"dump_profile_slowest_example_groups")}return r.$update(o(["location"],{location:t}))},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","loc"],["req","hash"]],a))],s(i.output_hash["$[]"]("profile"),"[]=",e.to_a($)),$[t($.length,1)]},g.$$arity=1,g.$$parameters=[["req","profile"]]),y.$private(),e.defn(y,"$format_example",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_example"),o(["description","full_description","status","file_path","line_number","run_time"],{description:t.$description(),full_description:t.$full_description(),status:t.$execution_result().$status().$to_s(),file_path:t.$metadata()["$[]"]("file_path"),line_number:t.$metadata()["$[]"]("line_number"),run_time:t.$execution_result().$run_time()})},v.$$arity=1,v.$$parameters=[["req","example"]])}(p[0],e.const_get_relative(p,"BaseFormatter"),p)}(p[0],p)}(p[0],p)}(a[0],a)},Opal.modules["rspec/core/formatters"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.send,s=e.klass,o=e.truthy,c=e.hash2;return e.add_stubs(["$require_rspec_support","$autoload","$[]=","$formatters","$-","$default_formatter=","$attr_reader","$attr_accessor","$empty?","$add","$default_formatter","$any?","$===","$profile_examples?","$configuration","$!","$existing_formatter_implements?","$find_formatter","$map","$respond_to?","$file_at","$nil?","$[]","$new","$register_listener","$notifications_for","$load_formatter","$notifications","$first_non_rspec_line","$warn_deprecation","$gsub","$duplicate_formatter_exists?","$<<","$private","$built_in_formatter","$custom_formatter","$raise","$class","$==","$output","$registered_listeners","$to_s","$inject","$ancestors","$+","$fetch","$string_const?","$split","$const_get","$require","$path_for","$retry","$is_a?","$=~","$underscore_with_fix_for_non_standard_rspec_naming","$sub","$underscore","$dup","$gsub!","$tr!","$downcase!","$mkdir_p","$dirname"]),e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_support("directory_maker"),function(a,_){var l,u,p=l=i(a,"Formatters"),d=(p.$$proto,[p].concat(_));p.$autoload("DocumentationFormatter","rspec/core/formatters/documentation_formatter"),p.$autoload("HtmlFormatter","rspec/core/formatters/html_formatter"),p.$autoload("ProgressFormatter","rspec/core/formatters/progress_formatter"),p.$autoload("ProfileFormatter","rspec/core/formatters/profile_formatter"),p.$autoload("JsonFormatter","rspec/core/formatters/json_formatter"),e.defs(p,"$register",u=function(r){var a,i=n,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var c=1;c<s;c++)a[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"register"),i=[r,a],$(e.const_get_relative(d,"Loader").$formatters(),"[]=",e.to_a(i)),i[t(i.length,1)]},u.$$arity=-2,u.$$parameters=[["req","formatter_class"],["rest","notifications"]]),function(a,$super,i){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E=_=s(a,$super,"Loader",_),S=E.$$proto,M=[E].concat(i);S.formatters=S.reporter=n,e.defs(E,"$formatters",l=function(){var t,r=this;null==r.formatters&&(r.formatters=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"formatters"),r.formatters=o(t=r.formatters)?t:c([],{})},l.$$arity=0,l.$$parameters=[]),e.defn(E,"$initialize",u=function(r){var a=this,i=n,s=arguments.length;return 1!==s&&e.ac(s,1,this,"initialize"),a.formatters=[],a.reporter=r,i=["progress"],$(a,"default_formatter=",e.to_a(i)),i[t(i.length,1)]},u.$$arity=1,u.$$parameters=[["req","reporter"]]),E.$attr_reader("formatters"),E.$attr_reader("reporter"),E.$attr_accessor("default_formatter"),e.defn(E,"$setup_default",p=function(t,r){var a,i,s=this,c=arguments.length;return 2!==c&&e.ac(c,2,this,"setup_default"),o(s.formatters["$empty?"]())&&s.$add(s.$default_formatter(),t),o($(s.formatters,"any?",[],(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"setup_default")}return e.const_get_relative(M,"DeprecationFormatter")["$==="](t)},a.$$s=s,a.$$arity=1,a.$$parameters=[["req","formatter"]],a)))||s.$add(e.const_get_relative(M,"DeprecationFormatter"),r,t),o(o(i=e.const_get_relative(M,"RSpec").$configuration()["$profile_examples?"]())?s["$existing_formatter_implements?"]("dump_profile")["$!"]():i)?s.$add(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(M,"RSpec"),"Core"),"Formatters"),"ProfileFormatter"),t):n},p.$$arity=2,p.$$parameters=[["req","output_stream"],["req","deprecation_stream"]]),e.defn(E,"$add",d=function(t){var r,a,i,s=this,c=n,_=n,l=n,u=n,p=n,d=arguments.length,f=d-1;f<0&&(f=0),i=new Array(f);for(var h=1;h<d;h++)i[h-1]=arguments[h];var m=arguments.length;if(m<1&&e.ac(m,-2,this,"add"),c=s.$find_formatter(t),_=$(i,"map",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add")}return o(t["$respond_to?"]("puts"))?t:a.$file_at(t)},r.$$s=s,r.$$arity=1,r.$$parameters=[["req","p"]],r)),o(e.const_get_relative(M,"Loader").$formatters()["$[]"](c)["$nil?"]()["$!"]()))l=$(c,"new",e.to_a(_)),$(s.reporter,"register_listener",[l].concat(e.to_a(s.$notifications_for(c))));else{if(!o((a=e.const_get_relative(M,"RSpec","skip_raise"))&&e.const_get_qualified(a,"LegacyFormatters","skip_raise")?"constant":n))return u=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"CallerFilter").$first_non_rspec_line(),p=o(u)?"Formatter added at: "+u:"The formatter was added via command line flag or your `.rspec` file.",e.const_get_relative(M,"RSpec").$warn_deprecation(("          |The "+c+" formatter uses the deprecated formatter\n          |interface not supported directly by RSpec 3.\n          |\n          |To continue to use this formatter you must install the\n          |`rspec-legacy_formatters` gem, which provides support\n          |for legacy formatters or upgrade the formatter to a\n          |compatible version.\n          |\n          |"+p+"\n").$gsub(/\s*\|/," ")),n;l=$(e.const_get_qualified(e.const_get_relative(M,"RSpec"),"LegacyFormatters"),"load_formatter",[c].concat(e.to_a(_))),$(s.reporter,"register_listener",[l].concat(e.to_a(l.$notifications())))}return o(s["$duplicate_formatter_exists?"](l))||s.formatters["$<<"](l),l},d.$$arity=-2,d.$$parameters=[["req","formatter_to_use"],["rest","paths"]]),E.$private(),e.defn(E,"$find_formatter",f=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"find_formatter"),o(r=o(a=n.$built_in_formatter(t))?a:n.$custom_formatter(t))?r:n.$raise(e.const_get_relative(M,"ArgumentError"),"Formatter '"+t+"' unknown - maybe you meant 'documentation' or 'progress'?.")},f.$$arity=1,f.$$parameters=[["req","formatter_to_use"]]),e.defn(E,"$duplicate_formatter_exists?",h=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"duplicate_formatter_exists?"),$(a.formatters,"any?",[],(r=function(a){var i;r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"duplicate_formatter_exists?")}return o(i=a.$class()["$==="](t))?a.$output()["$=="](t.$output()):i},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","formatter"]],r))},h.$$arity=1,h.$$parameters=[["req","new_formatter"]]),e.defn(E,"$existing_formatter_implements?",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"existing_formatter_implements?"),r.reporter.$registered_listeners(t)["$any?"]()},m.$$arity=1,m.$$parameters=[["req","notification"]]),e.defn(E,"$built_in_formatter",g=function(t){var r=n,a=arguments.length;return 1!==a&&e.ac(a,1,this,"built_in_formatter"),function(){return r=t.$to_s(),"d"["$==="](r)||"doc"["$==="](r)||"documentation"["$==="](r)?e.const_get_relative(M,"DocumentationFormatter"):"h"["$==="](r)||"html"["$==="](r)?e.const_get_relative(M,"HtmlFormatter"):"p"["$==="](r)||"progress"["$==="](r)?e.const_get_relative(M,"ProgressFormatter"):"j"["$==="](r)||"json"["$==="](r)?e.const_get_relative(M,"JsonFormatter"):n}()},g.$$arity=1,g.$$parameters=[["req","key"]]),e.defn(E,"$notifications_for",v=function(t){var a,i=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"notifications_for"),$(t.$ancestors(),"inject",[e.const_get_relative(M,"Set").$new()],(a=function(t,i){var s,o=a.$$s||this;if(null==t&&(t=n),null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"notifications_for")}return r(t,$(e.const_get_relative(M,"Loader").$formatters(),"fetch",[i],(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"notifications_for")}return e.const_get_relative(M,"Set").$new()},s.$$s=o,s.$$arity=0,s.$$parameters=[],s)))},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","notifications"],["req","klass"]],a))},v.$$arity=1,v.$$parameters=[["req","formatter_class"]]),e.defn(E,"$custom_formatter",y=function(t){var r,a=this,i=arguments.length;if(1!==i&&e.ac(i,1,this,"custom_formatter"),o(e.const_get_relative(M,"Class")["$==="](t)))return t;if(!o(a["$string_const?"](t)))return n;try{return $(t.$gsub(/^::/,"").$split("::"),"inject",[e.const_get_relative(M,"Object")],(r=function(t,a){r.$$s;if(null==t&&(t=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"custom_formatter")}return t.$const_get(a)},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","a"],["req","e"]],r))}catch(r){if(!e.rescue(r,[e.const_get_relative(M,"NameError")]))throw r;try{return o(a.$require(a.$path_for(t)))?a.$retry():a.$raise()}finally{e.pop_exception()}}},y.$$arity=1,y.$$parameters=[["req","formatter_ref"]]),e.defn(E,"$string_const?",b=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"string_const?"),o(r=t["$is_a?"](e.const_get_relative(M,"String")))?/^[A-Z][a-zA-Z0-9_:]*$/["$=~"](t):r},b.$$arity=1,b.$$parameters=[["req","str"]]),e.defn(E,"$path_for",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"path_for"),r.$underscore_with_fix_for_non_standard_rspec_naming(t)},x.$$arity=1,x.$$parameters=[["req","const_ref"]]),e.defn(E,"$underscore_with_fix_for_non_standard_rspec_naming",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"underscore_with_fix_for_non_standard_rspec_naming"),r.$underscore(t).$sub(/(^|\/)r_spec($|\/)/,"\\1rspec\\2")},k.$$arity=1,k.$$parameters=[["req","string"]]),e.defn(E,"$underscore",q=function(t){var r=n,a=arguments.length;return 1!==a&&e.ac(a,1,this,"underscore"),r=t.$to_s().$dup(),r["$gsub!"](/::/,"/"),r["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),r["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),r["$tr!"]("-","_"),r["$downcase!"](),r},q.$$arity=1,q.$$parameters=[["req","camel_cased_word"]]),e.defn(E,"$file_at",w=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"file_at"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(M,"RSpec"),"Support"),"DirectoryMaker").$mkdir_p(e.const_get_relative(M,"File").$dirname(t)),e.const_get_relative(M,"File").$new(t,"w")},w.$$arity=1,w.$$parameters=[["req","path"]])}(d[0],null,d)}(e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Core"),a)},Opal.modules.stringio=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var i=(e.top,[]),$=e.nil,s=(e.breaker,e.slice,e.klass),o=e.truthy;return e.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(i,$super,c){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O=_=s(i,$super,"StringIO",_),A=O.$$proto,R=[O].concat(c);return A.position=A.string=A.closed=$,O.$include(e.const_get_qualified(e.const_get_relative(R,"IO"),"Readable")),O.$include(e.const_get_qualified(e.const_get_relative(R,"IO"),"Writable")),e.defs(O,"$open",l=function(t,r){var a=this,n=l.$$p,i=n||$,s=$,o=$;null==t&&(t=""),null==r&&(r=$),n&&(l.$$p=null);var c=arguments.length;return c>2&&e.ac(c,-1,this,"open"),s=a.$new(t,r),o=i.$call(s),s.$close(),o},l.$$arity=-1,l.$$parameters=[["opt","string"],["opt","mode"],["block","block"]]),O.$attr_accessor("string"),e.defn(O,"$initialize",u=function(t,r){var a,n=this;null==t&&(t=""),null==r&&(r="rw");var i=arguments.length;return i>2&&e.ac(i,-1,this,"initialize"),n.string=t,n.position=t.$length(),o(o(a=r["$include?"]("r"))?r["$include?"]("w")["$!"]():a)?n.closed="write":o(o(a=r["$include?"]("w"))?r["$include?"]("r")["$!"]():a)?n.closed="read":$},u.$$arity=-1,u.$$parameters=[["opt","string"],["opt","mode"]]),e.defn(O,"$eof?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"eof?"),t.$check_readable(),t.position["$=="](t.string.$length())},p.$$arity=0,p.$$parameters=[]),e.alias(O,"eof","eof?"),e.defn(O,"$seek",d=function(i,s){var c=this,_=$;null==s&&(s=e.const_get_qualified(e.const_get_relative(R,"IO"),"SEEK_SET"));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"seek"),_=s,e.const_get_qualified(e.const_get_relative(R,"IO"),"SEEK_SET")["$==="](_)?(o(t(i,0))||c.$raise(e.const_get_qualified(e.const_get_relative(R,"Errno"),"EINVAL")),c.position=i):e.const_get_qualified(e.const_get_relative(R,"IO"),"SEEK_CUR")["$==="](_)?o(r(a(c.position,i),c.string.$length()))?c.position=c.string.$length():c.position=a(c.position,i):e.const_get_qualified(e.const_get_relative(R,"IO"),"SEEK_END")["$==="](_)&&(o(r(i,c.string.$length()))?c.position=0:c.position=n(c.position,i)),0},d.$$arity=-2,d.$$parameters=[["req","pos"],["opt","whence"]]),e.defn(O,"$tell",f=function(){
var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"tell"),t.position},f.$$arity=0,f.$$parameters=[]),e.alias(O,"pos","tell"),e.alias(O,"pos=","seek"),e.defn(O,"$rewind",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rewind"),t.$seek(0)},h.$$arity=0,h.$$parameters=[]),e.defn(O,"$each_byte",m=function(){var t=this,r=m.$$p,n=r||$,i=$;r&&(m.$$p=null);var s=arguments.length;if(0!==s&&e.ac(s,0,this,"each_byte"),!o(n))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!o(t["$eof?"]());)n.$call(t.string["$[]"](i).$ord()),i=a(i,1);return t},m.$$arity=0,m.$$parameters=[["block","block"]]),e.defn(O,"$each_char",g=function(){var t=this,r=g.$$p,n=r||$,i=$;r&&(g.$$p=null);var s=arguments.length;if(0!==s&&e.ac(s,0,this,"each_char"),!o(n))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!o(t["$eof?"]());)n.$call(t.string["$[]"](i)),i=a(i,1);return t},g.$$arity=0,g.$$parameters=[["block","block"]]),e.defn(O,"$write",v=function(t){var r=this,i=$,s=$,o=arguments.length;return 1!==o&&e.ac(o,1,this,"write"),r.$check_writable(),t=r.$String(t),r.string.$length()["$=="](r.position)?(r.string=a(r.string,t),r.position=a(r.position,t.$length())):(i=r.string["$[]"](e.Range.$new(0,n(r.position,1),!1)),s=r.string["$[]"](e.Range.$new(a(r.position,t.$length()),-1,!1)),r.string=a(a(i,t),s),r.position=a(r.position,t.$length()))},v.$$arity=1,v.$$parameters=[["req","string"]]),e.defn(O,"$read",y=function(t,r){var n=this,i=$,s=$;null==t&&(t=$),null==r&&(r=$);var c=arguments.length;return c>2&&e.ac(c,-1,this,"read"),n.$check_readable(),o(n["$eof?"]())?$:(i=function(){return o(t)?(s=n.string["$[]"](n.position,t),n.position=a(n.position,t),s):(s=n.string["$[]"](e.Range.$new(n.position,-1,!1)),n.position=n.string.$length(),s)}(),o(r)?r.$write(i):i)},y.$$arity=-1,y.$$parameters=[["opt","length"],["opt","outbuf"]]),e.defn(O,"$close",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close"),t.closed="both"},b.$$arity=0,b.$$parameters=[]),e.defn(O,"$close_read",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close_read"),t.closed["$=="]("write")?t.closed="both":t.closed="read"},x.$$arity=0,x.$$parameters=[]),e.defn(O,"$close_write",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close_write"),t.closed["$=="]("read")?t.closed="both":t.closed="write"},k.$$arity=0,k.$$parameters=[]),e.defn(O,"$closed?",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"closed?"),t.closed["$=="]("both")},q.$$arity=0,q.$$parameters=[]),e.defn(O,"$closed_read?",w=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"closed_read?"),o(t=r.closed["$=="]("read"))?t:r.closed["$=="]("both")},w.$$arity=0,w.$$parameters=[]),e.defn(O,"$closed_write?",E=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"closed_write?"),o(t=r.closed["$=="]("write"))?t:r.closed["$=="]("both")},E.$$arity=0,E.$$parameters=[]),e.defn(O,"$check_writable",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"check_writable"),o(t["$closed_write?"]())?t.$raise(e.const_get_relative(R,"IOError"),"not opened for writing"):$},S.$$arity=0,S.$$parameters=[]),e.defn(O,"$check_readable",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"check_readable"),o(t["$closed_read?"]())?t.$raise(e.const_get_relative(R,"IOError"),"not opened for reading"):$},M.$$arity=0,M.$$parameters=[]),$&&"check_readable"}(i[0],e.const_get_relative(i,"IO"),i)},Opal.modules["rspec/core/formatters/base_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_accessor","$attr_reader","$new","$start_sync_output","$count","$group","$restore_sync_output","$private","$output_supports_sync","$sync","$output","$sync=","$!","$closed?","$-","$respond_to?"]),e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_core("formatters/helpers"),r.$require("stringio"),function(r,a){var c,_=c=i(r,"RSpec"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"Core"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"Formatters"),l=(_.$$proto,[_].concat(a));!function(r,$super,a){function i(){}var c,_,l,u,p,d,f,h=i=$(r,$super,"BaseFormatter",i),m=h.$$proto,g=[h].concat(a);m.old_sync=n,e.const_get_relative(g,"Formatters").$register(h,"start","example_group_started","close"),h.$attr_accessor("example_group"),h.$attr_reader("output"),e.defn(h,"$initialize",c=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),a.output=s(r=t)?r:e.const_get_relative(g,"StringIO").$new(),a.example_group=n},c.$$arity=1,c.$$parameters=[["req","output"]]),e.defn(h,"$start",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"start"),r.$start_sync_output(),r.example_count=t.$count()},_.$$arity=1,_.$$parameters=[["req","notification"]]),e.defn(h,"$example_group_started",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_started"),r.example_group=t.$group()},l.$$arity=1,l.$$parameters=[["req","notification"]]),e.defn(h,"$close",u=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"close"),t.$restore_sync_output()},u.$$arity=1,u.$$parameters=[["req","_notification"]]),h.$private(),e.defn(h,"$start_sync_output",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"start_sync_output"),s(r.$output_supports_sync())?(t=[r.$output().$sync(),!0],r.old_sync=t[0],r.$output()["$sync="](t[1]),t):n},p.$$arity=0,p.$$parameters=[]),e.defn(h,"$restore_sync_output",d=function(){var r,a=this,i=n,$=arguments.length;return 0!==$&&e.ac($,0,this,"restore_sync_output"),s(s(r=a.$output_supports_sync())?a.$output()["$closed?"]()["$!"]():r)?(i=[a.old_sync],o(a.$output(),"sync=",e.to_a(i)),i[t(i.length,1)]):n},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$output_supports_sync",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"output_supports_sync"),t.$output()["$respond_to?"]("sync=")},f.$$arity=0,f.$$parameters=[])}(l[0],null,l)}(l[0],l)}(l[0],l)}(a[0],a)},Opal.modules["rspec/core/formatters/base_text_formatter"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.gvars;return e.add_stubs(["$require_rspec_core","$register","$puts","$output","$message","$empty?","$failure_notifications","$fully_formatted_failed_examples","$fully_formatted","$pending_examples","$fully_formatted_pending_examples","$seed_used?","$===","$closed?","$==","$close"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_core("formatters/base_formatter"),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_core("formatters/console_codes"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Core"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Formatters"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d=s=n(t,$super,"BaseTextFormatter",s),f=(d.$$proto,[d].concat(a));e.const_get_relative(f,"Formatters").$register(d,"message","dump_summary","dump_failures","dump_pending","seed"),e.defn(d,"$message",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"message"),r.$output().$puts(t.$message())},o.$$arity=1,o.$$parameters=[["req","notification"]]),e.defn(d,"$dump_failures",c=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"dump_failures"),i(t.$failure_notifications()["$empty?"]())?r:a.$output().$puts(t.$fully_formatted_failed_examples())},c.$$arity=1,c.$$parameters=[["req","notification"]]),e.defn(d,"$dump_summary",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"dump_summary"),r.$output().$puts(t.$fully_formatted())},_.$$arity=1,_.$$parameters=[["req","summary"]]),e.defn(d,"$dump_pending",l=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"dump_pending"),i(t.$pending_examples()["$empty?"]())?r:a.$output().$puts(t.$fully_formatted_pending_examples())},l.$$arity=1,l.$$parameters=[["req","notification"]]),e.defn(d,"$seed",u=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"seed"),i(t["$seed_used?"]())?a.$output().$puts(t.$fully_formatted()):r},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(d,"$close",p=function(){var t,a=this;null==$.stdout&&($.stdout=r);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"close"),i(e.const_get_relative(f,"IO")["$==="](a.$output()))?i(i(t=a.$output()["$closed?"]())?t:a.$output()["$=="]($.stdout))?r:a.$output().$close():r},p.$$arity=1,p.$$parameters=[["req","_notification"]])}(_[0],e.const_get_relative(_,"BaseFormatter"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/core/formatters/console_codes"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module),a=e.hash2,n=e.truthy,i=e.send;return e.add_stubs(["$invert","$module_function","$respond_to?","$configuration","$console_code_for","$configuration_color","$key?","$fetch","$color_enabled?","$__send__"]),function(t,$){var s,o=s=r(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=r(t,"Core"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=r(t,"Formatters"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l=s=r(t,"ConsoleCodes"),u=(l.$$proto,[l].concat($));e.const_set(u[0],"VT100_CODES",a(["black","red","green","yellow","blue","magenta","cyan","white","bold"],{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,bold:1})),e.const_set(u[0],"VT100_CODE_VALUES",e.const_get_relative(u,"VT100_CODES").$invert()),l.$module_function(),e.defn(l,"$console_code_for",o=function(t){var r,a=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"console_code_for"),n(e.const_get_relative(u,"RSpec").$configuration()["$respond_to?"](t+"_color"))?a.$console_code_for(a.$configuration_color(t)):n(e.const_get_relative(u,"VT100_CODE_VALUES")["$key?"](t))?t:i(e.const_get_relative(u,"VT100_CODES"),"fetch",[t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"console_code_for")}return t.$console_code_for("white")},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},o.$$arity=1,o.$$parameters=[["req","code_or_symbol"]]),e.defn(l,"$wrap",c=function(t,r){var a=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"wrap"),n(e.const_get_relative(u,"RSpec").$configuration()["$color_enabled?"]())?"e["+a.$console_code_for(r)+"m"+t+"e[0m":t},c.$$arity=2,c.$$parameters=[["req","text"],["req","code_or_symbol"]]),e.defn(l,"$configuration_color",_=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"configuration_color"),e.const_get_relative(u,"RSpec").$configuration().$__send__(t+"_color")},_.$$arity=1,_.$$parameters=[["req","code"]])}(c[0],c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.module),_=e.klass,l=e.truthy,u=e.send;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$new","$deprecation_stream","$===","$summary_stream","$include?","$+","$print_deprecation_message","$printer","$<<","$deprecation_summary","$message","$gsub","$deprecation_type_for","$output_formatted","$private","$>","$count","$lines","$*","$chomp","$deprecated","$replacement","$call_site","$type","$deprecation_message_for","$deprecation_formatter","$puts","$to_s","$zero?","$summarize","$[]=","$-","$[]","$stash_deprecation_message","$<","$==","$too_many_warnings_message","$any?","$print_deferred_deprecation_warnings","$pluralize","$each","$sort_by","$keys","$to_proc","$raise","$sync=","$path"]),e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support").$require_rspec_core("formatters/helpers"),$.$require("set"),function($,s){var p,d=p=c($,"RSpec"),f=(d.$$proto,[d].concat(s));!function($,s){var p,d=p=c($,"Core"),f=(d.$$proto,[d].concat(s));!function($,s){var p,d=p=c($,"Formatters"),f=(d.$$proto,[d].concat(s));!function($,$super,s){function c(){}var p,d,f,h,m,g,v,y=c=_($,$super,"DeprecationFormatter",c),b=y.$$proto,x=[y].concat(s);b.printer=b.seen_deprecations=b.count=o,e.const_get_relative(x,"Formatters").$register(y,"deprecation","deprecation_summary"),y.$attr_reader("count","deprecation_stream","summary_stream"),e.defn(y,"$initialize",p=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.deprecation_stream=t,a.summary_stream=r,a.seen_deprecations=e.const_get_relative(x,"Set").$new(),a.count=0},p.$$arity=2,p.$$parameters=[["req","deprecation_stream"],["req","summary_stream"]]),e.alias(y,"output","deprecation_stream"),e.defn(y,"$printer",d=function(){var t,r=this,a=o,n=arguments.length;return 0!==n&&e.ac(n,0,this,"printer"),r.printer=l(t=r.printer)?t:function(){return a=r.$deprecation_stream(),e.const_get_relative(x,"File")["$==="](a)?e.const_get_relative(x,"ImmediatePrinter").$new(e.const_get_relative(x,"FileStream").$new(r.$deprecation_stream()),r.$summary_stream(),r):e.const_get_relative(x,"RaiseErrorStream")["$==="](a)?e.const_get_relative(x,"ImmediatePrinter").$new(r.$deprecation_stream(),r.$summary_stream(),r):e.const_get_relative(x,"DelayedPrinter").$new(r.$deprecation_stream(),r.$summary_stream(),r)}()},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$deprecation",f=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"deprecation"),l(a.seen_deprecations["$include?"](r))?o:(a.count=t(a.count,1),a.$printer().$print_deprecation_message(r),a.seen_deprecations["$<<"](r))},f.$$arity=1,f.$$parameters=[["req","notification"]]),e.defn(y,"$deprecation_summary",h=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"deprecation_summary"),t.$printer().$deprecation_summary()},h.$$arity=1,h.$$parameters=[["req","_notification"]]),e.defn(y,"$deprecation_message_for",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"deprecation_message_for"),l(t.$message())?e.const_get_relative(x,"SpecifiedDeprecationMessage").$new(t):e.const_get_relative(x,"GeneratedDeprecationMessage").$new(t)},m.$$arity=1,m.$$parameters=[["req","data"]]),e.const_set(x[0],"RAISE_ERROR_CONFIG_NOTICE","          |\n          |If you need more of the backtrace for any of these deprecations to\n          |identify where to make the necessary changes, you can configure\n          |`config.raise_errors_for_deprecations!`, and it will turn the\n          |deprecation warnings into errors, giving you the full backtrace.\n".$gsub(/^\s+\|/,"")),e.const_set(x[0],"DEPRECATION_STREAM_NOTICE","Pass `--deprecation-out` or set `config.deprecation_stream` to a file for full output."),e.const_set(x[0],"SpecifiedDeprecationMessage",u(e.const_get_relative(x,"Struct"),"new",["type"],(g=function(){var t,n,i,$,s,c=g.$$s||this;if(g.$$is_lambda||g.$$define_meth){var _=arguments.length;0!==_&&e.block_ac(_,0,"<class:DeprecationFormatter>")}return e.def(c,"$initialize",t=function(r){var a=this,n=t.$$p;n&&(t.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),a.message=r.$message(),u(a,e.find_super_dispatcher(a,"initialize",t,!1),[a.$deprecation_type_for(r)],null)},t.$$arity=1,t.$$parameters=[["req","data"]]),e.def(c,"$to_s",n=function(){var t=this;null==t.message&&(t.message=o);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.$output_formatted(t.message)},n.$$arity=0,n.$$parameters=[]),e.def(c,"$too_many_warnings_message",i=function(){var t=o,r=arguments.length;return 0!==r&&e.ac(r,0,this,"too_many_warnings_message"),t="Too many similar deprecation messages reported, disregarding further reports. ",t["$<<"](e.const_get_relative(x,"DEPRECATION_STREAM_NOTICE")),t},i.$$arity=0,i.$$parameters=[]),c.$private(),e.def(c,"$output_formatted",$=function(t){var n=o,i=arguments.length;return 1!==i&&e.ac(i,1,this,"output_formatted"),l(r(t.$lines().$count(),1))?(n=""+a("-",80))+"\n"+t.$chomp()+"\n"+n:t},$.$$arity=1,$.$$parameters=[["req","str"]]),e.def(c,"$deprecation_type_for",s=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"deprecation_type_for"),t.$message().$gsub(/(\w+\/)+\w+\.rb:\d+/,"")},s.$$arity=1,s.$$parameters=[["req","data"]]),o&&"deprecation_type_for"},g.$$s=y,g.$$arity=0,g.$$parameters=[],g))),e.const_set(x[0],"GeneratedDeprecationMessage",u(e.const_get_relative(x,"Struct"),"new",["type"],(v=function(){var t,r,a,n=v.$$s||this;if(v.$$is_lambda||v.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<class:DeprecationFormatter>")}return e.def(n,"$initialize",t=function(r){var a=this,n=t.$$p;n&&(t.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),a.data=r,u(a,e.find_super_dispatcher(a,"initialize",t,!1),[r.$deprecated()],null)},t.$$arity=1,t.$$parameters=[["req","data"]]),e.def(n,"$to_s",r=function(){var t=this,r=o;null==t.data&&(t.data=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"to_s"),r=t.data.$deprecated()+" is deprecated.",l(t.data.$replacement())&&r["$<<"](" Use "+t.data.$replacement()+" instead."),l(t.data.$call_site())&&r["$<<"](" Called from "+t.data.$call_site()+"."),r},r.$$arity=0,r.$$parameters=[]),e.def(n,"$too_many_warnings_message",a=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"too_many_warnings_message"),r="Too many uses of deprecated '"+t.$type()+"'. ",r["$<<"](e.const_get_relative(x,"DEPRECATION_STREAM_NOTICE")),r},a.$$arity=0,a.$$parameters=[]),o&&"too_many_warnings_message"},v.$$s=y,v.$$arity=0,v.$$parameters=[],v))),function(t,$super,r){function a(){}var n,i,$,s=a=_(t,$super,"ImmediatePrinter",a);s.$$proto,[s].concat(r);s.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(s,"$initialize",n=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),n.deprecation_stream=t,n.summary_stream=r,n.deprecation_formatter=a},n.$$arity=3,n.$$parameters=[["req","deprecation_stream"],["req","summary_stream"],["req","deprecation_formatter"]]),e.defn(s,"$print_deprecation_message",i=function(t){var r=this,a=o,n=arguments.length;return 1!==n&&e.ac(n,1,this,"print_deprecation_message"),a=r.$deprecation_formatter().$deprecation_message_for(t),r.$deprecation_stream().$puts(a.$to_s())},i.$$arity=1,i.$$parameters=[["req","data"]]),e.defn(s,"$deprecation_summary",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"deprecation_summary"),l(t.$deprecation_formatter().$count()["$zero?"]())?o:t.$deprecation_stream().$summarize(t.$summary_stream(),t.$deprecation_formatter().$count())},$.$$arity=0,$.$$parameters=[])}(x[0],null,x),function(r,$super,a){function $(){}var s,c,p,d,f,h=$=_(r,$super,"DelayedPrinter",$),m=h.$$proto,g=[h].concat(a);m.seen_deprecations=m.deprecation_messages=o,e.const_set(g[0],"TOO_MANY_USES_LIMIT",4),h.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(h,"$initialize",s=function(t,r,a){var i,$,s=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"initialize"),s.deprecation_stream=t,s.summary_stream=r,s.deprecation_formatter=a,s.seen_deprecations=u(e.const_get_relative(g,"Hash"),"new",[],(i=function(){i.$$s;if(i.$$is_lambda||i.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"initialize")}return 0},i.$$s=s,i.$$arity=0,i.$$parameters=[],i)),s.deprecation_messages=u(e.const_get_relative(g,"Hash"),"new",[],($=function(t,r){var a=($.$$s,o);if(null==t&&(t=o),null==r&&(r=o),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"initialize")}return a=[r,[]],u(t,"[]=",e.to_a(a)),a[n(a.length,1)]},$.$$s=s,$.$$arity=2,$.$$parameters=[["req","h"],["req","k"]],$))},s.$$arity=3,s.$$parameters=[["req","deprecation_stream"],["req","summary_stream"],["req","deprecation_formatter"]]),e.defn(h,"$print_deprecation_message",c=function(r){var a=this,i=o,$=o,s=arguments.length;return 1!==s&&e.ac(s,1,this,"print_deprecation_message"),i=a.$deprecation_formatter().$deprecation_message_for(r),$=[i,t(a.seen_deprecations["$[]"](i),1)],u(a.seen_deprecations,"[]=",e.to_a($)),$[n($.length,1)],a.$stash_deprecation_message(i)},c.$$arity=1,c.$$parameters=[["req","data"]]),e.defn(h,"$stash_deprecation_message",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"stash_deprecation_message"),l(i(r.seen_deprecations["$[]"](t),e.const_get_relative(g,"TOO_MANY_USES_LIMIT")))?r.deprecation_messages["$[]"](t)["$<<"](t.$to_s()):r.seen_deprecations["$[]"](t)["$=="](e.const_get_relative(g,"TOO_MANY_USES_LIMIT"))?r.deprecation_messages["$[]"](t)["$<<"](t.$too_many_warnings_message()):o},p.$$arity=1,p.$$parameters=[["req","deprecation_message"]]),e.defn(h,"$deprecation_summary",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"deprecation_summary"),l(t.deprecation_messages["$any?"]())?(t.$print_deferred_deprecation_warnings(),t.$deprecation_stream().$puts(e.const_get_relative(g,"RAISE_ERROR_CONFIG_NOTICE")),t.$summary_stream().$puts("\n"+e.const_get_relative(g,"Helpers").$pluralize(t.$deprecation_formatter().$count(),"deprecation warning")+" total")):o},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$print_deferred_deprecation_warnings",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"print_deferred_deprecation_warnings"),r.$deprecation_stream().$puts("\nDeprecation Warnings:\n\n"),u(u(r.deprecation_messages.$keys(),"sort_by",[],"type".$to_proc()),"each",[],(t=function(r){var a,n=t.$$s||this,i=o;if(null==n.deprecation_messages&&(n.deprecation_messages=o),null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"print_deferred_deprecation_warnings")}return i=n.deprecation_messages["$[]"](r),u(i,"each",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"print_deferred_deprecation_warnings")}return r.$deprecation_stream().$puts(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","msg"]],a)),n.$deprecation_stream().$puts()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","deprecation"]],t))},f.$$arity=0,f.$$parameters=[])}(x[0],null,x),function(t,$super,r){function a(){}var n,i,$=a=_(t,$super,"RaiseErrorStream",a),s=($.$$proto,[$].concat(r));e.defn($,"$puts",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"puts"),r.$raise(e.const_get_relative(s,"DeprecationError"),t)},n.$$arity=1,n.$$parameters=[["req","message"]]),e.defn($,"$summarize",i=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"summarize"),t.$puts("\n"+e.const_get_relative(s,"Helpers").$pluralize(r,"deprecation")+" found.")},i.$$arity=2,i.$$parameters=[["req","summary_stream"],["req","deprecation_count"]])}(x[0],null,x),function(t,$super,r){function a(){}var i,$,s,c=a=_(t,$super,"FileStream",a),l=c.$$proto,p=[c].concat(r);l.file=o,e.defn(c,"$initialize",i=function(t){var r=this,a=o,i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),r.file=t,a=[!0],u(r.file,"sync=",e.to_a(a)),a[n(a.length,1)]},i.$$arity=1,i.$$parameters=[["req","file"]]),e.defn(c,"$puts",$=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return u(r.file,"puts",e.to_a(t))},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(c,"$summarize",s=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"summarize"),t.$puts("\n"+e.const_get_relative(p,"Helpers").$pluralize(r,"deprecation")+" logged to "+a.file.$path()),a.$puts(e.const_get_relative(p,"RAISE_ERROR_CONFIG_NOTICE"))},s.$$arity=2,s.$$parameters=[["req","summary_stream"],["req","deprecation_count"]])}(x[0],null,x)}(f[0],null,f)}(f[0],f),e.const_set(f[0],"DeprecationError",e.const_get_relative(f,"Class").$new(e.const_get_relative(f,"StandardError")))}(f[0],f)}(s[0],s)},Opal.modules["rspec/core/formatters/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,[]),s=e.nil,o=(e.breaker,e.slice,e.module),c=e.truthy;return e.add_stubs(["$<","$>","$to_i","$/","$-","$*","$pluralize","$format_seconds","$%","$strip_trailing_zeroes","$sub","$empty?","$private_class_method","$==","$to_f"]),function($,_){var l,u=l=o($,"RSpec"),p=(u.$$proto,[u].concat(_));!function($,_){var l,u=l=o($,"Core"),p=(u.$$proto,[u].concat(_));!function($,_){var l,u=l=o($,"Formatters"),p=(u.$$proto,[u].concat(_));!function($,_){var l,u,p,d,f,h=l=o($,"Helpers"),m=(h.$$proto,[h].concat(_));e.const_set(m[0],"SUB_SECOND_PRECISION",5),e.const_set(m[0],"DEFAULT_PRECISION",2),e.defs(h,"$format_duration",u=function($){var o=this,_=s,l=s,u=s,p=arguments.length;return 1!==p&&e.ac(p,1,this,"format_duration"),_=function(){return c(t($,1))?e.const_get_relative(m,"SUB_SECOND_PRECISION"):c(t($,120))?e.const_get_relative(m,"DEFAULT_PRECISION"):c(t($,300))?1:0}(),c(r($,60))?(l=a($.$to_i(),60).$to_i(),u=n($,i(l,60)),o.$pluralize(l,"minute")+" "+o.$pluralize(o.$format_seconds(u,_),"second")):o.$pluralize(o.$format_seconds($,_),"second")},u.$$arity=1,u.$$parameters=[["req","duration"]]),e.defs(h,"$format_seconds",p=function(r,a){var n,i=this,$=s;null==a&&(a=s);var o=arguments.length;return(o<1||o>2)&&e.ac(o,-2,this,"format_seconds"),a=c(n=a)?n:function(){return c(t(r,1))?e.const_get_relative(m,"SUB_SECOND_PRECISION"):e.const_get_relative(m,"DEFAULT_PRECISION")}(),$=("%."+a+"f")["$%"](r),i.$strip_trailing_zeroes($)},p.$$arity=-2,p.$$parameters=[["req","float$"],["opt","precision"]]),e.defs(h,"$strip_trailing_zeroes",d=function(t){var r=s,a=arguments.length;return 1!==a&&e.ac(a,1,this,"strip_trailing_zeroes"),r=t.$sub(/[^1-9]+$/,""),c(r["$empty?"]())?"0":r},d.$$arity=1,d.$$parameters=[["req","string"]]),h.$private_class_method("strip_trailing_zeroes"),e.defs(h,"$pluralize",f=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"pluralize"),t+" "+r+function(){return t.$to_f()["$=="](1)?s:"s"}()},f.$$arity=2,f.$$parameters=[["req","count"],["req","string"]])}(p[0],p)}(p[0],p)}(p[0],p)}($[0],$)},Opal.modules["rspec/core/formatters/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,c=e.truthy;return e.add_stubs(["$require","$include","$puts","$indentation_style","$h","$%","$[]","$==","$<<","$>","$flush","$private","$*","$-"]),n.$require("erb"),function(n,i){var _,l=_=s(n,"RSpec"),u=(l.$$proto,[l].concat(i));!function(n,i){var _,l=_=s(n,"Core"),u=(l.$$proto,[l].concat(i));!function(n,i){var _,l=_=s(n,"Formatters"),u=(l.$$proto,[l].concat(i));!function(n,$super,i){function s(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w=s=o(n,$super,"HtmlPrinter",s),E=w.$$proto,S=[w].concat(i);E.output=$,w.$include(e.const_get_qualified(e.const_get_relative(S,"ERB"),"Util")),e.defn(w,"$initialize",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.output=t},_.$$arity=1,_.$$parameters=[["req","output"]]),e.defn(w,"$print_html_start",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"print_html_start"),t.output.$puts(e.const_get_relative(S,"HTML_HEADER")),t.output.$puts(e.const_get_relative(S,"REPORT_HEADER"))},l.$$arity=0,l.$$parameters=[]),e.defn(w,"$print_example_group_end",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"print_example_group_end"),t.output.$puts("  </dl>"),t.output.$puts("</div>")},u.$$arity=0,u.$$parameters=[]),e.defn(w,"$print_example_group_start",p=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"print_example_group_start"),n.output.$puts('<div id="div_group_'+t+'" class="example_group passed">'),n.output.$puts("  <dl "+n.$indentation_style(a)+">"),n.output.$puts('  <dt id="example_group_'+t+'" class="passed">'+n.$h(r)+"</dt>")},p.$$arity=3,p.$$parameters=[["req","group_id"],["req","description"],["req","number_of_parents"]]),e.defn(w,"$print_example_passed",d=function(t,r){var a=this,n=$,i=arguments.length;return 2!==i&&e.ac(i,2,this,"print_example_passed"),n="%.5f"["$%"](r),a.output.$puts('    <dd class="example passed"><span class="passed_spec_name">'+a.$h(t)+"</span><span class='duration'>"+n+"s</span></dd>")},d.$$arity=2,d.$$parameters=[["req","description"],["req","run_time"]]),e.defn(w,"$print_example_failed",f=function(t,r,a,n,i,s,o){var _=this,l=$;null==o&&(o=!1);var u=arguments.length;return(u<6||u>7)&&e.ac(u,-7,this,"print_example_failed"),l="%.5f"["$%"](a),_.output.$puts('    <dd class="example '+function(){return c(t)?"pending_fixed":"failed"}()+'">'),_.output.$puts('      <span class="failed_spec_name">'+_.$h(r)+"</span>"),_.output.$puts('      <span class="duration">'+l+"s</span>"),_.output.$puts('      <div class="failure" id="failure_'+n+'">'),c(i)&&(_.output.$puts('        <div class="message"><pre>'+_.$h(i["$[]"]("message"))+"</pre></div>"),c(o)?_.output.$puts('        <div class="backtrace"><pre>'+_.$h(i["$[]"]("backtrace"))+"</pre></div>"):_.output.$puts('        <div class="backtrace"><pre>'+i["$[]"]("backtrace")+"</pre></div>")),c(s)&&_.output.$puts(s),_.output.$puts("      </div>"),_.output.$puts("    </dd>")},f.$$arity=-7,f.$$parameters=[["req","pending_fixed"],["req","description"],["req","run_time"],["req","failure_id"],["req","exception"],["req","extra_content"],["opt","escape_backtrace"]]),e.defn(w,"$print_example_pending",h=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"print_example_pending"),a.output.$puts('    <dd class="example not_implemented"><span class="not_implemented_spec_name">'+a.$h(t)+" (PENDING: "+a.$h(r)+")</span></dd>")},h.$$arity=2,h.$$parameters=[["req","description"],["req","pending_message"]]),e.defn(w,"$print_summary",m=function(r,a,n,i){var s=this,o=$,_=$,l=arguments.length;return 4!==l&&e.ac(l,4,this,"print_summary"),o=a+" example"+function(){return a["$=="](1)?$:"s"}()+", ",o["$<<"](n+" failure"+function(){return n["$=="](1)?$:"s"}()),c(t(i,0))&&o["$<<"](", "+i+" pending"),_="%.5f"["$%"](r),s.output.$puts('<script type="text/javascript">document.getElementById(\'duration\').innerHTML = "Finished in <strong>'+_+' seconds</strong>";</script>'),s.output.$puts('<script type="text/javascript">document.getElementById(\'totals\').innerHTML = "'+o+'";</script>'),s.output.$puts("</div>"),s.output.$puts("</div>"),s.output.$puts("</body>"),s.output.$puts("</html>")},m.$$arity=4,m.$$parameters=[["req","duration"],["req","example_count"],["req","failure_count"],["req","pending_count"]]),e.defn(w,"$flush",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"flush"),t.output.$flush()},g.$$arity=0,g.$$parameters=[]),e.defn(w,"$move_progress",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"move_progress"),r.output.$puts('    <script type="text/javascript">moveProgressBar(\''+t+"');</script>"),r.output.$flush()},v.$$arity=1,v.$$parameters=[["req","percent_done"]]),e.defn(w,"$make_header_red",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"make_header_red"),t.output.$puts("    <script type=\"text/javascript\">makeRed('rspec-header');</script>")},y.$$arity=0,y.$$parameters=[]),e.defn(w,"$make_header_yellow",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"make_header_yellow"),t.output.$puts("    <script type=\"text/javascript\">makeYellow('rspec-header');</script>")},b.$$arity=0,b.$$parameters=[]),e.defn(w,"$make_example_group_header_red",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"make_example_group_header_red"),r.output.$puts('    <script type="text/javascript">makeRed(\'div_group_'+t+"');</script>"),r.output.$puts('    <script type="text/javascript">makeRed(\'example_group_'+t+"');</script>")},x.$$arity=1,x.$$parameters=[["req","group_id"]]),e.defn(w,"$make_example_group_header_yellow",k=function(t){var r=this,a=arguments.length
;return 1!==a&&e.ac(a,1,this,"make_example_group_header_yellow"),r.output.$puts('    <script type="text/javascript">makeYellow(\'div_group_'+t+"');</script>"),r.output.$puts('    <script type="text/javascript">makeYellow(\'example_group_'+t+"');</script>")},k.$$arity=1,k.$$parameters=[["req","group_id"]]),w.$private(),e.defn(w,"$indentation_style",q=function(t){var n=arguments.length;return 1!==n&&e.ac(n,1,this,"indentation_style"),'style="margin-left: '+r(a(t,1),15)+'px;"'},q.$$arity=1,q.$$parameters=[["req","number_of_parents"]]),e.const_set(S[0],"REPORT_HEADER",'<div class="rspec-report">\n\n<div id="rspec-header">\n  <div id="label">\n    <h1>RSpec Code Examples</h1>\n  </div>\n\n  <div id="display-filters">\n    <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>\n    <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>\n    <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>\n  </div>\n\n  <div id="summary">\n    <p id="totals">&#160;</p>\n    <p id="duration">&#160;</p>\n  </div>\n</div>\n\n\n<div class="results">\n'),e.const_set(S[0],"GLOBAL_SCRIPTS","\nfunction addClass(element_id, classname) {\n  document.getElementById(element_id).className += (\" \" + classname);\n}\n\nfunction removeClass(element_id, classname) {\n  var elem = document.getElementById(element_id);\n  var classlist = elem.className.replace(classname,'');\n  elem.className = classlist;\n}\n\nfunction moveProgressBar(percentDone) {\n  document.getElementById(\"rspec-header\").style.width = percentDone +\"%\";\n}\n\nfunction makeRed(element_id) {\n  removeClass(element_id, 'passed');\n  removeClass(element_id, 'not_implemented');\n  addClass(element_id,'failed');\n}\n\nfunction makeYellow(element_id) {\n  var elem = document.getElementById(element_id);\n  if (elem.className.indexOf(\"failed\") == -1) {  // class doesn't includes failed\n    if (elem.className.indexOf(\"not_implemented\") == -1) { // class doesn't include not_implemented\n      removeClass(element_id, 'passed');\n      addClass(element_id,'not_implemented');\n    }\n  }\n}\n\nfunction apply_filters() {\n  var passed_filter = document.getElementById('passed_checkbox').checked;\n  var failed_filter = document.getElementById('failed_checkbox').checked;\n  var pending_filter = document.getElementById('pending_checkbox').checked;\n\n  assign_display_style(\"example passed\", passed_filter);\n  assign_display_style(\"example failed\", failed_filter);\n  assign_display_style(\"example not_implemented\", pending_filter);\n\n  assign_display_style_for_group(\"example_group passed\", passed_filter);\n  assign_display_style_for_group(\"example_group not_implemented\", pending_filter, pending_filter || passed_filter);\n  assign_display_style_for_group(\"example_group failed\", failed_filter, failed_filter || pending_filter || passed_filter);\n}\n\nfunction get_display_style(display_flag) {\n  var style_mode = 'none';\n  if (display_flag == true) {\n    style_mode = 'block';\n  }\n  return style_mode;\n}\n\nfunction assign_display_style(classname, display_flag) {\n  var style_mode = get_display_style(display_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    elems[i].style.display = style_mode;\n  }\n}\n\nfunction assign_display_style_for_group(classname, display_flag, subgroup_flag) {\n  var display_style_mode = get_display_style(display_flag);\n  var subgroup_style_mode = get_display_style(subgroup_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    var style_mode = display_style_mode;\n    if ((display_flag != subgroup_flag) && (elems[i].getElementsByTagName('dt')[0].innerHTML.indexOf(\", \") != -1)) {\n      elems[i].style.display = subgroup_style_mode;\n    } else {\n      elems[i].style.display = display_style_mode;\n    }\n  }\n}\n"),e.const_set(S[0],"GLOBAL_STYLES",'#rspec-header {\n  background: #65C400; color: #fff; height: 4em;\n}\n\n.rspec-report h1 {\n  margin: 0px 10px 0px 10px;\n  padding: 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  font-size: 1.8em;\n  position: absolute;\n}\n\n#label {\n  float:left;\n}\n\n#display-filters {\n  float:left;\n  padding: 28px 0 0 40%;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n}\n\n#summary {\n  float:right;\n  padding: 5px 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  text-align: right;\n}\n\n#summary p {\n  margin: 0 0 0 2px;\n}\n\n#summary #totals {\n  font-size: 1.2em;\n}\n\n.example_group {\n  margin: 0 10px 5px;\n  background: #fff;\n}\n\ndl {\n  margin: 0; padding: 0 0 5px;\n  font: normal 11px "Lucida Grande", Helvetica, sans-serif;\n}\n\ndt {\n  padding: 3px;\n  background: #65C400;\n  color: #fff;\n  font-weight: bold;\n}\n\ndd {\n  margin: 5px 0 5px 5px;\n  padding: 3px 3px 3px 18px;\n}\n\ndd .duration {\n  padding-left: 5px;\n  text-align: right;\n  right: 0px;\n  float:right;\n}\n\ndd.example.passed {\n  border-left: 5px solid #65C400;\n  border-bottom: 1px solid #65C400;\n  background: #DBFFB4; color: #3D7700;\n}\n\ndd.example.not_implemented {\n  border-left: 5px solid #FAF834;\n  border-bottom: 1px solid #FAF834;\n  background: #FCFB98; color: #131313;\n}\n\ndd.example.pending_fixed {\n  border-left: 5px solid #0000C2;\n  border-bottom: 1px solid #0000C2;\n  color: #0000C2; background: #D3FBFF;\n}\n\ndd.example.failed {\n  border-left: 5px solid #C20000;\n  border-bottom: 1px solid #C20000;\n  color: #C20000; background: #FFFBD3;\n}\n\n\ndt.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\ndt.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\ndt.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n#rspec-header.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\n#rspec-header.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n#rspec-header.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n.backtrace {\n  color: #000;\n  font-size: 12px;\n}\n\na {\n  color: #BE5C00;\n}\n\n/* Ruby code, style similar to vibrant ink */\n.ruby {\n  font-size: 12px;\n  font-family: monospace;\n  color: white;\n  background-color: black;\n  padding: 0.1em 0 0.2em 0;\n}\n\n.ruby .keyword { color: #FF6600; }\n.ruby .constant { color: #339999; }\n.ruby .attribute { color: white; }\n.ruby .global { color: white; }\n.ruby .module { color: white; }\n.ruby .class { color: white; }\n.ruby .string { color: #66FF00; }\n.ruby .ident { color: white; }\n.ruby .method { color: #FFCC00; }\n.ruby .number { color: white; }\n.ruby .char { color: white; }\n.ruby .comment { color: #9933CC; }\n.ruby .symbol { color: white; }\n.ruby .regex { color: #44B4CC; }\n.ruby .punct { color: white; }\n.ruby .escape { color: white; }\n.ruby .interp { color: white; }\n.ruby .expr { color: white; }\n\n.ruby .offending { background-color: gray; }\n.ruby .linenum {\n  width: 75px;\n  padding: 0.1em 1em 0.2em 0;\n  color: #000000;\n  background-color: #FFFBD3;\n}\n'),e.const_set(S[0],"HTML_HEADER",'<!DOCTYPE html>\n<html lang=\'en\'>\n<head>\n  <title>RSpec results</title>\n  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n  <meta http-equiv="Expires" content="-1" />\n  <meta http-equiv="Pragma" content="no-cache" />\n  <style type="text/css">\n  body {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    font-size: 80%;\n  }\n  </style>\n  <script type="text/javascript">\n    // <![CDATA[\n'+e.const_get_relative(S,"GLOBAL_SCRIPTS")+'\n    // ]]>\n  </script>\n  <style type="text/css">\n'+e.const_get_relative(S,"GLOBAL_STYLES")+"\n  </style>\n</head>\n<body>\n")}(u[0],null,u)}(u[0],u)}(u[0],u)}(i[0],i)},Opal.modules["rspec/core/hooks"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy,s=e.hash2,o=e.klass;return e.add_stubs(["$register","$hooks","$to_proc","$alias_method","$new","$private","$attr_reader","$all_apply?","$options","$instance_exec","$block","$instance_exec_with_rescue","$message","$reporter","$configuration","$class","$first","$backtrace","$executed?","$mark_skipped!","$hook_description","$method_defined?","$relative_path","$join","$source_location","$each","$public_instance_methods","$define_method","$__send__","$protected","$with","$select","$options_apply?","$run","$call","$inject","$wrap","$execute_with","$empty?","$shift","$[]","$process","$for","$flat_map","$parent_groups","$scope_and_options_from","$dry_run?","$find_hook","$[]=","$-","$==","$any?","$include?","$<<","$extract_scope_from","$build_hash_from","$known_scope?","$normalized_scope_for","$is_a?","$keys","$raise","$===","$before_context_hooks_for","$after_context_hooks_for","$around_example_hooks_for","$before_example_hooks_for","$after_example_hooks_for","$reverse"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l,u,p,d,f,h,m=_=n(r,"Hooks"),g=(m.$$proto,[m].concat(c));e.defn(m,"$before",l=function(){var t,r=this,n=l.$$p,$=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(l.$$p=null),i(r.$hooks(),"register",["append","before"].concat(e.to_a(t)),$.$to_proc())},l.$$arity=-1,l.$$parameters=[["rest","args"],["block","block"]]),m.$alias_method("append_before","before"),e.defn(m,"$prepend_before",u=function(){var t,r=this,n=u.$$p,$=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(u.$$p=null),i(r.$hooks(),"register",["prepend","before"].concat(e.to_a(t)),$.$to_proc())},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),e.defn(m,"$after",p=function(){var t,r=this,n=p.$$p,$=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(p.$$p=null),i(r.$hooks(),"register",["prepend","after"].concat(e.to_a(t)),$.$to_proc())},p.$$arity=-1,p.$$parameters=[["rest","args"],["block","block"]]),m.$alias_method("prepend_after","after"),e.defn(m,"$append_after",d=function(){var t,r=this,n=d.$$p,$=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(d.$$p=null),i(r.$hooks(),"register",["append","after"].concat(e.to_a(t)),$.$to_proc())},d.$$arity=-1,d.$$parameters=[["rest","args"],["block","block"]]),e.defn(m,"$around",f=function(){var t,r=this,n=f.$$p,$=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(f.$$p=null),i(r.$hooks(),"register",["prepend","around"].concat(e.to_a(t)),$.$to_proc())},f.$$arity=-1,f.$$parameters=[["rest","args"],["block","block"]]),e.defn(m,"$hooks",h=function(){var t,r=this;null==r.hooks&&(r.hooks=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"hooks"),r.hooks=$(t=r.hooks)?t:e.const_get_relative(g,"HookCollections").$new(r,s(["around","before","after"],{around:s(["example"],{example:e.const_get_relative(g,"AroundHookCollection").$new()}),before:s(["example","context","suite"],{example:e.const_get_relative(g,"HookCollection").$new(),context:e.const_get_relative(g,"HookCollection").$new(),suite:e.const_get_relative(g,"HookCollection").$new()}),after:s(["example","context","suite"],{example:e.const_get_relative(g,"HookCollection").$new(),context:e.const_get_relative(g,"HookCollection").$new(),suite:e.const_get_relative(g,"HookCollection").$new()})}))},h.$$arity=0,h.$$parameters=[]),m.$private(),function(t,$super,r){function a(){}var n,i,$=a=o(t,$super,"Hook",a);$.$$proto,[$].concat(r);$.$attr_reader("block","options"),e.defn($,"$initialize",n=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.block=t,a.options=r},n.$$arity=2,n.$$parameters=[["req","block"],["req","options"]]),e.defn($,"$options_apply?",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"options_apply?"),t["$all_apply?"](r.$options())},i.$$arity=1,i.$$parameters=[["req","example_or_group"]])}(g[0],null,g),function(t,$super,r){function a(){}var n,$=a=o(t,$super,"BeforeHook",a);$.$$proto,[$].concat(r);e.defn($,"$run",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"run"),i(t,"instance_exec",[t],r.$block().$to_proc())},n.$$arity=1,n.$$parameters=[["req","example"]])}(g[0],e.const_get_relative(g,"Hook"),g),function(t,$super,r){function a(){}var n,$=a=o(t,$super,"AfterHook",a);$.$$proto,[$].concat(r);e.defn($,"$run",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"run"),i(t,"instance_exec_with_rescue",["in an after hook"],r.$block().$to_proc())},n.$$arity=1,n.$$parameters=[["req","example"]])}(g[0],e.const_get_relative(g,"Hook"),g),function(t,$super,r){function n(){}var $,s=n=o(t,$super,"AfterContextHook",n),c=(s.$$proto,[s].concat(r));e.defn(s,"$run",$=function(t){var r=this,n=a,$=arguments.length;1!==$&&e.ac($,1,this,"run");try{return i(t,"instance_exec",[t],r.$block().$to_proc())}catch(t){if(!e.rescue(t,[e.const_get_relative(c,"Exception")]))throw t;n=t;try{return e.const_get_relative(c,"RSpec").$configuration().$reporter().$message("\nAn error occurred in an `after(:context)` hook.\n  "+n.$class()+": "+n.$message()+"\n  occurred at "+n.$backtrace().$first()+"\n\n")}finally{e.pop_exception()}}},$.$$arity=1,$.$$parameters=[["req","example"]])}(g[0],e.const_get_relative(g,"Hook"),g),function(t,$super,r){function n(){}var s,c,_,l=n=o(t,$super,"AroundHook",n),u=(l.$$proto,[l].concat(r));e.defn(l,"$execute_with",s=function(t,r){var n=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"execute_with"),i(t,"instance_exec",[r],n.$block().$to_proc()),$(r["$executed?"]())?a:e.const_get_relative(u,"Pending")["$mark_skipped!"](t,n.$hook_description()+" did not execute the example")},s.$$arity=2,s.$$parameters=[["req","example"],["req","procsy"]]),$(e.const_get_relative(u,"Proc")["$method_defined?"]("source_location"))?e.defn(l,"$hook_description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hook_description"),"around hook at "+e.const_get_relative(u,"Metadata").$relative_path(t.$block().$source_location().$join(":"))},c.$$arity=0,c.$$parameters=[]):e.defn(l,"$hook_description",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_description"),"around hook"},_.$$arity=0,_.$$parameters=[])}(g[0],e.const_get_relative(g,"Hook"),g),function(t,$super,r){function n(){}var $,s,c=n=o(t,$super,"BaseHookCollection",n),_=(c.$$proto,[c].concat(r));i(e.const_get_relative(_,"Array").$public_instance_methods(!1),"each",[],($=function(t){var r,n=$.$$s||this;if(null==t&&(t=a),$.$$is_lambda||$.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<class:BaseHookCollection>")}return i(n,"define_method",[t],(r=function(){var n,$,s=r.$$s||this;(n=r.$$p||a)&&(r.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<o;_++)$[_-0]=arguments[_];return i(s.$hooks(),"__send__",[t].concat(e.to_a($)),n.$to_proc())},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","a"],["block","b"]],r))},$.$$s=c,$.$$arity=1,$.$$parameters=[["req","name"]],$)),c.$attr_reader("hooks"),c.$protected("hooks"),e.alias(c,"append","push"),e.alias(c,"prepend","unshift"),e.defn(c,"$initialize",s=function(t){var r=this;null==t&&(t=[]);var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),r.hooks=t},s.$$arity=-1,s.$$parameters=[["opt","hooks"]])}(g[0],null,g),function(t,$super,r){function n(){}var $,s,c,_=n=o(t,$super,"HookCollection",n);_.$$proto,[_].concat(r);e.defn(_,"$for",$=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"for"),n.$class().$new(i(n.$hooks(),"select",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"for")}return n["$options_apply?"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","hook"]],r))).$with(t)},$.$$arity=1,$.$$parameters=[["req","example_or_group"]]),e.defn(_,"$with",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"with"),r.example=t,r},s.$$arity=1,s.$$parameters=[["req","example"]]),e.defn(_,"$run",c=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"run"),i(r.$hooks(),"each",[],(t=function(r){var n=t.$$s||this;if(null==n.example&&(n.example=a),null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"run")}return r.$run(n.example)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","h"]],t))},c.$$arity=0,c.$$parameters=[])}(g[0],e.const_get_relative(g,"BaseHookCollection"),g),function(t,$super,r){function n(){}var $,s,c,_=n=o(t,$super,"AroundHookCollection",n),l=_.$$proto;[_].concat(r);l.initial_procsy=a,e.defn(_,"$for",$=function(t,r){var n,$=this;null==r&&(r=a);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"for"),$.$class().$new(i($.$hooks(),"select",[],(n=function(r){n.$$s;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"for")}return r["$options_apply?"](t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","hook"]],n))).$with(t,r)},$.$$arity=-2,$.$$parameters=[["req","example"],["opt","initial_procsy"]]),e.defn(_,"$with",s=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"with"),a.example=t,a.initial_procsy=r,a},s.$$arity=2,s.$$parameters=[["req","example"],["req","initial_procsy"]]),e.defn(_,"$run",c=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"run"),i(r.$hooks(),"inject",[r.initial_procsy],(t=function(r,n){var $,s=t.$$s||this;if(null==r&&(r=a),null==n&&(n=a),t.$$is_lambda||t.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"run")}return i(r,"wrap",[],($=function(){var t=$.$$s||this;if(null==t.example&&(t.example=a),$.$$is_lambda||$.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"run")}return n.$execute_with(t.example,r)},$.$$s=s,$.$$arity=0,$.$$parameters=[],$))},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","procsy"],["req","around_hook"]],t)).$call()},c.$$arity=0,c.$$parameters=[])}(g[0],e.const_get_relative(g,"BaseHookCollection"),g),function(t,$super,r){function n(){}var i,s,c=n=o(t,$super,"GroupHookCollection",n),_=c.$$proto;[c].concat(r);_.group=a,e.defn(c,"$for",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"for"),r.group=t,r},i.$$arity=1,i.$$parameters=[["req","group"]]),e.defn(c,"$run",s=function(){var t=this,r=arguments.length;for(0!==r&&e.ac(r,0,this,"run");!$(t.$hooks()["$empty?"]());)t.$hooks().$shift().$run(t.group)},s.$$arity=0,s.$$parameters=[])}(g[0],e.const_get_relative(g,"BaseHookCollection"),g),function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O=c=o(r,$super,"HookCollections",c),A=O.$$proto,R=[O].concat(n),z=a;A.data=A.owner=a,e.defn(O,"$initialize",_=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.owner=t,a.data=r},_.$$arity=2,_.$$parameters=[["req","owner"],["req","data"]]),e.defn(O,"$[]",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.data["$[]"](t)},l.$$arity=1,l.$$parameters=[["req","key"]]),e.defn(O,"$register_globals",u=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"register_globals"),a.$process(t,r,"before","example"),a.$process(t,r,"after","example"),a.$process(t,r,"around","example"),a.$process(t,r,"before","context"),a.$process(t,r,"after","context")},u.$$arity=2,u.$$parameters=[["req","host"],["req","globals"]]),e.defn(O,"$around_example_hooks_for",p=function(t,r){var n,$=this;null==r&&(r=a);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"around_example_hooks_for"),e.const_get_relative(R,"AroundHookCollection").$new(i(e.const_get_relative(R,"FlatMap"),"flat_map",[$.owner.$parent_groups()],(n=function(t){n.$$s;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"around_example_hooks_for")}return t.$hooks()["$[]"]("around")["$[]"]("example")},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","a"]],n))).$for(t,r)},p.$$arity=-2,p.$$parameters=[["req","example"],["opt","initial_procsy"]]),e.defn(O,"$register",d=function(t,r){var n,$,s,o=this,c=d.$$p,_=c||a,l=a,u=a,p=arguments.length,f=p-2;f<0&&(f=0),s=new Array(f);for(var h=2;h<p;h++)s[h-2]=arguments[h];c&&(d.$$p=null);var m=arguments.length;return m<2&&e.ac(m,-3,this,"register"),$=i(o,"scope_and_options_from",e.to_a(s)),n=e.to_ary($),l=null==n[0]?a:n[0],u=null==n[1]?a:n[1],o["$[]"](r)["$[]"](l).$__send__(t,e.const_get_relative(R,"HOOK_TYPES")["$[]"](r)["$[]"](l).$new(_,u))},d.$$arity=-3,d.$$parameters=[["req","prepend_or_append"],["req","hook"],["rest","args"],["block","block"]]),e.defn(O,"$run",f=function(t,r,n,i){var s=this;null==i&&(i=a);var o=arguments.length;return(o<3||o>4)&&e.ac(o,-4,this,"run"),$(e.const_get_relative(R,"RSpec").$configuration()["$dry_run?"]())?a:s.$find_hook(t,r,n,i).$run()},f.$$arity=-4,f.$$parameters=[["req","hook"],["req","scope"],["req","example_or_group"],["opt","initial_procsy"]]),e.const_set(R[0],"SCOPES",["example","context","suite"]),e.const_set(R[0],"SCOPE_ALIASES",s(["each","all"],{each:"example",all:"context"})),e.const_set(R[0],"HOOK_TYPES",s(["before","after","around"],{before:i(e.const_get_relative(R,"Hash"),"new",[],(h=function(){h.$$s;if(h.$$is_lambda||h.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return e.const_get_relative(R,"BeforeHook")},h.$$s=O,h.$$arity=0,h.$$parameters=[],h)),after:i(e.const_get_relative(R,"Hash"),"new",[],(m=function(){m.$$s;if(m.$$is_lambda||m.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return e.const_get_relative(R,"AfterHook")},m.$$s=O,m.$$arity=0,m.$$parameters=[],m)),around:i(e.const_get_relative(R,"Hash"),"new",[],(g=function(){g.$$s;if(g.$$is_lambda||g.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"<class:HookCollections>")}return e.const_get_relative(R,"AroundHook")},g.$$s=O,g.$$arity=0,g.$$parameters=[],g))})),z=["context",e.const_get_relative(R,"AfterContextHook")],i(e.const_get_relative(R,"HOOK_TYPES")["$[]"]("after"),"[]=",e.to_a(z)),z[t(z.length,1)],O.$private(),e.defn(O,"$process",v=function(t,r,n,s){var o,c=this,_=arguments.length;return 4!==_&&e.ac(_,4,this,"process"),i(r["$[]"](n)["$[]"](s),"each",[],(o=function(r){var c,_,l=o.$$s||this;if(null==r&&(r=a),o.$$is_lambda||o.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"process")}return $($(c=s["$=="]("example"))?c:r["$options_apply?"](t))?$(i(t.$parent_groups(),"any?",[],(_=function(t){_.$$s;if(null==t&&(t=a),_.$$is_lambda||_.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"process")}return t.$hooks()["$[]"](n)["$[]"](s)["$include?"](r)},_.$$s=l,_.$$arity=1,_.$$parameters=[["req","a"]],_)))?a:l["$[]"](n)["$[]"](s)["$<<"](r):a},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","hook"]],o))},v.$$arity=4,v.$$parameters=[["req","host"],["req","globals"],["req","position"],["req","scope"]]),e.defn(O,"$scope_and_options_from",y=function(){var t,r=this,n=a,i=a,$=arguments.length,s=$-0;s<0&&(s=0),t=new Array(s);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n=r.$extract_scope_from(t),i=e.const_get_relative(R,"Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),[n,i]},y.$$arity=-1,y.$$parameters=[["rest","args"]]),e.defn(O,"$extract_scope_from",b=function(t){var r,n=this,s=a,o=arguments.length;return 1!==o&&e.ac(o,1,this,"extract_scope_from"),$(n["$known_scope?"](t.$first()))?n.$normalized_scope_for(t.$shift()):$(i(t,"any?",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"extract_scope_from")}return t["$is_a?"](e.const_get_relative(R,"Symbol"))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","a"]],r)))?(s="You must explicitly give a scope ("+e.const_get_relative(R,"SCOPES").$join(", ")+") or scope alias ("+e.const_get_relative(R,"SCOPE_ALIASES").$keys().$join(", ")+") when using symbols as metadata for a hook.",n.$raise(e.const_get_relative(R,"ArgumentError").$new(s))):"example"},b.$$arity=1,b.$$parameters=[["req","args"]]),e.defn(O,"$known_scope?",x=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"known_scope?"),$(r=e.const_get_relative(R,"SCOPES")["$include?"](t))?r:e.const_get_relative(R,"SCOPE_ALIASES").$keys()["$include?"](t)},x.$$arity=1,x.$$parameters=[["req","scope"]]),e.defn(O,"$normalized_scope_for",k=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"normalized_scope_for"),$(r=e.const_get_relative(R,"SCOPE_ALIASES")["$[]"](t))?r:t},k.$$arity=1,k.$$parameters=[["req","scope"]]),e.defn(O,"$find_hook",q=function(t,r,n,i){var $=this,s=a,o=arguments.length;return 4!==o&&e.ac(o,4,this,"find_hook"),function(){return s=[t,r],["before","context"]["$==="](s)?$.$before_context_hooks_for(n):["after","context"]["$==="](s)?$.$after_context_hooks_for(n):["around","example"]["$==="](s)?$.$around_example_hooks_for(n,i):["before","example"]["$==="](s)?$.$before_example_hooks_for(n):["after","example"]["$==="](s)?$.$after_example_hooks_for(n):["before","suite"]["$==="](s)||["after","suite"]["$==="](s)?$["$[]"](t)["$[]"]("suite").$with(n):a}()},q.$$arity=4,q.$$parameters=[["req","hook"],["req","scope"],["req","example_or_group"],["req","initial_procsy"]]),e.defn(O,"$before_context_hooks_for",w=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"before_context_hooks_for"),e.const_get_relative(R,"GroupHookCollection").$new(r["$[]"]("before")["$[]"]("context")).$for(t)},w.$$arity=1,w.$$parameters=[["req","group"]]),e.defn(O,"$after_context_hooks_for",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"after_context_hooks_for"),e.const_get_relative(R,"GroupHookCollection").$new(r["$[]"]("after")["$[]"]("context")).$for(t)},E.$$arity=1,E.$$parameters=[["req","group"]]),e.defn(O,"$before_example_hooks_for",S=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"before_example_hooks_for"),e.const_get_relative(R,"HookCollection").$new(i(e.const_get_relative(R,"FlatMap"),"flat_map",[n.owner.$parent_groups().$reverse()],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"before_example_hooks_for")}return t.$hooks()["$[]"]("before")["$[]"]("example")},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","a"]],r))).$for(t)},S.$$arity=1,S.$$parameters=[["req","example"]]),e.defn(O,"$after_example_hooks_for",M=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"after_example_hooks_for"),e.const_get_relative(R,"HookCollection").$new(i(e.const_get_relative(R,"FlatMap"),"flat_map",[n.owner.$parent_groups()],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"after_example_hooks_for")}return t.$hooks()["$[]"]("after")["$[]"]("example")},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","a"]],r))).$for(t)},M.$$arity=1,M.$$parameters=[["req","example"]])}(g[0],null,g)}(u[0],u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/core/memoized_helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy,s=e.hash2,o=e.klass;return e.add_stubs(["$fetch","$__memoized","$described_class","$first","$metadata","$class","$===","$new","$[]=","$-","$handle_matcher","$subject","$expect","$private","$instance_exec","$==","$raise","$article","$hook_expression","$first_non_rspec_line","$hook_intention","$nil?","$__send__","$module_for","$to_proc","$arity","$define_method","$current_example","$let","$before","$alias_method","$get_constant_or_yield","$include","$const_set","$method","$const_defined?","$const_get"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l,u,p,d,f,h,m,g,v,y=_=n(r,"MemoizedHelpers"),b=(y.$$proto,[y].concat(c));e.defn(y,"$subject",l=function(){var r,n=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"subject"),i(n.$__memoized(),"fetch",["subject"],(r=function(){var n,s=r.$$s||this,o=a,c=a;if(r.$$is_lambda||r.$$define_meth){var _=arguments.length;0!==_&&e.block_ac(_,0,"subject")}return o=["subject",(c=$(n=s.$described_class())?n:s.$class().$metadata().$fetch("description_args").$first(),function(){return $(e.const_get_relative(b,"Class")["$==="](c))?c.$new():c}())],i(s.$__memoized(),"[]=",e.to_a(o)),o[t(o.length,1)]},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},l.$$arity=0,l.$$parameters=[]),e.defn(y,"$should",u=function(t,r){var n=this;null==t&&(t=a),null==r&&(r=a);var i=arguments.length;return i>2&&e.ac(i,-1,this,"should"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(b,"RSpec"),"Expectations"),"PositiveExpectationHandler").$handle_matcher(n.$subject(),t,r)},u.$$arity=-1,u.$$parameters=[["opt","matcher"],["opt","message"]]),e.defn(y,"$should_not",p=function(t,r){var n=this;null==t&&(t=a),null==r&&(r=a);var i=arguments.length;return i>2&&e.ac(i,-1,this,"should_not"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(b,"RSpec"),"Expectations"),"NegativeExpectationHandler").$handle_matcher(n.$subject(),t,r)},p.$$arity=-1,p.$$parameters=[["opt","matcher"],["opt","message"]]),e.defn(y,"$is_expected",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"is_expected"),t.$expect(t.$subject())},d.$$arity=0,d.$$parameters=[]),y.$private(),e.defn(y,"$__memoized",f=function(){var t,r=this;null==r.__memoized&&(r.__memoized=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"__memoized"),r.__memoized=$(t=r.__memoized)?t:s([],{})},f.$$arity=0,f.$$parameters=[]),function(t,$super,r){function n(){}var $,s,c=n=o(t,$super,"ContextHookMemoizedHash",n),_=(c.$$proto,[c].concat(r));e.defs(c,"$isolate_for_context_hook",$=function(t){var r,n=this,s=$.$$p,o=s||a,c=a;s&&($.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"isolate_for_context_hook"),c=n,i(t,"instance_exec",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"isolate_for_context_hook")}return t.__memoized=c,function(){try{return e.yieldX(o,[])}finally{t.__memoized=a}}()},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},$.$$arity=1,$.$$parameters=[["req","example_group_instance"]]),e.defs(c,"$fetch",s=function(t){var r=this,n=s.$$p,i=a;n&&(s.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"fetch"),i=function(){return t["$=="]("subject")?"subject":"let declaration `"+t+"`"}(),r.$raise(i+" accessed in "+r.$article()+" "+r.$hook_expression()+" hook at:\n  "+e.const_get_relative(_,"CallerFilter").$first_non_rspec_line()+"\n\n`let` and `subject` declarations are not intended to be called\nin "+r.$article()+" "+r.$hook_expression()+" hook, as they exist to define state that\nis reset between each example, while "+r.$hook_expression()+" exists to\n"+r.$hook_intention()+".\n")},s.$$arity=1,s.$$parameters=[["req","key"],["block","_block"]]),function(t,$super,r){function a(){}var n,i,$,s=a=o(t,$super,"Before",a);s.$$proto,[s].concat(r);e.defs(s,"$hook_expression",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_expression"),"`before(:context)`"},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$article",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"article"),"a"},i.$$arity=0,i.$$parameters=[]),e.defs(s,"$hook_intention",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_intention"),"define state that is shared across examples in an example group"},$.$$arity=0,$.$$parameters=[])}(_[0],c,_),function(t,$super,r){function a(){}var n,i,$,s=a=o(t,$super,"After",a);s.$$proto,[s].concat(r);e.defs(s,"$hook_expression",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_expression"),"`after(:context)`"},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$article",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"article"),"an"},i.$$arity=0,i.$$parameters=[]),e.defs(s,"$hook_intention",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"hook_intention"),"cleanup state that is shared across examples in an example group"},$.$$arity=0,$.$$parameters=[])}(_[0],c,_)}(b[0],null,b),function(r,s){var o,c,_,l,u,p=o=n(r,"ClassMethods"),d=(p.$$proto,[p].concat(s));e.defn(p,"$let",c=function(r){var n,s,o=this,_=c.$$p,l=_||a;_&&(c.$$p=null);var u=arguments.length;return 1!==u&&e.ac(u,1,this,"let"),
$(l["$nil?"]())&&o.$raise("#let or #subject called without a block"),i(e.const_get_relative(d,"MemoizedHelpers").$module_for(o),"__send__",["define_method",r],l.$to_proc()),l.$arity()["$=="](1)?i(o,"define_method",[r],(n=function(){var $,s=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"let")}return i(s.$__memoized(),"fetch",[r],($=function(r){var s=$.$$s||this,o=a;if(null==r&&(r=a),$.$$is_lambda||$.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"let")}return o=[r,i(s,e.find_iter_super_dispatcher(s,"let",$.$$def||n.$$def||c,!1,!1),[e.const_get_relative(d,"RSpec").$current_example()],a.$to_proc())],i(s.$__memoized(),"[]=",e.to_a(o)),o[t(o.length,1)]},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","k"]],$))},n.$$s=o,n.$$arity=0,n.$$parameters=[],n)):i(o,"define_method",[r],(s=function(){var n,$=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"let")}return i($.$__memoized(),"fetch",[r],(n=function(r){var $=n.$$s||this,o=a;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"let")}return o=[r,i($,e.find_iter_super_dispatcher($,"let",n.$$def||s.$$def||c,!1,!1),[],a.$to_proc())],i($.$__memoized(),"[]=",e.to_a(o)),o[t(o.length,1)]},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","k"]],n))},s.$$s=o,s.$$arity=0,s.$$parameters=[],s))},c.$$arity=1,c.$$parameters=[["req","name"],["block","block"]]),e.defn(p,"$let!",_=function(t){var r,n=this,$=_.$$p,s=$||a;$&&(_.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"let!"),i(n,"let",[t],s.$to_proc()),i(n,"before",[],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"let!")}return a.$__send__(t)},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},_.$$arity=1,_.$$parameters=[["req","name"],["block","block"]]),e.defn(p,"$subject",l=function(t){var r,n=this,s=l.$$p,o=s||a;null==t&&(t=a),s&&(l.$$p=null);var c=arguments.length;return c>1&&e.ac(c,-1,this,"subject"),$(t)?(i(n,"let",[t],o.$to_proc()),n.$alias_method("subject",t),i(e.const_get_qualified(n,"NamedSubjectPreventSuper"),"__send__",["define_method",t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"subject")}return t.$raise(e.const_get_relative(d,"NotImplementedError"),"`super` in named subjects is not supported")},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))):i(n,"let",["subject"],o.$to_proc())},l.$$arity=-1,l.$$parameters=[["opt","name"],["block","block"]]),e.defn(p,"$subject!",u=function(t){var r,n=this,$=u.$$p,s=$||a;null==t&&(t=a),$&&(u.$$p=null);var o=arguments.length;return o>1&&e.ac(o,-1,this,"subject!"),i(n,"subject",[t],s.$to_proc()),i(n,"before",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"subject!")}return t.$subject()},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},u.$$arity=-1,u.$$parameters=[["opt","name"],["block","block"]])}(b[0],b),e.defs(y,"$module_for",h=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"module_for"),i(n,"get_constant_or_yield",[t,"LetDefinitions"],(r=function(){var n,$=r.$$s||this,s=a;if(r.$$is_lambda||r.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"module_for")}return s=i(e.const_get_relative(b,"Module"),"new",[],(n=function(){var r,a=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"module_for")}return a.$include(i(e.const_get_relative(b,"Module"),"new",[],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"module_for")}return t.$const_set("NamedSubjectPreventSuper",a)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)))},n.$$s=$,n.$$arity=0,n.$$parameters=[],n)),t.$const_set("LetDefinitions",s),s},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},h.$$arity=1,h.$$parameters=[["req","example_group"]]),e.defs(y,"$define_helpers_on",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"define_helpers_on"),t.$__send__("include",r.$module_for(t))},m.$$arity=1,m.$$parameters=[["req","example_group"]]),e.const_get_relative(b,"Module").$method("const_defined?").$arity()["$=="](1)?e.defs(y,"$get_constant_or_yield",g=function(t,r){var n=g.$$p,i=n||a;n&&(g.$$p=null);var s=arguments.length;return 2!==s&&e.ac(s,2,this,"get_constant_or_yield"),$(t["$const_defined?"](r))?t.$const_get(r):e.yieldX(i,[])},g.$$arity=2,g.$$parameters=[["req","example_group"],["req","name"]]):e.defs(y,"$get_constant_or_yield",v=function(t,r){var n=v.$$p,i=n||a,s=a;n&&(v.$$p=null);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"get_constant_or_yield"),$(t["$const_defined?"](r,s=!1))?t.$const_get(r,s):e.yieldX(i,[])},v.$$arity=2,v.$$parameters=[["req","example_group"],["req","name"]])}(u[0],u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/core/metadata"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.truthy,o=e.hash2,c=e.send,_=e.klass;return e.add_stubs(["$expand_path","$sub","$==","$is_a?","$last","$pop","$[]=","$-","$key?","$deprecate","$respond_to?","$caller","$join","$source_location","$attr_reader","$ensure_valid_user_keys","$new","$metadata","$block","$description_args","$build_description_from","$[]","$full_description","$described_class","$populate_location_attributes","$update","$user_metadata","$apply_derived_metadata_to","$configuration","$private","$delete","$file_path_and_line_number_from","$relative_path","$to_i","$find","$!~","$first","$captures","$match","$=~","$to_s","$description_separator","$+","$each","$raise","$gsub","$*","$first_non_rspec_line","$dup","$to_proc","$backwards_compatibility_default_proc","$compact","$populate","$hash_with_backwards_compatibility_default_proc","$===","$thread_local_metadata","$call","$extend","$extra_hash_attributes","$hash_attribute_names","$class","$__send__","$public_instance_methods","$include?","$to_sym","$define_method","$issue_deprecation","$hash_for_delegation","$instance_variable_defined?","$tap","$directly_supports_attribute?","$set_value","$get_value","$to_h","$concat","$include","$fetch","$merge","$!="]),function(n,l){var u,p=u=$(n,"RSpec"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"Core"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p,d,f,h=u=$(n,"Metadata"),m=(h.$$proto,[h].concat(l));e.defs(h,"$relative_path",p=function(t){var r=i,a=arguments.length;1!==a&&e.ac(a,1,this,"relative_path");try{return r=new RegExp("(\\A|\\s)"+e.const_get_relative(m,"File").$expand_path(".")+"("+e.const_get_qualified(e.const_get_relative(m,"File"),"SEPARATOR")+"|\\s|\\Z)"),t=t.$sub(r,"\\1.\\2"),t=t.$sub(/^([^:]+:\d+)$/,"\\1"),t["$=="]("-e:1")?i:t}catch(t){if(!e.rescue(t,[e.const_get_relative(m,"SecurityError")]))throw t;try{return i}finally{e.pop_exception()}}},p.$$arity=1,p.$$parameters=[["req","line"]]),e.defs(h,"$build_hash_from",d=function(r,a){var n,$=i,_=i;null==a&&(a=!1);var l=arguments.length;for((l<1||l>2)&&e.ac(l,-2,this,"build_hash_from"),$=function(){return s(r.$last()["$is_a?"](e.const_get_relative(m,"Hash")))?r.$pop():o([],{})}();s(r.$last()["$is_a?"](e.const_get_relative(m,"Symbol")));)_=[r.$pop(),!0],c($,"[]=",e.to_a(_)),_[t(_.length,1)];return s(s(n=a)?$["$key?"]("example_group"):n)&&e.const_get_relative(m,"RSpec").$deprecate("Filtering by an `:example_group` subhash",o(["replacement"],{replacement:"the subhash to filter directly"})),$},d.$$arity=-2,d.$$parameters=[["req","args"],["opt","warn_about_example_group_filtering"]]),e.defs(h,"$backtrace_from",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"backtrace_from"),s(t["$respond_to?"]("source_location"))?[t.$source_location().$join(":")]:r.$caller()},f.$$arity=1,f.$$parameters=[["req","block"]]),function(n,$super,$){function o(){}var l,u,p,d,f,h,m,g=o=_(n,$super,"HashPopulator",o),v=(g.$$proto,[g].concat($));g.$attr_reader("metadata","user_metadata","description_args","block"),e.defn(g,"$initialize",l=function(t,r,a,n){var i=this,$=arguments.length;return 4!==$&&e.ac($,4,this,"initialize"),i.metadata=t,i.user_metadata=r,i.description_args=a,i.block=n},l.$$arity=4,l.$$parameters=[["req","metadata"],["req","user_metadata"],["req","description_args"],["req","block"]]),e.defn(g,"$populate",u=function(){var r=this,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"populate"),r.$ensure_valid_user_keys(),a=["execution_result",e.const_get_qualified(e.const_get_relative(v,"Example"),"ExecutionResult").$new()],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],a=["block",r.$block()],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],a=["description_args",r.$description_args()],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],a=["description",c(r,"build_description_from",e.to_a(r.$metadata()["$[]"]("description_args")))],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],a=["full_description",r.$full_description()],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],a=["described_class",r.$described_class()],c(r.$metadata(),"[]=",e.to_a(a)),a[t(a.length,1)],r.$populate_location_attributes(),r.$metadata().$update(r.$user_metadata()),e.const_get_relative(v,"RSpec").$configuration().$apply_derived_metadata_to(r.$metadata())},u.$$arity=0,u.$$parameters=[]),g.$private(),e.defn(g,"$populate_location_attributes",p=function(){var r,a,n=this,$=i,o=i,_=i,l=i,u=arguments.length;return 0!==u&&e.ac(u,0,this,"populate_location_attributes"),$=n.$user_metadata().$delete("caller"),a=function(){return s($)?n.$file_path_and_line_number_from($):s(n.$block()["$respond_to?"]("source_location"))?n.$block().$source_location():n.$file_path_and_line_number_from(n.$caller())}(),r=e.to_ary(a),o=null==r[0]?i:r[0],_=null==r[1]?i:r[1],o=e.const_get_relative(v,"Metadata").$relative_path(o),l=["file_path",o],c(n.$metadata(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["line_number",_.$to_i()],c(n.$metadata(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["location",o+":"+_],c(n.$metadata(),"[]=",e.to_a(l)),l[t(l.length,1)]},p.$$arity=0,p.$$parameters=[]),e.defn(g,"$file_path_and_line_number_from",d=function(t){var r,a,n=this,$=i,o=arguments.length;return 1!==o&&e.ac(o,1,this,"file_path_and_line_number_from"),$=c(t,"find",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"file_path_and_line_number_from")}return t["$!~"](e.const_get_qualified(e.const_get_relative(v,"CallerFilter"),"LIB_REGEX"))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","l"]],r)),$=s(a=$)?a:t.$first(),/(.+?):(\d+)(?:|:\d+)/.$match($).$captures()},d.$$arity=1,d.$$parameters=[["req","backtrace"]]),e.defn(g,"$description_separator",f=function(t,r){var a,n=arguments.length;return 2!==n&&e.ac(n,2,this,"description_separator"),s(s(a=t["$is_a?"](e.const_get_relative(v,"Module")))?r["$=~"](/^(#|::|\.)/):a)?"":" "},f.$$arity=2,f.$$parameters=[["req","parent_part"],["req","child_part"]]),e.defn(g,"$build_description_from",h=function(t,a){var n=this,$=i;null==t&&(t=i),null==a&&(a=i);var o=arguments.length;return o>2&&e.ac(o,-1,this,"build_description_from"),s(a)?($=n.$description_separator(t,a),r(r(t.$to_s(),$),a.$to_s())):t.$to_s()},h.$$arity=-1,h.$$parameters=[["opt","parent_description"],["opt","my_description"]]),e.defn(g,"$ensure_valid_user_keys",m=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"ensure_valid_user_keys"),c(e.const_get_relative(v,"RESERVED_KEYS"),"each",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"ensure_valid_user_keys")}return s(n.$user_metadata()["$key?"](r))?n.$raise(("              |"+a("*",50)+"\n              |:"+r+" is not allowed\n              |\n              |RSpec reserves some hash keys for its own internal use,\n              |including :"+r+", which is used on:\n              |\n              |  "+e.const_get_relative(v,"CallerFilter").$first_non_rspec_line()+".\n              |\n              |Here are all of RSpec's reserved hash keys:\n              |\n              |  "+e.const_get_relative(v,"RESERVED_KEYS").$join("\n  ")+"\n              |"+a("*",50)+"\n").$gsub(/^\s+\|/,"")):i},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","key"]],t))},m.$$arity=0,m.$$parameters=[])}(m[0],null,m),function(r,$super,a){function n(){}var $,s,o,l=n=_(r,$super,"ExampleHash",n),u=(l.$$proto,[l].concat(a));e.defs(l,"$create",$=function(r,a,n,$){var s,o=this,_=i,l=i,p=i,d=arguments.length;return 4!==d&&e.ac(d,4,this,"create"),_=r.$dup(),r=c(e.const_get_relative(u,"Hash"),"new",[],c(e.const_get_relative(u,"ExampleGroupHash"),"backwards_compatibility_default_proc",[],(s=function(t){s.$$s;if(null==t&&(t=i),s.$$is_lambda||s.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"create")}return t["$[]"]("parent_example_group")},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","hash"]],s)).$to_proc()),r.$update(_),l=["example_group",r],c(_,"[]=",e.to_a(l)),l[t(l.length,1)],_.$delete("parent_example_group"),p=o.$new(_,a,[n].$compact(),$),p.$populate(),p.$metadata()},$.$$arity=4,$.$$parameters=[["req","group_metadata"],["req","user_metadata"],["req","description"],["req","block"]]),l.$private(),e.defn(l,"$described_class",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"described_class"),t.$metadata()["$[]"]("example_group")["$[]"]("described_class")},s.$$arity=0,s.$$parameters=[]),e.defn(l,"$full_description",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"full_description"),t.$build_description_from(t.$metadata()["$[]"]("example_group")["$[]"]("full_description"),t.$metadata()["$[]"]("description"))},o.$$arity=0,o.$$parameters=[])}(m[0],e.const_get_relative(m,"HashPopulator"),m),function(a,$super,n){function $(){}var l,u,p,d,f,h=$=_(a,$super,"ExampleGroupHash",$),m=(h.$$proto,[h].concat(n));e.defs(h,"$create",l=function(r,a){var n,$=this,o=l.$$p,_=o||i,u=i,p=i,d=i,f=arguments.length,h=f-2;h<0&&(h=0),n=new Array(h);for(var m=2;m<f;m++)n[m-2]=arguments[m];o&&(l.$$p=null);var g=arguments.length;return g<2&&e.ac(g,-3,this,"create"),u=$.$hash_with_backwards_compatibility_default_proc(),s(r)&&(u.$update(r),p=["parent_example_group",r],c(u,"[]=",e.to_a(p)),p[t(p.length,1)]),d=$.$new(u,a,n,_),d.$populate(),d.$metadata()},l.$$arity=-3,l.$$parameters=[["req","parent_group_metadata"],["req","user_metadata"],["rest","args"],["block","block"]]),e.defs(h,"$hash_with_backwards_compatibility_default_proc",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"hash_with_backwards_compatibility_default_proc"),c(e.const_get_relative(m,"Hash"),"new",[],c(r,"backwards_compatibility_default_proc",[],(t=function(r){t.$$s;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"hash_with_backwards_compatibility_default_proc")}return r},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","hash"]],t)).$to_proc())},u.$$arity=0,u.$$parameters=[]),e.defs(h,"$backwards_compatibility_default_proc",p=function(){var t,r=this,a=p.$$p,n=a||i;a&&(p.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"backwards_compatibility_default_proc"),c(e.const_get_relative(m,"Proc"),"new",[],(t=function(r,a){var $=(t.$$s,i),c=i;if(null==r&&(r=i),null==a&&(a=i),t.$$is_lambda||t.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"backwards_compatibility_default_proc")}return function(){return $=a,"example_group"["$==="]($)?(s(e.const_get_relative(m,"RSpec").$thread_local_metadata()["$[]"]("silence_metadata_example_group_deprecations"))||e.const_get_relative(m,"RSpec").$deprecate("The `:example_group` key in an example group's metadata hash",o(["replacement"],{replacement:"the example group's hash directly for the computed keys and `:parent_example_group` to access the parent example group metadata"})),c=n.$call(r),s(c)?e.const_get_relative(m,"LegacyExampleGroupHash").$new(c):i):"example_group_block"["$==="]($)?(e.const_get_relative(m,"RSpec").$deprecate("`metadata[:example_group_block]`",o(["replacement"],{replacement:"`metadata[:block]`"})),r["$[]"]("block")):"describes"["$==="]($)?(e.const_get_relative(m,"RSpec").$deprecate("`metadata[:describes]`",o(["replacement"],{replacement:"`metadata[:described_class]`"})),r["$[]"]("described_class")):i}()},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","hash"],["req","key"]],t))},p.$$arity=0,p.$$parameters=[["block","example_group_selector"]]),h.$private(),e.defn(h,"$described_class",d=function(){var t,r=this,a=i,n=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"described_class"),a=r.$metadata()["$[]"]("description_args").$first(),s(s(t=e.const_get_relative(m,"NilClass")["$==="](a))?t:e.const_get_relative(m,"String")["$==="](a))?(n=r.$metadata()["$[]"]("parent_example_group"),s(t=n)?n["$[]"]("described_class"):t):a},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$full_description",f=function(){var t=this,a=i,n=i,$=i,o=i,c=arguments.length;return 0!==c&&e.ac(c,0,this,"full_description"),a=t.$metadata()["$[]"]("description"),n=t.$metadata()["$[]"]("parent_example_group"),s(n)?($=n["$[]"]("full_description"),o=t.$description_separator(n["$[]"]("description_args").$last(),t.$metadata()["$[]"]("description_args").$first()),r(r($,o),a)):a},f.$$arity=0,f.$$parameters=[])}(m[0],e.const_get_relative(m,"HashPopulator"),m),e.const_set(m[0],"RESERVED_KEYS",["description","example_group","parent_example_group","execution_result","file_path","full_description","line_number","location","block"])}(d[0],d),function(r,a){var n,_,l,u,p,d,f,h,m,g,v,y,b=n=$(r,"HashImitatable"),x=(b.$$proto,[b].concat(a));e.defs(b,"$included",_=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"included"),t.$extend(e.const_get_relative(x,"ClassMethods"))},_.$$arity=1,_.$$parameters=[["req","klass"]]),e.defn(b,"$to_h",l=function(){var r,a=this,n=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"to_h"),n=a.$extra_hash_attributes().$dup(),c(a.$class().$hash_attribute_names(),"each",[],(r=function(a){var $=r.$$s||this,s=i;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"to_h")}return s=[a,$.$__send__(a)],c(n,"[]=",e.to_a(s)),s[t(s.length,1)]},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","name"]],r)),n},l.$$arity=0,l.$$parameters=[]),c(t(e.const_get_relative(x,"Hash").$public_instance_methods(),e.const_get_relative(x,"Object").$public_instance_methods()),"each",[],(u=function(r){var a,n=u.$$s||this;if(null==r&&(r=i),u.$$is_lambda||u.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"<module:HashImitatable>")}return s(["[]","[]=","to_h"]["$include?"](r.$to_sym()))?i:c(n,"define_method",[r],(a=function(){var n,$,o,_,l=a.$$s||this,u=i;(n=a.$$p||i)&&(a.$$p=null);var p=arguments.length,d=p-0;d<0&&(d=0),$=new Array(d);for(var f=0;f<p;f++)$[f-0]=arguments[f];return c(l,"issue_deprecation",[r].concat(e.to_a($))),u=l.$hash_for_delegation(),c(l.$class().$hash_attribute_names(),"each",[],(o=function(t){var r=o.$$s||this;if(null==t&&(t=i),o.$$is_lambda||o.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<module:HashImitatable>")}return s(r["$instance_variable_defined?"]("@"+t))?i:u.$delete(t)},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","name"]],o)),c(c(u,"__send__",[r].concat(e.to_a($)),n.$to_proc()),"tap",[],(_=function(){var r,a=_.$$s||this;if(_.$$is_lambda||_.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<module:HashImitatable>")}return c(u,"each",[],(r=function(a,n){var $=r.$$s||this,o=i;if(null==a&&(a=i),null==n&&(n=i),r.$$is_lambda||r.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"<module:HashImitatable>")}return s($["$directly_supports_attribute?"](a))?$.$set_value(a,n):(o=[a,n],c($.$extra_hash_attributes(),"[]=",e.to_a(o)),o[t(o.length,1)])},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","name"],["req","value"]],r))},_.$$s=l,_.$$arity=0,_.$$parameters=[],_))},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a))},u.$$s=b,u.$$arity=1,u.$$parameters=[["req","method_name"]],u)),e.defn(b,"$[]",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.$issue_deprecation("[]",t),s(r["$directly_supports_attribute?"](t))?r.$get_value(t):r.$extra_hash_attributes()["$[]"](t)},p.$$arity=1,p.$$parameters=[["req","key"]]),e.defn(b,"$[]=",d=function(r,a){var n=this,$=i,o=arguments.length;return 2!==o&&e.ac(o,2,this,"[]="),n.$issue_deprecation("[]=",r,a),s(n["$directly_supports_attribute?"](r))?n.$set_value(r,a):($=[r,a],c(n.$extra_hash_attributes(),"[]=",e.to_a($)),$[t($.length,1)])},d.$$arity=2,d.$$parameters=[["req","key"],["req","value"]]),b.$private(),e.defn(b,"$extra_hash_attributes",f=function(){var t,r=this;null==r.extra_hash_attributes&&(r.extra_hash_attributes=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"extra_hash_attributes"),r.extra_hash_attributes=s(t=r.extra_hash_attributes)?t:o([],{})},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$directly_supports_attribute?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"directly_supports_attribute?"),r.$class().$hash_attribute_names()["$include?"](t)},h.$$arity=1,h.$$parameters=[["req","name"]]),e.defn(b,"$get_value",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"get_value"),r.$__send__(t)},m.$$arity=1,m.$$parameters=[["req","name"]]),e.defn(b,"$set_value",g=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"set_value"),a.$__send__(t+"=",r)},g.$$arity=2,g.$$parameters=[["req","name"],["req","value"]]),e.defn(b,"$hash_for_delegation",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hash_for_delegation"),t.$to_h()},v.$$arity=0,v.$$parameters=[]),e.defn(b,"$issue_deprecation",y=function(){var t,r=arguments.length,a=r-1;a<0&&(a=0),t=new Array(a);for(var n=1;n<r;n++)t[n-1]=arguments[n];var $=arguments.length;return $<1&&e.ac($,-2,this,"issue_deprecation"),i},y.$$arity=-2,y.$$parameters=[["req","_method_name"],["rest","_args"]]),function(t,r){var a,n,o,_=a=$(t,"ClassMethods");_.$$proto,[_].concat(r);e.defn(_,"$hash_attribute_names",n=function(){var t,r=this;null==r.hash_attribute_names&&(r.hash_attribute_names=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"hash_attribute_names"),r.hash_attribute_names=s(t=r.hash_attribute_names)?t:[]},n.$$arity=0,n.$$parameters=[]),e.defn(_,"$attr_accessor",o=function(){var t,r=this,a=o.$$p,n=i,$=i,s=i,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(a&&(o.$$p=null),$=0,s=arguments.length,n=new Array(s);$<s;$++)n[$]=arguments[$];return r.$hash_attribute_names().$concat(t),c(r,e.find_super_dispatcher(r,"attr_accessor",o,!1),n,a)},o.$$arity=-1,o.$$parameters=[["rest","names"]])}(x[0],x)}(d[0],d),function(r,$super,a){function n(){}var $,l,u,p,d,f=n=_(r,$super,"LegacyExampleGroupHash",n),h=f.$$proto,m=[f].concat(a);h.metadata=i,f.$include(e.const_get_relative(m,"HashImitatable")),e.defn(f,"$initialize",$=function(r){var a,n=this,$=i,_=i,l=arguments.length;return 1!==l&&e.ac(l,1,this,"initialize"),n.metadata=r,$=c(r,"fetch",["parent_example_group"],(a=function(){a.$$s;if(a.$$is_lambda||a.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"initialize")}return o([],{})},a.$$s=n,a.$$arity=0,a.$$parameters=[],a))["$[]"]("example_group"),s($)?(_=["example_group",$],c(n,"[]=",e.to_a(_)),_[t(_.length,1)]):i},$.$$arity=1,$.$$parameters=[["req","metadata"]]),e.defn(f,"$to_h",l=function(){var t=this,r=l.$$p,a=i,n=i,$=i;r&&(l.$$p=null);var s=arguments.length;for(0!==s&&e.ac(s,0,this,"to_h"),n=0,$=arguments.length,a=new Array($);n<$;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"to_h",l,!1),a,r).$merge(t.metadata)},l.$$arity=0,l.$$parameters=[]),f.$private(),e.defn(f,"$directly_supports_attribute?",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"directly_supports_attribute?"),t["$!="]("example_group")},u.$$arity=1,u.$$parameters=[["req","name"]]),e.defn(f,"$get_value",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"get_value"),r.metadata["$[]"](t)},p.$$arity=1,p.$$parameters=[["req","name"]]),e.defn(f,"$set_value",d=function(r,a){var n=this,$=i,s=arguments.length;return 2!==s&&e.ac(s,2,this,"set_value"),$=[r,a],c(n.metadata,"[]=",e.to_a($)),$[t($.length,1)]},d.$$arity=2,d.$$parameters=[["req","name"],["req","value"]])}(d[0],null,d)}(d[0],d)}(n[0],n)},Opal.modules["rspec/core/metadata_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.send,s=e.truthy,o=e.hash;return e.add_stubs(["$any?","$filter_applies?","$all?","$silence_metadata_example_group_deprecations","$===","$[]","$!","$filter_applies_to_any_value?","$==","$location_filter_applies?","$filters_apply?","$key?","$=~","$arity","$call","$to_s","$private","$example_group_declaration_line","$line_number_filter_applies?","$map","$preceding_declaration_line","$world","$empty?","$&","$relevant_line_numbers","$+","$compact","$parent_of","$expand_path","$[]=","$thread_local_metadata","$-","$delete"]),function(a,c){var _,l=_=i(a,"RSpec"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"Core"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"MetadataFilter"),u=(l.$$proto,[l].concat(c));!function(a,i){var c,_,l,u,p,d,f,h,m,g,v,y=(a.$$proto,[a].concat(i));e.defn(a,"$any_apply?",c=function(t,r){var a,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"any_apply?"),$(t,"any?",[],(a=function(t,i){var $=a.$$s||this;if(null==t&&(t=n),null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"any_apply?")}return $["$filter_applies?"](t,i,r)},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","k"],["req","v"]],a))},c.$$arity=2,c.$$parameters=[["req","filters"],["req","metadata"]]),e.defn(a,"$all_apply?",_=function(t,r){var a,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"all_apply?"),$(t,"all?",[],(a=function(t,i){var $=a.$$s||this;if(null==t&&(t=n),null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"all_apply?")}return $["$filter_applies?"](t,i,r)},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","k"],["req","v"]],a))},_.$$arity=2,_.$$parameters=[["req","filters"],["req","metadata"]]),e.defn(a,"$filter_applies?",l=function(t,r,a){try{var i,o=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"filter_applies?"),$(o,"silence_metadata_example_group_deprecations",[],(i=function(){var $,o=i.$$s||this,c=n;if(i.$$is_lambda||i.$$define_meth){var _=arguments.length;0!==_&&e.block_ac(_,0,"filter_applies?")}return s(s($=e.const_get_relative(y,"Array")["$==="](a["$[]"](t)))?e.const_get_relative(y,"Proc")["$==="](r)["$!"]():$)&&e.ret(o["$filter_applies_to_any_value?"](t,r,a)),t["$=="]("locations")&&e.ret(o["$location_filter_applies?"](r,a)),s(e.const_get_relative(y,"Hash")["$==="](r))&&e.ret(o["$filters_apply?"](t,r,a)),s(a["$key?"](t))||e.ret(!1),function(){return c=r,e.const_get_relative(y,"Regexp")["$==="](c)?a["$[]"](t)["$=~"](r):e.const_get_relative(y,"Proc")["$==="](c)?function(){return c=r.$arity(),(0)["$==="](c)?r.$call():2["$==="](c)?r.$call(a["$[]"](t),a):r.$call(a["$[]"](t))}():a["$[]"](t).$to_s()["$=="](r.$to_s())}()},i.$$s=o,i.$$arity=0,i.$$parameters=[],i))}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=3,l.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),a.$private(),e.defn(a,"$filter_applies_to_any_value?",u=function(t,r,a){var i,s=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"filter_applies_to_any_value?"),$(a["$[]"](t),"any?",[],(i=function(a){var $=i.$$s||this;if(null==a&&(a=n),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"filter_applies_to_any_value?")}return $["$filter_applies?"](t,a,o(t,r))},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","v"]],i))},u.$$arity=3,u.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),e.defn(a,"$location_filter_applies?",p=function(t,r){var a=this,i=n,$=arguments.length;return 2!==$&&e.ac($,2,this,"location_filter_applies?"),i=a.$example_group_declaration_line(t,r),!s(i)||a["$line_number_filter_applies?"](i,r)},p.$$arity=2,p.$$parameters=[["req","locations"],["req","metadata"]]),e.defn(a,"$line_number_filter_applies?",d=function(t,r){var a,i=this,s=n,o=arguments.length;return 2!==o&&e.ac(o,2,this,"line_number_filter_applies?"),s=$(t,"map",[],(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"line_number_filter_applies?")}return e.const_get_relative(y,"RSpec").$world().$preceding_declaration_line(t)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","n"]],a)),i.$relevant_line_numbers(r)["$&"](s)["$empty?"]()["$!"]()},d.$$arity=2,d.$$parameters=[["req","line_numbers"],["req","metadata"]]),e.defn(a,"$relevant_line_numbers",f=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"relevant_line_numbers"),s(r)?t([r["$[]"]("line_number")].$compact(),a.$relevant_line_numbers(a.$parent_of(r))):[]},f.$$arity=1,f.$$parameters=[["req","metadata"]]),e.defn(a,"$example_group_declaration_line",h=function(t,r){var a=this,i=n,$=arguments.length;return 2!==$&&e.ac($,2,this,"example_group_declaration_line"),i=a.$parent_of(r),s(i)?t["$[]"](e.const_get_relative(y,"File").$expand_path(i["$[]"]("file_path"))):n},h.$$arity=2,h.$$parameters=[["req","locations"],["req","metadata"]]),e.defn(a,"$filters_apply?",m=function(t,r,a){var i,o,c=this,_=n,l=arguments.length;return 3!==l&&e.ac(l,3,this,"filters_apply?"),_=a["$[]"](t),!!s(s(i=e.const_get_relative(y,"Hash")["$==="](_))?i:e.const_get_relative(y,"HashImitatable")["$==="](_))&&$(r,"all?",[],(o=function(t,r){var a=o.$$s||this;if(null==t&&(t=n),null==r&&(r=n),o.$$is_lambda||o.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"filters_apply?")}return a["$filter_applies?"](t,r,_)},o.$$s=c,o.$$arity=2,o.$$parameters=[["req","k"],["req","v"]],o))},m.$$arity=3,m.$$parameters=[["req","key"],["req","value"],["req","metadata"]]),e.defn(a,"$parent_of",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"parent_of"),s(t["$key?"]("example_group"))?t["$[]"]("example_group"):t["$[]"]("parent_example_group")},g.$$arity=1,g.$$parameters=[["req","metadata"]]),e.defn(a,"$silence_metadata_example_group_deprecations",v=function(){var t=v.$$p,a=t||n,i=n;t&&(v.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"silence_metadata_example_group_deprecations"),function(){try{return i=["silence_metadata_example_group_deprecations",!0],$(e.const_get_relative(y,"RSpec").$thread_local_metadata(),"[]=",e.to_a(i)),i[r(i.length,1)],e.yieldX(a,[])}finally{e.const_get_relative(y,"RSpec").$thread_local_metadata().$delete("silence_metadata_example_group_deprecations")}}()},v.$$arity=0,v.$$parameters=[])}(e.get_singleton_class(l),u)}(u[0],u)}(u[0],u)}(a[0],a)},Opal.modules["rspec/mocks/any_instance"]=function(e){var t,r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.send);return e.add_stubs(["$each","$require_rspec_mocks"]),i(["any_instance/chain","any_instance/stub_chain","any_instance/stub_chain_chain","any_instance/expect_chain_chain","any_instance/expectation_chain","any_instance/message_chains","any_instance/recorder","any_instance/proxy"],"each",[],(t=function(r){t.$$s;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"<main>")}return e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_mocks(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","f"]],t))},Opal.modules["rspec/mocks/message_chain"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy,o=e.hash2;return e.add_stubs(["$attr_reader","$format_chain","$to_proc","$>","$length","$chain","$find_matching_stub","$shift","$chain_on","$invoke","$find_matching_expectation","$invoke_without_incrementing_received_count","$new","$expectation","$object","$private","$raise","$initialize","$setup_chain","$===","$last","$pop","$each","$<<","$split","$join","$__send__","$proxy_for","$space","$to_sym","$first","$expect_message","$allow_message"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Mocks"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h=o=i(r,$super,"MessageChain",o),m=h.$$proto,g=[h].concat(n);m.block=a,h.$attr_reader("object","chain","block"),e.defn(h,"$initialize",c=function(t){
var r,n,i,s=this,o=c.$$p,_=o||a,l=arguments.length,u=l-1;u<0&&(u=0),i=new Array(u);for(var p=1;p<l;p++)i[p-1]=arguments[p];o&&(c.$$p=null);var d=arguments.length;return d<1&&e.ac(d,-2,this,"initialize"),s.object=t,n=$(s,"format_chain",e.to_a(i),_.$to_proc()),r=e.to_ary(n),s.chain=null==r[0]?a:r[0],s.block=null==r[1]?a:r[1],n},c.$$arity=-2,c.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),e.defn(h,"$setup_chain",_=function(){var r,n=this,i=a,o=a,c=a,_=arguments.length;return 0!==_&&e.ac(_,0,this,"setup_chain"),s(t(n.$chain().$length(),1))?s(i=n.$find_matching_stub())?(n.$chain().$shift(),$(n,"chain_on",[i.$invoke(a)].concat(e.to_a(n.$chain())),n.block.$to_proc())):s(o=n.$find_matching_expectation())?(n.$chain().$shift(),$(n,"chain_on",[o.$invoke_without_incrementing_received_count(a)].concat(e.to_a(n.$chain())),n.block.$to_proc())):(c=e.const_get_relative(g,"Double").$new(),$(n,"expectation",[n.$object(),n.$chain().$shift()],(r=function(){r.$$s;if(r.$$is_lambda||r.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"setup_chain")}return c},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)),$(n,"chain_on",[c].concat(e.to_a(n.$chain())),n.block.$to_proc())):$(n,"expectation",[n.$object(),n.$chain().$shift()],n.block.$to_proc())},_.$$arity=0,_.$$parameters=[]),h.$private(),e.defn(h,"$expectation",l=function(){var t=this,r=l.$$p;r&&(l.$$p=null);var a=arguments.length;return 2!==a&&e.ac(a,2,this,"expectation"),t.$raise(e.const_get_relative(g,"NotImplementedError"))},l.$$arity=2,l.$$parameters=[["req","_object"],["req","_message"],["block","_return_block"]]),e.defn(h,"$chain_on",u=function(t){var r,n=this,i=u.$$p,s=i||a,o=arguments.length,c=o-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<o;_++)r[_-1]=arguments[_];i&&(u.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"chain_on"),$(n,"initialize",[t].concat(e.to_a(r)),s.$to_proc()),n.$setup_chain()},u.$$arity=-2,u.$$parameters=[["req","object"],["rest","chain"],["block","block"]]),e.defn(h,"$format_chain",p=function(){var t,r,n=this,i=p.$$p,o=i||a,c=a,_=arguments.length,l=_-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<_;u++)r[u-0]=arguments[u];return i&&(p.$$p=null),s(e.const_get_relative(g,"Hash")["$==="](r.$last()))&&(c=r.$pop(),$(c,"each",[],(t=function(n,i){var s,c=t.$$s||this;if(null==n&&(n=a),null==i&&(i=a),t.$$is_lambda||t.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"format_chain")}return r["$<<"](n),o=$(e.const_get_relative(g,"Proc"),"new",[],(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"format_chain")}return i},s.$$s=c,s.$$arity=0,s.$$parameters=[],s))},t.$$s=n,t.$$arity=2,t.$$parameters=[["req","k"],["req","v"]],t))),[r.$join(".").$split("."),o]},p.$$arity=-1,p.$$parameters=[["rest","chain"],["block","blk"]]),e.defn(h,"$find_matching_stub",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"find_matching_stub"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_method_stub",t.$chain().$first().$to_sym())},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$find_matching_expectation",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"find_matching_expectation"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_expectation",t.$chain().$first().$to_sym())},f.$$arity=0,f.$$parameters=[])}(u[0],null,u),function(t,$super,r){function n(){}var s,c,_=n=i(t,$super,"ExpectChain",n);_.$$proto,[_].concat(r);e.defs(_,"$expect_chain_on",s=function(t){var r,n=this,i=s.$$p,o=i||a,c=arguments.length,_=c-1;_<0&&(_=0),r=new Array(_);for(var l=1;l<c;l++)r[l-1]=arguments[l];i&&(s.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"expect_chain_on"),$(n,"new",[t].concat(e.to_a(r)),o.$to_proc()).$setup_chain()},s.$$arity=-2,s.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),_.$private(),e.defn(_,"$expectation",c=function(t,r){var n=c.$$p,i=n||a;n&&(c.$$p=null);var s=arguments.length;return 2!==s&&e.ac(s,2,this,"expectation"),$(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"expect_message",[t,r,o([],{})],i.$to_proc())},c.$$arity=2,c.$$parameters=[["req","object"],["req","message"],["block","return_block"]])}(u[0],e.const_get_relative(u,"MessageChain"),u),function(t,$super,r){function n(){}var s,c,_=n=i(t,$super,"StubChain",n);_.$$proto,[_].concat(r);e.defs(_,"$stub_chain_on",s=function(t){var r,n=this,i=s.$$p,o=i||a,c=arguments.length,_=c-1;_<0&&(_=0),r=new Array(_);for(var l=1;l<c;l++)r[l-1]=arguments[l];i&&(s.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"stub_chain_on"),$(n,"new",[t].concat(e.to_a(r)),o.$to_proc()).$setup_chain()},s.$$arity=-2,s.$$parameters=[["req","object"],["rest","chain"],["block","blk"]]),_.$private(),e.defn(_,"$expectation",c=function(t,r){var n=c.$$p,i=n||a;n&&(c.$$p=null);var s=arguments.length;return 2!==s&&e.ac(s,2,this,"expectation"),$(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"allow_message",[t,r,o([],{})],i.$to_proc())},c.$$arity=2,c.$$parameters=[["req","object"],["req","message"],["block","return_block"]])}(u[0],e.const_get_relative(u,"MessageChain"),u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/mocks/marshal_extension"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$respond_to?","$instance_eval","$!","$registered?","$space","$===","$dump_without_rspec_mocks","$dup","$alias_method","$undef_method"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Mocks"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_=s=n(t,$super,"MarshalExtension",s),l=(_.$$proto,[_].concat(a));e.defs(_,"$patch!",o=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"patch!"),i(e.const_get_relative(l,"Marshal")["$respond_to?"]("dump_with_rspec_mocks"))?r:$(e.const_get_relative(l,"Marshal"),"instance_eval",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"patch!")}return function(t,r){var a,n=(t.$$proto,[t].concat(r));return e.defn(t,"$dump_with_rspec_mocks",a=function(t){var r,a,s=this,o=arguments.length,c=o-1;c<0&&(c=0),a=new Array(c);for(var _=1;_<o;_++)a[_-1]=arguments[_];var l=arguments.length;return l<1&&e.ac(l,-2,this,"dump_with_rspec_mocks"),i(i(r=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space()["$registered?"](t)["$!"]())?r:e.const_get_relative(n,"NilClass")["$==="](t))?$(s,"dump_without_rspec_mocks",[t].concat(e.to_a(a))):$(s,"dump_without_rspec_mocks",[t.$dup()].concat(e.to_a(a)))},a.$$arity=-2,a.$$parameters=[["req","object"],["rest","rest"]]),t.$alias_method("dump_without_rspec_mocks","dump"),t.$undef_method("dump"),t.$alias_method("dump","dump_with_rspec_mocks")}(e.get_singleton_class(r),l)},t.$$s=a,t.$$arity=0,t.$$parameters=[],t))},o.$$arity=0,o.$$parameters=[]),e.defs(_,"$unpatch!",c=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"unpatch!"),i(e.const_get_relative(l,"Marshal")["$respond_to?"]("dump_with_rspec_mocks"))?$(e.const_get_relative(l,"Marshal"),"instance_eval",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"unpatch!")}return function(e,t){e.$$proto,[e].concat(t);return e.$undef_method("dump_with_rspec_mocks"),e.$undef_method("dump"),e.$alias_method("dump","dump_without_rspec_mocks"),e.$undef_method("dump_without_rspec_mocks")}(e.get_singleton_class(r),l)},t.$$s=a,t.$$arity=0,t.$$parameters=[],t)):r},c.$$arity=0,c.$$parameters=[])}(_[0],null,_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/mocks/matchers/have_received"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$+","$expect","$ensure_implemented","$mock_proxy","$expected_messages_received_in_order?","$ensure_count_unconstrained","$never","$generate_failure_message","$description","$each","$define_method","$<<","$disallow","$private","$raise","$build_expectation","$apply_constraints_to","$send","$count_constraint","$find","$map","$to_proc","$include?","$check_for_unexpected_arguments","$generate_error","$message","$replay_received_message_on","$expected_messages_received?","$ensure_expected_ordering_received!","$proxy_for","$space"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M=o=i(r,$super,"HaveReceived",o),O=M.$$proto,A=[M].concat(n);O.block=O.method_name=O.expectation=O.constraints=O.subject=a,e.const_set(A[0],"COUNT_CONSTRAINTS",["exactly","at_least","at_most","times","once","twice","thrice"]),e.const_set(A[0],"ARGS_CONSTRAINTS",["with"]),e.const_set(A[0],"CONSTRAINTS",t(t(e.const_get_relative(A,"COUNT_CONSTRAINTS"),e.const_get_relative(A,"ARGS_CONSTRAINTS")),["ordered"])),e.defn(M,"$initialize",c=function(t){var r=this,n=c.$$p,i=n||a;n&&(c.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),r.method_name=t,r.block=i,r.constraints=[],r.subject=a},c.$$arity=1,c.$$parameters=[["req","method_name"],["block","block"]]),e.defn(M,"$name",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"have_received"},_.$$arity=0,_.$$parameters=[]),e.defn(M,"$matches?",l=function(t){var r,n=this,i=l.$$p,s=i||a;i&&(l.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),n.block=$(r=n.block)?r:s,n.subject=t,n.expectation=n.$expect(),n.$mock_proxy().$ensure_implemented(n.method_name),n["$expected_messages_received_in_order?"]()},l.$$arity=1,l.$$parameters=[["req","subject"],["block","block"]]),e.defn(M,"$does_not_match?",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.subject=t,r.$ensure_count_unconstrained(),r.expectation=r.$expect().$never(),r.$mock_proxy().$ensure_implemented(r.method_name),r["$expected_messages_received_in_order?"]()},u.$$arity=1,u.$$parameters=[["req","subject"]]),e.defn(M,"$failure_message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$generate_failure_message()},p.$$arity=0,p.$$parameters=[]),e.defn(M,"$failure_message_when_negated",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$generate_failure_message()},d.$$arity=0,d.$$parameters=[]),e.defn(M,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$expect().$description()},f.$$arity=0,f.$$parameters=[]),s(e.const_get_relative(A,"CONSTRAINTS"),"each",[],(h=function(t){var r,n=h.$$s||this;if(null==t&&(t=a),h.$$is_lambda||h.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"<class:HaveReceived>")}return s(n,"define_method",[t],(r=function(){var n,i=r.$$s||this;null==i.constraints&&(i.constraints=a);var $=arguments.length,s=$-0;s<0&&(s=0),n=new Array(s);for(var o=0;o<$;o++)n[o-0]=arguments[o];return i.constraints["$<<"]([t].concat(e.to_a(n))),i},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","args"]],r))},h.$$s=M,h.$$arity=1,h.$$parameters=[["req","expectation"]],h)),e.defn(M,"$setup_allowance",m=function(){var t=this,r=m.$$p;r&&(m.$$p=null);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"setup_allowance"),t.$disallow("allow"," as it would have no effect")},m.$$arity=1,m.$$parameters=[["req","_subject"],["block","_block"]]),e.defn(M,"$setup_any_instance_allowance",g=function(){var t=this,r=g.$$p;r&&(g.$$p=null);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"setup_any_instance_allowance"),t.$disallow("allow_any_instance_of")},g.$$arity=1,g.$$parameters=[["req","_subject"],["block","_block"]]),e.defn(M,"$setup_any_instance_expectation",v=function(){var t=this,r=v.$$p;r&&(v.$$p=null);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"setup_any_instance_expectation"),t.$disallow("expect_any_instance_of")},v.$$arity=1,v.$$parameters=[["req","_subject"],["block","_block"]]),M.$private(),e.defn(M,"$disallow",y=function(t,r){var a=this;null==r&&(r="");var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"disallow"),a.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Mocks"),"MockExpectationError"),"Using "+t+"(...) with the `have_received` matcher is not supported"+r+".")},y.$$arity=-2,y.$$parameters=[["req","type"],["opt","reason"]]),e.defn(M,"$expect",b=function(){var t,r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expect"),r.expectation=$(t=r.expectation)?t:(n=r.$mock_proxy().$build_expectation(r.method_name),r.$apply_constraints_to(n),n)},b.$$arity=0,b.$$parameters=[]),e.defn(M,"$apply_constraints_to",x=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"apply_constraints_to"),s(n.constraints,"each",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"apply_constraints_to")}return s(t,"send",e.to_a(n))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","constraint"]],r))},x.$$arity=1,x.$$parameters=[["req","expectation"]]),e.defn(M,"$ensure_count_unconstrained",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ensure_count_unconstrained"),$(t.$count_constraint())?t.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Mocks"),"MockExpectationError"),"can't use "+t.$count_constraint()+" when negative"):a},k.$$arity=0,k.$$parameters=[]),e.defn(M,"$count_constraint",q=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"count_constraint"),s(s(r.constraints,"map",[],"first".$to_proc()),"find",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"count_constraint")}return e.const_get_relative(A,"COUNT_CONSTRAINTS")["$include?"](r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","constraint"]],t))},q.$$arity=0,q.$$parameters=[]),e.defn(M,"$generate_failure_message",w=function(){var t=this,r=a,n=arguments.length;0!==n&&e.ac(n,0,this,"generate_failure_message");try{return t.$mock_proxy().$check_for_unexpected_arguments(t.expectation),t.expectation.$generate_error()}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Mocks"),"MockExpectationError")]))throw t;r=t;try{return r.$message()}finally{e.pop_exception()}}},w.$$arity=0,w.$$parameters=[]),e.defn(M,"$expected_messages_received_in_order?",E=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expected_messages_received_in_order?"),s(r.$mock_proxy(),"replay_received_message_on",[r.expectation],r.block.$to_proc()),$(t=r.expectation["$expected_messages_received?"]())?r.expectation["$ensure_expected_ordering_received!"]():t},E.$$arity=0,E.$$parameters=[]),e.defn(M,"$mock_proxy",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mock_proxy"),e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Mocks").$space().$proxy_for(t.subject)},S.$$arity=0,S.$$parameters=[])}(l[0],null,l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/matchers/receive"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$require_rspec_mocks","$warn_if_any_instance","$setup_mock_proxy_method_substitute","$unshift","$new","$setup_expectation","$to_proc","$setup_any_instance_method_substitute","$each","$public_instance_methods","$method_defined?","$define_method","$<<","$private","$===","$warning","$klass","$proxy_for","$space","$setup_method_substitute","$any_instance_proxy_for","$to_sym","$move_block_to_last_customization","$__send__","$playback_onto","$last","$block","$block=","$-"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_mocks("matchers/expectation_customization"),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k=o=i(r,$super,"Receive",o),q=k.$$proto,w=[k].concat(n);q.recorded_customizations=q.message=q.block=a,e.defn(k,"$initialize",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.message=t,a.block=r,a.recorded_customizations=[]},c.$$arity=2,c.$$parameters=[["req","message"],["req","block"]]),e.defn(k,"$name",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive"},_.$$arity=0,_.$$parameters=[]),e.defn(k,"$setup_expectation",l=function(t){var r=this,n=l.$$p,i=n||a;n&&(l.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_expectation"),r.$warn_if_any_instance("expect",t),r.$setup_mock_proxy_method_substitute(t,"add_message_expectation",i)},l.$$arity=1,l.$$parameters=[["req","subject"],["block","block"]]),e.alias(k,"matches?","setup_expectation"),e.defn(k,"$setup_negative_expectation",u=function(t){var r=this,n=u.$$p,i=n||a;n&&(u.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"setup_negative_expectation"),r.recorded_customizations.$unshift(e.const_get_relative(w,"ExpectationCustomization").$new("never",[],a)),r.$warn_if_any_instance("expect",t),$(r,"setup_expectation",[t],i.$to_proc())},u.$$arity=1,u.$$parameters=[["req","subject"],["block","block"]]),e.alias(k,"does_not_match?","setup_negative_expectation"),e.defn(k,"$setup_allowance",p=function(t){var r=this,n=p.$$p,i=n||a;n&&(p.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_allowance"),r.$warn_if_any_instance("allow",t),r.$setup_mock_proxy_method_substitute(t,"add_stub",i)},p.$$arity=1,p.$$parameters=[["req","subject"],["block","block"]]),e.defn(k,"$setup_any_instance_expectation",d=function(t){var r=this,n=d.$$p,i=n||a;n&&(d.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_any_instance_expectation"),r.$setup_any_instance_method_substitute(t,"should_receive",i)},d.$$arity=1,d.$$parameters=[["req","subject"],["block","block"]]),e.defn(k,"$setup_any_instance_negative_expectation",f=function(t){var r=this,n=f.$$p,i=n||a;n&&(f.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_any_instance_negative_expectation"),r.$setup_any_instance_method_substitute(t,"should_not_receive",i)},f.$$arity=1,f.$$parameters=[["req","subject"],["block","block"]]),e.defn(k,"$setup_any_instance_allowance",h=function(t){var r=this,n=h.$$p,i=n||a;n&&(h.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_any_instance_allowance"),r.$setup_any_instance_method_substitute(t,"stub",i)},h.$$arity=1,h.$$parameters=[["req","subject"],["block","block"]]),$(e.const_get_relative(w,"MessageExpectation").$public_instance_methods(!1),"each",[],(m=function(t){var r,n=m.$$s||this;if(null==t&&(t=a),m.$$is_lambda||m.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"<class:Receive>")}return s(n["$method_defined?"](t))?a:$(n,"define_method",[t],(r=function(){var n,i,$=r.$$s||this;null==$.recorded_customizations&&($.recorded_customizations=a),(n=r.$$p||a)&&(r.$$p=null);var s=arguments.length,o=s-0;o<0&&(o=0),i=new Array(o);for(var c=0;c<s;c++)i[c-0]=arguments[c];return $.recorded_customizations["$<<"](e.const_get_relative(w,"ExpectationCustomization").$new(t,i,n)),$},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","args"],["block","block"]],r))},m.$$s=k,m.$$arity=1,m.$$parameters=[["req","method"]],m)),k.$private(),e.defn(k,"$warn_if_any_instance",g=function(t,r){var n=arguments.length;return 2!==n&&e.ac(n,2,this,"warn_if_any_instance"),s(e.const_get_qualified(e.const_get_relative(w,"AnyInstance"),"Proxy")["$==="](r))?e.const_get_relative(w,"RSpec").$warning("`"+t+"("+r.$klass()+".any_instance).to` is probably not what you meant, it does not operate on any instance of `"+r.$klass()+"`. Use `"+t+"_any_instance_of("+r.$klass()+").to` instead."):a},g.$$arity=2,g.$$parameters=[["req","expression"],["req","subject"]]),e.defn(k,"$setup_mock_proxy_method_substitute",v=function(t,r,n){var i=this,$=a,s=arguments.length;return 3!==s&&e.ac(s,3,this,"setup_mock_proxy_method_substitute"),$=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t),i.$setup_method_substitute($,r,n)},v.$$arity=3,v.$$parameters=[["req","subject"],["req","method"],["req","block"]]),e.defn(k,"$setup_any_instance_method_substitute",y=function(t,r,n){var i=this,$=a,s=arguments.length;return 3!==s&&e.ac(s,3,this,"setup_any_instance_method_substitute"),$=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_proxy_for(t),i.$setup_method_substitute($,r,n)},y.$$arity=3,y.$$parameters=[["req","subject"],["req","method"],["req","block"]]),e.defn(k,"$setup_method_substitute",b=function(t,r,n){var i,o,c,_=this,l=a,u=arguments.length,p=u-3;p<0&&(p=0),c=new Array(p);for(var d=3;d<u;d++)c[d-3]=arguments[d];var f=arguments.length;return f<3&&e.ac(f,-4,this,"setup_method_substitute"),c["$<<"](_.message.$to_sym()),n=_.$move_block_to_last_customization(n),l=$(t,"__send__",[r].concat(e.to_a(c)),(s(i=_.block)?i:n).$to_proc()),$(_.recorded_customizations,"each",[],(o=function(t){o.$$s;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"setup_method_substitute")}return t.$playback_onto(l)},o.$$s=_,o.$$arity=1,o.$$parameters=[["req","customization"]],o)),l},b.$$arity=-4,b.$$parameters=[["req","host"],["req","method"],["req","block"],["rest","args"]]),e.defn(k,"$move_block_to_last_customization",x=function(r){var n=this,i=a,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"move_block_to_last_customization"),i=n.recorded_customizations.$last(),s(i)?(s(i.$block())||(o=[r],$(i,"block=",e.to_a(o)),o[t(o.length,1)]),a):r},x.$$arity=1,x.$$parameters=[["req","block"]])}(l[0],null,l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/matchers/receive_message_chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$require_rspec_mocks","$each","$define_method","$<<","$new","$stub_chain_on","$to_proc","$replay_customizations","$any_instance_proxy_for","$space","$stub_chain","$expect_chain","$expect_chain_on","$raise","$private","$playback_onto"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_mocks("matchers/expectation_customization"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Mocks"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d,f,h,m=s=n(t,$super,"ReceiveMessageChain",s),g=m.$$proto,v=[m].concat(a);g.chain=g.block=g.recorded_customizations=r,e.defn(m,"$initialize",o=function(t){var a=this,n=o.$$p,i=n||r;n&&(o.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),a.chain=t,a.block=i,a.recorded_customizations=[]},o.$$arity=1,o.$$parameters=[["req","chain"],["block","block"]]),i(["with","and_return","and_throw","and_raise","and_yield","and_call_original"],"each",[],(c=function(t){var a,n=c.$$s||this;if(null==t&&(t=r),c.$$is_lambda||c.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"<class:ReceiveMessageChain>")}return i(n,"define_method",[t],(a=function(){var n,i,$=a.$$s||this;null==$.recorded_customizations&&($.recorded_customizations=r),(n=a.$$p||r)&&(a.$$p=null);var s=arguments.length,o=s-0;o<0&&(o=0),i=new Array(o);for(var c=0;c<s;c++)i[c-0]=arguments[c];return $.recorded_customizations["$<<"](e.const_get_relative(v,"ExpectationCustomization").$new(t,i,n)),$},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a))},c.$$s=m,c.$$arity=1,c.$$parameters=[["req","msg"]],c)),e.defn(m,"$name",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive_message_chain"},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$setup_allowance",l=function(t){var a,n=this,s=l.$$p,o=s||r,c=r;s&&(l.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"setup_allowance"),c=i(e.const_get_relative(v,"StubChain"),"stub_chain_on",[t].concat(e.to_a(n.chain)),($(a=n.block)?a:o).$to_proc()),n.$replay_customizations(c)},l.$$arity=1,l.$$parameters=[["req","subject"],["block","block"]]),e.defn(m,"$setup_any_instance_allowance",u=function(t){var a,n=this,s=u.$$p,o=s||r,c=r,_=r;s&&(u.$$p=null);var l=arguments.length;return 1!==l&&e.ac(l,1,this,"setup_any_instance_allowance"),c=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_proxy_for(t),_=i(c,"stub_chain",e.to_a(n.chain),($(a=n.block)?a:o).$to_proc()),n.$replay_customizations(_)},u.$$arity=1,u.$$parameters=[["req","subject"],["block","block"]]),e.defn(m,"$setup_any_instance_expectation",p=function(t){var a,n=this,s=p.$$p,o=s||r,c=r,_=r;s&&(p.$$p=null);var l=arguments.length;return 1!==l&&e.ac(l,1,this,"setup_any_instance_expectation"),c=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_proxy_for(t),_=i(c,"expect_chain",e.to_a(n.chain),($(a=n.block)?a:o).$to_proc()),n.$replay_customizations(_)},p.$$arity=1,p.$$parameters=[["req","subject"],["block","block"]]),e.defn(m,"$setup_expectation",d=function(t){var a,n=this,s=d.$$p,o=s||r,c=r;s&&(d.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"setup_expectation"),c=i(e.const_get_relative(v,"ExpectChain"),"expect_chain_on",[t].concat(e.to_a(n.chain)),($(a=n.block)?a:o).$to_proc()),n.$replay_customizations(c)},d.$$arity=1,d.$$parameters=[["req","subject"],["block","block"]]),e.defn(m,"$setup_negative_expectation",f=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return r.$raise(e.const_get_relative(v,"NegationUnsupportedError"),"`expect(...).not_to receive_message_chain` is not supported since it doesn't really make sense. What would it even mean?")},f.$$arity=-1,f.$$parameters=[["rest","_args"]]),e.alias(m,"matches?","setup_expectation"),e.alias(m,"does_not_match?","setup_negative_expectation"),m.$private(),e.defn(m,"$replay_customizations",h=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"replay_customizations"),i(n.recorded_customizations,"each",[],(a=function(n){a.$$s;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"replay_customizations")}return n.$playback_onto(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","customization"]],a))},h.$$arity=1,h.$$parameters=[["req","chain"]])}(_[0],null,_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/mocks/matchers/receive_messages"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send;return e.add_stubs(["$first_non_rspec_line","$warn_about_block","$each_message_on","$proxy_on","$add_simple_expectation","$raise","$add_simple_stub","$any_instance_of","$and_return","$should_receive","$stub","$private","$proxy_for","$space","$any_instance_proxy_for","$each"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Mocks"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l,u,p,d,f,h,m,g=$=n(t,$super,"ReceiveMessages",$),v=g.$$proto,y=[g].concat(a);v.message_return_value_hash=r,e.defn(g,"$initialize",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.message_return_value_hash=t,r.backtrace_line=e.const_get_relative(y,"CallerFilter").$first_non_rspec_line()},s.$$arity=1,s.$$parameters=[["req","message_return_value_hash"]]),e.defn(g,"$name",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"receive_messages"},o.$$arity=0,o.$$parameters=[]),e.defn(g,"$setup_expectation",c=function(t){var a,n=this,$=c.$$p,s=$||r;$&&(c.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"setup_expectation"),s!==r&&n.$warn_about_block(),i(n,"each_message_on",[n.$proxy_on(t)],(a=function(t,n,i){var $=a.$$s||this;if(null==$.backtrace_line&&($.backtrace_line=r),null==t&&(t=r),null==n&&(n=r),null==i&&(i=r),a.$$is_lambda||a.$$define_meth){var s=arguments.length;3!==s&&e.block_ac(s,3,"setup_expectation")}return t.$add_simple_expectation(n,i,$.backtrace_line)},a.$$s=n,a.$$arity=3,a.$$parameters=[["req","host"],["req","message"],["req","return_value"]],a))},c.$$arity=1,c.$$parameters=[["req","subject"]]),e.alias(g,"matches?","setup_expectation"),e.defn(g,"$setup_negative_expectation",_=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"setup_negative_expectation"),t.$raise(e.const_get_relative(y,"NegationUnsupportedError"),"`expect(...).to_not receive_messages` is not supported since it doesn't really make sense. What would it even mean?")},_.$$arity=1,_.$$parameters=[["req","_subject"]]),e.alias(g,"does_not_match?","setup_negative_expectation"),e.defn(g,"$setup_allowance",l=function(t){var a,n=this,$=l.$$p,s=$||r;$&&(l.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"setup_allowance"),s!==r&&n.$warn_about_block(),i(n,"each_message_on",[n.$proxy_on(t)],(a=function(t,n,i){a.$$s;if(null==t&&(t=r),null==n&&(n=r),null==i&&(i=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;3!==$&&e.block_ac($,3,"setup_allowance")}return t.$add_simple_stub(n,i)},a.$$s=n,a.$$arity=3,a.$$parameters=[["req","host"],["req","message"],["req","return_value"]],a))},l.$$arity=1,l.$$parameters=[["req","subject"]]),e.defn(g,"$setup_any_instance_expectation",u=function(t){var a,n=this,$=u.$$p,s=$||r;$&&(u.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"setup_any_instance_expectation"),s!==r&&n.$warn_about_block(),i(n,"each_message_on",[n.$any_instance_of(t)],(a=function(t,n,i){a.$$s;if(null==t&&(t=r),null==n&&(n=r),null==i&&(i=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;3!==$&&e.block_ac($,3,"setup_any_instance_expectation")}return t.$should_receive(n).$and_return(i)},a.$$s=n,a.$$arity=3,a.$$parameters=[["req","host"],["req","message"],["req","return_value"]],a))},u.$$arity=1,u.$$parameters=[["req","subject"]]),e.defn(g,"$setup_any_instance_allowance",p=function(t){var a=this,n=p.$$p,i=n||r;n&&(p.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"setup_any_instance_allowance"),i!==r&&a.$warn_about_block(),a.$any_instance_of(t).$stub(a.message_return_value_hash)},p.$$arity=1,p.$$parameters=[["req","subject"]]),e.defn(g,"$warn_about_block",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_block"),t.$raise("Implementation blocks aren't supported with `receive_messages`")},d.$$arity=0,d.$$parameters=[]),g.$private(),e.defn(g,"$proxy_on",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"proxy_on"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t)},f.$$arity=1,f.$$parameters=[["req","subject"]]),e.defn(g,"$any_instance_of",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"any_instance_of"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_proxy_for(t)},h.$$arity=1,h.$$parameters=[["req","subject"]]),e.defn(g,"$each_message_on",m=function(t){var a,n=this,$=m.$$p,s=$||r;$&&(m.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"each_message_on"),i(n.message_return_value_hash,"each",[],(a=function(n,i){a.$$s;if(null==n&&(n=r),null==i&&(i=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"each_message_on")}return e.yieldX(s,[t,n,i])},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","message"],["req","value"]],a))},m.$$arity=1,m.$$parameters=[["req","host"]])}(c[0],null,c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/mocks"]=function(e){var t,r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send),s=e.module,o=e.truthy,c=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_mocks","$<<","$new_scope","$space","$verify_all","$reset_all","$pop","$last","$add_stub","$proxy_for","$to_proc","$add_message_expectation","$setup","$verify","$teardown","$attr_reader","$new","$autoload"]),a.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("caller_filter"),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("warnings"),
e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("ruby_features"),$(e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support"),"define_optimized_require_for_rspec",["mocks"],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<main>")}return a.$require("rspec/mocks/../"+r)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","f"]],t)),$(["instance_method_stasher","method_double","argument_matchers","example_methods","proxy","test_double","argument_list_matcher","message_expectation","order_group","error_generator","space","mutate_const","targets","syntax","configuration","verifying_double","version"],"each",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<main>")}return e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_mocks(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","name"]],r)),function(t,r){var a,n=a=s(t,"RSpec"),_=(n.$$proto,[n].concat(r));!function(t,r){var a,n,_,l,u,p,d,f=a=s(t,"Mocks"),h=(f.$$proto,[f].concat(r));e.defs(f,"$setup",n=function(){var t=this;null==t.space_stack&&(t.space_stack=i);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"setup"),t.space_stack["$<<"](t.space=t.$space().$new_scope())},n.$$arity=0,n.$$parameters=[]),e.defs(f,"$verify",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify"),t.$space().$verify_all()},_.$$arity=0,_.$$parameters=[]),e.defs(f,"$teardown",l=function(){var t,r=this;null==r.space_stack&&(r.space_stack=i),null==r.root_space&&(r.root_space=i);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"teardown"),r.$space().$reset_all(),r.space_stack.$pop(),r.space=o(t=r.space_stack.$last())?t:r.root_space},l.$$arity=0,l.$$parameters=[]),e.defs(f,"$allow_message",u=function(t,r,a){var n=this,s=u.$$p,o=s||i;null==a&&(a=c([],{})),s&&(u.$$p=null);var _=arguments.length;return(_<2||_>3)&&e.ac(_,-3,this,"allow_message"),$(n.$space().$proxy_for(t),"add_stub",[r,a],o.$to_proc())},u.$$arity=-3,u.$$parameters=[["req","subject"],["req","message"],["opt","opts"],["block","block"]]),e.defs(f,"$expect_message",p=function(t,r,a){var n=this,s=p.$$p,o=s||i;null==a&&(a=c([],{})),s&&(p.$$p=null);var _=arguments.length;return(_<2||_>3)&&e.ac(_,-3,this,"expect_message"),$(n.$space().$proxy_for(t),"add_message_expectation",[r,a],o.$to_proc())},p.$$arity=-3,p.$$parameters=[["req","subject"],["req","message"],["opt","opts"],["block","block"]]),e.defs(f,"$with_temporary_scope",d=function(){var t=this,r=d.$$p,a=r||i;r&&(d.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"with_temporary_scope"),t.$setup(),function(){try{return e.yieldX(a,[]),t.$verify()}finally{t.$teardown()}}()},d.$$arity=0,d.$$parameters=[]),function(e,t){e.$$proto,[e].concat(t);e.$attr_reader("space")}(e.get_singleton_class(f),h),f.space_stack=[],f.root_space=f.space=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(h,"RSpec"),"Mocks"),"RootSpace").$new(),e.const_set(h[0],"IGNORED_BACKTRACE_LINE","this backtrace line is ignored"),f.$autoload("AnyInstance","rspec/mocks/any_instance"),f.$autoload("ExpectChain","rspec/mocks/message_chain"),f.$autoload("StubChain","rspec/mocks/message_chain"),f.$autoload("MarshalExtension","rspec/mocks/marshal_extension"),function(e,t){var r,a=r=s(e,"Matchers");a.$$proto,[a].concat(t);a.$autoload("HaveReceived","rspec/mocks/matchers/have_received"),a.$autoload("Receive","rspec/mocks/matchers/receive"),a.$autoload("ReceiveMessageChain","rspec/mocks/matchers/receive_message_chain"),a.$autoload("ReceiveMessages","rspec/mocks/matchers/receive_messages")}(h[0],h)}(_[0],_)}(n[0],n)},Opal.modules["rspec/core/mocking_adapters/rspec"]=function(e){var t=e.top,r=[],a=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require","$include","$configuration","$setup","$verify","$teardown"]),t.$require("rspec/mocks"),function(t,r){var n,i=n=a(t,"RSpec"),$=(i.$$proto,[i].concat(r));!function(t,r){var n,i=n=a(t,"Core"),$=(i.$$proto,[i].concat(r));!function(t,r){var n,i=n=a(t,"MockingAdapters"),$=(i.$$proto,[i].concat(r));!function(t,r){var n,i,$,s,o,c,_=n=a(t,"RSpec");_.$$proto,[_].concat(r);_.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"ExampleMethods")),e.defs(_,"$framework_name",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"framework_name"),"rspec"},i.$$arity=0,i.$$parameters=[]),e.defs(_,"$configuration",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"configuration"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$configuration()},$.$$arity=0,$.$$parameters=[]),e.defn(_,"$setup_mocks_for_rspec",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"setup_mocks_for_rspec"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$setup()},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$verify_mocks_for_rspec",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verify_mocks_for_rspec"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$verify()},o.$$arity=0,o.$$parameters=[]),e.defn(_,"$teardown_mocks_for_rspec",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"teardown_mocks_for_rspec"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$teardown()},c.$$arity=0,c.$$parameters=[])}($[0],$)}($[0],$)}($[0],$)}(r[0],r)},Opal.modules["rspec/core/notifications"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=(e.top,[]),o=e.nil,c=(e.breaker,e.slice,e.module),_=e.send,l=e.truthy,u=e.klass,p=e.range,d=e.hash2;return e.add_stubs(["$require_rspec_core","$require_rspec_support","$module_function","$new","$pending_fixed?","$execution_result","$==","$status","$private_class_method","$examples","$failed_examples","$pending_examples","$format_examples","$each_with_index","$failure_notifications","$<<","$fully_formatted","$next","$each","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$private","$map","$for","$public_class_method","$exception","$example","$add_shared_group_line","$failure_lines","$failure_color","$format_backtrace","$backtrace","$metadata","$formatted_backtrace","$detail_color","$description","$colorized_message_lines","$encoding_of","$colorized_formatted_backtrace","$method_defined?","$encoding","$to_s","$name","$class","$strip","$read_failed_line","$=~","$exception_class_name","$split","$message","$shared_group_line","$default_color","$find","$group_and_parent_groups","$[]","$shared_group","$+","$parent_groups","$example_group","$find_failed_line","$match","$exist?","$readlines","$-","$to_i","$expand_path","$file_path","$downcase","$message_lines","$fixed_color","$!","$used","$seed","$size","$pluralize","$example_count","$failure_count","$>","$pending_count","$totals_line","$pending_color","$success_color","$join","$format_duration","$duration","$load_time","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$colorized_rerun_commands","$first","$sort_by","$-@","$run_time","$number_of_examples","$inject","$slowest_examples","$/","$slow_duration","$%","$*","$nan?","$calculate_slowest_groups","$last","$[]=","$key?","$top_level_description","$<=","$length","$keys","$each_value","$to_f"]),e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support").$require_rspec_core("formatters/helpers"),e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support").$require_rspec_support("encoded_string"),function(s,f){var h,m=h=c(s,"Core"),g=(m.$$proto,[m].concat(f));!function(s,f){var h,m,g,v,y,b,x=h=c(s,"Notifications"),k=(x.$$proto,[x].concat(f));!function(t,r){var a,n,i=a=c(t,"NullColorizer");i.$$proto,[i].concat(r);i.$module_function(),e.defn(i,"$wrap",n=function(t){var r=arguments.length;return 2!==r&&e.ac(r,2,this,"wrap"),t},n.$$arity=2,n.$$parameters=[["req","line"],["req","_code_or_symbol"]])}(k[0],k),e.const_set(k[0],"StartNotification",e.const_get_relative(k,"Struct").$new("count","load_time")),e.const_set(k[0],"ExampleNotification",_(e.const_get_relative(k,"Struct"),"new",["example"],(m=function(){var t,r=m.$$s||this;if(m.$$is_lambda||m.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<module:Notifications>")}return e.defs(r,"$for",t=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"for"),l(t.$execution_result()["$pending_fixed?"]())?e.const_get_relative(k,"PendingExampleFixedNotification").$new(t):t.$execution_result().$status()["$=="]("failed")?e.const_get_relative(k,"FailedExampleNotification").$new(t):r.$new(t)},t.$$arity=1,t.$$parameters=[["req","example"]]),r.$private_class_method("new")},m.$$s=x,m.$$arity=0,m.$$parameters=[],m))),function(t,$super,r){function a(){}var n,i,$,s,c,p,d,f,h,m=a=u(t,$super,"ExamplesNotification",a),g=m.$$proto,v=[m].concat(r);g.reporter=g.notifications=g.failed_notifications=o,e.defn(m,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.reporter=t},n.$$arity=1,n.$$parameters=[["req","reporter"]]),e.defn(m,"$examples",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"examples"),t.reporter.$examples()},i.$$arity=0,i.$$parameters=[]),e.defn(m,"$failed_examples",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failed_examples"),t.reporter.$failed_examples()},$.$$arity=0,$.$$parameters=[]),e.defn(m,"$pending_examples",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pending_examples"),t.reporter.$pending_examples()},s.$$arity=0,s.$$parameters=[]),e.defn(m,"$notifications",c=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"notifications"),r.notifications=l(t=r.notifications)?t:r.$format_examples(r.$examples())},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$failure_notifications",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_notifications"),r.failed_notifications=l(t=r.failed_notifications)?t:r.$format_examples(r.$failed_examples())},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$fully_formatted_failed_examples",d=function(t){var r,a=this,n=o;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"fully_formatted_failed_examples"),n="\nFailures:\n",_(a.$failure_notifications(),"each_with_index",[],(r=function(a,i){r.$$s;if(null==a&&(a=o),null==i&&(i=o),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"fully_formatted_failed_examples")}return n["$<<"](a.$fully_formatted(i.$next(),t))},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","failure"],["req","index"]],r)),n},d.$$arity=-1,d.$$parameters=[["opt","colorizer"]]),e.defn(m,"$fully_formatted_pending_examples",f=function(t){var r,a=this,n=o;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"fully_formatted_pending_examples"),n="\nPending:\n",_(a.$pending_examples(),"each",[],(r=function(a){var i=(r.$$s,o);if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"fully_formatted_pending_examples")}return i=e.const_get_relative(v,"RSpec").$configuration().$backtrace_formatter().$backtrace_line(a.$location()),n["$<<"]("  "+t.$wrap(a.$full_description(),"pending")+"\n    # "+t.$wrap(a.$execution_result().$pending_message(),"detail")+"\n    # "+t.$wrap(i,"detail")+"\n")},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","example"]],r)),n},f.$$arity=-1,f.$$parameters=[["opt","colorizer"]]),m.$private(),e.defn(m,"$format_examples",h=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"format_examples"),_(t,"map",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"format_examples")}return e.const_get_relative(v,"ExampleNotification").$for(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","example"]],r))},h.$$arity=1,h.$$parameters=[["req","examples"]])}(k[0],null,k),function(a,$super,n){function i(){}var $,s,c,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O=i=u(a,$super,"FailedExampleNotification",i),A=O.$$proto,R=[O].concat(n);A.failure_lines=A.shared_group=A.shared_group_line=o,O.$public_class_method("new"),e.defn(O,"$exception",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exception"),t.$example().$execution_result().$exception()},$.$$arity=0,$.$$parameters=[]),e.defn(O,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$example().$full_description()},s.$$arity=0,s.$$parameters=[]),e.defn(O,"$message_lines",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message_lines"),t.$add_shared_group_line(t.$failure_lines(),e.const_get_relative(R,"NullColorizer"))},c.$$arity=0,c.$$parameters=[]),e.defn(O,"$colorized_message_lines",d=function(t){var r,a=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var n=arguments.length;return n>1&&e.ac(n,-1,this,"colorized_message_lines"),_(a.$add_shared_group_line(a.$failure_lines(),t),"map",[],(r=function(a){r.$$s;if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"colorized_message_lines")}return t.$wrap(a,e.const_get_relative(R,"RSpec").$configuration().$failure_color())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","line"]],r))},d.$$arity=-1,d.$$parameters=[["opt","colorizer"]]),e.defn(O,"$formatted_backtrace",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_backtrace"),t.$backtrace_formatter().$format_backtrace(t.$exception().$backtrace(),t.$example().$metadata())},f.$$arity=0,f.$$parameters=[]),e.defn(O,"$colorized_formatted_backtrace",h=function(t){var r,a=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var n=arguments.length;return n>1&&e.ac(n,-1,this,"colorized_formatted_backtrace"),_(a.$formatted_backtrace(),"map",[],(r=function(a){r.$$s;if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"colorized_formatted_backtrace")}return t.$wrap("# "+a,e.const_get_relative(R,"RSpec").$configuration().$detail_color())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","backtrace_info"]],r))},h.$$arity=-1,h.$$parameters=[["opt","colorizer"]]),e.defn(O,"$fully_formatted",m=function(t,r){var a,n,i=this,$=o;null==r&&(r=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"fully_formatted"),$="\n  "+t+") "+i.$description()+"\n",_(i.$colorized_message_lines(r),"each",[],(a=function(t){var r=a.$$s||this;if(null==t&&(t=o),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"fully_formatted")}return $["$<<"](e.const_get_qualified(e.const_get_qualified(e.const_get_relative(R,"RSpec"),"Support"),"EncodedString").$new("     "+t+"\n",r.$encoding_of($)))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","line"]],a)),_(i.$colorized_formatted_backtrace(r),"each",[],(n=function(t){var r=n.$$s||this;if(null==t&&(t=o),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"fully_formatted")}return $["$<<"](e.const_get_qualified(e.const_get_qualified(e.const_get_relative(R,"RSpec"),"Support"),"EncodedString").$new("     "+t+"\n",r.$encoding_of($)))},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","line"]],n)),$},m.$$arity=-2,m.$$parameters=[["req","failure_number"],["opt","colorizer"]]),O.$private(),l(e.const_get_relative(R,"String")["$method_defined?"]("encoding"))?e.defn(O,"$encoding_of",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"encoding_of"),t.$encoding()},g.$$arity=1,g.$$parameters=[["req","string"]]):e.defn(O,"$encoding_of",v=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"encoding_of"),o},v.$$arity=1,v.$$parameters=[["req","_string"]]),e.defn(O,"$backtrace_formatter",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"backtrace_formatter"),e.const_get_relative(R,"RSpec").$configuration().$backtrace_formatter()},y.$$arity=0,y.$$parameters=[]),e.defn(O,"$exception_class_name",b=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"exception_class_name"),r=t.$exception().$class().$name().$to_s(),r["$=="]("")&&(r="(anonymous error class)"),r},b.$$arity=0,b.$$parameters=[]),e.defn(O,"$failure_lines",x=function(){var t,r,a=this,n=o,i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_lines"),a.failure_lines=l(t=a.failure_lines)?t:(n=["Failure/Error: "+a.$read_failed_line().$strip()],function(){l(a.$exception_class_name()["$=~"](/RSpec/))||n["$<<"](a.$exception_class_name()+":")}(),_(a.$exception().$message().$to_s().$split("\n"),"each",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"failure_lines")}return l(a.$exception().$message())?n["$<<"]("  "+t):o},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","line"]],r)),n)},x.$$arity=0,x.$$parameters=[]),e.defn(O,"$add_shared_group_line",k=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_shared_group_line"),a.$shared_group_line()["$=="]("")||t["$<<"](r.$wrap(a.$shared_group_line(),e.const_get_relative(R,"RSpec").$configuration().$default_color())),t},k.$$arity=2,k.$$parameters=[["req","lines"],["req","colorizer"]]),e.defn(O,"$shared_group",q=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"shared_group"),a.shared_group=l(t=a.shared_group)?t:_(a.$group_and_parent_groups(),"find",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"shared_group")}return t.$metadata()["$[]"]("shared_group_name")},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","group"]],r))},q.$$arity=0,q.$$parameters=[]),e.defn(O,"$shared_group_line",w=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"shared_group_line"),r.shared_group_line=l(t=r.shared_group_line)?t:function(){return l(r.$shared_group())?'Shared Example Group: "'+r.$shared_group().$metadata()["$[]"]("shared_group_name")+'" called from '+r.$backtrace_formatter().$backtrace_line(r.$shared_group().$location()):""}()},w.$$arity=0,w.$$parameters=[]),e.defn(O,"$group_and_parent_groups",E=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"group_and_parent_groups"),t(r.$example().$example_group().$parent_groups(),[r.$example().$example_group()])},E.$$arity=0,E.$$parameters=[]),e.defn(O,"$read_failed_line",S=function(){var t,a,n=this,i=o,$=o,s=o,c=arguments.length;0!==c&&e.ac(c,0,this,"read_failed_line");try{return i=n.$find_failed_line(),l(i)?(a=i.$match(/(.+?):(\d+)(|:\d+)/)["$[]"](p(1,2,!1)),t=e.to_ary(a),$=null==t[0]?o:t[0],s=null==t[1]?o:t[1],l(e.const_get_relative(R,"File")["$exist?"]($))?l(t=e.const_get_relative(R,"File").$readlines($)["$[]"](r(s.$to_i(),1)))?t:"Unable to find matching line in "+$:"Unable to find "+$+" to read failed line"):"Unable to find matching line from backtrace"}catch(t){if(!e.rescue(t,[e.const_get_relative(R,"SecurityError")]))throw t;try{return"Unable to read failed line"}finally{e.pop_exception()}}},S.$$arity=0,S.$$parameters=[]),e.defn(O,"$find_failed_line",M=function(){var t,r=this,a=o,n=arguments.length;return 0!==n&&e.ac(n,0,this,"find_failed_line"),a=e.const_get_relative(R,"File").$expand_path(r.$example().$file_path()),_(r.$exception().$backtrace(),"find",[],(t=function(r){var n,i=(t.$$s,o);if(null==r&&(r=o),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"find_failed_line")}return i=r.$match(/(.+?):(\d+)(|:\d+)/),l(n=i)?i["$[]"](1).$downcase()["$=="](a.$downcase()):n},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","line"]],t))},M.$$arity=0,M.$$parameters=[])}(k[0],e.const_get_relative(k,"ExampleNotification"),k),function(t,$super,r){function a(){}var n,i,$,s=a=u(t,$super,"PendingExampleFixedNotification",a),c=(s.$$proto,[s].concat(r));s.$public_class_method("new"),e.defn(s,"$description",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$example().$full_description()+" FIXED"},n.$$arity=0,n.$$parameters=[]),e.defn(s,"$message_lines",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"message_lines"),["Expected pending '"+t.$example().$execution_result().$pending_message()+"' to fail. No Error was raised."]},i.$$arity=0,i.$$parameters=[]),e.defn(s,"$colorized_message_lines",$=function(t){var r,a=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var n=arguments.length;return n>1&&e.ac(n,-1,this,"colorized_message_lines"),_(a.$message_lines(),"map",[],(r=function(a){r.$$s;if(null==a&&(a=o),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"colorized_message_lines")}return t.$wrap(a,e.const_get_relative(c,"RSpec").$configuration().$fixed_color())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","line"]],r))},$.$$arity=-1,$.$$parameters=[["opt","colorizer"]])}(k[0],e.const_get_relative(k,"FailedExampleNotification"),k),e.const_set(k[0],"GroupNotification",e.const_get_relative(k,"Struct").$new("group")),e.const_set(k[0],"MessageNotification",e.const_get_relative(k,"Struct").$new("message")),e.const_set(k[0],"SeedNotification",_(e.const_get_relative(k,"Struct"),"new",["seed","used"],(g=function(){var t,r,a=g.$$s||this;if(g.$$is_lambda||g.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<module:Notifications>")}return e.def(a,"$seed_used?",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"seed_used?"),t.$used()["$!"]()["$!"]()},t.$$arity=0,t.$$parameters=[]),a.$private("used"),e.def(a,"$fully_formatted",r=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"fully_formatted"),"\nRandomized with seed "+t.$seed()+"\n\n"},r.$$arity=0,r.$$parameters=[]),o&&"fully_formatted"},g.$$s=x,g.$$arity=0,g.$$parameters=[],g))),e.const_set(k[0],"SummaryNotification",_(e.const_get_relative(k,"Struct"),"new",["duration","examples","failed_examples","pending_examples","load_time"],(v=function(){var r,n,i,$,s,c,u,p,d,f=v.$$s||this;if(v.$$is_lambda||v.$$define_meth){var h=arguments.length;0!==h&&e.block_ac(h,0,"<module:Notifications>")}return e.def(f,"$example_count",r=function(){var t,r=this;null==r.example_count&&(r.example_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"example_count"),r.example_count=l(t=r.example_count)?t:r.$examples().$size()},r.$$arity=0,r.$$parameters=[]),e.def(f,"$failure_count",n=function(){var t,r=this;null==r.failure_count&&(r.failure_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_count"),r.failure_count=l(t=r.failure_count)?t:r.$failed_examples().$size()},n.$$arity=0,n.$$parameters=[]),e.def(f,"$pending_count",i=function(){var t,r=this;null==r.pending_count&&(r.pending_count=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"pending_count"),r.pending_count=l(t=r.pending_count)?t:r.$pending_examples().$size()},i.$$arity=0,i.$$parameters=[]),e.def(f,"$totals_line",$=function(){var t=this,r=o,n=arguments.length;return 0!==n&&e.ac(n,0,this,"totals_line"),r=e.const_get_qualified(e.const_get_relative(k,"Formatters"),"Helpers").$pluralize(t.$example_count(),"example"),r["$<<"](", ")["$<<"](e.const_get_qualified(e.const_get_relative(k,"Formatters"),"Helpers").$pluralize(t.$failure_count(),"failure")),l(a(t.$pending_count(),0))&&r["$<<"](", "+t.$pending_count()+" pending"),r},$.$$arity=0,$.$$parameters=[]),e.def(f,"$colorized_totals_line",s=function(t){var r=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var n=arguments.length;return n>1&&e.ac(n,-1,this,"colorized_totals_line"),l(a(r.$failure_count(),0))?t.$wrap(r.$totals_line(),e.const_get_relative(k,"RSpec").$configuration().$failure_color()):l(a(r.$pending_count(),0))?t.$wrap(r.$totals_line(),e.const_get_relative(k,"RSpec").$configuration().$pending_color()):t.$wrap(r.$totals_line(),e.const_get_relative(k,"RSpec").$configuration().$success_color())},s.$$arity=-1,s.$$parameters=[["opt","colorizer"]]),e.def(f,"$colorized_rerun_commands",c=function(r){var a,n=this;null==r&&(r=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var i=arguments.length;return i>1&&e.ac(i,-1,this,"colorized_rerun_commands"),t("\nFailed examples:\n\n",_(n.$failed_examples(),"map",[],(a=function(n){a.$$s;if(null==n&&(n=o),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"colorized_rerun_commands")}return t(t(r.$wrap("rspec "+n.$location(),e.const_get_relative(k,"RSpec").$configuration().$failure_color())," "),r.$wrap("# "+n.$full_description(),e.const_get_relative(k,"RSpec").$configuration().$detail_color()))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","example"]],a)).$join("\n"))},c.$$arity=-1,c.$$parameters=[["opt","colorizer"]]),e.def(f,"$formatted_duration",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_duration"),e.const_get_qualified(e.const_get_relative(k,"Formatters"),"Helpers").$format_duration(t.$duration())},u.$$arity=0,u.$$parameters=[]),e.def(f,"$formatted_load_time",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"formatted_load_time"),e.const_get_qualified(e.const_get_relative(k,"Formatters"),"Helpers").$format_duration(t.$load_time())},p.$$arity=0,p.$$parameters=[]),e.def(f,"$fully_formatted",d=function(t){var r=this,a=o;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var n=arguments.length;return n>1&&e.ac(n,-1,this,"fully_formatted"),a="\nFinished in "+r.$formatted_duration()+" (files took "+r.$formatted_load_time()+" to load)\n"+r.$colorized_totals_line(t)+"\n",l(r.$failed_examples()["$empty?"]())||a["$<<"](r.$colorized_rerun_commands(t))["$<<"]("\n"),a},d.$$arity=-1,d.$$parameters=[["opt","colorizer"]]),o&&"fully_formatted"},v.$$s=x,v.$$arity=0,v.$$parameters=[],v))),e.const_set(k[0],"ProfileNotification",_(e.const_get_relative(k,"Struct"),"new",["duration","examples","number_of_examples"],(y=function(){var a,s,c,u,p,f=y.$$s||this;if(y.$$is_lambda||y.$$define_meth){var h=arguments.length;0!==h&&e.block_ac(h,0,"<module:Notifications>")}return e.def(f,"$slowest_examples",a=function(){var t,r,a=this;null==a.slowest_examples&&(a.slowest_examples=o);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"slowest_examples"),a.slowest_examples=l(t=a.slowest_examples)?t:_(a.$examples(),"sort_by",[],(r=function(t){r.$$s;if(null==t&&(t=o),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"slowest_examples")}return t.$execution_result().$run_time()["$-@"]()},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","example"]],r)).$first(a.$number_of_examples())},a.$$arity=0,a.$$parameters=[]),e.def(f,"$slow_duration",s=function(){var r,a,n=this;null==n.slow_duration&&(n.slow_duration=o);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"slow_duration"),n.slow_duration=l(r=n.slow_duration)?r:_(n.$slowest_examples(),"inject",[0],(a=function(r,n){a.$$s;if(null==r&&(r=o),null==n&&(n=o),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"slow_duration")}return t(r,n.$execution_result().$run_time())},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","i"],["req","e"]],a))},s.$$arity=0,s.$$parameters=[]),e.def(f,"$percentage",c=function(){var t,r=this,a=o;null==r.percentage&&(r.percentage=o);var $=arguments.length;return 0!==$&&e.ac($,0,this,"percentage"),r.percentage=l(t=r.percentage)?t:(a=n(r.$slow_duration(),r.$duration()),"%.1f"["$%"](i(function(){return l(a["$nan?"]())?0:a}(),100)))},c.$$arity=0,c.$$parameters=[]),e.def(f,"$slowest_groups",u=function(){var t,r=this;null==r.slowest_groups&&(r.slowest_groups=o);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"slowest_groups"),r.slowest_groups=l(t=r.slowest_groups)?t:r.$calculate_slowest_groups()},u.$$arity=0,u.$$parameters=[]),f.$private(),e.def(f,"$calculate_slowest_groups",p=function(){var a,i,s,c=this,u=o,p=arguments.length;return 0!==p&&e.ac(p,0,this,"calculate_slowest_groups"),u=d([],{}),_(c.$examples(),"each",[],(a=function(n){var i,$=(a.$$s,o),s=o,c=o;if(null==n&&(n=o),a.$$is_lambda||a.$$define_meth){var p=arguments.length;1!==p&&e.block_ac(p,1,"calculate_slowest_groups")}return $=n.$example_group().$parent_groups().$last().$metadata()["$[]"]("location"),s=l(i=u["$[]"]($))?i:(c=[$,e.const_get_relative(k,"Hash").$new(0)],_(u,"[]=",e.to_a(c)),c[r(c.length,1)]),c=["total_time",t(s["$[]"]("total_time"),n.$execution_result().$run_time())],_(s,"[]=",e.to_a(c)),c[r(c.length,1)],c=["count",t(s["$[]"]("count"),1)],_(s,"[]=",e.to_a(c)),c[r(c.length,1)],l(s["$key?"]("description"))?o:(c=["description",n.$example_group().$top_level_description()],_(s,"[]=",e.to_a(c)),c[r(c.length,1)])},a.$$s=c,a.$$arity=1,a.$$parameters=[["req","example"]],a)),l($(u.$keys().$length(),1))?d([],{}):(_(u,"each_value",[],(i=function(t){var a=(i.$$s,o);if(null==t&&(t=o),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"calculate_slowest_groups")}return a=["average",n(t["$[]"]("total_time").$to_f(),t["$[]"]("count"))],_(t,"[]=",e.to_a(a)),a[r(a.length,1)]},i.$$s=c,i.$$arity=1,i.$$parameters=[["req","hash"]],i)),_(u,"sort_by",[],(s=function(t,r){s.$$s;if(null==t&&(t=o),null==r&&(r=o),s.$$is_lambda||s.$$define_meth){var a=arguments.length;2!==a&&e.block_ac(a,2,"calculate_slowest_groups")}return r["$[]"]("average")["$-@"]()},s.$$s=c,s.$$arity=2,s.$$parameters=[["req","_"],["req","hash"]],s)).$first(c.$number_of_examples()))},p.$$arity=0,p.$$parameters=[]),o&&"calculate_slowest_groups"},y.$$s=x,y.$$arity=0,y.$$parameters=[],y))),e.const_set(k[0],"DeprecationNotification",_(e.const_get_relative(k,"Struct"),"new",["deprecated","message","replacement","call_site"],(b=function(){var t,r=b.$$s||this;if(b.$$is_lambda||b.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<module:Notifications>")}return r.$private_class_method("new"),e.defs(r,"$from_hash",t=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from_hash"),r.$new(t["$[]"]("deprecated"),t["$[]"]("message"),t["$[]"]("replacement"),t["$[]"]("call_site"))},t.$$arity=1,t.$$parameters=[["req","data"]])},b.$$s=x,b.$$arity=0,b.$$parameters=[],b))),function(e,$super,t){function r(){}var a=r=u(e,$super,"NullNotification",r);a.$$proto,[a].concat(t)}(k[0],null,k)}(g[0],g)}(e.const_get_relative(s,"RSpec"),s)},Opal.modules["rspec/core/option_parser"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.hash2,c=e.send,_=e.gvars,l=e.range;return e.add_stubs(["$require","$parse","$new","$empty?","$delete","$parse!","$parser","$abort","$message","$banner=","$-","$on","$[]","$[]=","$<<","$to_i","$require_rspec_core","$run","$exit","$separator","$last","$nil?","$==","$Integer","$warning","$compile","$escape","$=~","$split","$gsub","$to_sym","$===","$Float","$puts","$on_tail","$to_s","$join","$each","$raise"]),r.$require("optparse"),function(r,a){var u,p=u=i(r,"Core"),d=(p.$$proto,[p].concat(a));!function(r,$super,a){function i(){}var u,p,d,f=i=$(r,$super,"Parser",i),h=(f.$$proto,[f].concat(a));e.defs(f,"$parse",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"parse"),r.$new().$parse(t)},u.$$arity=1,u.$$parameters=[["req","args"]]),e.defn(f,"$parse",p=function(t){var r=this,a=n,i=n,$=arguments.length;if(1!==$&&e.ac($,1,this,"parse"),s(t["$empty?"]()))return o([],{});a=function(){return s(t.$delete("--tty"))?o(["tty"],{tty:!0}):o([],{})}();try{r.$parser(a)["$parse!"](t)
}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_relative(h,"OptionParser"),"InvalidOption")]))throw t;i=t;try{r.$abort(i.$message()+"\n\nPlease use --help for a listing of valid options")}finally{e.pop_exception()}}return a},p.$$arity=1,p.$$parameters=[["req","args"]]),e.defn(f,"$parser",d=function(r){var a,i=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"parser"),c(e.const_get_relative(h,"OptionParser"),"new",[],(a=function(i){var $,u,p,d,f,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F=a.$$s||this,B=n,D=n;if(null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var H=arguments.length;1!==H&&e.block_ac(H,1,"parser")}return B=["Usage: rspec [options] [files or directories]\n\n"],c(i,"banner=",e.to_a(B)),B[t(B.length,1)],c(i,"on",["-I PATH","Specify PATH to add to $LOAD_PATH (may be used more than once)."],($=function(a){$.$$s;if(null==a&&(a=n),$.$$is_lambda||$.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return s(r["$[]"]("libs"))||(B=["libs",[]],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]),r["$[]"]("libs")["$<<"](a)},$.$$s=F,$.$$arity=1,$.$$parameters=[["req","dir"]],$)),c(i,"on",["-r","--require PATH","Require a file."],(u=function(a){u.$$s;if(null==a&&(a=n),u.$$is_lambda||u.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return s(r["$[]"]("requires"))||(B=["requires",[]],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]),r["$[]"]("requires")["$<<"](a)},u.$$s=F,u.$$arity=1,u.$$parameters=[["req","path"]],u)),c(i,"on",["-O","--options PATH","Specify the path to a custom options file."],(p=function(a){p.$$s;if(null==a&&(a=n),p.$$is_lambda||p.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["custom_options_file",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},p.$$s=F,p.$$arity=1,p.$$parameters=[["req","path"]],p)),c(i,"on",["--order TYPE[:SEED]","Run examples by the specified order type.","  [defined] examples and groups are run in the order they are defined","  [rand]    randomize the order of groups and examples","  [random]  alias for rand","  [random:SEED] e.g. --order random:123"],(d=function(a){d.$$s;if(null==a&&(a=n),d.$$is_lambda||d.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["order",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},d.$$s=F,d.$$arity=1,d.$$parameters=[["req","o"]],d)),c(i,"on",["--seed SEED",e.const_get_relative(h,"Integer"),"Equivalent of --order rand:SEED."],(f=function(a){f.$$s;if(null==a&&(a=n),f.$$is_lambda||f.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["order","rand:"+a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},f.$$s=F,f.$$arity=1,f.$$parameters=[["req","seed"]],f)),c(i,"on",["--fail-fast","Abort the run on first failure."],(m=function(a){m.$$s;if(null==a&&(a=n),m.$$is_lambda||m.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["fail_fast",!0],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},m.$$s=F,m.$$arity=1,m.$$parameters=[["req","_o"]],m)),c(i,"on",["--no-fail-fast","Do not abort the run on first failure."],(g=function(a){g.$$s;if(null==a&&(a=n),g.$$is_lambda||g.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["fail_fast",!1],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},g.$$s=F,g.$$arity=1,g.$$parameters=[["req","_o"]],g)),c(i,"on",["--failure-exit-code CODE",e.const_get_relative(h,"Integer"),"Override the exit code used when there are failing specs."],(v=function(a){v.$$s;if(null==a&&(a=n),v.$$is_lambda||v.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["failure_exit_code",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},v.$$s=F,v.$$arity=1,v.$$parameters=[["req","code"]],v)),c(i,"on",["--dry-run","Print the formatter output of your suite without","  running any examples or hooks"],(y=function(a){y.$$s;if(null==a&&(a=n),y.$$is_lambda||y.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["dry_run",!0],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},y.$$s=F,y.$$arity=1,y.$$parameters=[["req","_o"]],y)),c(i,"on",["-X","--[no-]drb","Run examples via DRb."],(b=function(a){b.$$s;if(null==a&&(a=n),b.$$is_lambda||b.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["drb",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},b.$$s=F,b.$$arity=1,b.$$parameters=[["req","o"]],b)),c(i,"on",["--drb-port PORT","Port to connect to the DRb server."],(x=function(a){x.$$s;if(null==a&&(a=n),x.$$is_lambda||x.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["drb_port",a.$to_i()],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},x.$$s=F,x.$$arity=1,x.$$parameters=[["req","o"]],x)),c(i,"on",["--init","Initialize your project with RSpec."],(k=function(t){var r=k.$$s||this;if(null==t&&(t=n),k.$$is_lambda||k.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"parser")}return e.const_get_qualified(e.const_get_relative(h,"RSpec"),"Support").$require_rspec_core("project_initializer"),e.const_get_relative(h,"ProjectInitializer").$new().$run(),r.$exit()},k.$$s=F,k.$$arity=1,k.$$parameters=[["req","_cmd"]],k)),i.$separator("\n  **** Output ****\n\n"),c(i,"on",["-f","--format FORMATTER","Choose a formatter.","  [p]rogress (default - dots)","  [d]ocumentation (group and example names)","  [h]tml","  [j]son","  custom formatter class name"],(q=function(a){q.$$s;if(null==a&&(a=n),q.$$is_lambda||q.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return s(r["$[]"]("formatters"))||(B=["formatters",[]],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]),r["$[]"]("formatters")["$<<"]([a])},q.$$s=F,q.$$arity=1,q.$$parameters=[["req","o"]],q)),c(i,"on",["-o","--out FILE","Write output to a file instead of $stdout. This option applies","  to the previously specified --format, or the default format","  if no format is specified."],(w=function(a){w.$$s;if(null==a&&(a=n),w.$$is_lambda||w.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return s(r["$[]"]("formatters"))||(B=["formatters",[["progress"]]],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]),r["$[]"]("formatters").$last()["$<<"](a)},w.$$s=F,w.$$arity=1,w.$$parameters=[["req","o"]],w)),c(i,"on",["--deprecation-out FILE","Write deprecation warnings to a file instead of $stderr."],(E=function(a){E.$$s;if(null==a&&(a=n),E.$$is_lambda||E.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["deprecation_stream",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},E.$$s=F,E.$$arity=1,E.$$parameters=[["req","file"]],E)),c(i,"on",["-b","--backtrace","Enable full backtrace."],(S=function(a){S.$$s;if(null==a&&(a=n),S.$$is_lambda||S.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["full_backtrace",!0],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},S.$$s=F,S.$$arity=1,S.$$parameters=[["req","_o"]],S)),c(i,"on",["-c","--[no-]color","--[no-]colour","Enable color in the output."],(M=function(a){M.$$s;if(null==a&&(a=n),M.$$is_lambda||M.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["color",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},M.$$s=F,M.$$arity=1,M.$$parameters=[["req","o"]],M)),c(i,"on",["-p","--[no-]profile [COUNT]","Enable profiling of examples and list the slowest examples (default: 10)."],(O=function(a){var i=O.$$s||this;if(null==a&&(a=n),O.$$is_lambda||O.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"parser")}return B=["profile_examples",function(){if(s(a["$nil?"]()))return!0;if(a["$=="](!1))return!1;try{return i.$Integer(a)}catch(t){if(!e.rescue(t,[e.const_get_relative(h,"ArgumentError")]))throw t;try{return e.const_get_relative(h,"RSpec").$warning("Non integer specified as profile count, seperate your path from options with -- e.g. `rspec --profile -- "+a+"`",o(["call_site"],{call_site:n})),!0}finally{e.pop_exception()}}return n}()],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},O.$$s=F,O.$$arity=1,O.$$parameters=[["req","argument"]],O)),c(i,"on",["-w","--warnings","Enable ruby warnings"],(A=function(){A.$$s;if(A.$$is_lambda||A.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"parser")}return _.VERBOSE=!0},A.$$s=F,A.$$arity=0,A.$$parameters=[],A)),i.$separator("\n  **** Filtering/tags ****\n\n    In addition to the following options for selecting specific files, groups,\n    or examples, you can select a single example by appending the line number to\n    the filename:\n\n      rspec path/to/a_spec.rb:37\n\n"),c(i,"on",["-P","--pattern PATTERN",'Load files matching pattern (default: "spec/**/*_spec.rb").'],(R=function(a){R.$$s;if(null==a&&(a=n),R.$$is_lambda||R.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["pattern",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},R.$$s=F,R.$$arity=1,R.$$parameters=[["req","o"]],R)),c(i,"on",["--exclude-pattern PATTERN","Load files except those matching pattern. Opposite effect of --pattern."],(z=function(a){z.$$s;if(null==a&&(a=n),z.$$is_lambda||z.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["exclude_pattern",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},z.$$s=F,z.$$arity=1,z.$$parameters=[["req","o"]],z)),c(i,"on",["-e","--example STRING","Run examples whose full nested names include STRING (may be","  used more than once)"],(j=function(a){var i;j.$$s;if(null==a&&(a=n),j.$$is_lambda||j.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"parser")}return(s(i=r["$[]"]("full_description"))?i:(B=["full_description",[]],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]))["$<<"](e.const_get_relative(h,"Regexp").$compile(e.const_get_relative(h,"Regexp").$escape(a)))},j.$$s=F,j.$$arity=1,j.$$parameters=[["req","o"]],j)),c(i,"on",["-t","--tag TAG[:VALUE]","Run examples with the specified tag, or exclude examples","by adding ~ before the tag.","  - e.g. ~slow","  - TAG is always converted to a symbol"],(T=function(a){var i,$,_=T.$$s||this,u=n,p=n,d=n,f=n;if(null==a&&(a=n),T.$$is_lambda||T.$$define_meth){var h=arguments.length;1!==h&&e.block_ac(h,1,"parser")}return u=function(){return s(a["$=~"](/^~/))?"exclusion_filter":"inclusion_filter"}(),$=a.$gsub(/^(~@|~|@)/,"").$split(":",2),i=e.to_ary($),p=null==i[0]?n:i[0],d=null==i[1]?n:i[1],p=p.$to_sym(),s(i=r["$[]"](u))||(B=[u,o([],{})],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]),B=[p,function(){return f=d,!!n["$==="](f)||(!!"true"["$==="](f)||!"false"["$==="](f)&&("nil"["$==="](f)?n:/^:/["$==="](f)?d["$[]"](l(1,-1,!1)).$to_sym():/^\d+$/["$==="](f)?_.$Integer(d):/^\d+.\d+$/["$==="](f)?_.$Float(d):d))}()],c(r["$[]"](u),"[]=",e.to_a(B)),B[t(B.length,1)]},T.$$s=F,T.$$arity=1,T.$$parameters=[["req","tag"]],T)),c(i,"on",["--default-path PATH","Set the default path where RSpec looks for examples (can","  be a path to a file or a directory)."],(I=function(a){I.$$s;if(null==a&&(a=n),I.$$is_lambda||I.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"parser")}return B=["default_path",a],c(r,"[]=",e.to_a(B)),B[t(B.length,1)]},I.$$s=F,I.$$arity=1,I.$$parameters=[["req","path"]],I)),i.$separator("\n  **** Utility ****\n\n"),c(i,"on",["-v","--version","Display the version."],(C=function(){var t=C.$$s||this;if(C.$$is_lambda||C.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"parser")}return t.$puts(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(h,"RSpec"),"Core"),"Version"),"STRING")),t.$exit()},C.$$s=F,C.$$arity=0,C.$$parameters=[],C)),D=["-d","--I"],c(i,"on_tail",["-h","--help","You're looking at it."],(P=function(){var t=P.$$s||this;if(P.$$is_lambda||P.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"parser")}return t.$puts(i.$to_s().$gsub(new RegExp("^\\s+("+D.$join("|")+")\\s*$\\n"),"")),t.$exit()},P.$$s=F,P.$$arity=0,P.$$parameters=[],P)),c(D,"each",[],(N=function(t){var r,a=N.$$s||this;if(null==t&&(t=n),N.$$is_lambda||N.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"parser")}return c(i,"on",[t],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"parser")}return t.$raise(e.const_get_qualified(e.const_get_relative(h,"OptionParser"),"InvalidOption").$new())},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},N.$$s=F,N.$$arity=1,N.$$parameters=[["req","option"]],N))},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","parser"]],a))},d.$$arity=1,d.$$parameters=[["req","options"]])}(d[0],null,d)}(e.const_get_relative(a,"RSpec"),a)},Opal.modules["rspec/core/ordering"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.truthy,o=e.klass,c=e.hash2,_=e.send;return e.add_stubs(["$require_rspec_core","$new","$seed","$shuffle","$>","$dup","$times","$size","$+","$rand","$-","$==","$[]","$[]=","$call","$register","$fetch","$to_proc","$used?","$attr_reader","$used_random_seed?","$ordering_registry","$register_ordering","$to_i","$split","$to_s","$include?","$key?","$seed=","$order="]),function(n,l){var u,p=u=$(n,"RSpec"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"Core"),d=(p.$$proto,[p].concat(l));s(e.const_get_qualified("::","Random","skip_raise")?"constant":i)?e.const_set(d[0],"RandomNumberGenerator",e.const_get_qualified("::","Random")):(e.const_get_qualified(e.const_get_relative(d,"RSpec"),"Support").$require_rspec_core("backport_random"),e.const_set(d[0],"RandomNumberGenerator",e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(d,"RSpec"),"Core"),"Backports"),"Random"))),function(n,l){var u,p=u=$(n,"Ordering"),d=(p.$$proto,[p].concat(l));!function(t,$super,r){function a(){}var n,i=a=o(t,$super,"Identity",a);i.$$proto,[i].concat(r);e.defn(i,"$order",n=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"order"),t},n.$$arity=1,n.$$parameters=[["req","items"]])}(d[0],null,d),function(n,$super,$){function l(){}var u,p,d,f,h,m=l=o(n,$super,"Random",l),g=m.$$proto,v=[m].concat($);g.used=g.configuration=i,e.defn(m,"$initialize",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.configuration=t,r.used=!1},u.$$arity=1,u.$$parameters=[["req","configuration"]]),e.defn(m,"$used?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"used?"),t.used},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$order",d=function(t){var r=this,a=i,n=arguments.length;return 1!==n&&e.ac(n,1,this,"order"),r.used=!0,a=e.const_get_relative(v,"RandomNumberGenerator").$new(r.configuration.$seed()),r.$shuffle(t,a)},d.$$arity=1,d.$$parameters=[["req","items"]]),s(t(e.const_get_relative(v,"RUBY_VERSION"),"1.9.3"))?e.defn(m,"$shuffle",f=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"shuffle"),t.$shuffle(c(["random"],{random:r}))},f.$$arity=2,f.$$parameters=[["req","list"],["req","rng"]]):e.defn(m,"$shuffle",h=function(t,n){var $,s=this,o=i,c=arguments.length;return 2!==c&&e.ac(c,2,this,"shuffle"),o=t.$dup(),_(o.$size(),"times",[],($=function(t){var s,c=($.$$s,i);if(null==t&&(t=i),$.$$is_lambda||$.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"shuffle")}return c=r(t,n.$rand(a(o.$size(),t))),t["$=="](c)?i:(s=[o["$[]"](c),o["$[]"](t)],o["$[]="](t,s[0]),o["$[]="](c,s[1]),s)},$.$$s=s,$.$$arity=1,$.$$parameters=[["req","i"]],$)),o},h.$$arity=2,h.$$parameters=[["req","list"],["req","rng"]])}(d[0],null,d),function(t,$super,r){function a(){}var n,$,s=a=o(t,$super,"Custom",a),c=s.$$proto;[s].concat(r);c.callable=i,e.defn(s,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.callable=t},n.$$arity=1,n.$$parameters=[["req","callable"]]),e.defn(s,"$order",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"order"),r.callable.$call(t)},$.$$arity=1,$.$$parameters=[["req","list"]])}(d[0],null,d),function(t,$super,r){function n(){}var $,s,l,u,p=n=o(t,$super,"Registry",n),d=p.$$proto,f=[p].concat(r);d.strategies=i,e.defn(p,"$initialize",$=function(t){var r=this,a=i,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),r.configuration=t,r.strategies=c([],{}),r.$register("random",e.const_get_relative(f,"Random").$new(t)),a=e.const_get_relative(f,"Identity").$new(),r.$register("defined",a),r.$register("global",a)},$.$$arity=1,$.$$parameters=[["req","configuration"]]),e.defn(p,"$fetch",s=function(t){var r=this,a=s.$$p,n=a||i;a&&(s.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"fetch"),_(r.strategies,"fetch",[t],n.$to_proc())},s.$$arity=1,s.$$parameters=[["req","name"],["block","fallback"]]),e.defn(p,"$register",l=function(t,r){var n=this,$=i,s=arguments.length;return 2!==s&&e.ac(s,2,this,"register"),$=[t,r],_(n.strategies,"[]=",e.to_a($)),$[a($.length,1)]},l.$$arity=2,l.$$parameters=[["req","sym"],["req","strategy"]]),e.defn(p,"$used_random_seed?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"used_random_seed?"),t.strategies["$[]"]("random")["$used?"]()},u.$$arity=0,u.$$parameters=[])}(d[0],null,d),function(t,$super,r){function n(){}var $,c,l,u,p,d,f=n=o(t,$super,"ConfigurationManager",n),h=f.$$proto,m=[f].concat(r);h.seed_forced=h.order_forced=i,f.$attr_reader("seed","ordering_registry"),e.defn(f,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.ordering_registry=e.const_get_relative(m,"Registry").$new(t),t.seed=t.$rand(65535),t.seed_forced=!1,t.order_forced=!1},$.$$arity=0,$.$$parameters=[]),e.defn(f,"$seed_used?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"seed_used?"),t.$ordering_registry()["$used_random_seed?"]()},c.$$arity=0,c.$$parameters=[]),e.defn(f,"$seed=",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"seed="),s(r.seed_forced)?i:(r.$register_ordering("global",r.$ordering_registry().$fetch("random")),r.seed=t.$to_i())},l.$$arity=1,l.$$parameters=[["req","seed"]]),e.defn(f,"$order=",u=function(t){var r,a,n=this,$=i,o=i,c=i,_=arguments.length;return 1!==_&&e.ac(_,1,this,"order="),a=t.$to_s().$split(":"),r=e.to_ary(a),$=null==r[0]?i:r[0],o=null==r[1]?i:r[1],s(o)&&(n.seed=o.$to_i()),c=function(){return s($["$include?"]("rand"))?"random":$["$=="]("defined")?"defined":i}(),s(c)?n.$register_ordering("global",n.$ordering_registry().$fetch(c)):i},u.$$arity=1,u.$$parameters=[["req","type"]]),e.defn(f,"$force",p=function(t){var r=this,n=i,$=arguments.length;return 1!==$&&e.ac($,1,this,"force"),s(t["$key?"]("seed"))?(n=[t["$[]"]("seed")],_(r,"seed=",e.to_a(n)),n[a(n.length,1)],r.seed_forced=!0,r.order_forced=!0):s(t["$key?"]("order"))?(n=[t["$[]"]("order")],_(r,"order=",e.to_a(n)),n[a(n.length,1)],r.order_forced=!0):i},p.$$arity=1,p.$$parameters=[["req","hash"]]),e.defn(f,"$register_ordering",d=function(t,r){var a,n,$=this,o=d.$$p,c=o||i;null==r&&(r=e.const_get_relative(m,"Custom").$new(_(e.const_get_relative(m,"Proc"),"new",[],(n=function(t){n.$$s;if(null==t&&(t=i),n.$$is_lambda||n.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"register_ordering")}return e.yield1(c,t)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","l"]],n)))),o&&(d.$$p=null);var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"register_ordering"),s(s(a=$.order_forced)?t["$=="]("global"):a)?i:$.$ordering_registry().$register(t,r)},d.$$arity=-2,d.$$parameters=[["req","name"],["opt","strategy"]])}(d[0],null,d)}(d[0],d)}(d[0],d)}(n[0],n)},Opal.modules["rspec/core/pending"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$attr_reader","$current_example","$raise","$gsub","$first_non_rspec_line","$mark_pending!","$mark_skipped!","$new","$[]=","$metadata","$-","$!","$===","$pending_message=","$execution_result","$pending_fixed="]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Core"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l,u,p,d,f=c=n(r,"Pending"),h=(f.$$proto,[f].concat(o));!function(t,$super,r){function a(){}var n,$=a=i(t,$super,"SkipDeclaredInExample",a);$.$$proto,[$].concat(r);$.$attr_reader("argument"),e.defn($,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.argument=t},n.$$arity=1,n.$$parameters=[["req","argument"]])}(h[0],e.const_get_relative(h,"StandardError"),h);try{!function(e,$super,t){function r(){}var a=r=i(e,$super,"PendingExampleFixedError",r);a.$$proto,[a].concat(t)}(h[0],e.const_get_qualified(e.const_get_qualified(e.const_get_relative(h,"Test"),"Unit"),"AssertionFailedError"),h)}catch(t){if(!e.rescue(t,[e.const_get_relative(h,"StandardError")]))throw t;try{!function(e,$super,t){function r(){}var a=r=i(e,$super,"PendingExampleFixedError",r);a.$$proto,[a].concat(t)}(h[0],e.const_get_relative(h,"StandardError"),h)}finally{e.pop_exception()}}e.const_set(h[0],"NO_REASON_GIVEN","No reason given"),e.const_set(h[0],"NOT_YET_IMPLEMENTED","Not yet implemented"),e.defn(f,"$pending",_=function(t){var r=this,n=_.$$p,i=n||a,s=a;null==t&&(t=a),n&&(_.$$p=null);var o=arguments.length;return o>1&&e.ac(o,-1,this,"pending"),s=e.const_get_relative(h,"RSpec").$current_example(),i!==a?r.$raise(e.const_get_relative(h,"ArgumentError"),("            |The semantics of `RSpec::Core::Pending#pending` have changed in\n            |RSpec 3.  In RSpec 2.x, it caused the example to be skipped. In\n            |RSpec 3, the rest of the example is still run but is expected to\n            |fail, and will be marked as a failure (rather than as pending) if\n            |the example passes.\n            |\n            |Passing a block within an example is now deprecated. Marking the\n            |example as pending provides the same behavior in RSpec 3 which was\n            |provided only by the block in RSpec 2.x.\n            |\n            |Move the code in the block provided to `pending` into the rest of\n            |the example body.\n            |\n            |Called from "+e.const_get_relative(h,"CallerFilter").$first_non_rspec_line()+".\n            |\n").$gsub(/^\s+\|/,"")):$(s)?e.const_get_relative(h,"Pending")["$mark_pending!"](s,t):r.$raise("`pending` may not be used outside of examples, such as in before(:context). Maybe you want `skip`?")},_.$$arity=-1,_.$$parameters=[["opt","message"]]),e.defn(f,"$skip",l=function(t){var r=this,n=a;null==t&&(t=a);var i=arguments.length;return i>1&&e.ac(i,-1,this,"skip"),n=e.const_get_relative(h,"RSpec").$current_example(),$(n)&&e.const_get_relative(h,"Pending")["$mark_skipped!"](n,t),r.$raise(e.const_get_relative(h,"SkipDeclaredInExample").$new(t))},l.$$arity=-1,l.$$parameters=[["opt","message"]]),e.defs(f,"$mark_skipped!",u=function(r,n){var i=a,$=arguments.length;return 2!==$&&e.ac($,2,this,"mark_skipped!"),e.const_get_relative(h,"Pending")["$mark_pending!"](r,n),i=["skip",!0],s(r.$metadata(),"[]=",e.to_a(i)),i[t(i.length,1)]},u.$$arity=2,u.$$parameters=[["req","example"],["req","message_or_bool"]]),e.defs(f,"$mark_pending!",p=function(r,n){var i,o=a,c=a,_=arguments.length;return 2!==_&&e.ac(_,2,this,"mark_pending!"),o=function(){return $($(i=n["$!"]())?i:e.const_get_relative(h,"String")["$==="](n)["$!"]())?e.const_get_relative(h,"NO_REASON_GIVEN"):n}(),c=["pending",!0],s(r.$metadata(),"[]=",e.to_a(c)),c[t(c.length,1)],c=[o],s(r.$execution_result(),"pending_message=",e.to_a(c)),c[t(c.length,1)],c=[!1],s(r.$execution_result(),"pending_fixed=",e.to_a(c)),c[t(c.length,1)]},p.$$arity=2,p.$$parameters=[["req","example"],["req","message_or_bool"]]),e.defs(f,"$mark_fixed!",d=function(r){var n=a,i=arguments.length;return 1!==i&&e.ac(i,1,this,"mark_fixed!"),n=[!0],s(r.$execution_result(),"pending_fixed=",e.to_a(n)),n[t(n.length,1)]},d.$$arity=1,d.$$parameters=[["req","example"]])}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/core/reporter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.send,o=e.truthy;return e.add_stubs(["$new","$[]=","$-","$attr_reader","$each","$<<","$[]","$to_sym","$to_a","$start","$finish","$to_f","$start_time","$notify","$now","$empty?","$descendant_filtered_examples","$for","$from_hash","$stop","$mute_profile_output?","$profile_examples","$seed","$seed_used?","$registered_listeners","$__send__","$private","$!","$profile_examples?","$fail_fast?","$>","$size"]),function(a,c){var _,l=_=i(a,"Core"),u=(l.$$proto,[l].concat(c));!function(a,$super,i){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M=c=$(a,$super,"Reporter",c),O=M.$$proto,A=[M].concat(i);O.listeners=O.start=O.configuration=O.load_time=O.examples=O.failed_examples=O.pending_examples=O.duration=n,e.defn(M,"$initialize",_=function(r){var a,i=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"initialize"),i.configuration=r,i.listeners=s(e.const_get_relative(A,"Hash"),"new",[],(a=function(r,i){var $=(a.$$s,n);if(null==r&&(r=n),null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"initialize")}return $=[i,e.const_get_relative(A,"Set").$new()],s(r,"[]=",e.to_a($)),$[t($.length,1)]},a.$$s=i,a.$$arity=2,a.$$parameters=[["req","h"],["req","k"]],a)),i.examples=[],i.failed_examples=[],i.pending_examples=[],i.duration=i.start=i.load_time=n},_.$$arity=1,_.$$parameters=[["req","configuration"]]),M.$attr_reader("examples","failed_examples","pending_examples"),e.defn(M,"$register_listener",l=function(t){var r,a,i=this,$=arguments.length,o=$-1;o<0&&(o=0),a=new Array(o);for(var c=1;c<$;c++)a[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"register_listener"),s(a,"each",[],(r=function(a){var i=r.$$s||this;if(null==i.listeners&&(i.listeners=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"register_listener")}return i.listeners["$[]"](a.$to_sym())["$<<"](t)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","notification"]],r)),!0},l.$$arity=-2,l.$$parameters=[["req","listener"],["rest","notifications"]]),e.defn(M,"$registered_listeners",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"registered_listeners"),r.listeners["$[]"](t).$to_a()},u.$$arity=1,u.$$parameters=[["req","notification"]]),e.defn(M,"$report",p=function(t){var r=this,a=p.$$p,i=a||n;a&&(p.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"report"),r.$start(t),function(){try{return e.yield1(i,r)}finally{r.$finish()}}()},p.$$arity=1,p.$$parameters=[["req","expected_example_count"]]),e.defn(M,"$start",d=function(r,a){var n=this;null==a&&(a=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Core"),"Time").$now());var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"start"),n.start=a,n.load_time=t(n.start,n.configuration.$start_time()).$to_f(),n.$notify("start",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"StartNotification").$new(r,n.load_time))},d.$$arity=-2,d.$$parameters=[["req","expected_example_count"],["opt","time"]]),e.defn(M,"$message",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"message"),r.$notify("message",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"MessageNotification").$new(t))},f.$$arity=1,f.$$parameters=[["req","message"]]),e.defn(M,"$example_group_started",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_started"),o(t.$descendant_filtered_examples()["$empty?"]())?n:r.$notify("example_group_started",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"GroupNotification").$new(t))},h.$$arity=1,h.$$parameters=[["req","group"]]),e.defn(M,"$example_group_finished",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_group_finished"),o(t.$descendant_filtered_examples()["$empty?"]())?n:r.$notify("example_group_finished",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"GroupNotification").$new(t))},m.$$arity=1,m.$$parameters=[["req","group"]]),e.defn(M,"$example_started",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_started"),r.examples["$<<"](t),r.$notify("example_started",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExampleNotification").$for(t))},g.$$arity=1,g.$$parameters=[["req","example"]]),e.defn(M,"$example_passed",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_passed"),r.$notify("example_passed",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExampleNotification").$for(t))},v.$$arity=1,v.$$parameters=[["req","example"]]),e.defn(M,"$example_failed",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_failed"),r.failed_examples["$<<"](t),r.$notify("example_failed",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExampleNotification").$for(t))},y.$$arity=1,y.$$parameters=[["req","example"]]),e.defn(M,"$example_pending",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"example_pending"),r.pending_examples["$<<"](t),r.$notify("example_pending",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExampleNotification").$for(t))},b.$$arity=1,b.$$parameters=[["req","example"]]),e.defn(M,"$deprecation",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"deprecation"),r.$notify("deprecation",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"DeprecationNotification").$from_hash(t))},x.$$arity=1,x.$$parameters=[["req","hash"]]),e.defn(M,"$finish",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"finish"),function(){try{return t.$stop(),t.$notify("start_dump",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"NullNotification")),t.$notify("dump_pending",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExamplesNotification").$new(t)),t.$notify("dump_failures",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExamplesNotification").$new(t)),t.$notify("deprecation_summary",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"NullNotification")),t.$notify("dump_summary",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"SummaryNotification").$new(t.duration,t.examples,t.failed_examples,t.pending_examples,t.load_time)),o(t["$mute_profile_output?"]())||t.$notify("dump_profile",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ProfileNotification").$new(t.duration,t.examples,t.configuration.$profile_examples())),t.$notify("seed",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"SeedNotification").$new(t.configuration.$seed(),t["$seed_used?"]()))}finally{t.$notify("close",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"NullNotification"))}}()},k.$$arity=0,k.$$parameters=[]),e.defn(M,"$stop",q=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"stop"),o(r.start)&&(r.duration=t(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(A,"RSpec"),"Core"),"Time").$now(),r.start).$to_f()),r.$notify("stop",e.const_get_qualified(e.const_get_relative(A,"Notifications"),"ExamplesNotification").$new(r))},q.$$arity=0,q.$$parameters=[]),e.defn(M,"$notify",w=function(t,r){var a,i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"notify"),s(i.$registered_listeners(t),"each",[],(a=function(i){a.$$s;if(null==i&&(i=n),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"notify")}return i.$__send__(t,r)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","formatter"]],a))},w.$$arity=2,w.$$parameters=[["req","event"],["req","notification"]]),M.$private(),e.defn(M,"$mute_profile_output?",E=function(){var t,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"mute_profile_output?"),o(t=n.configuration["$profile_examples?"]()["$!"]())?t:o(a=n.configuration["$fail_fast?"]())?r(n.failed_examples.$size(),0):a},E.$$arity=0,E.$$parameters=[]),e.defn(M,"$seed_used?",S=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"seed_used?"),o(t=r.configuration.$seed())?r.configuration["$seed_used?"]():t},S.$$arity=0,S.$$parameters=[])}(u[0],null,u)}(e.const_get_relative(a,"RSpec"),a)},Opal.modules["rspec/core/ruby_project"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy,s=e.gvars;return e.add_stubs(["$require","$map","$add_dir_to_load_path","$join","$root","$include?","$unshift","$determine_root","$find_first_parent_containing","$ascend_until","$exist?","$ascend","$Pathname","$expand_path","$module_function"]),t.$require("pathname"),function(t,r){var o,c=o=n(t,"RSpec"),_=(c.$$proto,[c].concat(r));!function(t,r){var o,c=o=n(t,"Core"),_=(c.$$proto,[c].concat(r));!function(t,r){
var o,c,_,l,u,p,d,f=o=n(t,"RubyProject"),h=(f.$$proto,[f].concat(r));e.defn(f,"$add_to_load_path",c=function(){var t,r,n=this,$=arguments.length,s=$-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i(r,"map",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_to_load_path")}return n.$add_dir_to_load_path(e.const_get_relative(h,"File").$join(n.$root(),r))},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","dir"]],t))},c.$$arity=-1,c.$$parameters=[["rest","dirs"]]),e.defn(f,"$add_dir_to_load_path",_=function(t){null==s.LOAD_PATH&&(s.LOAD_PATH=a);var r=arguments.length;return 1!==r&&e.ac(r,1,this,"add_dir_to_load_path"),$(s.LOAD_PATH["$include?"](t))?a:s.LOAD_PATH.$unshift(t)},_.$$arity=1,_.$$parameters=[["req","dir"]]),e.defn(f,"$root",l=function(){var t,r=this;null==r.project_root&&(r.project_root=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"root"),r.project_root=$(t=r.project_root)?t:r.$determine_root()},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$determine_root",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"determine_root"),$(t=r.$find_first_parent_containing("spec"))?t:"."},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$find_first_parent_containing",p=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"find_first_parent_containing"),i(n,"ascend_until",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"find_first_parent_containing")}return e.const_get_relative(h,"File")["$exist?"](e.const_get_relative(h,"File").$join(n,t))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","path"]],r))},p.$$arity=1,p.$$parameters=[["req","dir"]]),e.defn(f,"$ascend_until",d=function(){try{var t,r=this,n=d.$$p,s=n||a;n&&(d.$$p=null);var o=arguments.length;return 0!==o&&e.ac(o,0,this,"ascend_until"),i(r.$Pathname(e.const_get_relative(h,"File").$expand_path(".")),"ascend",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"ascend_until")}if(!$(e.yield1(s,r)))return a;e.ret(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","path"]],t))}catch(t){if(t===e.returner)return t.$v;throw t}},d.$$arity=0,d.$$parameters=[]),f.$module_function("add_to_load_path"),f.$module_function("add_dir_to_load_path"),f.$module_function("root"),f.$module_function("determine_root"),f.$module_function("find_first_parent_containing"),f.$module_function("ascend_until")}(_[0],_)}(_[0],_)}(r[0],r)},Opal.modules["drb/drb"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["rspec/core/drb"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send;return e.add_stubs(["$require","$configuration","$[]","$options","$start_service","$new_with_uri","$drb_port","$run","$drb_argv","$configure_filter_manager","$filter_manager","$new","$<<","$add_failure_exit_code","$add_full_description","$add_filter","$inclusions","$exclusions","$add_formatters","$add_libs","$add_requires","$+","$to_s","$each","$delete","$source","$empty?","$each_pair","$include?","$==","$is_a?"]),r.$require("drb/drb"),function(r,a){var c,_=c=i(r,"RSpec"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"Core"),l=(_.$$proto,[_].concat(a));!function(t,$super,r){function a(){}var i,o,c,_,l=a=$(t,$super,"DRbRunner",a),u=l.$$proto,p=[l].concat(r);u.options=u.drb_argv=u.configuration=n,e.defn(l,"$initialize",i=function(t,r){var a=this;null==r&&(r=e.const_get_relative(p,"RSpec").$configuration());var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"initialize"),a.options=t,a.configuration=r},i.$$arity=-2,i.$$parameters=[["req","options"],["opt","configuration"]]),e.defn(l,"$drb_port",o=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"drb_port"),s(t=s(r=a.options.$options()["$[]"]("drb_port"))?r:e.const_get_relative(p,"ENV")["$[]"]("RSPEC_DRB"))?t:8989},o.$$arity=0,o.$$parameters=[]),e.defn(l,"$run",c=function(t,r){var a=this,i=n,$=arguments.length;2!==$&&e.ac($,2,this,"run");try{e.const_get_relative(p,"DRb").$start_service("druby://localhost:0")}catch(t){if(!e.rescue(t,[e.const_get_relative(p,"SocketError"),e.const_get_qualified(e.const_get_relative(p,"Errno"),"EADDRNOTAVAIL")]))throw t;try{e.const_get_relative(p,"DRb").$start_service("druby://:0")}finally{e.pop_exception()}}return i=e.const_get_relative(p,"DRbObject").$new_with_uri("druby://127.0.0.1:"+a.$drb_port()),i.$run(a.$drb_argv(),t,r)},c.$$arity=2,c.$$parameters=[["req","err"],["req","out"]]),e.defn(l,"$drb_argv",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"drb_argv"),r.drb_argv=s(t=r.drb_argv)?t:(r.options.$configure_filter_manager(r.configuration.$filter_manager()),e.const_get_relative(p,"DRbOptions").$new(r.options.$options(),r.configuration.$filter_manager()).$options())},_.$$arity=0,_.$$parameters=[])}(l[0],null,l),function(r,$super,a){function i(){}var c,_,l,u,p,d,f,h,m=i=$(r,$super,"DRbOptions",i),g=m.$$proto,v=[m].concat(a);g.submitted_options=g.filter_manager=n,e.defn(m,"$initialize",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.submitted_options=t,a.filter_manager=r},c.$$arity=2,c.$$parameters=[["req","submitted_options"],["req","filter_manager"]]),e.defn(m,"$options",_=function(){var r=this,a=n,i=arguments.length;return 0!==i&&e.ac(i,0,this,"options"),a=[],s(r.submitted_options["$[]"]("color"))&&a["$<<"]("--color"),s(r.submitted_options["$[]"]("profile_examples"))&&a["$<<"]("--profile"),s(r.submitted_options["$[]"]("full_backtrace"))&&a["$<<"]("--backtrace"),s(r.submitted_options["$[]"]("tty"))&&a["$<<"]("--tty"),s(r.submitted_options["$[]"]("fail_fast"))&&a["$<<"]("--fail-fast"),s(r.submitted_options["$[]"]("custom_options_file"))&&a["$<<"]("--options")["$<<"](r.submitted_options["$[]"]("custom_options_file")),s(r.submitted_options["$[]"]("order"))&&a["$<<"]("--order")["$<<"](r.submitted_options["$[]"]("order")),r.$add_failure_exit_code(a),r.$add_full_description(a),r.$add_filter(a,"inclusion",r.filter_manager.$inclusions()),r.$add_filter(a,"exclusion",r.filter_manager.$exclusions()),r.$add_formatters(a),r.$add_libs(a),r.$add_requires(a),t(a,r.submitted_options["$[]"]("files_or_directories_to_run"))},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$add_failure_exit_code",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"add_failure_exit_code"),s(r.submitted_options["$[]"]("failure_exit_code"))?t["$<<"]("--failure-exit-code")["$<<"](r.submitted_options["$[]"]("failure_exit_code").$to_s()):n},l.$$arity=1,l.$$parameters=[["req","argv"]]),e.defn(m,"$add_full_description",u=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add_full_description"),s(a.submitted_options["$[]"]("full_description"))?o(a.submitted_options["$[]"]("full_description"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_full_description")}return t["$<<"]("--example")["$<<"](a.$source().$delete("\\"))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","description"]],r)):n},u.$$arity=1,u.$$parameters=[["req","argv"]]),e.const_set(v[0],"CONDITIONAL_FILTERS",["if","unless"]),e.defn(m,"$add_filter",p=function(t,r,a){var i,$=this,c=arguments.length;return 3!==c&&e.ac(c,3,this,"add_filter"),s(a["$empty?"]())?n:o(a,"each_pair",[],(i=function(a,$){var o=(i.$$s,n);if(null==a&&(a=n),null==$&&($=n),i.$$is_lambda||i.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"add_filter")}return s(e.const_get_relative(v,"CONDITIONAL_FILTERS")["$include?"](a))?n:(o=function(){return r["$=="]("inclusion")?a.$to_s():"~"+a}(),s($["$is_a?"](e.const_get_relative(v,"String")))&&o["$<<"](":"+$),t["$<<"]("--tag")["$<<"](o))},i.$$s=$,i.$$arity=2,i.$$parameters=[["req","k"],["req","v"]],i))},p.$$arity=3,p.$$parameters=[["req","argv"],["req","name"],["req","hash"]]),e.defn(m,"$add_formatters",d=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add_formatters"),s(a.submitted_options["$[]"]("formatters"))?o(a.submitted_options["$[]"]("formatters"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_formatters")}return t["$<<"]("--format")["$<<"](a["$[]"](0)),s(a["$[]"](1))?t["$<<"]("--out")["$<<"](a["$[]"](1)):n},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","pair"]],r)):n},d.$$arity=1,d.$$parameters=[["req","argv"]]),e.defn(m,"$add_libs",f=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add_libs"),s(a.submitted_options["$[]"]("libs"))?o(a.submitted_options["$[]"]("libs"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_libs")}return t["$<<"]("-I")["$<<"](a)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","path"]],r)):n},f.$$arity=1,f.$$parameters=[["req","argv"]]),e.defn(m,"$add_requires",h=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"add_requires"),s(a.submitted_options["$[]"]("requires"))?o(a.submitted_options["$[]"]("requires"),"each",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"add_requires")}return t["$<<"]("--require")["$<<"](a)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","path"]],r)):n},h.$$arity=1,h.$$parameters=[["req","argv"]])}(l[0],null,l)}(l[0],l)}(a[0],a)},Opal.modules.socket=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.uri=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["rspec/core/runner"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send,o=e.gvars;return e.add_stubs(["$autorun_disabled?","$deprecate","$installed_at_exit?","$running_in_drb?","$at_exit","$nil?","$is_a?","$invoke","$disable_autorun!","$to_i","$run","$!=","$exit","$trap_interrupt","$new","$[]","$options","$require","$puts","$configuration","$world","$setup","$run_specs","$ordered_example_groups","$error_stream=","$-","$==","$output_stream","$output_stream=","$configure","$load_spec_files","$announce_filters","$report","$reporter","$example_count","$hooks","$all?","$map","$failure_exit_code","$current_server","$getaddress","$gethostname","$any?","$host","$URI","$uri","$trap","$wants_to_quit","$exit!","$wants_to_quit="]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x=c=i(r,$super,"Runner",c),k=x.$$proto,q=[x].concat(n);k.world=k.configuration=k.options=a,e.defs(x,"$autorun",_=function(){var t,r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"autorun"),$(n["$autorun_disabled?"]())?(e.const_get_relative(q,"RSpec").$deprecate("Requiring `rspec/autorun` when running RSpec via the `rspec` command"),a):$($(t=n["$installed_at_exit?"]())?t:n["$running_in_drb?"]())?a:(s(n,"at_exit",[],(r=function(){var t,n=r.$$s||this;if(null==o["!"]&&(o["!"]=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"autorun")}return $($(t=o["!"]["$nil?"]())?t:o["!"]["$is_a?"](e.const_get_relative(q,"SystemExit")))?n.$invoke():a},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)),n.installed_at_exit=!0)},_.$$arity=0,_.$$parameters=[]),e.defs(x,"$invoke",l=function(){var t=this,r=a;null==o.stderr&&(o.stderr=a),null==o.stdout&&(o.stdout=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"invoke"),t["$disable_autorun!"](),r=t.$run(e.const_get_relative(q,"ARGV"),o.stderr,o.stdout).$to_i(),$(r["$!="](0))?t.$exit(r):a},l.$$arity=0,l.$$parameters=[]),e.defs(x,"$run",u=function(t,r,n){var i=this,s=a;null==o.stderr&&(o.stderr=a),null==o.stdout&&(o.stdout=a),null==r&&(r=o.stderr),null==n&&(n=o.stdout);var c=arguments.length;if((c<1||c>3)&&e.ac(c,-2,this,"run"),i.$trap_interrupt(),s=e.const_get_relative(q,"ConfigurationOptions").$new(t),!$(s.$options()["$[]"]("drb")))return i.$new(s).$run(r,n);i.$require("rspec/core/drb");try{return e.const_get_relative(q,"DRbRunner").$new(s).$run(r,n)}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_relative(q,"DRb"),"DRbConnError")]))throw t;try{return r.$puts("No DRb server is running. Running in local process instead ..."),i.$new(s).$run(r,n)}finally{e.pop_exception()}}},u.$$arity=-2,u.$$parameters=[["req","args"],["opt","err"],["opt","out"]]),e.defn(x,"$initialize",p=function(t,r,a){var n=this;null==r&&(r=e.const_get_relative(q,"RSpec").$configuration()),null==a&&(a=e.const_get_relative(q,"RSpec").$world());var i=arguments.length;return(i<1||i>3)&&e.ac(i,-2,this,"initialize"),n.options=t,n.configuration=r,n.world=a},p.$$arity=-2,p.$$parameters=[["req","options"],["opt","configuration"],["opt","world"]]),e.defn(x,"$run",d=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"run"),a.$setup(t,r),a.$run_specs(a.world.$ordered_example_groups())},d.$$arity=2,d.$$parameters=[["req","err"],["req","out"]]),e.defn(x,"$setup",f=function(r,n){var i=this,$=a;null==o.stdout&&(o.stdout=a);var c=arguments.length;return 2!==c&&e.ac(c,2,this,"setup"),$=[r],s(i.configuration,"error_stream=",e.to_a($)),$[t($.length,1)],i.configuration.$output_stream()["$=="](o.stdout)&&($=[n],s(i.configuration,"output_stream=",e.to_a($)),$[t($.length,1)]),i.options.$configure(i.configuration),i.configuration.$load_spec_files(),i.world.$announce_filters()},f.$$arity=2,f.$$parameters=[["req","err"],["req","out"]]),e.defn(x,"$run_specs",h=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"run_specs"),s(n.configuration.$reporter(),"report",[n.world.$example_count(t)],(r=function(n){var i,o=r.$$s||this,c=a;if(null==o.configuration&&(o.configuration=a),null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"run_specs")}return function(){try{return c=e.const_get_relative(q,"SuiteHookContext").$new(),o.configuration.$hooks().$run("before","suite",c),$(s(t,"map",[],(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"run_specs")}return t.$run(n)},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","g"]],i))["$all?"]())?0:o.configuration.$failure_exit_code()}finally{o.configuration.$hooks().$run("after","suite",c)}}()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","reporter"]],r))},h.$$arity=1,h.$$parameters=[["req","example_groups"]]),e.defs(x,"$disable_autorun!",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"disable_autorun!"),t.autorun_disabled=!0},m.$$arity=0,m.$$parameters=[]),e.defs(x,"$autorun_disabled?",g=function(){var t,r=this;null==r.autorun_disabled&&(r.autorun_disabled=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"autorun_disabled?"),r.autorun_disabled=!!$(t=r.autorun_disabled)&&t},g.$$arity=0,g.$$parameters=[]),e.defs(x,"$installed_at_exit?",v=function(){var t,r=this;null==r.installed_at_exit&&(r.installed_at_exit=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"installed_at_exit?"),r.installed_at_exit=!!$(t=r.installed_at_exit)&&t},v.$$arity=0,v.$$parameters=[]),e.defs(x,"$running_in_drb?",y=function(){try{var t,r,n,i=this,o=a,c=a,_=arguments.length;return 0!==_&&e.ac(_,0,this,"running_in_drb?"),function(){try{try{return $($(t=(r=e.const_get_relative(q,"DRb","skip_raise"))?"constant":a)?e.const_get_relative(q,"DRb").$current_server():t)?(i.$require("socket"),i.$require("uri"),o=e.const_get_relative(q,"IPSocket").$getaddress(e.const_get_relative(q,"Socket").$gethostname()),c=s(["127.0.0.1","localhost",o],"any?",[],(n=function(t){var r=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"running_in_drb?")}return t["$=="](r.$URI(e.const_get_relative(q,"DRb").$current_server().$uri()).$host())},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","addr"]],n))):a}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_relative(q,"DRb"),"DRbServerNotFound")]))throw t;try{return a}finally{e.pop_exception()}}}finally{e.ret(!!$(t=c)&&t)}}()}catch(t){if(t===e.returner)return t.$v;throw t}},y.$$arity=0,y.$$parameters=[]),e.defs(x,"$trap_interrupt",b=function(){var r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"trap_interrupt"),s(n,"trap",["INT"],(r=function(){var n=r.$$s||this,i=a;if(r.$$is_lambda||r.$$define_meth){var o=arguments.length;0!==o&&e.block_ac(o,0,"trap_interrupt")}return $(e.const_get_relative(q,"RSpec").$world().$wants_to_quit())&&n["$exit!"](1),i=[!0],s(e.const_get_relative(q,"RSpec").$world(),"wants_to_quit=",e.to_a(i)),i[t(i.length,1)],e.const_get_relative(q,"STDERR").$puts("\nExiting... Interrupt again to exit immediately.")},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},b.$$arity=0,b.$$parameters=[])}(u[0],null,u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/core/shared_example_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy,$=e.send,s=e.klass,o=e.hash2;return e.add_stubs(["$==","$[]","$thread_local_metadata","$raise","$add","$shared_example_group_registry","$world","$to_proc","$proc","$exposed_globally?","$change_global_dsl","$definitions","$ensure_block_has_source_location","$first_non_rspec_line","$valid_name?","$warn_if_key_taken","$[]=","$shared_example_groups","$-","$unshift","$empty?","$new","$__send__","$class_exec","$include","$configuration","$each","$private","$===","$warn_with","$gsub","$formatted_location","$join","$source_location","$method_defined?","$split","$extend","$define_method","$instance_exec"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Core"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l,u=_=n(r,"SharedExampleGroup"),p=(u.$$proto,[u].concat(c));e.defn(u,"$shared_examples",l=function(t){var r,n,s=this,o=l.$$p,c=o||a,_=a,u=arguments.length,d=u-1;d<0&&(d=0),n=new Array(d);for(var f=1;f<u;f++)n[f-1]=arguments[f];o&&(l.$$p=null);var h=arguments.length;return h<1&&e.ac(h,-2,this,"shared_examples"),_=s["$=="](e.const_get_relative(p,"ExampleGroup")),i(i(r=_)?e.const_get_relative(p,"RSpec").$thread_local_metadata()["$[]"]("in_example_group"):r)&&s.$raise("Creating isolated shared examples from within a context is not allowed. Remove `RSpec.` prefix or move this to a top-level scope."),$(e.const_get_relative(p,"RSpec").$world().$shared_example_group_registry(),"add",[s,t].concat(e.to_a(n)),c.$to_proc())},l.$$arity=-2,l.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.alias(u,"shared_context","shared_examples"),e.alias(u,"shared_examples_for","shared_examples"),function(t,r){var s,o,c,_,l,u=s=n(t,"TopLevelDSL"),p=(u.$$proto,[u].concat(r));e.defs(u,"$definitions",o=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"definitions"),$(r,"proc",[],(t=function(){var r,n=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"definitions")}return e.def(n,"$shared_examples",r=function(t){var n,i=r.$$p,s=i||a,o=arguments.length,c=o-1;c<0&&(c=0),n=new Array(c);for(var _=1;_<o;_++)n[_-1]=arguments[_];i&&(r.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"shared_examples"),$(e.const_get_relative(p,"RSpec").$world().$shared_example_group_registry(),"add",["main",t].concat(e.to_a(n)),s.$to_proc())},r.$$arity=-2,r.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.alias(n,"shared_context","shared_examples"),e.alias(n,"shared_examples_for","shared_examples")},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},o.$$arity=0,o.$$parameters=[]),e.defs(u,"$exposed_globally?",c=function(){var t,r=this;null==r.exposed_globally&&(r.exposed_globally=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"exposed_globally?"),r.exposed_globally=!!i(t=r.exposed_globally)&&t},c.$$arity=0,c.$$parameters=[]),e.defs(u,"$expose_globally!",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expose_globally!"),i(t["$exposed_globally?"]())?a:($(e.const_get_qualified(e.const_get_relative(p,"Core"),"DSL"),"change_global_dsl",[],t.$definitions().$to_proc()),t.exposed_globally=!0)},_.$$arity=0,_.$$parameters=[]),e.defs(u,"$remove_globally!",l=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"remove_globally!"),i(r["$exposed_globally?"]())?($(e.const_get_qualified(e.const_get_relative(p,"Core"),"DSL"),"change_global_dsl",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"remove_globally!")}return e.udef(r,"$shared_examples"),e.udef(r,"$shared_context"),e.udef(r,"$shared_examples_for"),a},t.$$s=r,t.$$arity=0,t.$$parameters=[],t)),r.exposed_globally=!1):a},l.$$arity=0,l.$$parameters=[])}(p[0],p),function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g=c=s(r,$super,"Registry",c),v=g.$$proto,y=[g].concat(n);v.shared_example_groups=a,e.defn(g,"$add",_=function(r,n){var s,o,c,l=this,u=_.$$p,p=u||a,d=a,f=a,h=arguments.length,m=h-2;m<0&&(m=0),c=new Array(m);for(var g=2;g<h;g++)c[g-2]=arguments[g];u&&(_.$$p=null);var v=arguments.length;return v<2&&e.ac(v,-3,this,"add"),$(l,"ensure_block_has_source_location",[p],(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add")}return e.const_get_relative(y,"CallerFilter").$first_non_rspec_line()},s.$$s=l,s.$$arity=0,s.$$parameters=[],s)),i(l["$valid_name?"](n))?(l.$warn_if_key_taken(r,n,p),d=[n,p],$(l.$shared_example_groups()["$[]"](r),"[]=",e.to_a(d)),d[t(d.length,1)]):c.$unshift(n),i(c["$empty?"]())?a:(f=e.const_get_relative(y,"Module").$new(),$(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(f),y),"__send__",["define_method","included"],(o=function(t){o.$$s;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"add")}return $(t,"class_exec",[],p.$to_proc())},o.$$s=l,o.$$arity=1,o.$$parameters=[["req","host"]],o)),$(e.const_get_relative(y,"RSpec").$configuration(),"include",[f].concat(e.to_a(c))))},_.$$arity=-3,_.$$parameters=[["req","context"],["req","name"],["rest","metadata_args"],["block","block"]]),e.defn(g,"$find",l=function(t,r){try{var n,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"find"),$(t,"each",[],(n=function(t){var $=n.$$s||this,s=a;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"find")}if(s=$.$shared_example_groups()["$[]"](t)["$[]"](r),!i(s))return a;e.ret(s)},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","context"]],n)),s.$shared_example_groups()["$[]"]("main")["$[]"](r)}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=2,l.$$parameters=[["req","lookup_contexts"],["req","name"]]),g.$private(),e.defn(g,"$shared_example_groups",u=function(){var r,n,s=this,c=arguments.length;return 0!==c&&e.ac(c,0,this,"shared_example_groups"),s.shared_example_groups=i(r=s.shared_example_groups)?r:$(e.const_get_relative(y,"Hash"),"new",[],(n=function(r,i){var s=(n.$$s,a);if(null==r&&(r=a),null==i&&(i=a),n.$$is_lambda||n.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"shared_example_groups")}return s=[i,o([],{})],$(r,"[]=",e.to_a(s)),s[t(s.length,1)]},n.$$s=s,n.$$arity=2,n.$$parameters=[["req","hash"],["req","context"]],n))},u.$$arity=0,u.$$parameters=[]),e.defn(g,"$valid_name?",p=function(t){var r=a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"valid_name?"),function(){return r=t,!!(e.const_get_relative(y,"String")["$==="](r)||e.const_get_relative(y,"Symbol")["$==="](r)||e.const_get_relative(y,"Module")["$==="](r))}()},p.$$arity=1,p.$$parameters=[["req","candidate"]]),e.defn(g,"$warn_if_key_taken",d=function(t,r,n){var $=this,s=a,c=arguments.length;return 3!==c&&e.ac(c,3,this,"warn_if_key_taken"),s=$.$shared_example_groups()["$[]"](t)["$[]"](r),i(s)?e.const_get_relative(y,"RSpec").$warn_with(("            |WARNING: Shared example group '"+r+"' has been previously defined at:\n            |  "+$.$formatted_location(s)+"\n            |...and you are now defining it at:\n            |  "+$.$formatted_location(n)+"\n            |The new definition will overwrite the original one.\n").$gsub(/^ +\|/,""),o(["call_site"],{call_site:a})):a},d.$$arity=3,d.$$parameters=[["req","context"],["req","key"],["req","new_block"]]),e.defn(g,"$formatted_location",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"formatted_location"),t.$source_location().$join(":")},f.$$arity=1,f.$$parameters=[["req","block"]]),i(e.const_get_relative(y,"Proc")["$method_defined?"]("source_location"))?e.defn(g,"$ensure_block_has_source_location",h=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"ensure_block_has_source_location"),a},h.$$arity=1,h.$$parameters=[["req","_block"]]):e.defn(g,"$ensure_block_has_source_location",m=function(t){var r,n=this,i=m.$$p,s=i||a,o=a;i&&(m.$$p=null);var c=arguments.length;return 1!==c&&e.ac(c,1,this,"ensure_block_has_source_location"),o=e.yieldX(s,[]).$split(":"),t.$extend($(e.const_get_relative(y,"Module"),"new",[],(r=function(){var t,a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"ensure_block_has_source_location")}return $(a,"define_method",["source_location"],(t=function(){t.$$s;if(t.$$is_lambda||t.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"ensure_block_has_source_location")}return o},t.$$s=a,t.$$arity=0,t.$$parameters=[],t))},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)))},m.$$arity=1,m.$$parameters=[["req","block"]])}(p[0],null,p)}(u[0],u)}(u[0],u),$(l,"instance_exec",[],e.const_get_qualified(e.const_get_qualified(e.const_get_relative(u,"Core"),"SharedExampleGroup"),"TopLevelDSL").$definitions().$to_proc())}(r[0],r)},Opal.modules["rspec/core/version"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Core"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Version"),$=(i.$$proto,[i].concat(a));e.const_set($[0],"STRING","3.1.7")}($[0],$)}($[0],$)}(t[0],t)},Opal.modules["rspec/support/warnings"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.hash2,$=e.send,s=e.truthy;return e.add_stubs(["$require","$require_rspec_support","$warn_with","$fetch","$first_non_rspec_line","$[]","$<<","$warn","$extend"]),t.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_support("caller_filter"),function(t,r){var o,c=o=n(t,"RSpec"),_=(c.$$proto,[c].concat(r));!function(t,r){var o,c=o=n(t,"Support"),_=(c.$$proto,[c].concat(r));!function(t,r){var o,c,_,l,u,p=o=n(t,"Warnings"),d=(p.$$proto,[p].concat(r));e.defn(p,"$deprecate",c=function(t,r){var a=this;null==r&&(r=i([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"deprecate"),a.$warn_with("DEPRECATION: "+t+" is deprecated.",r)},c.$$arity=-2,c.$$parameters=[["req","deprecated"],["opt","options"]]),e.defn(p,"$warn_deprecation",_=function(t,r){var a=this;null==r&&(r=i([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"warn_deprecation"),a.$warn_with("DEPRECATION: \n "+t,r)},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","options"]]),e.defn(p,"$warning",l=function(t,r){var a=this;null==r&&(r=i([],{}));var n=arguments.length;return(n<1||n>2)&&e.ac(n,-2,this,"warning"),a.$warn_with("WARNING: "+t+".",r)},l.$$arity=-2,l.$$parameters=[["req","text"],["opt","options"]]),e.defn(p,"$warn_with",u=function(t,r){var n,o=this,c=a;null==r&&(r=i([],{}));var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"warn_with"),c=$(r,"fetch",["call_site"],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"warn_with")}return e.const_get_relative(d,"CallerFilter").$first_non_rspec_line()},n.$$s=o,n.$$arity=0,n.$$parameters=[],n)),s(r["$[]"]("replacement"))&&t["$<<"](" Use "+r["$[]"]("replacement")+" instead."),s(c)&&t["$<<"](" Called from "+c+"."),e.const_get_qualified("::","Kernel").$warn(t)},u.$$arity=-2,u.$$parameters=[["req","message"],["opt","options"]])}(_[0],_)}(_[0],_),c.$extend(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(_,"RSpec"),"Support"),"Warnings"))}(r[0],r)},Opal.modules["rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=(e.nil,e.breaker,e.slice,e.module),i=e.hash2,$=e.truthy,s=e.send;return e.add_stubs(["$require","$deprecation","$reporter","$configuration","$merge","$first_non_rspec_line","$[]","$end_with?","$+","$current_example","$location"]),r.$require("rspec/support/warnings"),function(r,a){var o,c=o=n(r,"RSpec"),_=(c.$$proto,[c].concat(a));!function(r,a){var o,c=o=n(r,"Core"),_=(c.$$proto,[c].concat(a));!function(r,a){var o,c,_,l,u=o=n(r,"Warnings"),p=(u.$$proto,[u].concat(a));e.defn(u,"$deprecate",c=function(t,r){null==r&&(r=i([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"deprecate"),e.const_get_relative(p,"RSpec").$configuration().$reporter().$deprecation(i(["deprecated","call_site"],{deprecated:t,call_site:e.const_get_relative(p,"CallerFilter").$first_non_rspec_line()}).$merge(r))},c.$$arity=-2,c.$$parameters=[["req","deprecated"],["opt","data"]]),e.defn(u,"$warn_deprecation",_=function(t,r){null==r&&(r=i([],{}));var a=arguments.length;return(a<1||a>2)&&e.ac(a,-2,this,"warn_deprecation"),e.const_get_relative(p,"RSpec").$configuration().$reporter().$deprecation(r.$merge(i(["message"],{message:t})))},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","opts"]]),e.defn(u,"$warn_with",l=function(r,a){var n=this,o=l.$$p;null==a&&(a=i([],{})),o&&(l.$$p=null);var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"warn_with"),$(a["$[]"]("use_spec_location_as_call_site"))&&($(r["$end_with?"]("."))||(r=t(r,".")),$(e.const_get_relative(p,"RSpec").$current_example())&&(r=t(r," Warning generated from spec at `"+e.const_get_relative(p,"RSpec").$current_example().$location()+"`."))),s(n,e.find_super_dispatcher(n,"warn_with",l,!1),[r,a],null)},l.$$arity=-2,l.$$parameters=[["req","message"],["opt","options"]])}(_[0],_)}(_[0],_)}(a[0],a)},Opal.modules["rspec/core/world"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,c=e.send,_=e.truthy;return e.add_stubs(["$require","$include","$attr_reader","$attr_accessor","$new","$dup","$examples","$prune","$filter_manager","$uniq!","$[]=","$-","$configuration","$clear","$example_groups","$=~","$[]","$fetch","$ordering_registry","$order","$<<","$inclusion_filter","$exclusion_filter","$configure_group","$inject","$flat_map","$descendants","$+","$size","$filtered_examples","$sort","$declaration_line_numbers","$<=","$reporter","$announce_inclusion_filter","$announce_exclusion_filter","$empty?","$==","$length","$message","$join","$run_all_when_everything_filtered?","$zero?","$example_count","$everything_filtered_message","$description","$private"]),n.$require("rbconfig"),function(n,i){var l,u=l=s(n,"RSpec"),p=(u.$$proto,[u].concat(i));!function(n,i){var l,u=l=s(n,"Core"),p=(u.$$proto,[u].concat(i));!function(n,$super,i){function s(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A=s=o(n,$super,"World",s),R=A.$$proto,z=[A].concat(i);R.configuration=R.example_groups=R.shared_example_group_registry=R.line_numbers=$,A.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(z,"RSpec"),"Core"),"Hooks")),A.$attr_reader("example_groups","filtered_examples"),A.$attr_accessor("wants_to_quit"),e.defn(A,"$initialize",l=function(r){var a,n=this;null==r&&(r=e.const_get_relative(z,"RSpec").$configuration());var i=arguments.length;return i>1&&e.ac(i,-1,this,"initialize"),n.configuration=r,n.example_groups=[],n.filtered_examples=c(e.const_get_relative(z,"Hash"),"new",[],(a=function(r,n){var i=a.$$s||this,s=$,o=$;if(null==r&&(r=$),null==n&&(n=$),a.$$is_lambda||a.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"initialize")}return s=[n,(o=n.$examples().$dup(),o=i.$filter_manager().$prune(o),o["$uniq!"](),o)],c(r,"[]=",e.to_a(s)),s[t(s.length,1)]},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","hash"],["req","group"]],a))},l.$$arity=-1,l.$$parameters=[["opt","configuration"]]),e.defn(A,"$clear_remaining_example_groups",u=function(){var t=this,r=arguments.length
;return 0!==r&&e.ac(r,0,this,"clear_remaining_example_groups"),t.$example_groups().$clear()},u.$$arity=0,u.$$parameters=[]),e.defn(A,"$windows_os?",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows_os?"),e.const_get_qualified(e.const_get_relative(z,"RbConfig"),"CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},p.$$arity=0,p.$$parameters=[]),e.defn(A,"$ordered_example_groups",d=function(){var t=this,r=$,a=arguments.length;return 0!==a&&e.ac(a,0,this,"ordered_example_groups"),r=t.configuration.$ordering_registry().$fetch("global"),r.$order(t.example_groups)},d.$$arity=0,d.$$parameters=[]),e.defn(A,"$reset",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.$example_groups().$clear(),t.shared_example_group_registry=$},f.$$arity=0,f.$$parameters=[]),e.defn(A,"$filter_manager",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"filter_manager"),t.configuration.$filter_manager()},h.$$arity=0,h.$$parameters=[]),e.defn(A,"$register",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register"),r.$example_groups()["$<<"](t),t},m.$$arity=1,m.$$parameters=[["req","example_group"]]),e.defn(A,"$shared_example_group_registry",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"shared_example_group_registry"),r.shared_example_group_registry=_(t=r.shared_example_group_registry)?t:e.const_get_qualified(e.const_get_relative(z,"SharedExampleGroup"),"Registry").$new()},g.$$arity=0,g.$$parameters=[]),e.defn(A,"$inclusion_filter",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusion_filter"),t.configuration.$inclusion_filter()},v.$$arity=0,v.$$parameters=[]),e.defn(A,"$exclusion_filter",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusion_filter"),t.configuration.$exclusion_filter()},y.$$arity=0,y.$$parameters=[]),e.defn(A,"$configure_group",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"configure_group"),r.configuration.$configure_group(t)},b.$$arity=1,b.$$parameters=[["req","group"]]),e.defn(A,"$example_count",x=function(t){var a,n,i=this;null==t&&(t=i.$example_groups());var s=arguments.length;return s>1&&e.ac(s,-1,this,"example_count"),c(c(e.const_get_relative(z,"FlatMap"),"flat_map",[t],(a=function(t){a.$$s;if(null==t&&(t=$),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"example_count")}return t.$descendants()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","g"]],a)),"inject",[0],(n=function(t,a){n.$$s;if(null==t&&(t=$),null==a&&(a=$),n.$$is_lambda||n.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"example_count")}return r(t,a.$filtered_examples().$size())},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","a"],["req","e"]],n))},x.$$arity=-1,x.$$parameters=[["opt","groups"]]),e.defn(A,"$preceding_declaration_line",k=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"preceding_declaration_line"),c(n.$declaration_line_numbers().$sort(),"inject",[$],(r=function(n,i){r.$$s;if(null==n&&(n=$),null==i&&(i=$),r.$$is_lambda||r.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"preceding_declaration_line")}return _(a(i,t))?i:n},r.$$s=n,r.$$arity=2,r.$$parameters=[["req","highest_prior_declaration_line"],["req","line"]],r))},k.$$arity=1,k.$$parameters=[["req","filter_line"]]),e.defn(A,"$reporter",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reporter"),t.configuration.$reporter()},q.$$arity=0,q.$$parameters=[]),e.defn(A,"$announce_filters",w=function(){var t,r=this,a=$,n=$,i=arguments.length;return 0!==i&&e.ac(i,0,this,"announce_filters"),a=[],r.$announce_inclusion_filter(a),r.$announce_exclusion_filter(a),_(r.$filter_manager()["$empty?"]())||(a.$length()["$=="](1)?r.$reporter().$message("Run options: "+a["$[]"](0)):r.$reporter().$message("Run options:\n  "+a.$join("\n  "))),_(_(t=r.configuration["$run_all_when_everything_filtered?"]())?r.$example_count()["$zero?"]():t)&&(r.$reporter().$message(r.$everything_filtered_message()+"; ignoring "+r.$inclusion_filter().$description()),r.$filtered_examples().$clear(),r.$inclusion_filter().$clear()),_(r.$example_count()["$zero?"]())?(r.$example_groups().$clear(),_(r.$filter_manager()["$empty?"]())?r.$reporter().$message("No examples found."):_(r.$exclusion_filter()["$empty?"]())?(n=r.$everything_filtered_message(),_(r.configuration["$run_all_when_everything_filtered?"]())&&n["$<<"]("; ignoring "+r.$inclusion_filter().$description()),r.$reporter().$message(n)):_(r.$inclusion_filter()["$empty?"]())?r.$reporter().$message(r.$everything_filtered_message()):$):$},w.$$arity=0,w.$$parameters=[]),e.defn(A,"$everything_filtered_message",E=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"everything_filtered_message"),"\nAll examples were filtered out"},E.$$arity=0,E.$$parameters=[]),e.defn(A,"$announce_inclusion_filter",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"announce_inclusion_filter"),_(r.$inclusion_filter()["$empty?"]())?$:t["$<<"]("include "+r.$inclusion_filter().$description())},S.$$arity=1,S.$$parameters=[["req","announcements"]]),e.defn(A,"$announce_exclusion_filter",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"announce_exclusion_filter"),_(r.$exclusion_filter()["$empty?"]())?$:t["$<<"]("exclude "+r.$exclusion_filter().$description())},M.$$arity=1,M.$$parameters=[["req","announcements"]]),A.$private(),e.defn(A,"$declaration_line_numbers",O=function(){var t,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"declaration_line_numbers"),n.line_numbers=_(t=n.line_numbers)?t:c(n.$example_groups(),"inject",[[]],(a=function(t,n){a.$$s;if(null==t&&(t=$),null==n&&(n=$),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"declaration_line_numbers")}return r(t,n.$declaration_line_numbers())},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","lines"],["req","g"]],a))},O.$$arity=0,O.$$parameters=[])}(p[0],null,p)}(p[0],p)}(i[0],i)},Opal.modules["rspec/expectations/configuration"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$require_rspec_expectations","$include?","$Array","$enable_expect","$disable_expect","$enable_should","$disable_should","$should_enabled?","$<<","$expect_enabled?","$respond_to?","$color_enabled?","$configuration","$attr_writer","$each","$backtrace_formatter","$syntax=","$-","$warn_about_should!","$new","$reset_syntaxes_to_default"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_expectations("syntax"),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l=c=n(r,"Expectations"),u=(l.$$proto,[l].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g=o=i(r,$super,"Configuration",o),v=g.$$proto,y=[g].concat(n);v.color=v.backtrace_formatter=v.include_chain_clauses_in_custom_matcher_descriptions=a,e.defn(g,"$syntax=",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"syntax="),$(r.$Array(t)["$include?"]("expect"))?e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax").$enable_expect():e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax").$disable_expect(),$(r.$Array(t)["$include?"]("should"))?e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax").$enable_should():e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax").$disable_should()},c.$$arity=1,c.$$parameters=[["req","values"]]),e.defn(g,"$syntax",_=function(){var t=a,r=arguments.length;return 0!==r&&e.ac(r,0,this,"syntax"),t=[],$(e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax")["$should_enabled?"]())&&t["$<<"]("should"),$(e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax")["$expect_enabled?"]())&&t["$<<"]("expect"),t},_.$$arity=0,_.$$parameters=[]),$(e.const_get_qualified("::","RSpec")["$respond_to?"]("configuration"))?e.defn(g,"$color?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"color?"),e.const_get_qualified("::","RSpec").$configuration()["$color_enabled?"]()},l.$$arity=0,l.$$parameters=[]):(g.$attr_writer("color"),e.defn(g,"$color?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"color?"),t.color},u.$$arity=0,u.$$parameters=[])),e.defn(g,"$add_should_and_should_not_to",p=function(){var t,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return s(r,"each",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"add_should_and_should_not_to")}return e.const_get_qualified(e.const_get_relative(y,"Expectations"),"Syntax").$enable_should(r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","mod"]],t))},p.$$arity=-1,p.$$parameters=[["rest","modules"]]),g.$attr_writer("backtrace_formatter"),e.defn(g,"$backtrace_formatter",d=function(){var t,r,n,i,s,o,c,_,l,u=this,p=arguments.length;return 0!==p&&e.ac(p,0,this,"backtrace_formatter"),u.backtrace_formatter=$(t=u.backtrace_formatter)?t:function(){return $((r=e.const_get_qualified("::","RSpec","skip_raise"))&&(n=r)&&(i=n)&&((s=i.$configuration)&&!s.$$stub||i["$respond_to_missing?"]("configuration"))&&(o=function(){try{return s()}catch(t){if(!e.rescue(t,[e.Exception]))throw t;try{return!1}finally{e.pop_exception()}}}())&&(c=o)&&(_=c)&&((l=_.$backtrace_formatter)&&!l.$$stub||_["$respond_to_missing?"]("backtrace_formatter"))?"method":a)?e.const_get_qualified("::","RSpec").$configuration().$backtrace_formatter():e.const_get_relative(y,"NullBacktraceFormatter")}()},d.$$arity=0,d.$$parameters=[]),g.$attr_writer("include_chain_clauses_in_custom_matcher_descriptions"),e.defn(g,"$include_chain_clauses_in_custom_matcher_descriptions?",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"include_chain_clauses_in_custom_matcher_descriptions?"),r.include_chain_clauses_in_custom_matcher_descriptions=!!$(t=r.include_chain_clauses_in_custom_matcher_descriptions)&&t},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$reset_syntaxes_to_default",h=function(){var r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"reset_syntaxes_to_default"),n=[["should","expect"]],s(r,"syntax=",e.to_a(n)),n[t(n.length,1)],e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Expectations"),"Syntax")["$warn_about_should!"]()},h.$$arity=0,h.$$parameters=[]),e.const_set(y[0],"NullBacktraceFormatter",s(e.const_get_relative(y,"Module"),"new",[],(m=function(){var t,r=m.$$s||this;if(m.$$is_lambda||m.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<class:Configuration>")}return e.defs(r,"$format_backtrace",t=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_backtrace"),t},t.$$arity=1,t.$$parameters=[["req","backtrace"]])},m.$$s=g,m.$$arity=0,m.$$parameters=[],m)))}(u[0],null,u),e.defs(l,"$configuration",_=function(){var t,r=this;null==r.configuration&&(r.configuration=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configuration"),r.configuration=$(t=r.configuration)?t:e.const_get_relative(u,"Configuration").$new()},_.$$arity=0,_.$$parameters=[]),l.$configuration().$reset_syntaxes_to_default()}(l[0],l)}(r[0],r)},Opal.modules["rspec/expectations/expectation_target"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$new","$equal?","$raise","$prevent_operator_matchers","$handle_matcher","$to_proc","$private","$enforce_block_expectation","$supports_block_expectations?","$description_of","$description","$inspect"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Expectations"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"ExpectationTarget",s),d=p.$$proto,f=[p].concat(a);d.target=r,e.const_set(f[0],"UndefinedValue",e.const_get_relative(f,"Module").$new()),e.defn(p,"$initialize",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.target=t},o.$$arity=1,o.$$parameters=[["req","value"]]),e.defs(p,"$for",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"for"),i(e.const_get_relative(f,"UndefinedValue")["$equal?"](t))?(i(r)||a.$raise(e.const_get_relative(f,"ArgumentError"),"You must pass either an argument or a block to `expect`."),e.const_get_relative(f,"BlockExpectationTarget").$new(r)):i(r)?a.$raise(e.const_get_relative(f,"ArgumentError"),"You cannot pass both an argument and a block to `expect`."):a.$new(t)},c.$$arity=2,c.$$parameters=[["req","value"],["req","block"]]),e.defn(p,"$to",_=function(t,a){var n=this,s=_.$$p,o=s||r;null==t&&(t=r),null==a&&(a=r),s&&(_.$$p=null);var c=arguments.length;return c>2&&e.ac(c,-1,this,"to"),i(t)||n.$prevent_operator_matchers("to"),$(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(f,"RSpec"),"Expectations"),"PositiveExpectationHandler"),"handle_matcher",[n.target,t,a],o.$to_proc())},_.$$arity=-1,_.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.defn(p,"$not_to",l=function(t,a){var n=this,s=l.$$p,o=s||r;null==t&&(t=r),null==a&&(a=r),s&&(l.$$p=null);var c=arguments.length;return c>2&&e.ac(c,-1,this,"not_to"),i(t)||n.$prevent_operator_matchers("not_to"),$(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(f,"RSpec"),"Expectations"),"NegativeExpectationHandler"),"handle_matcher",[n.target,t,a],o.$to_proc())},l.$$arity=-1,l.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.alias(p,"to_not","not_to"),p.$private(),e.defn(p,"$prevent_operator_matchers",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"prevent_operator_matchers"),r.$raise(e.const_get_relative(f,"ArgumentError"),"The expect syntax does not support operator matchers, so you must pass a matcher to `#"+t+"`.")},u.$$arity=1,u.$$parameters=[["req","verb"]])}(_[0],null,_),function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"BlockExpectationTarget",s),d=(p.$$proto,[p].concat(a));e.defn(p,"$to",o=function(t,a){var n=this,i=o.$$p,s=r,c=r,_=r;null==a&&(a=r),i&&(o.$$p=null);var l=arguments.length;for((l<1||l>2)&&e.ac(l,-2,this,"to"),c=0,_=arguments.length,s=new Array(_);c<_;c++)s[c]=arguments[c];return n.$enforce_block_expectation(t),$(n,e.find_super_dispatcher(n,"to",o,!1),s,i)},o.$$arity=-2,o.$$parameters=[["req","matcher"],["opt","message"],["block","block"]]),e.defn(p,"$not_to",c=function(t,a){var n=this,i=c.$$p,s=r,o=r,_=r;null==a&&(a=r),i&&(c.$$p=null);var l=arguments.length;for((l<1||l>2)&&e.ac(l,-2,this,"not_to"),o=0,_=arguments.length,s=new Array(_);o<_;o++)s[o]=arguments[o];return n.$enforce_block_expectation(t),$(n,e.find_super_dispatcher(n,"not_to",c,!1),s,i)},c.$$arity=-2,c.$$parameters=[["req","matcher"],["opt","message"],["block","block"]]),e.alias(p,"to_not","not_to"),p.$private(),e.defn(p,"$enforce_block_expectation",_=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"enforce_block_expectation"),i(a["$supports_block_expectations?"](t))?r:a.$raise(e.const_get_relative(d,"ExpectationNotMetError"),"You must pass an argument rather than a block to use the provided matcher ("+a.$description_of(t)+"), or the matcher must implement `supports_block_expectations?`.")},_.$$arity=1,_.$$parameters=[["req","matcher"]]),e.defn(p,"$supports_block_expectations?",l=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"supports_block_expectations?");try{return t["$supports_block_expectations?"]()}catch(t){if(!e.rescue(t,[e.const_get_relative(d,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","matcher"]]),e.defn(p,"$description_of",u=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"description_of");try{return t.$description()}catch(r){if(!e.rescue(r,[e.const_get_relative(d,"NoMethodError")]))throw r;try{return t.$inspect()}finally{e.pop_exception()}}},u.$$arity=1,u.$$parameters=[["req","matcher"]])}(_[0],e.const_get_relative(_,"ExpectationTarget"),_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/expectations/fail_with"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.hash2,i=e.send,$=e.truthy;return e.add_stubs(["$require_rspec_support","$new","$lambda","$surface_descriptions_in","$color?","$configuration","$raise","$diff","$differ","$empty?"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_support("differ"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Expectations"),_=(c.$$proto,[c].concat(s));!function(t,a){var s,o,c=(t.$$proto,[t].concat(a));e.defn(t,"$differ",s=function(){var t,a=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"differ"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(c,"RSpec"),"Support"),"Differ").$new(n(["object_preparer","color"],{object_preparer:i(a,"lambda",[],(t=function(a){t.$$s;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"differ")}return e.const_get_qualified(e.const_get_qualified(e.const_get_relative(c,"RSpec"),"Matchers"),"Composable").$surface_descriptions_in(a)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","object"]],t)),color:e.const_get_qualified(e.const_get_relative(c,"RSpec"),"Matchers").$configuration()["$color?"]()}))},s.$$arity=0,s.$$parameters=[]),e.defn(t,"$fail_with",o=function(t,a,n){var i=this,s=r;null==a&&(a=r),null==n&&(n=r);var o=arguments.length;return(o<1||o>3)&&e.ac(o,-2,this,"fail_with"),$(t)||i.$raise(e.const_get_relative(c,"ArgumentError"),"Failure message is nil. Does your matcher define the appropriate failure_message[_when_negated] method to return a string?"),s=i.$differ().$diff(n,a),$(s["$empty?"]())||(t=t+"\nDiff:"+s),i.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(c,"RSpec"),"Expectations"),"ExpectationNotMetError"),t)},o.$$arity=-2,o.$$parameters=[["req","message"],["opt","expected"],["opt","actual"]])}(e.get_singleton_class(c),_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/expectations/handler"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy,$=e.send,s=e.klass,o=e.hash2;return e.add_stubs(["$nil?","$respond_to?","$warn","$join","$inspect","$wrap","$check_message","$last_expectation_handler=","$-","$modern_matcher_from","$last_matcher=","$call","$__send__","$diffable?","$fail_with","$expected","$actual","$setup","$new","$matches?","$to_proc","$handle_failure","$!","$does_not_match?","$warn_deprecation","$gsub","$name","$class","$first_non_rspec_line","$interface_matches?","$failure_message_for_should","$base_matcher","$failure_message_for_should_not","$failure_message","$negative_failure_message"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Expectations"),u=(l.$$proto,[l].concat(c));!function(r,s){var o,c,_,l,u,p=o=n(r,"ExpectationHelper"),d=(p.$$proto,[p].concat(s));e.defs(p,"$check_message",c=function(t){var r,n,$=arguments.length;return 1!==$&&e.ac($,1,this,"check_message"),i(i(r=i(n=t["$nil?"]())?n:t["$respond_to?"]("to_str"))?r:t["$respond_to?"]("call"))?a:e.const_get_qualified("::","Kernel").$warn(["WARNING: ignoring the provided expectation message argument (",t.$inspect(),") since it is not a string or a proc."].$join())},c.$$arity=1,c.$$parameters=[["req","msg"]]),e.defs(p,"$modern_matcher_from",_=function(t){var r,a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"modern_matcher_from"),i(r=i(a=e.const_get_qualified(e.const_get_relative(d,"LegacyMatcherAdapter"),"RSpec2").$wrap(t))?a:e.const_get_qualified(e.const_get_relative(d,"LegacyMatcherAdapter"),"RSpec1").$wrap(t))?r:t},_.$$arity=1,_.$$parameters=[["req","matcher"]]),e.defs(p,"$setup",l=function(r,n,i){var s=this,o=a,c=arguments.length;return 3!==c&&e.ac(c,3,this,"setup"),s.$check_message(i),o=[r],$(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"last_expectation_handler=",e.to_a(o)),o[t(o.length,1)],o=[s.$modern_matcher_from(n)],$(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"last_matcher=",e.to_a(o)),o[t(o.length,1)]},l.$$arity=3,l.$$parameters=[["req","handler"],["req","matcher"],["req","message"]]),e.defs(p,"$handle_failure",u=function(t,r,a){var n,$=arguments.length;return 3!==$&&e.ac($,3,this,"handle_failure"),i(r["$respond_to?"]("call"))&&(r=r.$call()),r=i(n=r)?n:t.$__send__(a),i(i(n=t["$respond_to?"]("diffable?"))?t["$diffable?"]():n)?e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations").$fail_with(r,t.$expected(),t.$actual()):e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations").$fail_with(r)},u.$$arity=3,u.$$parameters=[["req","matcher"],["req","message"],["req","failure_message_method"]])}(u[0],u),function(t,$super,r){function n(){}var o,c,_,l,u=n=s(t,$super,"PositiveExpectationHandler",n),p=(u.$$proto,[u].concat(r));e.defs(u,"$handle_matcher",o=function(t,r,n){var s,c=this,_=o.$$p,l=_||a,u=a;null==n&&(n=a),_&&(o.$$p=null);var d=arguments.length;return(d<2||d>3)&&e.ac(d,-3,this,"handle_matcher"),u=e.const_get_relative(p,"ExpectationHelper").$setup(c,r,n),i(r)?i(s=$(u,"matches?",[t],l.$to_proc()))?s:e.const_get_relative(p,"ExpectationHelper").$handle_failure(u,n,"failure_message"):e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"BuiltIn"),"PositiveOperatorMatcher").$new(t)},o.$$arity=-3,o.$$parameters=[["req","actual"],["req","initial_matcher"],["opt","message"],["block","block"]]),e.defs(u,"$verb",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verb"),"should"},c.$$arity=0,c.$$parameters=[]),e.defs(u,"$should_method",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"should_method"),"should"},_.$$arity=0,_.$$parameters=[]),e.defs(u,"$opposite_should_method",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"opposite_should_method"),"should_not"},l.$$arity=0,l.$$parameters=[])}(u[0],null,u),function(t,$super,r){function n(){}var o,c,_,l,u,p=n=s(t,$super,"NegativeExpectationHandler",n),d=(p.$$proto,[p].concat(r));e.defs(p,"$handle_matcher",o=function(t,r,n){var s,c=this,_=o.$$p,l=_||a,u=a;null==n&&(n=a),_&&(o.$$p=null);var p=arguments.length;return(p<2||p>3)&&e.ac(p,-3,this,"handle_matcher"),u=e.const_get_relative(d,"ExpectationHelper").$setup(c,r,n),i(r)?(i(s=$(c,"does_not_match?",[u,t],l.$to_proc()))?s:e.const_get_relative(d,"ExpectationHelper").$handle_failure(u,n,"failure_message_when_negated"))["$!"]():e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"BuiltIn"),"NegativeOperatorMatcher").$new(t)},o.$$arity=-3,o.$$parameters=[["req","actual"],["req","initial_matcher"],["opt","message"],["block","block"]]),e.defs(p,"$does_not_match?",c=function(t,r){var n=c.$$p,s=n||a;n&&(c.$$p=null);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"does_not_match?"),i(t["$respond_to?"]("does_not_match?"))?$(t,"does_not_match?",[r],s.$to_proc()):$(t,"matches?",[r],s.$to_proc())["$!"]()},c.$$arity=2,c.$$parameters=[["req","matcher"],["req","actual"],["block","block"]]),e.defs(p,"$verb",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verb"),"should not"},_.$$arity=0,_.$$parameters=[]),e.defs(p,"$should_method",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"should_method"),"should_not"},l.$$arity=0,l.$$parameters=[]),e.defs(p,"$opposite_should_method",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"opposite_should_method"),"should"},u.$$arity=0,u.$$parameters=[])}(u[0],null,u),function(t,$super,r){function n(){}var c,_,l=n=s(t,$super,"LegacyMatcherAdapter",n),u=(l.$$proto,[l].concat(r));e.defn(l,"$initialize",c=function(t){var r,n=this,s=c.$$p,_=a,l=a,p=a;s&&(c.$$p=null);var d=arguments.length;for(1!==d&&e.ac(d,1,this,"initialize"),l=0,p=arguments.length,_=new Array(p);l<p;l++)_[l]=arguments[l];return $(n,e.find_super_dispatcher(n,"initialize",c,!1),_,s),e.const_get_qualified("::","RSpec").$warn_deprecation(("          |"+(i(r=t.$class().$name())?r:t.$inspect())+" implements a legacy RSpec matcher\n          |protocol. For the current protocol you should expose the failure messages\n          |via the `failure_message` and `failure_message_when_negated` methods.\n          |(Used from "+e.const_get_relative(u,"CallerFilter").$first_non_rspec_line()+")\n").$gsub(/^\s+\|/,""),o(["type"],{type:"legacy_matcher"}))},c.$$arity=1,c.$$parameters=[["req","matcher"]]),e.defs(l,"$wrap",_=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"wrap"),i(r["$interface_matches?"](t))?r.$new(t):a},_.$$arity=1,_.$$parameters=[["req","matcher"]]),function(t,$super,r){function a(){}var n,$,o,c=a=s(t,$super,"RSpec2",a);c.$$proto,[c].concat(r);e.defn(c,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$base_matcher().$failure_message_for_should()},n.$$arity=0,n.$$parameters=[]),e.defn(c,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$base_matcher().$failure_message_for_should_not()},$.$$arity=0,$.$$parameters=[]),e.defs(c,"$interface_matches?",o=function(t){var r,a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"interface_matches?"),i(r=i(a=t["$respond_to?"]("failure_message")["$!"]())?t["$respond_to?"]("failure_message_for_should"):a)?r:i(a=t["$respond_to?"]("failure_message_when_negated")["$!"]())?t["$respond_to?"]("failure_message_for_should_not"):a},o.$$arity=1,o.$$parameters=[["req","matcher"]])}(u[0],l,u),function(t,$super,r){function a(){}var n,$,o,c=a=s(t,$super,"RSpec1",a);c.$$proto,[c].concat(r);e.defn(c,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$base_matcher().$failure_message()},n.$$arity=0,n.$$parameters=[]),e.defn(c,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$base_matcher().$negative_failure_message()},$.$$arity=0,$.$$parameters=[]),e.defs(c,"$interface_matches?",o=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"interface_matches?"),i(r=t["$respond_to?"]("failure_message_when_negated")["$!"]())?t["$respond_to?"]("negative_failure_message"):r},o.$$arity=1,o.$$parameters=[["req","matcher"]])}(u[0],l,u)}(u[0],e.const_get_qualified(e.const_get_relative(u,"Matchers"),"MatcherDelegator"),u),e.const_set(u[0],"LegacyMacherAdapter",e.const_get_relative(u,"LegacyMatcherAdapter"))}(u[0],u)}(r[0],r)},Opal.modules["rspec/expectations/syntax"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.hash2,$=e.send,s=e.klass;return e.add_stubs(["$module_function","$last","$ancestors","$deprecate","$==","$default_should_host","$should_enabled?","$module_exec","$warn_about_should_unless_configured","$handle_matcher","$to_proc","$expect_enabled?","$for","$method_defined?"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Expectations"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c,_,l,u,p,d,f,h,m,g=o=a(t,"Syntax"),v=(g.$$proto,[g].concat(s));g.$module_function(),e.defn(g,"$default_should_host",c=function(){var t,a=this;null==a.default_should_host&&(a.default_should_host=r);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"default_should_host"),a.default_should_host=n(t=a.default_should_host)?t:e.const_get_qualified("::","Object").$ancestors().$last()},c.$$arity=0,c.$$parameters=[]),e.defn(g,"$warn_about_should!",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_should!"),t.warn_about_should=!0},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$warn_about_should_unless_configured",l=function(t){var a=this;null==a.warn_about_should&&(a.warn_about_should=r);var $=arguments.length;return 1!==$&&e.ac($,1,this,"warn_about_should_unless_configured"),n(a.warn_about_should)?(e.const_get_relative(v,"RSpec").$deprecate("Using `"+t+"` from rspec-expectations' old `:should` syntax without explicitly enabling the syntax",i(["replacement"],{replacement:"the new `:expect` syntax or explicitly enable `:should`"})),a.warn_about_should=!1):r},l.$$arity=1,l.$$parameters=[["req","method_name"]]),e.defn(g,"$enable_should",u=function(t){var a,i=this;null==t&&(t=i.$default_should_host());var s=arguments.length;return s>1&&e.ac(s,-1,this,"enable_should"),t["$=="](i.$default_should_host())&&(i.warn_about_should=!1),n(i["$should_enabled?"](t))?r:$(t,"module_exec",[],(a=function(){var t,n,i=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"enable_should")}return e.def(i,"$should",t=function(a,n){var i=this,s=t.$$p,o=s||r;null==a&&(a=r),null==n&&(n=r),s&&(t.$$p=null);var c=arguments.length;return c>2&&e.ac(c,-1,this,"should"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"Syntax").$warn_about_should_unless_configured("should"),$(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"PositiveExpectationHandler"),"handle_matcher",[i,a,n],o.$to_proc())},t.$$arity=-1,t.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),e.def(i,"$should_not",n=function(t,a){var i=this,s=n.$$p,o=s||r;null==t&&(t=r),null==a&&(a=r),s&&(n.$$p=null);var c=arguments.length;return c>2&&e.ac(c,-1,this,"should_not"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"Syntax").$warn_about_should_unless_configured("should_not"),$(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"NegativeExpectationHandler"),"handle_matcher",[i,t,a],o.$to_proc())},n.$$arity=-1,n.$$parameters=[["opt","matcher"],["opt","message"],["block","block"]]),r&&"should_not"},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))},u.$$arity=-1,u.$$parameters=[["opt","syntax_host"]]),e.defn(g,"$disable_should",p=function(t){var a,i=this;null==t&&(t=i.$default_should_host());var s=arguments.length;return s>1&&e.ac(s,-1,this,"disable_should"),n(i["$should_enabled?"](t))?$(t,"module_exec",[],(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"disable_should")}return e.udef(t,"$should"),e.udef(t,"$should_not"),r},a.$$s=i,a.$$arity=0,a.$$parameters=[],a)):r},p.$$arity=-1,p.$$parameters=[["opt","syntax_host"]]),e.defn(g,"$enable_expect",d=function(t){var a,i=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"enable_expect"),n(i["$expect_enabled?"](t))?r:$(t,"module_exec",[],(a=function(){var t,n=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"enable_expect")}return e.def(n,"$expect",t=function(a){var n=t.$$p,i=n||r;null==a&&(a=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"ExpectationTarget"),"UndefinedValue")),n&&(t.$$p=null);var $=arguments.length;return $>1&&e.ac($,-1,this,"expect"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Expectations"),"ExpectationTarget").$for(a,i)},t.$$arity=-1,t.$$parameters=[["opt","value"],["block","block"]]),r&&"expect"},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))},d.$$arity=-1,d.$$parameters=[["opt","syntax_host"]]),e.defn(g,"$disable_expect",f=function(t){var a,i=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"));var s=arguments.length;return s>1&&e.ac(s,-1,this,"disable_expect"),n(i["$expect_enabled?"](t))?$(t,"module_exec",[],(a=function(){var t=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"disable_expect")}return e.udef(t,"$expect"),r},a.$$s=i,a.$$arity=0,a.$$parameters=[],a)):r},f.$$arity=-1,f.$$parameters=[["opt","syntax_host"]]),e.defn(g,"$should_enabled?",h=function(t){var r=this;null==t&&(t=r.$default_should_host());var a=arguments.length;return a>1&&e.ac(a,-1,this,"should_enabled?"),t["$method_defined?"]("should")},h.$$arity=-1,h.$$parameters=[["opt","syntax_host"]]),e.defn(g,"$expect_enabled?",m=function(t){null==t&&(t=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"));var r=arguments.length;return r>1&&e.ac(r,-1,this,"expect_enabled?"),t["$method_defined?"]("expect")},m.$$arity=-1,m.$$parameters=[["opt","syntax_host"]])
}(_[0],_)}(_[0],_)}(t[0],t),n(e.const_get_relative(t,"BasicObject","skip_raise")?"constant":r)?function(e,$super,t){function a(){}var n=a=s(e,$super,"BasicObject",a);n.$$proto,[n].concat(t);return r}(t[0],null,t):r},Opal.modules["rspec/expectations/version"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Expectations"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Version"),$=(i.$$proto,[i].concat(a));e.const_set($[0],"STRING","3.1.2")}($[0],$)}($[0],$)}(t[0],t)},Opal.modules["rspec/matchers/aliased_matcher"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$is_a_matcher?","$new","$class","$call","$respond_to?","$does_not_match?","$to_proc","$!","$matches?","$optimal_failure_message","$private","$has_default_failure_messages?","$__send__","$!="]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"AliasedMatcher",s),d=p.$$proto,f=[p].concat(a);d.description_block=r,e.defn(p,"$initialize",o=function(t,r){var a=this,n=o.$$p;n&&(o.$$p=null);var $=arguments.length;return 2!==$&&e.ac($,2,this,"initialize"),a.description_block=r,i(a,e.find_super_dispatcher(a,"initialize",o,!1),[t],null)},o.$$arity=2,o.$$parameters=[["req","base_matcher"],["req","description_block"]]),e.defn(p,"$method_missing",c=function(){var t=this,a=c.$$p,n=r,s=r,o=r,_=r;for(a&&(c.$$p=null),o=0,_=arguments.length,s=new Array(_);o<_;o++)s[o]=arguments[o];return n=i(t,e.find_super_dispatcher(t,"method_missing",c,!1),s,a),$(e.const_get_qualified(e.const_get_relative(f,"RSpec"),"Matchers")["$is_a_matcher?"](n))?t.$class().$new(n,t.description_block):n},c.$$arity=-1,c.$$parameters=[["rest"]]),e.defn(p,"$description",_=function(){var t=this,a=_.$$p,n=r,$=r,s=r;a&&(_.$$p=null);var o=arguments.length;for(0!==o&&e.ac(o,0,this,"description"),$=0,s=arguments.length,n=new Array(s);$<s;$++)n[$]=arguments[$];return t.description_block.$call(i(t,e.find_super_dispatcher(t,"description",_,!1),n,a))},_.$$arity=0,_.$$parameters=[]),e.defn(p,"$failure_message",l=function(){var t=this,a=l.$$p,n=r,$=r,s=r;a&&(l.$$p=null);var o=arguments.length;for(0!==o&&e.ac(o,0,this,"failure_message"),$=0,s=arguments.length,n=new Array(s);$<s;$++)n[$]=arguments[$];return t.description_block.$call(i(t,e.find_super_dispatcher(t,"failure_message",l,!1),n,a))},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$failure_message_when_negated",u=function(){var t=this,a=u.$$p,n=r,$=r,s=r;a&&(u.$$p=null);var o=arguments.length;for(0!==o&&e.ac(o,0,this,"failure_message_when_negated"),$=0,s=arguments.length,n=new Array(s);$<s;$++)n[$]=arguments[$];return t.description_block.$call(i(t,e.find_super_dispatcher(t,"failure_message_when_negated",u,!1),n,a))},u.$$arity=0,u.$$parameters=[])}(_[0],e.const_get_relative(_,"MatcherDelegator"),_),function(t,$super,r){function a(){}var i=a=n(t,$super,"AliasedMatcherWithOperatorSupport",a);i.$$proto,[i].concat(r);e.udef(i,"$=="),e.udef(i,"$===")}(_[0],e.const_get_relative(_,"AliasedMatcher"),_),function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"AliasedNegatedMatcher",s),d=p.$$proto,f=[p].concat(a);d.base_matcher=d.description_block=r,e.defn(p,"$matches?",o=function(){var t,a=this,n=o.$$p,s=n||r,c=r,_=r,l=r,u=arguments.length,p=u-0;p<0&&(p=0),t=new Array(p);for(var d=0;d<u;d++)t[d-0]=arguments[d];for(n&&(o.$$p=null),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return $(a.base_matcher["$respond_to?"]("does_not_match?"))?i(a.base_matcher,"does_not_match?",e.to_a(t),s.$to_proc()):i(a,e.find_super_dispatcher(a,"matches?",o,!1),c,n)["$!"]()},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.defn(p,"$does_not_match?",c=function(){var t,a=this,n=c.$$p,$=n||r,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var _=0;_<s;_++)t[_-0]=arguments[_];return n&&(c.$$p=null),i(a.base_matcher,"matches?",e.to_a(t),$.$to_proc())},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),e.defn(p,"$failure_message",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$optimal_failure_message("failure_message","failure_message_when_negated")},_.$$arity=0,_.$$parameters=[]),e.defn(p,"$failure_message_when_negated",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$optimal_failure_message("failure_message_when_negated","failure_message")},l.$$arity=0,l.$$parameters=[]),p.$private(),e.const_set(f[0],"DefaultFailureMessages",e.const_get_qualified(e.const_get_qualified(e.const_get_relative(f,"BuiltIn"),"BaseMatcher"),"DefaultFailureMessages")),e.defn(p,"$optimal_failure_message",u=function(t,a){var n=this,i=r,s=r,o=arguments.length;return 2!==o&&e.ac(o,2,this,"optimal_failure_message"),$(e.const_get_relative(f,"DefaultFailureMessages")["$has_default_failure_messages?"](n.base_matcher))&&(i=n.base_matcher.$__send__(t),s=n.description_block.$call(i),$(s["$!="](i)))?s:n.base_matcher.$__send__(a)},u.$$arity=2,u.$$parameters=[["req","same"],["req","inverted"]])}(_[0],e.const_get_relative(_,"AliasedMatcher"),_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/be_kind_of"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$private","$kind_of?"]),function(t,n){var i,$=i=r(t,"RSpec"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"Matchers"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"BuiltIn"),s=($.$$proto,[$].concat(n));!function(t,$super,r){function n(){}var i,$=n=a(t,$super,"BeAKindOf",n);$.$$proto,[$].concat(r);$.$private(),e.defn($,"$match",i=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$kind_of?"](t)},i.$$arity=2,i.$$parameters=[["req","expected"],["req","actual"]])}(s[0],e.const_get_relative(s,"BaseMatcher"),s)}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["rspec/matchers/built_in/be_instance_of"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$expected","$private","$instance_of?"]),function(t,n){var i,$=i=r(t,"RSpec"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"Matchers"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"BuiltIn"),s=($.$$proto,[$].concat(n));!function(t,$super,r){function n(){}var i,$,s=n=a(t,$super,"BeAnInstanceOf",n);s.$$proto,[s].concat(r);e.defn(s,"$description",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be an instance of "+t.$expected()},i.$$arity=0,i.$$parameters=[]),s.$private(),e.defn(s,"$match",$=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$instance_of?"](t)},$.$$arity=2,$.$$parameters=[["req","expected"],["req","actual"]])}(s[0],e.const_get_relative(s,"BaseMatcher"),s)}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["rspec/matchers/built_in/be_between"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$inclusive","$comparable?","$compare","$not_comparable_clause","$inspect","$private","$respond_to?","$__send__"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d,f,h,m=s=n(t,$super,"BeBetween",s),g=m.$$proto,v=[m].concat(a);g.min=g.max=g.mode=g.actual=g.less_than_operator=g.greater_than_operator=r,e.defn(m,"$initialize",o=function(t,r){var a,n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"initialize"),a=[t,r],n.min=a[0],n.max=a[1],n.$inclusive()},o.$$arity=2,o.$$parameters=[["req","min"],["req","max"]]),e.defn(m,"$inclusive",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inclusive"),t.less_than_operator="<=",t.greater_than_operator=">=",t.mode="inclusive",t},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$exclusive",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"exclusive"),t.less_than_operator="<",t.greater_than_operator=">",t.mode="exclusive",t},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$matches?",l=function(t){var r,a=this,n=arguments.length;1!==n&&e.ac(n,1,this,"matches?");try{return a.actual=t,i(r=a["$comparable?"]())?a.$compare():r}catch(t){if(!e.rescue(t,[e.const_get_relative(v,"ArgumentError")]))throw t;try{return!1}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","actual"]]),e.defn(m,"$failure_message",u=function(){var t=this,a=u.$$p,n=r,i=r,s=r;a&&(u.$$p=null);var o=arguments.length;for(0!==o&&e.ac(o,0,this,"failure_message"),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return""+$(t,e.find_super_dispatcher(t,"failure_message",u,!1),n,a)+t.$not_comparable_clause()},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$description",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be between "+t.min.$inspect()+" and "+t.max.$inspect()+" ("+t.mode+")"},p.$$arity=0,p.$$parameters=[]),m.$private(),e.defn(m,"$comparable?",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"comparable?"),i(t=r.actual["$respond_to?"](r.less_than_operator))?r.actual["$respond_to?"](r.greater_than_operator):t},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$not_comparable_clause",f=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"not_comparable_clause"),i(t["$comparable?"]())?r:", but it does not respond to `"+t.less_than_operator+"` and `"+t.greater_than_operator+"`"},f.$$arity=0,f.$$parameters=[]),e.defn(m,"$compare",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"compare"),i(t=r.actual.$__send__(r.greater_than_operator,r.min))?r.actual.$__send__(r.less_than_operator,r.max):t},h.$$arity=0,h.$$parameters=[])}(_[0],e.const_get_relative(_,"BaseMatcher"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/be"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$inspect","$actual","$private","$!","$nil?","$empty?","$parenthesize","$join","$inspected_args","$map","$split_words","$to_sentence","$include","$each","$define_method","$new","$__send__","$gsub","$to_s","$include?","$+","$expected_to_sentence","$args_to_sentence","$parse_expected","$shift","$predicate_accessible?","$predicate_matches?","$failure_message_expecting","$prefix_to_sentence","$private_predicate?","$predicate_exists?","$===","$first","$methods","$private_methods","$predicate","$respond_to?","$present_tense_predicate","$to_proc","$prefix_and_expected","$compact","$captures","$match","$validity_message","$args_to_s"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"BuiltIn"),l=(_.$$proto,[_].concat(o));!function(t,$super,r){function a(){}var n,$,s,o=a=i(t,$super,"BeTruthy",a);o.$$proto,[o].concat(r);e.defn(o,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: truthy value\n     got: "+t.$actual().$inspect()},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected: falsey value\n     got: "+t.$actual().$inspect()},$.$$arity=0,$.$$parameters=[]),o.$private(),e.defn(o,"$match",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()["$!"]()},s.$$arity=2,s.$$parameters=[["req","_"],["req","actual"]])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(t,$super,r){function a(){}var n,$,s,o=a=i(t,$super,"BeFalsey",a);o.$$proto,[o].concat(r);e.defn(o,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: falsey value\n     got: "+t.$actual().$inspect()},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected: truthy value\n     got: "+t.$actual().$inspect()},$.$$arity=0,$.$$parameters=[]),o.$private(),e.defn(o,"$match",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()},s.$$arity=2,s.$$parameters=[["req","_"],["req","actual"]])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(t,$super,r){function a(){}var n,$,s,o=a=i(t,$super,"BeNil",a);o.$$proto,[o].concat(r);e.defn(o,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: nil\n     got: "+t.$actual().$inspect()},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$failure_message_when_negated",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"failure_message_when_negated"),"expected: not nil\n     got: nil"},$.$$arity=0,$.$$parameters=[]),o.$private(),e.defn(o,"$match",s=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$nil?"]()},s.$$arity=2,s.$$parameters=[["req","_"],["req","actual"]])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(t,r){var i,o,c,_,l,u,p=i=n(t,"BeHelpers");p.$$proto,[p].concat(r);p.$private(),e.defn(p,"$args_to_s",o=function(){var t=this;null==t.args&&(t.args=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"args_to_s"),$(t.args["$empty?"]())?"":t.$parenthesize(t.$inspected_args().$join(", "))},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$parenthesize",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"parenthesize"),"("+t+")"},c.$$arity=1,c.$$parameters=[["req","string"]]),e.defn(p,"$inspected_args",_=function(){var t,r=this;null==r.args&&(r.args=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"inspected_args"),s(r.args,"map",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"inspected_args")}return r.$inspect()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","a"]],t))},_.$$arity=0,_.$$parameters=[]),e.defn(p,"$expected_to_sentence",l=function(){var t=this;null==t.expected&&(t.expected=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_to_sentence"),t.$split_words(t.expected)},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$args_to_sentence",u=function(){var t=this;null==t.args&&(t.args=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"args_to_sentence"),t.$to_sentence(t.args)},u.$$arity=0,u.$$parameters=[])}(l[0],l),function(t,$super,r){function n(){}var $,o,c,_,l,u=n=i(t,$super,"Be",n),p=u.$$proto,d=[u].concat(r);p.actual=a,u.$include(e.const_get_relative(d,"BeHelpers")),e.defn(u,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.args=e},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(u,"$failure_message",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to evaluate to true"},o.$$arity=0,o.$$parameters=[]),e.defn(u,"$failure_message_when_negated",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" to evaluate to false"},c.$$arity=0,c.$$parameters=[]),s(["==","<","<=",">=",">","===","=~"],"each",[],(_=function(t){var r,n=_.$$s||this;if(null==t&&(t=a),_.$$is_lambda||_.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"<class:Be>")}return s(n,"define_method",[t],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"<class:Be>")}return e.const_get_relative(d,"BeComparedTo").$new(n,t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","operand"]],r))},_.$$s=u,_.$$arity=1,_.$$parameters=[["req","operator"]],_)),u.$private(),e.defn(u,"$match",l=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$!"]()["$!"]()},l.$$arity=2,l.$$parameters=[["req","_"],["req","actual"]])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(r,$super,n){function s(){}var o,c,_,l,u,p=s=i(r,$super,"BeComparedTo",s),d=p.$$proto,f=[p].concat(n);d.actual=d.operator=d.expected=a,p.$include(e.const_get_relative(f,"BeHelpers")),e.defn(p,"$initialize",o=function(t,r){var a,n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"initialize"),a=[t,r],n.expected=a[0],n.operator=a[1],n.args=[]},o.$$arity=2,o.$$parameters=[["req","operand"],["req","operator"]]),e.defn(p,"$matches?",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.actual.$__send__(r.operator,r.expected)},c.$$arity=1,c.$$parameters=[["req","actual"]]),e.defn(p,"$failure_message",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected: "+t.operator+" "+t.expected.$inspect()+"\n     got: "+t.operator.$to_s().$gsub(/./," ")+" "+t.actual.$inspect()},_.$$arity=0,_.$$parameters=[]),e.defn(p,"$failure_message_when_negated",l=function(){var r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message_when_negated"),n="`expect("+r.actual.$inspect()+").not_to be "+r.operator+" "+r.expected.$inspect()+"`",$(["<",">","<=",">="]["$include?"](r.operator))?t(n," not only FAILED, it is a bit confusing."):n},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$description",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be "+t.operator+" "+t.$expected_to_sentence()+t.$args_to_sentence()},u.$$arity=0,u.$$parameters=[])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(t,$super,r){function n(){}var o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E=n=i(t,$super,"BePredicate",n),S=E.$$proto,M=[E].concat(r);S.block=S.actual=S.args=S.expected=S.prefix=S.predicate_matches=a,E.$include(e.const_get_relative(M,"BeHelpers")),e.defn(E,"$initialize",o=function(){var e,t=this,r=o.$$p,n=r||a,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var s=0;s<i;s++)e[s-0]=arguments[s];return r&&(o.$$p=null),t.expected=t.$parse_expected(e.$shift()),t.args=e,t.block=n},o.$$arity=-1,o.$$parameters=[["rest","args"],["block","block"]]),e.defn(E,"$matches?",c=function(t){var r,n=this,i=c.$$p,s=i||a;i&&(c.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),n.actual=t,n.block=$(r=n.block)?r:s,$(r=n["$predicate_accessible?"]())?n["$predicate_matches?"]():r},c.$$arity=1,c.$$parameters=[["req","actual"],["block","block"]]),e.defn(E,"$does_not_match?",_=function(t){var r,n=this,i=_.$$p,s=i||a;i&&(_.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"does_not_match?"),n.actual=t,n.block=$(r=n.block)?r:s,$(r=n["$predicate_accessible?"]())?n["$predicate_matches?"]()["$!"]():r},_.$$arity=1,_.$$parameters=[["req","actual"],["block","block"]]),e.defn(E,"$failure_message",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$failure_message_expecting(!0)},l.$$arity=0,l.$$parameters=[]),e.defn(E,"$failure_message_when_negated",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$failure_message_expecting(!1)},u.$$arity=0,u.$$parameters=[]),e.defn(E,"$description",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),""+t.$prefix_to_sentence()+t.$expected_to_sentence()+t.$args_to_sentence()},p.$$arity=0,p.$$parameters=[]),E.$private(),e.defn(E,"$predicate_accessible?",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"predicate_accessible?"),$(t=r["$private_predicate?"]()["$!"]())?r["$predicate_exists?"]():t},d.$$arity=0,d.$$parameters=[]),$(e.const_get_relative(M,"String")["$==="](E.$methods().$first()))?e.defn(E,"$private_predicate?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate().$to_s())},f.$$arity=0,f.$$parameters=[]):e.defn(E,"$private_predicate?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate())},h.$$arity=0,h.$$parameters=[]),e.defn(E,"$predicate_exists?",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"predicate_exists?"),$(t=r.$actual()["$respond_to?"](r.$predicate()))?t:r.$actual()["$respond_to?"](r.$present_tense_predicate())},m.$$arity=0,m.$$parameters=[]),e.defn(E,"$predicate_matches?",g=function(){var t=this,r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"predicate_matches?"),r=function(){return $(t.$actual()["$respond_to?"](t.$predicate()))?t.$predicate():t.$present_tense_predicate()}(),t.predicate_matches=s(t.$actual(),"__send__",[r].concat(e.to_a(t.args)),t.block.$to_proc())},g.$$arity=0,g.$$parameters=[]),e.defn(E,"$predicate",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"predicate"),t.expected+"?"},v.$$arity=0,v.$$parameters=[]),e.defn(E,"$present_tense_predicate",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"present_tense_predicate"),t.expected+"s?"},y.$$arity=0,y.$$parameters=[]),e.defn(E,"$parse_expected",b=function(t){var r,n,i=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"parse_expected"),n=i.$prefix_and_expected(t),r=e.to_ary(n),i.prefix=null==r[0]?a:r[0],t=null==r[1]?a:r[1],t},b.$$arity=1,b.$$parameters=[["req","expected"]]),e.defn(E,"$prefix_and_expected",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"prefix_and_expected"),e.const_get_qualified(e.const_get_relative(M,"Matchers"),"BE_PREDICATE_REGEX").$match(t.$to_s()).$captures().$compact()},x.$$arity=1,x.$$parameters=[["req","symbol"]]),e.defn(E,"$prefix_to_sentence",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"prefix_to_sentence"),t.$split_words(t.prefix)},k.$$arity=0,k.$$parameters=[]),e.defn(E,"$failure_message_expecting",q=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"failure_message_expecting"),$(r=a.$validity_message())?r:"expected `"+a.actual.$inspect()+"."+a.$predicate()+a.$args_to_s()+"` to return "+t+", got "+a.predicate_matches.$inspect()},q.$$arity=1,q.$$parameters=[["req","value"]]),e.defn(E,"$validity_message",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"validity_message"),$(t["$private_predicate?"]())?"expected "+t.actual+" to respond to `"+t.$predicate()+"` but `"+t.$predicate()+"` is a private method":$(t["$predicate_exists?"]()["$!"]())?"expected "+t.actual+" to respond to `"+t.$predicate()+"`":a},w.$$arity=0,w.$$parameters=[])}(l[0],e.const_get_relative(l,"BaseMatcher"),l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/matchers/built_in/be_within"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var i=(e.top,[]),$=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,c=e.truthy;return e.add_stubs(["$/","$*","$abs","$raise","$needs_expected","$numeric?","$<=","$-","$inspect","$description","$not_numeric_clause","$private","$respond_to?","$new"]),function(i,_){var l,u=l=s(i,"RSpec"),p=(u.$$proto,[u].concat(_));!function(i,_){var l,u=l=s(i,"Matchers"),p=(u.$$proto,[u].concat(_));!function(i,_){var l,u=l=s(i,"BuiltIn"),p=(u.$$proto,[u].concat(_));!function(i,$super,s){function _(){}var l,u,p,d,f,h,m,g,v,y,b=_=o(i,$super,"BeWithin",_),x=b.$$proto,k=[b].concat(s);x.delta=x.expected=x.actual=x.tolerance=x.unit=$,e.defn(b,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.delta=t},l.$$arity=1,l.$$parameters=[["req","delta"]]),e.defn(b,"$of",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"of"),r.expected=t,r.tolerance=r.delta,r.unit="",r},u.$$arity=1,u.$$parameters=[["req","expected"]]),e.defn(b,"$percent_of",p=function(a){var n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"percent_of"),n.expected=a,n.tolerance=t(r(n.delta,n.expected.$abs()),100),n.unit="%",n},p.$$arity=1,p.$$parameters=[["req","expected"]]),e.defn(b,"$matches?",d=function(t){var r,i,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),s.actual=t,c(null!=(r=s.expected)&&r!==$?"instance-variable":$)||s.$raise(s.$needs_expected()),c(i=s["$numeric?"]())?a(n(s.actual,s.expected).$abs(),s.tolerance):i},d.$$arity=1,d.$$parameters=[["req","actual"]]),e.defn(b,"$failure_message",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to "+t.$description()+t.$not_numeric_clause()},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$failure_message_when_negated",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" not to "+t.$description()},h.$$arity=0,h.$$parameters=[]),e.defn(b,"$description",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"be within "+t.delta+t.unit+" of "+t.expected},m.$$arity=0,m.$$parameters=[]),b.$private(),e.defn(b,"$numeric?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"numeric?"),t.actual["$respond_to?"]("-")},g.$$arity=0,g.$$parameters=[]),e.defn(b,"$needs_expected",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"needs_expected"),e.const_get_relative(k,"ArgumentError").$new("You must set an expected value using #of: be_within("+t.delta+").of(expected_value)")},v.$$arity=0,v.$$parameters=[]),e.defn(b,"$not_numeric_clause",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"not_numeric_clause"),c(t["$numeric?"]())?$:", but it could not be treated as a numeric value"},y.$$arity=0,y.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p)}(p[0],p)}(p[0],p)}(i[0],i)},Opal.modules["rspec/matchers/built_in/change"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.send,c=e.truthy;return e.add_stubs(["$new","$values_match?","$>=","$<=","$===","$raise_block_syntax_error","$perform_change","$changed?","$!","$matches?","$message","$positive_failure_reason","$negative_failure_reason","$private","$to_proc","$raise","$description_of","$actual_before","$actual_after","$gsub","$to_s","$failure_reason","$call","$actual_delta","$last","$ancestors","$matches_before?","$matches_after?","$change_description","$not_given_a_block_failure","$before_value_failure","$did_not_change_failure","$after_value_failure","$did_change_failure","$attr_reader","$lambda","$__send__","$evaluate_value_proc","$!=","$-","$dup"]),function(n,_){var l,u=l=$(n,"RSpec"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"Matchers"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"BuiltIn"),p=(u.$$proto,[u].concat(_));!function(a,$super,n){function $(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w=$=s(a,$super,"Change",$),E=w.$$proto,S=[w].concat(n);E.change_details=E.event_proc=i,e.defn(w,"$by",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"by"),o(e.const_get_relative(S,"ChangeRelatively"),"new",[a.change_details,t,"by"],(r=function(a){var n=r.$$s||this;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"by")}return n["$values_match?"](t,a)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","actual_delta"]],r))},_.$$arity=1,_.$$parameters=[["req","expected_delta"]]),e.defn(w,"$by_at_least",l=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"by_at_least"),o(e.const_get_relative(S,"ChangeRelatively"),"new",[n.change_details,r,"by_at_least"],(a=function(n){a.$$s;if(null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"by_at_least")}return t(n,r)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","actual_delta"]],a))},l.$$arity=1,l.$$parameters=[["req","minimum"]]),e.defn(w,"$by_at_most",u=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"by_at_most"),o(e.const_get_relative(S,"ChangeRelatively"),"new",[n.change_details,t,"by_at_most"],(a=function(n){a.$$s;if(null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"by_at_most")}return r(n,t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","actual_delta"]],a))},u.$$arity=1,u.$$parameters=[["req","maximum"]]),e.defn(w,"$to",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"to"),e.const_get_relative(S,"ChangeToValue").$new(r.change_details,t)},p.$$arity=1,p.$$parameters=[["req","value"]]),e.defn(w,"$from",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from"),e.const_get_relative(S,"ChangeFromValue").$new(r.change_details,t)},d.$$arity=1,d.$$parameters=[["req","value"]]),e.defn(w,"$matches?",f=function(t){var r=this,a=f.$$p,n=a||i;a&&(f.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),r.event_proc=t,!!c(e.const_get_relative(S,"Proc")["$==="](t))&&(n!==i&&r.$raise_block_syntax_error(),r.change_details.$perform_change(t),r.change_details["$changed?"]())},f.$$arity=1,f.$$parameters=[["req","event_proc"]]),e.defn(w,"$does_not_match?",h=function(t){var r,a=this,n=h.$$p,$=n||i;n&&(h.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"does_not_match?"),$!==i&&a.$raise_block_syntax_error(),c(r=a["$matches?"](t)["$!"]())?e.const_get_relative(S,"Proc")["$==="](t):r},h.$$arity=1,h.$$parameters=[["req","event_proc"]]),e.defn(w,"$failure_message",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.change_details.$message()+" to have changed, but "+t.$positive_failure_reason()},m.$$arity=0,m.$$parameters=[]),e.defn(w,"$failure_message_when_negated",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.change_details.$message()+" not to have changed, but "+t.$negative_failure_reason()},g.$$arity=0,g.$$parameters=[]),e.defn(w,"$description",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()},v.$$arity=0,v.$$parameters=[]),e.defn(w,"$supports_block_expectations?",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},y.$$arity=0,y.$$parameters=[]),w.$private(),e.defn(w,"$initialize",b=function(t,r){var a=this,n=b.$$p,$=n||i;null==t&&(t=i),null==r&&(r=i),n&&(b.$$p=null);var s=arguments.length;return s>2&&e.ac(s,-1,this,"initialize"),a.change_details=o(e.const_get_relative(S,"ChangeDetails"),"new",[t,r],$.$to_proc())},b.$$arity=-1,b.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),e.defn(w,"$raise_block_syntax_error",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_block_syntax_error"),t.$raise(e.const_get_relative(S,"SyntaxError"),"The block passed to the `change` matcher must use `{ ... }` instead of do/end")},x.$$arity=0,x.$$parameters=[]),e.defn(w,"$positive_failure_reason",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive_failure_reason"),c(e.const_get_relative(S,"Proc")["$==="](t.event_proc))?"is still "+t.$description_of(t.change_details.$actual_before()):"was not given a block"},k.$$arity=0,k.$$parameters=[]),e.defn(w,"$negative_failure_reason",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative_failure_reason"),c(e.const_get_relative(S,"Proc")["$==="](t.event_proc))?"did change from "+t.$description_of(t.change_details.$actual_before())+" to "+t.$description_of(t.change_details.$actual_after()):"was not given a block"},q.$$arity=0,q.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(t,$super,r){function a(){}var n,$,o,_,l,u,p,d=a=s(t,$super,"ChangeRelatively",a),f=d.$$proto,h=[d].concat(r);f.change_details=f.relativity=f.expected_delta=f.comparer=f.event_proc=i,e.defn(d,"$initialize",n=function(t,r,a){var $=this,s=n.$$p,o=s||i;s&&(n.$$p=null);var c=arguments.length;return 3!==c&&e.ac(c,3,this,"initialize"),$.change_details=t,$.expected_delta=r,$.relativity=a,$.comparer=o
},n.$$arity=3,n.$$parameters=[["req","change_details"],["req","expected_delta"],["req","relativity"],["block","comparer"]]),e.defn(d,"$failure_message",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.change_details.$message()+" to have changed "+t.relativity.$to_s().$gsub("_"," ")+" "+t.$description_of(t.expected_delta)+", but "+t.$failure_reason()},$.$$arity=0,$.$$parameters=[]),e.defn(d,"$matches?",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.event_proc=t,!!c(e.const_get_relative(h,"Proc")["$==="](t))&&(r.change_details.$perform_change(t),r.comparer.$call(r.change_details.$actual_delta()))},o.$$arity=1,o.$$parameters=[["req","event_proc"]]),e.defn(d,"$does_not_match?",_=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(e.const_get_relative(h,"NotImplementedError"),"`expect { }.not_to change { }."+t.relativity+"()` is not supported")},_.$$arity=1,_.$$parameters=[["req","_event_proc"]]),e.defn(d,"$description",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()+" "+t.relativity.$to_s().$gsub("_"," ")+" "+t.$description_of(t.expected_delta)},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$supports_block_expectations?",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},u.$$arity=0,u.$$parameters=[]),d.$private(),e.defn(d,"$failure_reason",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_reason"),c(e.const_get_relative(h,"Proc")["$==="](t.event_proc))?"was changed by "+t.$description_of(t.change_details.$actual_delta()):"was not given a block"},p.$$arity=0,p.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(t,$super,r){function a(){}var n,$,o,_,l,u,p,d,f,h,m,g,v=a=s(t,$super,"SpecificValuesChange",a),y=v.$$proto,b=[v].concat(r);y.change_details=y.event_proc=y.expected_before=y.expected_after=i,e.const_set(b[0],"MATCH_ANYTHING",e.const_get_qualified("::","Object").$ancestors().$last()),e.defn(v,"$initialize",n=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),n.change_details=t,n.expected_before=r,n.expected_after=a},n.$$arity=3,n.$$parameters=[["req","change_details"],["req","from"],["req","to"]]),e.defn(v,"$matches?",$=function(t){var r,a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"matches?"),n.event_proc=t,!!c(e.const_get_relative(b,"Proc")["$==="](t))&&(n.change_details.$perform_change(t),c(r=c(a=n.change_details["$changed?"]())?n["$matches_before?"]():a)?n["$matches_after?"]():r)},$.$$arity=1,$.$$parameters=[["req","event_proc"]]),e.defn(v,"$description",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"change "+t.change_details.$message()+" "+t.$change_description()},o.$$arity=0,o.$$parameters=[]),e.defn(v,"$failure_message",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),c(e.const_get_relative(b,"Proc")["$==="](t.event_proc))?c(t["$matches_before?"]())?c(t.change_details["$changed?"]())?t.$after_value_failure():t.$did_not_change_failure():t.$before_value_failure():t.$not_given_a_block_failure()},_.$$arity=0,_.$$parameters=[]),e.defn(v,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),v.$private(),e.defn(v,"$matches_before?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_before?"),t["$values_match?"](t.expected_before,t.change_details.$actual_before())},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$matches_after?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_after?"),t["$values_match?"](t.expected_after,t.change_details.$actual_after())},p.$$arity=0,p.$$parameters=[]),e.defn(v,"$before_value_failure",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"before_value_failure"),"expected "+t.change_details.$message()+" to have initially been "+t.$description_of(t.expected_before)+", but was "+t.$description_of(t.change_details.$actual_before())},d.$$arity=0,d.$$parameters=[]),e.defn(v,"$after_value_failure",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"after_value_failure"),"expected "+t.change_details.$message()+" to have changed to "+t.$description_of(t.expected_after)+", but is now "+t.$description_of(t.change_details.$actual_after())},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$did_not_change_failure",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"did_not_change_failure"),"expected "+t.change_details.$message()+" to have changed "+t.$change_description()+", but did not change"},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$did_change_failure",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"did_change_failure"),"expected "+t.change_details.$message()+" not to have changed, but did change from "+t.$description_of(t.change_details.$actual_before())+" to "+t.$description_of(t.change_details.$actual_after())},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$not_given_a_block_failure",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"not_given_a_block_failure"),"expected "+t.change_details.$message()+" to have changed "+t.$change_description()+", but was not given a block"},g.$$arity=0,g.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(t,$super,r){function a(){}var n,$,_,l,u,p=a=s(t,$super,"ChangeFromValue",a),d=p.$$proto,f=[p].concat(r);d.description_suffix=d.change_details=d.event_proc=d.expected_before=i,e.defn(p,"$initialize",n=function(t,r){var a=this,$=n.$$p;$&&(n.$$p=null);var s=arguments.length;return 2!==s&&e.ac(s,2,this,"initialize"),a.description_suffix=i,o(a,e.find_super_dispatcher(a,"initialize",n,!1),[t,r,e.const_get_relative(f,"MATCH_ANYTHING")],null)},n.$$arity=2,n.$$parameters=[["req","change_details"],["req","expected_before"]]),e.defn(p,"$to",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"to"),r.expected_after=t,r.description_suffix=" to "+r.$description_of(t),r},$.$$arity=1,$.$$parameters=[["req","value"]]),e.defn(p,"$does_not_match?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),c(a.description_suffix)&&a.$raise(e.const_get_relative(f,"NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported"),a.event_proc=t,!!c(e.const_get_relative(f,"Proc")["$==="](t))&&(a.change_details.$perform_change(t),c(r=a.change_details["$changed?"]()["$!"]())?a["$matches_before?"]():r)},_.$$arity=1,_.$$parameters=[["req","event_proc"]]),e.defn(p,"$failure_message_when_negated",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),c(e.const_get_relative(f,"Proc")["$==="](t.event_proc))?c(t["$matches_before?"]())?t.$did_change_failure():t.$before_value_failure():t.$not_given_a_block_failure()},l.$$arity=0,l.$$parameters=[]),p.$private(),e.defn(p,"$change_description",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"change_description"),"from "+t.$description_of(t.expected_before)+t.description_suffix},u.$$arity=0,u.$$parameters=[])}(p[0],e.const_get_relative(p,"SpecificValuesChange"),p),function(t,$super,r){function a(){}var n,$,c,_,l=a=s(t,$super,"ChangeToValue",a),u=l.$$proto,p=[l].concat(r);u.expected_after=u.description_suffix=i,e.defn(l,"$initialize",n=function(t,r){var a=this,$=n.$$p;$&&(n.$$p=null);var s=arguments.length;return 2!==s&&e.ac(s,2,this,"initialize"),a.description_suffix=i,o(a,e.find_super_dispatcher(a,"initialize",n,!1),[t,e.const_get_relative(p,"MATCH_ANYTHING"),r],null)},n.$$arity=2,n.$$parameters=[["req","change_details"],["req","expected_after"]]),e.defn(l,"$from",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"from"),r.expected_before=t,r.description_suffix=" from "+r.$description_of(t),r},$.$$arity=1,$.$$parameters=[["req","value"]]),e.defn(l,"$does_not_match?",c=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(e.const_get_relative(p,"NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported")},c.$$arity=1,c.$$parameters=[["req","_event_proc"]]),l.$private(),e.defn(l,"$change_description",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"change_description"),"to "+t.$description_of(t.expected_after)+t.description_suffix},_.$$arity=0,_.$$parameters=[])}(p[0],e.const_get_relative(p,"SpecificValuesChange"),p),function(t,$super,r){function n(){}var $,_,l,u,p,d=n=s(t,$super,"ChangeDetails",n),f=d.$$proto,h=[d].concat(r);f.actual_before=f.actual_after=f.value_proc=i,d.$attr_reader("message","actual_before","actual_after"),e.defn(d,"$initialize",$=function(t,r){var a,n,s=this,_=$.$$p,l=_||i;null==t&&(t=i),null==r&&(r=i),_&&($.$$p=null);var u=arguments.length;return u>2&&e.ac(u,-1,this,"initialize"),c(c(a=t)?r["$!"]():a)&&s.$raise(e.const_get_relative(h,"ArgumentError"),"`change` requires either an object and message (`change(obj, :msg)`) or a block (`change { }`). You passed an object but no message."),s.message=function(){return c(r)?"#"+r:"result"}(),s.value_proc=c(a=l)?a:o(s,"lambda",[],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"initialize")}return t.$__send__(r)},n.$$s=s,n.$$arity=0,n.$$parameters=[],n))},$.$$arity=-1,$.$$parameters=[["opt","receiver"],["opt","message"],["block","block"]]),e.defn(d,"$perform_change",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"perform_change"),r.actual_before=r.$evaluate_value_proc(),t.$call(),r.actual_after=r.$evaluate_value_proc()},_.$$arity=1,_.$$parameters=[["req","event_proc"]]),e.defn(d,"$changed?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"changed?"),t.actual_before["$!="](t.actual_after)},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$actual_delta",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_delta"),a(t.actual_after,t.actual_before)},u.$$arity=0,u.$$parameters=[]),d.$private(),e.defn(d,"$evaluate_value_proc",p=function(){var t=this,r=i,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"evaluate_value_proc"),function(){return r=a=t.value_proc.$call(),e.const_get_relative(h,"IO")["$==="](r)?a:e.const_get_relative(h,"Enumerable")["$==="](r)||e.const_get_relative(h,"String")["$==="](r)?a.$dup():a}()},p.$$arity=0,p.$$parameters=[])}(p[0],null,p)}(p[0],p)}(p[0],p)}(n[0],n)},Opal.modules["rspec/matchers/built_in/compound"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.truthy,c=e.send,_=e.hash2;return e.add_stubs(["$attr_reader","$raise","$conjunction","$singleline_message","$description","$matcher_1","$matcher_2","$matcher_supports_block_expectations?","$matcher_expects_call_stack_jump?","$private","$clone","$supports_block_expectations?","$===","$new","$join","$map","$lines","$=~","$+","$failure_message","$multiline?","$multiline_message","$indent_multiline_message","$sub","$>","$count","$matcher_matches?","$matches?","$order_block_matchers","$inner_matcher_block","$[]=","$-","$fetch","$empty?","$call","$class","$expects_call_stack_jump?","$matcher_1_matches?","$matcher_2_matches?","$compound_failure_message"]),function(n,l){var u,p=u=$(n,"RSpec"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"Matchers"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"BuiltIn"),d=(p.$$proto,[p].concat(l));!function(n,$super,$){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S=l=s(n,$super,"Compound",l),M=S.$$proto,O=[S].concat($);M.matcher_1=M.matcher_2=M.evaluator=i,S.$attr_reader("matcher_1","matcher_2"),e.defn(S,"$initialize",u=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.matcher_1=t,a.matcher_2=r},u.$$arity=2,u.$$parameters=[["req","matcher_1"],["req","matcher_2"]]),e.defn(S,"$does_not_match?",p=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(e.const_get_relative(O,"NotImplementedError"),"`expect(...).not_to matcher."+t.$conjunction()+" matcher` is not supported, since it creates a bit of an ambiguity. Instead, define negated versions of whatever matchers you wish to negate with `RSpec::Matchers.define_negated_matcher` and use `expect(...).to matcher."+t.$conjunction()+" matcher`.")},p.$$arity=1,p.$$parameters=[["req","_actual"]]),e.defn(S,"$description",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$singleline_message(t.$matcher_1().$description(),t.$matcher_2().$description())},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$supports_block_expectations?",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"supports_block_expectations?"),o(t=r["$matcher_supports_block_expectations?"](r.$matcher_1()))?r["$matcher_supports_block_expectations?"](r.$matcher_2()):t},f.$$arity=0,f.$$parameters=[]),e.defn(S,"$expects_call_stack_jump?",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expects_call_stack_jump?"),o(t=e.const_get_relative(O,"NestedEvaluator")["$matcher_expects_call_stack_jump?"](r.$matcher_1()))?t:e.const_get_relative(O,"NestedEvaluator")["$matcher_expects_call_stack_jump?"](r.$matcher_2())},h.$$arity=0,h.$$parameters=[]),S.$private(),e.defn(S,"$initialize_copy",m=function(){var t=this,r=m.$$p,a=i,n=i,$=i;r&&(m.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"initialize_copy"),n=0,$=arguments.length,a=new Array($);n<$;n++)a[n]=arguments[n];return t.matcher_1=t.matcher_1.$clone(),t.matcher_2=t.matcher_2.$clone(),c(t,e.find_super_dispatcher(t,"initialize_copy",m,!1),a,r)},m.$$arity=1,m.$$parameters=[["req","other"]]),e.defn(S,"$match",g=function(t,r){var a,n=this,$=i,s=arguments.length;return 2!==s&&e.ac(s,2,this,"match"),$=function(){return o(o(a=n["$supports_block_expectations?"]())?e.const_get_relative(O,"Proc")["$==="](r):a)?e.const_get_relative(O,"NestedEvaluator"):e.const_get_relative(O,"SequentialEvaluator")}(),n.evaluator=$.$new(r,n.$matcher_1(),n.$matcher_2())},g.$$arity=2,g.$$parameters=[["req","_expected"],["req","actual"]]),e.defn(S,"$indent_multiline_message",v=function(r){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"indent_multiline_message"),c(r.$lines(),"map",[],(a=function(r){a.$$s;if(null==r&&(r=i),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"indent_multiline_message")}return o(r["$=~"](/\S/))?t("   ",r):r},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","line"]],a)).$join()},v.$$arity=1,v.$$parameters=[["req","message"]]),e.defn(S,"$compound_failure_message",y=function(){var t,r=this,a=i,n=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"compound_failure_message"),a=r.$matcher_1().$failure_message(),n=r.$matcher_2().$failure_message(),o(o(t=r["$multiline?"](a))?t:r["$multiline?"](n))?r.$multiline_message(a,n):r.$singleline_message(a,n)},y.$$arity=0,y.$$parameters=[]),e.defn(S,"$multiline_message",b=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"multiline_message"),[a.$indent_multiline_message(t.$sub(/\n+$/,"")),"..."+a.$conjunction()+":",a.$indent_multiline_message(r.$sub(/^\n+/,""))].$join("\n\n")},b.$$arity=2,b.$$parameters=[["req","message_1"],["req","message_2"]]),e.defn(S,"$multiline?",x=function(t){var a=arguments.length;return 1!==a&&e.ac(a,1,this,"multiline?"),r(t.$lines().$count(),1)},x.$$arity=1,x.$$parameters=[["req","message"]]),e.defn(S,"$singleline_message",k=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"singleline_message"),[t,a.$conjunction(),r].$join(" ")},k.$$arity=2,k.$$parameters=[["req","message_1"],["req","message_2"]]),e.defn(S,"$matcher_1_matches?",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matcher_1_matches?"),t.evaluator["$matcher_matches?"](t.$matcher_1())},q.$$arity=0,q.$$parameters=[]),e.defn(S,"$matcher_2_matches?",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matcher_2_matches?"),t.evaluator["$matcher_matches?"](t.$matcher_2())},w.$$arity=0,w.$$parameters=[]),e.defn(S,"$matcher_supports_block_expectations?",E=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"matcher_supports_block_expectations?");try{return t["$supports_block_expectations?"]()}catch(t){if(!e.rescue(t,[e.const_get_relative(O,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},E.$$arity=1,E.$$parameters=[["req","matcher"]]),function(t,$super,r){function a(){}var n,$,o=a=s(t,$super,"SequentialEvaluator",a),c=o.$$proto;[o].concat(r);c.actual=i,e.defn(o,"$initialize",n=function(t){var r=this,a=arguments.length;return a<1&&e.ac(a,-2,this,"initialize"),r.actual=t},n.$$arity=-2,n.$$parameters=[["req","actual"],["rest"]]),e.defn(o,"$matcher_matches?",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matcher_matches?"),t["$matches?"](r.actual)},$.$$arity=1,$.$$parameters=[["req","matcher"]])}(O[0],null,O),function(t,$super,r){function n(){}var $,l,u,p,d,f=n=s(t,$super,"NestedEvaluator",n),h=f.$$proto,m=[f].concat(r);h.match_results=h.actual=h.matcher_2=h.matcher_1=i,e.defn(f,"$initialize",$=function(t,r,n){var $,s,o,l=this,u=i,p=i,d=i,f=arguments.length;return 3!==f&&e.ac(f,3,this,"initialize"),l.actual=t,l.matcher_1=r,l.matcher_2=n,l.match_results=_([],{}),s=l.$order_block_matchers(),$=e.to_ary(s),u=null==$[0]?i:$[0],p=null==$[1]?i:$[1],d=[p,p["$matches?"](c(e.const_get_relative(m,"Proc"),"new",[],(o=function(){var t,r=o.$$s||this;null==r.match_results&&(r.match_results=i);var n=arguments.length,$=n-0;$<0&&($=0),t=new Array($);for(var s=0;s<n;s++)t[s-0]=arguments[s];return d=[u,u["$matches?"](r.$inner_matcher_block(t))],c(r.match_results,"[]=",e.to_a(d)),d[a(d.length,1)]},o.$$s=l,o.$$arity=-1,o.$$parameters=[["rest","args"]],o)))],c(l.match_results,"[]=",e.to_a(d)),d[a(d.length,1)]},$.$$arity=3,$.$$parameters=[["req","actual"],["req","matcher_1"],["req","matcher_2"]]),e.defn(f,"$matcher_matches?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matcher_matches?"),r.match_results.$fetch(t)},l.$$arity=1,l.$$parameters=[["req","matcher"]]),f.$private(),e.defn(f,"$inner_matcher_block",u=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"inner_matcher_block"),o(t["$empty?"]())?a.actual:c(e.const_get_relative(m,"Proc"),"new",[],(r=function(){var a,n=r.$$s||this;null==n.matcher_1&&(n.matcher_1=i),null==n.matcher_2&&(n.matcher_2=i),null==n.actual&&(n.actual=i);var $=arguments.length,s=$-0;s<0&&(s=0),a=new Array(s);for(var _=0;_<$;_++)a[_-0]=arguments[_];return o(a["$empty?"]())||n.$raise(e.const_get_relative(m,"ArgumentError"),"("+n.matcher_1.$description()+") and ("+n.matcher_2.$description()+") cannot be combined in a compound expectation since both matchers pass arguments to the block."),c(n.actual,"call",e.to_a(t))},r.$$s=a,r.$$arity=-1,r.$$parameters=[["rest","inner_args"]],r))},u.$$arity=1,u.$$parameters=[["req","outer_args"]]),e.defn(f,"$order_block_matchers",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"order_block_matchers"),o(t.$class()["$matcher_expects_call_stack_jump?"](t.matcher_2))?o(t.$class()["$matcher_expects_call_stack_jump?"](t.matcher_1))?t.$raise(e.const_get_relative(m,"ArgumentError"),"("+t.matcher_1.$description()+") and ("+t.matcher_2.$description()+") cannot be combined in a compound expectation because they both expect a call stack jump."):[t.matcher_2,t.matcher_1]:[t.matcher_1,t.matcher_2]},p.$$arity=0,p.$$parameters=[]),e.defs(f,"$matcher_expects_call_stack_jump?",d=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"matcher_expects_call_stack_jump?");try{return t["$expects_call_stack_jump?"]()}catch(t){if(!e.rescue(t,[e.const_get_relative(m,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},d.$$arity=1,d.$$parameters=[["req","matcher"]])}(O[0],null,O),function(t,$super,r){function a(){}var n,$,_,l=a=s(t,$super,"And",a);l.$$proto,[l].concat(r);e.defn(l,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),o(t["$matcher_1_matches?"]())?t.$matcher_2().$failure_message():o(t["$matcher_2_matches?"]())?t.$matcher_1().$failure_message():t.$compound_failure_message()},n.$$arity=0,n.$$parameters=[]),l.$private(),e.defn(l,"$match",$=function(){var t,r=this,a=$.$$p,n=i,s=i,_=i;for(a&&($.$$p=null),s=0,_=arguments.length,n=new Array(_);s<_;s++)n[s]=arguments[s];return c(r,e.find_super_dispatcher(r,"match",$,!1),n,a),o(t=r["$matcher_1_matches?"]())?r["$matcher_2_matches?"]():t},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(l,"$conjunction",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"conjunction"),"and"},_.$$arity=0,_.$$parameters=[])}(O[0],S,O),function(t,$super,r){function a(){}var n,$,_,l=a=s(t,$super,"Or",a);l.$$proto,[l].concat(r);e.defn(l,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),t.$compound_failure_message()},n.$$arity=0,n.$$parameters=[]),l.$private(),e.defn(l,"$match",$=function(){var t,r=this,a=$.$$p,n=i,s=i,_=i;for(a&&($.$$p=null),s=0,_=arguments.length,n=new Array(_);s<_;s++)n[s]=arguments[s];return c(r,e.find_super_dispatcher(r,"match",$,!1),n,a),o(t=r["$matcher_1_matches?"]())?t:r["$matcher_2_matches?"]()},$.$$arity=-1,$.$$parameters=[["rest"]]),e.defn(l,"$conjunction",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"conjunction"),"or"},_.$$arity=0,_.$$parameters=[])}(O[0],S,O)}(d[0],e.const_get_relative(d,"BaseMatcher"),d)}(d[0],d)}(d[0],d)}(n[0],n)},Opal.modules["rspec/matchers/built_in/contain_exactly"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.truthy,c=e.send,_=e.hash2;return e.add_stubs(["$===","$actual","$inspect","$safe_sort","$surface_descriptions_in","$expected","$+","$empty?","$missing_items","$extra_items","$to_sentence","$private","$convert_actual_to_an_array","$match_when_sorted?","$values_match?","$respond_to?","$to_ary","$enumerable?","$to_a","$sort","$map","$unmatched_expected_indexes","$best_solution","$[]","$unmatched_actual_indexes","$find_best_solution","$pairings_maximizer","$new","$size","$each_with_index","$<<","$>","$unmatched_item_count","$indeterminate_expected_indexes","$indeterminate_actual_indexes","$candidate?","$count","$class","$attr_reader","$categorize_indexes","$solution","$first","$expected_to_actual_matched_indexes","$each","$best_solution_for_pairing","$ideal?","$worse_than?","$each_pair","$!","$reciprocal_single_match?","$one?","$==","$apply_pairing_to","$delete","$actual_to_expected_matched_indexes","$inject","$-","$[]="]),function(n,l){var u,p=u=$(n,"RSpec"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"Matchers"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"BuiltIn"),d=(p.$$proto,[p].concat(l));!function(n,$super,$){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k=l=s(n,$super,"ContainExactly",l),q=k.$$proto,w=[k].concat($);q.missing_items=q.extra_items=q.best_solution=q.pairings_maximizer=i,e.defn(k,"$failure_message",u=function(){var r=this,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message"),o(e.const_get_relative(w,"Array")["$==="](r.$actual()))?(a="expected collection contained:  "+r.$safe_sort(r.$surface_descriptions_in(r.$expected())).$inspect()+"\n",a=t(a,"actual collection contained:    "+r.$safe_sort(r.$actual()).$inspect()+"\n"),o(r.$missing_items()["$empty?"]())||(a=t(a,"the missing elements were:      "+r.$safe_sort(r.$surface_descriptions_in(r.$missing_items())).$inspect()+"\n")),o(r.$extra_items()["$empty?"]())||(a=t(a,"the extra elements were:        "+r.$safe_sort(r.$extra_items()).$inspect()+"\n")),a):"expected a collection that can be converted to an array with `#to_ary` or `#to_a`, but got "+r.$actual().$inspect()},u.$$arity=0,u.$$parameters=[]),e.defn(k,"$failure_message_when_negated",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.$actual().$inspect()+" not to contain exactly"+t.$to_sentence(t.$surface_descriptions_in(t.$expected()))},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$description",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"contain exactly"+t.$to_sentence(t.$surface_descriptions_in(t.$expected()))},d.$$arity=0,d.$$parameters=[]),k.$private(),e.defn(k,"$match",f=function(){var t,r,a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"match"),!!o(a.$convert_actual_to_an_array())&&(o(t=a["$match_when_sorted?"]())?t:o(r=a.$extra_items()["$empty?"]())?a.$missing_items()["$empty?"]():r)},f.$$arity=2,f.$$parameters=[["req","_expected"],["req","_actual"]]),e.defn(k,"$match_when_sorted?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"match_when_sorted?"),t["$values_match?"](t.$safe_sort(t.$expected()),t.$safe_sort(t.$actual()))},h.$$arity=0,h.$$parameters=[]),e.defn(k,"$convert_actual_to_an_array",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"convert_actual_to_an_array"),o(r.$actual()["$respond_to?"]("to_ary"))?r.actual=r.$actual().$to_ary():!!o(o(t=r["$enumerable?"](r.$actual()))?r.$actual()["$respond_to?"]("to_a"):t)&&(r.actual=r.$actual().$to_a())},m.$$arity=0,m.$$parameters=[]),e.defn(k,"$safe_sort",g=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"safe_sort");try{return t.$sort()}catch(r){if(!e.rescue(r,[e.const_get_relative(w,"StandardError")]))throw r;try{return t}finally{e.pop_exception()}}},g.$$arity=1,g.$$parameters=[["req","array"]]),e.defn(k,"$missing_items",v=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"missing_items"),a.missing_items=o(t=a.missing_items)?t:c(a.$best_solution().$unmatched_expected_indexes(),"map",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"missing_items")}return a.$expected()["$[]"](t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","index"]],r))},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$extra_items",y=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"extra_items"),a.extra_items=o(t=a.extra_items)?t:c(a.$best_solution().$unmatched_actual_indexes(),"map",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"extra_items")}return a.$actual()["$[]"](t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","index"]],r))},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$best_solution",b=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"best_solution"),r.best_solution=o(t=r.best_solution)?t:r.$pairings_maximizer().$find_best_solution()},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$pairings_maximizer",x=function(){var t,r,a,n,$=this,s=i,_=i,l=arguments.length;return 0!==l&&e.ac(l,0,this,"pairings_maximizer"),$.pairings_maximizer=o(t=$.pairings_maximizer)?t:(s=e.const_get_relative(w,"Hash")["$[]"](c(e.const_get_relative(w,"Array"),"new",[$.$expected().$size()],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"pairings_maximizer")}return[t,[]]},r.$$s=$,r.$$arity=1,r.$$parameters=[["req","i"]],r))),_=e.const_get_relative(w,"Hash")["$[]"](c(e.const_get_relative(w,"Array"),"new",[$.$actual().$size()],(a=function(t){a.$$s;if(null==t&&(t=i),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"pairings_maximizer")}return[t,[]]},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","i"]],a))),c($.$expected(),"each_with_index",[],(n=function(t,r){var a,$=n.$$s||this;if(null==t&&(t=i),null==r&&(r=i),n.$$is_lambda||n.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"pairings_maximizer")}return c($.$actual(),"each_with_index",[],(a=function(n,$){var c=a.$$s||this;if(null==n&&(n=i),null==$&&($=i),a.$$is_lambda||a.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"pairings_maximizer")}return o(c["$values_match?"](t,n))?(s["$[]"](r)["$<<"]($),_["$[]"]($)["$<<"](r)):i},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","a"],["req","ai"]],a))},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","e"],["req","ei"]],n)),e.const_get_relative(w,"PairingsMaximizer").$new(s,_))},x.$$arity=0,x.$$parameters=[]),function(n,$super,$){function l(){}var u,p,d,f,h,m,g,v,y=l=s(n,$super,"PairingsMaximizer",l),b=(y.$$proto,[y].concat($));e.const_set(b[0],"Solution",c(e.const_get_relative(b,"Struct"),"new",["unmatched_expected_indexes","unmatched_actual_indexes","indeterminate_expected_indexes","indeterminate_actual_indexes"],(u=function(){var a,n,$,s,c,_=u.$$s||this;if(u.$$is_lambda||u.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"<class:PairingsMaximizer>")}return e.def(_,"$worse_than?",a=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"worse_than?"),r(a.$unmatched_item_count(),t.$unmatched_item_count())},a.$$arity=1,a.$$parameters=[["req","other"]]),e.def(_,"$candidate?",n=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"candidate?"),o(t=r.$indeterminate_expected_indexes()["$empty?"]())?r.$indeterminate_actual_indexes()["$empty?"]():t},n.$$arity=0,n.$$parameters=[]),e.def(_,"$ideal?",$=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"ideal?"),o(t=a["$candidate?"]())?o(r=a.$unmatched_expected_indexes()["$empty?"]())?r:a.$unmatched_actual_indexes()["$empty?"]():t},$.$$arity=0,$.$$parameters=[]),e.def(_,"$unmatched_item_count",s=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"unmatched_item_count"),t(r.$unmatched_expected_indexes().$count(),r.$unmatched_actual_indexes().$count())},s.$$arity=0,s.$$parameters=[]),e.def(_,"$+",c=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"+"),a.$class().$new(t(a.$unmatched_expected_indexes(),r.$unmatched_expected_indexes()),t(a.$unmatched_actual_indexes(),r.$unmatched_actual_indexes()),[],[])},c.$$arity=1,c.$$parameters=[["req","derived_candidate_solution"]]),i&&"+"},u.$$s=y,u.$$arity=0,u.$$parameters=[],u))),y.$attr_reader("expected_to_actual_matched_indexes","actual_to_expected_matched_indexes","solution"),e.defn(y,"$initialize",p=function(t,r){var a,n,$=this,s=i,o=i,c=i,_=i,l=arguments.length;return 2!==l&&e.ac(l,2,this,"initialize"),$.expected_to_actual_matched_indexes=t,$.actual_to_expected_matched_indexes=r,n=$.$categorize_indexes(t,r),a=e.to_ary(n),s=null==a[0]?i:a[0],o=null==a[1]?i:a[1],n=$.$categorize_indexes(r,t),a=e.to_ary(n),c=null==a[0]?i:a[0],_=null==a[1]?i:a[1],$.solution=e.const_get_relative(b,"Solution").$new(s,c,o,_)},p.$$arity=2,p.$$parameters=[["req","expected_to_actual_matched_indexes"],["req","actual_to_expected_matched_indexes"]]),e.defn(y,"$find_best_solution",d=function(){try{var t,r=this,a=i,n=i,$=i,s=arguments.length;return 0!==s&&e.ac(s,0,this,"find_best_solution"),o(r.$solution()["$candidate?"]())?r.$solution():(a=e.const_get_relative(b,"NullSolution"),n=r.$solution().$indeterminate_expected_indexes().$first(),$=r.$expected_to_actual_matched_indexes()["$[]"](n),c($,"each",[],(t=function(r){var $=t.$$s||this,s=i;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"find_best_solution")}return s=$.$best_solution_for_pairing(n,r),o(s["$ideal?"]())&&e.ret(s),o(a["$worse_than?"](s))?a=s:i},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","actual_index"]],t)),a)}catch(t){if(t===e.returner)return t.$v;throw t}},d.$$arity=0,d.$$parameters=[]),y.$private(),e.const_set(b[0],"NullSolution",c(e.const_get_relative(b,"Class"),"new",[],(f=function(){var t,r=f.$$s||this;if(f.$$is_lambda||f.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"<class:PairingsMaximizer>")}return e.defs(r,"$worse_than?",t=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"worse_than?"),!0},t.$$arity=1,t.$$parameters=[["req","_other"]])},f.$$s=y,f.$$arity=0,f.$$parameters=[],f))),e.defn(y,"$categorize_indexes",h=function(t,r){var a,n=this,$=i,s=i,_=arguments.length;return 2!==_&&e.ac(_,2,this,"categorize_indexes"),$=[],s=[],c(t,"each_pair",[],(a=function(t,n){var c=a.$$s||this
;if(null==t&&(t=i),null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"categorize_indexes")}return o(n["$empty?"]())?$["$<<"](t):o(c["$reciprocal_single_match?"](n,t,r)["$!"]())?s["$<<"](t):i},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","index"],["req","matches"]],a)),[$,s]},h.$$arity=2,h.$$parameters=[["req","indexes_to_categorize"],["req","other_indexes"]]),e.defn(y,"$reciprocal_single_match?",m=function(t,r,a){var n=arguments.length;return 3!==n&&e.ac(n,3,this,"reciprocal_single_match?"),!!o(t["$one?"]())&&a["$[]"](t.$first())["$=="]([r])},m.$$arity=3,m.$$parameters=[["req","matches"],["req","index"],["req","other_list"]]),e.defn(y,"$best_solution_for_pairing",g=function(r,a){var n=this,$=i,s=i,o=arguments.length;return 2!==o&&e.ac(o,2,this,"best_solution_for_pairing"),$=n.$apply_pairing_to(n.$solution().$indeterminate_expected_indexes(),n.$expected_to_actual_matched_indexes(),a),$.$delete(r),s=n.$apply_pairing_to(n.$solution().$indeterminate_actual_indexes(),n.$actual_to_expected_matched_indexes(),r),s.$delete(a),t(n.$solution(),n.$class().$new($,s).$find_best_solution())},g.$$arity=2,g.$$parameters=[["req","expected_index"],["req","actual_index"]]),e.defn(y,"$apply_pairing_to",v=function(t,r,n){var $,s=this,o=arguments.length;return 3!==o&&e.ac(o,3,this,"apply_pairing_to"),c(t,"inject",[_([],{})],($=function(t,s){var o=($.$$s,i);if(null==t&&(t=i),null==s&&(s=i),$.$$is_lambda||$.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"apply_pairing_to")}return o=[s,a(r["$[]"](s),[n])],c(t,"[]=",e.to_a(o)),o[a(o.length,1)],t},$.$$s=s,$.$$arity=2,$.$$parameters=[["req","accum"],["req","index"]],$))},v.$$arity=3,v.$$parameters=[["req","indeterminates"],["req","original_matches"],["req","other_list_index"]])}(w[0],null,w)}(d[0],e.const_get_relative(d,"BaseMatcher"),d)}(d[0],d)}(d[0],d)}(n[0],n)},Opal.modules["rspec/matchers/built_in/cover"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send;return e.add_stubs(["$all?","$cover?","$none?","$expected"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_=$=n(t,$super,"Cover",$),l=_.$$proto;[_].concat(a);l.expected=r,e.defn(_,"$initialize",s=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},s.$$arity=-1,s.$$parameters=[["rest","expected"]]),e.defn(_,"$matches?",o=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"matches?"),n.actual=t,i(n.expected,"all?",[],(a=function(n){a.$$s;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"matches?")}return t["$cover?"](n)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","e"]],a))},o.$$arity=1,o.$$parameters=[["req","range"]]),e.defn(_,"$does_not_match?",c=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"does_not_match?"),n.actual=t,i(n.$expected(),"none?",[],(a=function(n){a.$$s;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"does_not_match?")}return t["$cover?"](n)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","e"]],a))},c.$$arity=1,c.$$parameters=[["req","range"]])}(c[0],e.const_get_relative(c,"BaseMatcher"),c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/start_and_end_with"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$==","$length","$first","$tap","$<<","$!","$respond_to?","$actual","$===","$expected","$name_to_sentence","$inspect","$surface_descriptions_in","$private","$subset_matches?","$element_matches?","$new","$values_match?","$[]","$-@"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"StartAndEndWith",s),d=(p.$$proto,[p].concat(a));e.defn(p,"$initialize",o=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.actual_does_not_have_ordered_elements=!1,t.expected=function(){return e.$length()["$=="](1)?e.$first():e}()},o.$$arity=-1,o.$$parameters=[["rest","expected"]]),e.defn(p,"$failure_message",c=function(){var t,a=this,n=c.$$p,s=r,o=r,_=r;n&&(c.$$p=null);var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message"),o=0,_=arguments.length,s=new Array(_);o<_;o++)s[o]=arguments[o];return i(i(a,e.find_super_dispatcher(a,"failure_message",c,!1),s,n),"tap",[],(t=function(a){var n=t.$$s||this;if(null==n.actual_does_not_have_ordered_elements&&(n.actual_does_not_have_ordered_elements=r),null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"failure_message")}return $(n.actual_does_not_have_ordered_elements)?a["$<<"](", but it does not have ordered elements"):$(n.$actual()["$respond_to?"]("[]")["$!"]())?a["$<<"](", but it cannot be indexed using #[]"):r},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","msg"]],t))},c.$$arity=0,c.$$parameters=[]),e.defn(p,"$description",_=function(){var t=this,a=_.$$p,n=r,s=r,o=r;a&&(_.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"description"),s=0,o=arguments.length,n=new Array(o);s<o;s++)n[s]=arguments[s];return $(e.const_get_relative(d,"Hash")["$==="](t.$expected()))?t.$name_to_sentence()+" "+t.$surface_descriptions_in(t.$expected()).$inspect():i(t,e.find_super_dispatcher(t,"description",_,!1),n,a)},_.$$arity=0,_.$$parameters=[]),p.$private(),e.defn(p,"$match",l=function(t,r){var a,n=this,i=arguments.length;if(2!==i&&e.ac(i,2,this,"match"),!$(r["$respond_to?"]("[]")))return!1;try{return $($(a=e.const_get_relative(d,"Struct")["$==="](t)["$!"]())?t["$respond_to?"]("length"):a)?n["$subset_matches?"]():n["$element_matches?"]()}catch(t){if(!e.rescue(t,[e.const_get_relative(d,"ArgumentError")]))throw t;try{return n.actual_does_not_have_ordered_elements=!0,!1}finally{e.pop_exception()}}},l.$$arity=2,l.$$parameters=[["req","expected"],["req","actual"]]),e.defn(p,"$actual_is_unordered",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_is_unordered"),e.const_get_relative(d,"ArgumentError").$new(t.$actual().$inspect()+" does not have ordered elements")},u.$$arity=0,u.$$parameters=[])}(_[0],e.const_get_relative(_,"BaseMatcher"),_),function(t,$super,r){function a(){}var i,$,s=a=n(t,$super,"StartWith",a);s.$$proto,[s].concat(r);s.$private(),e.defn(s,"$subset_matches?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"subset_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](0,t.$expected().$length()))},i.$$arity=0,i.$$parameters=[]),e.defn(s,"$element_matches?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"element_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](0))},$.$$arity=0,$.$$parameters=[])}(_[0],e.const_get_relative(_,"StartAndEndWith"),_),function(t,$super,r){function a(){}var i,$,s=a=n(t,$super,"EndWith",a);s.$$proto,[s].concat(r);s.$private(),e.defn(s,"$subset_matches?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"subset_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](t.$expected().$length()["$-@"](),t.$expected().$length()))},i.$$arity=0,i.$$parameters=[]),e.defn(s,"$element_matches?",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"element_matches?"),t["$values_match?"](t.$expected(),t.$actual()["$[]"](-1))},$.$$arity=0,$.$$parameters=[])}(_[0],e.const_get_relative(_,"StartAndEndWith"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/eq"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$format_object","$expected","$actual","$name_to_sentence","$inspect","$private","$==","$===","$format_time","$format_date_time","$to_s","$method_defined?","$strftime","$%","$nsec","$usec"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l,u,p,d,f,h=$=n(t,$super,"Eq",$),m=h.$$proto,g=[h].concat(a);m.expected=r,e.defn(h,"$failure_message",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"\nexpected: "+t.$format_object(t.$expected())+"\n     got: "+t.$format_object(t.$actual())+"\n\n(compared using ==)\n"},s.$$arity=0,s.$$parameters=[]),e.defn(h,"$failure_message_when_negated",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected: value != "+t.$format_object(t.$expected())+"\n     got: "+t.$format_object(t.$actual())+"\n\n(compared using ==)\n"},o.$$arity=0,o.$$parameters=[]),e.defn(h,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$name_to_sentence()+" "+t.expected.$inspect()},c.$$arity=0,c.$$parameters=[]),e.defn(h,"$diffable?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},_.$$arity=0,_.$$parameters=[]),h.$private(),e.defn(h,"$match",l=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$=="](t)},l.$$arity=2,l.$$parameters=[["req","expected"],["req","actual"]]),e.defn(h,"$format_object",u=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"format_object"),i(e.const_get_relative(g,"Time")["$==="](t))?n.$format_time(t):i(i(a=e.const_get_relative(g,"DateTime","skip_raise")?"constant":r)?e.const_get_relative(g,"DateTime")["$==="](t):a)?n.$format_date_time(t):i(i(a=e.const_get_relative(g,"BigDecimal","skip_raise")?"constant":r)?e.const_get_relative(g,"BigDecimal")["$==="](t):a)?t.$to_s("F")+" ("+t.$inspect()+")":t.$inspect()},u.$$arity=1,u.$$parameters=[["req","object"]]),e.const_set(g[0],"TIME_FORMAT","%Y-%m-%d %H:%M:%S"),i(e.const_get_relative(g,"Time")["$method_defined?"]("nsec"))?e.defn(h,"$format_time",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_time"),t.$strftime(e.const_get_relative(g,"TIME_FORMAT")+"."+"%09d"["$%"](t.$nsec())+" %z")},p.$$arity=1,p.$$parameters=[["req","time"]]):e.defn(h,"$format_time",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"format_time"),t.$strftime(e.const_get_relative(g,"TIME_FORMAT")+"."+"%06d"["$%"](t.$usec())+" %z")},d.$$arity=1,d.$$parameters=[["req","time"]]),e.const_set(g[0],"DATE_TIME_FORMAT","%a, %d %b %Y %H:%M:%S.%N %z"),e.defn(h,"$format_date_time",f=function(t){var a=arguments.length;return 1!==a&&e.ac(a,1,this,"format_date_time"),i(e.const_get_relative(g,"ActiveSupport","skip_raise")?"constant":r)?t.$strftime(e.const_get_relative(g,"DATE_TIME_FORMAT")):t.$inspect()},f.$$arity=1,f.$$parameters=[["req","date_time"]])}(c[0],e.const_get_relative(c,"BaseMatcher"),c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/eql"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$inspect","$expected","$actual","$private","$eql?"]),function(t,n){var i,$=i=r(t,"RSpec"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"Matchers"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=r(t,"BuiltIn"),s=($.$$proto,[$].concat(n));!function(t,$super,r){function n(){}var i,$,s,o,c=n=a(t,$super,"Eql",n);c.$$proto,[c].concat(r);e.defn(c,"$failure_message",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"\nexpected: "+t.$expected().$inspect()+"\n     got: "+t.$actual().$inspect()+"\n\n(compared using eql?)\n"},i.$$arity=0,i.$$parameters=[]),e.defn(c,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected: value != "+t.$expected().$inspect()+"\n     got: "+t.$actual().$inspect()+"\n\n(compared using eql?)\n"},$.$$arity=0,$.$$parameters=[]),e.defn(c,"$diffable?",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},s.$$arity=0,s.$$parameters=[]),c.$private(),e.defn(c,"$match",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$eql?"](t)},o.$$arity=2,o.$$parameters=[["req","expected"],["req","actual"]])}(s[0],e.const_get_relative(s,"BaseMatcher"),s)}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["rspec/matchers/built_in/equal"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$expected_is_a_literal_singleton?","$simple_failure_message","$detailed_failure_message","$inspect_object","$actual","$expected","$!","$private","$equal?","$include?","$inspect","$actual_inspected","$class","$object_id"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l,u,p,d,f,h=$=n(t,$super,"Equal",$),m=(h.$$proto,[h].concat(a));e.defn(h,"$failure_message",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),i(t["$expected_is_a_literal_singleton?"]())?t.$simple_failure_message():t.$detailed_failure_message()},s.$$arity=0,s.$$parameters=[]),e.defn(h,"$failure_message_when_negated",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"\nexpected not "+t.$inspect_object(t.$actual())+"\n         got "+t.$inspect_object(t.$expected())+"\n\nCompared using equal?, which compares object identity.\n\n"},o.$$arity=0,o.$$parameters=[]),e.defn(h,"$diffable?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"diffable?"),t["$expected_is_a_literal_singleton?"]()["$!"]()},c.$$arity=0,c.$$parameters=[]),h.$private(),e.defn(h,"$match",_=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"match"),r["$equal?"](t)},_.$$arity=2,_.$$parameters=[["req","expected"],["req","actual"]]),e.const_set(m[0],"LITERAL_SINGLETONS",[!0,!1,r]),e.defn(h,"$expected_is_a_literal_singleton?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_is_a_literal_singleton?"),e.const_get_relative(m,"LITERAL_SINGLETONS")["$include?"](t.$expected())},l.$$arity=0,l.$$parameters=[]),e.defn(h,"$actual_inspected",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_inspected"),i(e.const_get_relative(m,"LITERAL_SINGLETONS")["$include?"](t.$actual()))?t.$actual().$inspect():t.$inspect_object(t.$actual())},u.$$arity=0,u.$$parameters=[]),e.defn(h,"$simple_failure_message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"simple_failure_message"),"\nexpected "+t.$expected().$inspect()+"\n     got "+t.$actual_inspected()+"\n"},p.$$arity=0,p.$$parameters=[]),e.defn(h,"$detailed_failure_message",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"detailed_failure_message"),"\nexpected "+t.$inspect_object(t.$expected())+"\n     got "+t.$inspect_object(t.$actual())+"\n\nCompared using equal?, which compares object identity,\nbut expected and actual are not the same object. Use\n`expect(actual).to eq(expected)` if you don't care about\nobject identity in this example.\n\n"},d.$$arity=0,d.$$parameters=[]),e.defn(h,"$inspect_object",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"inspect_object"),"#<"+t.$class()+":"+t.$object_id()+"> => "+t.$inspect()},f.$$arity=1,f.$$parameters=[["req","o"]])}(c[0],e.const_get_relative(c,"BaseMatcher"),c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/exist"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$new","$valid_test?","$actual_exists?","$!","$inspect","$validity_message","$==","$size","$uniq_truthy_values","$first","$existence_values","$===","$last","$private","$uniq","$map","$predicates","$__send__","$actual","$expected","$select","$respond_to?"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p=s=n(t,$super,"Exist",s),d=p.$$proto,f=[p].concat(a);d.actual=d.expected=d.test=r,e.defn(p,"$initialize",o=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},o.$$arity=-1,o.$$parameters=[["rest","expected"]]),e.defn(p,"$matches?",c=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"matches?"),a.actual=t,a.test=e.const_get_relative(f,"ExistenceTest").$new(a.actual,a.expected),i(r=a.test["$valid_test?"]())?a.test["$actual_exists?"]():r},c.$$arity=1,c.$$parameters=[["req","actual"]]),e.defn(p,"$does_not_match?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),a.actual=t,a.test=e.const_get_relative(f,"ExistenceTest").$new(a.actual,a.expected),i(r=a.test["$valid_test?"]())?a.test["$actual_exists?"]()["$!"]():r},_.$$arity=1,_.$$parameters=[["req","actual"]]),e.defn(p,"$failure_message",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual.$inspect()+" to exist"+t.test.$validity_message()},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$failure_message_when_negated",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual.$inspect()+" not to exist"+t.test.$validity_message()},u.$$arity=0,u.$$parameters=[]),function(t,$super,a){function s(){}var o,c,_,l,u,p,d=s=n(t,$super,"ExistenceTest",s),f=d.$$proto;[d].concat(a);f.uniq_truthy_values=f.existence_values=f.predicates=r,e.defn(d,"$valid_test?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"valid_test?"),t.$uniq_truthy_values().$size()["$=="](1)},o.$$arity=0,o.$$parameters=[]),e.defn(d,"$actual_exists?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_exists?"),t.$existence_values().$first()},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$validity_message",_=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"validity_message"),function(){return a=t.$uniq_truthy_values().$size(),(0)["$==="](a)?" but it does not respond to either `exist?` or `exists?`":2["$==="](a)?" but `exist?` and `exists?` returned different values:\n\n exist?: "+t.$existence_values().$first()+"\nexists?: "+t.$existence_values().$last():r}()},_.$$arity=0,_.$$parameters=[]),d.$private(),e.defn(d,"$uniq_truthy_values",l=function(){var t,a,n=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"uniq_truthy_values"),n.uniq_truthy_values=i(t=n.uniq_truthy_values)?t:$(n.$existence_values(),"map",[],(a=function(t){a.$$s;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"uniq_truthy_values")}return t["$!"]()["$!"]()},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","v"]],a)).$uniq()},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$existence_values",u=function(){var t,a,n=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"existence_values"),n.existence_values=i(t=n.existence_values)?t:$(n.$predicates(),"map",[],(a=function(t){var n=a.$$s||this;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"existence_values")}return $(n.$actual(),"__send__",[t].concat(e.to_a(n.$expected())))},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","p"]],a))},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$predicates",p=function(){var t,a,n=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"predicates"),n.predicates=i(t=n.predicates)?t:$(["exist?","exists?"],"select",[],(a=function(t){var n=a.$$s||this;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"predicates")}return n.$actual()["$respond_to?"](t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","p"]],a))},p.$$arity=0,p.$$parameters=[])}(f[0],e.const_get_relative(f,"Struct").$new("actual","expected"),f)}(_[0],e.const_get_relative(_,"BaseMatcher"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/has"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$predicate_accessible?","$predicate_matches?","$!","$validity_message","$predicate","$failure_message_args_description","$join","$compact","$method_description","$args_description","$private","$private_predicate?","$predicate_exists?","$===","$first","$methods","$include?","$private_methods","$to_s","$respond_to?","$__send__","$to_proc","$captures","$match","$gsub","$empty?","$map","$inspect"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q=s=n(t,$super,"Has",s),w=q.$$proto,E=[q].concat(a);w.block=w.actual=w.args=w.predicate=w.method_name=r,e.defn(q,"$initialize",o=function(t){var a,n,i=this,$=o.$$p,s=$||r,c=arguments.length,_=c-1;_<0&&(_=0),n=new Array(_);for(var l=1;l<c;l++)n[l-1]=arguments[l];$&&(o.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"initialize"),a=[t,n,s],i.method_name=a[0],i.args=a[1],i.block=a[2],a},o.$$arity=-2,o.$$parameters=[["req","method_name"],["rest","args"],["block","block"]]),e.defn(q,"$matches?",c=function(t){var a,n=this,$=c.$$p,s=$||r;$&&(c.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"matches?"),n.actual=t,n.block=i(a=n.block)?a:s,i(a=n["$predicate_accessible?"]())?n["$predicate_matches?"]():a},c.$$arity=1,c.$$parameters=[["req","actual"],["block","block"]]),e.defn(q,"$does_not_match?",_=function(t){var a,n=this,$=_.$$p,s=$||r;$&&(_.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"does_not_match?"),n.actual=t,n.block=i(a=n.block)?a:s,i(a=n["$predicate_accessible?"]())?n["$predicate_matches?"]()["$!"]():a},_.$$arity=1,_.$$parameters=[["req","actual"],["block","block"]]),e.defn(q,"$failure_message",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message"),i(t=r.$validity_message())?t:"expected #"+r.$predicate()+r.$failure_message_args_description()+" to return true, got false"},l.$$arity=0,l.$$parameters=[]),e.defn(q,"$failure_message_when_negated",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message_when_negated"),i(t=r.$validity_message())?t:"expected #"+r.$predicate()+r.$failure_message_args_description()+" to return false, got true"},u.$$arity=0,u.$$parameters=[]),e.defn(q,"$description",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),[t.$method_description(),t.$args_description()].$compact().$join(" ")},p.$$arity=0,p.$$parameters=[]),q.$private(),e.defn(q,"$predicate_accessible?",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"predicate_accessible?"),i(t=r["$private_predicate?"]()["$!"]())?r["$predicate_exists?"]():t},d.$$arity=0,d.$$parameters=[]),i(e.const_get_relative(E,"String")["$==="](q.$methods().$first()))?e.defn(q,"$private_predicate?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate().$to_s())},f.$$arity=0,f.$$parameters=[]):e.defn(q,"$private_predicate?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"private_predicate?"),t.actual.$private_methods()["$include?"](t.$predicate())},h.$$arity=0,h.$$parameters=[]),e.defn(q,"$predicate_exists?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"predicate_exists?"),t.actual["$respond_to?"](t.$predicate())},m.$$arity=0,m.$$parameters=[]),e.defn(q,"$predicate_matches?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"predicate_matches?"),$(t.actual,"__send__",[t.$predicate()].concat(e.to_a(t.args)),t.block.$to_proc())},g.$$arity=0,g.$$parameters=[]),e.defn(q,"$predicate",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"predicate"),r.predicate=i(t=r.predicate)?t:"has_"+e.const_get_qualified(e.const_get_relative(E,"Matchers"),"HAS_REGEX").$match(r.method_name.$to_s()).$captures().$first()+"?"},v.$$arity=0,v.$$parameters=[]),e.defn(q,"$method_description",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_description"),t.method_name.$to_s().$gsub("_"," ")},y.$$arity=0,y.$$parameters=[]),e.defn(q,"$args_description",b=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"args_description"),i(a.args["$empty?"]())?r:$(a.args,"map",[],(t=function(a){t.$$s;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"args_description")}return a.$inspect()},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","arg"]],t)).$join(", ")},b.$$arity=0,b.$$parameters=[]),e.defn(q,"$failure_message_args_description",x=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message_args_description"),a=t.$args_description(),i(a)?"("+a+")":r},x.$$arity=0,x.$$parameters=[]),e.defn(q,"$validity_message",k=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"validity_message"),i(t["$private_predicate?"]())?"expected "+t.actual+" to respond to `"+t.$predicate()+"` but `"+t.$predicate()+"` is a private method":i(t["$predicate_exists?"]()["$!"]())?"expected "+t.actual+" to respond to `"+t.$predicate()+"`":r},k.$$arity=0,k.$$parameters=[])}(_[0],e.const_get_relative(_,"BaseMatcher"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/have_attributes"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send;return e.add_stubs(["$attr_reader","$respond_to_attributes?","$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$inspect","$respond_to_failure_message_or","$private","$__send__","$actual_has_attribute?","$actual","$values_match?","$matches?","$respond_to_matcher","$!","$arguments","$with","$new","$keys","$respond_to_failed","$failure_message"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d,f,h,m,g,v=s=n(t,$super,"HaveAttributes",s),y=v.$$proto,b=[v].concat(a);y.respond_to_matcher=r,v.$attr_reader("respond_to_failed"),e.defn(v,"$initialize",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t,r.respond_to_failed=!1},o.$$arity=1,o.$$parameters=[["req","expected"]]),e.defn(v,"$matches?",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,!!i(r["$respond_to_attributes?"]())&&r.$perform_match("all?")},c.$$arity=1,c.$$parameters=[["req","actual"]]),e.defn(v,"$does_not_match?",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.actual=t,!!i(r["$respond_to_attributes?"]())&&r.$perform_match("none?")},_.$$arity=1,_.$$parameters=[["req","actual"]]),e.defn(v,"$description",l=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),a=t.$surface_descriptions_in(t.$expected()),t.$improve_hash_formatting("have attributes "+a.$inspect())},l.$$arity=0,l.$$parameters=[]),e.defn(v,"$failure_message",u=function(){var t,a=this,n=u.$$p,i=r,s=r,o=r;n&&(u.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"failure_message"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return $(a,"respond_to_failure_message_or",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"failure_message")}return $(r,e.find_iter_super_dispatcher(r,"failure_message",t.$$def||u,!1,!0),i,n)},t.$$s=a,t.$$arity=0,t.$$parameters=[],t))},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$failure_message_when_negated",p=function(){var t,a=this,n=p.$$p,i=r,s=r,o=r;n&&(p.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"failure_message_when_negated"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return $(a,"respond_to_failure_message_or",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"failure_message_when_negated")}return $(r,e.find_iter_super_dispatcher(r,"failure_message_when_negated",t.$$def||p,!1,!0),i,n)},t.$$s=a,t.$$arity=0,t.$$parameters=[],t))},p.$$arity=0,p.$$parameters=[]),v.$private(),e.defn(v,"$perform_match",d=function(t){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"perform_match"),$(n.$expected(),"__send__",[t],(a=function(t,n){var i=a.$$s||this;if(null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"perform_match")}return i["$actual_has_attribute?"](t,n)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","attribute_key"],["req","attribute_value"]],a))},d.$$arity=1,d.$$parameters=[["req","predicate"]]),e.defn(v,"$actual_has_attribute?",f=function(t,a){var n=this,i=r,$=arguments.length;return 2!==$&&e.ac($,2,this,"actual_has_attribute?"),i=n.$actual().$__send__(t),n["$values_match?"](a,i)},f.$$arity=2,f.$$parameters=[["req","attribute_key"],["req","attribute_value"]]),e.defn(v,"$respond_to_attributes?",h=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"respond_to_attributes?"),a=t.$respond_to_matcher()["$matches?"](t.$actual()),t.respond_to_failed=a["$!"](),a},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$respond_to_matcher",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"respond_to_matcher"),r.respond_to_matcher=i(t=r.respond_to_matcher)?t:$(e.const_get_relative(b,"RespondTo"),"new",e.to_a(r.$expected().$keys())).$with(0).$arguments()},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$respond_to_failure_message_or",g=function(){var t=this,a=g.$$p,n=a||r;a&&(g.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"respond_to_failure_message_or"),i(t.$respond_to_failed())?t.$respond_to_matcher().$failure_message():t.$improve_hash_formatting(e.yieldX(n,[]))},g.$$arity=0,g.$$parameters=[])}(_[0],e.const_get_relative(_,"BaseMatcher"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/include"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$to_sentence","$+","$invalid_type_message","$private","$respond_to?","$actual","$__send__","$comparing_hash_to_a_subset?","$actual_hash_includes?","$comparing_hash_keys?","$actual_hash_has_key?","$actual_collection_includes?","$is_a?","$fetch","$values_match?","$!","$key?","$any?","$keys","$include?"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"BuiltIn"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k=o=i(r,$super,"Include",o),q=(k.$$proto,[k].concat(n));e.defn(k,"$initialize",c=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},c.$$arity=-1,c.$$parameters=[["rest","expected"]]),e.defn(k,"$matches?",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.$perform_match("all?","all?")},_.$$arity=1,_.$$parameters=[["req","actual"]]),e.defn(k,"$does_not_match?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.actual=t,r.$perform_match("none?","any?")},l.$$arity=1,l.$$parameters=[["req","actual"]]),e.defn(k,"$description",u=function(){var t=this,r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),r=t.$surface_descriptions_in(t.$expected()),t.$improve_hash_formatting("include"+t.$to_sentence(r))},u.$$arity=0,u.$$parameters=[]),e.defn(k,"$failure_message",p=function(){var r=this,n=p.$$p,i=a,s=a,o=a;n&&(p.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"failure_message"),s=0,o=arguments.length,
i=new Array(o);s<o;s++)i[s]=arguments[s];return t(r.$improve_hash_formatting($(r,e.find_super_dispatcher(r,"failure_message",p,!1),i,n)),r.$invalid_type_message())},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$failure_message_when_negated",d=function(){var r=this,n=d.$$p,i=a,s=a,o=a;n&&(d.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"failure_message_when_negated"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return t(r.$improve_hash_formatting($(r,e.find_super_dispatcher(r,"failure_message_when_negated",d,!1),i,n)),r.$invalid_type_message())},d.$$arity=0,d.$$parameters=[]),e.defn(k,"$diffable?",f=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},f.$$arity=0,f.$$parameters=[]),k.$private(),e.defn(k,"$invalid_type_message",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"invalid_type_message"),s(t.$actual()["$respond_to?"]("include?"))?"":", but it does not respond to `include?`"},h.$$arity=0,h.$$parameters=[]),e.defn(k,"$perform_match",m=function(t,r){var n,i=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"perform_match"),!!s(i.$actual()["$respond_to?"]("include?"))&&$(i.$expected(),"__send__",[t],(n=function(t){var i,o=n.$$s||this;if(null==t&&(t=a),n.$$is_lambda||n.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"perform_match")}return s(o["$comparing_hash_to_a_subset?"](t))?$(t,"__send__",[r],(i=function(t){var r,n,$,s=i.$$s||this;if(null==t&&(t=a),t=e.to_ary(t),r=e.slice.call(t,0,t.length),n=r.splice(0,1)[0],null==n&&(n=a),$=r.splice(0,1)[0],null==$&&($=a),i.$$is_lambda||i.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"perform_match")}return s["$actual_hash_includes?"](n,$)},i.$$s=o,i.$$arity=1,i.$$parameters=[["req"]],i.$$has_top_level_mlhs_arg=!0,i)):s(o["$comparing_hash_keys?"](t))?o["$actual_hash_has_key?"](t):o["$actual_collection_includes?"](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","expected_item"]],n))},m.$$arity=2,m.$$parameters=[["req","predicate"],["req","hash_subset_predicate"]]),e.defn(k,"$comparing_hash_to_a_subset?",g=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"comparing_hash_to_a_subset?"),s(r=a.$actual()["$is_a?"](e.const_get_relative(q,"Hash")))?t["$is_a?"](e.const_get_relative(q,"Hash")):r},g.$$arity=1,g.$$parameters=[["req","expected_item"]]),e.defn(k,"$actual_hash_includes?",v=function(t,r){try{var n,i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"actual_hash_includes?"),s=$(i.$actual(),"fetch",[t],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"actual_hash_includes?")}e.ret(!1)},n.$$s=i,n.$$arity=0,n.$$parameters=[],n)),i["$values_match?"](r,s)}catch(t){if(t===e.returner)return t.$v;throw t}},v.$$arity=2,v.$$parameters=[["req","expected_key"],["req","expected_value"]]),e.defn(k,"$comparing_hash_keys?",y=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"comparing_hash_keys?"),s(r=a.$actual()["$is_a?"](e.const_get_relative(q,"Hash")))?t["$is_a?"](e.const_get_relative(q,"Hash"))["$!"]():r},y.$$arity=1,y.$$parameters=[["req","expected_item"]]),e.defn(k,"$actual_hash_has_key?",b=function(t){var r,n,i=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"actual_hash_has_key?"),s(r=i.$actual()["$key?"](t))?r:$(i.$actual().$keys(),"any?",[],(n=function(r){var i=n.$$s||this;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"actual_hash_has_key?")}return i["$values_match?"](t,r)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","key"]],n))},b.$$arity=1,b.$$parameters=[["req","expected_key"]]),e.defn(k,"$actual_collection_includes?",x=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"actual_collection_includes?"),!!s(n.$actual()["$include?"](t))||!!s(n.$actual()["$respond_to?"]("any?"))&&$(n.$actual(),"any?",[],(r=function(n){var i=r.$$s||this;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"actual_collection_includes?")}return i["$values_match?"](t,n)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","value"]],r))},x.$$arity=1,x.$$parameters=[["req","expected_item"]])}(l[0],e.const_get_relative(l,"BaseMatcher"),l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.hash2,o=e.truthy,c=e.send;return e.add_stubs(["$attr_reader","$raise","$iterable?","$improve_hash_formatting","$each","$failed_objects","$<<","$failure_message_for_item","$join","$description_of","$matcher","$private","$index_failed_objects","$empty?","$each_with_index","$actual","$clone","$matches?","$failure_message","$[]=","$-","$indent_multiline_message","$add_new_line_if_needed","$start_with?","$sub","$map","$lines","$=~","$+","$respond_to?"]),function(a,_){var l,u=l=i(a,"RSpec"),p=(u.$$proto,[u].concat(_));!function(a,_){var l,u=l=i(a,"Matchers"),p=(u.$$proto,[u].concat(_));!function(a,_){var l,u=l=i(a,"BuiltIn"),p=(u.$$proto,[u].concat(_));!function(a,$super,i){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x=_=$(a,$super,"All",_),k=x.$$proto,q=[x].concat(i);k.matcher=k.actual=n,x.$attr_reader("matcher","failed_objects"),e.defn(x,"$initialize",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.matcher=t,r.failed_objects=s([],{})},l.$$arity=1,l.$$parameters=[["req","matcher"]]),e.defn(x,"$does_not_match?",u=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"does_not_match?"),t.$raise(e.const_get_relative(q,"NotImplementedError"),"`expect().not_to all( matcher )` is not supported.")},u.$$arity=1,u.$$parameters=[["req","_actual"]]),e.defn(x,"$failure_message",p=function(){var t,r=this,a=p.$$p,i=n,$=n,s=n,_=n;a&&(p.$$p=null);var l=arguments.length;for(0!==l&&e.ac(l,0,this,"failure_message"),s=0,_=arguments.length,$=new Array(_);s<_;s++)$[s]=arguments[s];return o(r["$iterable?"]())?(i=[r.$improve_hash_formatting(c(r,e.find_super_dispatcher(r,"failure_message",p,!1),$,a))],c(r.$failed_objects(),"each",[],(t=function(r,a){var $=t.$$s||this;if(null==r&&(r=n),null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"failure_message")}return i["$<<"]($.$failure_message_for_item(r,a))},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","index"],["req","matcher_failure_message"]],t)),i.$join("\n\n")):r.$improve_hash_formatting(c(r,e.find_super_dispatcher(r,"failure_message",p,!1),$,a))+", but was not iterable"},p.$$arity=0,p.$$parameters=[]),e.defn(x,"$description",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.$improve_hash_formatting("all "+t.$description_of(t.$matcher()))},d.$$arity=0,d.$$parameters=[]),x.$private(),e.defn(x,"$match",f=function(){var t=this,r=arguments.length;return 2!==r&&e.ac(r,2,this,"match"),!!o(t["$iterable?"]())&&(t.$index_failed_objects(),t.$failed_objects()["$empty?"]())},f.$$arity=2,f.$$parameters=[["req","_expected"],["req","_actual"]]),e.defn(x,"$index_failed_objects",h=function(){var r,a=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"index_failed_objects"),c(a.$actual(),"each_with_index",[],(r=function(a,i){var $=r.$$s||this,s=n,_=n,l=n;if(null==a&&(a=n),null==i&&(i=n),r.$$is_lambda||r.$$define_meth){var u=arguments.length;2!==u&&e.block_ac(u,2,"index_failed_objects")}return s=$.$matcher().$clone(),_=s["$matches?"](a),o(_)?n:(l=[i,s.$failure_message()],c($.$failed_objects(),"[]=",e.to_a(l)),l[t(l.length,1)])},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","actual_item"],["req","index"]],r))},h.$$arity=0,h.$$parameters=[]),e.defn(x,"$failure_message_for_item",m=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"failure_message_for_item"),r=a.$indent_multiline_message(a.$add_new_line_if_needed(r)),a.$indent_multiline_message("object at index "+t+" failed to match:"+r)},m.$$arity=2,m.$$parameters=[["req","index"],["req","failure_message"]]),e.defn(x,"$add_new_line_if_needed",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"add_new_line_if_needed"),o(t["$start_with?"]("\n"))?t:"\n"+t},g.$$arity=1,g.$$parameters=[["req","message"]]),e.defn(x,"$indent_multiline_message",v=function(t){var a,i=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"indent_multiline_message"),t=t.$sub(/\n+$/,""),c(t.$lines(),"map",[],(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"indent_multiline_message")}return o(t["$=~"](/\S/))?r("   ",t):t},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","line"]],a)).$join()},v.$$arity=1,v.$$parameters=[["req","message"]]),e.defn(x,"$initialize_copy",y=function(){var t=this,r=y.$$p,a=n,i=n,$=n;r&&(y.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"initialize_copy"),i=0,$=arguments.length,a=new Array($);i<$;i++)a[i]=arguments[i];return t.matcher=t.matcher.$clone(),c(t,e.find_super_dispatcher(t,"initialize_copy",y,!1),a,r)},y.$$arity=1,y.$$parameters=[["req","other"]]),e.defn(x,"$iterable?",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"iterable?"),t.actual["$respond_to?"]("each_with_index")},b.$$arity=0,b.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p)}(p[0],p)}(p[0],p)}(a[0],a)},Opal.modules["rspec/matchers/built_in/match"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$inspect","$surface_descriptions_in","$expected","$private","$values_match?","$respond_to?","$match"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_=$=n(t,$super,"Match",$);_.$$proto,[_].concat(a);e.defn(_,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"match "+t.$surface_descriptions_in(t.$expected()).$inspect()},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$diffable?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},o.$$arity=0,o.$$parameters=[]),_.$private(),e.defn(_,"$match",c=function(t,a){var n=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"match"),!!i(n["$values_match?"](t,a))||(i(a["$respond_to?"]("match"))?a.$match(t):r)},c.$$arity=2,c.$$parameters=[["req","expected"],["req","actual"]])}(c[0],e.const_get_relative(c,"BaseMatcher"),c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/operators"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.hash2,c=e.send;return e.add_stubs(["$require","$registry","$[]","$[]=","$-","$delete","$each","$ancestors","$register","$define_method","$!","$has_non_generic_implementation_of?","$get","$class","$__send__","$should_method","$last_expectation_handler","$new","$eval_match","$sub","$!=","$respond_to?","$opposite_should_method","$raise","$use_custom_matcher_or_delegate","$fail_with","$inspect","$private","$owner","$method_handle_for","$last_matcher=","$__delegate_operator","$include?","$fail_with_message","$gsub"]),r.$require("rspec/support"),function(r,a){var _,l=_=i(r,"RSpec"),u=(l.$$proto,[l].concat(a));!function(r,a){var _,l=_=i(r,"Matchers"),u=(l.$$proto,[l].concat(a));!function(r,a){var _,l=_=i(r,"BuiltIn"),u=(l.$$proto,[l].concat(a));!function(r,$super,a){function i(){}var _,l,u,p,d,f,h,m=i=$(r,$super,"OperatorMatcher",i),g=m.$$proto,v=[m].concat(a);g.expected=g.actual=g.operator=n,function(r,a){var i,$,_,l;r.$$proto,[r].concat(a);e.defn(r,"$registry",i=function(){var t,r=this;null==r.registry&&(r.registry=n);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"registry"),r.registry=s(t=r.registry)?t:o([],{})},i.$$arity=0,i.$$parameters=[]),e.defn(r,"$register",$=function(r,a,i){var $=this,_=n,l=n,u=arguments.length;return 3!==u&&e.ac(u,3,this,"register"),_=$.$registry(),s(_["$[]"](r))||(l=[r,o([],{})],c(_,"[]=",e.to_a(l)),l[t(l.length,1)]),l=[a,i],c($.$registry()["$[]"](r),"[]=",e.to_a(l)),l[t(l.length,1)]},$.$$arity=3,$.$$parameters=[["req","klass"],["req","operator"],["req","matcher"]]),e.defn(r,"$unregister",_=function(t,r){var a,n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"unregister"),s(a=n.$registry()["$[]"](t))?n.$registry()["$[]"](t).$delete(r):a},_.$$arity=2,_.$$parameters=[["req","klass"],["req","operator"]]),e.defn(r,"$get",l=function(t,r){try{var a,i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"get"),c(t.$ancestors(),"each",[],(a=function(t){var i,$=a.$$s||this,o=n;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"get")}if(o=s(i=$.$registry()["$[]"](t))?$.$registry()["$[]"](t)["$[]"](r):i,!s(o))return n;e.ret(o)},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","ancestor"]],a)),n}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=2,l.$$parameters=[["req","klass"],["req","operator"]])}(e.get_singleton_class(m),v),m.$register(e.const_get_relative(v,"Enumerable"),"=~",e.const_get_qualified(e.const_get_relative(v,"BuiltIn"),"ContainExactly")),e.defn(m,"$initialize",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.actual=t},_.$$arity=1,_.$$parameters=[["req","actual"]]),e.defs(m,"$use_custom_matcher_or_delegate",l=function(t){var r,a,i,$=this,o=n,_=arguments.length;return 1!==_&&e.ac(_,1,this,"use_custom_matcher_or_delegate"),c($,"define_method",[t],(r=function(a){var i,$=r.$$s||this,o=n;if(null==$.actual&&($.actual=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"use_custom_matcher_or_delegate")}return s(s(i=$["$has_non_generic_implementation_of?"](t)["$!"]())?o=e.const_get_relative(v,"OperatorMatcher").$get($.actual.$class(),t):i)?$.actual.$__send__(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers").$last_expectation_handler().$should_method(),o.$new(a)):$.$eval_match($.actual,t,a)},r.$$s=$,r.$$arity=1,r.$$parameters=[["req","expected"]],r)),o=t.$sub(/^=/,"!"),s(s(a=o["$!="](t))?$["$respond_to?"](o):a)?c($,"define_method",[o],(i=function(r){var a=i.$$s||this,$=n;if(null==r&&(r=n),i.$$is_lambda||i.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"use_custom_matcher_or_delegate")}return $=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers").$last_expectation_handler().$opposite_should_method(),a.$raise("RSpec does not support `"+e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers").$last_expectation_handler().$should_method()+" "+o+" expected`.  Use `"+$+" "+t+" expected` instead.")},i.$$s=$,i.$$arity=1,i.$$parameters=[["req","_expected"]],i)):n},l.$$arity=1,l.$$parameters=[["req","operator"]]),c(["==","===","=~",">",">=","<","<="],"each",[],(u=function(t){var r=u.$$s||this;if(null==t&&(t=n),u.$$is_lambda||u.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<class:OperatorMatcher>")}return r.$use_custom_matcher_or_delegate(t)},u.$$s=m,u.$$arity=1,u.$$parameters=[["req","operator"]],u)),e.defn(m,"$fail_with_message",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"fail_with_message"),e.const_get_qualified(e.const_get_relative(v,"RSpec"),"Expectations").$fail_with(t,r.expected,r.actual)},p.$$arity=1,p.$$parameters=[["req","message"]]),e.defn(m,"$description",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.operator+" "+t.expected.$inspect()},d.$$arity=0,d.$$parameters=[]),m.$private(),e.defn(m,"$has_non_generic_implementation_of?",f=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_non_generic_implementation_of?");try{return e.const_get_relative(v,"Support").$method_handle_for(r.actual,t).$owner()["$!="](e.const_get_qualified("::","Kernel"))}catch(t){if(!e.rescue(t,[e.const_get_relative(v,"NameError")]))throw t;try{return!1}finally{e.pop_exception()}}},f.$$arity=1,f.$$parameters=[["req","op"]]),e.defn(m,"$eval_match",h=function(r,a,i){var $,s=this,o=n,_=arguments.length;return 3!==_&&e.ac(_,3,this,"eval_match"),o=[s],c(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"last_matcher=",e.to_a(o)),o[t(o.length,1)],$=[a,i],s.operator=$[0],s.expected=$[1],s.$__delegate_operator(r,a,i)},h.$$arity=3,h.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(u[0],null,u),function(t,$super,r){function a(){}var n,i=a=$(t,$super,"PositiveOperatorMatcher",a);i.$$proto,[i].concat(r);e.defn(i,"$__delegate_operator",n=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"__delegate_operator"),!!s(t.$__send__(r,a))||(s(["==","===","=~"]["$include?"](r))?n.$fail_with_message("expected: "+a.$inspect()+"\n     got: "+t.$inspect()+" (using "+r+")"):n.$fail_with_message("expected: "+r+" "+a.$inspect()+"\n     got: "+r.$gsub(/./," ")+" "+t.$inspect()))},n.$$arity=3,n.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(u[0],e.const_get_relative(u,"OperatorMatcher"),u),function(t,$super,r){function a(){}var n,i=a=$(t,$super,"NegativeOperatorMatcher",a);i.$$proto,[i].concat(r);e.defn(i,"$__delegate_operator",n=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"__delegate_operator"),!!s(t.$__send__(r,a))&&n.$fail_with_message("expected not: "+r+" "+a.$inspect()+"\n         got: "+r.$gsub(/./," ")+" "+t.$inspect())},n.$$arity=3,n.$$parameters=[["req","actual"],["req","operator"],["req","expected"]])}(u[0],e.const_get_relative(u,"OperatorMatcher"),u)}(u[0],u)}(u[0],u)}(a[0],a)},Opal.modules["rspec/matchers/built_in/output"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.gvars;return e.add_stubs(["$require","$===","$capture","$values_match?","$captured?","$!","$matches?","$description","$positive_failure_reason","$negative_failure_reason","$description_of","$name","$private","$>","$length","$actual_output_description","$inspect","$raise","$new","$call","$string"]),r.$require("stringio"),function(r,a){var c,_=c=i(r,"RSpec"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"Matchers"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"BuiltIn"),l=(_.$$proto,[_].concat(a));!function(r,$super,a){function i(){}var o,c,_,l,u,p,d,f,h,m,g,v,y,b,x=i=$(r,$super,"Output",i),k=x.$$proto,q=[x].concat(a);k.stream_capturer=k.expected=k.actual=k.block=n,e.defn(x,"$initialize",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t,r.actual="",r.block=n,r.stream_capturer=e.const_get_relative(q,"NullCapture")},o.$$arity=1,o.$$parameters=[["req","expected"]]),e.defn(x,"$matches?",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.block=t,!!s(e.const_get_relative(q,"Proc")["$==="](t))&&(r.actual=r.stream_capturer.$capture(t),s(r.expected)?r["$values_match?"](r.expected,r.actual):r["$captured?"]())},c.$$arity=1,c.$$parameters=[["req","block"]]),e.defn(x,"$does_not_match?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),s(r=a["$matches?"](t)["$!"]())?e.const_get_relative(q,"Proc")["$==="](t):r},_.$$arity=1,_.$$parameters=[["req","block"]]),e.defn(x,"$to_stdout",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_stdout"),t.stream_capturer=e.const_get_relative(q,"CaptureStdout"),t},l.$$arity=0,l.$$parameters=[]),e.defn(x,"$to_stderr",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_stderr"),t.stream_capturer=e.const_get_relative(q,"CaptureStderr"),t},u.$$arity=0,u.$$parameters=[]),e.defn(x,"$failure_message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected block to "+t.$description()+", but "+t.$positive_failure_reason()},p.$$arity=0,p.$$parameters=[]),e.defn(x,"$failure_message_when_negated",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected block to not "+t.$description()+", but "+t.$negative_failure_reason()},d.$$arity=0,d.$$parameters=[]),e.defn(x,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),s(t.expected)?"output "+t.$description_of(t.expected)+" to "+t.stream_capturer.$name():"output to "+t.stream_capturer.$name()},f.$$arity=0,f.$$parameters=[]),e.defn(x,"$diffable?",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!0},h.$$arity=0,h.$$parameters=[]),e.defn(x,"$supports_block_expectations?",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},m.$$arity=0,m.$$parameters=[]),x.$private(),e.defn(x,"$captured?",g=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"captured?"),t(r.actual.$length(),0)},g.$$arity=0,g.$$parameters=[]),e.defn(x,"$positive_failure_reason",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive_failure_reason"),s(e.const_get_relative(q,"Proc")["$==="](t.block))?s(t.expected)?"output "+t.$actual_output_description():"did not":"was not a block"},v.$$arity=0,v.$$parameters=[]),e.defn(x,"$negative_failure_reason",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative_failure_reason"),s(e.const_get_relative(q,"Proc")["$==="](t.block))?"output "+t.$actual_output_description():"was not a block"},y.$$arity=0,y.$$parameters=[]),e.defn(x,"$actual_output_description",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_output_description"),s(t["$captured?"]())?t.actual.$inspect():"nothing"},b.$$arity=0,b.$$parameters=[])}(l[0],e.const_get_relative(l,"BaseMatcher"),l),function(t,r){var a,n,$,s=a=i(t,"NullCapture");s.$$proto,[s].concat(r);e.defs(s,"$name",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"some stream"},n.$$arity=0,n.$$parameters=[]),e.defs(s,"$capture",$=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"capture"),t.$raise("You must chain `to_stdout` or `to_stderr` off of the `output(...)` matcher.")},$.$$arity=1,$.$$parameters=[["req","_block"]])}(l[0],l),function(t,r){var a,$,s,c=a=i(t,"CaptureStdout"),_=(c.$$proto,[c].concat(r));e.defs(c,"$name",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"stdout"},$.$$arity=0,$.$$parameters=[]),e.defs(c,"$capture",s=function(t){var r=n,a=n;null==o.stdout&&(o.stdout=n);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"capture"),function(){try{return r=e.const_get_relative(_,"StringIO").$new(),a=o.stdout,o.stdout=r,t.$call(),r.$string()}finally{o.stdout=a}}()},s.$$arity=1,s.$$parameters=[["req","block"]])}(l[0],l),function(t,r){var a,$,s,c=a=i(t,"CaptureStderr"),_=(c.$$proto,[c].concat(r));e.defs(c,"$name",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"name"),"stderr"},$.$$arity=0,$.$$parameters=[]),e.defs(c,"$capture",s=function(t){var r=n,a=n;null==o.stderr&&(o.stderr=n);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"capture"),function(){try{return r=e.const_get_relative(_,"StringIO").$new(),a=o.stderr,o.stderr=r,t.$call(),r.$string()}finally{o.stderr=a}}()},s.$$arity=1,s.$$parameters=[["req","block"]])}(l[0],l)}(l[0],l)}(l[0],l)}(a[0],a)},Opal.modules["rspec/matchers/built_in/raise_error"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$include","$===","$raise_message_already_set","$call","$values_match?","$verify_message","$eval_block","$expectation_matched?","$prevent_invalid_expectations","$!","$matches?","$message","$expected_error","$given_error","$private","$error_and_message_match?","$block_matches?","$[]","$nil?","$expecting_specific_exception?","$new","$raise","$description_of","$inspect","$backtrace_formatter","$configuration","$format_backtrace","$backtrace","$join","$!="]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S=$=n(t,$super,"RaiseError",$),M=S.$$proto,O=[S].concat(a);M.expected_message=M.block=M.expected_error=M.actual_error=M.raised_expected_error=M.with_expected_message=M.eval_block=M.eval_block_passed=M.given_proc=r,S.$include(e.const_get_relative(O,"Composable")),e.defn(S,"$initialize",s=function(t,a){var n,i=this,$=s.$$p,o=$||r,c=r;null==t&&(t=e.const_get_relative(O,"Exception")),null==a&&(a=r),$&&(s.$$p=null);var _=arguments.length;return _>2&&e.ac(_,-1,this,"initialize"),i.block=o,i.actual_error=r,function(){return c=t,e.const_get_relative(O,"String")["$==="](c)||e.const_get_relative(O,"Regexp")["$==="](c)?(n=[e.const_get_relative(O,"Exception"),t],i.expected_error=n[0],i.expected_message=n[1],n):(n=[t,a],i.expected_error=n[0],i.expected_message=n[1],n)}()},s.$$arity=-1,s.$$parameters=[["opt","expected_error_or_message"],["opt","expected_message"],["block","block"]]),e.defn(S,"$with_message",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"with_message"),i(r.expected_message)&&r.$raise_message_already_set(),r.expected_message=t,r},o.$$arity=1,o.$$parameters=[["req","expected_message"]]),e.defn(S,"$matches?",c=function(t,a){var n,$,s=this,o=c.$$p,_=o||r;null==a&&(a=!1),o&&(c.$$p=null);var l=arguments.length;if((l<1||l>2)&&e.ac(l,-2,this,"matches?"),s.given_proc=t,s.block=i(n=s.block)?n:_,s.raised_expected_error=!1,s.with_expected_message=!1,s.eval_block=!1,s.eval_block_passed=!1,!i(e.const_get_relative(O,"Proc")["$==="](t)))return!1;try{t.$call()}catch(t){if(!e.rescue(t,[e.const_get_relative(O,"Exception")]))throw t;s.actual_error=t;try{i(s["$values_match?"](s.expected_error,s.actual_error))&&(s.raised_expected_error=!0,s.with_expected_message=s.$verify_message())}finally{e.pop_exception()}}return i(a)||i(i(n=i($=s.raised_expected_error)?s.with_expected_message:$)?s.block:n)&&s.$eval_block(),s["$expectation_matched?"]()},c.$$arity=-2,c.$$parameters=[["req","given_proc"],["opt","negative_expectation"],["block","block"]]),e.defn(S,"$does_not_match?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),a.$prevent_invalid_expectations(),i(r=a["$matches?"](t,"negative_expectation")["$!"]())?e.const_get_relative(O,"Proc")["$==="](t):r},_.$$arity=1,_.$$parameters=[["req","given_proc"]]),e.defn(S,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),e.defn(S,"$expects_call_stack_jump?",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!0},u.$$arity=0,u.$$parameters=[]),e.defn(S,"$failure_message",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),i(t.eval_block)?t.actual_error.$message():"expected "+t.$expected_error()+t.$given_error()},p.$$arity=0,p.$$parameters=[]),e.defn(S,"$failure_message_when_negated",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected no "+t.$expected_error()+t.$given_error()},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"raise "+t.$expected_error()},f.$$arity=0,f.$$parameters=[]),S.$private(),e.defn(S,"$expectation_matched?",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expectation_matched?"),i(t=r["$error_and_message_match?"]())?r["$block_matches?"]():t},h.$$arity=0,h.$$parameters=[]),e.defn(S,"$error_and_message_match?",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"error_and_message_match?"),i(t=r.raised_expected_error)?r.with_expected_message:t},m.$$arity=0,m.$$parameters=[]),e.defn(S,"$block_matches?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"block_matches?"),!i(t.eval_block)||t.eval_block_passed},g.$$arity=0,g.$$parameters=[]),e.defn(S,"$eval_block",v=function(){var t=this,a=r,n=arguments.length;0!==n&&e.ac(n,0,this,"eval_block"),t.eval_block=!0;try{return t.block["$[]"](t.actual_error),t.eval_block_passed=!0}catch(r){if(!e.rescue(r,[e.const_get_relative(O,"Exception")]))throw r;a=r;try{return t.actual_error=a}finally{e.pop_exception()}}},v.$$arity=0,v.$$parameters=[]),e.defn(S,"$verify_message",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify_message"),!!i(t.expected_message["$nil?"]())||t["$values_match?"](t.expected_message,t.actual_error.$message())},y.$$arity=0,y.$$parameters=[]),e.defn(S,"$prevent_invalid_expectations",b=function(){var t,a=this,n=r,$=r,s=arguments.length;return 0!==s&&e.ac(s,0,this,"prevent_invalid_expectations"),n=function(){return i(i(t=a["$expecting_specific_exception?"]())?a.expected_message:t)?"`expect { }.not_to raise_error(SpecificErrorClass, message)`":i(a["$expecting_specific_exception?"]())?"`expect { }.not_to raise_error(SpecificErrorClass)`":i(a.expected_message)?"`expect { }.not_to raise_error(message)`":r}(),i(n)?($=e.const_get_relative(O,"ArgumentError").$new(n+" is not valid, use `expect { }.not_to raise_error` (with no args) instead"),a.$raise($)):r},b.$$arity=0,b.$$parameters=[]),e.defn(S,"$expected_error",x=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expected_error"),function(){return a=t.expected_message,r["$==="](a)?t.$description_of(t.expected_error):e.const_get_relative(O,"Regexp")["$==="](a)?t.expected_error+" with message matching "+t.expected_message.$inspect():t.expected_error+" with "+t.$description_of(t.expected_message)}()},x.$$arity=0,x.$$parameters=[]),e.defn(S,"$format_backtrace",k=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"format_backtrace"),a=e.const_get_relative(O,"Matchers").$configuration().$backtrace_formatter(),a.$format_backtrace(t)},k.$$arity=1,k.$$parameters=[["req","backtrace"]]),e.defn(S,"$given_error",q=function(){var t=this,a=r,n=arguments.length;return 0!==n&&e.ac(n,0,this,"given_error"),i(e.const_get_relative(O,"Proc")["$==="](t.given_proc))?i(t.actual_error)?(a=t.$format_backtrace(t.actual_error.$backtrace()),[", got "+t.actual_error.$inspect()+" with backtrace:"].concat(e.to_a(a)).$join("\n  # ")):" but nothing was raised":" but was not given a block"},q.$$arity=0,q.$$parameters=[]),e.defn(S,"$expecting_specific_exception?",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expecting_specific_exception?"),t.expected_error["$!="](e.const_get_relative(O,"Exception"))},w.$$arity=0,w.$$parameters=[]),e.defn(S,"$raise_message_already_set",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_message_already_set"),t.$raise("`expect { }.to raise_error(message).with_message(message)` is not valid. The matcher only allows the expected message to be specified once")},E.$$arity=0,E.$$parameters=[])}(c[0],null,c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/respond_to"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$require_rspec_support","$empty?","$find_failing_method_names","$inspect","$join","$map","$with_arity","$sub","$failure_message","$pp_names","$private","$__send__","$respond_to?","$matches_arity?","$new","$method","$valid?","$==","$length","$first"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_support("method_signature_verifier"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d,f,h,m,g,v,y=s=n(t,$super,"RespondTo",s),b=y.$$proto,x=[y].concat(a);b.actual=b.failing_method_names=b.names=b.expected_arity=r,e.defn(y,"$initialize",o=function(){var e,t=this,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<a;i++)e[i-0]=arguments[i];return t.names=e,t.expected_arity=r},o.$$arity=-1,o.$$parameters=[["rest","names"]]),e.defn(y,"$with",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"with"),r.expected_arity=t,r},c.$$arity=1,c.$$parameters=[["req","n"]]),e.defn(y,"$argument",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"argument"),t},_.$$arity=0,_.$$parameters=[]),e.alias(y,"arguments","argument"),
e.defn(y,"$matches?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.$find_failing_method_names(t,"reject")["$empty?"]()},l.$$arity=1,l.$$parameters=[["req","actual"]]),e.defn(y,"$does_not_match?",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"does_not_match?"),r.$find_failing_method_names(t,"select")["$empty?"]()},u.$$arity=1,u.$$parameters=[["req","actual"]]),e.defn(y,"$failure_message",p=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"failure_message"),"expected "+a.actual.$inspect()+" to respond to "+i(a.failing_method_names,"map",[],(t=function(a){t.$$s;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"failure_message")}return a.$inspect()},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","name"]],t)).$join(", ")+a.$with_arity()},p.$$arity=0,p.$$parameters=[]),e.defn(y,"$failure_message_when_negated",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),t.$failure_message().$sub(/to respond to/,"not to respond to")},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$description",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"respond to "+t.$pp_names()+t.$with_arity()},f.$$arity=0,f.$$parameters=[]),y.$private(),e.defn(y,"$find_failing_method_names",h=function(t,a){var n,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"find_failing_method_names"),s.actual=t,s.failing_method_names=i(s.names,"__send__",[a],(n=function(a){var i,s=n.$$s||this;if(null==s.actual&&(s.actual=r),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"find_failing_method_names")}return $(i=s.actual["$respond_to?"](a))?s["$matches_arity?"](t,a):i},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","name"]],n))},h.$$arity=2,h.$$parameters=[["req","actual"],["req","filter_method"]]),e.defn(y,"$matches_arity?",m=function(t,a){var n=this,i=r,s=arguments.length;return 2!==s&&e.ac(s,2,this,"matches_arity?"),!$(n.expected_arity)||(i=e.const_get_qualified(e.const_get_relative(x,"Support"),"MethodSignature").$new(t.$method(a)),e.const_get_qualified(e.const_get_relative(x,"Support"),"StrictSignatureVerifier").$new(i,e.const_get_relative(x,"Array").$new(n.expected_arity))["$valid?"]())},m.$$arity=2,m.$$parameters=[["req","actual"],["req","name"]]),e.defn(y,"$with_arity",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"with_arity"),$(t.expected_arity)?" with "+t.expected_arity+" argument"+function(){return t.expected_arity["$=="](1)?"":"s"}():""},g.$$arity=0,g.$$parameters=[]),e.defn(y,"$pp_names",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pp_names"),t.names.$length()["$=="](1)?"#"+t.names.$first():t.names.$inspect()},v.$$arity=0,v.$$parameters=[])}(_[0],e.const_get_relative(_,"BaseMatcher"),_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/matchers/built_in/satisfy"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$call"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"BuiltIn"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l,u=$=n(t,$super,"Satisfy",$),p=u.$$proto;[u].concat(a);p.block=p.actual=r,e.defn(u,"$initialize",s=function(){var t=this,a=s.$$p,n=a||r;a&&(s.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),t.block=n},s.$$arity=0,s.$$parameters=[["block","block"]]),e.defn(u,"$matches?",o=function(t){var a=this,n=o.$$p,$=n||r;n&&(o.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"matches?"),i($)&&(a.block=$),a.actual=t,a.block.$call(t)},o.$$arity=1,o.$$parameters=[["req","actual"],["block","block"]]),e.defn(u,"$failure_message",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.actual+" to satisfy block"},c.$$arity=0,c.$$parameters=[]),e.defn(u,"$failure_message_when_negated",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.actual+" not to satisfy block"},_.$$arity=0,_.$$parameters=[]),e.defn(u,"$description",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"satisfy block"},l.$$arity=0,l.$$parameters=[])}(c[0],e.const_get_relative(c,"BaseMatcher"),c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/built_in/throw_symbol"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$include","$===","$nil?","$call","$catch","$throw","$==","$match","$message","$raise","$to_sym","$[]","$captures","$!","$values_match?","$matches?","$expected","$actual_result","$private","$caught","$throw_description","$is_a?","$inspect","$description_of","$+"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"BuiltIn"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b=o=i(r,$super,"ThrowSymbol",o),x=b.$$proto,k=[b].concat(n);x.expected_symbol=x.caught_arg=x.caught_symbol=x.expected_arg=x.block=a,b.$include(e.const_get_relative(k,"Composable")),e.defn(b,"$initialize",c=function(t,r){var n=this;null==t&&(t=a),null==r&&(r=a);var i=arguments.length;return i>2&&e.ac(i,-1,this,"initialize"),n.expected_symbol=t,n.expected_arg=r,n.caught_symbol=n.caught_arg=a},c.$$arity=-1,c.$$parameters=[["opt","expected_symbol"],["opt","expected_arg"]]),e.defn(b,"$matches?",_=function(t){var r,n,i=this,o=a,c=a,_=a,l=arguments.length;return 1!==l&&e.ac(l,1,this,"matches?"),i.block=t,!!$(e.const_get_relative(k,"Proc")["$==="](t))&&function(){try{try{return $(i.expected_symbol["$nil?"]())?t.$call():(i.caught_arg=s(i,"catch",["proc_did_not_throw_anything"],(r=function(){var n,i=r.$$s||this;if(null==i.expected_symbol&&(i.expected_symbol=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"matches?")}return s(i,"catch",[i.expected_symbol],(n=function(){var r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"matches?")}return t.$call(),r.$throw("proc_did_not_throw_anything","nothing_thrown")},n.$$s=i,n.$$arity=0,n.$$parameters=[],n))},r.$$s=i,r.$$arity=0,r.$$parameters=[],r)),i.caught_arg["$=="]("nothing_thrown")?i.caught_arg=a:i.caught_symbol=i.expected_symbol)}catch(t){if(e.rescue(t,[e.const_get_relative(k,"NameError"),e.const_get_relative(k,"ArgumentError")])){o=t;try{return $(c=o.$message().$match(/uncaught throw (`|\:)([a-zA-Z0-9_]*)(')?/))||(_=o,i.$raise()),i.caught_symbol=c.$captures()["$[]"](1).$to_sym()}finally{e.pop_exception()}}else{if(!e.rescue(t,[e.const_get_relative(k,"StandardError")]))throw t;_=t;try{return i.$raise()}finally{e.pop_exception()}}}}finally{!function(){$(_)||($(i.expected_symbol["$nil?"]())?i.caught_symbol["$!"]()["$!"]():$(i.expected_arg["$nil?"]())?i.caught_symbol["$=="](i.expected_symbol):$(n=i.caught_symbol["$=="](i.expected_symbol))&&i["$values_match?"](i.expected_arg,i.caught_arg))}()}}()},_.$$arity=1,_.$$parameters=[["req","given_proc"]]),e.defn(b,"$does_not_match?",l=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),$(r=a["$matches?"](t)["$!"]())?e.const_get_relative(k,"Proc")["$==="](t):r},l.$$arity=1,l.$$parameters=[["req","given_proc"]]),e.defn(b,"$failure_message",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.$expected()+" to be thrown, "+t.$actual_result()},u.$$arity=0,u.$$parameters=[]),e.defn(b,"$failure_message_when_negated",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.$expected("no Symbol")+function(){return $(t.expected_symbol)?" not":a}()+" to be thrown, "+t.$actual_result()},p.$$arity=0,p.$$parameters=[]),e.defn(b,"$description",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"throw "+t.$expected()},d.$$arity=0,d.$$parameters=[]),e.defn(b,"$supports_block_expectations?",f=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$expects_call_stack_jump?",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!0},h.$$arity=0,h.$$parameters=[]),b.$private(),e.defn(b,"$actual_result",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actual_result"),$(e.const_get_relative(k,"Proc")["$==="](t.block))?"got "+t.$caught():"but was not a block"},m.$$arity=0,m.$$parameters=[]),e.defn(b,"$expected",g=function(t){var r,a=this;null==t&&(t="a Symbol");var n=arguments.length;return n>1&&e.ac(n,-1,this,"expected"),a.$throw_description($(r=a.expected_symbol)?r:t,a.expected_arg)},g.$$arity=-1,g.$$parameters=[["opt","symbol_desc"]]),e.defn(b,"$caught",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"caught"),r.$throw_description($(t=r.caught_symbol)?t:"nothing",r.caught_arg)},v.$$arity=0,v.$$parameters=[]),e.defn(b,"$throw_description",y=function(r,n){var i,s=this,o=a,c=a,_=arguments.length;return 2!==_&&e.ac(_,2,this,"throw_description"),o=function(){return $(r["$is_a?"](e.const_get_relative(k,"String")))?r:r.$inspect()}(),c=function(){return $(n)?" with "+s.$description_of(n):$($(i=s.expected_arg)?s.caught_symbol["$=="](s.expected_symbol):i)?" with no argument":""}(),t(o,c)},y.$$arity=2,y.$$parameters=[["req","symbol"],["req","arg"]])}(l[0],null,l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.truthy,c=e.send;return e.add_stubs(["$require_rspec_support","$new","$has_block?","$assert_valid_expect_block!","$call","$assert_used!","$attr_accessor","$num_yields=","$yielded_args=","$===","$+","$num_yields","$-","$<<","$yielded_args","$first","$raise","$map","$==","$size","$>","$to_f","$valid?","$exactly","$set_expected_yields_count","$probe","$__send__","$yielded_once?","$!","$matches?","$failure_reason","$private","$human_readable_expecation_type","$human_readable_count","$empty?","$single_yield_args","$positive_failure_reason","$negative_failure_reason","$zero?","$inspect","$args_match?","$expected_arg_description","$join","$description_of","$all_args_match?","$surface_descriptions_in","$values_match?","$successive_yield_args"]),e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Support").$require_rspec_support("method_signature_verifier"),function(n,_){var l,u=l=$(n,"RSpec"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"Matchers"),p=(u.$$proto,[u].concat(_));!function(n,_){var l,u=l=$(n,"BuiltIn"),p=(u.$$proto,[u].concat(_));!function(n,$super,$){function _(){}var l,u,p,d,f,h,m,g,v,y,b=_=s(n,$super,"YieldProbe",_),x=b.$$proto,k=[b].concat($);x.block=x.used=i,e.defs(b,"$probe",l=function(t){var r=this,a=i,n=arguments.length;return 1!==n&&e.ac(n,1,this,"probe"),a=r.$new(t),o(a["$has_block?"]())?(a["$assert_valid_expect_block!"](),t.$call(a),a["$assert_used!"](),a):a},l.$$arity=1,l.$$parameters=[["req","block"]]),b.$attr_accessor("num_yields","yielded_args"),e.defn(b,"$initialize",u=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),a.block=t,a.used=!1,r=[0,[]],a["$num_yields="](r[0]),a["$yielded_args="](r[1]),r},u.$$arity=1,u.$$parameters=[["req","block"]]),e.defn(b,"$has_block?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"has_block?"),e.const_get_relative(k,"Proc")["$==="](t.block)},p.$$arity=0,p.$$parameters=[]),e.defn(b,"$to_proc",d=function(){var a,n=this,$=i,s=arguments.length;return 0!==s&&e.ac(s,0,this,"to_proc"),n.used=!0,$=n,c(e.const_get_relative(k,"Proc"),"new",[],(a=function(){var n,s=(a.$$s,i),o=arguments.length,_=o-0;_<0&&(_=0),n=new Array(_);for(var l=0;l<o;l++)n[l-0]=arguments[l];return s=[t($.$num_yields(),1)],c($,"num_yields=",e.to_a(s)),s[r(s.length,1)],$.$yielded_args()["$<<"](n),i},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"]],a))},d.$$arity=0,d.$$parameters=[]),e.defn(b,"$single_yield_args",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"single_yield_args"),t.$yielded_args().$first()},f.$$arity=0,f.$$parameters=[]),e.defn(b,"$yielded_once?",h=function(t){var r=this,a=i,n=arguments.length;return 1!==n&&e.ac(n,1,this,"yielded_once?"),function(){return a=r.$num_yields(),!!1["$==="](a)||!(0)["$==="](a)&&r.$raise("The "+t+" matcher is not designed to be used with a method that yields multiple times. Use the yield_successive_args matcher for that case.")}()},h.$$arity=1,h.$$parameters=[["req","matcher_name"]]),e.defn(b,"$successive_yield_args",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"successive_yield_args"),c(r.$yielded_args(),"map",[],(t=function(r){t.$$s;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"successive_yield_args")}return r.$size()["$=="](1)?r.$first():r},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","arg_array"]],t))},m.$$arity=0,m.$$parameters=[]),e.defn(b,"$assert_used!",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"assert_used!"),o(t.used)?i:t.$raise("You must pass the argument yielded to your expect block on to the method-under-test as a block. It acts as a probe that allows the matcher to detect whether or not the method-under-test yields, and, if so, how many times, and what the yielded arguments are.")},g.$$arity=0,g.$$parameters=[]),o(a(e.const_get_relative(k,"RUBY_VERSION").$to_f(),1.8))?e.defn(b,"$assert_valid_expect_block!",v=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"assert_valid_expect_block!"),r=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(k,"RSpec"),"Support"),"BlockSignature").$new(t.block),o(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(k,"RSpec"),"Support"),"StrictSignatureVerifier").$new(r,[t])["$valid?"]())?i:t.$raise("Your expect block must accept an argument to be used with this matcher. Pass the argument as a block on to the method you are testing.")},v.$$arity=0,v.$$parameters=[]):e.defn(b,"$assert_valid_expect_block!",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"assert_valid_expect_block!"),i},y.$$arity=0,y.$$parameters=[])}(p[0],null,p),function(r,$super,a){function n(){}var $,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w=n=s(r,$super,"YieldControl",n),E=w.$$proto,S=[w].concat(a);E.probe=E.expectation_type=E.expected_yields_count=i,e.defn(w,"$initialize",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.expectation_type=i,t.expected_yields_count=i},$.$$arity=0,$.$$parameters=[]),e.defn(w,"$once",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"once"),t.$exactly(1),t},c.$$arity=0,c.$$parameters=[]),e.defn(w,"$twice",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"twice"),t.$exactly(2),t},_.$$arity=0,_.$$parameters=[]),e.defn(w,"$thrice",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thrice"),t.$exactly(3),t},l.$$arity=0,l.$$parameters=[]),e.defn(w,"$exactly",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"exactly"),r.$set_expected_yields_count("==",t),r},u.$$arity=1,u.$$parameters=[["req","number"]]),e.defn(w,"$at_most",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at_most"),r.$set_expected_yields_count("<=",t),r},p.$$arity=1,p.$$parameters=[["req","number"]]),e.defn(w,"$at_least",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"at_least"),r.$set_expected_yields_count(">=",t),r},d.$$arity=1,d.$$parameters=[["req","number"]]),e.defn(w,"$times",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"times"),t},f.$$arity=0,f.$$parameters=[]),e.defn(w,"$matches?",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.probe=e.const_get_relative(S,"YieldProbe").$probe(t),!!o(r.probe["$has_block?"]())&&(o(r.expectation_type)?r.probe.$num_yields().$__send__(r.expectation_type,r.expected_yields_count):r.probe["$yielded_once?"]("yield_control"))},h.$$arity=1,h.$$parameters=[["req","block"]]),e.defn(w,"$does_not_match?",m=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),o(r=a["$matches?"](t)["$!"]())?a.probe["$has_block?"]():r},m.$$arity=1,m.$$parameters=[["req","block"]]),e.defn(w,"$failure_message",g=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message"),t("expected given block to yield control",r.$failure_reason())},g.$$arity=0,g.$$parameters=[]),e.defn(w,"$failure_message_when_negated",v=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"failure_message_when_negated"),t("expected given block not to yield control",r.$failure_reason())},v.$$arity=0,v.$$parameters=[]),e.defn(w,"$supports_block_expectations?",y=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},y.$$arity=0,y.$$parameters=[]),w.$private(),e.defn(w,"$set_expected_yields_count",b=function(t,r){var a=this,n=i,$=arguments.length;return 2!==$&&e.ac($,2,this,"set_expected_yields_count"),a.expectation_type=t,a.expected_yields_count=function(){return n=r,e.const_get_relative(S,"Numeric")["$==="](n)?r:"once"["$==="](n)?1:"twice"["$==="](n)?2:"thrice"["$==="](n)?3:i}()},b.$$arity=2,b.$$parameters=[["req","relativity"],["req","n"]]),e.defn(w,"$failure_reason",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_reason"),o(t.probe["$has_block?"]())?o(t.expected_yields_count)?" "+t.$human_readable_expecation_type()+t.$human_readable_count():"":" but was not a block"},x.$$arity=0,x.$$parameters=[]),e.defn(w,"$human_readable_expecation_type",k=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"human_readable_expecation_type"),function(){return r=t.expectation_type,"<="["$==="](r)?"at most ":">="["$==="](r)?"at least ":""}()},k.$$arity=0,k.$$parameters=[]),e.defn(w,"$human_readable_count",q=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"human_readable_count"),function(){return r=t.expected_yields_count,1["$==="](r)?"once":2["$==="](r)?"twice":t.expected_yields_count+" times"}()},q.$$arity=0,q.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(t,$super,r){function a(){}var n,$,c,_,l,u,p,d=a=s(t,$super,"YieldWithNoArgs",a),f=d.$$proto,h=[d].concat(r);f.probe=i,e.defn(d,"$matches?",n=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"matches?"),a.probe=e.const_get_relative(h,"YieldProbe").$probe(t),!!o(a.probe["$has_block?"]())&&(o(r=a.probe["$yielded_once?"]("yield_with_no_args"))?a.probe.$single_yield_args()["$empty?"]():r)},n.$$arity=1,n.$$parameters=[["req","block"]]),e.defn(d,"$does_not_match?",$=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),o(r=a["$matches?"](t)["$!"]())?a.probe["$has_block?"]():r},$.$$arity=1,$.$$parameters=[["req","block"]]),e.defn(d,"$failure_message",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield with no arguments, but "+t.$positive_failure_reason()},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$failure_message_when_negated",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield with no arguments, but "+t.$negative_failure_reason()},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$supports_block_expectations?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},l.$$arity=0,l.$$parameters=[]),d.$private(),e.defn(d,"$positive_failure_reason",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive_failure_reason"),o(t.probe["$has_block?"]())?o(t.probe.$num_yields()["$zero?"]())?"did not yield":"yielded with arguments: "+t.probe.$single_yield_args().$inspect():"was not a block"},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$negative_failure_reason",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative_failure_reason"),o(t.probe["$has_block?"]())?"did":"was not a block"},p.$$arity=0,p.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(r,$super,a){function n(){}var $,_,l,u,p,d,f,h,m,g,v,y,b=n=s(r,$super,"YieldWithArgs",n),x=b.$$proto,k=[b].concat(a);x.probe=x.expected=x.positive_args_failure=x.actual=i,e.defn(b,"$initialize",$=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},$.$$arity=-1,$.$$parameters=[["rest","args"]]),e.defn(b,"$matches?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"matches?"),a.probe=e.const_get_relative(k,"YieldProbe").$probe(t),!!o(a.probe["$has_block?"]())&&(a.actual=a.probe.$single_yield_args(),o(r=a.probe["$yielded_once?"]("yield_with_args"))?a["$args_match?"]():r)},_.$$arity=1,_.$$parameters=[["req","block"]]),e.defn(b,"$does_not_match?",l=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),o(r=a["$matches?"](t)["$!"]())?a.probe["$has_block?"]():r},l.$$arity=1,l.$$parameters=[["req","block"]]),e.defn(b,"$failure_message",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield with arguments, but "+t.$positive_failure_reason()},u.$$arity=0,u.$$parameters=[]),e.defn(b,"$failure_message_when_negated",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield with arguments, but "+t.$negative_failure_reason()},p.$$arity=0,p.$$parameters=[]),e.defn(b,"$description",d=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),r="yield with args",o(t.expected["$empty?"]())||r["$<<"]("("+t.$expected_arg_description()+")"),r},d.$$arity=0,d.$$parameters=[]),e.defn(b,"$supports_block_expectations?",f=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},f.$$arity=0,f.$$parameters=[]),b.$private(),e.defn(b,"$positive_failure_reason",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive_failure_reason"),o(t.probe["$has_block?"]())?o(t.probe.$num_yields()["$zero?"]())?"did not yield":t.positive_args_failure:"was not a block"},h.$$arity=0,h.$$parameters=[]),e.defn(b,"$expected_arg_description",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expected_arg_description"),c(r.expected,"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"expected_arg_description")}return a.$description_of(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","e"]],t)).$join(", ")},m.$$arity=0,m.$$parameters=[]),e.defn(b,"$negative_failure_reason",g=function(){var r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"negative_failure_reason"),o(r.probe["$has_block?"]()["$!"]())?"was not a block":o(r["$all_args_match?"]())?t("yielded with expected arguments\nexpected not: "+r.$surface_descriptions_in(r.expected).$inspect(),"\n         got: "+r.actual.$inspect()):"did"},g.$$arity=0,g.$$parameters=[]),e.defn(b,"$args_match?",v=function(){var r=this,a=i,n=arguments.length;return 0!==n&&e.ac(n,0,this,"args_match?"),o(r.expected["$empty?"]())?(o(r.actual["$empty?"]())&&(r.positive_args_failure="yielded with no arguments"),r.actual["$empty?"]()["$!"]()):(o(a=r["$all_args_match?"]())||(r.positive_args_failure=t("yielded with unexpected arguments\nexpected: "+r.$surface_descriptions_in(r.expected).$inspect(),"\n     got: "+r.actual.$inspect())),a)},v.$$arity=0,v.$$parameters=[]),e.defn(b,"$all_args_match?",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"all_args_match?"),t["$values_match?"](t.expected,t.actual)},y.$$arity=0,y.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p),function(t,$super,r){function a(){}var n,$,_,l,u,p,d,f,h,m,g,v=a=s(t,$super,"YieldSuccessiveArgs",a),y=v.$$proto,b=[v].concat(r);y.probe=y.expected=y.actual=i,e.defn(v,"$initialize",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.expected=e},n.$$arity=-1,n.$$parameters=[["rest","args"]]),e.defn(v,"$matches?",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.probe=e.const_get_relative(b,"YieldProbe").$probe(t),!!o(r.probe["$has_block?"]())&&(r.actual=r.probe.$successive_yield_args(),r["$args_match?"]())},$.$$arity=1,$.$$parameters=[["req","block"]]),e.defn(v,"$does_not_match?",_=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"does_not_match?"),o(r=a["$matches?"](t)["$!"]())?a.probe["$has_block?"]():r},_.$$arity=1,_.$$parameters=[["req","block"]]),e.defn(v,"$failure_message",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected given block to yield successively with arguments, but "+t.$positive_failure_reason()},l.$$arity=0,l.$$parameters=[]),e.defn(v,"$failure_message_when_negated",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected given block not to yield successively with arguments, but "+t.$negative_failure_reason()},u.$$arity=0,u.$$parameters=[]),e.defn(v,"$description",p=function(){var t=this,r=i,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),r="yield successive args",r["$<<"]("("+t.$expected_arg_description()+")"),r},p.$$arity=0,p.$$parameters=[]),e.defn(v,"$supports_block_expectations?",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!0},d.$$arity=0,d.$$parameters=[]),v.$private(),e.defn(v,"$args_match?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"args_match?"),t["$values_match?"](t.expected,t.actual)},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$expected_arg_description",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expected_arg_description"),c(r.expected,"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"expected_arg_description")}return a.$description_of(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","e"]],t)).$join(", ")},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$positive_failure_reason",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"positive_failure_reason"),o(t.probe["$has_block?"]())?"yielded with unexpected arguments\nexpected: "+t.$surface_descriptions_in(t.expected).$inspect()+"\n     got: "+t.actual.$inspect():"was not a block"},m.$$arity=0,m.$$parameters=[]),e.defn(v,"$negative_failure_reason",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative_failure_reason"),o(t.probe["$has_block?"]())?"yielded with expected arguments\nexpected not: "+t.$surface_descriptions_in(t.expected).$inspect()+"\n         got: "+t.actual.$inspect():"was not a block"},g.$$arity=0,g.$$parameters=[])}(p[0],e.const_get_relative(p,"BaseMatcher"),p)}(p[0],p)}(p[0],p)}(n[0],n)},Opal.modules["rspec/matchers/built_in"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require_rspec_matchers","$autoload"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_matchers("built_in/base_matcher"),function(e,t){var a,n=a=r(e,"RSpec"),i=(n.$$proto,[n].concat(t));!function(e,t){var a,n=a=r(e,"Matchers"),i=(n.$$proto,[n].concat(t));!function(e,t){var a,n=a=r(e,"BuiltIn");n.$$proto,[n].concat(t);n.$autoload("BeAKindOf","rspec/matchers/built_in/be_kind_of"),n.$autoload("BeAnInstanceOf","rspec/matchers/built_in/be_instance_of"),n.$autoload("BeBetween","rspec/matchers/built_in/be_between"),n.$autoload("Be","rspec/matchers/built_in/be"),n.$autoload("BeComparedTo","rspec/matchers/built_in/be"),n.$autoload("BeFalsey","rspec/matchers/built_in/be"),n.$autoload("BeNil","rspec/matchers/built_in/be"),n.$autoload("BePredicate","rspec/matchers/built_in/be"),n.$autoload("BeTruthy","rspec/matchers/built_in/be"),n.$autoload("BeWithin","rspec/matchers/built_in/be_within"),n.$autoload("Change","rspec/matchers/built_in/change"),n.$autoload("Compound","rspec/matchers/built_in/compound"),n.$autoload("ContainExactly","rspec/matchers/built_in/contain_exactly"),n.$autoload("Cover","rspec/matchers/built_in/cover"),n.$autoload("EndWith","rspec/matchers/built_in/start_and_end_with"),n.$autoload("Eq","rspec/matchers/built_in/eq"),n.$autoload("Eql","rspec/matchers/built_in/eql"),n.$autoload("Equal","rspec/matchers/built_in/equal"),n.$autoload("Exist","rspec/matchers/built_in/exist"),n.$autoload("Has","rspec/matchers/built_in/has"),n.$autoload("HaveAttributes","rspec/matchers/built_in/have_attributes"),n.$autoload("Include","rspec/matchers/built_in/include"),n.$autoload("All","rspec/matchers/built_in/all"),n.$autoload("Match","rspec/matchers/built_in/match"),n.$autoload("NegativeOperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("OperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("Output","rspec/matchers/built_in/output"),n.$autoload("PositiveOperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("RaiseError","rspec/matchers/built_in/raise_error"),n.$autoload("RespondTo","rspec/matchers/built_in/respond_to"),n.$autoload("Satisfy","rspec/matchers/built_in/satisfy"),n.$autoload("StartWith","rspec/matchers/built_in/start_and_end_with"),n.$autoload("ThrowSymbol","rspec/matchers/built_in/throw_symbol"),n.$autoload("YieldControl","rspec/matchers/built_in/yield"),n.$autoload("YieldSuccessiveArgs","rspec/matchers/built_in/yield"),n.$autoload("YieldWithArgs","rspec/matchers/built_in/yield"),n.$autoload("YieldWithNoArgs","rspec/matchers/built_in/yield")}(i[0],i)}(i[0],i)}(t[0],t)},Opal.modules["rspec/matchers/built_in/base_matcher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send;return e.add_stubs(["$include","$freeze","$new","$attr_reader","$equal?","$match","$expected","$empty?","$unshift","$name_to_sentence","$to_sentence","$private","$any?","$-","$present_ivars","$raise","$name","$class","$<","$to_f","$map","$instance_variables","$to_sym","$inspect","$actual","$description","$==","$owner","$method"]),function(a,c){var _,l=_=i(a,"RSpec"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"Matchers"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"BuiltIn"),u=(l.$$proto,[l].concat(c));!function(a,$super,c){function _(){}var l,u,p,d,f,h,m,g,v,y=_=$(a,$super,"BaseMatcher",_),b=y.$$proto,x=[y].concat(c);b.expected=n,y.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Matchers"),"Pretty")),y.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Matchers"),"Composable")),e.const_set(x[0],"UNDEFINED",e.const_get_relative(x,"Object").$new().$freeze()),y.$attr_reader("actual","expected","rescued_exception"),e.defn(y,"$initialize",l=function(t){var r=this;null==t&&(t=e.const_get_relative(x,"UNDEFINED"));var a=arguments.length;return a>1&&e.ac(a,-1,this,"initialize"),s(e.const_get_relative(x,"UNDEFINED")["$equal?"](t))?n:r.expected=t},l.$$arity=-1,l.$$parameters=[["opt","expected"]]),e.defn(y,"$matches?",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"matches?"),r.actual=t,r.$match(r.$expected(),t)},u.$$arity=1,u.$$parameters=[["req","actual"]]),e.defn(y,"$match_unless_raises",p=function(){var t,r=this,a=p.$$p,i=a||n,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<$;c++)t[c-0]=arguments[c];a&&(p.$$p=null),s(t["$empty?"]())&&t.$unshift(e.const_get_relative(x,"Exception"));try{return e.yieldX(i,[]),!0}catch(a){if(!e.rescue(a,[].concat(e.to_a(t))))throw a;r.rescued_exception=a;try{return!1}finally{e.pop_exception()}}
},p.$$arity=-1,p.$$parameters=[["rest","exceptions"]]),e.defn(y,"$description",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),s(null!=(t=r.expected)&&t!==n?"instance-variable":n)?""+r.$name_to_sentence()+r.$to_sentence(r.expected):r.$name_to_sentence()},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$diffable?",f=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!1},f.$$arity=0,f.$$parameters=[]),e.defn(y,"$supports_block_expectations?",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!1},h.$$arity=0,h.$$parameters=[]),e.defn(y,"$expects_call_stack_jump?",m=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!1},m.$$arity=0,m.$$parameters=[]),y.$private(),e.defn(y,"$assert_ivars",g=function(){var e,r=this,a=arguments.length,i=a-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<a;$++)e[$-0]=arguments[$];return s(t(e,r.$present_ivars())["$any?"]())?r.$raise(r.$class().$name()+" needs to supply"+r.$to_sentence(e)):n},g.$$arity=-1,g.$$parameters=[["rest","expected_ivars"]]),s(r(e.const_get_relative(x,"RUBY_VERSION").$to_f(),1.9))?e.defn(y,"$present_ivars",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"present_ivars"),o(r.$instance_variables(),"map",[],(t=function(r){t.$$s;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"present_ivars")}return r.$to_sym()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","v"]],t))},v.$$arity=0,v.$$parameters=[]):e.alias(y,"present_ivars","instance_variables"),function(t,r){var a,n,$,s,o=a=i(t,"DefaultFailureMessages"),c=(o.$$proto,[o].concat(r));e.defn(o,"$failure_message",n=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message"),"expected "+t.$actual().$inspect()+" to "+t.$description()},n.$$arity=0,n.$$parameters=[]),e.defn(o,"$failure_message_when_negated",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failure_message_when_negated"),"expected "+t.$actual().$inspect()+" not to "+t.$description()},$.$$arity=0,$.$$parameters=[]),e.defs(o,"$has_default_failure_messages?",s=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"has_default_failure_messages?");try{return t.$method("failure_message").$owner()["$=="](r)?t.$method("failure_message_when_negated").$owner()["$=="](r):t.$method("failure_message").$owner()["$=="](r)}catch(t){if(!e.rescue(t,[e.const_get_relative(c,"NameError")]))throw t;try{return!1}finally{e.pop_exception()}}},s.$$arity=1,s.$$parameters=[["req","matcher"]])}(x[0],x),y.$include(e.const_get_relative(x,"DefaultFailureMessages"))}(u[0],null,u)}(u[0],u)}(u[0],u)}(a[0],a)},Opal.modules["rspec/matchers/composable"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send;return e.add_stubs(["$require_rspec_support","$new","$matches?","$private","$with_matchers_cloned","$values_match?","$is_a_describable_matcher?","$description","$inspect","$===","$[]","$surface_descriptions_in","$to_a","$enumerable?","$map","$is_a_matcher?","$clone","$include?","$ancestors","$module_function","$item","$text"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_support("fuzzy_matcher"),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l,u,p,d,f,h,m,g=s=a(t,"Composable"),v=(g.$$proto,[g].concat($));e.defn(g,"$and",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"and"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(v,"BuiltIn"),"Compound"),"And").$new(r,t)},o.$$arity=1,o.$$parameters=[["req","matcher"]]),e.alias(g,"&","and"),e.defn(g,"$or",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"or"),e.const_get_qualified(e.const_get_qualified(e.const_get_relative(v,"BuiltIn"),"Compound"),"Or").$new(r,t)},c.$$arity=1,c.$$parameters=[["req","matcher"]]),e.alias(g,"|","or"),e.defn(g,"$===",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),r["$matches?"](t)},_.$$arity=1,_.$$parameters=[["req","value"]]),g.$private(),e.defn(g,"$values_match?",l=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"values_match?"),t=a.$with_matchers_cloned(t),e.const_get_qualified(e.const_get_relative(v,"Support"),"FuzzyMatcher")["$values_match?"](t,r)},l.$$arity=2,l.$$parameters=[["req","expected"],["req","actual"]]),e.defn(g,"$description_of",u=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"description_of"),n(e.const_get_relative(v,"Matchers")["$is_a_describable_matcher?"](t))?t.$description():t.$inspect()},u.$$arity=1,u.$$parameters=[["req","object"]]),e.defn(g,"$surface_descriptions_in",p=function(t){var a,$=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"surface_descriptions_in"),n(e.const_get_relative(v,"Matchers")["$is_a_describable_matcher?"](t)))return e.const_get_relative(v,"DescribableItem").$new(t);if(n(e.const_get_relative(v,"Hash")["$==="](t)))return e.const_get_relative(v,"Hash")["$[]"]($.$surface_descriptions_in(t.$to_a()));if(n(e.const_get_relative(v,"Struct")["$==="](t)))return t.$inspect();if(!n($["$enumerable?"](t)))return t;try{return i(t,"map",[],(a=function(t){var n=a.$$s||this;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"surface_descriptions_in")}return n.$surface_descriptions_in(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","subitem"]],a))}catch(r){if(!e.rescue(r,[e.const_get_relative(v,"IOError")]))throw r;try{return t.$inspect()}finally{e.pop_exception()}}},p.$$arity=1,p.$$parameters=[["req","item"]]),e.defn(g,"$with_matchers_cloned",d=function(t){var a,$=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"with_matchers_cloned"),n(e.const_get_relative(v,"Matchers")["$is_a_matcher?"](t)))return t.$clone();if(n(e.const_get_relative(v,"Hash")["$==="](t)))return e.const_get_relative(v,"Hash")["$[]"]($.$with_matchers_cloned(t.$to_a()));if(n(e.const_get_relative(v,"Struct")["$==="](t)))return t;if(!n($["$enumerable?"](t)))return t;try{return i(t,"map",[],(a=function(t){var n=a.$$s||this;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"with_matchers_cloned")}return n.$with_matchers_cloned(t)},a.$$s=$,a.$$arity=1,a.$$parameters=[["req","subobject"]],a))}catch(r){if(!e.rescue(r,[e.const_get_relative(v,"IOError")]))throw r;try{return t}finally{e.pop_exception()}}},d.$$arity=1,d.$$parameters=[["req","object"]]),n(e.const_get_relative(v,"String").$ancestors()["$include?"](e.const_get_relative(v,"Enumerable")))?e.defn(g,"$enumerable?",f=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"enumerable?"),!n(e.const_get_relative(v,"String")["$==="](t))&&e.const_get_relative(v,"Enumerable")["$==="](t)},f.$$arity=1,f.$$parameters=[["req","item"]]):e.defn(g,"$enumerable?",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"enumerable?"),e.const_get_relative(v,"Enumerable")["$==="](t)},h.$$arity=1,h.$$parameters=[["req","item"]]),g.$module_function("surface_descriptions_in","enumerable?"),e.const_set(v[0],"DescribableItem",i(e.const_get_relative(v,"Struct"),"new",["item"],(m=function(){var t,a,n=m.$$s||this;if(m.$$is_lambda||m.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<module:Composable>")}return e.def(n,"$inspect",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"("+t.$item().$description()+")"},t.$$arity=0,t.$$parameters=[]),e.def(n,"$pretty_print",a=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pretty_print"),t.$text("("+r.$item().$description()+")")},a.$$arity=1,a.$$parameters=[["req","pp"]]),r&&"pretty_print"},m.$$s=g,m.$$arity=0,m.$$parameters=[],m)))}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/matchers/dsl"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy,s=e.hash2,o=e.klass;return e.add_stubs(["$define_method","$new","$alias_method","$respond_to?","$configure","$extend","$define_user_override","$actual_arg_for","$to_proc","$push","$private","$__send__","$lambda","$deprecate","$match","$match_when_negated","$failure_message","$failure_message_when_negated","$include","$name_to_sentence","$to_sentence","$expected","$chained_method_clause_sentences","$include_chain_clauses_in_custom_matcher_descriptions?","$configuration","$join","$map","$split_words","$attr_reader","$class_exec","$==","$size","$expected_as_array","$[]","$name","$class","$>=","$to_f","$zero?","$arity"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Matchers"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l,u,p=_=n(r,"DSL"),d=(p.$$proto,[p].concat(c));e.defn(p,"$define",l=function(t){var r,n=this,$=l.$$p,s=$||a;$&&(l.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"define"),i(n,"define_method",[t],(r=function(){var a,n=r.$$s||this,$=arguments.length,o=$-0;o<0&&(o=0),a=new Array(o);for(var c=0;c<$;c++)a[c-0]=arguments[c];return i(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(d,"RSpec"),"Matchers"),"DSL"),"Matcher"),"new",[t,s,n].concat(e.to_a(a)))},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","expected"]],r))},l.$$arity=1,l.$$parameters=[["req","name"],["block","declarations"]]),p.$alias_method("matcher","define"),$(e.const_get_relative(d,"RSpec")["$respond_to?"]("configure"))&&i(e.const_get_relative(d,"RSpec"),"configure",[],(u=function(t){var r=u.$$s||this;if(null==t&&(t=a),u.$$is_lambda||u.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"<module:DSL>")}return t.$extend(r)},u.$$s=p,u.$$arity=1,u.$$parameters=[["req","c"]],u)),function(t,r){var o,c,_,l,u,p,d,f,h,m,g,v=o=n(t,"Macros"),y=(v.$$proto,[v].concat(r));e.defn(v,"$match",c=function(){var t,r=this,n=c.$$p,$=n||a;n&&(c.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"match"),i(r,"define_user_override",["matches?",$],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"match")}try{return n.actual=r,i(n,e.find_iter_super_dispatcher(n,"match",t.$$def||c,!1,!1),e.to_a(n.$actual_arg_for($)),null)}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Expectations"),"ExpectationNotMetError")]))throw t;try{return!1}finally{e.pop_exception()}}},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","actual"]],t))},c.$$arity=0,c.$$parameters=[["block","match_block"]]),e.defn(v,"$match_when_negated",_=function(){var t,r=this,n=_.$$p,$=n||a;n&&(_.$$p=null);var s=arguments.length;return 0!==s&&e.ac(s,0,this,"match_when_negated"),i(r,"define_user_override",["does_not_match?",$],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"match_when_negated")}return n.actual=r,i(n,e.find_iter_super_dispatcher(n,"match_when_negated",t.$$def||_,!1,!1),e.to_a(n.$actual_arg_for($)),null)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","actual"]],t))},_.$$arity=0,_.$$parameters=[["block","match_block"]]),e.defn(v,"$match_unless_raises",l=function(t){var r,n=this,$=l.$$p,s=$||a;null==t&&(t=e.const_get_relative(y,"Exception")),$&&(l.$$p=null);var o=arguments.length;return o>1&&e.ac(o,-1,this,"match_unless_raises"),i(n,"define_user_override",["matches?",s],(r=function(n){var $=r.$$s||this;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"match_unless_raises")}$.actual=n;var c=!0;try{return i($,e.find_iter_super_dispatcher($,"match_unless_raises",r.$$def||l,!1,!1),e.to_a($.$actual_arg_for(s)),null)}catch(r){if(c=!1,!e.rescue(r,[t]))throw r;$.rescued_exception=r;try{return!1}finally{e.pop_exception()}}finally{if(c)return!0}},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","actual"]],r))},l.$$arity=-1,l.$$parameters=[["opt","expected_exception"],["block","match_block"]]),e.defn(v,"$failure_message",u=function(){var t=this,r=u.$$p,n=r||a;r&&(u.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message"),t.$define_user_override("failure_message",n)},u.$$arity=0,u.$$parameters=[["block","definition"]]),e.defn(v,"$failure_message_when_negated",p=function(){var t=this,r=p.$$p,n=r||a;r&&(p.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"failure_message_when_negated"),t.$define_user_override("failure_message_when_negated",n)},p.$$arity=0,p.$$parameters=[["block","definition"]]),e.defn(v,"$description",d=function(){var t=this,r=d.$$p,n=r||a;r&&(d.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"description"),t.$define_user_override("description",n)},d.$$arity=0,d.$$parameters=[["block","definition"]]),e.defn(v,"$diffable",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"diffable"),i(r,"define_method",["diffable?"],(t=function(){t.$$s;if(t.$$is_lambda||t.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"diffable")}return!0},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},f.$$arity=0,f.$$parameters=[]),e.defn(v,"$supports_block_expectations",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"supports_block_expectations"),i(r,"define_method",["supports_block_expectations?"],(t=function(){t.$$s;if(t.$$is_lambda||t.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"supports_block_expectations")}return!0},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},h.$$arity=0,h.$$parameters=[]),e.defn(v,"$chain",m=function(t){var r,n=this,$=m.$$p,s=$||a;$&&(m.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"chain"),i(n,"define_user_override",[t,s],(r=function(){var n,$,s=r.$$s||this;null==s.chained_method_clauses&&(s.chained_method_clauses=a),(n=r.$$p||a)&&(r.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<o;_++)$[_-0]=arguments[_];return i(s,e.find_iter_super_dispatcher(s,"chain",r.$$def||m,!1,!1),e.to_a($),n.$to_proc()),s.chained_method_clauses.$push([t,$]),s},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","args"],["block","block"]],r))},m.$$arity=1,m.$$parameters=[["req","name"],["block","definition"]]),v.$private(),e.defn(v,"$define_user_override",g=function(t,r){var n,s,o=this,c=g.$$p,_=c||a;null==o.user_method_defs&&(o.user_method_defs=a),c&&(g.$$p=null);var l=arguments.length;return 2!==l&&e.ac(l,2,this,"define_user_override"),i(o.user_method_defs,"__send__",["define_method",t],r.$to_proc()),_=$(n=_)?n:i(o,"lambda",[],(s=function(){var t=s.$$s||this;if(s.$$is_lambda||s.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"define_user_override")}return i(t,e.find_iter_super_dispatcher(t,"define_user_override",s.$$def||g,!1,!1),e.to_a(t.$actual_arg_for(r)),null)},s.$$s=o,s.$$arity=0,s.$$parameters=[],s)),i(o,"define_method",[t],_.$to_proc())},g.$$arity=2,g.$$parameters=[["req","method_name"],["req","user_def"],["block","our_def"]]),function(t,r){var $,o,c,_,l,u=$=n(t,"Deprecated"),p=(u.$$proto,[u].concat(r));e.defn(u,"$match_for_should",o=function(){var t=this,r=o.$$p,n=r||a;r&&(o.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"match_for_should"),e.const_get_relative(p,"RSpec").$deprecate("`match_for_should`",s(["replacement"],{replacement:"`match`"})),i(t,"match",[],n.$to_proc())},o.$$arity=0,o.$$parameters=[["block","definition"]]),e.defn(u,"$match_for_should_not",c=function(){var t=this,r=c.$$p,n=r||a;r&&(c.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"match_for_should_not"),e.const_get_relative(p,"RSpec").$deprecate("`match_for_should_not`",s(["replacement"],{replacement:"`match_when_negated`"})),i(t,"match_when_negated",[],n.$to_proc())},c.$$arity=0,c.$$parameters=[["block","definition"]]),e.defn(u,"$failure_message_for_should",_=function(){var t=this,r=_.$$p,n=r||a;r&&(_.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"failure_message_for_should"),e.const_get_relative(p,"RSpec").$deprecate("`failure_message_for_should`",s(["replacement"],{replacement:"`failure_message`"})),i(t,"failure_message",[],n.$to_proc())},_.$$arity=0,_.$$parameters=[["block","definition"]]),e.defn(u,"$failure_message_for_should_not",l=function(){var t=this,r=l.$$p,n=r||a;r&&(l.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"failure_message_for_should_not"),e.const_get_relative(p,"RSpec").$deprecate("`failure_message_for_should_not`",s(["replacement"],{replacement:"`failure_message_when_negated`"})),i(t,"failure_message_when_negated",[],n.$to_proc())},l.$$arity=0,l.$$parameters=[["block","definition"]])}(y[0],y)}(d[0],d),function(t,r){var s,o,c,_,l,u,p=s=n(t,"DefaultImplementations"),d=(p.$$proto,[p].concat(r));p.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(d,"BuiltIn"),"BaseMatcher"),"DefaultFailureMessages")),e.defn(p,"$diffable?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"diffable?"),!1},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$description",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),""+t.$name_to_sentence()+t.$to_sentence(t.$expected())+t.$chained_method_clause_sentences()},c.$$arity=0,c.$$parameters=[]),e.defn(p,"$supports_block_expectations?",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"supports_block_expectations?"),!1},_.$$arity=0,_.$$parameters=[]),e.defn(p,"$expects_call_stack_jump?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expects_call_stack_jump?"),!1},l.$$arity=0,l.$$parameters=[]),p.$private(),e.defn(p,"$chained_method_clause_sentences",u=function(){var t,r=this;null==r.chained_method_clauses&&(r.chained_method_clauses=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"chained_method_clause_sentences"),$(e.const_get_relative(d,"Expectations").$configuration()["$include_chain_clauses_in_custom_matcher_descriptions?"]())?i(r.chained_method_clauses,"map",[],(t=function(r){var n,i,$,s=t.$$s||this;if(null==r&&(r=a),r=e.to_ary(r),n=e.slice.call(r,0,r.length),i=n.splice(0,1)[0],null==i&&(i=a),$=n.splice(0,1)[0],null==$&&($=a),t.$$is_lambda||t.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"chained_method_clause_sentences")}return" "+s.$split_words(i)+s.$to_sentence($)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req"]],t.$$has_top_level_mlhs_arg=!0,t)).$join():""},u.$$arity=0,u.$$parameters=[])}(d[0],d),function(r,$super,n){function s(){}var c,_,l,u,p,d,f,h=s=o(r,$super,"Matcher",s),m=h.$$proto,g=[h].concat(n);m.matcher_execution_context=m.actual=a,h.$include(e.const_get_relative(g,"DefaultImplementations")),h.$include(e.const_get_qualified(e.const_get_relative(g,"RSpec"),"Matchers")),h.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(g,"RSpec"),"Matchers"),"Pretty")),h.$include(e.const_get_relative(g,"Composable")),h.$extend(e.const_get_relative(g,"Macros")),h.$extend(e.const_get_qualified(e.const_get_relative(g,"Macros"),"Deprecated")),h.$attr_reader("actual"),h.$attr_reader("rescued_exception"),e.defn(h,"$initialize",c=function(t,r,n){var $,s=this,o=arguments.length,c=o-3;c<0&&(c=0),$=new Array(c);for(var _=3;_<o;_++)$[_-3]=arguments[_];var l=arguments.length;return l<3&&e.ac(l,-4,this,"initialize"),s.name=t,s.actual=a,s.expected_as_array=$,s.matcher_execution_context=n,s.chained_method_clauses=[],i(function(t,r){var a=(t.$$proto,[t].concat(r));return t.$include(t.user_method_defs=e.const_get_relative(a,"Module").$new()),t}(e.get_singleton_class(s),g),"class_exec",e.to_a($),r.$to_proc())},c.$$arity=-4,c.$$parameters=[["req","name"],["req","declarations"],["req","matcher_execution_context"],["rest","expected"]]),e.defn(h,"$expected",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected"),t.$expected_as_array().$size()["$=="](1)?t.$expected_as_array()["$[]"](0):t.$expected_as_array()},_.$$arity=0,_.$$parameters=[]),h.$attr_reader("expected_as_array"),e.defn(h,"$inspect",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"inspect"),"#<"+t.$class().$name()+" "+t.$name()+">"},l.$$arity=0,l.$$parameters=[]),$(t(e.const_get_relative(g,"RUBY_VERSION").$to_f(),1.9))?e.defn(h,"$respond_to_missing?",u=function(t,r){var n,s=this,o=u.$$p,c=a,_=a,l=a;null==r&&(r=!1),o&&(u.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"respond_to_missing?"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return $(n=i(s,e.find_super_dispatcher(s,"respond_to_missing?",u,!1),c,o))?n:s.matcher_execution_context["$respond_to?"](t,r)},u.$$arity=-2,u.$$parameters=[["req","method"],["opt","include_private"]]):e.defn(h,"$respond_to?",p=function(t,r){var n,s=this,o=p.$$p,c=a,_=a,l=a;null==r&&(r=!1),o&&(p.$$p=null);var u=arguments.length;for((u<1||u>2)&&e.ac(u,-2,this,"respond_to?"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return $(n=i(s,e.find_super_dispatcher(s,"respond_to?",p,!1),c,o))?n:s.matcher_execution_context["$respond_to?"](t,r)},p.$$arity=-2,p.$$parameters=[["req","method"],["opt","include_private"]]),h.$private(),e.defn(h,"$actual_arg_for",d=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"actual_arg_for"),$(t.$arity()["$zero?"]())?[]:[r.actual]},d.$$arity=1,d.$$parameters=[["req","block"]]),e.defn(h,"$method_missing",f=function(t){var r,n=this,s=f.$$p,o=s||a,c=arguments.length,_=c-1;_<0&&(_=0),r=new Array(_);for(var l=1;l<c;l++)r[l-1]=arguments[l];s&&(f.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"method_missing"),$(n.matcher_execution_context["$respond_to?"](t))?i(n.matcher_execution_context,"__send__",[t].concat(e.to_a(r)),o.$to_proc()):i(n,e.find_super_dispatcher(n,"method_missing",f,!1),[t].concat(e.to_a(r)),o.$to_proc())},f.$$arity=-2,f.$$parameters=[["req","method"],["rest","args"],["block","block"]])}(d[0],null,d)}(u[0],u)}(u[0],u)}(r[0],r),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Matchers").$extend(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Matchers"),"DSL"))},Opal.modules["rspec/matchers/generated_descriptions"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy;return e.add_stubs(["$attr_accessor","$last_matcher=","$-","$last_expectation_handler=","$nil?","$last_expectation_handler","$verb","$last_description","$private","$respond_to?","$last_matcher","$description"]),function(r,s){var o,c=o=n(r,"RSpec"),_=(c.$$proto,[c].concat(s));!function(r,s){var o,c,_,l,u=o=n(r,"Matchers"),p=(u.$$proto,[u].concat(s));!function(e,t){e.$$proto,[e].concat(t);e.$attr_accessor("last_matcher","last_expectation_handler")}(e.get_singleton_class(u),p),e.defs(u,"$clear_generated_description",c=function(){var r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"clear_generated_description"),n=[a],i(r,"last_matcher=",e.to_a(n)),n[t(n.length,1)],n=[a],i(r,"last_expectation_handler=",e.to_a(n)),n[t(n.length,1)]},c.$$arity=0,c.$$parameters=[]),e.defs(u,"$generated_description",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"generated_description"),$(t.$last_expectation_handler()["$nil?"]())?a:t.$last_expectation_handler().$verb()+" "+t.$last_description()},_.$$arity=0,_.$$parameters=[]),u.$private(),e.defs(u,"$last_description",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"last_description"),$(t.$last_matcher()["$respond_to?"]("description"))?t.$last_matcher().$description():"When you call a matcher in an example without a String, like this:\n\nspecify { expect(object).to matcher }\n\nor this:\n\nit { is_expected.to matcher }\n\nRSpec expects the matcher to have a #description method. You should either\nadd a String to the example this matcher is being used in, or give it a\ndescription method. Then you won't have to suffer this lengthy warning again.\n"},l.$$arity=0,l.$$parameters=[])}(_[0],_)}(r[0],r)},Opal.modules["rspec/matchers/matcher_delegator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$include","$attr_reader","$__send__","$base_matcher","$to_proc","$>","$to_f","$respond_to?","$clone"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Matchers"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d=o=i(r,$super,"MatcherDelegator",o),f=d.$$proto,h=[d].concat(n);f.base_matcher=a,d.$include(e.const_get_relative(h,"Composable")),d.$attr_reader("base_matcher"),e.defn(d,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.base_matcher=t},c.$$arity=1,c.$$parameters=[["req","base_matcher"]]),e.defn(d,"$method_missing",_=function(){var t,r=this,n=_.$$p,i=n||a,s=arguments.length,o=s-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<s;c++)t[c-0]=arguments[c];return n&&(_.$$p=null),$(r.$base_matcher(),"__send__",e.to_a(t),i.$to_proc())},_.$$arity=-1,_.$$parameters=[["rest","args"],["block","block"]]),s(t(e.const_get_qualified("::","RUBY_VERSION").$to_f(),1.8))?e.defn(d,"$respond_to_missing?",l=function(t,r){var n,i=this,o=l.$$p,c=a,_=a,u=a;null==r&&(r=!1),o&&(l.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"respond_to_missing?"),_=0,u=arguments.length,c=new Array(u);_<u;_++)c[_]=arguments[_];return s(n=$(i,e.find_super_dispatcher(i,"respond_to_missing?",l,!1),c,o))?n:i.$base_matcher()["$respond_to?"](t,r)},l.$$arity=-2,l.$$parameters=[["req","name"],["opt","include_all"]]):e.defn(d,"$respond_to?",u=function(t,r){var n,i=this,o=u.$$p,c=a,_=a,l=a;null==r&&(r=!1),o&&(u.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"respond_to?"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return s(n=$(i,e.find_super_dispatcher(i,"respond_to?",u,!1),c,o))?n:i.$base_matcher()["$respond_to?"](t,r)},u.$$arity=-2,u.$$parameters=[["req","name"],["opt","include_all"]]),e.defn(d,"$initialize_copy",p=function(){var t=this,r=p.$$p,n=a,i=a,s=a;r&&(p.$$p=null);var o=arguments.length;for(1!==o&&e.ac(o,1,this,"initialize_copy"),i=0,s=arguments.length,n=new Array(s);i<s;i++)n[i]=arguments[i];return t.base_matcher=t.base_matcher.$clone(),$(t,e.find_super_dispatcher(t,"initialize_copy",p,!1),n,r)},p.$$arity=1,p.$$parameters=[["req","other"]])}(l[0],null,l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/matchers/pretty"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send,$=e.range;return e.add_stubs(["$gsub","$to_s","$module_function","$!","$===","$inspect","$map","$Array","$to_word","$length","$[]","$join","$is_matcher_with_description?","$description","$split_words","$name","$underscore","$last","$split","$class","$dup","$gsub!","$tr!","$downcase!","$private","$is_a_matcher?","$respond_to?"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Matchers"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c,_,l,u,p,d,f,h,m=o=a(t,"Pretty"),g=(m.$$proto,[m].concat(s));e.defn(m,"$split_words",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"split_words"),t.$to_s().$gsub(/_/," ")},c.$$arity=1,c.$$parameters=[["req","sym"]]),m.$module_function("split_words"),e.defn(m,"$to_sentence",_=function(t){var a,s,o=this,c=r,_=arguments.length;return 1!==_&&e.ac(_,1,this,"to_sentence"),n(n(a=t["$!"]())?a:e.const_get_relative(g,"Struct")["$==="](t))?" "+t.$inspect():(t=i(o.$Array(t),"map",[],(s=function(t){var a=s.$$s||this;if(null==t&&(t=r),s.$$is_lambda||s.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"to_sentence")}return a.$to_word(t)},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","w"]],s)),function(){return c=t.$length(),(0)["$==="](c)?"":1["$==="](c)?" "+t["$[]"](0):2["$==="](c)?" "+t["$[]"](0)+" and "+t["$[]"](1):" "+t["$[]"]($(0,-1,!0)).$join(", ")+", and "+t["$[]"](-1)}())},_.$$arity=1,_.$$parameters=[["req","words"]]),e.defn(m,"$to_word",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"to_word"),n(r["$is_matcher_with_description?"](t))?t.$description():t.$inspect()},l.$$arity=1,l.$$parameters=[["req","item"]]),e.defn(m,"$name_to_sentence",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"name_to_sentence"),t.$split_words(t.$name())},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$name",p=function(){var t,a=this;null==a.name&&(a.name=r);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"name"),n(null!=(t=a.name)&&t!==r?"instance-variable":r)?a.name:a.$underscore(a.$class().$name().$split("::").$last())},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$underscore",d=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=t.$to_s().$dup(),a["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),a["$tr!"]("-","_"),a["$downcase!"](),a},d.$$arity=1,d.$$parameters=[["req","camel_cased_word"]]),m.$private(),e.defn(m,"$is_matcher_with_description?",f=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"is_matcher_with_description?"),n(r=e.const_get_qualified(e.const_get_relative(g,"RSpec"),"Matchers")["$is_a_matcher?"](t))?t["$respond_to?"]("description"):r},f.$$arity=1,f.$$parameters=[["req","object"]]),e.defn(m,"$improve_hash_formatting",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"improve_hash_formatting"),t.$gsub(/(\S)=>(\S)/,"\\1 => \\2")},h.$$arity=1,h.$$parameters=[["req","inspect_string"]])}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/mocks/any_instance/chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$define_method","$record","$to_proc","$include","$create_message_expectation_on","$inject","$messages","$__send__","$first","$last","$any?","$==","$args_match?","$negated?","$raise_double_negation_error","$new","$private","$empty?","$verify_invocation_order","$<<","$unshift"]),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Mocks"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"AnyInstance"),_=(c.$$proto,[c].concat(s));!function(t,$super,s){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y=o=n(t,$super,"Chain",o),b=y.$$proto,x=[y].concat(s);b.argument_list_matcher=b.messages=r,e.defn(y,"$initialize",c=function(t){var a,n=this,i=c.$$p,$=i||r,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var _=1;_<s;_++)a[_-1]=arguments[_];i&&(c.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"initialize"),n.recorder=t,n.expectation_args=a,n.expectation_block=$,n.argument_list_matcher=e.const_get_qualified(e.const_get_relative(x,"ArgumentListMatcher"),"MATCH_ALL")},c.$$arity=-2,c.$$parameters=[["req","recorder"],["rest","args"],["block","block"]]),function(t,n){var $,s,o=$=a(t,"Customizations");o.$$proto,[o].concat(n);e.defs(o,"$record",s=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"record"),i(n,"define_method",[t],(a=function(){var n,$,s=a.$$s||this;(n=a.$$p||r)&&(a.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<o;_++)$[_-0]=arguments[_];return i(s,"record",[t].concat(e.to_a($)),n.$to_proc())},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a))},s.$$arity=1,s.$$parameters=[["req","method_name"]]),o.$record("and_return"),o.$record("and_raise"),o.$record("and_throw"),o.$record("and_yield"),o.$record("and_call_original"),o.$record("with"),o.$record("once"),o.$record("twice"),o.$record("thrice"),o.$record("exactly"),o.$record("times"),o.$record("never"),o.$record("at_least"),o.$record("at_most")}(x[0],x),y.$include(e.const_get_relative(x,"Customizations")),e.defn(y,"$playback!",_=function(t){var a,n=this,$=r,s=arguments.length;return 1!==s&&e.ac(s,1,this,"playback!"),$=n.$create_message_expectation_on(t),i(n.$messages(),"inject",[$],(a=function(t,n){a.$$s;if(null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"playback!")}return i(t,"__send__",e.to_a(n.$first()),n.$last().$to_proc())},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","object"],["req","message"]],a))},_.$$arity=1,_.$$parameters=[["req","instance"]]),e.defn(y,"$constrained_to_any_of?",l=function(){var t,a,n=this,$=arguments.length,s=$-0;s<0&&(s=0),a=new Array(s);for(var o=0;o<$;o++)a[o-0]=arguments[o];return i(a,"any?",[],(t=function(a){var n,$=t.$$s||this;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"constrained_to_any_of?")}return i($.$messages(),"any?",[],(n=function(t){n.$$s;if(null==t&&(t=r),
n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"constrained_to_any_of?")}return t.$first().$first()["$=="](a)},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","message"]],n))},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","constraint"]],t))},l.$$arity=-1,l.$$parameters=[["rest","constraints"]]),e.defn(y,"$matches_args?",u=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return i(r.argument_list_matcher,"args_match?",e.to_a(t))},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(y,"$expectation_fulfilled!",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectation_fulfilled!"),t.expectation_fulfilled=!0},p.$$arity=0,p.$$parameters=[]),e.defn(y,"$never",d=function(){var t=this,a=d.$$p,n=r,s=r,o=r;a&&(d.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"never"),s=0,o=arguments.length,n=new Array(o);s<o;s++)n[s]=arguments[s];return $(t["$negated?"]())&&e.const_get_relative(x,"ErrorGenerator").$raise_double_negation_error("expect_any_instance_of(MyClass)"),i(t,e.find_super_dispatcher(t,"never",d,!1),n,a)},d.$$arity=0,d.$$parameters=[]),e.defn(y,"$with",f=function(){var t,a=this,n=f.$$p,$=r,s=r,o=r,c=arguments.length,_=c-0;_<0&&(_=0),t=new Array(_);for(var l=0;l<c;l++)t[l-0]=arguments[l];for(n&&(f.$$p=null),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return a.argument_list_matcher=i(e.const_get_relative(x,"ArgumentListMatcher"),"new",e.to_a(t)),i(a,e.find_super_dispatcher(a,"with",f,!1),$,n)},f.$$arity=-1,f.$$parameters=[["rest","args"],["block","block"]]),y.$private(),e.defn(y,"$negated?",h=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"negated?"),i(a.$messages(),"any?",[],(t=function(a,n){var i,$,n;t.$$s;if(null==a&&(a=r),a=e.to_ary(a),i=e.slice.call(a,0,a.length),$=i.splice(0,1)[0],null==$&&($=r),n=0<i.length?i.splice(0,i.length-0):[],null==n&&(n=r),t.$$is_lambda||t.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"negated?")}return $["$=="]("never")},t.$$s=a,t.$$arity=2,t.$$parameters=[["req"],["req","_"]],t.$$has_top_level_mlhs_arg=!0,t))},h.$$arity=0,h.$$parameters=[]),e.defn(y,"$messages",m=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"messages"),r.messages=$(t=r.messages)?t:[]},m.$$arity=0,m.$$parameters=[]),e.defn(y,"$last_message",g=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"last_message"),$(t.$messages()["$empty?"]())?r:t.$messages().$last().$first().$first()},g.$$arity=0,g.$$parameters=[]),e.defn(y,"$record",v=function(t){var a,n=this,$=v.$$p,s=$||r,o=arguments.length,c=o-1;c<0&&(c=0),a=new Array(c);for(var _=1;_<o;_++)a[_-1]=arguments[_];$&&(v.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"record"),i(n,"verify_invocation_order",[t].concat(e.to_a(a)),s.$to_proc()),n.$messages()["$<<"]([a.$unshift(t),s]),n},v.$$arity=-2,v.$$parameters=[["req","rspec_method_name"],["rest","args"],["block","block"]])}(_[0],null,_)}(_[0],_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/mocks/any_instance/expect_chain_chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$tap","$private","$expect_chain_on","$to_proc"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"AnyInstance"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p,d=o=n(t,$super,"ExpectChainChain",o),f=d.$$proto;[d].concat(a);f.expectation_fulfilled=f.expectation_args=f.expectation_block=f.invocation_order=r,e.defn(d,"$initialize",c=function(){var t,a=this,n=c.$$p,$=r,s=r,o=r,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(n&&(c.$$p=null),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return i(a,e.find_super_dispatcher(a,"initialize",c,!1),$,n),a.expectation_fulfilled=!1},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(d,"$expectation_fulfilled?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectation_fulfilled?"),t.expectation_fulfilled},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$playback!",l=function(){var t,a=this,n=l.$$p,$=r,s=r,o=r;n&&(l.$$p=null);var c=arguments.length;for(1!==c&&e.ac(c,1,this,"playback!"),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return i(i(a,e.find_super_dispatcher(a,"playback!",l,!1),$,n),"tap",[],(t=function(){var r=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"playback!")}return r.expectation_fulfilled=!0},t.$$s=a,t.$$arity=0,t.$$parameters=[],t))},l.$$arity=1,l.$$parameters=[["req","instance"]]),d.$private(),e.defn(d,"$create_message_expectation_on",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"create_message_expectation_on"),i(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"ExpectChain"),"expect_chain_on",[t].concat(e.to_a(r.expectation_args)),r.expectation_block.$to_proc())},u.$$arity=1,u.$$parameters=[["req","instance"]]),e.defn(d,"$invocation_order",p=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),a.invocation_order=$(t=a.invocation_order)?t:s(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},p.$$arity=0,p.$$parameters=[])}(l[0],e.const_get_relative(l,"StubChain"),l)}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/any_instance/expectation_chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send,s=e.hash2;return e.add_stubs(["$constrained_to_any_of?","$private","$proxy_for","$space","$merge","$add_message_expectation","$to_proc","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"AnyInstance"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function s(){}var o,c,_,l=s=n(t,$super,"ExpectationChain",s),u=l.$$proto;[l].concat(a);u.expectation_fulfilled=r,e.defn(l,"$expectation_fulfilled?",o=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"expectation_fulfilled?"),i(t=r.expectation_fulfilled)?t:r["$constrained_to_any_of?"]("never")},o.$$arity=0,o.$$parameters=[]),e.defn(l,"$initialize",c=function(){var t,a=this,n=c.$$p,i=r,s=r,o=r,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(n&&(c.$$p=null),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return a.expectation_fulfilled=!1,$(a,e.find_super_dispatcher(a,"initialize",c,!1),i,n)},c.$$arity=-1,c.$$parameters=[["rest","args"],["block","block"]]),l.$private(),e.defn(l,"$verify_invocation_order",_=function(){var t,a=_.$$p,n=arguments.length,i=n-1;i<0&&(i=0),t=new Array(i);for(var $=1;$<n;$++)t[$-1]=arguments[$];a&&(_.$$p=null);var s=arguments.length;return s<1&&e.ac(s,-2,this,"verify_invocation_order"),r},_.$$arity=-2,_.$$parameters=[["req","_rspec_method_name"],["rest","_args"],["block","_block"]])}(l[0],e.const_get_relative(l,"Chain"),l),function(t,$super,a){function o(){}var c,_,l=o=n(t,$super,"PositiveExpectationChain",o),u=l.$$proto,p=[l].concat(a);u.expectation_args=u.expectation_block=u.invocation_order=r,l.$private(),e.defn(l,"$create_message_expectation_on",c=function(t){var a,n,o=this,c=r,_=r,l=r,u=r,d=arguments.length;return 1!==d&&e.ac(d,1,this,"create_message_expectation_on"),c=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t),n=o.expectation_args,a=e.to_ary(n),_=null==a[0]?r:a[0],l=null==a[1]?r:a[1],l=(i(a=l)?a:s([],{})).$merge(s(["expected_form"],{expected_form:e.const_get_relative(p,"IGNORED_BACKTRACE_LINE")})),u=$(c,"add_message_expectation",[_,l],o.expectation_block.$to_proc()),i(e.const_get_qualified(e.const_get_relative(p,"RSpec"),"Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())&&u.$and_yield_receiver_to_implementation(),u},c.$$arity=1,c.$$parameters=[["req","instance"]]),e.defn(l,"$invocation_order",_=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),a.invocation_order=i(t=a.invocation_order)?t:s(["with","and_return","and_raise"],{"with":[r],and_return:["with",r],and_raise:["with",r]})},_.$$arity=0,_.$$parameters=[])}(l[0],e.const_get_relative(l,"ExpectationChain"),l)}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/any_instance/message_chains"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$new","$[]=","$-","$[]","$<<","$reject!","$===","$find","$each","$!","$expectation_fulfilled?","$matches_args?","$all?","$compact","$map","$last","$to_s","$expectation_fulfilled!","$raise_if_second_instance_to_receive_message","$playback!","$private","$equal?","$raise","$join","$sort","$unfulfilled_expectations"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"AnyInstance"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y=o=i(r,$super,"MessageChains",o),b=y.$$proto,x=[y].concat(n);b.chains_by_method_name=b.instance_with_expectation=a,e.defn(y,"$initialize",c=function(){var r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"initialize"),n.chains_by_method_name=$(e.const_get_relative(x,"Hash"),"new",[],(r=function(n,i){var s=(r.$$s,a);if(null==n&&(n=a),null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"initialize")}return s=[i,[]],$(n,"[]=",e.to_a(s)),s[t(s.length,1)]},r.$$s=n,r.$$arity=2,r.$$parameters=[["req","h"],["req","k"]],r))},c.$$arity=0,c.$$parameters=[]),e.defn(y,"$[]",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.chains_by_method_name["$[]"](t)},_.$$arity=1,_.$$parameters=[["req","method_name"]]),e.defn(y,"$add",l=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add"),a.chains_by_method_name["$[]"](t)["$<<"](r),r},l.$$arity=2,l.$$parameters=[["req","method_name"],["req","chain"]]),e.defn(y,"$remove_stub_chains_for!",u=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"remove_stub_chains_for!"),$(n.chains_by_method_name["$[]"](t),"reject!",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"remove_stub_chains_for!")}return e.const_get_relative(x,"StubChain")["$==="](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","chain"]],r))},u.$$arity=1,u.$$parameters=[["req","method_name"]]),e.defn(y,"$has_expectation?",p=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"has_expectation?"),$(n.chains_by_method_name["$[]"](t),"find",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"has_expectation?")}return e.const_get_relative(x,"ExpectationChain")["$==="](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","chain"]],r))},p.$$arity=1,p.$$parameters=[["req","method_name"]]),e.defn(y,"$each_unfulfilled_expectation_matching",d=function(t){var r,n,i=this,o=d.$$p,c=o||a,_=arguments.length,l=_-1;l<0&&(l=0),n=new Array(l);for(var u=1;u<_;u++)n[u-1]=arguments[u];o&&(d.$$p=null);var p=arguments.length;return p<1&&e.ac(p,-2,this,"each_unfulfilled_expectation_matching"),$(i.chains_by_method_name["$[]"](t),"each",[],(r=function(t){var i;r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"each_unfulfilled_expectation_matching")}return s(s(i=t["$expectation_fulfilled?"]()["$!"]())?$(t,"matches_args?",e.to_a(n)):i)?e.yield1(c,t):a},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","chain"]],r))},d.$$arity=-2,d.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(y,"$all_expectations_fulfilled?",f=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"all_expectations_fulfilled?"),$(r.chains_by_method_name,"all?",[],(t=function(r,n){var i,s=t.$$s||this;if(null==r&&(r=a),null==n&&(n=a),t.$$is_lambda||t.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"all_expectations_fulfilled?")}return $(n,"all?",[],(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"all_expectations_fulfilled?")}return t["$expectation_fulfilled?"]()},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","chain"]],i))},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","_method_name"],["req","chains"]],t))},f.$$arity=0,f.$$parameters=[]),e.defn(y,"$unfulfilled_expectations",h=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"unfulfilled_expectations"),$(r.chains_by_method_name,"map",[],(t=function(r,n){t.$$s;if(null==r&&(r=a),null==n&&(n=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"unfulfilled_expectations")}return s(n.$last()["$expectation_fulfilled?"]())?a:s(e.const_get_relative(x,"ExpectationChain")["$==="](n.$last()))?r.$to_s():a},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","method_name"],["req","chains"]],t)).$compact()},h.$$arity=0,h.$$parameters=[]),e.defn(y,"$received_expected_message!",m=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"received_expected_message!"),$(n.chains_by_method_name["$[]"](t),"each",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"received_expected_message!")}return t["$expectation_fulfilled!"]()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","chain"]],r))},m.$$arity=1,m.$$parameters=[["req","method_name"]]),e.defn(y,"$playback!",g=function(t,r){var n,i=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"playback!"),i.$raise_if_second_instance_to_receive_message(t),$(i.chains_by_method_name["$[]"](r),"each",[],(n=function(r){n.$$s;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"playback!")}return r["$playback!"](t)},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","chain"]],n))},g.$$arity=2,g.$$parameters=[["req","instance"],["req","method_name"]]),y.$private(),e.defn(y,"$raise_if_second_instance_to_receive_message",v=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"raise_if_second_instance_to_receive_message"),s(e.const_get_relative(x,"ExpectationChain")["$==="](t))&&(n.instance_with_expectation=s(r=n.instance_with_expectation)?r:t),s(e.const_get_relative(x,"ExpectationChain")["$==="](t))?s(n.instance_with_expectation["$equal?"](t))?a:n.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Mocks"),"MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+n.$unfulfilled_expectations().$sort().$join(", ")):a},v.$$arity=1,v.$$parameters=[["req","instance"]])}(l[0],null,l)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/any_instance/proxy"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send;return e.add_stubs(["$klass","$===","$each","$and_return","$stub","$perform_proxying","$add_stub","$to_proc","$remove_stub_if_present","$stub_chain_on","$object","$expect_chain_on","$never","$add_message_expectation","$private","$__send__","$map","$new","$+","$>","$to_f","$respond_to?","$first"]),function(a,c){var _,l=_=i(a,"RSpec"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"Mocks"),u=(l.$$proto,[l].concat(c));!function(a,c){var _,l=_=i(a,"AnyInstance"),u=(l.$$proto,[l].concat(c));!function(r,$super,a){function i(){}var c,_,l,u,p,d,f,h,m,g=i=$(r,$super,"Proxy",i),v=g.$$proto,y=[g].concat(a);v.recorder=v.target_proxies=n,e.defn(g,"$initialize",c=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.recorder=t,a.target_proxies=r},c.$$arity=2,c.$$parameters=[["req","recorder"],["req","target_proxies"]]),e.defn(g,"$klass",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"klass"),t.recorder.$klass()},_.$$arity=0,_.$$parameters=[]),e.defn(g,"$stub",l=function(t){var r,a,i=this,$=l.$$p,c=$||n;$&&(l.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"stub"),s(e.const_get_relative(y,"Hash")["$==="](t))?o(t,"each",[],(r=function(t,a){var i=r.$$s||this;if(null==t&&(t=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"stub")}return i.$stub(t).$and_return(a)},r.$$s=i,r.$$arity=2,r.$$parameters=[["req","method_name"],["req","return_value"]],r)):o(i,"perform_proxying",["stub",[t],c],(a=function(r){a.$$s;if(null==r&&(r=n),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"stub")}return o(r,"add_stub",[t],c.$to_proc())},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","proxy"]],a))},l.$$arity=1,l.$$parameters=[["req","method_name_or_method_map"],["block","block"]]),e.defn(g,"$unstub",u=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"unstub"),o(a,"perform_proxying",["unstub",[t],n],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"unstub")}return a.$remove_stub_if_present(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","proxy"]],r))},u.$$arity=1,u.$$parameters=[["req","method_name"]]),e.defn(g,"$stub_chain",p=function(){var t,r,a=this,i=p.$$p,$=i||n,s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<s;_++)r[_-0]=arguments[_];return i&&(p.$$p=null),o(a,"perform_proxying",["stub_chain",r,$],(t=function(a){t.$$s;if(null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"stub_chain")}return o(e.const_get_qualified(e.const_get_relative(y,"Mocks"),"StubChain"),"stub_chain_on",[a.$object()].concat(e.to_a(r)),$.$to_proc())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","proxy"]],t))},p.$$arity=-1,p.$$parameters=[["rest","chain"],["block","block"]]),e.defn(g,"$expect_chain",d=function(){var t,r,a=this,i=d.$$p,$=i||n,s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<s;_++)r[_-0]=arguments[_];return i&&(d.$$p=null),o(a,"perform_proxying",["expect_chain",r,$],(t=function(a){t.$$s;if(null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"expect_chain")}return o(e.const_get_qualified(e.const_get_relative(y,"Mocks"),"ExpectChain"),"expect_chain_on",[a.$object()].concat(e.to_a(r)),$.$to_proc())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","proxy"]],t))},d.$$arity=-1,d.$$parameters=[["rest","chain"],["block","block"]]),e.defn(g,"$should_receive",f=function(t){var r,a=this,i=f.$$p,$=i||n;i&&(f.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"should_receive"),o(a,"perform_proxying",["should_receive",[t],$],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"should_receive")}return o(a,"add_stub",[t],$.$to_proc())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","proxy"]],r))},f.$$arity=1,f.$$parameters=[["req","method_name"],["block","block"]]),e.defn(g,"$should_not_receive",h=function(t){var r,a=this,i=h.$$p,$=i||n;i&&(h.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"should_not_receive"),o(a,"perform_proxying",["should_not_receive",[t],$],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"should_not_receive")}return o(a,"add_message_expectation",[t],$.$to_proc()).$never()},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","proxy"]],r))},h.$$arity=1,h.$$parameters=[["req","method_name"],["block","block"]]),g.$private(),e.defn(g,"$perform_proxying",m=function(r,a,i){var $=this,s=m.$$p,c=s||n,_=n,l=n;s&&(m.$$p=null);var u=arguments.length;return 3!==u&&e.ac(u,3,this,"perform_proxying"),_=o($.recorder,"__send__",[r].concat(e.to_a(a)),i.$to_proc()),l=o($.target_proxies,"map",[],c.$to_proc()),e.const_get_relative(y,"FluentInterfaceProxy").$new(t([_],l))},m.$$arity=3,m.$$parameters=[["req","method_name"],["req","args"],["req","block"],["block","target_proxy_block"]])}(u[0],null,u),function(t,$super,a){function i(){}var c,_,l,u,p=i=$(t,$super,"FluentInterfaceProxy",i),d=p.$$proto,f=[p].concat(a);d.targets=n,e.defn(p,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.targets=t},c.$$arity=1,c.$$parameters=[["req","targets"]]),s(r(e.const_get_relative(f,"RUBY_VERSION").$to_f(),1.8))?e.defn(p,"$respond_to_missing?",_=function(t,r){var a,i=this,$=_.$$p,c=n,l=n,u=n;null==r&&(r=!1),$&&(_.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"respond_to_missing?"),l=0,u=arguments.length,c=new Array(u);l<u;l++)c[l]=arguments[l];return s(a=o(i,e.find_super_dispatcher(i,"respond_to_missing?",_,!1),c,$))?a:i.targets.$first()["$respond_to?"](t,r)},_.$$arity=-2,_.$$parameters=[["req","method_name"],["opt","include_private"]]):e.defn(p,"$respond_to?",l=function(t,r){var a,i=this,$=l.$$p,c=n,_=n,u=n;null==r&&(r=!1),$&&(l.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"respond_to?"),_=0,u=arguments.length,c=new Array(u);_<u;_++)c[_]=arguments[_];return s(a=o(i,e.find_super_dispatcher(i,"respond_to?",l,!1),c,$))?a:i.targets.$first()["$respond_to?"](t,r)},l.$$arity=-2,l.$$parameters=[["req","method_name"],["opt","include_private"]]),e.defn(p,"$method_missing",u=function(){var t,r,a=this,i=u.$$p,$=i||n,s=n,c=arguments.length,_=c-0;_<0&&(_=0),r=new Array(_);for(var l=0;l<c;l++)r[l-0]=arguments[l];return i&&(u.$$p=null),s=o(a.targets,"map",[],(t=function(a){t.$$s;if(null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"method_missing")}return o(a,"__send__",e.to_a(r),$.$to_proc())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","t"]],t)),e.const_get_relative(f,"FluentInterfaceProxy").$new(s)},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]])}(u[0],null,u)}(u[0],u)}(u[0],u)}(a[0],a)},Opal.modules["rspec/mocks/any_instance/recorder"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.hash2,o=e.truthy;return e.add_stubs(["$attr_reader","$new","$[]=","$-","$observe!","$add","$message_chains","$to_proc","$normalize_chain","$never","$should_receive","$include?","$to_sym","$raise","$remove_stub_chains_for!","$clear","$[]","$stubs","$has_expectation?","$stop_observing!","$all_expectations_fulfilled?","$join","$sort","$unfulfilled_expectations","$each","$restore_method!","$ensure_registered","$space","$playback!","$received_expected_message!","$super_class_observing?","$each_unfulfilled_expectation_matching","$expectation_fulfilled!","$mark_invoked!","$protected","$delete","$super_class_observers_for","$any_instance_recorder_for","$private","$lambda","$==","$already_observing?","$select","$ancestors","$ancestor_is_an_observer?","$any?","$reverse","$map","$split","$to_s","$shift","$unshift","$first","$public_protected_or_private_method_defined?","$build_alias_method_name","$restore_original_method!","$remove_dummy_method!","$owner","$instance_method","$class_exec","$remove_method","$alias_method","$method_defined_at_any_visibility?","$allow_no_prepended_module_definition_of","$verify_partial_doubles?","$configuration","$<<","$backup_method!","$__send__","$instance_that_received","$class","$object_id","$instance_variables","$instance_variable_get","$module_prepends_supported?","$prepended_modules_of","$find","$method_defined?"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Mocks"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"AnyInstance"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F=c=i(r,$super,"Recorder",c),B=F.$$proto,D=[F].concat(n);B.observed_methods=B.expectation_set=B.played_methods=B.klass=a,F.$attr_reader("message_chains","stubs","klass"),e.defn(F,"$initialize",_=function(r){var n,i=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"initialize"),i.message_chains=e.const_get_relative(D,"MessageChains").$new(),i.stubs=$(e.const_get_relative(D,"Hash"),"new",[],(n=function(r,i){var s=(n.$$s,a);if(null==r&&(r=a),null==i&&(i=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"initialize")}return s=[i,[]],$(r,"[]=",e.to_a(s)),s[t(s.length,1)]},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","hash"],["req","key"]],n)),i.observed_methods=[],i.played_methods=s([],{}),i.klass=r,i.expectation_set=!1},_.$$arity=1,_.$$parameters=[["req","klass"]]),e.defn(F,"$stub",l=function(t){var r=this,n=l.$$p,i=n||a;n&&(l.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"stub"),r["$observe!"](t),r.$message_chains().$add(t,$(e.const_get_relative(D,"StubChain"),"new",[r,t],i.$to_proc()))},l.$$arity=1,l.$$parameters=[["req","method_name"],["block","block"]]),e.defn(F,"$stub_chain",u=function(){var t,r,n=this,i=u.$$p,s=i||a,o=arguments.length,c=o-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<o;_++)r[_-0]=arguments[_];return i&&(u.$$p=null),$(n,"normalize_chain",e.to_a(r),(t=function(r,n){var i=t.$$s||this;if(null==r&&(r=a),null==n&&(n=a),t.$$is_lambda||t.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"stub_chain")}return i["$observe!"](r),i.$message_chains().$add(r,$(e.const_get_relative(D,"StubChainChain"),"new",[i].concat(e.to_a(n)),s.$to_proc()))},t.$$s=n,t.$$arity=2,t.$$parameters=[["req","method_name"],["req","args"]],t))},u.$$arity=-1,u.$$parameters=[["rest","method_names_and_optional_return_values"],["block","block"]]),e.defn(F,"$expect_chain",p=function(){var t,r,n=this,i=p.$$p,s=i||a,o=arguments.length,c=o-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<o;_++)r[_-0]=arguments[_];return i&&(p.$$p=null),n.expectation_set=!0,$(n,"normalize_chain",e.to_a(r),(t=function(r,n){var i=t.$$s||this;if(null==r&&(r=a),null==n&&(n=a),t.$$is_lambda||t.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"expect_chain")}return i["$observe!"](r),i.$message_chains().$add(r,$(e.const_get_relative(D,"ExpectChainChain"),"new",[i].concat(e.to_a(n)),s.$to_proc()))},t.$$s=n,t.$$arity=2,t.$$parameters=[["req","method_name"],["req","args"]],t))},p.$$arity=-1,p.$$parameters=[["rest","method_names_and_optional_return_values"],["block","block"]]),e.defn(F,"$should_receive",d=function(t){var r=this,n=d.$$p,i=n||a;n&&(d.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"should_receive"),r.expectation_set=!0,r["$observe!"](t),r.$message_chains().$add(t,$(e.const_get_relative(D,"PositiveExpectationChain"),"new",[r,t],i.$to_proc()))},d.$$arity=1,d.$$parameters=[["req","method_name"],["block","block"]]),e.defn(F,"$should_not_receive",f=function(t){var r=this,n=f.$$p,i=n||a;n&&(f.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"should_not_receive"),$(r,"should_receive",[t],i.$to_proc()).$never()},f.$$arity=1,f.$$parameters=[["req","method_name"],["block","block"]]),e.defn(F,"$unstub",h=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"unstub"),o(r.observed_methods["$include?"](t.$to_sym()))||r.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks"),"MockExpectationError"),"The method `"+t+"` was not stubbed or was already unstubbed"),r.$message_chains()["$remove_stub_chains_for!"](t),r.$stubs()["$[]"](t).$clear(),o(r.$message_chains()["$has_expectation?"](t))?a:r["$stop_observing!"](t)},h.$$arity=1,h.$$parameters=[["req","method_name"]]),e.defn(F,"$verify",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify"),o(t.expectation_set)?o(t.$message_chains()["$all_expectations_fulfilled?"]())?a:t.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks"),"MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+t.$message_chains().$unfulfilled_expectations().$sort().$join(", ")):a},m.$$arity=0,m.$$parameters=[]),e.defn(F,"$stop_all_observation!",g=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"stop_all_observation!"),$(r.observed_methods,"each",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"stop_all_observation!")}return n["$restore_method!"](r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","method_name"]],t))},g.$$arity=0,g.$$parameters=[]),e.defn(F,"$playback!",v=function(r,n){var i=this,s=a,c=arguments.length;return 2!==c&&e.ac(c,2,this,"playback!"),e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks").$space().$ensure_registered(r),i.$message_chains()["$playback!"](r,n),s=[n,r],$(i.played_methods,"[]=",e.to_a(s)),s[t(s.length,1)],o(i.$message_chains()["$has_expectation?"](n))?i["$received_expected_message!"](n):a},v.$$arity=2,v.$$parameters=[["req","instance"],["req","method_name"]]),e.defn(F,"$instance_that_received",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"instance_that_received"),r.played_methods["$[]"](t)},y.$$arity=1,y.$$parameters=[["req","method_name"]]),e.defn(F,"$build_alias_method_name",b=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"build_alias_method_name"),"__"+t+"_without_any_instance__"},b.$$arity=1,b.$$parameters=[["req","method_name"]]),e.defn(F,"$already_observing?",x=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"already_observing?"),o(r=a.observed_methods["$include?"](t))?r:a["$super_class_observing?"](t)},x.$$arity=1,x.$$parameters=[["req","method_name"]]),e.defn(F,"$notify_received_message",k=function(t,r,n){var i,s=this,c=a,_=arguments.length;return 4!==_&&e.ac(_,4,this,"notify_received_message"),c=!1,$(s.$message_chains(),"each_unfulfilled_expectation_matching",[r].concat(e.to_a(n)),(i=function(t){i.$$s;if(null==t&&(t=a),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"notify_received_message")}return c=!0,t["$expectation_fulfilled!"]()},i.$$s=s,i.$$arity=1,i.$$parameters=[["req","expectation"]],i)),o(c)?(s["$restore_method!"](r),s["$mark_invoked!"](r)):a},k.$$arity=4,k.$$parameters=[["req","_object"],["req","message"],["req","args"],["req","_blk"]]),F.$protected(),e.defn(F,"$stop_observing!",q=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"stop_observing!"),n["$restore_method!"](t),n.observed_methods.$delete(t),$(n.$super_class_observers_for(t),"each",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"stop_observing!")}return e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_recorder_for(n)["$stop_observing!"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","ancestor"]],r))},q.$$arity=1,q.$$parameters=[["req","method_name"]]),F.$private(),e.defn(F,"$ancestor_is_an_observer?",w=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"ancestor_is_an_observer?"),$(n,"lambda",[],(r=function(n){var i=r.$$s||this;if(null==i.klass&&(i.klass=a),null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"ancestor_is_an_observer?")}return n["$=="](i.klass)?a:e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_recorder_for(n)["$already_observing?"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","ancestor"]],r))},w.$$arity=1,w.$$parameters=[["req","method_name"]]),e.defn(F,"$super_class_observers_for",E=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"super_class_observers_for"),$(r.klass.$ancestors(),"select",[],r["$ancestor_is_an_observer?"](t).$to_proc())},E.$$arity=1,E.$$parameters=[["req","method_name"]]),e.defn(F,"$super_class_observing?",S=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"super_class_observing?"),$(r.klass.$ancestors(),"any?",[],r["$ancestor_is_an_observer?"](t).$to_proc())},S.$$arity=1,S.$$parameters=[["req","method_name"]]),e.defn(F,"$normalize_chain",M=function(){var t,r,n,i=this,s=M.$$p,o=s||a,c=arguments.length,_=c-0;_<0&&(_=0),n=new Array(_);for(var l=0;l<c;l++)n[l-0]=arguments[l];return s&&(M.$$p=null),$($(n.$shift().$to_s().$split("."),"map",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){
var n=arguments.length;1!==n&&e.block_ac(n,1,"normalize_chain")}return r.$to_sym()},t.$$s=i,t.$$arity=1,t.$$parameters=[["req","s"]],t)).$reverse(),"each",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"normalize_chain")}return n.$unshift(t)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","a"]],r)),e.yieldX(o,[n.$first(),n])},M.$$arity=-1,M.$$parameters=[["rest","args"]]),e.defn(F,"$received_expected_message!",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"received_expected_message!"),r.$message_chains()["$received_expected_message!"](t),r["$restore_method!"](t),r["$mark_invoked!"](t)},O.$$arity=1,O.$$parameters=[["req","method_name"]]),e.defn(F,"$restore_method!",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"restore_method!"),o(r["$public_protected_or_private_method_defined?"](r.$build_alias_method_name(t)))?r["$restore_original_method!"](t):r["$remove_dummy_method!"](t)},A.$$arity=1,A.$$parameters=[["req","method_name"]]),e.defn(F,"$restore_original_method!",R=function(t){var r,n=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"restore_original_method!"),n.klass.$instance_method(t).$owner()["$=="](n.klass)?(i=n.$build_alias_method_name(t),$(n.klass,"class_exec",[],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"restore_original_method!")}return a.$remove_method(t),a.$alias_method(t,i),a.$remove_method(i)},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))):a},R.$$arity=1,R.$$parameters=[["req","method_name"]]),e.defn(F,"$remove_dummy_method!",z=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"remove_dummy_method!"),$(a.klass,"class_exec",[],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"remove_dummy_method!")}return a.$remove_method(t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},z.$$arity=1,z.$$parameters=[["req","method_name"]]),e.defn(F,"$backup_method!",j=function(t){var r,n=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"backup_method!"),i=n.$build_alias_method_name(t),o(n["$public_protected_or_private_method_defined?"](t))?$(n.klass,"class_exec",[],(r=function(){var a=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"backup_method!")}return a.$alias_method(i,t)},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)):a},j.$$arity=1,j.$$parameters=[["req","method_name"]]),e.defn(F,"$public_protected_or_private_method_defined?",T=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"public_protected_or_private_method_defined?"),e.const_get_relative(D,"MethodReference")["$method_defined_at_any_visibility?"](r.klass,t)},T.$$arity=1,T.$$parameters=[["req","method_name"]]),e.defn(F,"$observe!",I=function(t){var r,n=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"observe!"),n.$allow_no_prepended_module_definition_of(t),o(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks").$configuration()["$verify_partial_doubles?"]())&&(o(n["$public_protected_or_private_method_defined?"](t))||n.$raise(e.const_get_relative(D,"MockExpectationError"),n.klass+" does not implement #"+t)),o(n["$already_observing?"](t))&&n["$stop_observing!"](t),n.observed_methods["$<<"](t),n["$backup_method!"](t),i=n,$(n.klass,"__send__",["define_method",t],(r=function(){var n,s,o=r.$$s||this;(n=r.$$p||a)&&(r.$$p=null);var c=arguments.length,_=c-0;_<0&&(_=0),s=new Array(_);for(var l=0;l<c;l++)s[l-0]=arguments[l];return i["$playback!"](o,t),$(o,"__send__",[t].concat(e.to_a(s)),n.$to_proc())},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","args"],["block","blk"]],r))},I.$$arity=1,I.$$parameters=[["req","method_name"]]),e.defn(F,"$mark_invoked!",C=function(t){var r,n=this,i=a,s=arguments.length;return 1!==s&&e.ac(s,1,this,"mark_invoked!"),n["$backup_method!"](t),i=n,$(n.klass,"__send__",["define_method",t],(r=function(){var n,s,o,c=r.$$s||this,_=a,l=a;(n=r.$$p||a)&&(r.$$p=null);var u=arguments.length,p=u-0;p<0&&(p=0),s=new Array(p);for(var d=0;d<u;d++)s[d-0]=arguments[d];return _=i.$instance_that_received(t),l="#<"+c.$class()+":"+c.$object_id()+" "+$(c.$instance_variables(),"map",[],(o=function(t){var r=o.$$s||this;if(null==t&&(t=a),o.$$is_lambda||o.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"mark_invoked!")}return t+"="+r.$instance_variable_get(t)},o.$$s=c,o.$$arity=1,o.$$parameters=[["req","name"]],o)).$join(", ")+">",c.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks"),"MockExpectationError"),"The message '"+t+"' was received by "+l+" but has already been received by "+_)},r.$$s=n,r.$$arity=-1,r.$$parameters=[["rest","_args"],["block","_blk"]],r))},C.$$arity=1,C.$$parameters=[["req","method_name"]]),o(e.const_get_qualified(e.const_get_relative(D,"Support"),"RubyFeatures")["$module_prepends_supported?"]())?e.defn(F,"$allow_no_prepended_module_definition_of",P=function(t){var r,n=this,i=a,s=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"allow_no_prepended_module_definition_of"),i=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks"),"Proxy").$prepended_modules_of(n.klass),s=$(i,"find",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"allow_no_prepended_module_definition_of")}return n["$method_defined?"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","mod"]],r)),o(s)?n.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(D,"RSpec"),"Mocks"),"MockExpectationError"),"Using `any_instance` to stub a method ("+t+") that has been defined on a prepended module ("+s+") is not supported."):a},P.$$arity=1,P.$$parameters=[["req","method_name"]]):e.defn(F,"$allow_no_prepended_module_definition_of",N=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"allow_no_prepended_module_definition_of"),a},N.$$arity=1,N.$$parameters=[["req","_method_name"]])}(u[0],null,u)}(u[0],u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/mocks/any_instance/stub_chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.hash2,s=e.send;return e.add_stubs(["$private","$proxy_for","$space","$merge","$add_stub","$to_proc","$<<","$[]","$stubs","$message","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation","$include?","$invocation_order","$last_message","$raise"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"AnyInstance"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p=o=n(t,$super,"StubChain",o),d=p.$$proto,f=[p].concat(a);d.expectation_args=d.expectation_block=d.recorder=d.invocation_order=r,e.defn(p,"$expectation_fulfilled?",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"expectation_fulfilled?"),!0},c.$$arity=0,c.$$parameters=[]),p.$private(),e.defn(p,"$create_message_expectation_on",_=function(t){var a,n,o=this,c=r,_=r,l=r,u=r,p=arguments.length;return 1!==p&&e.ac(p,1,this,"create_message_expectation_on"),c=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t),n=o.expectation_args,a=e.to_ary(n),_=null==a[0]?r:a[0],l=null==a[1]?r:a[1],l=(i(a=l)?a:$([],{})).$merge($(["expected_form"],{expected_form:e.const_get_relative(f,"IGNORED_BACKTRACE_LINE")})),u=s(c,"add_stub",[_,l],o.expectation_block.$to_proc()),o.recorder.$stubs()["$[]"](u.$message())["$<<"](u),i(e.const_get_qualified(e.const_get_relative(f,"RSpec"),"Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())&&u.$and_yield_receiver_to_implementation(),u},_.$$arity=1,_.$$parameters=[["req","instance"]]),e.defn(p,"$invocation_order",l=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),a.invocation_order=i(t=a.invocation_order)?t:$(["with","and_return","and_raise","and_yield","and_call_original"],{"with":[r],and_return:["with",r],and_raise:["with",r],and_yield:["with",r],and_call_original:["with",r]})},l.$$arity=0,l.$$parameters=[]),e.defn(p,"$verify_invocation_order",u=function(t){var a,n=this,$=u.$$p,s=arguments.length,o=s-1;o<0&&(o=0),a=new Array(o);for(var c=1;c<s;c++)a[c-1]=arguments[c];$&&(u.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"verify_invocation_order"),i(n.$invocation_order()["$[]"](t)["$include?"](n.$last_message()))?r:n.$raise(e.const_get_relative(f,"NoMethodError"),"Undefined method "+t)},u.$$arity=-2,u.$$parameters=[["req","rspec_method_name"],["rest","_args"],["block","_block"]])}(l[0],e.const_get_relative(l,"Chain"),l)}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/any_instance/stub_chain_chain"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$private","$stub_chain_on","$to_proc"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"AnyInstance"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u=o=n(t,$super,"StubChainChain",o),p=u.$$proto;[u].concat(a);p.expectation_args=p.expectation_block=p.invocation_order=r,e.defn(u,"$initialize",c=function(){var t,a=this,n=c.$$p,$=r,s=r,o=r,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(n&&(c.$$p=null),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return i(a,e.find_super_dispatcher(a,"initialize",c,!1),$,n),a.expectation_fulfilled=!1},c.$$arity=-1,c.$$parameters=[["rest","args"]]),u.$private(),e.defn(u,"$create_message_expectation_on",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"create_message_expectation_on"),i(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"StubChain"),"stub_chain_on",[t].concat(e.to_a(r.expectation_args)),r.expectation_block.$to_proc())},_.$$arity=1,_.$$parameters=[["req","instance"]]),e.defn(u,"$invocation_order",l=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invocation_order"),a.invocation_order=$(t=a.invocation_order)?t:s(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},l.$$arity=0,l.$$parameters=[])}(l[0],e.const_get_relative(l,"StubChain"),l)}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/support/matcher_definition"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send;return e.add_stubs(["$<<","$matcher_definitions","$delete","$any?","$call"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l,u=s=a(t,"Support");u.$$proto,[u].concat($);e.defs(u,"$matcher_definitions",o=function(){var t,a=this;null==a.matcher_definitions&&(a.matcher_definitions=r);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"matcher_definitions"),a.matcher_definitions=n(t=a.matcher_definitions)?t:[]},o.$$arity=0,o.$$parameters=[]),e.defs(u,"$register_matcher_definition",c=function(){var t=this,a=c.$$p,n=a||r;a&&(c.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"register_matcher_definition"),t.$matcher_definitions()["$<<"](n)},c.$$arity=0,c.$$parameters=[["block","block"]]),e.defs(u,"$deregister_matcher_definition",_=function(){var t=this,a=_.$$p,n=a||r;a&&(_.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"deregister_matcher_definition"),t.$matcher_definitions().$delete(n)},_.$$arity=0,_.$$parameters=[["block","block"]]),e.defs(u,"$is_a_matcher?",l=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"is_a_matcher?"),i(n.$matcher_definitions(),"any?",[],(a=function(n){a.$$s;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"is_a_matcher?")}return n.$call(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","md"]],a))},l.$$arity=1,l.$$parameters=[["req","object"]])}(c[0],c)}(t[0],t)},Opal.modules["rspec/mocks/argument_matchers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.module),s=e.send,o=e.truthy,c=e.hash2,_=e.klass;return e.add_stubs(["$require","$new","$anythingize_lonely_keys","$===","$first","$==","$count","$alias_method","$class","$last","$delete_at","$each","$[]=","$-","$__send__","$key?","$values_match?","$[]","$sub","$inspect","$superset?","$join","$all?","$respond_to?","$map","$to_proc","$instance_of?","$name","$kind_of?","$+","$register_matcher_definition","$include?"]),a.$require("rspec/support/matcher_definition"),function(a,n){var l,u=l=$(a,"RSpec"),p=(u.$$proto,[u].concat(n));!function(a,n){var l,u=l=$(a,"Mocks"),p=(u.$$proto,[u].concat(n));!function(a,n){var l,u,p,d,f,h,m,g,v,y,b,x,k,q=l=$(a,"ArgumentMatchers"),w=(q.$$proto,[q].concat(n)),E=i;e.defn(q,"$any_args",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"any_args"),e.const_get_relative(w,"AnyArgsMatcher").$new()},u.$$arity=0,u.$$parameters=[]),e.defn(q,"$anything",p=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"anything"),e.const_get_relative(w,"AnyArgMatcher").$new()},p.$$arity=0,p.$$parameters=[]),e.defn(q,"$no_args",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"no_args"),e.const_get_relative(w,"NoArgsMatcher").$new()},d.$$arity=0,d.$$parameters=[]),e.defn(q,"$duck_type",f=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return s(e.const_get_relative(w,"DuckTypeMatcher"),"new",e.to_a(t))},f.$$arity=-1,f.$$parameters=[["rest","args"]]),e.defn(q,"$boolean",h=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"boolean"),e.const_get_relative(w,"BooleanMatcher").$new()},h.$$arity=0,h.$$parameters=[]),e.defn(q,"$hash_including",m=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return e.const_get_relative(w,"HashIncludingMatcher").$new(s(e.const_get_relative(w,"ArgumentMatchers"),"anythingize_lonely_keys",e.to_a(t)))},m.$$arity=-1,m.$$parameters=[["rest","args"]]),e.defn(q,"$array_including",g=function(){var t,r,a=i,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var s=0;s<n;s++)r[s-0]=arguments[s];return a=function(){return o(o(t=e.const_get_relative(w,"Array")["$==="](r.$first()))?r.$count()["$=="](1):t)?r.$first():r}(),e.const_get_relative(w,"ArrayIncludingMatcher").$new(a)},g.$$arity=-1,g.$$parameters=[["rest","args"]]),e.defn(q,"$hash_excluding",v=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return e.const_get_relative(w,"HashExcludingMatcher").$new(s(e.const_get_relative(w,"ArgumentMatchers"),"anythingize_lonely_keys",e.to_a(t)))},v.$$arity=-1,v.$$parameters=[["rest","args"]]),q.$alias_method("hash_not_including","hash_excluding"),e.defn(q,"$instance_of",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"instance_of"),e.const_get_relative(w,"InstanceOf").$new(t)},y.$$arity=1,y.$$parameters=[["req","klass"]]),q.$alias_method("an_instance_of","instance_of"),e.defn(q,"$kind_of",b=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"kind_of"),e.const_get_relative(w,"KindOf").$new(t)},b.$$arity=1,b.$$parameters=[["req","klass"]]),q.$alias_method("a_kind_of","kind_of"),e.defs(q,"$anythingize_lonely_keys",x=function(){var r,a,n=this,$=i,o=arguments.length,_=o-0;_<0&&(_=0),a=new Array(_);for(var l=0;l<o;l++)a[l-0]=arguments[l];return $=function(){return a.$last().$class()["$=="](e.const_get_relative(w,"Hash"))?a.$delete_at(-1):c([],{})}(),s(a,"each",[],(r=function(a){var n=(r.$$s,i);if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"anythingize_lonely_keys")}return n=[a,e.const_get_relative(w,"AnyArgMatcher").$new()],s($,"[]=",e.to_a(n)),n[t(n.length,1)]},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","arg"]],r)),$},x.$$arity=-1,x.$$parameters=[["rest","args"]]),function(t,$super,r){function a(){}var n,i=a=_(t,$super,"AnyArgsMatcher",a);i.$$proto,[i].concat(r);e.defn(i,"$description",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"any args"},n.$$arity=0,n.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,i,$=a=_(t,$super,"AnyArgMatcher",a);$.$$proto,[$].concat(r);e.defn($,"$===",n=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"==="),!0},n.$$arity=1,n.$$parameters=[["req","_other"]]),e.defn($,"$description",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"anything"},i.$$arity=0,i.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,i=a=_(t,$super,"NoArgsMatcher",a);i.$$proto,[i].concat(r);e.defn(i,"$description",n=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"no args"},n.$$arity=0,n.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,i,$=a=_(t,$super,"BooleanMatcher",a);$.$$proto,[$].concat(r);e.defn($,"$===",n=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),o(r=(!0)["$=="](t))?r:(!1)["$=="](t)},n.$$arity=1,n.$$parameters=[["req","value"]]),e.defn($,"$description",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"description"),"boolean"},i.$$arity=0,i.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,$,c,l=a=_(t,$super,"BaseHashMatcher",a),u=l.$$proto,p=[l].concat(r);u.expected=i,e.defn(l,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t},n.$$arity=1,n.$$parameters=[["req","expected"]]),e.defn(l,"$===",$=function(t,r){var a,n=this,$=arguments.length;2!==$&&e.ac($,2,this,"===");try{return s(n.expected,"__send__",[t],(a=function(t,n){var $;a.$$s;if(null==t&&(t=i),null==n&&(n=i),a.$$is_lambda||a.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"===")}return o($=r["$key?"](t))?e.const_get_qualified(e.const_get_relative(p,"Support"),"FuzzyMatcher")["$values_match?"](n,r["$[]"](t)):$},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","k"],["req","v"]],a))}catch(t){if(!e.rescue(t,[e.const_get_relative(p,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},$.$$arity=2,$.$$parameters=[["req","predicate"],["req","actual"]]),e.defn(l,"$description",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"description"),t+"("+r.expected.$inspect().$sub(/^\{/,"").$sub(/\}$/,"")+")"},c.$$arity=1,c.$$parameters=[["req","name"]])}(w[0],null,w),function(t,$super,r){function a(){}var n,i,$=a=_(t,$super,"HashIncludingMatcher",a);$.$$proto,[$].concat(r);e.defn($,"$===",n=function(t){var r=this,a=n.$$p;a&&(n.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"==="),s(r,e.find_super_dispatcher(r,"===",n,!1),["all?",t],null)},n.$$arity=1,n.$$parameters=[["req","actual"]]),e.defn($,"$description",i=function(){var t=this,r=i.$$p;r&&(i.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),s(t,e.find_super_dispatcher(t,"description",i,!1),["hash_including"],null)},i.$$arity=0,i.$$parameters=[])}(w[0],e.const_get_relative(w,"BaseHashMatcher"),w),function(t,$super,r){function a(){}var n,i,$=a=_(t,$super,"HashExcludingMatcher",a);$.$$proto,[$].concat(r);e.defn($,"$===",n=function(t){var r=this,a=n.$$p;a&&(n.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"==="),s(r,e.find_super_dispatcher(r,"===",n,!1),["none?",t],null)},n.$$arity=1,n.$$parameters=[["req","actual"]]),e.defn($,"$description",i=function(){var t=this,r=i.$$p;r&&(i.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"description"),s(t,e.find_super_dispatcher(t,"description",i,!1),["hash_not_including"],null)},i.$$arity=0,i.$$parameters=[])}(w[0],e.const_get_relative(w,"BaseHashMatcher"),w),function(t,$super,r){function a(){}var n,$,s,o=a=_(t,$super,"ArrayIncludingMatcher",a),c=o.$$proto,l=[o].concat(r);c.expected=i,e.defn(o,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.expected=t},n.$$arity=1,n.$$parameters=[["req","expected"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),e.const_get_relative(l,"Set").$new(t)["$superset?"](e.const_get_relative(l,"Set").$new(r.expected))},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"array_including("+t.expected.$join(", ")+")"},s.$$arity=0,s.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,$,o,c=a=_(t,$super,"DuckTypeMatcher",a),l=c.$$proto;[c].concat(r);l.methods_to_respond_to=i,e.defn(c,"$initialize",n=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.methods_to_respond_to=e},n.$$arity=-1,n.$$parameters=[["rest","methods_to_respond_to"]]),e.defn(c,"$===",$=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"==="),s(a.methods_to_respond_to,"all?",[],(r=function(a){r.$$s;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"===")}return t["$respond_to?"](a)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","message"]],r))},$.$$arity=1,$.$$parameters=[["req","value"]]),e.defn(c,"$description",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"duck_type("+s(t.methods_to_respond_to,"map",[],"inspect".$to_proc()).$join(", ")+")"},o.$$arity=0,o.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,$,s,o=a=_(t,$super,"InstanceOf",a),c=o.$$proto;[o].concat(r);c.klass=i,e.defn(o,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.klass=t},n.$$arity=1,n.$$parameters=[["req","klass"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),t["$instance_of?"](r.klass)},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"an_instance_of("+t.klass.$name()+")"},s.$$arity=0,s.$$parameters=[])}(w[0],null,w),function(t,$super,r){function a(){}var n,$,s,o=a=_(t,$super,"KindOf",a),c=o.$$proto;[o].concat(r);c.klass=i,e.defn(o,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.klass=t},n.$$arity=1,n.$$parameters=[["req","klass"]]),e.defn(o,"$===",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"==="),t["$kind_of?"](r.klass)},$.$$arity=1,$.$$parameters=[["req","actual"]]),e.defn(o,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"kind of "+t.klass.$name()},s.$$arity=0,s.$$parameters=[])}(w[0],null,w),E=r(q.$name(),"::"),s(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Support"),"register_matcher_definition",[],(k=function(t){k.$$s;if(null==t&&(t=i),k.$$is_lambda||k.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"<module:ArgumentMatchers>")}try{return t.$class().$name()["$include?"](E)}catch(t){if(!e.rescue(t,[e.const_get_relative(w,"NoMethodError")]))throw t;try{return!1}finally{e.pop_exception()}}},k.$$s=q,k.$$arity=1,k.$$parameters=[["req","object"]],k))}(p[0],p)}(p[0],p)}(n[0],n)},Opal.modules["rspec/support/fuzzy_matcher"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send;return e.add_stubs(["$===","$!","$arrays_match?","$to_a","$hashes_match?","$==","$!=","$size","$all?","$zip","$values_match?","$fetch","$private_class_method"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Support"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l=s=a(t,"FuzzyMatcher"),u=(l.$$proto,[l].concat($));e.defs(l,"$values_match?",o=function(t,r){var a,i,$=this,s=arguments.length;if(2!==s&&e.ac(s,2,this,"values_match?"),n(n(a=n(i=e.const_get_relative(u,"Array")["$==="](t))?e.const_get_relative(u,"Enumerable")["$==="](r):i)?e.const_get_relative(u,"Struct")["$==="](r)["$!"]():a))return $["$arrays_match?"](t,r.$to_a());if(n(n(a=e.const_get_relative(u,"Hash")["$==="](t))?e.const_get_relative(u,"Hash")["$==="](r):a))return $["$hashes_match?"](t,r);if(r["$=="](t))return!0;try{return t["$==="](r)}catch(t){if(!e.rescue(t,[e.const_get_relative(u,"ArgumentError")]))throw t;try{return!1}finally{e.pop_exception()}}},o.$$arity=2,o.$$parameters=[["req","expected"],["req","actual"]]),e.defs(l,"$arrays_match?",c=function(t,a){var $,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"arrays_match?"),!n(t.$size()["$!="](a.$size()))&&i(t.$zip(a),"all?",[],($=function(t,a){var n=$.$$s||this;if(null==t&&(t=r),null==a&&(a=r),$.$$is_lambda||$.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"arrays_match?")}return n["$values_match?"](t,a)},$.$$s=s,$.$$arity=2,$.$$parameters=[["req","expected"],["req","actual"]],$))},c.$$arity=2,c.$$parameters=[["req","expected_list"],["req","actual_list"]]),e.defs(l,"$hashes_match?",_=function(t,a){try{var $,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"hashes_match?"),!n(t.$size()["$!="](a.$size()))&&i(t,"all?",[],($=function(t,n){var s,o=$.$$s||this,c=r;if(null==t&&(t=r),null==n&&(n=r),$.$$is_lambda||$.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"hashes_match?")}return c=i(a,"fetch",[t],(s=function(){s.$$s;if(s.$$is_lambda||s.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"hashes_match?")}e.ret(!1)},s.$$s=o,s.$$arity=0,s.$$parameters=[],s)),o["$values_match?"](n,c)},$.$$s=s,$.$$arity=2,$.$$parameters=[["req","expected_key"],["req","expected_value"]],$))}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=2,_.$$parameters=[["req","expected_hash"],["req","actual_hash"]]),l.$private_class_method("arrays_match?","hashes_match?")}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/mocks/argument_list_matcher"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require","$attr_reader","$first","$===","$values_match?","$new"]),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/support/fuzzy_matcher"),function(t,r){var $,s=$=n(t,"RSpec"),o=(s.$$proto,[s].concat(r));!function(t,r){var $,s=$=n(t,"Mocks"),o=(s.$$proto,[s].concat(r));!function(t,$super,r){function n(){}var $,s,o=n=i(t,$super,"ArgumentListMatcher",n),c=o.$$proto,_=[o].concat(r);c.matchers=a,o.$attr_reader("expected_args"),e.defn(o,"$initialize",$=function(){var t,r=this,n=a,i=arguments.length,$=i-0;$<0&&($=0),t=new Array($);for(var s=0;s<i;s++)t[s-0]=arguments[s];return r.expected_args=t,r.matchers=function(){return n=t.$first(),e.const_get_qualified(e.const_get_relative(_,"ArgumentMatchers"),"AnyArgsMatcher")["$==="](n)?e.const_get_relative(_,"Array"):e.const_get_qualified(e.const_get_relative(_,"ArgumentMatchers"),"NoArgsMatcher")["$==="](n)?[]:t}()},$.$$arity=-1,$.$$parameters=[["rest","expected_args"]]),e.defn(o,"$args_match?",s=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return e.const_get_qualified(e.const_get_relative(_,"Support"),"FuzzyMatcher")["$values_match?"](r.matchers,t)},s.$$arity=-1,s.$$parameters=[["rest","args"]]),e.const_set(_[0],"MATCH_ALL",o.$new(e.const_get_qualified(e.const_get_relative(_,"ArgumentMatchers"),"AnyArgsMatcher").$new()))}(o[0],null,o)}(o[0],o)}(r[0],r)},Opal.modules["rspec/mocks/configuration"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$attr_writer","$each","$enable_should","$flatten","$include?","$enable_expect","$disable_expect","$disable_should","$should_enabled?","$<<","$expect_enabled?","$!","$patch!","$unpatch!","$syntax=","$-","$warn_about_should!","$new","$reset_syntaxes_to_default","$configuration"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l=c=n(r,"Mocks"),u=(l.$$proto,[l].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y=o=i(r,$super,"Configuration",o),b=y.$$proto,x=[y].concat(n);b.yield_receiver_to_any_instance_implementation_blocks=b.verify_doubled_constant_names=b.transfer_nested_constants=b.verify_partial_doubles=a,e.defn(y,"$initialize",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.yield_receiver_to_any_instance_implementation_blocks=!0,t.verify_doubled_constant_names=!1,t.transfer_nested_constants=!1,t.verify_partial_doubles=!1},c.$$arity=0,c.$$parameters=[]),e.defn(y,"$yield_receiver_to_any_instance_implementation_blocks?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"yield_receiver_to_any_instance_implementation_blocks?"),t.yield_receiver_to_any_instance_implementation_blocks},_.$$arity=0,_.$$parameters=[]),y.$attr_writer("yield_receiver_to_any_instance_implementation_blocks"),e.defn(y,"$add_stub_and_should_receive_to",l=function(){var t,r,n=this,i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<i;o++)r[o-0]=arguments[o];return $(r,"each",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"add_stub_and_should_receive_to")}return e.const_get_relative(x,"Syntax").$enable_should(r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","mod"]],t))},l.$$arity=-1,l.$$parameters=[["rest","modules"]]),e.defn(y,"$syntax=",u=function(){var t,r=a,n=arguments.length,i=n-0;i<0&&(i=0),t=new Array(i);for(var $=0;$<n;$++)t[$-0]=arguments[$];return r=t.$flatten(),s(r["$include?"]("expect"))?e.const_get_relative(x,"Syntax").$enable_expect():e.const_get_relative(x,"Syntax").$disable_expect(),s(r["$include?"]("should"))?e.const_get_relative(x,"Syntax").$enable_should():e.const_get_relative(x,"Syntax").$disable_should()},u.$$arity=-1,u.$$parameters=[["rest","values"]]),e.defn(y,"$syntax",p=function(){var t=a,r=arguments.length;return 0!==r&&e.ac(r,0,this,"syntax"),t=[],s(e.const_get_relative(x,"Syntax")["$should_enabled?"]())&&t["$<<"]("should"),s(e.const_get_relative(x,"Syntax")["$expect_enabled?"]())&&t["$<<"]("expect"),t},p.$$arity=0,p.$$parameters=[]),e.defn(y,"$verify_doubled_constant_names?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify_doubled_constant_names?"),t.verify_doubled_constant_names["$!"]()["$!"]()},d.$$arity=0,d.$$parameters=[]),y.$attr_writer("verify_doubled_constant_names"),e.defn(y,"$transfer_nested_constants?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"transfer_nested_constants?"),t.transfer_nested_constants["$!"]()["$!"]()},f.$$arity=0,f.$$parameters=[]),y.$attr_writer("transfer_nested_constants"),e.defn(y,"$verify_partial_doubles=",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"verify_partial_doubles="),r.verify_partial_doubles=t["$!"]()["$!"]()},h.$$arity=1,h.$$parameters=[["req","val"]]),e.defn(y,"$verify_partial_doubles?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"verify_partial_doubles?"),t.verify_partial_doubles},m.$$arity=0,m.$$parameters=[]),e.defn(y,"$patch_marshal_to_support_partial_doubles=",g=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"patch_marshal_to_support_partial_doubles="),s(t)?e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Mocks"),"MarshalExtension")["$patch!"]():e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Mocks"),"MarshalExtension")["$unpatch!"]()},g.$$arity=1,g.$$parameters=[["req","val"]]),e.defn(y,"$reset_syntaxes_to_default",v=function(){var r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"reset_syntaxes_to_default"),n=[["should","expect"]],$(r,"syntax=",e.to_a(n)),n[t(n.length,1)],e.const_get_qualified(e.const_get_qualified(e.const_get_relative(x,"RSpec"),"Mocks"),"Syntax")["$warn_about_should!"]()},v.$$arity=0,v.$$parameters=[])}(u[0],null,u),e.defs(l,"$configuration",_=function(){var t,r=this;null==r.configuration&&(r.configuration=a);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"configuration"),r.configuration=s(t=r.configuration)?t:e.const_get_relative(u,"Configuration").$new()},_.$$arity=0,_.$$parameters=[]),l.$configuration().$reset_syntaxes_to_default()}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}
function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.truthy,c=e.hash2,_=e.send;return e.add_stubs(["$new","$attr_writer","$__raise","$intro","$arg_message","$format_args","$expected_args","$format_received_args","$inspect","$message","$join","$map","$expected_part_of_expectation_error","$received_part_of_expectation_error","$%","$description","$raise","$error_message","$+","$count_message","$actual_method_call_args_description","$expected_method_call_args_description","$method_call_args_description","$>","$length","$gsub","$first","$===","$arg_list","$private","$nil?","$[]","$opts","$empty?","$arg_has_valid_description","$respond_to?","$!","$received_arg_list","$to_proc","$<","$==","$times","$abs"]),function(n,l){var u,p=u=$(n,"RSpec"),d=(p.$$proto,[p].concat(l));!function(n,l){var u,p=u=$(n,"Mocks"),d=(p.$$proto,[p].concat(l));e.const_set(d[0],"MockExpectationError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"Exception"))),e.const_set(d[0],"ExpiredTestDoubleError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"MockExpectationError"))),e.const_set(d[0],"OutsideOfExampleError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"StandardError"))),e.const_set(d[0],"UnsupportedMatcherError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"StandardError"))),e.const_set(d[0],"NegationUnsupportedError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"StandardError"))),e.const_set(d[0],"VerifyingDoubleNotDefinedError",e.const_get_relative(d,"Class").$new(e.const_get_relative(d,"StandardError"))),function(n,$super,$){function l(){}var u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V=l=s(n,$super,"ErrorGenerator",l),X=V.$$proto,K=[V].concat($);X.opts=X.name=X.target=i,V.$attr_writer("opts"),e.defn(V,"$initialize",u=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.target=t,a.name=r},u.$$arity=2,u.$$parameters=[["req","target"],["req","name"]]),e.defn(V,"$opts",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"opts"),r.opts=o(t=r.opts)?t:c([],{})},p.$$arity=0,p.$$parameters=[]),e.defn(V,"$raise_unexpected_message_error",d=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;return s<1&&e.ac(s,-2,this,"raise_unexpected_message_error"),a.$__raise(a.$intro()+" received unexpected message :"+t+_(a,"arg_message",e.to_a(r)))},d.$$arity=-2,d.$$parameters=[["req","message"],["rest","args"]]),e.defn(V,"$raise_unexpected_message_args_error",f=function(t){var r,a=this,n=i,$=i,s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];var l=arguments.length;return l<1&&e.ac(l,-2,this,"raise_unexpected_message_args_error"),n=_(a,"format_args",e.to_a(t.$expected_args())),$=_(a,"format_received_args",e.to_a(r)),a.$__raise(a.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+n+"\n       got: "+$)},f.$$arity=-2,f.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(V,"$raise_missing_default_stub_error",h=function(t){var r,a=this,n=i,$=i,s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];var l=arguments.length;return l<1&&e.ac(l,-2,this,"raise_missing_default_stub_error"),n=_(a,"format_args",e.to_a(t.$expected_args())),$=_(a,"format_received_args",e.to_a(r)),a.$__raise(a.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+n+"\n       got: "+$+"\n Please stub a default value first if message might be received with other args as well. \n")},h.$$arity=-2,h.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(V,"$raise_similar_message_args_error",m=function(t){var r,a,n=this,$=i,s=i,o=arguments.length,c=o-1;c<0&&(c=0),a=new Array(c);for(var l=1;l<o;l++)a[l-1]=arguments[l];var u=arguments.length;return u<1&&e.ac(u,-2,this,"raise_similar_message_args_error"),$=_(n,"format_args",e.to_a(t.$expected_args())),s=_(a,"map",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"raise_similar_message_args_error")}return _(a,"format_received_args",e.to_a(t))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","a"]],r)).$join(", "),n.$__raise(n.$intro()+" received "+t.$message().$inspect()+" with unexpected arguments\n  expected: "+$+"\n       got: "+s)},m.$$arity=-2,m.$$parameters=[["req","expectation"],["rest","args_for_multiple_calls"]]),e.defn(V,"$raise_expectation_error",g=function(t,r,a,n,$){var s,o=this,c=i,l=i,u=arguments.length,p=u-5;p<0&&(p=0),s=new Array(p);for(var d=5;d<u;d++)s[d-5]=arguments[d];var f=arguments.length;return f<5&&e.ac(f,-6,this,"raise_expectation_error"),c=o.$expected_part_of_expectation_error(r,$,a),l=_(o,"received_part_of_expectation_error",[n].concat(e.to_a(s))),o.$__raise("("+o.$intro()+")."+t+_(o,"format_args",e.to_a(s))+"\n    "+c+"\n    "+l)},g.$$arity=-6,g.$$parameters=[["req","message"],["req","expected_received_count"],["req","argument_list_matcher"],["req","actual_received_count"],["req","expectation_count_type"],["rest","args"]]),e.defn(V,"$raise_unimplemented_error",v=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_unimplemented_error"),a.$__raise("%s does not implement: %s"["$%"]([t.$description(),r]))},v.$$arity=2,v.$$parameters=[["req","doubled_module"],["req","method_name"]]),e.defn(V,"$raise_non_public_error",y=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_non_public_error"),a.$raise(e.const_get_relative(K,"NoMethodError"),"%s method `%s' called on %s"["$%"]([r,t,a.$intro()]))},y.$$arity=2,y.$$parameters=[["req","method_name"],["req","visibility"]]),e.defn(V,"$raise_invalid_arguments_error",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_invalid_arguments_error"),r.$__raise(t.$error_message())},b.$$arity=1,b.$$parameters=[["req","verifier"]]),e.defn(V,"$raise_expired_test_double_error",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_expired_test_double_error"),t.$raise(e.const_get_relative(K,"ExpiredTestDoubleError"),t.$intro()+" was originally created in one example but has leaked into another example and can no longer be used. rspec-mocks' doubles are designed to only last for one example, and you need to create a new one in each example you wish to use it for.")},x.$$arity=0,x.$$parameters=[]),e.defn(V,"$received_part_of_expectation_error",k=function(r){var a,n=this,i=arguments.length,$=i-1;$<0&&($=0),a=new Array($);for(var s=1;s<i;s++)a[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"received_part_of_expectation_error"),t("received: "+n.$count_message(r),n.$actual_method_call_args_description(r,a))},k.$$arity=-2,k.$$parameters=[["req","actual_received_count"],["rest","args"]]),e.defn(V,"$expected_part_of_expectation_error",q=function(r,a,n){var i=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"expected_part_of_expectation_error"),t("expected: "+i.$count_message(r,a),i.$expected_method_call_args_description(n.$expected_args()))},q.$$arity=3,q.$$parameters=[["req","expected_received_count"],["req","expectation_count_type"],["req","argument_list_matcher"]]),e.defn(V,"$actual_method_call_args_description",w=function(t,a){var n,i,$=this,s=arguments.length;return 2!==s&&e.ac(s,2,this,"actual_method_call_args_description"),o(n=$.$method_call_args_description(a))?n:function(){return o(o(i=r(t,0))?r(a.$length(),0):i)?" with arguments: "+a.$inspect().$gsub(/^\[(.+)\]$/,"(\\1)"):""}()},w.$$arity=2,w.$$parameters=[["req","count"],["req","args"]]),e.defn(V,"$expected_method_call_args_description",E=function(t){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"expected_method_call_args_description"),o(a=n.$method_call_args_description(t))?a:function(){return o(r(t.$length(),0))?" with arguments: "+_(n,"format_args",e.to_a(t)):""}()},E.$$arity=1,E.$$parameters=[["req","args"]]),e.defn(V,"$method_call_args_description",S=function(t){var r=i,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_call_args_description"),function(){return r=t.$first(),e.const_get_qualified(e.const_get_relative(K,"ArgumentMatchers"),"AnyArgsMatcher")["$==="](r)?" with any arguments":e.const_get_qualified(e.const_get_relative(K,"ArgumentMatchers"),"NoArgsMatcher")["$==="](r)?" with no arguments":i}()},S.$$arity=1,S.$$parameters=[["req","args"]]),e.defn(V,"$describe_expectation",M=function(t,r){var a,n=this,i=arguments.length,$=i-3;$<0&&($=0),a=new Array($);for(var s=3;s<i;s++)a[s-3]=arguments[s];var o=arguments.length;return o<3&&e.ac(o,-4,this,"describe_expectation"),"have received "+t+_(n,"format_args",e.to_a(a))+" "+n.$count_message(r)},M.$$arity=-4,M.$$parameters=[["req","message"],["req","expected_received_count"],["req","_actual_received_count"],["rest","args"]]),e.defn(V,"$raise_out_of_order_error",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_out_of_order_error"),r.$__raise(r.$intro()+" received :"+t+" out of order")},O.$$arity=1,O.$$parameters=[["req","message"]]),e.defn(V,"$raise_block_failed_error",A=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_block_failed_error"),a.$__raise(a.$intro()+" received :"+t+" but passed block failed with: "+r)},A.$$arity=2,A.$$parameters=[["req","message"],["req","detail"]]),e.defn(V,"$raise_missing_block_error",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_missing_block_error"),r.$__raise(r.$intro()+" asked to yield |"+_(r,"arg_list",e.to_a(t))+"| but no block was passed")},R.$$arity=1,R.$$parameters=[["req","args_to_yield"]]),e.defn(V,"$raise_wrong_arity_error",z=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_wrong_arity_error"),a.$__raise(a.$intro()+" yielded |"+_(a,"arg_list",e.to_a(t))+"| to block with "+r.$description())},z.$$arity=2,z.$$parameters=[["req","args_to_yield"],["req","signature"]]),e.defn(V,"$raise_only_valid_on_a_partial_double",j=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_only_valid_on_a_partial_double"),r.$__raise(r.$intro()+" is a pure test double. `"+t+"` is only available on a partial double.")},j.$$arity=1,j.$$parameters=[["req","method"]]),e.defn(V,"$raise_expectation_on_unstubbed_method",T=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_expectation_on_unstubbed_method"),r.$__raise(r.$intro()+" expected to have received "+t+", but that object is not a spy or method has not been stubbed.")},T.$$arity=1,T.$$parameters=[["req","method"]]),e.defn(V,"$raise_expectation_on_mocked_method",I=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_expectation_on_mocked_method"),r.$__raise(r.$intro()+" expected to have received "+t+", but that method has been mocked instead of stubbed or spied.")},I.$$arity=1,I.$$parameters=[["req","method"]]),e.defs(V,"$raise_double_negation_error",C=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"raise_double_negation_error"),r.$raise("Isn't life confusing enough? You've already set a negative message expectation and now you are trying to negate it again with `never`. What does an expression like `"+t+".not_to receive(:msg).never` even mean?")},C.$$arity=1,C.$$parameters=[["req","wrapped_expression"]]),V.$private(),e.defn(V,"$intro",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"intro"),o(t.name)?"Double "+t.name.$inspect():o(e.const_get_relative(K,"TestDouble")["$==="](t.target))?"Double":o(e.const_get_relative(K,"Class")["$==="](t.target))?"<"+t.target.$inspect()+" (class)>":o(t.target)?t.target:"nil"},P.$$arity=0,P.$$parameters=[]),e.defn(V,"$__raise",N=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"__raise"),o(r.$opts()["$[]"]("message")["$nil?"]())||(t=r.$opts()["$[]"]("message")),e.const_get_relative(K,"Kernel").$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(K,"RSpec"),"Mocks"),"MockExpectationError"),t)},N.$$arity=1,N.$$parameters=[["req","message"]]),e.defn(V,"$arg_message",F=function(){var r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return t(" with ",_(a,"format_args",e.to_a(r)))},F.$$arity=-1,F.$$parameters=[["rest","args"]]),e.defn(V,"$format_args",B=function(){var r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return o(r["$empty?"]())?"(no args)":t(t("(",_(a,"arg_list",e.to_a(r))),")")},B.$$arity=-1,B.$$parameters=[["rest","args"]]),e.defn(V,"$arg_list",D=function(){var t,r,a=this,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var s=0;s<n;s++)r[s-0]=arguments[s];return _(r,"map",[],(t=function(r){var a=t.$$s||this;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"arg_list")}return o(a.$arg_has_valid_description(r))?r.$description():r.$inspect()},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","arg"]],t)).$join(", ")},D.$$arity=-1,D.$$parameters=[["rest","args"]]),e.defn(V,"$arg_has_valid_description",H=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"arg_has_valid_description"),!!o(t["$respond_to?"]("description"))&&(o(r=t.$description()["$nil?"]()["$!"]())?t.$description()["$empty?"]()["$!"]():r)},H.$$arity=1,H.$$parameters=[["req","arg"]]),e.defn(V,"$format_received_args",L=function(){var r,a=this,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return o(r["$empty?"]())?"(no args)":t(t("(",_(a,"received_arg_list",e.to_a(r))),")")},L.$$arity=-1,L.$$parameters=[["rest","args"]]),e.defn(V,"$received_arg_list",U=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var a=0;a<t;a++)e[a-0]=arguments[a];return _(e,"map",[],"inspect".$to_proc()).$join(", ")},U.$$arity=-1,U.$$parameters=[["rest","args"]]),e.defn(V,"$count_message",G=function(t,r){var n,$=this;null==r&&(r=i);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"count_message"),o(o(n=a(t,0))?n:r["$=="]("at_least"))?"at least "+$.$times(t.$abs()):r["$=="]("at_most")?"at most "+$.$times(t):$.$times(t)},G.$$arity=-2,G.$$parameters=[["req","count"],["opt","expectation_count_type"]]),e.defn(V,"$times",Y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"times"),t+" time"+function(){return t["$=="](1)?"":"s"}()},Y.$$arity=1,Y.$$parameters=[["req","count"]])}(d[0],null,d)}(d[0],d)}(n[0],n)},Opal.modules["rspec/mocks/example_methods"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.hash2,s=e.truthy;return e.add_stubs(["$require_rspec_mocks","$include","$declare_double","$for","$declare_verifying_double","$as_null_object","$double","$instance_double","$object_double","$class_double","$warn_about_expectations=","$proxy_for","$space","$-","$stub","$hide","$new","$to_proc","$class_exec","$method_defined?","$verify_doubled_constant_names?","$configuration","$!","$defined?","$raise","$description","$===","$last","$<<"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_mocks("object_reference"),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w=c=n(r,"ExampleMethods"),E=(w.$$proto,[w].concat(o));w.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(E,"RSpec"),"Mocks"),"ArgumentMatchers")),e.defn(w,"$double",_=function(){var t,r=arguments.length,a=r-0;a<0&&(a=0),t=new Array(a);for(var n=0;n<r;n++)t[n-0]=arguments[n];return i(e.const_get_relative(E,"ExampleMethods"),"declare_double",[e.const_get_relative(E,"Double")].concat(e.to_a(t)))},_.$$arity=-1,_.$$parameters=[["rest","args"]]),e.defn(w,"$instance_double",l=function(t){var r,n=a,$=arguments.length,s=$-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<$;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"instance_double"),n=e.const_get_relative(E,"ObjectReference").$for(t),i(e.const_get_relative(E,"ExampleMethods"),"declare_verifying_double",[e.const_get_relative(E,"InstanceVerifyingDouble"),n].concat(e.to_a(r)))},l.$$arity=-2,l.$$parameters=[["req","doubled_class"],["rest","args"]]),e.defn(w,"$class_double",u=function(t){var r,n=a,$=arguments.length,s=$-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<$;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"class_double"),n=e.const_get_relative(E,"ObjectReference").$for(t),i(e.const_get_relative(E,"ExampleMethods"),"declare_verifying_double",[e.const_get_relative(E,"ClassVerifyingDouble"),n].concat(e.to_a(r)))},u.$$arity=-2,u.$$parameters=[["req","doubled_class"],["rest","args"]]),e.defn(w,"$object_double",p=function(t){var r,n=a,$=arguments.length,s=$-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<$;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"object_double"),n=e.const_get_relative(E,"ObjectReference").$for(t,"allow_direct_object_refs"),i(e.const_get_relative(E,"ExampleMethods"),"declare_verifying_double",[e.const_get_relative(E,"ObjectVerifyingDouble"),n].concat(e.to_a(r)))},p.$$arity=-2,p.$$parameters=[["req","object_or_name"],["rest","args"]]),e.defn(w,"$spy",d=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return i(r,"double",e.to_a(t)).$as_null_object()},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(w,"$instance_spy",f=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return i(r,"instance_double",e.to_a(t)).$as_null_object()},f.$$arity=-1,f.$$parameters=[["rest","args"]]),e.defn(w,"$object_spy",h=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return i(r,"object_double",e.to_a(t)).$as_null_object()},h.$$arity=-1,h.$$parameters=[["rest","args"]]),e.defn(w,"$class_spy",m=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var $=0;$<a;$++)t[$-0]=arguments[$];return i(r,"class_double",e.to_a(t)).$as_null_object()},m.$$arity=-1,m.$$parameters=[["rest","args"]]),e.defn(w,"$allow_message_expectations_on_nil",g=function(){var r=a,n=arguments.length;return 0!==n&&e.ac(n,0,this,"allow_message_expectations_on_nil"),r=[!1],i(e.const_get_qualified(e.const_get_relative(E,"RSpec"),"Mocks").$space().$proxy_for(a),"warn_about_expectations=",e.to_a(r)),r[t(r.length,1)]},g.$$arity=0,g.$$parameters=[]),e.defn(w,"$stub_const",v=function(t,r,a){null==a&&(a=$([],{}));var n=arguments.length;return(n<2||n>3)&&e.ac(n,-3,this,"stub_const"),e.const_get_relative(E,"ConstantMutator").$stub(t,r,a)},v.$$arity=-3,v.$$parameters=[["req","constant_name"],["req","value"],["opt","options"]]),e.defn(w,"$hide_const",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"hide_const"),e.const_get_relative(E,"ConstantMutator").$hide(t)},y.$$arity=1,y.$$parameters=[["req","constant_name"]]),e.defn(w,"$have_received",b=function(t){var r=b.$$p,n=r||a;r&&(b.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"have_received"),i(e.const_get_qualified(e.const_get_relative(E,"Matchers"),"HaveReceived"),"new",[t],n.$to_proc())},b.$$arity=1,b.$$parameters=[["req","method_name"],["block","block"]]),e.defs(w,"$included",x=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"included"),i(t,"class_exec",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"included")}return s(t["$method_defined?"]("expect"))?a:t.$include(e.const_get_relative(E,"ExpectHost"))},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},x.$$arity=1,x.$$parameters=[["req","klass"]]),e.defs(w,"$declare_verifying_double",k=function(t,r){var a,n,$=this,o=arguments.length,c=o-2;c<0&&(c=0),n=new Array(c);for(var _=2;_<o;_++)n[_-2]=arguments[_];var l=arguments.length;return l<2&&e.ac(l,-3,this,"declare_verifying_double"),s(s(a=e.const_get_qualified(e.const_get_relative(E,"RSpec"),"Mocks").$configuration()["$verify_doubled_constant_names?"]())?r["$defined?"]()["$!"]():a)&&$.$raise(e.const_get_relative(E,"VerifyingDoubleNotDefinedError"),r.$description()+" is not a defined constant. Perhaps you misspelt it? Disable check with verify_doubled_constant_names configuration option."),i($,"declare_double",[t,r].concat(e.to_a(n)))},k.$$arity=-3,k.$$parameters=[["req","type"],["req","ref"],["rest","args"]]),e.defs(w,"$declare_double",q=function(t){var r,a=arguments.length,n=a-1;n<0&&(n=0),r=new Array(n);for(var o=1;o<a;o++)r[o-1]=arguments[o];var c=arguments.length;return c<1&&e.ac(c,-2,this,"declare_double"),s(e.const_get_relative(E,"Hash")["$==="](r.$last()))||r["$<<"]($([],{})),i(t,"new",e.to_a(r))},q.$$arity=-2,q.$$parameters=[["req","type"],["rest","args"]]),function(e,t){var r,a=r=n(e,"ExpectHost");a.$$proto,[a].concat(t)}(E[0],E)}(l[0],l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/instance_method_stasher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send,o=e.hash2;return e.add_stubs(["$attr_reader","$<","$to_f","$!","$method_defined_directly_on_klass?","$__send__","$stashed_method_name","$private","$method_handle_for","$handle_restoration_failures","$include?","$warn_with","$inspect","$method_defined_on_klass?","$method_owned_by_klass?","$method_defined_at_any_visibility?","$owner","$instance_method","$===","$class","$=="]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Mocks"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q=c=i(r,$super,"InstanceMethodStasher",c),w=q.$$proto,E=[q].concat(n);w.method_is_stashed=w.klass=w.method=w.original_method=w.object=a,e.defn(q,"$initialize",_=function(t,r){var n=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"initialize"),n.object=t,n.method=r,n.klass=function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(t),E),n.original_method=a,n.method_is_stashed=!1},_.$$arity=2,_.$$parameters=[["req","object"],["req","method"]]),q.$attr_reader("original_method"),$(t(e.const_get_relative(E,"RUBY_VERSION").$to_f(),1.9))?(e.defn(q,"$method_is_stashed?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_is_stashed?"),t.method_is_stashed},l.$$arity=0,l.$$parameters=[]),e.defn(q,"$stash",u=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"stash"),$($(t=r["$method_defined_directly_on_klass?"]()["$!"]())?t:r.method_is_stashed)?a:(r.klass.$__send__("alias_method",r.$stashed_method_name(),r.method),r.method_is_stashed=!0)},u.$$arity=0,u.$$parameters=[]),e.defn(q,"$stashed_method_name",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"stashed_method_name"),"obfuscated_by_rspec_mocks__"+t.method},p.$$arity=0,p.$$parameters=[]),q.$private("stashed_method_name"),e.defn(q,"$restore",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"restore"),$(t.method_is_stashed)?($(t.klass.$__send__("method_defined?",t.method))&&t.klass.$__send__("undef_method",t.method),t.klass.$__send__("alias_method",t.method,t.$stashed_method_name()),t.klass.$__send__("remove_method",t.$stashed_method_name()),t.method_is_stashed=!1):a},d.$$arity=0,d.$$parameters=[])):(e.defn(q,"$method_is_stashed?",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_is_stashed?"),t.original_method["$!"]()["$!"]()},f.$$arity=0,f.$$parameters=[]),e.defn(q,"$stash",h=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"stash"),$(r["$method_defined_directly_on_klass?"]())?r.original_method=$(t=r.original_method)?t:e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Support").$method_handle_for(r.object,r.method):a},h.$$arity=0,h.$$parameters=[]),e.defn(q,"$restore",m=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"restore"),$(r.original_method)?($(r.klass.$__send__("method_defined?",r.method))&&r.klass.$__send__("undef_method",r.method),s(r,"handle_restoration_failures",[],(t=function(){var r=t.$$s||this;if(null==r.klass&&(r.klass=a),null==r.method&&(r.method=a),null==r.original_method&&(r.original_method=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"restore")}return r.klass.$__send__("define_method",r.method,r.original_method)},t.$$s=r,t.$$arity=0,t.$$parameters=[],t)),r.original_method=a):a},m.$$arity=0,m.$$parameters=[])),$($(g=e.const_get_relative(E,"RUBY_DESCRIPTION")["$include?"]("2.0.0p247"))?g:e.const_get_relative(E,"RUBY_DESCRIPTION")["$include?"]("2.0.0p195"))?e.defn(q,"$handle_restoration_failures",v=function(){var t=this,r=v.$$p,n=r||a;r&&(v.$$p=null);var i=arguments.length;0!==i&&e.ac(i,0,this,"handle_restoration_failures");try{return e.yieldX(n,[])}catch(r){if(!e.rescue(r,[e.const_get_relative(E,"TypeError")]))throw r;try{return e.const_get_relative(E,"RSpec").$warn_with("RSpec failed to properly restore a partial double ("+t.object.$inspect()+") to its original state due to a known bug in MRI 2.0.0-p195 & p247 (https://bugs.ruby-lang.org/issues/8686). This object may remain screwed up for the rest of this process. Please upgrade to 2.0.0-p353 or above.",o(["call_site","use_spec_location_as_call_site"],{call_site:a,use_spec_location_as_call_site:!0}))}finally{e.pop_exception()}}},v.$$arity=0,v.$$parameters=[]):e.defn(q,"$handle_restoration_failures",y=function(){var t=y.$$p,r=t||a;t&&(y.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"handle_restoration_failures"),e.yieldX(r,[])},y.$$arity=0,y.$$parameters=[]),q.$private(),e.defn(q,"$method_defined_directly_on_klass?",b=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"method_defined_directly_on_klass?"),$(t=r["$method_defined_on_klass?"]())?r["$method_owned_by_klass?"]():t},b.$$arity=0,b.$$parameters=[]),e.defn(q,"$method_defined_on_klass?",x=function(t){var r=this;null==t&&(t=r.klass);var a=arguments.length;return a>1&&e.ac(a,-1,this,"method_defined_on_klass?"),e.const_get_relative(E,"MethodReference")["$method_defined_at_any_visibility?"](t,r.method)},x.$$arity=-1,x.$$parameters=[["opt","klass"]]),e.defn(q,"$method_owned_by_klass?",k=function(){var t,r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"method_owned_by_klass?"),n=r.klass.$instance_method(r.method).$owner(),$(e.const_get_relative(E,"Module")["$==="](n))||(n=n.$class()),$(t=n["$=="](r.klass))?t:r["$method_defined_on_klass?"](n)["$!"]()},k.$$arity=0,k.$$parameters=[])}(u[0],null,u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/mocks/matchers/expectation_customization"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send;return e.add_stubs(["$attr_accessor","$__send__","$to_proc"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Mocks"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Matchers"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c=$=n(t,$super,"ExpectationCustomization",$),_=c.$$proto;[c].concat(a);_.method_name=_.args=_.block=r,c.$attr_accessor("block"),e.defn(c,"$initialize",s=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),n.method_name=t,n.args=r,n.block=a},s.$$arity=3,s.$$parameters=[["req","method_name"],["req","args"],["req","block"]]),e.defn(c,"$playback_onto",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"playback_onto"),i(t,"__send__",[r.method_name].concat(e.to_a(r.args)),r.block.$to_proc())},o.$$arity=1,o.$$parameters=[["req","expectation"]])}(c[0],null,c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/mocks/message_expectation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=(e.top,[]),s=e.nil,o=(e.breaker,e.slice,e.module),c=e.klass,_=e.send,l=e.truthy,u=e.hash2;return e.add_stubs(["$to_sym","$==","$line","$raise_expectation_error","$attr_accessor","$attr_reader","$attr_writer","$protected","$opts=","$-","$object","$method_name","$register","$new","$inner_implementation_action=","$expected_args","$negative?","$raise","$unshift","$ignoring_args?","$max","$size","$terminal_implementation_action=","$and_wrap_original","$call","$to_proc","$===","$raise_only_valid_on_a_partial_double","$inner_action","$implementation","$warn_about_stub_override","$original_method","$respond_to?","$exception","$throw","$<<","$initial_implementation_action=","$args_match?","$invoke_incrementing_actual_calls_by","$!","$!=","$>","$>=","$expected_messages_received?","$failed_fast?","$generate_error","$matches_exact_count?","$matches_at_least_count?","$matches_at_most_count?","$verify_invocation_order","$<=","$similar_messages","$empty?","$expectation_count_type","$raise_similar_message_args_error","$describe_expectation","$raise_out_of_order_error","$set_expected_received_count","$raise_double_negation_error","$times","$additional_expected_calls","$+","$private","$yield_receiver_to_implementation_block?","$orig_object","$handle_order_constraint","$present?","$invoke","$initial_action=","$inner_action=","$terminal_action=","$warning","$first_non_rspec_line","$nil?","$raise_missing_block_error","$each","$valid?","$raise_wrong_arity_error","$instance_exec","$shift","$first","$last","$map","$actions","$any?","$compact","$initial_action","$terminal_action","$cannot_modify_further_error","$insert","$backtrace"]),function($,p){var d,f=d=o($,"RSpec"),h=(f.$$proto,[f].concat(p));!function($,p){var d,f=d=o($,"Mocks"),h=(f.$$proto,[f].concat(p));!function(t,$super,r){function a(){}var n,i,$,o,u,p=a=c(t,$super,"SimpleMessageExpectation",a),d=p.$$proto,f=[p].concat(r);d.response=d.message=d.backtrace_line=s,e.defn(p,"$initialize",n=function(t,r,a,n){var i,$=this;null==n&&(n=s);var o=arguments.length;return(o<3||o>4)&&e.ac(o,-4,this,"initialize"),i=[t.$to_sym(),r,a,n],$.message=i[0],$.response=i[1],$.error_generator=i[2],$.backtrace_line=i[3],$.received=!1},n.$$arity=-4,n.$$parameters=[["req","message"],["req","response"],["req","error_generator"],["opt","backtrace_line"]]),e.defn(p,"$invoke",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.received=!0,t.response},i.$$arity=-1,i.$$parameters=[["rest","_"]]),e.defn(p,"$matches?",$=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;return s<1&&e.ac(s,-2,this,"matches?"),a.message["$=="](t.$to_sym())},$.$$arity=-2,$.$$parameters=[["req","message"],["rest","_"]]),e.defn(p,"$called_max_times?",o=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"called_max_times?"),!1},o.$$arity=0,o.$$parameters=[]),e.defn(p,"$verify_messages_received",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"verify_messages_received"),_(e.const_get_relative(f,"InsertOntoBacktrace"),"line",[r.backtrace_line],(t=function(){var r=t.$$s||this;if(null==r.received&&(r.received=s),null==r.error_generator&&(r.error_generator=s),null==r.message&&(r.message=s),t.$$is_lambda||t.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"verify_messages_received")}return l(r.received)?s:r.error_generator.$raise_expectation_error(r.message,1,e.const_get_qualified(e.const_get_relative(f,"ArgumentListMatcher"),"MATCH_ALL"),0,s)},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},u.$$arity=0,u.$$parameters=[])}(h[0],null,h),function($,$super,o){function p(){}var d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ae,ne,ie,$e,se,oe,ce,_e,le,ue=p=c($,$super,"MessageExpectation",p),pe=ue.$$proto,de=[ue].concat(o)
;pe.error_generator=pe.method_double=pe.order_group=pe.argument_list_matcher=pe.expected_received_count=pe.at_least=pe.yield_receiver_to_implementation_block=pe.args_to_yield=pe.eval_context=pe.message=pe.actual_received_count=pe.expected_from=pe.ordered=pe.at_most=pe.similar_messages=pe.expectation_type=pe.exactly=pe.failed_fast=s,ue.$attr_accessor("error_generator","implementation"),ue.$attr_reader("message"),ue.$attr_reader("orig_object"),ue.$attr_writer("expected_received_count","expected_from","argument_list_matcher"),ue.$protected("expected_received_count=","expected_from=","error_generator","error_generator=","implementation="),e.defn(ue,"$initialize",d=function(r,a,n,i,$,o){var c=this,l=d.$$p,p=l||s,f=s;null==$&&($="expectation"),null==o&&(o=u([],{})),l&&(d.$$p=null);var h=arguments.length;return(h<4||h>6)&&e.ac(h,-5,this,"initialize"),c.error_generator=r,f=[o],_(c.error_generator,"opts=",e.to_a(f)),f[t(f.length,1)],c.expected_from=n,c.method_double=i,c.orig_object=c.method_double.$object(),c.message=c.method_double.$method_name(),c.actual_received_count=0,c.expected_received_count=function(){return $["$=="]("expectation")?1:"any"}(),c.argument_list_matcher=e.const_get_qualified(e.const_get_relative(de,"ArgumentListMatcher"),"MATCH_ALL"),c.order_group=a,$["$=="]("stub")||c.order_group.$register(c),c.expectation_type=$,c.ordered=!1,c.at_least=c.at_most=c.exactly=s,c.args_to_yield=[],c.failed_fast=s,c.eval_context=s,c.yield_receiver_to_implementation_block=!1,c.implementation=e.const_get_relative(de,"Implementation").$new(),f=[p],_(c,"inner_implementation_action=",e.to_a(f)),f[t(f.length,1)]},d.$$arity=-5,d.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["req","method_double"],["opt","type"],["opt","opts"],["block","implementation_block"]]),e.defn(ue,"$expected_args",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expected_args"),t.argument_list_matcher.$expected_args()},f.$$arity=0,f.$$parameters=[]),e.defn(ue,"$and_return",h=function(r){var a,n,i=this,$=h.$$p,o=$||s,c=s,u=arguments.length,p=u-1;p<0&&(p=0),n=new Array(p);for(var d=1;d<u;d++)n[d-1]=arguments[d];$&&(h.$$p=null);var f=arguments.length;return f<1&&e.ac(f,-2,this,"and_return"),l(i["$negative?"]())&&i.$raise("`and_return` is not supported with negative message expectations"),o!==s&&i.$raise(e.const_get_relative(de,"ArgumentError"),"Implementation blocks aren't supported with `and_return`"),n.$unshift(r),l(l(a=i["$ignoring_args?"]())?a:i.expected_received_count["$=="](0)?i.at_least:i.expected_received_count["$=="](0))||(i.expected_received_count=[i.expected_received_count,n.$size()].$max()),c=[e.const_get_relative(de,"AndReturnImplementation").$new(n)],_(i,"terminal_implementation_action=",e.to_a(c)),c[t(c.length,1)],s},h.$$arity=-2,h.$$parameters=[["req","first_value"],["rest","values"]]),e.defn(ue,"$and_yield_receiver_to_implementation",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"and_yield_receiver_to_implementation"),t.yield_receiver_to_implementation_block=!0,t},m.$$arity=0,m.$$parameters=[]),e.defn(ue,"$yield_receiver_to_implementation_block?",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"yield_receiver_to_implementation_block?"),t.yield_receiver_to_implementation_block},g.$$arity=0,g.$$parameters=[]),e.defn(ue,"$and_call_original",v=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"and_call_original"),_(r,"and_wrap_original",[],(t=function(r){var a,n;t.$$s;(a=t.$$p||s)&&(t.$$p=null);var i=arguments.length,$=i-1;$<0&&($=0),n=new Array($);for(var o=1;o<i;o++)n[o-1]=arguments[o];if(null==r&&(r=s),t.$$is_lambda||t.$$define_meth){var c=arguments.length;c<1&&e.block_ac(c,-2,"and_call_original")}return _(r,"call",e.to_a(n),a.$to_proc())},t.$$s=r,t.$$arity=-2,t.$$parameters=[["req","original"],["rest","args"],["block","block"]],t))},v.$$arity=0,v.$$parameters=[]),e.defn(ue,"$and_wrap_original",y=function(){var t=this,r=y.$$p,a=r||s;r&&(y.$$p=null);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"and_wrap_original"),l(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(de,"RSpec"),"Mocks"),"TestDouble")["$==="](t.method_double.$object()))?t.error_generator.$raise_only_valid_on_a_partial_double("and_call_original"):(l(t.$implementation().$inner_action())&&t.$warn_about_stub_override(),t.implementation=e.const_get_relative(de,"AndWrapOriginalImplementation").$new(t.method_double.$original_method(),a),t.yield_receiver_to_implementation_block=!1)},y.$$arity=0,y.$$parameters=[["block","block"]]),e.defn(ue,"$and_raise",b=function(r,a){var n,i=this,$=s;null==r&&(r=e.const_get_relative(de,"RuntimeError")),null==a&&(a=s);var o=arguments.length;return o>2&&e.ac(o,-1,this,"and_raise"),l(r["$respond_to?"]("exception"))&&(r=function(){return l(a)?r.$exception(a):r.$exception()}()),$=[_(e.const_get_relative(de,"Proc"),"new",[],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"and_raise")}return t.$raise(r)},n.$$s=i,n.$$arity=0,n.$$parameters=[],n))],_(i,"terminal_implementation_action=",e.to_a($)),$[t($.length,1)],s},b.$$arity=-1,b.$$parameters=[["opt","exception"],["opt","message"]]),e.defn(ue,"$and_throw",x=function(){var r,a,n=this,i=s,$=arguments.length,o=$-0;o<0&&(o=0),a=new Array(o);for(var c=0;c<$;c++)a[c-0]=arguments[c];return i=[_(e.const_get_relative(de,"Proc"),"new",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"and_throw")}return _(t,"throw",e.to_a(a))},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))],_(n,"terminal_implementation_action=",e.to_a(i)),i[t(i.length,1)],s},x.$$arity=-1,x.$$parameters=[["rest","args"]]),e.defn(ue,"$and_yield",k=function(){var r,a=this,n=k.$$p,i=n||s,$=s,o=arguments.length,c=o-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<o;u++)r[u-0]=arguments[u];return n&&(k.$$p=null),l(i)&&e.yield1(i,a.eval_context=e.const_get_relative(de,"Object").$new()),a.args_to_yield["$<<"](r),$=[e.const_get_relative(de,"AndYieldImplementation").$new(a.args_to_yield,a.eval_context,a.error_generator)],_(a,"initial_implementation_action=",e.to_a($)),$[t($.length,1)],a},k.$$arity=-1,k.$$parameters=[["rest","args"],["block","block"]]),e.defn(ue,"$matches?",q=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;return s<1&&e.ac(s,-2,this,"matches?"),a.message["$=="](t)?_(a.argument_list_matcher,"args_match?",e.to_a(r)):a.message["$=="](t)},q.$$arity=-2,q.$$parameters=[["req","message"],["rest","args"]]),e.defn(ue,"$safe_invoke",w=function(t){var r,a=this,n=w.$$p,i=n||s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<$;c++)r[c-1]=arguments[c];n&&(w.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"safe_invoke"),_(a,"invoke_incrementing_actual_calls_by",[1,!1,t].concat(e.to_a(r)),i.$to_proc())},w.$$arity=-2,w.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(ue,"$invoke",E=function(t){var r,a=this,n=E.$$p,i=n||s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<$;c++)r[c-1]=arguments[c];n&&(E.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"invoke"),_(a,"invoke_incrementing_actual_calls_by",[1,!0,t].concat(e.to_a(r)),i.$to_proc())},E.$$arity=-2,E.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(ue,"$invoke_without_incrementing_received_count",S=function(t){var r,a=this,n=S.$$p,i=n||s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<$;c++)r[c-1]=arguments[c];n&&(S.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"invoke_without_incrementing_received_count"),_(a,"invoke_incrementing_actual_calls_by",[0,!0,t].concat(e.to_a(r)),i.$to_proc())},S.$$arity=-2,S.$$parameters=[["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(ue,"$negative?",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"negative?"),t.expected_received_count["$=="](0)?t.at_least["$!"]():t.expected_received_count["$=="](0)},M.$$arity=0,M.$$parameters=[]),e.defn(ue,"$called_max_times?",O=function(){var t,n,i,$=this,s=arguments.length;return 0!==s&&e.ac(s,0,this,"called_max_times?"),l(t=l(n=l(i=$.expected_received_count["$!="]("any"))?$.at_least["$!"]():i)?r($.expected_received_count,0):n)?a($.actual_received_count,$.expected_received_count):t},O.$$arity=0,O.$$parameters=[]),e.defn(ue,"$matches_name_but_not_args",A=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];var s=arguments.length;return s<1&&e.ac(s,-2,this,"matches_name_but_not_args"),a.message["$=="](t)?_(a.argument_list_matcher,"args_match?",e.to_a(r))["$!"]():a.message["$=="](t)},A.$$arity=-2,A.$$parameters=[["req","message"],["rest","args"]]),e.defn(ue,"$verify_messages_received",R=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"verify_messages_received"),_(e.const_get_relative(de,"InsertOntoBacktrace"),"line",[r.expected_from],(t=function(){var r,a=t.$$s||this;if(t.$$is_lambda||t.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"verify_messages_received")}return l(l(r=a["$expected_messages_received?"]())?r:a["$failed_fast?"]())?s:a.$generate_error()},t.$$s=r,t.$$arity=0,t.$$parameters=[],t))},R.$$arity=0,R.$$parameters=[]),e.defn(ue,"$expected_messages_received?",z=function(){var t,r,a,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"expected_messages_received?"),l(t=l(r=l(a=n["$ignoring_args?"]())?a:n["$matches_exact_count?"]())?r:n["$matches_at_least_count?"]())?t:n["$matches_at_most_count?"]()},z.$$arity=0,z.$$parameters=[]),e.defn(ue,"$ensure_expected_ordering_received!",j=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ensure_expected_ordering_received!"),l(t.ordered)&&t.order_group.$verify_invocation_order(t),!0},j.$$arity=0,j.$$parameters=[]),e.defn(ue,"$ignoring_args?",T=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ignoring_args?"),t.expected_received_count["$=="]("any")},T.$$arity=0,T.$$parameters=[]),e.defn(ue,"$matches_at_least_count?",I=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"matches_at_least_count?"),l(t=r.at_least)?a(r.actual_received_count,r.expected_received_count):t},I.$$arity=0,I.$$parameters=[]),e.defn(ue,"$matches_at_most_count?",C=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"matches_at_most_count?"),l(t=r.at_most)?n(r.actual_received_count,r.expected_received_count):t},C.$$arity=0,C.$$parameters=[]),e.defn(ue,"$matches_exact_count?",P=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matches_exact_count?"),t.expected_received_count["$=="](t.actual_received_count)},P.$$arity=0,P.$$parameters=[]),e.defn(ue,"$similar_messages",N=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"similar_messages"),r.similar_messages=l(t=r.similar_messages)?t:[]},N.$$arity=0,N.$$parameters=[]),e.defn(ue,"$advise",F=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$similar_messages()["$<<"](e)},F.$$arity=-1,F.$$parameters=[["rest","args"]]),e.defn(ue,"$generate_error",B=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"generate_error"),l(t.$similar_messages()["$empty?"]())?_(t.error_generator,"raise_expectation_error",[t.message,t.expected_received_count,t.argument_list_matcher,t.actual_received_count,t.$expectation_count_type()].concat(e.to_a(t.$expected_args()))):_(t.error_generator,"raise_similar_message_args_error",[t].concat(e.to_a(t.similar_messages)))},B.$$arity=0,B.$$parameters=[]),e.defn(ue,"$expectation_count_type",D=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectation_count_type"),l(t.at_least)?"at_least":l(t.at_most)?"at_most":s},D.$$arity=0,D.$$parameters=[]),e.defn(ue,"$description",H=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),_(t.error_generator,"describe_expectation",[t.message,t.expected_received_count,t.actual_received_count].concat(e.to_a(t.$expected_args())))},H.$$arity=0,H.$$parameters=[]),e.defn(ue,"$raise_out_of_order_error",L=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_out_of_order_error"),t.error_generator.$raise_out_of_order_error(t.message)},L.$$arity=0,L.$$parameters=[]),e.defn(ue,"$with",U=function(){var r,a=this,n=U.$$p,i=n||s,$=s,o=arguments.length,c=o-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<o;u++)r[u-0]=arguments[u];return n&&(U.$$p=null),l(r["$empty?"]())&&a.$raise(e.const_get_relative(de,"ArgumentError"),"`with` must have at least one argument. Use `no_args` matcher to set the expectation of receiving no arguments."),$=[i],_(a,"inner_implementation_action=",e.to_a($)),$[t($.length,1)],a.argument_list_matcher=_(e.const_get_relative(de,"ArgumentListMatcher"),"new",e.to_a(r)),a},U.$$arity=-1,U.$$parameters=[["rest","args"],["block","block"]]),e.defn(ue,"$exactly",G=function(r){var a=this,n=G.$$p,i=n||s,$=s;n&&(G.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"exactly"),$=[i],_(a,"inner_implementation_action=",e.to_a($)),$[t($.length,1)],a.$set_expected_received_count("exactly",r),a},G.$$arity=1,G.$$parameters=[["req","n"],["block","block"]]),e.defn(ue,"$at_least",Y=function(r){var a=this,n=Y.$$p,i=n||s,$=s;n&&(Y.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"at_least"),a.$set_expected_received_count("at_least",r),r["$=="](0)&&a.$raise("at_least(0) has been removed, use allow(...).to receive(:message) instead"),$=[i],_(a,"inner_implementation_action=",e.to_a($)),$[t($.length,1)],a},Y.$$arity=1,Y.$$parameters=[["req","n"],["block","block"]]),e.defn(ue,"$at_most",V=function(r){var a=this,n=V.$$p,i=n||s,$=s;n&&(V.$$p=null);var o=arguments.length;return 1!==o&&e.ac(o,1,this,"at_most"),$=[i],_(a,"inner_implementation_action=",e.to_a($)),$[t($.length,1)],a.$set_expected_received_count("at_most",r),a},V.$$arity=1,V.$$parameters=[["req","n"],["block","block"]]),e.defn(ue,"$times",X=function(){var r=this,a=X.$$p,n=a||s,i=s;a&&(X.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"times"),i=[n],_(r,"inner_implementation_action=",e.to_a(i)),i[t(i.length,1)],r},X.$$arity=0,X.$$parameters=[["block","block"]]),e.defn(ue,"$never",K=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"never"),l(t["$negative?"]())&&e.const_get_relative(de,"ErrorGenerator").$raise_double_negation_error("expect(obj)"),t.expected_received_count=0,t},K.$$arity=0,K.$$parameters=[]),e.defn(ue,"$once",W=function(){var r=this,a=W.$$p,n=a||s,i=s;a&&(W.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"once"),i=[n],_(r,"inner_implementation_action=",e.to_a(i)),i[t(i.length,1)],r.$set_expected_received_count("exactly",1),r},W.$$arity=0,W.$$parameters=[["block","block"]]),e.defn(ue,"$twice",Z=function(){var r=this,a=Z.$$p,n=a||s,i=s;a&&(Z.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"twice"),i=[n],_(r,"inner_implementation_action=",e.to_a(i)),i[t(i.length,1)],r.$set_expected_received_count("exactly",2),r},Z.$$arity=0,Z.$$parameters=[["block","block"]]),e.defn(ue,"$thrice",J=function(){var r=this,a=J.$$p,n=a||s,i=s;a&&(J.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"thrice"),i=[n],_(r,"inner_implementation_action=",e.to_a(i)),i[t(i.length,1)],r.$set_expected_received_count("exactly",3),r},J.$$arity=0,J.$$parameters=[["block","block"]]),e.defn(ue,"$ordered",Q=function(){var r,a=this,n=Q.$$p,i=n||s,$=s;n&&(Q.$$p=null);var o=arguments.length;return 0!==o&&e.ac(o,0,this,"ordered"),$=[i],_(a,"inner_implementation_action=",e.to_a($)),$[t($.length,1)],_(a.$additional_expected_calls(),"times",[],(r=function(){var t=r.$$s||this;if(null==t.order_group&&(t.order_group=s),r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"ordered")}return t.order_group.$register(t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)),a.ordered=!0,a},Q.$$arity=0,Q.$$parameters=[["block","block"]]),e.defn(ue,"$additional_expected_calls",ee=function(){var r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"additional_expected_calls"),l(l(r=a.expectation_type["$=="]("stub"))?r:a.exactly["$!"]())?0:t(a.expected_received_count,1)},ee.$$arity=0,ee.$$parameters=[]),e.defn(ue,"$ordered?",te=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"ordered?"),t.ordered},te.$$arity=0,te.$$parameters=[]),e.defn(ue,"$negative_expectation_for?",re=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"negative_expectation_for?"),r.message["$=="](t)?r["$negative?"]():r.message["$=="](t)},re.$$arity=1,re.$$parameters=[["req","message"]]),e.defn(ue,"$actual_received_count_matters?",ae=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"actual_received_count_matters?"),l(t=l(r=a.at_least)?r:a.at_most)?t:a.exactly},ae.$$arity=0,ae.$$parameters=[]),e.defn(ue,"$increase_actual_received_count!",ne=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"increase_actual_received_count!"),t.actual_received_count=i(t.actual_received_count,1)},ne.$$arity=0,ne.$$parameters=[]),ue.$private(),e.defn(ue,"$invoke_incrementing_actual_calls_by",ie=function(t,r,a){var n,$,o,c,u,p=this,d=ie.$$p,f=d||s,h=arguments.length,m=h-3;m<0&&(m=0),u=new Array(m);for(var g=3;g<h;g++)u[g-3]=arguments[g];d&&(ie.$$p=null);var v=arguments.length;return v<3&&e.ac(v,-4,this,"invoke_incrementing_actual_calls_by"),l(p["$yield_receiver_to_implementation_block?"]())&&u.$unshift(p.$orig_object()),l(l(n=p["$negative?"]())?n:l($=l(o=r)?l(c=p.exactly)?c:p.at_most:o)?p.actual_received_count["$=="](p.expected_received_count):$)&&(p.actual_received_count=i(p.actual_received_count,t),p.failed_fast=!0,_(p.error_generator,"raise_expectation_error",[p.message,p.expected_received_count,p.argument_list_matcher,p.actual_received_count,p.$expectation_count_type()].concat(e.to_a(u)))),p.order_group.$handle_order_constraint(p),function(){try{return l(p.$implementation()["$present?"]())?_(p.$implementation(),"call",e.to_a(u),f.$to_proc()):l(a)?_(a,"invoke",[s].concat(e.to_a(u)),f.$to_proc()):s}finally{p.actual_received_count=i(p.actual_received_count,t)}}()},ie.$$arity=-4,ie.$$parameters=[["req","increment"],["req","allowed_to_fail"],["req","parent_stub"],["rest","args"],["block","block"]]),e.defn(ue,"$failed_fast?",$e=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"failed_fast?"),t.failed_fast},$e.$$arity=0,$e.$$parameters=[]),e.defn(ue,"$set_expected_received_count",se=function(t,r){var a=this,n=s,i=arguments.length;return 2!==i&&e.ac(i,2,this,"set_expected_received_count"),a.at_least=t["$=="]("at_least"),a.at_most=t["$=="]("at_most"),a.exactly=t["$=="]("exactly"),a.expected_received_count=function(){return n=r,e.const_get_relative(de,"Numeric")["$==="](n)?r:"once"["$==="](n)?1:"twice"["$==="](n)?2:"thrice"["$==="](n)?3:s}()},se.$$arity=2,se.$$parameters=[["req","relativity"],["req","n"]]),e.defn(ue,"$initial_implementation_action=",oe=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"initial_implementation_action="),n=[r],_(a.$implementation(),"initial_action=",e.to_a(n)),n[t(n.length,1)]},oe.$$arity=1,oe.$$parameters=[["req","action"]]),e.defn(ue,"$inner_implementation_action=",ce=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"inner_implementation_action="),l(r)?(l(a.$implementation().$inner_action())&&a.$warn_about_stub_override(),n=[r],_(a.$implementation(),"inner_action=",e.to_a(n)),n[t(n.length,1)]):s},ce.$$arity=1,ce.$$parameters=[["req","action"]]),e.defn(ue,"$terminal_implementation_action=",_e=function(r){var a=this,n=s,i=arguments.length;return 1!==i&&e.ac(i,1,this,"terminal_implementation_action="),n=[r],_(a.$implementation(),"terminal_action=",e.to_a(n)),n[t(n.length,1)]},_e.$$arity=1,_e.$$parameters=[["req","action"]]),e.defn(ue,"$warn_about_stub_override",le=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_stub_override"),e.const_get_relative(de,"RSpec").$warning("You're overriding a previous stub implementation of `"+t.message+"`. Called from "+e.const_get_relative(de,"CallerFilter").$first_non_rspec_line()+".")},le.$$arity=0,le.$$parameters=[])}(h[0],null,h),function(t,$super,r){function a(){}var n,i,$=a=c(t,$super,"AndYieldImplementation",a),o=$.$$proto,u=[$].concat(r);o.args_to_yield=o.eval_context=o.error_generator=s,e.defn($,"$initialize",n=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),n.args_to_yield=t,n.eval_context=r,n.error_generator=a},n.$$arity=3,n.$$parameters=[["req","args_to_yield"],["req","eval_context"],["req","error_generator"]]),e.defn($,"$call",i=function(){var t,r,a,n=this,$=i.$$p,o=$||s,c=s,p=s,d=arguments.length,f=d-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<d;h++)a[h-0]=arguments[h];return $&&(i.$$p=null),l(l(t=n.args_to_yield["$empty?"]())?n.eval_context["$nil?"]():t)?s:(l(o)||n.error_generator.$raise_missing_block_error(n.args_to_yield),c=s,p=e.const_get_qualified(e.const_get_relative(u,"Support"),"BlockSignature").$new(o),_(n.args_to_yield,"each",[],(r=function(t){var a=r.$$s||this;if(null==a.error_generator&&(a.error_generator=s),null==a.eval_context&&(a.eval_context=s),null==t&&(t=s),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"call")}return l(e.const_get_qualified(e.const_get_relative(u,"Support"),"StrictSignatureVerifier").$new(p,t)["$valid?"]())||a.error_generator.$raise_wrong_arity_error(t,p),c=function(){return l(a.eval_context)?_(a.eval_context,"instance_exec",e.to_a(t),o.$to_proc()):_(o,"call",e.to_a(t))}()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","args"]],r)),c)},i.$$arity=-1,i.$$parameters=[["rest","_args_to_ignore"],["block","block"]])}(h[0],null,h),function(t,$super,a){function n(){}var i,$,o=n=c(t,$super,"AndReturnImplementation",n),_=o.$$proto;[o].concat(a);_.values_to_return=s,e.defn(o,"$initialize",i=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.values_to_return=t},i.$$arity=1,i.$$parameters=[["req","values_to_return"]]),e.defn(o,"$call",$=function(){var e,t=this,a=$.$$p,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<n;s++)e[s-0]=arguments[s];return a&&($.$$p=null),l(r(t.values_to_return.$size(),1))?t.values_to_return.$shift():t.values_to_return.$first()},$.$$arity=-1,$.$$parameters=[["rest","_args_to_ignore"],["block","_block"]])}(h[0],null,h),function(t,$super,r){function a(){}var n,i,$,o=a=c(t,$super,"Implementation",a);o.$$proto,[o].concat(r);o.$attr_accessor("initial_action","inner_action","terminal_action"),e.defn(o,"$call",n=function(){var t,r,a=this,i=n.$$p,$=i||s,o=arguments.length,c=o-0;c<0&&(c=0),r=new Array(c);for(var l=0;l<o;l++)r[l-0]=arguments[l];return i&&(n.$$p=null),_(a.$actions(),"map",[],(t=function(a){t.$$s;if(null==a&&(a=s),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"call")}return _(a,"call",e.to_a(r),$.$to_proc())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","action"]],t)).$last()},n.$$arity=-1,n.$$parameters=[["rest","args"],["block","block"]]),e.defn(o,"$present?",i=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"present?"),t.$actions()["$any?"]()},i.$$arity=0,i.$$parameters=[]),o.$private(),e.defn(o,"$actions",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"actions"),[t.$initial_action(),t.$inner_action(),t.$terminal_action()].$compact()},$.$$arity=0,$.$$parameters=[])}(h[0],null,h),function(t,$super,r){function a(){}var n,i,$,o,l,u,p,d,f=a=c(t,$super,"AndWrapOriginalImplementation",a),h=f.$$proto,m=[f].concat(r);h.block=h.method=s,e.defn(f,"$initialize",n=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.method=t,a.block=r},n.$$arity=2,n.$$parameters=[["req","method"],["req","block"]]),e.const_set(m[0],"CannotModifyFurtherError",e.const_get_relative(m,"Class").$new(e.const_get_relative(m,"StandardError"))),e.defn(f,"$initial_action=",i=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"initial_action="),t.$raise(t.$cannot_modify_further_error())},i.$$arity=1,i.$$parameters=[["req","_value"]]),e.defn(f,"$inner_action=",$=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"inner_action="),t.$raise(t.$cannot_modify_further_error())},$.$$arity=1,$.$$parameters=[["req","_value"]]),e.defn(f,"$terminal_action=",o=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"terminal_action="),t.$raise(t.$cannot_modify_further_error())},o.$$arity=1,o.$$parameters=[["req","_value"]]),e.defn(f,"$present?",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"present?"),!0},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$inner_action",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"inner_action"),!0},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$call",p=function(){var t,r=this,a=p.$$p,n=a||s,i=arguments.length,$=i-0;$<0&&($=0),t=new Array($);for(var o=0;o<i;o++)t[o-0]=arguments[o];return a&&(p.$$p=null),_(r.block,"call",[r.method].concat(e.to_a(t)),n.$to_proc())},p.$$arity=-1,p.$$parameters=[["rest","args"],["block","block"]]),f.$private(),e.defn(f,"$cannot_modify_further_error",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"cannot_modify_further_error"),e.const_get_relative(m,"CannotModifyFurtherError").$new("This method has already been configured to call the original implementation, and cannot be modified further.")},d.$$arity=0,d.$$parameters=[])}(h[0],null,h),function(t,$super,r){function a(){}var n,i=a=c(t,$super,"InsertOntoBacktrace",a),$=(i.$$proto,[i].concat(r));e.defs(i,"$line",n=function(t){var r=n.$$p,a=r||s,i=s;r&&(n.$$p=null);var o=arguments.length;1!==o&&e.ac(o,1,this,"line");try{return e.yieldX(a,[])}catch(r){if(!e.rescue(r,[e.const_get_qualified(e.const_get_qualified(e.const_get_relative($,"RSpec"),"Mocks"),"MockExpectationError")]))throw r;i=r;try{return i.$backtrace().$insert(0,t),e.const_get_relative($,"Kernel").$raise(i)}finally{e.pop_exception()}}},n.$$arity=1,n.$$parameters=[["req","location"]])}(h[0],null,h)}(h[0],h)}($[0],$)},Opal.modules["rspec/mocks/method_double"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy,$=e.send,s=e.hash2;return e.add_stubs(["$attr_reader","$new","$original_method","$original_method_handle_for","$method_name","$__send__","$to_proc","$alias_method","$visibility_for","$visibility","$stash","$define_proxy_method","$save_original_method!","$class_exec","$definition_target","$define_method","$proxy_method_invoked","$message_received","$frozen?","$object_singleton_class","$show_frozen_warning","$method_is_stashed?","$restore","$restore_original_visibility","$warn_with","$inspect","$method_defined_at_any_visibility?","$each","$expectations","$verify_messages_received","$restore_original_method","$clear","$stubs","$configure_method","$message_expectation_class","$<<","$unshift","$setup_simple_method_double","$any?","$add_stub","$empty?","$raise_method_not_stubbed_error","$remove_stub_if_present","$reset","$raise","$module_prepends_supported?","$private","$usable_rspec_prepended_module","$prepended_modules_of_singleton_class","$===","$method_defined?","$new_rspec_prepended_module","$tap"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P=o=n(t,$super,"MethodDouble",o),N=P.$$proto,F=[P].concat(a);N.original_method=N.method_stasher=N.proxy=N.method_name=N.object=N.method_is_proxied=N.original_visibility=N.definition_target=r,P.$attr_reader("method_name","object","expectations","stubs"),e.defn(P,"$initialize",c=function(t,a,n){var i=this,$=arguments.length;return 3!==$&&e.ac($,3,this,"initialize"),i.method_name=a,i.object=t,i.proxy=n,i.original_visibility=r,i.method_stasher=e.const_get_relative(F,"InstanceMethodStasher").$new(t,a),i.method_is_proxied=!1,i.expectations=[],i.stubs=[]},c.$$arity=3,c.$$parameters=[["req","object"],["req","method_name"],["req","proxy"]]),e.defn(P,"$original_method",_=function(){var t,a,n,s,o=this,c=arguments.length;return 0!==c&&e.ac(c,0,this,"original_method"),o.original_method=i(t=o.original_method)?t:i(a=i(n=o.method_stasher.$original_method())?n:o.proxy.$original_method_handle_for(o.$method_name()))?a:$(e.const_get_relative(F,"Proc"),"new",[],(s=function(){var t,a,n=s.$$s||this;null==n.object&&(n.object=r),null==n.method_name&&(n.method_name=r),(t=s.$$p||r)&&(s.$$p=null);var i=arguments.length,o=i-0;o<0&&(o=0),a=new Array(o);for(var c=0;c<i;c++)a[c-0]=arguments[c];return $(n.object,"__send__",["method_missing",n.method_name].concat(e.to_a(a)),t.$to_proc())},s.$$s=o,s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]],s))},_.$$arity=0,_.$$parameters=[]),P.$alias_method("save_original_method!","original_method"),e.defn(P,"$visibility",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"visibility"),t.proxy.$visibility_for(t.method_name)},l.$$arity=0,l.$$parameters=[]),e.defn(P,"$object_singleton_class",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"object_singleton_class"),function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(t.object),F)},u.$$arity=0,u.$$parameters=[]),e.defn(P,"$configure_method",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"configure_method"),t.original_visibility=[t.$visibility(),t.$method_name()],i(t.method_is_proxied)||t.method_stasher.$stash(),t.$define_proxy_method()},p.$$arity=0,p.$$parameters=[]),e.defn(P,"$define_proxy_method",d=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"define_proxy_method"),i(a.method_is_proxied)?r:(a["$save_original_method!"](),$(a.$definition_target(),"class_exec",[a,a.$method_name(),a.$visibility()],(t=function(a,n,i){var s,o=t.$$s||this;if(null==a&&(a=r),null==n&&(n=r),null==i&&(i=r),t.$$is_lambda||t.$$define_meth){var c=arguments.length;3!==c&&e.block_ac(c,3,"define_proxy_method")}return $(o,"define_method",[n],(s=function(){var t,n,i=s.$$s||this;(t=s.$$p||r)&&(s.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<o;_++)n[_-0]=arguments[_];return $(a,"proxy_method_invoked",[i].concat(e.to_a(n)),t.$to_proc())},s.$$s=o,s.$$arity=-1,s.$$parameters=[["rest","args"],["block","block"]],s)),o.$__send__(i,n)},t.$$s=a,t.$$arity=3,t.$$parameters=[["req","method_double"],["req","method_name"],["req","visibility"]],t)),a.method_is_proxied=!0)},d.$$arity=0,d.$$parameters=[]),e.defn(P,"$proxy_method_invoked",f=function(){var t,a=this,n=f.$$p,i=n||r,s=arguments.length,o=s-1;o<0&&(o=0),t=new Array(o);for(var c=1;c<s;c++)t[c-1]=arguments[c];n&&(f.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"proxy_method_invoked"),$(a.proxy,"message_received",[a.$method_name()].concat(e.to_a(t)),i.$to_proc())},f.$$arity=-2,f.$$parameters=[["req","_obj"],["rest","args"],["block","block"]]),e.defn(P,"$restore_original_method",h=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"restore_original_method"),i(t.$object_singleton_class()["$frozen?"]())?t.$show_frozen_warning():i(t.method_is_proxied)?(t.$definition_target().$__send__("remove_method",t.method_name),i(t.method_stasher["$method_is_stashed?"]())&&t.method_stasher.$restore(),t.$restore_original_visibility(),t.method_is_proxied=!1):r},h.$$arity=0,h.$$parameters=[]),e.defn(P,"$show_frozen_warning",m=function(){var t=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"show_frozen_warning"),e.const_get_relative(F,"RSpec").$warn_with("WARNING: rspec-mocks was unable to restore the original `"+t.method_name+"` method on "+t.object.$inspect()+" because it has been frozen.  If you reuse this object, `"+t.method_name+"` will continue to respond with its stub implementation.",s(["call_site","use_spec_location_as_call_site"],{call_site:r,use_spec_location_as_call_site:!0}))},m.$$arity=0,m.$$parameters=[]),e.defn(P,"$restore_original_visibility",g=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"restore_original_visibility"),i(i(t=a.original_visibility)?e.const_get_relative(F,"MethodReference")["$method_defined_at_any_visibility?"](a.$object_singleton_class(),a.method_name):t)?$(a.$object_singleton_class(),"__send__",e.to_a(a.original_visibility)):r},g.$$arity=0,g.$$parameters=[]),e.defn(P,"$verify",v=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"verify"),$(a.$expectations(),"each",[],(t=function(a){t.$$s;if(null==a&&(a=r),
t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"verify")}return a.$verify_messages_received()},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","e"]],t))},v.$$arity=0,v.$$parameters=[]),e.defn(P,"$reset",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.$restore_original_method(),t.$clear()},y.$$arity=0,y.$$parameters=[]),e.defn(P,"$clear",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.$expectations().$clear(),t.$stubs().$clear()},b.$$arity=0,b.$$parameters=[]),e.defn(P,"$message_expectation_class",x=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"message_expectation_class"),e.const_get_relative(F,"MessageExpectation")},x.$$arity=0,x.$$parameters=[]),e.defn(P,"$add_expectation",k=function(t,a,n,i){var s=this,o=k.$$p,c=o||r,_=r;o&&(k.$$p=null);var l=arguments.length;return 4!==l&&e.ac(l,4,this,"add_expectation"),s.$configure_method(),_=$(s.$message_expectation_class(),"new",[t,a,n,s,"expectation",i],c.$to_proc()),s.$expectations()["$<<"](_),_},k.$$arity=4,k.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["req","opts"],["block","implementation"]]),e.defn(P,"$build_expectation",q=function(t,a){var n=this,i=r,$=arguments.length;return 2!==$&&e.ac($,2,this,"build_expectation"),i=e.const_get_relative(F,"IGNORED_BACKTRACE_LINE"),n.$message_expectation_class().$new(t,a,i,n)},q.$$arity=2,q.$$parameters=[["req","error_generator"],["req","expectation_ordering"]]),e.defn(P,"$add_stub",w=function(t,a,n,i){var o=this,c=w.$$p,_=c||r,l=r;null==i&&(i=s([],{})),c&&(w.$$p=null);var u=arguments.length;return(u<3||u>4)&&e.ac(u,-4,this,"add_stub"),o.$configure_method(),l=$(o.$message_expectation_class(),"new",[t,a,n,o,"stub",i],_.$to_proc()),o.$stubs().$unshift(l),l},w.$$arity=-4,w.$$parameters=[["req","error_generator"],["req","expectation_ordering"],["req","expected_from"],["opt","opts"],["block","implementation"]]),e.defn(P,"$add_simple_stub",E=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_simple_stub"),a.$setup_simple_method_double(t,r,a.$stubs())},E.$$arity=2,E.$$parameters=[["req","method_name"],["req","response"]]),e.defn(P,"$add_simple_expectation",S=function(t,r,a,n){var i=this,$=arguments.length;return 4!==$&&e.ac($,4,this,"add_simple_expectation"),i.$setup_simple_method_double(t,r,i.$expectations(),a,n)},S.$$arity=4,S.$$parameters=[["req","method_name"],["req","response"],["req","error_generator"],["req","backtrace_line"]]),e.defn(P,"$setup_simple_method_double",M=function(t,a,n,i,$){var s=this,o=r;null==i&&(i=r),null==$&&($=r);var c=arguments.length;return(c<3||c>5)&&e.ac(c,-4,this,"setup_simple_method_double"),s.$define_proxy_method(),o=e.const_get_relative(F,"SimpleMessageExpectation").$new(t,a,i,$),n.$unshift(o),o},M.$$arity=-4,M.$$parameters=[["req","method_name"],["req","response"],["req","collection"],["opt","error_generator"],["opt","backtrace_line"]]),e.defn(P,"$add_default_stub",O=function(){var t,a=this,n=O.$$p,s=n||r,o=arguments.length,c=o-0;c<0&&(c=0),t=new Array(c);for(var _=0;_<o;_++)t[_-0]=arguments[_];return n&&(O.$$p=null),i(a.$stubs()["$any?"]())?r:$(a,"add_stub",e.to_a(t),s.$to_proc())},O.$$arity=-1,O.$$parameters=[["rest","args"],["block","implementation"]]),e.defn(P,"$remove_stub",A=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"remove_stub"),i(t.$stubs()["$empty?"]())&&t.$raise_method_not_stubbed_error(),t.$remove_stub_if_present()},A.$$arity=0,A.$$parameters=[]),e.defn(P,"$remove_stub_if_present",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"remove_stub_if_present"),i(t.$expectations()["$empty?"]())?t.$reset():t.$stubs().$clear()},R.$$arity=0,R.$$parameters=[]),e.defn(P,"$raise_method_not_stubbed_error",z=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_method_not_stubbed_error"),t.$raise(e.const_get_relative(F,"MockExpectationError"),"The method `"+t.$method_name()+"` was not stubbed or was already unstubbed")},z.$$arity=0,z.$$parameters=[]),i(e.const_get_qualified(e.const_get_relative(F,"Support"),"RubyFeatures")["$module_prepends_supported?"]())?(P.$private(),e.const_set(F[0],"RSpecPrependedModule",e.const_get_relative(F,"Class").$new(e.const_get_relative(F,"Module"))),e.defn(P,"$definition_target",j=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"definition_target"),a.definition_target=i(t=a.definition_target)?t:i(r=a.$usable_rspec_prepended_module())?r:a.$object_singleton_class()},j.$$arity=0,j.$$parameters=[]),e.defn(P,"$usable_rspec_prepended_module",T=function(){try{var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"usable_rspec_prepended_module"),$(a.proxy.$prepended_modules_of_singleton_class(),"each",[],(t=function(a){var n=t.$$s||this;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"usable_rspec_prepended_module")}if(i(e.const_get_relative(F,"RSpecPrependedModule")["$==="](a))&&e.ret(a),!i(a["$method_defined?"](n.$method_name())))return r;e.ret(n.$new_rspec_prepended_module())},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","mod"]],t)),r}catch(t){if(t===e.returner)return t.$v;throw t}},T.$$arity=0,T.$$parameters=[]),e.defn(P,"$new_rspec_prepended_module",I=function(){var t,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"new_rspec_prepended_module"),$(e.const_get_relative(F,"RSpecPrependedModule").$new(),"tap",[],(t=function(a){var n=t.$$s||this;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"new_rspec_prepended_module")}return n.$object_singleton_class().$__send__("prepend",a)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","mod"]],t))},I.$$arity=0,I.$$parameters=[])):(P.$private(),e.defn(P,"$definition_target",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"definition_target"),t.$object_singleton_class()},C.$$arity=0,C.$$parameters=[]))}(l[0],null,l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/method_reference"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$when_loaded","$method_implemented?","$!","$implemented?","$method_defined?","$original_method","$new","$visibility_from","$private","$defined?","$find_method","$public_method_defined?","$private_method_defined?","$protected_method_defined?","$tap","$instance_method_visibility_for","$nil?","$respond_to?","$method_defined_at_any_visibility?","$==","$<","$to_i","$[]","$split","$instance_method","$dup","$method","$method_visibility_for"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,$super,r){function n(){}var o,c,_,l,u,p,d,f,h,m=n=i(t,$super,"MethodReference",n),g=m.$$proto,v=[m].concat(r);g.object_reference=a,e.defn(m,"$initialize",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.object_reference=t,a.method_name=r},o.$$arity=2,o.$$parameters=[["req","object_reference"],["req","method_name"]]),e.defn(m,"$implemented?",c=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"implemented?"),$(r.object_reference,"when_loaded",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"implemented?")}return n["$method_implemented?"](r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","m"]],t))},c.$$arity=0,c.$$parameters=[]),e.defn(m,"$unimplemented?",_=function(){try{var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"unimplemented?"),$(r.object_reference,"when_loaded",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"unimplemented?")}e.ret(n["$implemented?"]()["$!"]())},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","_m"]],t)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$defined?",l=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"defined?"),$(r.object_reference,"when_loaded",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"defined?")}return n["$method_defined?"](r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","m"]],t))},l.$$arity=0,l.$$parameters=[]),e.defn(m,"$with_signature",u=function(){var t=this,r=u.$$p,n=r||a,i=a;r&&(u.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"with_signature"),s(i=t.$original_method())?e.yield1(n,e.const_get_qualified(e.const_get_relative(v,"Support"),"MethodSignature").$new(i)):a},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$visibility",p=function(){try{var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"visibility"),$(r.object_reference,"when_loaded",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"visibility")}e.ret(n.$visibility_from(r))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","m"]],t)),"public"}catch(t){if(t===e.returner)return t.$v;throw t}},p.$$arity=0,p.$$parameters=[]),m.$private(),e.defn(m,"$original_method",d=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"original_method"),$(r.object_reference,"when_loaded",[],(t=function(r){var n,i=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"original_method")}return s(n=i["$defined?"]())?i.$find_method(r):n},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","m"]],t))},d.$$arity=0,d.$$parameters=[]),e.defs(m,"$instance_method_visibility_for",f=function(t,r){var n=arguments.length;return 2!==n&&e.ac(n,2,this,"instance_method_visibility_for"),s(t["$public_method_defined?"](r))?"public":s(t["$private_method_defined?"](r))?"private":s(t["$protected_method_defined?"](r))?"protected":a},f.$$arity=2,f.$$parameters=[["req","klass"],["req","method_name"]]),function(t,r){t.$$proto,[t].concat(r);e.alias(t,"method_defined_at_any_visibility?","instance_method_visibility_for")}(e.get_singleton_class(m),v),e.defs(m,"$method_visibility_for",h=function(t,r){try{var n,i=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"method_visibility_for"),$(i.$instance_method_visibility_for(function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(t),v),r),"tap",[],(n=function(i){var $;n.$$s;if(null==i&&(i=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"method_visibility_for")}if(!s(s($=i["$nil?"]())?t["$respond_to?"](r,!1):$))return a;e.ret("public")},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","vis"]],n))}catch(t){if(t===e.returner)return t.$v;throw t}},h.$$arity=2,h.$$parameters=[["req","object"],["req","method_name"]])}(l[0],null,l),function(r,$super,n){function $(){}var o,c,_,l,u=$=i(r,$super,"InstanceMethodReference",$),p=u.$$proto,d=[u].concat(n);p.method_name=a,u.$private(),e.defn(u,"$method_implemented?",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_implemented?"),e.const_get_relative(d,"MethodReference")["$method_defined_at_any_visibility?"](t,r.method_name)},o.$$arity=1,o.$$parameters=[["req","mod"]]),e.alias(u,"method_defined?","method_implemented?"),s(e.const_get_relative(d,"RUBY_PLATFORM")["$=="]("java")?t(e.const_get_relative(d,"JRUBY_VERSION").$split(".")["$[]"](-1).$to_i(),5):e.const_get_relative(d,"RUBY_PLATFORM")["$=="]("java"))?e.defn(u,"$find_method",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$dup().$instance_method(r.method_name)},c.$$arity=1,c.$$parameters=[["req","mod"]]):e.defn(u,"$find_method",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$instance_method(r.method_name)},_.$$arity=1,_.$$parameters=[["req","mod"]]),e.defn(u,"$visibility_from",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_from"),e.const_get_relative(d,"MethodReference").$instance_method_visibility_for(t,r.method_name)},l.$$arity=1,l.$$parameters=[["req","mod"]])}(l[0],e.const_get_relative(l,"MethodReference"),l),function(t,$super,r){function n(){}var $,s,o,c,_=n=i(t,$super,"ObjectMethodReference",n),l=_.$$proto,u=[_].concat(r);l.method_name=a,_.$private(),e.defn(_,"$method_implemented?",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_implemented?"),t["$respond_to?"](r.method_name,!0)},$.$$arity=1,$.$$parameters=[["req","object"]]),e.defn(_,"$method_defined?",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_defined?"),function(e,t){e.$$proto,[e].concat(t);return e}(e.get_singleton_class(t),u)["$method_defined?"](r.method_name)},s.$$arity=1,s.$$parameters=[["req","object"]]),e.defn(_,"$find_method",o=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"find_method"),t.$method(r.method_name)},o.$$arity=1,o.$$parameters=[["req","object"]]),e.defn(_,"$visibility_from",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_from"),e.const_get_relative(u,"MethodReference").$method_visibility_for(t,r.method_name)},c.$$arity=1,c.$$parameters=[["req","object"]])}(l[0],e.const_get_relative(l,"MethodReference"),l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/mutate_const"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send,c=e.hash2,_=e.hash;return e.add_stubs(["$require_rspec_support","$extend","$attr_reader","$attr_accessor","$attr_writer","$name","$class","$new","$recursive_const_defined?","$previously_defined=","$-","$stubbed=","$hidden=","$previously_defined?","$recursive_const_get","$original_value=","$constant_mutator_for","$space","$to_constant","$unmutated","$to_proc","$raise_on_invalid_const","$mutate","$[]","$include","$normalize_const_name","$split","$pop","$full_constant_name","$original_value","$reset","$join","$get_const_defined_on","$__send__","$const_set","$verify_constants_to_transfer!","$transfer_nested_constants","$each","$should_transfer_nested_constants?","$respond_to?","$raise","$===","$==","$map","$constants_defined_on","$any?","$transfer_nested_constants?","$configuration","$inject","$const_defined_on?","$stub","$name_for","$private","$+","$register_constant_mutator","$lambda"]),e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_support("recursive_const_methods"),function(a,l){var u,p=u=i(a,"RSpec"),d=(p.$$proto,[p].concat(l));!function(a,l){var u,p=u=i(a,"Mocks"),d=(p.$$proto,[p].concat(l));!function(r,$super,a){function i(){}var c,_,l,u,p,d,f,h,m=i=$(r,$super,"Constant",i),g=m.$$proto,v=[m].concat(a);g.previously_defined=g.stubbed=g.hidden=n,m.$extend(e.const_get_qualified(e.const_get_relative(v,"Support"),"RecursiveConstMethods")),e.defn(m,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.name=t,r.previously_defined=!1,r.stubbed=!1,r.hidden=!1},c.$$arity=1,c.$$parameters=[["req","name"]]),m.$attr_reader("name"),m.$attr_accessor("original_value"),m.$attr_writer("previously_defined","stubbed","hidden"),e.defn(m,"$previously_defined?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"previously_defined?"),t.previously_defined},_.$$arity=0,_.$$parameters=[]),e.defn(m,"$mutated?",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"mutated?"),s(t=r.stubbed)?t:r.hidden},l.$$arity=0,l.$$parameters=[]),e.defn(m,"$stubbed?",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"stubbed?"),t.stubbed},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$hidden?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"hidden?"),t.hidden},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$to_s",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),"#<"+t.$class().$name()+" "+t.$name()+">"},d.$$arity=0,d.$$parameters=[]),e.alias(m,"inspect","to_s"),e.defs(m,"$unmutated",f=function(r){var a=this,i=n,$=n,c=arguments.length;return 1!==c&&e.ac(c,1,this,"unmutated"),i=a.$new(r),$=[a["$recursive_const_defined?"](r)],o(i,"previously_defined=",e.to_a($)),$[t($.length,1)],$=[!1],o(i,"stubbed=",e.to_a($)),$[t($.length,1)],$=[!1],o(i,"hidden=",e.to_a($)),$[t($.length,1)],s(i["$previously_defined?"]())&&($=[a.$recursive_const_get(r)],o(i,"original_value=",e.to_a($)),$[t($.length,1)]),i},f.$$arity=1,f.$$parameters=[["req","name"]]),e.defs(m,"$original",h=function(t){var r=this,a=n,i=arguments.length;return 1!==i&&e.ac(i,1,this,"original"),a=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$constant_mutator_for(t),s(a)?a.$to_constant():r.$unmutated(t)},h.$$arity=1,h.$$parameters=[["req","name"]])}(d[0],null,d),function(a,$super,i){function l(){}var u,p,d,f,h=l=$(a,$super,"ConstantMutator",l),m=(h.$$proto,[h].concat(i));h.$extend(e.const_get_qualified(e.const_get_relative(m,"Support"),"RecursiveConstMethods")),e.defs(h,"$stub",u=function(t,r,a){var i=this,$=n;null==a&&(a=c([],{}));var _=arguments.length;return(_<2||_>3)&&e.ac(_,-3,this,"stub"),$=function(){return s(o(i,"recursive_const_defined?",[t],i.$raise_on_invalid_const().$to_proc()))?e.const_get_relative(m,"DefinedConstantReplacer"):e.const_get_relative(m,"UndefinedConstantSetter")}(),i.$mutate($.$new(t,r,a["$[]"]("transfer_nested_constants"))),r},u.$$arity=-3,u.$$parameters=[["req","constant_name"],["req","value"],["opt","options"]]),e.defs(h,"$hide",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"hide"),r.$mutate(e.const_get_relative(m,"ConstantHider").$new(t,n,c([],{}))),n},p.$$arity=1,p.$$parameters=[["req","constant_name"]]),function(r,$super,a){function i(){}var c,_,l,u=i=$(r,$super,"BaseMutator",i),p=u.$$proto,d=[u].concat(a);p.full_constant_name=p.context_parts=p.reset_performed=n,u.$include(e.const_get_qualified(e.const_get_relative(d,"Support"),"RecursiveConstMethods")),u.$attr_reader("original_value","full_constant_name"),e.defn(u,"$initialize",c=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"initialize"),n.full_constant_name=n.$normalize_const_name(t),n.mutated_value=r,n.transfer_nested_constants=a,n.context_parts=n.full_constant_name.$split("::"),n.const_name=n.context_parts.$pop(),n.reset_performed=!1},c.$$arity=3,c.$$parameters=[["req","full_constant_name"],["req","mutated_value"],["req","transfer_nested_constants"]]),e.defn(u,"$to_constant",_=function(){var r=this,a=n,i=n,$=arguments.length;return 0!==$&&e.ac($,0,this,"to_constant"),a=e.const_get_relative(d,"Constant").$new(r.$full_constant_name()),i=[r.$original_value()],o(a,"original_value=",e.to_a(i)),i[t(i.length,1)],a},_.$$arity=0,_.$$parameters=[]),e.defn(u,"$idempotently_reset",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"idempotently_reset"),s(t.reset_performed)||t.$reset(),t.reset_performed=!0},l.$$arity=0,l.$$parameters=[])}(m[0],null,m),function(r,$super,a){function i(){}var c,_,l,u=i=$(r,$super,"ConstantHider",i),p=u.$$proto,d=[u].concat(a);p.context_parts=p.context=p.const_name=p.defined=p.original_value=n,e.defn(u,"$mutate",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mutate"),s(t.defined=t["$recursive_const_defined?"](t.$full_constant_name()))?(t.context=t.$recursive_const_get(t.context_parts.$join("::")),t.original_value=t.$get_const_defined_on(t.context,t.const_name),t.context.$__send__("remove_const",t.const_name)):n},c.$$arity=0,c.$$parameters=[]),e.defn(u,"$to_constant",_=function(){var r=this,a=_.$$p,i=n,$=n,c=n,l=n,u=n;a&&(_.$$p=null);var p=arguments.length;for(0!==p&&e.ac(p,0,this,"to_constant"),l=0,u=arguments.length,c=new Array(u);l<u;l++)c[l]=arguments[l];return s(r.defined)?(i=o(r,e.find_super_dispatcher(r,"to_constant",_,!1),c,a),$=[!0],o(i,"hidden=",e.to_a($)),$[t($.length,1)],$=[!0],o(i,"previously_defined=",e.to_a($)),$[t($.length,1)],i):e.const_get_relative(d,"Constant").$unmutated(r.$full_constant_name())},_.$$arity=0,_.$$parameters=[]),e.defn(u,"$reset",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),s(t.defined)?t.context.$const_set(t.const_name,t.original_value):n},l.$$arity=0,l.$$parameters=[])}(m[0],e.const_get_relative(m,"BaseMutator"),m),function(r,$super,a){function i(){}var c,l,u,p,d,f,h,m=i=$(r,$super,"DefinedConstantReplacer",i),g=m.$$proto,v=[m].concat(a);g.context_parts=g.context=g.const_name=g.mutated_value=g.constants_to_transfer=g.original_value=g.transfer_nested_constants=g.full_constant_name=n,e.defn(m,"$initialize",c=function(){var t,r=this,a=c.$$p,i=n,$=n,s=n,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(a&&(c.$$p=null),$=0,s=arguments.length,i=new Array(s);$<s;$++)i[$]=arguments[$];return o(r,e.find_super_dispatcher(r,"initialize",c,!1),i,a),r.constants_to_transfer=[]},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(m,"$mutate",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"mutate"),t.context=t.$recursive_const_get(t.context_parts.$join("::")),t.original_value=t.$get_const_defined_on(t.context,t.const_name),t.constants_to_transfer=t["$verify_constants_to_transfer!"](),t.context.$__send__("remove_const",t.const_name),t.context.$const_set(t.const_name,t.mutated_value),t.$transfer_nested_constants()},l.$$arity=0,l.$$parameters=[]),e.defn(m,"$to_constant",u=function(){var r=this,a=u.$$p,i=n,$=n,s=n,c=n,_=n;a&&(u.$$p=null);var l=arguments.length;for(0!==l&&e.ac(l,0,this,"to_constant"),c=0,_=arguments.length,s=new Array(_);c<_;c++)s[c]=arguments[c];return i=o(r,e.find_super_dispatcher(r,"to_constant",u,!1),s,a),$=[!0],o(i,"stubbed=",e.to_a($)),$[t($.length,1)],$=[!0],o(i,"previously_defined=",e.to_a($)),$[t($.length,1)],i},u.$$arity=0,u.$$parameters=[]),e.defn(m,"$reset",p=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"reset"),o(r.constants_to_transfer,"each",[],(t=function(r){var a=t.$$s||this;if(null==a.mutated_value&&(a.mutated_value=n),null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"reset")}return a.mutated_value.$__send__("remove_const",r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","const$"]],t)),r.context.$__send__("remove_const",r.const_name),r.context.$const_set(r.const_name,r.original_value)},p.$$arity=0,p.$$parameters=[]),e.defn(m,"$transfer_nested_constants",d=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"transfer_nested_constants"),o(r.constants_to_transfer,"each",[],(t=function(r){var a=t.$$s||this;if(null==a.mutated_value&&(a.mutated_value=n),null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"transfer_nested_constants")}return a.mutated_value.$const_set(r,a.$get_const_defined_on(a.$original_value(),r))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","const$"]],t))},d.$$arity=0,d.$$parameters=[]),e.defn(m,"$verify_constants_to_transfer!",f=function(){var r,a=this,i=n,$=n,c=arguments.length;return 0!==c&&e.ac(c,0,this,"verify_constants_to_transfer!"),s(a["$should_transfer_nested_constants?"]())?(o(_(a.original_value,"the original value",a.mutated_value,"the stubbed value"),"each",[],(r=function(t,a){var i=r.$$s||this;if(null==i.full_constant_name&&(i.full_constant_name=n),null==t&&(t=n),null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"verify_constants_to_transfer!")}return s(t["$respond_to?"]("constants"))?n:i.$raise(e.const_get_relative(v,"ArgumentError"),"Cannot transfer nested constants for "+i.full_constant_name+" since "+a+" is not a class or module and only classes and modules support nested constants.")},r.$$s=a,r.$$arity=2,r.$$parameters=[["req","value"],["req","description"]],r)),s(e.const_get_relative(v,"Array")["$==="](a.transfer_nested_constants))?(e.const_get_relative(v,"RUBY_VERSION")["$=="]("1.8.7")&&(a.transfer_nested_constants=o(a.transfer_nested_constants,"map",[],"to_s".$to_proc())),i=t(a.transfer_nested_constants,a.$constants_defined_on(a.original_value)),s(i["$any?"]())&&($=t(a.$constants_defined_on(a.original_value),a.transfer_nested_constants),a.$raise(e.const_get_relative(v,"ArgumentError"),"Cannot transfer nested constant(s) "+i.$join(" and ")+" for "+a.full_constant_name+" since they are not defined. Did you mean "+$.$join(" or ")+"?")),a.transfer_nested_constants):a.$constants_defined_on(a.original_value)):[]},f.$$arity=0,f.$$parameters=[]),e.defn(m,"$should_transfer_nested_constants?",h=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"should_transfer_nested_constants?"),!!s(r.transfer_nested_constants)||!!s(e.const_get_qualified(e.const_get_relative(v,"RSpec"),"Mocks").$configuration()["$transfer_nested_constants?"]())&&(s(t=r.original_value["$respond_to?"]("constants"))?r.mutated_value["$respond_to?"]("constants"):t)},h.$$arity=0,h.$$parameters=[])}(m[0],e.const_get_relative(m,"BaseMutator"),m),function(a,$super,i){function c(){}var _,l,u,p,d=c=$(a,$super,"UndefinedConstantSetter",c),f=d.$$proto,h=[d].concat(i);f.context_parts=f.parent=f.const_name=f.mutated_value=n,e.defn(d,"$mutate",_=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"mutate"),r.parent=o(r.context_parts,"inject",[e.const_get_relative(h,"Object")],(t=function(r,a){var i=t.$$s||this;if(null==r&&(r=n),null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"mutate")}return s(i["$const_defined_on?"](r,a))?i.$get_const_defined_on(r,a):e.const_get_relative(h,"ConstantMutator").$stub(i.$name_for(r,a),e.const_get_relative(h,"Module").$new())},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","klass"],["req","name"]],t)),r.parent.$const_set(r.const_name,r.mutated_value)},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$to_constant",l=function(){var r=this,a=l.$$p,i=n,$=n,s=n,c=n,_=n;a&&(l.$$p=null);var u=arguments.length;for(0!==u&&e.ac(u,0,this,"to_constant"),c=0,_=arguments.length,s=new Array(_);c<_;c++)s[c]=arguments[c];return i=o(r,e.find_super_dispatcher(r,"to_constant",l,!1),s,a),$=[!0],o(i,"stubbed=",e.to_a($)),$[t($.length,1)],$=[!1],o(i,"previously_defined=",e.to_a($)),$[t($.length,1)],i},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$reset",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.parent.$__send__("remove_const",t.const_name)},u.$$arity=0,u.$$parameters=[]),d.$private(),e.defn(d,"$name_for",p=function(t,a){var i=n,$=arguments.length;return 2!==$&&e.ac($,2,this,"name_for"),i=function(){return t["$=="](e.const_get_relative(h,"Object"))?"":t.$name()}(),r(r(i,"::"),a)},p.$$arity=2,p.$$parameters=[["req","parent"],["req","name"]])}(m[0],e.const_get_relative(m,"BaseMutator"),m),e.defs(h,"$mutate",d=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"mutate"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$register_constant_mutator(t),t.$mutate()},d.$$arity=1,d.$$parameters=[["req","mutator"]]),e.defs(h,"$raise_on_invalid_const",f=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"raise_on_invalid_const"),o(r,"lambda",[],(t=function(r,a){var i=t.$$s||this;if(null==r&&(r=n),null==a&&(a=n),t.$$is_lambda||t.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"raise_on_invalid_const")}return i.$raise("Cannot stub constant "+a+" on "+r+" since "+r+" is not a module.")},t.$$s=r,t.$$arity=2,t.$$parameters=[["req","const_name"],["req","failed_name"]],t))},f.$$arity=0,f.$$parameters=[])}(d[0],null,d)}(d[0],d)}(a[0],a)},Opal.modules["rspec/mocks/object_reference"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$===","$new","$raise","$inspect","$name","$!","$object","$private","$original_value","$original"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Mocks"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o=$=n(t,$super,"ObjectReference",$),c=(o.$$proto,[o].concat(a));e.defs(o,"$for",s=function(t,a){var n=this,$=r;null==a&&(a=!1);var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"for"),function(){return $=t,e.const_get_relative(c,"Module")["$==="]($)?e.const_get_relative(c,"DirectModuleReference").$new(t):e.const_get_relative(c,"String")["$==="]($)?e.const_get_relative(c,"NamedObjectReference").$new(t):i(a)?e.const_get_relative(c,"DirectObjectReference").$new(t):n.$raise(e.const_get_relative(c,"ArgumentError"),"Module or String expected, got "+t.$inspect())}()},s.$$arity=-2,s.$$parameters=[["req","object_module_or_name"],["opt","allow_direct_object_refs"]])}(c[0],null,c),function(t,$super,a){function i(){}var $,s,o,c,_,l=i=n(t,$super,"DirectObjectReference",i),u=l.$$proto,p=[l].concat(a);u.object=r,e.defn(l,"$initialize",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.object=t},$.$$arity=1,$.$$parameters=[["req","object"]]),e.defn(l,"$description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),t.object.$inspect()},s.$$arity=0,s.$$parameters=[]),e.defn(l,"$const_to_replace",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.$raise(e.const_get_relative(p,"ArgumentError"),"Can not perform constant replacement with an object.")},o.$$arity=0,o.$$parameters=[]),e.defn(l,"$defined?",c=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"defined?"),!0},c.$$arity=0,c.$$parameters=[]),e.defn(l,"$when_loaded",_=function(){var t=this,a=_.$$p,n=a||r;a&&(_.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"when_loaded"),e.yield1(n,t.object)},_.$$arity=0,_.$$parameters=[])}(c[0],null,c),function(t,$super,a){function i(){}var $,s=i=n(t,$super,"DirectModuleReference",i),o=s.$$proto;[s].concat(a);o.object=r,e.defn(s,"$const_to_replace",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.object.$name()},$.$$arity=0,$.$$parameters=[]),e.alias(s,"description","const_to_replace")}(c[0],e.const_get_relative(c,"DirectObjectReference"),c),function(t,$super,a){function $(){}var s,o,c,_,l,u=$=n(t,$super,"NamedObjectReference",$),p=u.$$proto,d=[u].concat(a);p.const_name=p.object=r,e.defn(u,"$initialize",s=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.const_name=t},s.$$arity=1,s.$$parameters=[["req","const_name"]]),e.defn(u,"$defined?",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"defined?"),t.$object()["$!"]()["$!"]()},o.$$arity=0,o.$$parameters=[]),e.defn(u,"$const_to_replace",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"const_to_replace"),t.const_name},c.$$arity=0,c.$$parameters=[]),e.alias(u,"description","const_to_replace"),e.defn(u,"$when_loaded",_=function(){var t=this,a=_.$$p,n=a||r;a&&(_.$$p=null);var $=arguments.length;return 0!==$&&e.ac($,0,this,"when_loaded"),i(t.$object())?e.yield1(n,t.$object()):r},_.$$arity=0,_.$$parameters=[["block","_block"]]),u.$private(),e.defn(u,"$object",l=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"object"),r.object=i(t=r.object)?t:e.const_get_relative(d,"Constant").$original(r.const_name).$original_value()},l.$$arity=0,l.$$parameters=[])}(c[0],null,c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/mocks/order_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$<<","$==","$find","$remaining_expectations","$to_proc","$each_with_index","$ordered?","$+","$include?","$ready_for?","$consume","$raise_out_of_order_error","$expectations_invoked_in_order?","$clear","$empty?","$private","$[]","$invoked_expectations","$expected_invocations","$select","$compact","$map","$expectation_for"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k=o=i(r,$super,"OrderGroup",o),q=k.$$proto;[k].concat(n);q.expectations=q.invocation_order=q.index=a,e.defn(k,"$initialize",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.expectations=[],t.invocation_order=[],t.index=0},c.$$arity=0,c.$$parameters=[]),e.defn(k,"$register",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register"),r.expectations["$<<"](t)},_.$$arity=1,_.$$parameters=[["req","expectation"]]),
e.defn(k,"$invoked",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"invoked"),r.invocation_order["$<<"](t)},l.$$arity=1,l.$$parameters=[["req","message"]]),e.defn(k,"$ready_for?",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"ready_for?"),$(r.$remaining_expectations(),"find",[],"ordered?".$to_proc())["$=="](t)},u.$$arity=1,u.$$parameters=[["req","expectation"]]),e.defn(k,"$consume",p=function(){try{var r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"consume"),$(n.$remaining_expectations(),"each_with_index",[],(r=function(n,i){var $=r.$$s||this;if(null==$.index&&($.index=a),null==n&&(n=a),null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"consume")}if(!s(n["$ordered?"]()))return a;$.index=t($.index,t(i,1)),e.ret(n)},r.$$s=n,r.$$arity=2,r.$$parameters=[["req","expectation"],["req","index"]],r)),a}catch(t){if(t===e.returner)return t.$v;throw t}},p.$$arity=0,p.$$parameters=[]),e.defn(k,"$handle_order_constraint",d=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"handle_order_constraint"),s(s(r=t["$ordered?"]())?n.$remaining_expectations()["$include?"](t):r)?s(n["$ready_for?"](t))?n.$consume():t.$raise_out_of_order_error():a},d.$$arity=1,d.$$parameters=[["req","expectation"]]),e.defn(k,"$verify_invocation_order",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"verify_invocation_order"),s(r["$expectations_invoked_in_order?"]())||t.$raise_out_of_order_error(),!0},f.$$arity=1,f.$$parameters=[["req","expectation"]]),e.defn(k,"$clear",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.index=0,t.invocation_order.$clear(),t.expectations.$clear()},h.$$arity=0,h.$$parameters=[]),e.defn(k,"$empty?",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.expectations["$empty?"]()},m.$$arity=0,m.$$parameters=[]),k.$private(),e.defn(k,"$remaining_expectations",g=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"remaining_expectations"),s(t=r.expectations["$[]"](e.Range.$new(r.index,-1,!1)))?t:[]},g.$$arity=0,g.$$parameters=[]),e.defn(k,"$expectations_invoked_in_order?",v=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expectations_invoked_in_order?"),t.$invoked_expectations()["$=="](t.$expected_invocations())},v.$$arity=0,v.$$parameters=[]),e.defn(k,"$invoked_expectations",y=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"invoked_expectations"),$(r.expectations,"select",[],(t=function(r){var n,i=t.$$s||this;if(null==i.invocation_order&&(i.invocation_order=a),null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"invoked_expectations")}return s(n=r["$ordered?"]())?i.invocation_order["$include?"](r):n},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","e"]],t))},y.$$arity=0,y.$$parameters=[]),e.defn(k,"$expected_invocations",b=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expected_invocations"),$(r.invocation_order,"map",[],(t=function(r){var n=t.$$s||this;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"expected_invocations")}return n.$expectation_for(r)},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","invocation"]],t)).$compact()},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$expectation_for",x=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"expectation_for"),$(n.expectations,"find",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"expectation_for")}return t["$=="](n)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","e"]],r))},x.$$arity=1,x.$$parameters=[["req","message"]])}(l[0],null,l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/proxy"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.hash2,o=e.truthy;return e.add_stubs(["$new","$==","$orig_object","$object","$matches?","$message","$args","$[]=","$-","$attr_reader","$fetch","$first_non_rspec_line","$method_double_for","$null_object?","$!","$add_default_stub","$add_expectation","$to_proc","$add_simple_expectation","$build_expectation","$any?","$expectations","$raise_expectation_on_mocked_method","$stubs","$raise_expectation_on_unstubbed_method","$each","$safe_invoke","$call","$matches_name_but_not_args","$raise_unexpected_message_args_error","$add_stub","$add_simple_stub","$remove_stub","$remove_stub_if_present","$each_value","$verify","$clear","$find","$negative_expectation_for?","$invoked","$<<","$record_message_received","$find_matching_expectation","$find_matching_method_stub","$called_max_times?","$actual_received_count_matters?","$increase_actual_received_count!","$find_almost_matching_expectation","$expected_messages_received?","$advise","$invoke","$has_negative_expectation?","$find_almost_matching_stub","$raise_missing_default_stub_error","$===","$__send__","$superclass","$raise_unexpected_message_error","$module_prepends_supported?","$ancestors","$index","$[]","$prepended_modules_of","$singleton_class","$private","$to_sym","$find_best_matching_expectation_for","$__disallow_further_usage!","$any_instance_class_recorder_observing_method?","$class","$build_alias_method_name","$any_instance_recorder_for","$space","$method_handle_for","$configure_method","$method_visibility_for","$reset","$any_instance_recorders_from_ancestry_of","$notify_received_message","$already_observing?","$nil?","$superclass_proxy","$original_unbound_method_handle_from_ancestor_for","$bind","$protected","$unbind","$original_method","$proxy_for","$include","$attr_accessor","$warn_about_expectations?","$warn"]),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Mocks"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P,N,F,B,D,H,L=c=i(r,$super,"Proxy",c),U=L.$$proto,G=[L].concat(n);U.null_object=U.object=U.error_generator=U.order_group=U.messages_received=U.method_doubles=U.prepended_modules_of_singleton_class=a,e.const_set(G[0],"SpecificMessage",$(e.const_get_relative(G,"Struct"),"new",["object","message","args"],(_=function(){var t,r=_.$$s||this;if(_.$$is_lambda||_.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"<class:Proxy>")}return e.def(r,"$==",t=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t.$orig_object()["$=="](r.$object())?$(t,"matches?",[r.$message()].concat(e.to_a(r.$args()))):t.$orig_object()["$=="](r.$object())},t.$$arity=1,t.$$parameters=[["req","expectation"]]),a&&"=="},_.$$s=L,_.$$arity=0,_.$$parameters=[],_))),e.defn(L,"$ensure_implemented",l=function(){var e,t=arguments.length,r=t-0;r<0&&(r=0),e=new Array(r);for(var n=0;n<t;n++)e[n-0]=arguments[n];return a},l.$$arity=-1,l.$$parameters=[["rest","_args"]]),e.defn(L,"$initialize",u=function(r,n,i,o){var c,_=this;null==i&&(i=a),null==o&&(o=s([],{}));var l=arguments.length;return(l<2||l>4)&&e.ac(l,-3,this,"initialize"),_.object=r,_.order_group=n,_.name=i,_.error_generator=e.const_get_relative(G,"ErrorGenerator").$new(r,i),_.messages_received=[],_.options=o,_.null_object=!1,_.method_doubles=$(e.const_get_relative(G,"Hash"),"new",[],(c=function(r,n){var i=c.$$s||this,s=a;if(null==i.object&&(i.object=a),null==r&&(r=a),null==n&&(n=a),c.$$is_lambda||c.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"initialize")}return s=[n,e.const_get_relative(G,"MethodDouble").$new(i.object,n,i)],$(r,"[]=",e.to_a(s)),s[t(s.length,1)]},c.$$s=_,c.$$arity=2,c.$$parameters=[["req","h"],["req","k"]],c))},u.$$arity=-3,u.$$parameters=[["req","object"],["req","order_group"],["opt","name"],["opt","options"]]),L.$attr_reader("object"),e.defn(L,"$null_object?",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"null_object?"),t.null_object},p.$$arity=0,p.$$parameters=[]),e.defn(L,"$as_null_object",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),t.null_object=!0,t.object},d.$$arity=0,d.$$parameters=[]),e.defn(L,"$original_method_handle_for",f=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"original_method_handle_for"),a},f.$$arity=1,f.$$parameters=[["req","_message"]]),e.defn(L,"$add_message_expectation",h=function(t,r){var n,i,c,_=this,l=h.$$p,u=l||a,p=a,d=a;null==r&&(r=s([],{})),l&&(h.$$p=null);var f=arguments.length;return(f<1||f>2)&&e.ac(f,-2,this,"add_message_expectation"),p=$(r,"fetch",["expected_from"],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add_message_expectation")}return e.const_get_relative(G,"CallerFilter").$first_non_rspec_line()},n.$$s=_,n.$$arity=0,n.$$parameters=[],n)),d=_.$method_double_for(t),o(o(i=_["$null_object?"]())?u["$!"]():i)&&$(d,"add_default_stub",[_.error_generator,_.order_group,p,r],(c=function(){var t=c.$$s||this;if(null==t.object&&(t.object=a),c.$$is_lambda||c.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"add_message_expectation")}return t.object},c.$$s=_,c.$$arity=0,c.$$parameters=[],c)),$(d,"add_expectation",[_.error_generator,_.order_group,p,r],u.$to_proc())},h.$$arity=-2,h.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(L,"$add_simple_expectation",m=function(t,r,a){var n=this,i=arguments.length;return 3!==i&&e.ac(i,3,this,"add_simple_expectation"),n.$method_double_for(t).$add_simple_expectation(t,r,n.error_generator,a)},m.$$arity=3,m.$$parameters=[["req","method_name"],["req","response"],["req","location"]]),e.defn(L,"$build_expectation",g=function(t){var r=this,n=a,i=arguments.length;return 1!==i&&e.ac(i,1,this,"build_expectation"),n=r.$method_double_for(t),n.$build_expectation(r.error_generator,r.order_group)},g.$$arity=1,g.$$parameters=[["req","method_name"]]),e.defn(L,"$replay_received_message_on",v=function(t){var r,n,i=this,s=v.$$p,c=s||a,_=a,l=a;s&&(v.$$p=null);var u=arguments.length;return 1!==u&&e.ac(u,1,this,"replay_received_message_on"),_=t.$message(),l=i.$method_double_for(_),o(l.$expectations()["$any?"]())&&i.error_generator.$raise_expectation_on_mocked_method(_),o(o(r=i["$null_object?"]())?r:l.$stubs()["$any?"]())||i.error_generator.$raise_expectation_on_unstubbed_method(_),$(i.messages_received,"each",[],(n=function(r){var i,s,_,l;n.$$s;if(null==r&&(r=a),r=e.to_ary(r),i=e.slice.call(r,0,r.length),s=i.splice(0,1)[0],null==s&&(s=a),_=i.splice(0,1)[0],null==_&&(_=a),l=i.splice(0,1)[0],null==l&&(l=a),n.$$is_lambda||n.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"replay_received_message_on")}return o($(t,"matches?",[s].concat(e.to_a(_))))?(t.$safe_invoke(a),o(c)?$(c,"call",e.to_a(_)):a):a},n.$$s=i,n.$$arity=1,n.$$parameters=[["req"]],n.$$has_top_level_mlhs_arg=!0,n))},v.$$arity=1,v.$$parameters=[["req","expectation"],["block","block"]]),e.defn(L,"$check_for_unexpected_arguments",y=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"check_for_unexpected_arguments"),$(n.messages_received,"each",[],(r=function(n){var i,s,c,_,l=r.$$s||this;if(null==n&&(n=a),n=e.to_ary(n),i=e.slice.call(n,0,n.length),s=i.splice(0,1)[0],null==s&&(s=a),c=i.splice(0,1)[0],null==c&&(c=a),_=i.splice(0,1)[0],null==_&&(_=a),r.$$is_lambda||r.$$define_meth){var u=arguments.length;1!==u&&e.block_ac(u,1,"check_for_unexpected_arguments")}return o($(t,"matches_name_but_not_args",[s].concat(e.to_a(c))))?$(l,"raise_unexpected_message_args_error",[t].concat(e.to_a(c))):a},r.$$s=n,r.$$arity=1,r.$$parameters=[["req"]],r.$$has_top_level_mlhs_arg=!0,r))},y.$$arity=1,y.$$parameters=[["req","expectation"]]),e.defn(L,"$add_stub",b=function(t,r){var n,i=this,o=b.$$p,c=o||a,_=a;null==r&&(r=s([],{})),o&&(b.$$p=null);var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"add_stub"),_=$(r,"fetch",["expected_from"],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"add_stub")}return e.const_get_relative(G,"CallerFilter").$first_non_rspec_line()},n.$$s=i,n.$$arity=0,n.$$parameters=[],n)),$(i.$method_double_for(t),"add_stub",[i.error_generator,i.order_group,_,r],c.$to_proc())},b.$$arity=-2,b.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),e.defn(L,"$add_simple_stub",x=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"add_simple_stub"),a.$method_double_for(t).$add_simple_stub(t,r)},x.$$arity=2,x.$$parameters=[["req","method_name"],["req","response"]]),e.defn(L,"$remove_stub",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"remove_stub"),r.$method_double_for(t).$remove_stub()},k.$$arity=1,k.$$parameters=[["req","method_name"]]),e.defn(L,"$remove_stub_if_present",q=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"remove_stub_if_present"),r.$method_double_for(t).$remove_stub_if_present()},q.$$arity=1,q.$$parameters=[["req","method_name"]]),e.defn(L,"$verify",w=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"verify"),$(r.method_doubles,"each_value",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"verify")}return r.$verify()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","d"]],t))},w.$$arity=0,w.$$parameters=[]),e.defn(L,"$reset",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.messages_received.$clear()},E.$$arity=0,E.$$parameters=[]),e.defn(L,"$received_message?",S=function(t){var r,n,i=this,s=S.$$p,o=s||a,c=arguments.length,_=c-1;_<0&&(_=0),n=new Array(_);for(var l=1;l<c;l++)n[l-1]=arguments[l];s&&(S.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"received_message?"),$(i.messages_received,"any?",[],(r=function(i){r.$$s;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"received_message?")}return i["$=="]([t,n,o])},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","array"]],r))},S.$$arity=-2,S.$$parameters=[["req","method_name"],["rest","args"],["block","block"]]),e.defn(L,"$has_negative_expectation?",M=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"has_negative_expectation?"),$(n.$method_double_for(t).$expectations(),"find",[],(r=function(n){r.$$s;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"has_negative_expectation?")}return n["$negative_expectation_for?"](t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","expectation"]],r))},M.$$arity=1,M.$$parameters=[["req","message"]]),e.defn(L,"$record_message_received",O=function(t){var r,n=this,i=O.$$p,$=i||a,s=arguments.length,o=s-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<s;c++)r[c-1]=arguments[c];i&&(O.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"record_message_received"),n.order_group.$invoked(e.const_get_relative(G,"SpecificMessage").$new(n.$object(),t,r)),n.messages_received["$<<"]([t,r,$])},O.$$arity=-2,O.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(L,"$message_received",A=function(t){var r,n,i,s,c=this,_=A.$$p,l=_||a,u=a,p=a,d=arguments.length,f=d-1;f<0&&(f=0),s=new Array(f);for(var h=1;h<d;h++)s[h-1]=arguments[h];_&&(A.$$p=null);var m=arguments.length;return m<1&&e.ac(m,-2,this,"message_received"),$(c,"record_message_received",[t].concat(e.to_a(s)),l.$to_proc()),u=$(c,"find_matching_expectation",[t].concat(e.to_a(s))),p=$(c,"find_matching_method_stub",[t].concat(e.to_a(s))),o(o(r=o(n=o(i=p)?u:i)?u["$called_max_times?"]():n)?r:o(n=p)?u["$!"]():n)?(o(o(r=u)?u["$actual_received_count_matters?"]():r)&&u["$increase_actual_received_count!"](),o(u=$(c,"find_almost_matching_expectation",[t].concat(e.to_a(s))))&&(o(u["$expected_messages_received?"]())||$(u,"advise",e.to_a(s))),$(p,"invoke",[a].concat(e.to_a(s)),l.$to_proc())):o(u)?$(u,"invoke",[p].concat(e.to_a(s)),l.$to_proc()):o(u=$(c,"find_almost_matching_expectation",[t].concat(e.to_a(s))))?(o(u["$expected_messages_received?"]())||o(c["$null_object?"]())&&$(u,"advise",e.to_a(s)),o(o(r=c["$null_object?"]())?r:c["$has_negative_expectation?"](t)["$!"]())?$(c,"raise_unexpected_message_args_error",[u].concat(e.to_a(s))):a):o(p=$(c,"find_almost_matching_stub",[t].concat(e.to_a(s))))?($(p,"advise",e.to_a(s)),$(c,"raise_missing_default_stub_error",[p].concat(e.to_a(s)))):o(e.const_get_relative(G,"Class")["$==="](c.object))?$(c.object.$superclass(),"__send__",[t].concat(e.to_a(s)),l.$to_proc()):$(c.object,"__send__",["method_missing",t].concat(e.to_a(s)),l.$to_proc())},A.$$arity=-2,A.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(L,"$raise_unexpected_message_error",R=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var s=1;s<n;s++)r[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_unexpected_message_error"),$(a.error_generator,"raise_unexpected_message_error",[t].concat(e.to_a(r)))},R.$$arity=-2,R.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(L,"$raise_unexpected_message_args_error",z=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var s=1;s<n;s++)r[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_unexpected_message_args_error"),$(a.error_generator,"raise_unexpected_message_args_error",[t].concat(e.to_a(r)))},z.$$arity=-2,z.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(L,"$raise_missing_default_stub_error",j=function(t){var r,a=this,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var s=1;s<n;s++)r[s-1]=arguments[s];var o=arguments.length;return o<1&&e.ac(o,-2,this,"raise_missing_default_stub_error"),$(a.error_generator,"raise_missing_default_stub_error",[t].concat(e.to_a(r)))},j.$$arity=-2,j.$$parameters=[["req","expectation"],["rest","args"]]),e.defn(L,"$visibility_for",T=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"visibility_for"),"public"},T.$$arity=1,T.$$parameters=[["req","_method_name"]]),o(e.const_get_qualified(e.const_get_relative(G,"Support"),"RubyFeatures")["$module_prepends_supported?"]())&&(e.defs(L,"$prepended_modules_of",I=function(t){var r,n=a,i=a,$=arguments.length;return 1!==$&&e.ac($,1,this,"prepended_modules_of"),n=t.$ancestors(),i=o(r=n.$index(t))?r:0,n["$[]"](0,i)},I.$$arity=1,I.$$parameters=[["req","klass"]]),e.defn(L,"$prepended_modules_of_singleton_class",C=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"prepended_modules_of_singleton_class"),r.prepended_modules_of_singleton_class=o(t=r.prepended_modules_of_singleton_class)?t:e.const_get_qualified(e.const_get_qualified(e.const_get_relative(G,"RSpec"),"Mocks"),"Proxy").$prepended_modules_of(r.object.$singleton_class())},C.$$arity=0,C.$$parameters=[])),L.$private(),e.defn(L,"$method_double_for",P=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"method_double_for"),r.method_doubles["$[]"](t.$to_sym())},P.$$arity=1,P.$$parameters=[["req","message"]]),e.defn(L,"$find_matching_expectation",N=function(t){var r,n,i=this,s=arguments.length,o=s-1;o<0&&(o=0),n=new Array(o);for(var c=1;c<s;c++)n[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"find_matching_expectation"),$(i,"find_best_matching_expectation_for",[t],(r=function(i){r.$$s;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_matching_expectation")}return $(i,"matches?",[t].concat(e.to_a(n)))},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","expectation"]],r))},N.$$arity=-2,N.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(L,"$find_almost_matching_expectation",F=function(t){var r,n,i=this,s=arguments.length,o=s-1;o<0&&(o=0),n=new Array(o);for(var c=1;c<s;c++)n[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"find_almost_matching_expectation"),$(i,"find_best_matching_expectation_for",[t],(r=function(i){r.$$s;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_almost_matching_expectation")}return $(i,"matches_name_but_not_args",[t].concat(e.to_a(n)))},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","expectation"]],r))},F.$$arity=-2,F.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(L,"$find_best_matching_expectation_for",B=function(t){try{var r,n=this,i=B.$$p,s=i||a,c=a;i&&(B.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"find_best_matching_expectation_for"),c=a,$(n.$method_double_for(t).$expectations(),"each",[],(r=function(t){var n;r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"find_best_matching_expectation_for")}return o(e.yield1(s,t))?(o(t["$called_max_times?"]())||e.ret(t),c=o(n=c)?n:t):a},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","expectation"]],r)),c}catch(t){if(t===e.returner)return t.$v;throw t}},B.$$arity=1,B.$$parameters=[["req","method_name"]]),e.defn(L,"$find_matching_method_stub",D=function(t){var r,n,i=this,s=arguments.length,o=s-1;o<0&&(o=0),n=new Array(o);for(var c=1;c<s;c++)n[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"find_matching_method_stub"),$(i.$method_double_for(t).$stubs(),"find",[],(r=function(i){r.$$s;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_matching_method_stub")}return $(i,"matches?",[t].concat(e.to_a(n)))},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","stub"]],r))},D.$$arity=-2,D.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(L,"$find_almost_matching_stub",H=function(t){var r,n,i=this,s=arguments.length,o=s-1;o<0&&(o=0),n=new Array(o);for(var c=1;c<s;c++)n[c-1]=arguments[c];var _=arguments.length;return _<1&&e.ac(_,-2,this,"find_almost_matching_stub"),$(i.$method_double_for(t).$stubs(),"find",[],(r=function(i){r.$$s;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"find_almost_matching_stub")}return $(i,"matches_name_but_not_args",[t].concat(e.to_a(n)))},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","stub"]],r))},H.$$arity=-2,H.$$parameters=[["req","method_name"],["rest","args"]])}(u[0],null,u),function(t,$super,r){function n(){}var s,o=n=i(t,$super,"TestDoubleProxy",n),c=o.$$proto;[o].concat(r);c.method_doubles=a,e.defn(o,"$reset",s=function(){var t=this,r=s.$$p,n=a,i=a,o=a;r&&(s.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"reset"),i=0,o=arguments.length,n=new Array(o);i<o;i++)n[i]=arguments[i];return t.method_doubles.$clear(),t.$object()["$__disallow_further_usage!"](),$(t,e.find_super_dispatcher(t,"reset",s,!1),n,r)},s.$$arity=0,s.$$parameters=[])}(u[0],e.const_get_relative(u,"Proxy"),u),function(t,$super,r){function n(){}var s,c,_,l,u,p,d,f=n=i(t,$super,"PartialDoubleProxy",n),h=f.$$proto,m=[f].concat(r);h.object=h.method_doubles=a,e.defn(f,"$original_method_handle_for",s=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"original_method_handle_for");try{return o(r["$any_instance_class_recorder_observing_method?"](r.object.$class(),t))&&(t=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_recorder_for(r.object.$class()).$build_alias_method_name(t)),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Support").$method_handle_for(r.object,t)}catch(t){if(!e.rescue(t,[e.const_get_relative(m,"NameError")]))throw t;try{return a}finally{e.pop_exception()}}},s.$$arity=1,s.$$parameters=[["req","message"]]),e.defn(f,"$add_simple_expectation",c=function(t){var r=this,n=c.$$p,i=a,s=a,o=a;n&&(c.$$p=null);var _=arguments.length;for(3!==_&&e.ac(_,3,this,"add_simple_expectation"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return r.$method_double_for(t).$configure_method(),$(r,e.find_super_dispatcher(r,"add_simple_expectation",c,!1),i,n)},c.$$arity=3,c.$$parameters=[["req","method_name"],["req","response"],["req","location"]]),e.defn(f,"$add_simple_stub",_=function(t){var r=this,n=_.$$p,i=a,s=a,o=a;n&&(_.$$p=null);var c=arguments.length;for(2!==c&&e.ac(c,2,this,"add_simple_stub"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return r.$method_double_for(t).$configure_method(),$(r,e.find_super_dispatcher(r,"add_simple_stub",_,!1),i,n)},_.$$arity=2,_.$$parameters=[["req","method_name"],["req","response"]]),e.defn(f,"$visibility_for",l=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"visibility_for"),o(r=e.const_get_relative(m,"MethodReference").$method_visibility_for(a.object,t))?r:"public"},l.$$arity=1,l.$$parameters=[["req","method_name"]]),e.defn(f,"$reset",u=function(){var t,r=this,n=u.$$p,i=a,s=a,o=a;n&&(u.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"reset"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return $(r.method_doubles,"each_value",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"reset")}return r.$reset()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","d"]],t)),$(r,e.find_super_dispatcher(r,"reset",u,!1),i,n)},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$message_received",p=function(t){var r,n,i=this,s=p.$$p,o=s||a,c=a,_=a,l=a,u=arguments.length,d=u-1;d<0&&(d=0),n=new Array(d);for(var f=1;f<u;f++)n[f-1]=arguments[f];s&&(p.$$p=null);var h=arguments.length;for(h<1&&e.ac(h,-2,this,"message_received"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return $(e.const_get_qualified(e.const_get_relative(m,"RSpec"),"Mocks").$space().$any_instance_recorders_from_ancestry_of(i.$object()),"each",[],(r=function(i){var $=r.$$s||this;if(null==i&&(i=a),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"message_received")}return i.$notify_received_message($.$object(),t,n,o)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","subscriber"]],r)),$(i,e.find_super_dispatcher(i,"message_received",p,!1),c,s)},p.$$arity=-2,p.$$parameters=[["req","message"],["rest","args"],["block","block"]]),f.$private(),e.defn(f,"$any_instance_class_recorder_observing_method?",d=function(t,r){var n,i=this,$=a,s=a,c=a,_=arguments.length;return 2!==_&&e.ac(_,2,this,"any_instance_class_recorder_observing_method?"),$=!0,s=e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_recorder_for(t,$),!!o(o(n=s)?s["$already_observing?"](r):n)||(c=t.$superclass(),!o(c["$nil?"]())&&i["$any_instance_class_recorder_observing_method?"](c,r))},d.$$arity=2,d.$$parameters=[["req","klass"],["req","method_name"]])}(u[0],e.const_get_relative(u,"Proxy"),u),function(t,r){var i,s,c,_,l,u=i=n(t,"PartialClassDoubleProxyMethods");u.$$proto,[u].concat(r);e.defn(u,"$initialize",s=function(t){var r,a=this,n=s.$$p,i=arguments.length,o=i-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<i;c++)r[c-1]=arguments[c];n&&(s.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"initialize"),a.source_space=t,$(a,e.find_super_dispatcher(a,"initialize",s,!1),e.to_a(r),null)},s.$$arity=-2,s.$$parameters=[["req","source_space"],["rest","args"]]),e.defn(u,"$original_method_handle_for",c=function(t){var r,n=this,i=c.$$p,s=a,_=a,l=a,u=a;i&&(c.$$p=null);var p=arguments.length;for(1!==p&&e.ac(p,1,this,"original_method_handle_for"),l=0,u=arguments.length,_=new Array(u);l<u;l++)_[l]=arguments[l];return s=o(r=n.$superclass_proxy())?n.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t.$to_sym()):r,o(s)?s.$bind(n.$object()):$(n,e.find_super_dispatcher(n,"original_method_handle_for",c,!1),_,i)},c.$$arity=1,c.$$parameters=[["req","message"]]),u.$protected(),e.defn(u,"$original_unbound_method_handle_from_ancestor_for",_=function(t){try{var r,n=this,i=a;null==n.method_doubles&&(n.method_doubles=a);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"original_unbound_method_handle_from_ancestor_for"),i=$(n.method_doubles,"fetch",[t],(r=function(){var a,n=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"original_unbound_method_handle_from_ancestor_for")}e.ret(o(a=n.$superclass_proxy())?n.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t):a)},r.$$s=n,r.$$arity=0,r.$$parameters=[],r)),i.$original_method().$unbind()}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=1,_.$$parameters=[["req","message"]]),e.defn(u,"$superclass_proxy",l=function(){var t,r=this,n=a;null==r.superclass_proxy&&(r.superclass_proxy=a),null==r.source_space&&(r.source_space=a);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"superclass_proxy"),o(null!=(t=r.superclass_proxy)&&t!==a?"instance-variable":a)?r.superclass_proxy:o(n=r.$object().$superclass())?r.superclass_proxy=r.source_space.$proxy_for(n):r.superclass_proxy=a},l.$$arity=0,l.$$parameters=[])}(u[0],u),function(t,$super,r){function a(){}var n=a=i(t,$super,"PartialClassDoubleProxy",a),$=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative($,"PartialClassDoubleProxyMethods"))}(u[0],e.const_get_relative(u,"PartialDoubleProxy"),u),function(t,$super,r){function n(){}var c,_,l,u,p,d=n=i(t,$super,"ProxyForNil",n),f=(d.$$proto,[d].concat(r));e.defn(d,"$initialize",c=function(t){var r=this,n=c.$$p;n&&(c.$$p=null);var i=arguments.length;return 1!==i&&e.ac(i,1,this,"initialize"),r.warn_about_expectations=!0,$(r,e.find_super_dispatcher(r,"initialize",c,!1),[a,t],null)},c.$$arity=1,c.$$parameters=[["req","order_group"]]),d.$attr_accessor("warn_about_expectations"),e.alias(d,"warn_about_expectations?","warn_about_expectations"),e.defn(d,"$add_message_expectation",_=function(t,r){var n=this,i=_.$$p,c=a,l=a,u=a;null==r&&(r=s([],{})),i&&(_.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"add_message_expectation"),l=0,u=arguments.length,c=new Array(u);l<u;l++)c[l]=arguments[l];return o(n["$warn_about_expectations?"]())&&n.$warn(t),$(n,e.find_super_dispatcher(n,"add_message_expectation",_,!1),c,i)},_.$$arity=-2,_.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(d,"$add_negative_message_expectation",l=function(t,r){var n=this,i=l.$$p,s=a,c=a,_=a;i&&(l.$$p=null);var u=arguments.length;for(2!==u&&e.ac(u,2,this,"add_negative_message_expectation"),c=0,_=arguments.length,s=new Array(_);c<_;c++)s[c]=arguments[c];return o(n["$warn_about_expectations?"]())&&n.$warn(r),$(n,e.find_super_dispatcher(n,"add_negative_message_expectation",l,!1),s,i)},l.$$arity=2,l.$$parameters=[["req","location"],["req","method_name"],["block","implementation"]]),e.defn(d,"$add_stub",u=function(t,r){var n=this,i=u.$$p,c=a,_=a,l=a;null==r&&(r=s([],{})),i&&(u.$$p=null);var p=arguments.length;for((p<1||p>2)&&e.ac(p,-2,this,"add_stub"),_=0,l=arguments.length,c=new Array(l);_<l;_++)c[_]=arguments[_];return o(n["$warn_about_expectations?"]())&&n.$warn(t),$(n,e.find_super_dispatcher(n,"add_stub",u,!1),c,i)},u.$$arity=-2,u.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),d.$private(),e.defn(d,"$warn",p=function(t){var r=a,n=arguments.length;return 1!==n&&e.ac(n,1,this,"warn"),r=e.const_get_relative(f,"CallerFilter").$first_non_rspec_line(),e.const_get_relative(f,"Kernel").$warn("An expectation of :"+t+" was set on nil. Called from "+r+". Use allow_message_expectations_on_nil to disable warnings.")},p.$$arity=1,p.$$parameters=[["req","method_name"]])}(u[0],e.const_get_relative(u,"PartialDoubleProxy"),u)}(u[0],u)}(r[0],r)},Opal.modules.securerandom=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.send;return e.add_stubs(["$gsub"]),function(t,i){var $,s,o=$=a(t,"SecureRandom");o.$$proto,[o].concat(i);e.defs(o,"$uuid",s=function(){var t,a=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"uuid"),n("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","gsub",[/[xy]/],(t=function(a){t.$$s;if(null==a&&(a=r),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"uuid")}var i=16*Math.random()|0;return("x"==a?i:3&i|8).toString(16)},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","ch"]],t.$$has_trailing_comma_in_args=!0,t))},s.$$arity=0,s.$$parameters=[])}(t[0],t)},Opal.modules["rspec/mocks/space"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.hash2,o=e.send,c=e.truthy
;return e.add_stubs(["$raise_lifecycle_message","$new","$private","$raise","$attr_reader","$new_mutex","$each","$values","$proxies","$verify","$each_value","$any_instance_recorders","$reset","$reverse","$idempotently_reset","$stop_all_observation!","$clear","$<<","$find","$==","$full_constant_name","$synchronize","$any_instance_mutex","$__id__","$fetch","$any_instance_recorder_not_found_for","$any_instance_recorder_for","$proxies_of","$select","$===","$object","$proxy_mutex","$id_for","$proxy_not_found_for","$key?","$empty?","$compact","$map","$ancestors","$[]","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration","$[]=","$-","$!","$method_defined?","$require","$equal?","$_id2ref","$instance_exec","$uuid","$+","$constant_mutator_for","$registered?"]),function(a,_){var l,u=l=i(a,"RSpec"),p=(u.$$proto,[u].concat(_));!function(a,_){var l,u=l=i(a,"Mocks"),p=(u.$$proto,[u].concat(_));!function(t,$super,r){function a(){}var i,s,o,c,_,l,u,p,d,f,h=a=$(t,$super,"RootSpace",a),m=(h.$$proto,[h].concat(r));e.defn(h,"$proxy_for",i=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},i.$$arity=-1,i.$$parameters=[["rest","_args"]]),e.defn(h,"$any_instance_recorder_for",s=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},s.$$arity=-1,s.$$parameters=[["rest","_args"]]),e.defn(h,"$any_instance_proxy_for",o=function(){var e,t=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var n=0;n<r;n++)e[n-0]=arguments[n];return t.$raise_lifecycle_message()},o.$$arity=-1,o.$$parameters=[["rest","_args"]]),e.defn(h,"$register_constant_mutator",c=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"register_constant_mutator"),t.$raise_lifecycle_message()},c.$$arity=1,c.$$parameters=[["req","_mutator"]]),e.defn(h,"$any_instance_recorders_from_ancestry_of",_=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"any_instance_recorders_from_ancestry_of"),t.$raise_lifecycle_message()},_.$$arity=1,_.$$parameters=[["req","_object"]]),e.defn(h,"$reset_all",l=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"reset_all"),n},l.$$arity=0,l.$$parameters=[]),e.defn(h,"$verify_all",u=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"verify_all"),n},u.$$arity=0,u.$$parameters=[]),e.defn(h,"$registered?",p=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"registered?"),!1},p.$$arity=1,p.$$parameters=[["req","_object"]]),e.defn(h,"$new_scope",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_scope"),e.const_get_relative(m,"Space").$new()},d.$$arity=0,d.$$parameters=[]),h.$private(),e.defn(h,"$raise_lifecycle_message",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"raise_lifecycle_message"),t.$raise(e.const_get_relative(m,"OutsideOfExampleError"),"The use of doubles or partial doubles from rspec-mocks outside of the per-test lifecycle is not supported.")},f.$$arity=0,f.$$parameters=[])}(p[0],null,p),function(r,$super,a){function _(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O=_=$(r,$super,"Space",_),A=O.$$proto,R=[O].concat(a);A.constant_mutators=A.expectation_ordering=n,O.$attr_reader("proxies","any_instance_recorders","proxy_mutex","any_instance_mutex"),e.defn(O,"$initialize",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.proxies=s([],{}),t.any_instance_recorders=s([],{}),t.constant_mutators=[],t.expectation_ordering=e.const_get_relative(R,"OrderGroup").$new(),t.proxy_mutex=t.$new_mutex(),t.any_instance_mutex=t.$new_mutex()},l.$$arity=0,l.$$parameters=[]),e.defn(O,"$new_scope",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"new_scope"),e.const_get_relative(R,"NestedSpace").$new(t)},u.$$arity=0,u.$$parameters=[]),e.defn(O,"$verify_all",p=function(){var t,r,a=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"verify_all"),o(a.$proxies().$values(),"each",[],(t=function(r){t.$$s;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"verify_all")}return r.$verify()},t.$$s=a,t.$$arity=1,t.$$parameters=[["req","proxy"]],t)),o(a.$any_instance_recorders(),"each_value",[],(r=function(t){r.$$s;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"verify_all")}return t.$verify()},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","recorder"]],r))},p.$$arity=0,p.$$parameters=[]),e.defn(O,"$reset_all",d=function(){var t,r,a,i=this,$=arguments.length;return 0!==$&&e.ac($,0,this,"reset_all"),o(i.$proxies(),"each_value",[],(t=function(r){t.$$s;if(null==r&&(r=n),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"reset_all")}return r.$reset()},t.$$s=i,t.$$arity=1,t.$$parameters=[["req","proxy"]],t)),o(i.constant_mutators.$reverse(),"each",[],(r=function(t){r.$$s;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"reset_all")}return t.$idempotently_reset()},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","mut"]],r)),o(i.$any_instance_recorders(),"each_value",[],(a=function(t){a.$$s;if(null==t&&(t=n),a.$$is_lambda||a.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"reset_all")}return t["$stop_all_observation!"]()},a.$$s=i,a.$$arity=1,a.$$parameters=[["req","recorder"]],a)),i.$any_instance_recorders().$clear()},d.$$arity=0,d.$$parameters=[]),e.defn(O,"$register_constant_mutator",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"register_constant_mutator"),r.constant_mutators["$<<"](t)},f.$$arity=1,f.$$parameters=[["req","mutator"]]),e.defn(O,"$constant_mutator_for",h=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"constant_mutator_for"),o(a.constant_mutators,"find",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"constant_mutator_for")}return a.$full_constant_name()["$=="](t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","m"]],r))},h.$$arity=1,h.$$parameters=[["req","name"]]),e.defn(O,"$any_instance_recorder_for",m=function(t,r){try{var a,i=this;null==r&&(r=!1);var $=arguments.length;return($<1||$>2)&&e.ac($,-2,this,"any_instance_recorder_for"),o(i.$any_instance_mutex(),"synchronize",[],(a=function(){var i,$=a.$$s||this,s=n;if(a.$$is_lambda||a.$$define_meth){var _=arguments.length;0!==_&&e.block_ac(_,0,"any_instance_recorder_for")}return s=t.$__id__(),o($.$any_instance_recorders(),"fetch",[s],(i=function(){var a=i.$$s||this;if(i.$$is_lambda||i.$$define_meth){var $=arguments.length;0!==$&&e.block_ac($,0,"any_instance_recorder_for")}return c(r)&&e.ret(n),a.$any_instance_recorder_not_found_for(s,t)},i.$$s=$,i.$$arity=0,i.$$parameters=[],i))},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))}catch(t){if(t===e.returner)return t.$v;throw t}},m.$$arity=-2,m.$$parameters=[["req","klass"],["opt","only_return_existing"]]),e.defn(O,"$any_instance_proxy_for",g=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"any_instance_proxy_for"),e.const_get_qualified(e.const_get_relative(R,"AnyInstance"),"Proxy").$new(r.$any_instance_recorder_for(t),r.$proxies_of(t))},g.$$arity=1,g.$$parameters=[["req","klass"]]),e.defn(O,"$proxies_of",v=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"proxies_of"),o(a.$proxies().$values(),"select",[],(r=function(a){r.$$s;if(null==a&&(a=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"proxies_of")}return t["$==="](a.$object())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","proxy"]],r))},v.$$arity=1,v.$$parameters=[["req","klass"]]),e.defn(O,"$proxy_for",y=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"proxy_for"),o(a.$proxy_mutex(),"synchronize",[],(r=function(){var a,i=r.$$s||this,$=n;if(r.$$is_lambda||r.$$define_meth){var s=arguments.length;0!==s&&e.block_ac(s,0,"proxy_for")}return $=i.$id_for(t),o(i.$proxies(),"fetch",[$],(a=function(){var r=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"proxy_for")}return r.$proxy_not_found_for($,t)},a.$$s=i,a.$$arity=0,a.$$parameters=[],a))},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},y.$$arity=1,y.$$parameters=[["req","object"]]),e.alias(O,"ensure_registered","proxy_for"),e.defn(O,"$registered?",b=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"registered?"),r.$proxies()["$key?"](r.$id_for(t))},b.$$arity=1,b.$$parameters=[["req","object"]]),e.defn(O,"$any_instance_recorders_from_ancestry_of",x=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"any_instance_recorders_from_ancestry_of"),c(a.$any_instance_recorders()["$empty?"]())?[]:o(function(e,t){e.$$proto,[e].concat(t);return e.$ancestors()}(e.get_singleton_class(t),R),"map",[],(r=function(t){var a=r.$$s||this;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"any_instance_recorders_from_ancestry_of")}return a.$any_instance_recorders()["$[]"](t.$__id__())},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","klass"]],r)).$compact()},x.$$arity=1,x.$$parameters=[["req","object"]]),O.$private(),e.defn(O,"$new_mutex",k=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"new_mutex"),c(e.const_get_qualified("::","Mutex","skip_raise")?"constant":n)?e.const_get_qualified("::","Mutex").$new():e.const_get_relative(R,"FakeMutex")},k.$$arity=0,k.$$parameters=[]),function(t,r){var a,$,s=a=i(t,"FakeMutex");s.$$proto,[s].concat(r);e.defs(s,"$synchronize",$=function(){var t=$.$$p,r=t||n;t&&($.$$p=null);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"synchronize"),e.yieldX(r,[])},$.$$arity=0,$.$$parameters=[])}(R[0],R),e.defn(O,"$proxy_not_found_for",q=function(r,a){var i=this,$=n,s=n,_=arguments.length;return 2!==_&&e.ac(_,2,this,"proxy_not_found_for"),$=[r,function(){return s=a,e.const_get_relative(R,"NilClass")["$==="](s)?e.const_get_relative(R,"ProxyForNil").$new(i.expectation_ordering):e.const_get_relative(R,"TestDouble")["$==="](s)?a.$__build_mock_proxy_unless_expired(i.expectation_ordering):e.const_get_relative(R,"Class")["$==="](s)?c(e.const_get_qualified(e.const_get_relative(R,"RSpec"),"Mocks").$configuration()["$verify_partial_doubles?"]())?e.const_get_relative(R,"VerifyingPartialClassDoubleProxy").$new(i,a,i.expectation_ordering):e.const_get_relative(R,"PartialClassDoubleProxy").$new(i,a,i.expectation_ordering):c(e.const_get_qualified(e.const_get_relative(R,"RSpec"),"Mocks").$configuration()["$verify_partial_doubles?"]())?e.const_get_relative(R,"VerifyingPartialDoubleProxy").$new(a,i.expectation_ordering):e.const_get_relative(R,"PartialDoubleProxy").$new(a,i.expectation_ordering)}()],o(i.$proxies(),"[]=",e.to_a($)),$[t($.length,1)]},q.$$arity=2,q.$$parameters=[["req","id"],["req","object"]]),e.defn(O,"$any_instance_recorder_not_found_for",w=function(r,a){var i=this,$=n,s=arguments.length;return 2!==s&&e.ac(s,2,this,"any_instance_recorder_not_found_for"),$=[r,e.const_get_qualified(e.const_get_relative(R,"AnyInstance"),"Recorder").$new(a)],o(i.$any_instance_recorders(),"[]=",e.to_a($)),$[t($.length,1)]},w.$$arity=2,w.$$parameters=[["req","id"],["req","klass"]]),c(c(E=e.const_get_qualified("::","BasicObject","skip_raise")?"constant":n)?e.const_get_qualified("::","BasicObject")["$method_defined?"]("__id__")["$!"]():E)?(O.$require("securerandom"),e.defn(O,"$id_for",S=function(t){var r,a=this,i=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"id_for"),i=t.$__id__(),c(t["$equal?"](e.const_get_qualified("::","ObjectSpace").$_id2ref(i)))?i:o(t,"instance_exec",[],(r=function(){var t,a=r.$$s||this;if(null==a.__id_for_rspec_mocks_space&&(a.__id_for_rspec_mocks_space=n),r.$$is_lambda||r.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"id_for")}return a.__id_for_rspec_mocks_space=c(t=a.__id_for_rspec_mocks_space)?t:e.const_get_qualified("::","SecureRandom").$uuid()},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},S.$$arity=1,S.$$parameters=[["req","object"]])):e.defn(O,"$id_for",M=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"id_for"),t.$__id__()},M.$$arity=1,M.$$parameters=[["req","object"]])}(p[0],null,p),function(t,$super,a){function i(){}var s,_,l,u,p,d,f=i=$(t,$super,"NestedSpace",i),h=f.$$proto;[f].concat(a);h.parent=n,e.defn(f,"$initialize",s=function(t){var r=this,a=s.$$p;a&&(s.$$p=null);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),r.parent=t,o(r,e.find_super_dispatcher(r,"initialize",s,!1),[],null)},s.$$arity=1,s.$$parameters=[["req","parent"]]),e.defn(f,"$proxies_of",_=function(t){var a=this,i=_.$$p,$=n,s=n,c=n;i&&(_.$$p=null);var l=arguments.length;for(1!==l&&e.ac(l,1,this,"proxies_of"),s=0,c=arguments.length,$=new Array(c);s<c;s++)$[s]=arguments[s];return r(o(a,e.find_super_dispatcher(a,"proxies_of",_,!1),$,i),a.parent.$proxies_of(t))},_.$$arity=1,_.$$parameters=[["req","klass"]]),e.defn(f,"$constant_mutator_for",l=function(t){var r,a=this,i=l.$$p,$=n,s=n,_=n;i&&(l.$$p=null);var u=arguments.length;for(1!==u&&e.ac(u,1,this,"constant_mutator_for"),s=0,_=arguments.length,$=new Array(_);s<_;s++)$[s]=arguments[s];return c(r=o(a,e.find_super_dispatcher(a,"constant_mutator_for",l,!1),$,i))?r:a.parent.$constant_mutator_for(t)},l.$$arity=1,l.$$parameters=[["req","name"]]),e.defn(f,"$registered?",u=function(t){var r,a=this,i=u.$$p,$=n,s=n,_=n;i&&(u.$$p=null);var l=arguments.length;for(1!==l&&e.ac(l,1,this,"registered?"),s=0,_=arguments.length,$=new Array(_);s<_;s++)$[s]=arguments[s];return c(r=o(a,e.find_super_dispatcher(a,"registered?",u,!1),$,i))?r:a.parent["$registered?"](t)},u.$$arity=1,u.$$parameters=[["req","object"]]),f.$private(),e.defn(f,"$proxy_not_found_for",p=function(t){var r,a=this,i=p.$$p,$=n,s=n,_=n;i&&(p.$$p=null);var l=arguments.length;for(2!==l&&e.ac(l,2,this,"proxy_not_found_for"),s=0,_=arguments.length,$=new Array(_);s<_;s++)$[s]=arguments[s];return c(r=a.parent.$proxies()["$[]"](t))?r:o(a,e.find_super_dispatcher(a,"proxy_not_found_for",p,!1),$,i)},p.$$arity=2,p.$$parameters=[["req","id"],["req","object"]]),e.defn(f,"$any_instance_recorder_not_found_for",d=function(t){var r,a=this,i=d.$$p,$=n,s=n,_=n;i&&(d.$$p=null);var l=arguments.length;for(2!==l&&e.ac(l,2,this,"any_instance_recorder_not_found_for"),s=0,_=arguments.length,$=new Array(_);s<_;s++)$[s]=arguments[s];return c(r=a.parent.$any_instance_recorders()["$[]"](t))?r:o(a,e.find_super_dispatcher(a,"any_instance_recorder_not_found_for",d,!1),$,i)},d.$$arity=2,d.$$parameters=[["req","id"],["req","klass"]])}(p[0],e.const_get_relative(p,"Space"),p)}(p[0],p)}(a[0],a)};Opal.modules["rspec/mocks/syntax"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy,$=e.hash2,s=e.send,o=e.klass;return e.add_stubs(["$deprecate","$==","$default_should_syntax_host","$should_enabled?","$class_exec","$warn_unless_should_configured","$expect_message","$to_proc","$never","$===","$each","$and_return","$stub","$allow_message","$remove_stub","$proxy_for","$space","$stub_chain_on","$as_null_object","$received_message?","$respond_to?","$any_instance_proxy_for","$expect_enabled?","$new","$warn_about_block","$method_defined?","$>","$to_f","$last","$ancestors"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l,u,p,d,f,h,m,g,v=c=n(r,"Syntax"),y=(v.$$proto,[v].concat(o));e.defs(v,"$warn_about_should!",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"warn_about_should!"),t.warn_about_should=!0},_.$$arity=0,_.$$parameters=[]),e.defs(v,"$warn_unless_should_configured",l=function(t,r){var n=this;null==n.warn_about_should&&(n.warn_about_should=a),null==r&&(r="the new `:expect` syntax or explicitly enable `:should`");var s=arguments.length;return(s<1||s>2)&&e.ac(s,-2,this,"warn_unless_should_configured"),i(n.warn_about_should)?(e.const_get_relative(y,"RSpec").$deprecate("Using `"+t+"` from rspec-mocks' old `:should` syntax without explicitly enabling the syntax",$(["replacement"],{replacement:r})),n.warn_about_should=!1):a},l.$$arity=-2,l.$$parameters=[["req","method_name"],["opt","replacement"]]),e.defs(v,"$enable_should",u=function(t){var r,n=this;null==t&&(t=n.$default_should_syntax_host());var o=arguments.length;return o>1&&e.ac(o,-1,this,"enable_should"),t["$=="](n.$default_should_syntax_host())&&(n.warn_about_should=!1),i(n["$should_enabled?"](t))?a:s(t,"class_exec",[],(r=function(){var t,n,o,c,_,l,u,p,d,f=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var h=arguments.length;0!==h&&e.block_ac(h,0,"enable_should")}return e.def(f,"$should_receive",t=function(r,n){var i=this,o=t.$$p,c=o||a;null==n&&(n=$([],{})),o&&(t.$$p=null);var _=arguments.length;return(_<1||_>2)&&e.ac(_,-2,this,"should_receive"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("should_receive"),s(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"expect_message",[i,r,n],c.$to_proc())},t.$$arity=-2,t.$$parameters=[["req","message"],["opt","opts"],["block","block"]]),e.def(f,"$should_not_receive",n=function(t){var r=this,i=n.$$p,o=i||a;i&&(n.$$p=null);var c=arguments.length;return 1!==c&&e.ac(c,1,this,"should_not_receive"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("should_not_receive"),s(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"expect_message",[r,t,$([],{})],o.$to_proc()).$never()},n.$$arity=1,n.$$parameters=[["req","message"],["block","block"]]),e.def(f,"$stub",o=function(t,r){var n,c=this,_=o.$$p,l=_||a;null==r&&(r=$([],{})),_&&(o.$$p=null);var u=arguments.length;return(u<1||u>2)&&e.ac(u,-2,this,"stub"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("stub"),i(e.const_get_qualified("::","Hash")["$==="](t))?s(t,"each",[],(n=function(t,r){var i=n.$$s||this;if(null==t&&(t=a),null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"stub")}return i.$stub(t).$and_return(r)},n.$$s=c,n.$$arity=2,n.$$parameters=[["req","message"],["req","value"]],n)):s(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"allow_message",[c,t,r],l.$to_proc())},o.$$arity=-2,o.$$parameters=[["req","message_or_hash"],["opt","opts"],["block","block"]]),e.def(f,"$unstub",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"unstub"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("unstub","`allow(...).to_receive(...).and_call_original` or explicitly enable `:should`"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(r).$remove_stub(t)},c.$$arity=1,c.$$parameters=[["req","message"]]),e.def(f,"$stub_chain",_=function(){var t,r=this,n=_.$$p,i=n||a,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<$;c++)t[c-0]=arguments[c];return n&&(_.$$p=null),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("stub_chain"),s(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"StubChain"),"stub_chain_on",[r].concat(e.to_a(t)),i.$to_proc())},_.$$arity=-1,_.$$parameters=[["rest","chain"],["block","blk"]]),e.def(f,"$as_null_object",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("as_null_object"),t._null_object=!0,e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t).$as_null_object()},l.$$arity=0,l.$$parameters=[]),e.def(f,"$null_object?",u=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"null_object?"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("null_object?"),null!=(t=r._null_object)&&t!==a?"instance-variable":a},u.$$arity=0,u.$$parameters=[]),e.def(f,"$received_message?",p=function(t){var r,n=this,i=p.$$p,$=i||a,o=arguments.length,c=o-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<o;_++)r[_-1]=arguments[_];i&&(p.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"received_message?"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("received_message?"),s(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(n),"received_message?",[t].concat(e.to_a(r)),$.$to_proc())},p.$$arity=-2,p.$$parameters=[["req","message"],["rest","args"],["block","block"]]),i(e.const_get_relative(y,"Class")["$respond_to?"]("any_instance"))?a:s(e.const_get_relative(y,"Class"),"class_exec",[],(d=function(){var t,r=d.$$s||this;if(d.$$is_lambda||d.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"enable_should")}return e.def(r,"$any_instance",t=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"any_instance"),e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"Syntax").$warn_unless_should_configured("any_instance"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$any_instance_proxy_for(t)},t.$$arity=0,t.$$parameters=[]),a&&"any_instance"},d.$$s=f,d.$$arity=0,d.$$parameters=[],d))},r.$$s=n,r.$$arity=0,r.$$parameters=[],r))},u.$$arity=-1,u.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$disable_should",p=function(t){var r,n,$=this;null==t&&(t=$.$default_should_syntax_host());var o=arguments.length;return o>1&&e.ac(o,-1,this,"disable_should"),i($["$should_enabled?"](t))?(s(t,"class_exec",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"disable_should")}return e.udef(t,"$should_receive"),e.udef(t,"$should_not_receive"),e.udef(t,"$stub"),e.udef(t,"$unstub"),e.udef(t,"$stub_chain"),e.udef(t,"$as_null_object"),e.udef(t,"$null_object?"),e.udef(t,"$received_message?"),a},r.$$s=$,r.$$arity=0,r.$$parameters=[],r)),s(e.const_get_relative(y,"Class"),"class_exec",[],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_should")}return e.udef(t,"$any_instance"),a},n.$$s=$,n.$$arity=0,n.$$parameters=[],n))):a},p.$$arity=-1,p.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$enable_expect",d=function(t){var r,n,$=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"ExampleMethods"));var o=arguments.length;return o>1&&e.ac(o,-1,this,"enable_expect"),i($["$expect_enabled?"](t))?a:(s(t,"class_exec",[],(r=function(){var t,n,i,$,o,c,_=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var l=arguments.length;0!==l&&e.block_ac(l,0,"enable_expect")}return e.def(_,"$receive",t=function(r){var n=t.$$p,i=n||a;n&&(t.$$p=null);var $=arguments.length;return 1!==$&&e.ac($,1,this,"receive"),e.const_get_qualified(e.const_get_relative(y,"Matchers"),"Receive").$new(r,i)},t.$$arity=1,t.$$parameters=[["req","method_name"],["block","block"]]),e.def(_,"$receive_messages",n=function(t){var r=n.$$p,i=r||a,$=a;r&&(n.$$p=null);var s=arguments.length;return 1!==s&&e.ac(s,1,this,"receive_messages"),$=e.const_get_qualified(e.const_get_relative(y,"Matchers"),"ReceiveMessages").$new(t),i!==a&&$.$warn_about_block(),$},n.$$arity=1,n.$$parameters=[["req","message_return_value_hash"]]),e.def(_,"$receive_message_chain",i=function(){var t,r=i.$$p,n=r||a,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var c=0;c<$;c++)t[c-0]=arguments[c];return r&&(i.$$p=null),s(e.const_get_qualified(e.const_get_relative(y,"Matchers"),"ReceiveMessageChain"),"new",[t],n.$to_proc())},i.$$arity=-1,i.$$parameters=[["rest","messages"],["block","block"]]),e.def(_,"$allow",$=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"allow"),e.const_get_relative(y,"AllowanceTarget").$new(t)},$.$$arity=1,$.$$parameters=[["req","target"]]),e.def(_,"$expect_any_instance_of",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expect_any_instance_of"),e.const_get_relative(y,"AnyInstanceExpectationTarget").$new(t)},o.$$arity=1,o.$$parameters=[["req","klass"]]),e.def(_,"$allow_any_instance_of",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"allow_any_instance_of"),e.const_get_relative(y,"AnyInstanceAllowanceTarget").$new(t)},c.$$arity=1,c.$$parameters=[["req","klass"]]),a&&"allow_any_instance_of"},r.$$s=$,r.$$arity=0,r.$$parameters=[],r)),s(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Mocks"),"ExampleMethods"),"ExpectHost"),"class_exec",[],(n=function(){var t,r=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"enable_expect")}return e.def(r,"$expect",t=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"expect"),e.const_get_relative(y,"ExpectationTarget").$new(t)},t.$$arity=1,t.$$parameters=[["req","target"]]),a&&"expect"},n.$$s=$,n.$$arity=0,n.$$parameters=[],n)))},d.$$arity=-1,d.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$disable_expect",f=function(t){var r,n,$=this;null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"ExampleMethods"));var o=arguments.length;return o>1&&e.ac(o,-1,this,"disable_expect"),i($["$expect_enabled?"](t))?(s(t,"class_exec",[],(r=function(){var t=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var n=arguments.length;0!==n&&e.block_ac(n,0,"disable_expect")}return e.udef(t,"$receive"),e.udef(t,"$receive_messages"),e.udef(t,"$receive_message_chain"),e.udef(t,"$allow"),e.udef(t,"$expect_any_instance_of"),e.udef(t,"$allow_any_instance_of"),a},r.$$s=$,r.$$arity=0,r.$$parameters=[],r)),s(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(y,"RSpec"),"Mocks"),"ExampleMethods"),"ExpectHost"),"class_exec",[],(n=function(){var t=n.$$s||this;if(n.$$is_lambda||n.$$define_meth){var r=arguments.length;0!==r&&e.block_ac(r,0,"disable_expect")}return e.udef(t,"$expect"),a},n.$$s=$,n.$$arity=0,n.$$parameters=[],n))):a},f.$$arity=-1,f.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$should_enabled?",h=function(t){var r=this;null==t&&(t=r.$default_should_syntax_host());var a=arguments.length;return a>1&&e.ac(a,-1,this,"should_enabled?"),t["$method_defined?"]("should_receive")},h.$$arity=-1,h.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$expect_enabled?",m=function(t){null==t&&(t=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),"ExampleMethods"));var r=arguments.length;return r>1&&e.ac(r,-1,this,"expect_enabled?"),t["$method_defined?"]("allow")},m.$$arity=-1,m.$$parameters=[["opt","syntax_host"]]),e.defs(v,"$default_should_syntax_host",g=function(){var r,n,$=arguments.length;return 0!==$&&e.ac($,0,this,"default_should_syntax_host"),i(i(r=i(n=e.const_get_relative(y,"JRUBY_VERSION","skip_raise")?"constant":a)?e.const_get_relative(y,"JRUBY_VERSION")["$=="]("1.7.4"):n)?t(e.const_get_relative(y,"RUBY_VERSION").$to_f(),1.8):r)?e.const_get_qualified("::","BasicObject"):i((r=e.const_get_qualified("::","BasicObject","skip_raise"))?"constant":a)&&e.const_get_relative(y,"Object").$ancestors().$last()["$=="](e.const_get_qualified("::","BasicObject"))?e.const_get_qualified("::","BasicObject"):e.const_get_relative(y,"Object")},g.$$arity=0,g.$$parameters=[])}(l[0],l)}(l[0],l)}(r[0],r),i(e.const_get_relative(r,"BasicObject","skip_raise")?"constant":a)&&function(e,$super,t){function r(){}var a=r=o(e,$super,"BasicObject",r);a.$$proto,[a].concat(t)}(r[0],null,r),function(e,$super,t){function r(){}var n=r=o(e,$super,"Class",r);n.$$proto,[n].concat(t);return a}(r[0],null,r)},Opal.modules["rspec/mocks/targets"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$define_method","$matcher_allowed?","$raise_unsupported_matcher","$define_matcher","$to_proc","$fetch","$===","$raise_negation_unsupported","$private","$start_with?","$name","$class","$freeze","$__send__","$raise","$expression","$delegate_to","$disallow_negation","$delegate_not_to"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p,d,f,h,m,g=o=n(t,$super,"TargetBase",o),v=g.$$proto,y=[g].concat(a);v.target=r,e.defn(g,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.target=t},c.$$arity=1,c.$$parameters=[["req","target"]]),e.defs(g,"$delegate_to",_=function(t){var a,n=this,s=arguments.length;return 1!==s&&e.ac(s,1,this,"delegate_to"),i(n,"define_method",["to"],(a=function(n){var s,o=a.$$s||this;if(s=a.$$p||r,s&&(a.$$p=null),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"delegate_to")}return $(o["$matcher_allowed?"](n))||o.$raise_unsupported_matcher("to",n),i(o,"define_matcher",[n,t],s.$to_proc())},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","matcher"],["block","block"]],a))},_.$$arity=1,_.$$parameters=[["req","matcher_method"]]),e.defs(g,"$delegate_not_to",l=function(t,a){var n,$=this,o=r;null==a&&(a=s([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"delegate_not_to"),o=a.$fetch("from"),i($,"define_method",[o],(n=function(a){var $,s=n.$$s||this,c=r;if($=n.$$p||r,$&&(n.$$p=null),null==a&&(a=r),n.$$is_lambda||n.$$define_meth){var _=arguments.length;1!==_&&e.block_ac(_,1,"delegate_not_to")}return function(){return c=a,e.const_get_qualified(e.const_get_relative(y,"Matchers"),"Receive")["$==="](c)?i(s,"define_matcher",[a,t],$.$to_proc()):e.const_get_qualified(e.const_get_relative(y,"Matchers"),"ReceiveMessages")["$==="](c)||e.const_get_qualified(e.const_get_relative(y,"Matchers"),"ReceiveMessageChain")["$==="](c)?s.$raise_negation_unsupported(o,a):s.$raise_unsupported_matcher(o,a)}()},n.$$s=$,n.$$arity=1,n.$$parameters=[["req","matcher"],["block","block"]],n))},l.$$arity=-2,l.$$parameters=[["req","matcher_method"],["opt","options"]]),e.defs(g,"$disallow_negation",u=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"disallow_negation"),i(n,"define_method",[t],(a=function(n){var i,$=a.$$s||this,s=arguments.length,o=s-1;o<0&&(o=0),i=new Array(o);for(var c=1;c<s;c++)i[c-1]=arguments[c];if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var _=arguments.length;_<1&&e.block_ac(_,-2,"disallow_negation")}return $.$raise_negation_unsupported(t,n)},a.$$s=n,a.$$arity=-2,a.$$parameters=[["req","matcher"],["rest","_args"]],a))},u.$$arity=1,u.$$parameters=[["req","method_name"]]),g.$private(),e.defn(g,"$matcher_allowed?",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"matcher_allowed?"),t.$class().$name()["$start_with?"]("RSpec::Mocks::Matchers".$freeze())},p.$$arity=1,p.$$parameters=[["req","matcher"]]),e.defn(g,"$define_matcher",d=function(t,a){var n=this,$=d.$$p,s=$||r;$&&(d.$$p=null);var o=arguments.length;return 2!==o&&e.ac(o,2,this,"define_matcher"),i(t,"__send__",[a,n.target],s.$to_proc())},d.$$arity=2,d.$$parameters=[["req","matcher"],["req","name"],["block","block"]]),e.defn(g,"$raise_unsupported_matcher",f=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_unsupported_matcher"),a.$raise(e.const_get_relative(y,"UnsupportedMatcherError"),"only the `receive` or `receive_messages` matchers are supported with `"+a.$expression()+"(...)."+t+"`, but you have provided: "+r)},f.$$arity=2,f.$$parameters=[["req","method_name"],["req","matcher"]]),e.defn(g,"$raise_negation_unsupported",h=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"raise_negation_unsupported"),a.$raise(e.const_get_relative(y,"NegationUnsupportedError"),"`"+a.$expression()+"(...)."+t+" "+r.$name()+"` is not supported since it doesn't really make sense. What would it even mean?")},h.$$arity=2,h.$$parameters=[["req","method_name"],["req","matcher"]]),e.defn(g,"$expression",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"expression"),e.const_get_qualified(t.$class(),"EXPRESSION")},m.$$arity=0,m.$$parameters=[])}(l[0],null,l),function(t,$super,r){function a(){}var i=a=n(t,$super,"AllowanceTarget",a),$=(i.$$proto,[i].concat(r));e.const_set($[0],"EXPRESSION","allow"),i.$delegate_to("setup_allowance"),
i.$disallow_negation("not_to"),i.$disallow_negation("to_not")}(l[0],e.const_get_relative(l,"TargetBase"),l),function(t,$super,r){function a(){}var i=a=n(t,$super,"ExpectationTarget",a),$=(i.$$proto,[i].concat(r));e.const_set($[0],"EXPRESSION","expect"),i.$delegate_to("setup_expectation"),i.$delegate_not_to("setup_negative_expectation",s(["from"],{from:"not_to"})),i.$delegate_not_to("setup_negative_expectation",s(["from"],{from:"to_not"}))}(l[0],e.const_get_relative(l,"TargetBase"),l),function(t,$super,r){function a(){}var i=a=n(t,$super,"AnyInstanceAllowanceTarget",a),$=(i.$$proto,[i].concat(r));e.const_set($[0],"EXPRESSION","allow_any_instance_of"),i.$delegate_to("setup_any_instance_allowance"),i.$disallow_negation("not_to"),i.$disallow_negation("to_not")}(l[0],e.const_get_relative(l,"TargetBase"),l),function(t,$super,r){function a(){}var i=a=n(t,$super,"AnyInstanceExpectationTarget",a),$=(i.$$proto,[i].concat(r));e.const_set($[0],"EXPRESSION","expect_any_instance_of"),i.$delegate_to("setup_any_instance_expectation"),i.$delegate_not_to("setup_any_instance_negative_expectation",s(["from"],{from:"not_to"})),i.$delegate_not_to("setup_any_instance_negative_expectation",s(["from"],{from:"to_not"}))}(l[0],e.const_get_relative(l,"TargetBase"),l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/test_double"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.hash2,$=e.send,s=e.klass;return e.add_stubs(["$===","$empty?","$assign_stubs","$as_null_object","$__mock_proxy","$null_object?","$==","$class","$%","$object_id","$inspect","$gsub","$__raise_expired_error","$__build_mock_proxy","$warn_with","$private","$record_message_received","$to_proc","$to_s","$visibility_for","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error","$each_pair","$add_simple_stub","$proxy_for","$space","$raise_expired_test_double_error","$include"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Mocks"),l=(_.$$proto,[_].concat(o));!function(t,s){var o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w=o=a(t,"TestDouble"),E=(w.$$proto,[w].concat(s));e.defn(w,"$initialize",c=function(t,a){var $,s=this;null==t&&(t=r),null==a&&(a=i([],{}));var o=arguments.length;return o>2&&e.ac(o,-1,this,"initialize"),s.__expired=!1,n(n($=e.const_get_relative(E,"Hash")["$==="](t))?a["$empty?"]():$)?(a=t,s.name=r):s.name=t,s.$assign_stubs(a)},c.$$arity=-1,c.$$parameters=[["opt","name"],["opt","stubs"]]),e.defn(w,"$as_null_object",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"as_null_object"),t.$__mock_proxy().$as_null_object()},_.$$arity=0,_.$$parameters=[]),e.defn(w,"$null_object?",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"null_object?"),t.$__mock_proxy()["$null_object?"]()},l.$$arity=0,l.$$parameters=[]),e.defn(w,"$==",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),t["$=="](r.$__mock_proxy())},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(w,"$inspect",p=function(){var t=this;null==t.name&&(t.name=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"inspect"),"#<"+t.$class()+":"+"0x%x"["$%"](t.$object_id())+" @name="+t.name.$inspect()+">"},p.$$arity=0,p.$$parameters=[]),e.defn(w,"$to_s",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.$inspect().$gsub("<","[").$gsub(">","]")},d.$$arity=0,d.$$parameters=[]),e.defn(w,"$respond_to?",f=function(t,a){var i=this,s=f.$$p,o=r,c=r,_=r;null==a&&(a=!1),s&&(f.$$p=null);var l=arguments.length;for((l<1||l>2)&&e.ac(l,-2,this,"respond_to?"),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return!!n(i.$__mock_proxy()["$null_object?"]())||$(i,e.find_super_dispatcher(i,"respond_to?",f,!1),o,s)},f.$$arity=-2,f.$$parameters=[["req","message"],["opt","incl_private"]]),e.defn(w,"$__build_mock_proxy_unless_expired",h=function(t){var r,a=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"__build_mock_proxy_unless_expired"),n(r=a.$__raise_expired_error())?r:a.$__build_mock_proxy(t)},h.$$arity=1,h.$$parameters=[["req","order_group"]]),e.defn(w,"$__disallow_further_usage!",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__disallow_further_usage!"),t.__expired=!0},m.$$arity=0,m.$$parameters=[]),e.defn(w,"$freeze",g=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"freeze"),e.const_get_relative(E,"RSpec").$warn_with("WARNING: you attempted to freeze a test double. This is explicitly a no-op as freezing doubles can lead to undesired behaviour when resetting tests.")},g.$$arity=0,g.$$parameters=[]),w.$private(),e.defn(w,"$method_missing",v=function(t){var a,i,s=this,o=v.$$p,c=o||r,_=r,l=r,u=r;null==s.name&&(s.name=r);var p=arguments.length,d=p-1;d<0&&(d=0),i=new Array(d);for(var f=1;f<p;f++)i[f-1]=arguments[f];o&&(v.$$p=null);var h=arguments.length;return h<1&&e.ac(h,-2,this,"method_missing"),_=s.$__mock_proxy(),$(_,"record_message_received",[t].concat(e.to_a(i)),c.$to_proc()),n(_["$null_object?"]())?(l=t,"to_int"["$==="](l)?0:"to_a"["$==="](l)||"to_ary"["$==="](l)?r:"to_str"["$==="](l)?s.$to_s():s):(u=_.$visibility_for(t),n(n(a=u["$=="]("private"))?a:u["$=="]("protected"))&&e.const_get_relative(E,"ErrorGenerator").$new(s,s.name).$raise_non_public_error(t,u),n(["to_a","to_ary"]["$include?"](t))&&s.$raise(e.const_get_relative(E,"NoMethodError")),$(_,"raise_unexpected_message_error",[t].concat(e.to_a(i))))},v.$$arity=-2,v.$$parameters=[["req","message"],["rest","args"],["block","block"]]),e.defn(w,"$assign_stubs",y=function(t){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"assign_stubs"),$(t,"each_pair",[],(a=function(t,n){var i=a.$$s||this;if(null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"assign_stubs")}return i.$__mock_proxy().$add_simple_stub(t,n)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","message"],["req","response"]],a))},y.$$arity=1,y.$$parameters=[["req","stubs"]]),e.defn(w,"$__mock_proxy",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"__mock_proxy"),e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks").$space().$proxy_for(t)},b.$$arity=0,b.$$parameters=[]),e.defn(w,"$__build_mock_proxy",x=function(t){var a=this;null==a.name&&(a.name=r);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"__build_mock_proxy"),e.const_get_relative(E,"TestDoubleProxy").$new(a,t,a.name)},x.$$arity=1,x.$$parameters=[["req","order_group"]]),e.defn(w,"$__raise_expired_error",k=function(){var t=this;null==t.__expired&&(t.__expired=r),null==t.name&&(t.name=r);var a=arguments.length;return 0!==a&&e.ac(a,0,this,"__raise_expired_error"),!!n(t.__expired)&&e.const_get_relative(E,"ErrorGenerator").$new(t,t.name).$raise_expired_test_double_error()},k.$$arity=0,k.$$parameters=[]),e.defn(w,"$initialize_copy",q=function(t){var a=this,i=q.$$p,s=r,o=r,c=r;i&&(q.$$p=null);var _=arguments.length;for(1!==_&&e.ac(_,1,this,"initialize_copy"),o=0,c=arguments.length,s=new Array(c);o<c;o++)s[o]=arguments[o];return n(t["$null_object?"]())&&a.$as_null_object(),$(a,e.find_super_dispatcher(a,"initialize_copy",q,!1),s,i)},q.$$arity=1,q.$$parameters=[["req","other"]])}(l[0],l),function(t,$super,r){function a(){}var n=a=s(t,$super,"Double",a),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"TestDouble"))}(l[0],null,l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/mocks/verifying_double"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.truthy,s=e.send,o=e.gvars,c=e.klass,_=e.hash2;return e.add_stubs(["$require_rspec_mocks","$require","$null_object?","$[]","$method_reference","$__mock_proxy","$visibility","$===","$<","$to_f","$!","$unimplemented?","$==","$ensure_implemented","$ensure_publicly_implemented","$new","$__send__","$to_proc","$include","$description","$stub","$const_to_replace","$private"]),e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support").$require_rspec_mocks("verifying_proxy"),r.$require("stringio"),function(r,a){var l,u=l=i(r,"RSpec"),p=(u.$$proto,[u].concat(a));!function(r,a){var l,u=l=i(r,"Mocks"),p=(u.$$proto,[u].concat(a));!function(r,a){var c,_,l,u,p,d,f,h=c=i(r,"VerifyingDouble"),m=(h.$$proto,[h].concat(a)),g=n;null==o.stderr&&(o.stderr=n),e.defn(h,"$respond_to?",_=function(r,a){var i,o=this,c=_.$$p,l=n,u=n,p=n,d=n,f=n;null==a&&(a=!1),c&&(_.$$p=null);var h=arguments.length;for((h<1||h>2)&&e.ac(h,-2,this,"respond_to?"),d=0,f=arguments.length,p=new Array(f);d<f;d++)p[d]=arguments[d];return $(o["$null_object?"]())?(l=o.$__mock_proxy().$method_reference()["$[]"](r),function(){return u=l.$visibility(),!!"public"["$==="](u)||("private"["$==="](u)?a:"protected"["$==="](u)?$(i=a)?i:t(e.const_get_relative(m,"RUBY_VERSION").$to_f(),2):l["$unimplemented?"]()["$!"]())}()):s(o,e.find_super_dispatcher(o,"respond_to?",_,!1),p,c)},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","include_private"]]),e.defn(h,"$method_missing",l=function(t){var r,a=this,i=l.$$p,o=n,c=n,_=n;null==a.__sending_message&&(a.__sending_message=n);var u=arguments.length,p=u-1;p<0&&(p=0),r=new Array(p);for(var d=1;d<u;d++)r[d-1]=arguments[d];i&&(l.$$p=null);var f=arguments.length;for(f<1&&e.ac(f,-2,this,"method_missing"),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return $(a["$null_object?"]())&&(a.__sending_message["$=="](t)?a.$__mock_proxy().$ensure_implemented(t):a.$__mock_proxy().$ensure_publicly_implemented(t,a)),s(a,e.find_super_dispatcher(a,"method_missing",l,!1),o,i)},l.$$arity=-2,l.$$parameters=[["req","message"],["rest","args"],["block","block"]]),u=[o.stderr,e.const_get_relative(m,"StringIO").$new()],g=u[0],o.stderr=u[1],e.defn(h,"$__send__",p=function(t){var r,a=this,i=p.$$p,$=n,o=n,c=n,_=arguments.length,l=_-1;l<0&&(l=0),r=new Array(l);for(var u=1;u<_;u++)r[u-1]=arguments[u];i&&(p.$$p=null);var d=arguments.length;for(d<1&&e.ac(d,-2,this,"__send__"),o=0,c=arguments.length,$=new Array(c);o<c;o++)$[o]=arguments[o];return function(){try{return a.__sending_message=t,s(a,e.find_super_dispatcher(a,"__send__",p,!1),$,i)}finally{a.__sending_message=n}}()},p.$$arity=-2,p.$$parameters=[["req","name"],["rest","args"],["block","block"]]),o.stderr=g,e.defn(h,"$send",d=function(t){var r,a=this,i=d.$$p,$=i||n,o=arguments.length,c=o-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<o;_++)r[_-1]=arguments[_];i&&(d.$$p=null);var l=arguments.length;return l<1&&e.ac(l,-2,this,"send"),s(a,"__send__",[t].concat(e.to_a(r)),$.$to_proc())},d.$$arity=-2,d.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defn(h,"$initialize",f=function(){var t,r=this,a=f.$$p,i=n,$=n,o=n,c=arguments.length,_=c-0;_<0&&(_=0),t=new Array(_);for(var l=0;l<c;l++)t[l-0]=arguments[l];for(a&&(f.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return s(r,e.find_super_dispatcher(r,"initialize",f,!1),i,a),r.__sending_message=n},f.$$arity=-1,f.$$parameters=[["rest","args"]])}(p[0],p),function(t,$super,r){function a(){}var i,$,o=a=c(t,$super,"InstanceVerifyingDouble",a),_=o.$$proto,l=[o].concat(r);_.name=_.doubled_module=n,o.$include(e.const_get_relative(l,"TestDouble")),o.$include(e.const_get_relative(l,"VerifyingDouble")),e.defn(o,"$initialize",i=function(t){var r,a=this,n=i.$$p,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var c=1;c<$;c++)r[c-1]=arguments[c];n&&(i.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"initialize"),a.doubled_module=t,s(a,e.find_super_dispatcher(a,"initialize",i,!1),[t.$description()+" (instance)"].concat(e.to_a(r)),null)},i.$$arity=-2,i.$$parameters=[["req","doubled_module"],["rest","args"]]),e.defn(o,"$__build_mock_proxy",$=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"__build_mock_proxy"),e.const_get_relative(l,"VerifyingProxy").$new(r,t,r.name,r.doubled_module,e.const_get_relative(l,"InstanceMethodReference"))},$.$$arity=1,$.$$parameters=[["req","order_group"]])}(p[0],null,p),function(t,r){var a,$,o,c,l=a=i(t,"ObjectVerifyingDoubleMethods"),u=(l.$$proto,[l].concat(r));l.$include(e.const_get_relative(u,"TestDouble")),l.$include(e.const_get_relative(u,"VerifyingDouble")),e.defn(l,"$as_stubbed_const",$=function(t){var r=this;null==r.doubled_module&&(r.doubled_module=n),null==t&&(t=_([],{}));var a=arguments.length;return a>1&&e.ac(a,-1,this,"as_stubbed_const"),e.const_get_relative(u,"ConstantMutator").$stub(r.doubled_module.$const_to_replace(),r,t),r},$.$$arity=-1,$.$$parameters=[["opt","options"]]),l.$private(),e.defn(l,"$initialize",o=function(t){var r,a=this,n=o.$$p,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var c=1;c<i;c++)r[c-1]=arguments[c];n&&(o.$$p=null);var _=arguments.length;return _<1&&e.ac(_,-2,this,"initialize"),a.doubled_module=t,s(a,e.find_super_dispatcher(a,"initialize",o,!1),[t.$description()].concat(e.to_a(r)),null)},o.$$arity=-2,o.$$parameters=[["req","doubled_module"],["rest","args"]]),e.defn(l,"$__build_mock_proxy",c=function(t){var r=this;null==r.name&&(r.name=n),null==r.doubled_module&&(r.doubled_module=n);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"__build_mock_proxy"),e.const_get_relative(u,"VerifyingProxy").$new(r,t,r.name,r.doubled_module,e.const_get_relative(u,"ObjectMethodReference"))},c.$$arity=1,c.$$parameters=[["req","order_group"]])}(p[0],p),function(t,$super,r){function a(){}var n=a=c(t,$super,"ObjectVerifyingDouble",a),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"ObjectVerifyingDoubleMethods"))}(p[0],null,p),function(t,$super,r){function a(){}var n=a=c(t,$super,"ClassVerifyingDouble",a),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"ObjectVerifyingDoubleMethods"))}(p[0],e.const_get_relative(p,"Module"),p)}(p[0],p)}(a[0],a)},Opal.modules["rspec/mocks/verifying_message_expecation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$require_rspec_support","$attr_accessor","$===","$first","$>","$length","$validate_expected_arguments!","$private","$nil?","$method_reference","$with_signature","$new","$valid?","$raise_invalid_arguments_error"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_support("method_signature_verifier"),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Mocks"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_,l,u=o=i(r,$super,"VerifyingMessageExpectation",o),p=(u.$$proto,[u].concat(n));u.$attr_accessor("method_reference"),e.defn(u,"$initialize",c=function(){var t,r=this,n=c.$$p,i=a,s=a,o=a,_=arguments.length,l=_-0;l<0&&(l=0),t=new Array(l);for(var u=0;u<_;u++)t[u-0]=arguments[u];for(n&&(c.$$p=null),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return $(r,e.find_super_dispatcher(r,"initialize",c,!1),i,n)},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(u,"$with",_=function(){var r,n=this,i=_.$$p,o=a,c=a,l=a,u=a,d=arguments.length,f=d-0;f<0&&(f=0),r=new Array(f);for(var h=0;h<d;h++)r[h-0]=arguments[h];for(i&&(_.$$p=null),l=0,u=arguments.length,c=new Array(u);l<u;l++)c[l]=arguments[l];return s(e.const_get_qualified(e.const_get_relative(p,"ArgumentMatchers"),"AnyArgsMatcher")["$==="](r.$first()))||(o=function(){return s(e.const_get_qualified(e.const_get_relative(p,"ArgumentMatchers"),"NoArgsMatcher")["$==="](r.$first()))?[]:s(t(r.$length(),0))?r:$(n,e.find_super_dispatcher(n,"with",_,!1),c,i)}(),n["$validate_expected_arguments!"](o)),$(n,e.find_super_dispatcher(n,"with",_,!1),c,i)},_.$$arity=-1,_.$$parameters=[["rest","args"],["block","block"]]),u.$private(),e.defn(u,"$validate_expected_arguments!",l=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"validate_expected_arguments!"),s(n.$method_reference()["$nil?"]())?a:$(n.$method_reference(),"with_signature",[],(r=function(n){var i=r.$$s||this,$=a;if(null==i.error_generator&&(i.error_generator=a),null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"validate_expected_arguments!")}return $=e.const_get_qualified(e.const_get_relative(p,"Support"),"LooseSignatureVerifier").$new(n,t),s($["$valid?"]())?a:(i.failed_fast=!0,i.error_generator.$raise_invalid_arguments_error($))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","signature"]],r))},l.$$arity=1,l.$$parameters=[["req","actual_args"]])}(l[0],e.const_get_relative(l,"MessageExpectation"),l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/mocks/verifying_proxy"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.hash2,s=e.truthy,o=e.klass;return e.add_stubs(["$require_rspec_mocks","$ensure_implemented","$unimplemented?","$[]","$method_reference","$raise_unimplemented_error","$visibility","$==","$raise_non_public_error","$include","$new","$[]=","$-","$tap","$to_proc","$method_reference=","$validate_arguments!","$private","$with_signature","$valid?","$raise","$error_message","$respond_to?","$save_original_method!","$original_method","$!"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_mocks("verifying_message_expecation"),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_mocks("method_reference"),function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"Mocks"),u=(l.$$proto,[l].concat(c));!function(t,r){var o,c,_,l,u,p,d=o=n(t,"VerifyingProxyMethods");d.$$proto,[d].concat(r);e.defn(d,"$add_stub",c=function(t,r){var n=this,s=c.$$p,o=a,_=a,l=a;null==r&&(r=$([],{})),s&&(c.$$p=null);var u=arguments.length;for((u<1||u>2)&&e.ac(u,-2,this,"add_stub"),_=0,l=arguments.length,o=new Array(l);_<l;_++)o[_]=arguments[_];return n.$ensure_implemented(t),i(n,e.find_super_dispatcher(n,"add_stub",c,!1),o,s)},c.$$arity=-2,c.$$parameters=[["req","method_name"],["opt","opts"],["block","implementation"]]),e.defn(d,"$add_simple_stub",_=function(t){var r,n=this,$=_.$$p,s=a,o=a,c=a,l=arguments.length,u=l-1;u<0&&(u=0),r=new Array(u);for(var p=1;p<l;p++)r[p-1]=arguments[p];$&&(_.$$p=null);var d=arguments.length;for(d<1&&e.ac(d,-2,this,"add_simple_stub"),o=0,c=arguments.length,s=new Array(c);o<c;o++)s[o]=arguments[o];return n.$ensure_implemented(t),i(n,e.find_super_dispatcher(n,"add_simple_stub",_,!1),s,$)},_.$$arity=-2,_.$$parameters=[["req","method_name"],["rest","args"]]),e.defn(d,"$add_message_expectation",l=function(t,r){var n=this,s=l.$$p,o=a,c=a,_=a;null==r&&(r=$([],{})),s&&(l.$$p=null);var u=arguments.length;for((u<1||u>2)&&e.ac(u,-2,this,"add_message_expectation"),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return n.$ensure_implemented(t),i(n,e.find_super_dispatcher(n,"add_message_expectation",l,!1),o,s)},l.$$arity=-2,l.$$parameters=[["req","method_name"],["opt","opts"],["block","block"]]),e.defn(d,"$ensure_implemented",u=function(t){var r=this;null==r.error_generator&&(r.error_generator=a),null==r.doubled_module&&(r.doubled_module=a);var n=arguments.length;return 1!==n&&e.ac(n,1,this,"ensure_implemented"),s(r.$method_reference()["$[]"](t)["$unimplemented?"]())?r.error_generator.$raise_unimplemented_error(r.doubled_module,t):a},u.$$arity=1,u.$$parameters=[["req","method_name"]]),e.defn(d,"$ensure_publicly_implemented",p=function(t){var r=this,n=a;null==r.error_generator&&(r.error_generator=a);var i=arguments.length;return 2!==i&&e.ac(i,2,this,"ensure_publicly_implemented"),r.$ensure_implemented(t),n=r.$method_reference()["$[]"](t).$visibility(),n["$=="]("public")?a:r.error_generator.$raise_non_public_error(t,n)},p.$$arity=2,p.$$parameters=[["req","method_name"],["req","_object"]])}(u[0],u),function(r,$super,n){function $(){}var c,_,l,u=$=o(r,$super,"VerifyingProxy",$),p=u.$$proto,d=[u].concat(n);p.method_reference=a,u.$include(e.const_get_relative(d,"VerifyingProxyMethods")),e.defn(u,"$initialize",c=function(r,n,$,s,o){var _,l=this,u=c.$$p;u&&(c.$$p=null);var p=arguments.length;return 5!==p&&e.ac(p,5,this,"initialize"),i(l,e.find_super_dispatcher(l,"initialize",c,!1),[r,n,$],null),l.object=r,l.doubled_module=s,l.method_reference_class=o,l.method_doubles=i(e.const_get_relative(d,"Hash"),"new",[],(_=function(r,n){var $=_.$$s||this,s=a;if(null==$.object&&($.object=a),null==r&&(r=a),null==n&&(n=a),_.$$is_lambda||_.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"initialize")}return s=[n,e.const_get_relative(d,"VerifyingMethodDouble").$new($.object,n,$,$.$method_reference()["$[]"](n))],i(r,"[]=",e.to_a(s)),s[t(s.length,1)]},_.$$s=l,_.$$arity=2,_.$$parameters=[["req","h"],["req","k"]],_))},c.$$arity=5,c.$$parameters=[["req","object"],["req","order_group"],["req","name"],["req","doubled_module"],["req","method_reference_class"]]),e.defn(u,"$method_reference",_=function(){var r,n,$=this,o=arguments.length;return 0!==o&&e.ac(o,0,this,"method_reference"),$.method_reference=s(r=$.method_reference)?r:i(e.const_get_relative(d,"Hash"),"new",[],(n=function(r,$){var s=n.$$s||this,o=a;if(null==s.method_reference_class&&(s.method_reference_class=a),null==s.doubled_module&&(s.doubled_module=a),null==r&&(r=a),null==$&&($=a),n.$$is_lambda||n.$$define_meth){var c=arguments.length;2!==c&&e.block_ac(c,2,"method_reference")}return o=[$,s.method_reference_class.$new(s.doubled_module,$)],i(r,"[]=",e.to_a(o)),o[t(o.length,1)]},n.$$s=$,n.$$arity=2,n.$$parameters=[["req","h"],["req","k"]],n))},_.$$arity=0,_.$$parameters=[]),e.defn(u,"$visibility_for",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"visibility_for"),r.$method_reference()["$[]"](t).$visibility()},l.$$arity=1,l.$$parameters=[["req","method_name"]])}(u[0],e.const_get_relative(u,"TestDoubleProxy"),u),function(r,$super,n){function $(){}var s,c,_=$=o(r,$super,"VerifyingPartialDoubleProxy",$),l=_.$$proto,u=[_].concat(n);l.method_doubles=a,_.$include(e.const_get_relative(u,"VerifyingProxyMethods")),e.defn(_,"$initialize",s=function(r,n){var $,o=this,c=s.$$p;c&&(s.$$p=null);var _=arguments.length;return 2!==_&&e.ac(_,2,this,"initialize"),i(o,e.find_super_dispatcher(o,"initialize",s,!1),[r,n],null),o.doubled_module=e.const_get_relative(u,"DirectObjectReference").$new(r),o.method_doubles=i(e.const_get_relative(u,"Hash"),"new",[],($=function(n,s){var o=$.$$s||this,c=a;if(null==n&&(n=a),null==s&&(s=a),$.$$is_lambda||$.$$define_meth){var _=arguments.length;2!==_&&e.block_ac(_,2,"initialize")}return c=[s,e.const_get_relative(u,"VerifyingExistingMethodDouble").$new(r,s,o)],i(n,"[]=",e.to_a(c)),c[t(c.length,1)]},$.$$s=o,$.$$arity=2,$.$$parameters=[["req","h"],["req","k"]],$))},s.$$arity=2,s.$$parameters=[["req","object"],["req","expectation_ordering"]]),e.defn(_,"$method_reference",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"method_reference"),t.method_doubles},c.$$arity=0,c.$$parameters=[])}(u[0],e.const_get_relative(u,"PartialDoubleProxy"),u),function(t,$super,r){function a(){}var n=a=o(t,$super,"VerifyingPartialClassDoubleProxy",a),i=(n.$$proto,[n].concat(r));n.$include(e.const_get_relative(i,"PartialClassDoubleProxyMethods"))}(u[0],e.const_get_relative(u,"VerifyingPartialDoubleProxy"),u),function(r,$super,n){function $(){}var c,_,l,u,p,d,f=$=o(r,$super,"VerifyingMethodDouble",$),h=f.$$proto,m=[f].concat(n);h.method_reference=a,e.defn(f,"$initialize",c=function(t,r,a,n){var $=this,s=c.$$p;s&&(c.$$p=null);var o=arguments.length;return 4!==o&&e.ac(o,4,this,"initialize"),i($,e.find_super_dispatcher($,"initialize",c,!1),[t,r,a],null),$.method_reference=n},c.$$arity=4,c.$$parameters=[["req","object"],["req","method_name"],["req","proxy"],["req","method_reference"]]),e.defn(f,"$message_expectation_class",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"message_expectation_class"),e.const_get_relative(m,"VerifyingMessageExpectation")},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$add_expectation",l=function(){var r,n,$=this,s=l.$$p,o=s||a,c=arguments.length,_=c-0;_<0&&(_=0),n=new Array(_);for(var u=0;u<c;u++)n[u-0]=arguments[u];return s&&(l.$$p=null),i(i($,e.find_super_dispatcher($,"add_expectation",l,!1),e.to_a(n),o.$to_proc()),"tap",[],(r=function(n){var $=r.$$s||this,s=a;if(null==$.method_reference&&($.method_reference=a),null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"add_expectation")}return s=[$.method_reference],i(n,"method_reference=",e.to_a(s)),s[t(s.length,1)]},r.$$s=$,r.$$arity=1,r.$$parameters=[["req","x"]],r))},l.$$arity=-1,l.$$parameters=[["rest","args"],["block","block"]]),e.defn(f,"$add_stub",u=function(){var r,n,$=this,s=u.$$p,o=s||a,c=arguments.length,_=c-0;_<0&&(_=0),n=new Array(_);for(var l=0;l<c;l++)n[l-0]=arguments[l];return s&&(u.$$p=null),i(i($,e.find_super_dispatcher($,"add_stub",u,!1),e.to_a(n),o.$to_proc()),"tap",[],(r=function(n){var $=r.$$s||this,s=a;if(null==$.method_reference&&($.method_reference=a),null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"add_stub")}return s=[$.method_reference],i(n,"method_reference=",e.to_a(s)),s[t(s.length,1)]},r.$$s=$,r.$$arity=1,r.$$parameters=[["req","x"]],r))},u.$$arity=-1,u.$$parameters=[["rest","args"],["block","block"]]),e.defn(f,"$proxy_method_invoked",p=function(){var t,r=this,n=p.$$p,$=a,s=a,o=a,c=arguments.length,_=c-1;_<0&&(_=0),t=new Array(_);for(var l=1;l<c;l++)t[l-1]=arguments[l];n&&(p.$$p=null);var u=arguments.length;for(u<1&&e.ac(u,-2,this,"proxy_method_invoked"),s=0,o=arguments.length,$=new Array(o);s<o;s++)$[s]=arguments[s];return r["$validate_arguments!"](t),i(r,e.find_super_dispatcher(r,"proxy_method_invoked",p,!1),$,n)},p.$$arity=-2,p.$$parameters=[["req","obj"],["rest","args"],["block","block"]]),f.$private(),e.defn(f,"$validate_arguments!",d=function(t){var r,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"validate_arguments!"),i(n.method_reference,"with_signature",[],(r=function(n){var i=r.$$s||this,$=a;if(null==n&&(n=a),r.$$is_lambda||r.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"validate_arguments!")}return $=e.const_get_qualified(e.const_get_relative(m,"Support"),"StrictSignatureVerifier").$new(n,t),s($["$valid?"]())?a:i.$raise(e.const_get_relative(m,"ArgumentError"),$.$error_message())},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","signature"]],r))},d.$$arity=1,d.$$parameters=[["req","actual_args"]])}(u[0],e.const_get_relative(u,"MethodDouble"),u),function(t,$super,r){function n(){}var $,s,c,_=n=o(t,$super,"VerifyingExistingMethodDouble",n),l=_.$$proto,u=[_].concat(r);l.valid_method=a,e.defn(_,"$initialize",$=function(t,r,a){var n=this,s=$.$$p;s&&($.$$p=null);var o=arguments.length;return 3!==o&&e.ac(o,3,this,"initialize"),i(n,e.find_super_dispatcher(n,"initialize",$,!1),[t,r,a,n],null),n.valid_method=t["$respond_to?"](r,!0),n["$save_original_method!"]()},$.$$arity=3,$.$$parameters=[["req","object"],["req","method_name"],["req","proxy"]]),e.defn(_,"$with_signature",s=function(){var t=this,r=s.$$p,n=r||a;r&&(s.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"with_signature"),e.yield1(n,e.const_get_qualified(e.const_get_relative(u,"Support"),"MethodSignature").$new(t.$original_method()))},s.$$arity=0,s.$$parameters=[]),e.defn(_,"$unimplemented?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unimplemented?"),t.valid_method["$!"]()},c.$$arity=0,c.$$parameters=[])}(u[0],e.const_get_relative(u,"VerifyingMethodDouble"),u)}(u[0],u)}(r[0],r)},Opal.modules["rspec/mocks/version"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Mocks"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Version"),$=(i.$$proto,[i].concat(a));e.const_set($[0],"STRING","3.1.3")}($[0],$)}($[0],$)}(t[0],t)},Opal.modules["rspec/support/caller_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var n=(e.top,[]),i=e.nil,$=(e.breaker,e.slice,e.module),s=e.klass,o=e.truthy,c=e.send;return e.add_stubs(["$join","$+","$union","$>=","$caller","$raise","$find","$!~","$*"]),function(n,_){var l,u=l=$(n,"RSpec"),p=(u.$$proto,[u].concat(_));!function(n,$super,$){function _(){}var l,u,p=_=s(n,$super,"CallerFilter",_),d=(p.$$proto,[p].concat($));e.const_set(d[0],"RSPEC_LIBS",["core","mocks","expectations","support","matchers","rails"]),e.const_set(d[0],"ADDITIONAL_TOP_LEVEL_FILES",["autorun"]),e.const_set(d[0],"LIB_REGEX",new RegExp("/lib/rspec/("+t(e.const_get_relative(d,"RSPEC_LIBS"),e.const_get_relative(d,"ADDITIONAL_TOP_LEVEL_FILES")).$join("|")+")(\\.rb|/)")),e.const_set(d[0],"IGNORE_REGEX",e.const_get_relative(d,"Regexp").$union(e.const_get_relative(d,"LIB_REGEX"),"rubygems/core_ext/kernel_require.rb")),o(r(e.const_get_relative(d,"RUBY_VERSION"),"2.0.0"))?e.defs(p,"$first_non_rspec_line",l=function(){var r,n=this,$=i,s=i,_=i,l=i,u=arguments.length;for(0!==u&&e.ac(u,0,this,"first_non_rspec_line"),$=5,s=1,_=i;!o(_);)l=n.$caller(s,$),o(l)||n.$raise("No non-lib lines in stack"),_=c(l,"find",[],(r=function(t){r.$$s;if(null==t&&(t=i),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"first_non_rspec_line")}return t["$!~"](e.const_get_relative(d,"IGNORE_REGEX"))},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","l"]],r)),s=t(s,$),$=a($,2);return _},l.$$arity=0,l.$$parameters=[]):e.defs(p,"$first_non_rspec_line",u=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"first_non_rspec_line"),c(r.$caller(),"find",[],(t=function(r){t.$$s;if(null==r&&(r=i),t.$$is_lambda||t.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"first_non_rspec_line")}return r["$!~"](e.const_get_relative(d,"IGNORE_REGEX"))},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","line"]],t))},u.$$arity=0,u.$$parameters=[])}(p[0],null,p)}(n[0],n)},Opal.modules["rspec/support/differ"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send,o=e.hash2;return e.add_stubs(["$require_rspec_support","$require","$all_strings?","$any_multiline_strings?","$diff_as_string","$coerce_to_string","$no_procs?","$no_numbers?","$diff_as_object","$to_s","$pick_encoding","$new","$each_cons","$hunks","$overlaps?","$add_old_hunk_to_hunk","$add_to_output","$diff","$format_type","$last","$finalize_output","$color_diff","$handle_encoding_errors","$object_to_string","$attr_reader","$alias_method","$fetch","$lambda","$private","$none?","$safely_flatten","$===","$all?","$any?","$multiline?","$join","$diffably_stringify","$map","$inspect","$gsub","$method_defined?","$include?","$encode","$encoding","$<<","$merge","$==","$flatten","$color","$color?","$lines","$chr","$[]","$green","$red","$blue","$normal","$call","$sort_by","$keys","$singleline_pp","$=~","$pp","$compatible?","$default_external","$!=","$source_encoding"]),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_support("encoded_string"),e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Support").$require_rspec_support("hunk_generator"),t.$require("pp"),function(t,r){var c,_=c=n(t,"RSpec"),l=(_.$$proto,[_].concat(r));!function(t,r){var c,_=c=n(t,"Support"),l=(_.$$proto,[_].concat(r));!function(t,$super,r){function n(){}var c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j,T,I,C,P=n=i(t,$super,"Differ",n),N=P.$$proto,F=[P].concat(r);N.encoding=N.hunks=N.actual=N.expected=N.object_preparer=a,e.defn(P,"$diff",c=function(t,r){var n,i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"diff"),s="",$($(n=t)?r:n)&&($(i["$all_strings?"](t,r))?$(i["$any_multiline_strings?"](t,r))&&(s=i.$diff_as_string(i.$coerce_to_string(t),i.$coerce_to_string(r))):$($(n=i["$no_procs?"](t,r))?i["$no_numbers?"](t,r):n)&&(s=i.$diff_as_object(t,r))),s.$to_s()},c.$$arity=2,c.$$parameters=[["req","actual"],["req","expected"]]),e.defn(P,"$diff_as_string",_=function(t,r){var n,i=this,o=a,c=arguments.length;2!==c&&e.ac(c,2,this,"diff_as_string");try{return i.encoding=i.$pick_encoding(t,r),i.actual=e.const_get_relative(F,"EncodedString").$new(t,i.encoding),i.expected=e.const_get_relative(F,"EncodedString").$new(r,i.encoding),o=e.const_get_relative(F,"EncodedString").$new("\n",i.encoding),s(i.$hunks(),"each_cons",[2],(n=function(t,r){var i=n.$$s||this;if(null==t&&(t=a),null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var s=arguments.length;2!==s&&e.block_ac(s,2,"diff_as_string")}return function(){try{return $(r["$overlaps?"](t))?i.$add_old_hunk_to_hunk(r,t):i.$add_to_output(o,t.$diff(i.$format_type()).$to_s())}finally{i.$add_to_output(o,"\n")}}()},n.$$s=i,n.$$arity=2,
n.$$parameters=[["req","prev_hunk"],["req","current_hunk"]],n)),$(i.$hunks().$last())&&i.$finalize_output(o,i.$hunks().$last().$diff(i.$format_type()).$to_s()),i.$color_diff(o)}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_relative(F,"Encoding"),"CompatibilityError")]))throw t;try{return i.$handle_encoding_errors()}finally{e.pop_exception()}}},_.$$arity=2,_.$$parameters=[["req","actual"],["req","expected"]]),e.defn(P,"$diff_as_object",l=function(t,r){var n=this,i=a,$=a,s=arguments.length;return 2!==s&&e.ac(s,2,this,"diff_as_object"),i=n.$object_to_string(t),$=n.$object_to_string(r),n.$diff_as_string(i,$)},l.$$arity=2,l.$$parameters=[["req","actual"],["req","expected"]]),P.$attr_reader("color"),P.$alias_method("color?","color"),e.defn(P,"$initialize",u=function(t){var r,n=this;null==t&&(t=o([],{}));var i=arguments.length;return i>1&&e.ac(i,-1,this,"initialize"),n.color=t.$fetch("color",!1),n.object_preparer=t.$fetch("object_preparer",s(n,"lambda",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"initialize")}return t},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","string"]],r)))},u.$$arity=-1,u.$$parameters=[["opt","opts"]]),P.$private(),e.defn(P,"$no_procs?",p=function(){var t,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return s(n.$safely_flatten(r),"none?",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"no_procs?")}return e.const_get_relative(F,"Proc")["$==="](r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","a"]],t))},p.$$arity=-1,p.$$parameters=[["rest","args"]]),e.defn(P,"$all_strings?",d=function(){var t,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return s(n.$safely_flatten(r),"all?",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"all_strings?")}return e.const_get_relative(F,"String")["$==="](r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","a"]],t))},d.$$arity=-1,d.$$parameters=[["rest","args"]]),e.defn(P,"$any_multiline_strings?",f=function(){var t,r,n,i=this,o=arguments.length,c=o-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<o;_++)n[_-0]=arguments[_];return $(t=s(i,"all_strings?",e.to_a(n)))?s(i.$safely_flatten(n),"any?",[],(r=function(t){var n=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"any_multiline_strings?")}return n["$multiline?"](t)},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","a"]],r)):t},f.$$arity=-1,f.$$parameters=[["rest","args"]]),e.defn(P,"$no_numbers?",h=function(){var t,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return s(n.$safely_flatten(r),"none?",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"no_numbers?")}return e.const_get_relative(F,"Numeric")["$==="](r)},t.$$s=n,t.$$arity=1,t.$$parameters=[["req","a"]],t))},h.$$arity=-1,h.$$parameters=[["rest","args"]]),e.defn(P,"$coerce_to_string",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"coerce_to_string"),$(e.const_get_relative(F,"Array")["$==="](t))?r.$diffably_stringify(t).$join("\n"):t},m.$$arity=1,m.$$parameters=[["req","string_or_array"]]),e.defn(P,"$diffably_stringify",g=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"diffably_stringify"),s(t,"map",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"diffably_stringify")}return $(e.const_get_relative(F,"Array")["$==="](t))?t.$inspect():t.$to_s().$gsub("\n","\\n")},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","entry"]],r))},g.$$arity=1,g.$$parameters=[["req","array"]]),$(e.const_get_relative(F,"String")["$method_defined?"]("encoding"))?e.defn(P,"$multiline?",v=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"multiline?"),t["$include?"]("\n".$encode(t.$encoding()))},v.$$arity=1,v.$$parameters=[["req","string"]]):e.defn(P,"$multiline?",y=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"multiline?"),t["$include?"]("\n")},y.$$arity=1,y.$$parameters=[["req","string"]]),e.defn(P,"$hunks",b=function(){var t,r=this,a=arguments.length;return 0!==a&&e.ac(a,0,this,"hunks"),r.hunks=$(t=r.hunks)?t:e.const_get_relative(F,"HunkGenerator").$new(r.actual,r.expected).$hunks()},b.$$arity=0,b.$$parameters=[]),e.defn(P,"$finalize_output",x=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"finalize_output"),a.$add_to_output(t,r),a.$add_to_output(t,"\n")},x.$$arity=2,x.$$parameters=[["req","output"],["req","final_line"]]),e.defn(P,"$add_to_output",k=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"add_to_output"),t["$<<"](r)},k.$$arity=2,k.$$parameters=[["req","output"],["req","string"]]),e.defn(P,"$add_old_hunk_to_hunk",q=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"add_old_hunk_to_hunk"),t.$merge(r)},q.$$arity=2,q.$$parameters=[["req","hunk"],["req","oldhunk"]]),e.defn(P,"$safely_flatten",w=function(t){var r=arguments.length;for(1!==r&&e.ac(r,1,this,"safely_flatten");!$(t["$=="](t.$flatten(1)));)t=t.$flatten(1);return t},w.$$arity=1,w.$$parameters=[["req","array"]]),e.defn(P,"$format_type",E=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"format_type"),"unified"},E.$$arity=0,E.$$parameters=[]),e.defn(P,"$color",S=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"color"),"e["+r+"m"+t+"e[0m"},S.$$arity=2,S.$$parameters=[["req","text"],["req","color_code"]]),e.defn(P,"$red",M=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"red"),r.$color(t,31)},M.$$arity=1,M.$$parameters=[["req","text"]]),e.defn(P,"$green",O=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"green"),r.$color(t,32)},O.$$arity=1,O.$$parameters=[["req","text"]]),e.defn(P,"$blue",A=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"blue"),r.$color(t,34)},A.$$arity=1,A.$$parameters=[["req","text"]]),e.defn(P,"$normal",R=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"normal"),r.$color(t,0)},R.$$arity=1,R.$$parameters=[["req","text"]]),e.defn(P,"$color_diff",z=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"color_diff"),$(n["$color?"]())?s(t.$lines(),"map",[],(r=function(t){var n=r.$$s||this,i=a;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"color_diff")}return function(){return i=t["$[]"](0).$chr(),"+"["$==="](i)?n.$green(t):"-"["$==="](i)?n.$red(t):"@"["$==="](i)&&t["$[]"](1).$chr()["$=="]("@")?n.$blue(t):n.$normal(t)}()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","line"]],r)).$join():t},z.$$arity=1,z.$$parameters=[["req","diff"]]),e.defn(P,"$object_to_string",j=function(t){var r,n,i=this,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"object_to_string"),t=i.object_preparer.$call(t),function(){return o=t,e.const_get_relative(F,"Hash")["$==="](o)?s(s(t.$keys(),"sort_by",[],(r=function(t){r.$$s;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"object_to_string")}return t.$to_s()},r.$$s=i,r.$$arity=1,r.$$parameters=[["req","k"]],r)),"map",[],(n=function(r){var i=(n.$$s,a),$=a;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"object_to_string")}return i=e.const_get_relative(F,"PP").$singleline_pp(r,""),$=e.const_get_relative(F,"PP").$singleline_pp(t["$[]"](r),""),i+" => "+$+","},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","key"]],n)).$join("\n"):e.const_get_relative(F,"String")["$==="](o)?$(t["$=~"](/\n/))?t:t.$inspect():e.const_get_relative(F,"PP").$pp(t,"")}()},j.$$arity=1,j.$$parameters=[["req","object"]]),$(e.const_get_relative(F,"String")["$method_defined?"]("encoding"))?e.defn(P,"$pick_encoding",T=function(t,r){var a,n=arguments.length;return 2!==n&&e.ac(n,2,this,"pick_encoding"),$(a=e.const_get_relative(F,"Encoding")["$compatible?"](t,r))?a:e.const_get_relative(F,"Encoding").$default_external()},T.$$arity=2,T.$$parameters=[["req","source_a"],["req","source_b"]]):e.defn(P,"$pick_encoding",I=function(){var t=arguments.length;return 2!==t&&e.ac(t,2,this,"pick_encoding"),a},I.$$arity=2,I.$$parameters=[["req","_source_a"],["req","_source_b"]]),e.defn(P,"$handle_encoding_errors",C=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"handle_encoding_errors"),$(t.actual.$source_encoding()["$!="](t.expected.$source_encoding()))?"Could not produce a diff because the encoding of the actual string ("+t.actual.$source_encoding()+") differs from the encoding of the expected string ("+t.expected.$source_encoding()+")":"Could not produce a diff because of the encoding of the string ("+t.expected.$source_encoding()+")"},C.$$arity=0,C.$$parameters=[])}(l[0],null,l)}(l[0],l)}(r[0],r)},Opal.modules["rspec/support/directory_maker"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy;return e.add_stubs(["$require_rspec_support","$generate_stack","$each","$split","$generate_path","$directory_exists?","$mkdir","$raise","$message","$windows_file_path?","$start_with?","$==","$[]","$join","$exist?","$directory?","$private_class_method"]),e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support").$require_rspec_support("os"),function(t,s){var o,c=o=a(t,"RSpec"),_=(c.$$proto,[c].concat(s));!function(t,s){var o,c=o=a(t,"Support"),_=(c.$$proto,[c].concat(s));!function(t,$super,a){function s(){}var o,c,_,l,u,p,d=s=n(t,$super,"DirectoryMaker",s),f=(d.$$proto,[d].concat(a));e.defs(d,"$mkdir_p",o=function(t){var a,n=this,s=r,o=arguments.length;return 1!==o&&e.ac(o,1,this,"mkdir_p"),s=n.$generate_stack(t),i(t.$split(e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR")),"each",[],(a=function(t){var n=a.$$s||this,i=r;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"mkdir_p")}s=n.$generate_path(s,t);try{return $(n["$directory_exists?"](s))?r:e.const_get_relative(f,"Dir").$mkdir(s)}catch(t){if(!e.rescue(t,[e.const_get_qualified(e.const_get_relative(f,"Errno"),"ENOTDIR")]))throw t;i=t;try{return n.$raise(e.const_get_qualified(e.const_get_relative(f,"Errno"),"EEXIST"),i.$message())}finally{e.pop_exception()}}},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","part"]],a))},o.$$arity=1,o.$$parameters=[["req","path"]]),$(e.const_get_relative(f,"OS")["$windows_file_path?"]())?(e.defs(d,"$generate_stack",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"generate_stack"),$(t["$start_with?"](e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR")))?e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR"):t["$[]"](1)["$=="](":")?"":"."},c.$$arity=1,c.$$parameters=[["req","path"]]),e.defs(d,"$generate_path",_=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"generate_path"),t["$=="]("")?r:t["$=="](e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR"))?e.const_get_relative(f,"File").$join("",r):e.const_get_relative(f,"File").$join(t,r)},_.$$arity=2,_.$$parameters=[["req","stack"],["req","part"]])):(e.defs(d,"$generate_stack",l=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"generate_stack"),$(t["$start_with?"](e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR")))?e.const_get_qualified(e.const_get_relative(f,"File"),"SEPARATOR"):"."},l.$$arity=1,l.$$parameters=[["req","path"]]),e.defs(d,"$generate_path",u=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"generate_path"),e.const_get_relative(f,"File").$join(t,r)},u.$$arity=2,u.$$parameters=[["req","stack"],["req","part"]])),e.defs(d,"$directory_exists?",p=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"directory_exists?"),$(r=e.const_get_relative(f,"File")["$exist?"](t))?e.const_get_relative(f,"File")["$directory?"](t):r},p.$$arity=1,p.$$parameters=[["req","dirname"]]),d.$private_class_method("directory_exists?"),d.$private_class_method("generate_stack"),d.$private_class_method("generate_path")}(_[0],null,_)}(_[0],_)}(t[0],t)},Opal.modules["rspec/support/encoded_string"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$detect_source_encoding","$matching_encoding","$attr_reader","$&","$map","$instance_methods","$to_proc","$each","$define_method","$__send__","$<<","$split","$method_defined?","$private","$encode","$normalize_missing","$force_encoding","$==","$to_s","$gsub","$encoding"]),function(t,o){var c,_=c=a(t,"RSpec"),l=(_.$$proto,[_].concat(o));!function(t,o){var c,_=c=a(t,"Support"),l=(_.$$proto,[_].concat(o));!function(t,$super,a){function o(){}var c,_,l,u,p,d,f,h,m,g,v=o=n(t,$super,"EncodedString",o),y=v.$$proto,b=[v].concat(a),x=r;y.string=y.encoding=r,e.const_set(b[0],"MRI_UNICODE_UNKOWN_CHARACTER","\ufffd"),e.defn(v,"$initialize",c=function(t,a){var n=this;null==a&&(a=r);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"initialize"),n.encoding=a,n.source_encoding=n.$detect_source_encoding(t),n.string=n.$matching_encoding(t)},c.$$arity=-2,c.$$parameters=[["req","string"],["opt","encoding"]]),v.$attr_reader("source_encoding"),x=i(e.const_get_relative(b,"String").$instance_methods(),"map",[],"to_s".$to_proc())["$&"](["eql?","lines","==","encoding","empty?"]),i(x,"each",[],(_=function(t){var a,n=_.$$s||this;if(null==t&&(t=r),_.$$is_lambda||_.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"<class:EncodedString>")}return i(n,"define_method",[t],(a=function(){var n,$,s=a.$$s||this;null==s.string&&(s.string=r),(n=a.$$p||r)&&(a.$$p=null);var o=arguments.length,c=o-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<o;_++)$[_-0]=arguments[_];return i(s.string,"__send__",[t].concat(e.to_a($)),n.$to_proc())},a.$$s=n,a.$$arity=-1,a.$$parameters=[["rest","args"],["block","block"]],a))},_.$$s=v,_.$$arity=1,_.$$parameters=[["req","name"]],_)),e.defn(v,"$<<",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"<<"),r.string["$<<"](r.$matching_encoding(t))},l.$$arity=1,l.$$parameters=[["req","string"]]),e.defn(v,"$split",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"split"),r.string.$split(r.$matching_encoding(t))},u.$$arity=1,u.$$parameters=[["req","regex_or_string"]]),e.defn(v,"$to_s",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.string},p.$$arity=0,p.$$parameters=[]),e.alias(v,"to_str","to_s"),$(e.const_get_relative(b,"String")["$method_defined?"]("encoding"))?(v.$private(),e.defn(v,"$matching_encoding",d=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"matching_encoding");try{return t.$encode(r.encoding)}catch(a){if(e.rescue(a,[e.const_get_qualified(e.const_get_relative(b,"Encoding"),"UndefinedConversionError"),e.const_get_qualified(e.const_get_relative(b,"Encoding"),"InvalidByteSequenceError")]))try{return r.$normalize_missing(t.$encode(r.encoding,s(["invalid","undef"],{invalid:"replace",undef:"replace"})))}finally{e.pop_exception()}else{if(!e.rescue(a,[e.const_get_qualified(e.const_get_relative(b,"Encoding"),"ConverterNotFoundError")]))throw a;try{return r.$normalize_missing(t.$force_encoding(r.encoding).$encode(s(["invalid"],{invalid:"replace"})))}finally{e.pop_exception()}}}},d.$$arity=1,d.$$parameters=[["req","string"]]),e.defn(v,"$normalize_missing",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"normalize_missing"),r.encoding.$to_s()["$=="]("UTF-8")?t.$gsub(e.const_get_relative(b,"MRI_UNICODE_UNKOWN_CHARACTER").$force_encoding(r.encoding),"?"):t},f.$$arity=1,f.$$parameters=[["req","string"]]),e.defn(v,"$detect_source_encoding",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"detect_source_encoding"),t.$encoding()},h.$$arity=1,h.$$parameters=[["req","string"]])):(v.$private(),e.defn(v,"$matching_encoding",m=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"matching_encoding"),t},m.$$arity=1,m.$$parameters=[["req","string"]]),e.defn(v,"$detect_source_encoding",g=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"detect_source_encoding"),"US-ASCII"},g.$$arity=1,g.$$parameters=[["req","_string"]]))}(l[0],null,l)}(l[0],l)}(t[0],t)},Opal.modules["rspec/support/hunk_generator"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$require","$map","$diffs","$build_hunk","$private","$diff","$expected_lines","$actual_lines","$map!","$split","$chomp","$tap","$new","$context_lines","$file_length_difference"]),t.$require("diff/lcs"),t.$require("diff/lcs/hunk"),function(t,r){var o,c=o=n(t,"RSpec"),_=(c.$$proto,[c].concat(r));!function(t,r){var o,c=o=n(t,"Support"),_=(c.$$proto,[c].concat(r));!function(t,$super,r){function n(){}var o,c,_,l,u,p,d,f=n=i(t,$super,"HunkGenerator",n),h=f.$$proto,m=[f].concat(r);h.hunks=h.expected=h.actual=h.file_length_difference=a,e.defn(f,"$initialize",o=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"initialize"),a.actual=t,a.expected=r},o.$$arity=2,o.$$parameters=[["req","actual"],["req","expected"]]),e.defn(f,"$hunks",c=function(){var t,r,n=this,i=arguments.length;return 0!==i&&e.ac(i,0,this,"hunks"),n.file_length_difference=0,n.hunks=$(t=n.hunks)?t:s(n.$diffs(),"map",[],(r=function(t){var n=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"hunks")}return n.$build_hunk(t)},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","piece"]],r))},c.$$arity=0,c.$$parameters=[]),f.$private(),e.defn(f,"$diffs",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"diffs"),e.const_get_qualified(e.const_get_relative(m,"Diff"),"LCS").$diff(t.$expected_lines(),t.$actual_lines())},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$expected_lines",l=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"expected_lines"),s(r.expected.$split("\n"),"map!",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"expected_lines")}return r.$chomp()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","e"]],t))},l.$$arity=0,l.$$parameters=[]),e.defn(f,"$actual_lines",u=function(){var t,r=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"actual_lines"),s(r.actual.$split("\n"),"map!",[],(t=function(r){t.$$s;if(null==r&&(r=a),t.$$is_lambda||t.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"actual_lines")}return r.$chomp()},t.$$s=r,t.$$arity=1,t.$$parameters=[["req","e"]],t))},u.$$arity=0,u.$$parameters=[]),e.defn(f,"$build_hunk",p=function(t){var r,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"build_hunk"),s(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(m,"Diff"),"LCS"),"Hunk").$new(n.$expected_lines(),n.$actual_lines(),t,n.$context_lines(),n.file_length_difference),"tap",[],(r=function(t){var n=r.$$s||this;if(null==t&&(t=a),r.$$is_lambda||r.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"build_hunk")}return n.file_length_difference=t.$file_length_difference()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req","h"]],r))},p.$$arity=1,p.$$parameters=[["req","piece"]]),e.defn(f,"$context_lines",d=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"context_lines"),3},d.$$arity=0,d.$$parameters=[])}(_[0],null,_)}(_[0],_)}(r[0],r)},Opal.modules["rspec/support/method_signature_verifier"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var $=e.top,s=[],o=e.nil,c=(e.breaker,e.slice,e.module),_=e.klass,l=e.truthy,u=e.send;return e.add_stubs(["$require","$require_rspec_support","$attr_reader","$classify_parameters","$max_non_kw_args","$===","$min_non_kw_args","$to_s","$<=","$optional_and_splat_args_supported?","$==","$non_kw_args_arity_description","$<<","$any?","$join","$map","$to_proc","$-","$last","$could_contain_kw_args?","$count","$each","$parameters","$+","$arity","$<","$~","$/","$split_args","$empty?","$missing_kw_args","$invalid_kw_args","$valid_non_kw_args?","$%","$!","$length","$non_kw_args","$private","$missing_kw_args_from","$kw_args","$invalid_kw_args_from","$has_kw_args_in?","$keys","$pop","$is_a_matcher?","$new"]),$.$require("rspec/support"),e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support").$require_rspec_support("ruby_features"),e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support").$require_rspec_support("matcher_definition"),function($,s){var p,d=p=c($,"RSpec"),f=(d.$$proto,[d].concat(s));!function($,s){var p,d=p=c($,"Support"),f=(d.$$proto,[d].concat(s));!function($,$super,s){function c(){}var p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M=c=_($,$super,"MethodSignature",c),O=M.$$proto,A=[M].concat(s);O.description=O.optional_kw_args=O.required_kw_args=O.allows_any_kw_args=O.allowed_kw_args=O.method=O.min_non_kw_args=o,M.$attr_reader("min_non_kw_args","max_non_kw_args"),e.defn(M,"$initialize",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.method=t,r.$classify_parameters()},p.$$arity=1,p.$$parameters=[["req","method"]]),e.defn(M,"$non_kw_args_arity_description",d=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"non_kw_args_arity_description"),function(){return r=t.$max_non_kw_args(),t.$min_non_kw_args()["$==="](r)?t.$min_non_kw_args().$to_s():e.const_get_relative(A,"INFINITY")["$==="](r)?t.$min_non_kw_args()+" or more":t.$min_non_kw_args()+" to "+t.$max_non_kw_args()}()},d.$$arity=0,d.$$parameters=[]),e.defn(M,"$valid_non_kw_args?",f=function(r){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"valid_non_kw_args?"),l(a=t(n.$min_non_kw_args(),r))?t(r,n.$max_non_kw_args()):a},f.$$arity=1,f.$$parameters=[["req","positional_arg_count"]]),l(e.const_get_relative(A,"RubyFeatures")["$optional_and_splat_args_supported?"]())?(e.defn(M,"$description",h=function(){var t,r=this,a=o,n=arguments.length;return 0!==n&&e.ac(n,0,this,"description"),r.description=l(t=r.description)?t:(a=[],function(){r.$non_kw_args_arity_description()["$=="]("0")||a["$<<"]("arity of "+r.$non_kw_args_arity_description())}(),function(){l(r.optional_kw_args["$any?"]())&&a["$<<"]("optional keyword args ("+u(r.optional_kw_args,"map",[],"inspect".$to_proc()).$join(", ")+")")}(),function(){l(r.required_kw_args["$any?"]())&&a["$<<"]("required keyword args ("+u(r.required_kw_args,"map",[],"inspect".$to_proc()).$join(", ")+")")}(),function(){l(r.allows_any_kw_args)&&a["$<<"]("any additional keyword args")}(),a.$join(" and "))},h.$$arity=0,h.$$parameters=[]),e.defn(M,"$missing_kw_args_from",m=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"missing_kw_args_from"),r(a.required_kw_args,t)},m.$$arity=1,m.$$parameters=[["req","given_kw_args"]]),e.defn(M,"$invalid_kw_args_from",g=function(t){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"invalid_kw_args_from"),l(a.allows_any_kw_args)?[]:r(t,a.allowed_kw_args)},g.$$arity=1,g.$$parameters=[["req","given_kw_args"]]),e.defn(M,"$has_kw_args_in?",v=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"has_kw_args_in?"),l(r=e.const_get_relative(A,"Hash")["$==="](t.$last()))?a["$could_contain_kw_args?"](t):r},v.$$arity=1,v.$$parameters=[["req","args"]]),e.defn(M,"$could_contain_kw_args?",y=function(r){var a,n=this,i=arguments.length;return 1!==i&&e.ac(i,1,this,"could_contain_kw_args?"),!l(t(r.$count(),n.$min_non_kw_args()))&&(l(a=n.allows_any_kw_args)?a:n.allowed_kw_args["$any?"]())},y.$$arity=1,y.$$parameters=[["req","args"]]),e.defn(M,"$classify_parameters",b=function(){var t,r,n=this,i=o,$=arguments.length;return 0!==$&&e.ac($,0,this,"classify_parameters"),i=n.min_non_kw_args=0,t=[[],[]],n.optional_kw_args=t[0],n.required_kw_args=t[1],n.allows_any_kw_args=!1,u(n.method.$parameters(),"each",[],(r=function(t){var n,$,s,c=r.$$s||this,_=o;if(null==c.required_kw_args&&(c.required_kw_args=o),null==c.optional_kw_args&&(c.optional_kw_args=o),null==c.min_non_kw_args&&(c.min_non_kw_args=o),null==t&&(t=o),t=e.to_ary(t),n=e.slice.call(t,0,t.length),$=n.splice(0,1)[0],null==$&&($=o),s=n.splice(0,1)[0],null==s&&(s=o),r.$$is_lambda||r.$$define_meth){var l=arguments.length;1!==l&&e.block_ac(l,1,"classify_parameters")}return function(){return _=$,"keyreq"["$==="](_)?c.required_kw_args["$<<"](s):"key"["$==="](_)?c.optional_kw_args["$<<"](s):"keyrest"["$==="](_)?c.allows_any_kw_args=!0:"req"["$==="](_)?c.min_non_kw_args=a(c.min_non_kw_args,1):"opt"["$==="](_)?i=a(i,1):"rest"["$==="](_)?i=e.const_get_relative(A,"INFINITY"):o}()},r.$$s=n,r.$$arity=1,r.$$parameters=[["req"]],r.$$has_top_level_mlhs_arg=!0,r)),n.max_non_kw_args=a(n.min_non_kw_args,i),n.allowed_kw_args=a(n.required_kw_args,n.optional_kw_args)},b.$$arity=0,b.$$parameters=[])):(e.defn(M,"$description",x=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"description"),"arity of "+t.$non_kw_args_arity_description()},x.$$arity=0,x.$$parameters=[]),e.defn(M,"$missing_kw_args_from",k=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"missing_kw_args_from"),[]},k.$$arity=1,k.$$parameters=[["req","_given_kw_args"]]),e.defn(M,"$invalid_kw_args_from",q=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"invalid_kw_args_from"),[]},q.$$arity=1,q.$$parameters=[["req","_given_kw_args"]]),e.defn(M,"$has_kw_args_in?",w=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"has_kw_args_in?"),!1},w.$$arity=1,w.$$parameters=[["req","_args"]]),e.defn(M,"$could_contain_kw_args?",E=function(){return!1},E.$$arity=-1,E.$$parameters=[["rest"]]),e.defn(M,"$classify_parameters",S=function(){var t=this,r=o,a=arguments.length;return 0!==a&&e.ac(a,0,this,"classify_parameters"),r=t.method.$arity(),l(n(r,0))?(t.min_non_kw_args=r["$~"](),t.max_non_kw_args=e.const_get_relative(A,"INFINITY")):(t.min_non_kw_args=r,t.max_non_kw_args=r)},S.$$arity=0,S.$$parameters=[])),e.const_set(A[0],"INFINITY",i(1,0))}(f[0],null,f),function(t,$super,r){function a(){}var n,i=a=_(t,$super,"BlockSignature",a),$=i.$$proto,s=[i].concat(r);$.max_non_kw_args=o,l(e.const_get_relative(s,"RubyFeatures")["$optional_and_splat_args_supported?"]())&&e.defn(i,"$classify_parameters",n=function(){var t=this,r=n.$$p,a=o,i=o,$=o;r&&(n.$$p=null);var c=arguments.length;for(0!==c&&e.ac(c,0,this,"classify_parameters"),i=0,$=arguments.length,a=new Array($);i<$;i++)a[i]=arguments[i];return u(t,e.find_super_dispatcher(t,"classify_parameters",n,!1),a,r),t.max_non_kw_args["$=="](e.const_get_relative(s,"INFINITY"))?o:t.min_non_kw_args=t.max_non_kw_args},n.$$arity=0,n.$$parameters=[])}(f[0],e.const_get_relative(f,"MethodSignature"),f),function(t,$super,r){function a(){}var n,i,$,s,c,p,d,f=a=_(t,$super,"MethodSignatureVerifier",a),h=f.$$proto;[f].concat(r);h.signature=o,f.$attr_reader("non_kw_args","kw_args"),e.defn(f,"$initialize",n=function(t,r){var a,n,i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"initialize"),i.signature=t,n=u(i,"split_args",e.to_a(r)),a=e.to_ary(n),i.non_kw_args=null==a[0]?o:a[0],i.kw_args=null==a[1]?o:a[1],n},n.$$arity=2,n.$$parameters=[["req","signature"],["req","args"]]),e.defn(f,"$valid?",i=function(){var t,r,a=this,n=arguments.length;return 0!==n&&e.ac(n,0,this,"valid?"),l(t=l(r=a.$missing_kw_args()["$empty?"]())?a.$invalid_kw_args()["$empty?"]():r)?a["$valid_non_kw_args?"]():t},i.$$arity=0,i.$$parameters=[]),e.defn(f,"$error_message",$=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"error_message"),l(t.$missing_kw_args()["$any?"]())?"Missing required keyword arguments: %s"["$%"]([t.$missing_kw_args().$join(", ")]):l(t.$invalid_kw_args()["$any?"]())?"Invalid keyword arguments provided: %s"["$%"]([t.$invalid_kw_args().$join(", ")]):l(t["$valid_non_kw_args?"]()["$!"]())?"Wrong number of arguments. Expected %s, got %s."["$%"]([t.signature.$non_kw_args_arity_description(),t.$non_kw_args().$length()]):o},$.$$arity=0,$.$$parameters=[]),f.$private(),e.defn(f,"$valid_non_kw_args?",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"valid_non_kw_args?"),t.signature["$valid_non_kw_args?"](t.$non_kw_args().$length())},s.$$arity=0,s.$$parameters=[]),e.defn(f,"$missing_kw_args",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"missing_kw_args"),t.signature.$missing_kw_args_from(t.$kw_args())},c.$$arity=0,c.$$parameters=[]),e.defn(f,"$invalid_kw_args",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"invalid_kw_args"),t.signature.$invalid_kw_args_from(t.$kw_args())},p.$$arity=0,p.$$parameters=[]),e.defn(f,"$split_args",d=function(){var e,t=this,r=o,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<a;i++)e[i-0]=arguments[i];return r=function(){return l(t.signature["$has_kw_args_in?"](e))?e.$pop().$keys():[]}(),[e,r]},d.$$arity=-1,d.$$parameters=[["rest","args"]])}(f[0],null,f),e.const_set(f[0],"StrictSignatureVerifier",e.const_get_relative(f,"MethodSignatureVerifier")),function(t,$super,r){function a(){}var n,i=a=_(t,$super,"LooseSignatureVerifier",a),$=i.$$proto,s=[i].concat(r);$.signature=o,i.$private(),e.defn(i,"$split_args",n=function(){var t,r,a=this,i=n.$$p,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<$;c++)r[c-0]=arguments[c];return i&&(n.$$p=null),l(l(t=e.const_get_qualified(e.const_get_relative(s,"RSpec"),"Support")["$is_a_matcher?"](r.$last()))?a.signature["$could_contain_kw_args?"](r):t)&&(r.$pop(),a.signature=e.const_get_relative(s,"SignatureWithKeywordArgumentsMatcher").$new(a.signature)),u(a,e.find_super_dispatcher(a,"split_args",n,!1),e.to_a(r),null)},n.$$arity=-1,n.$$parameters=[["rest","args"]]),function(t,$super,r){function a(){}var n,i,$,s,c,l,p=a=_(t,$super,"SignatureWithKeywordArgumentsMatcher",a),d=p.$$proto;[p].concat(r);d.signature=o,e.defn(p,"$initialize",n=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.signature=t},n.$$arity=1,n.$$parameters=[["req","signature"]]),e.defn(p,"$missing_kw_args_from",i=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"missing_kw_args_from"),[]},i.$$arity=1,i.$$parameters=[["req","_kw_args"]]),e.defn(p,"$invalid_kw_args_from",$=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"invalid_kw_args_from"),[]},$.$$arity=1,$.$$parameters=[["req","_kw_args"]]),e.defn(p,"$non_kw_args_arity_description",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"non_kw_args_arity_description"),t.signature.$non_kw_args_arity_description()},s.$$arity=0,s.$$parameters=[]),e.defn(p,"$valid_non_kw_args?",c=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return u(r.signature,"valid_non_kw_args?",e.to_a(t))},c.$$arity=-1,c.$$parameters=[["rest","args"]]),e.defn(p,"$has_kw_args_in?",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"has_kw_args_in?"),r.signature["$has_kw_args_in?"](t)},l.$$arity=1,l.$$parameters=[["req","args"]])}(s[0],null,s)}(f[0],e.const_get_relative(f,"MethodSignatureVerifier"),f)}(f[0],f)}(s[0],s)},Opal.modules["rspec/support/os"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$=~","$[]","$module_function","$=="]),function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Support"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i,$,s=n=r(t,"OS"),o=(s.$$proto,[s].concat(a));e.defn(s,"$windows?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows?"),e.const_get_qualified(e.const_get_relative(o,"RbConfig"),"CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},i.$$arity=0,i.$$parameters=[]),s.$module_function("windows?"),e.defn(s,"$windows_file_path?",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"windows_file_path?"),e.const_get_qualified(e.const_get_qualified("::","File"),"ALT_SEPARATOR")["$=="]("\\")},$.$$arity=0,$.$$parameters=[]),s.$module_function("windows_file_path?")}($[0],$)}($[0],$)}(t[0],t)},Opal.modules["rspec/support/recursive_const_methods"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.truthy,i=e.send
;return e.add_stubs(["$==","$arity","$method","$const_defined?","$const_defined_on?","$const_get","$raise","$name","$select","$constants","$inject","$split","$normalize_const_name","$get_const_defined_on","$!","$===","$join","$sub"]),function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"Support"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o,c,_,l,u,p,d,f,h,m=s=a(t,"RecursiveConstMethods"),g=(m.$$proto,[m].concat($));e.const_get_relative(g,"Module").$method("const_defined?").$arity()["$=="](1)?(e.defn(m,"$const_defined_on?",o=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"const_defined_on?"),t["$const_defined?"](r)},o.$$arity=2,o.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(m,"$get_const_defined_on",c=function(t,r){var a=this,i=arguments.length;return 2!==i&&e.ac(i,2,this,"get_const_defined_on"),n(a["$const_defined_on?"](t,r))?t.$const_get(r):a.$raise(e.const_get_relative(g,"NameError"),"uninitialized constant "+t.$name()+"::"+r)},c.$$arity=2,c.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(m,"$constants_defined_on",_=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"constants_defined_on"),i(t.$constants(),"select",[],(a=function(n){var i=a.$$s||this;if(null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"constants_defined_on")}return i["$const_defined_on?"](t,n)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","c"]],a))},_.$$arity=1,_.$$parameters=[["req","mod"]])):(e.defn(m,"$const_defined_on?",l=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"const_defined_on?"),t["$const_defined?"](r,!1)},l.$$arity=2,l.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(m,"$get_const_defined_on",u=function(t,r){var a=arguments.length;return 2!==a&&e.ac(a,2,this,"get_const_defined_on"),t.$const_get(r,!1)},u.$$arity=2,u.$$parameters=[["req","mod"],["req","const_name"]]),e.defn(m,"$constants_defined_on",p=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"constants_defined_on"),t.$constants(!1)},p.$$arity=1,p.$$parameters=[["req","mod"]])),e.defn(m,"$recursive_const_get",d=function(t){var a,n=this,$=arguments.length;return 1!==$&&e.ac($,1,this,"recursive_const_get"),i(n.$normalize_const_name(t).$split("::"),"inject",[e.const_get_relative(g,"Object")],(a=function(t,n){var i=a.$$s||this;if(null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"recursive_const_get")}return i.$get_const_defined_on(t,n)},a.$$s=n,a.$$arity=2,a.$$parameters=[["req","mod"],["req","name"]],a))},d.$$arity=1,d.$$parameters=[["req","const_name"]]),e.defn(m,"$recursive_const_defined?",f=function(t){try{var a,$=this,s=f.$$p,o=s||r,c=r;s&&(f.$$p=null);var _=arguments.length;return 1!==_&&e.ac(_,1,this,"recursive_const_defined?"),c=$.$normalize_const_name(t).$split("::"),i(c,"inject",[[e.const_get_relative(g,"Object"),""]],(a=function(t,i){var $,s,c,_=a.$$s||this;if(null==t&&(t=r),t=e.to_ary(t),$=e.slice.call(t,0,t.length),s=$.splice(0,1)[0],null==s&&(s=r),c=$.splice(0,1)[0],null==c&&(c=r),null==i&&(i=r),a.$$is_lambda||a.$$define_meth){var l=arguments.length;2!==l&&e.block_ac(l,2,"recursive_const_defined?")}return n(o!==r?e.const_get_relative(g,"Module")["$==="](s)["$!"]():o!==r)&&e.yieldX(o,[c,i]),n(_["$const_defined_on?"](s,i))||e.ret(!1),[_.$get_const_defined_on(s,i),[s,i].$join("::")]},a.$$s=$,a.$$arity=2,a.$$parameters=[["req"],["req","name"]],a.$$has_top_level_mlhs_arg=!0,a))}catch(t){if(t===e.returner)return t.$v;throw t}},f.$$arity=1,f.$$parameters=[["req","const_name"]]),e.defn(m,"$normalize_const_name",h=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"normalize_const_name"),t.$sub(/^::/,"")},h.$$arity=1,h.$$parameters=[["req","const_name"]])}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["rspec/support/ruby_features"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,[]),a=(e.nil,e.breaker,e.slice,e.module),n=e.truthy;return e.add_stubs(["$==","$module_function","$method_defined?","$>=","$!=","$private_method_defined?","$to_i"]),function(r,i){var $,s=$=a(r,"RSpec"),o=(s.$$proto,[s].concat(i));!function(r,i){var $,s=$=a(r,"Support"),o=(s.$$proto,[s].concat(i));!function(t,r){var n,i,$=n=a(t,"Ruby"),s=($.$$proto,[$].concat(r));e.defn($,"$jruby?",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"jruby?"),e.const_get_relative(s,"RUBY_PLATFORM")["$=="]("java")},i.$$arity=0,i.$$parameters=[]),$.$module_function("jruby?")}(o[0],o),function(r,i){var $,s,o,c,_,l,u=$=a(r,"RubyFeatures"),p=(u.$$proto,[u].concat(i));e.defn(u,"$optional_and_splat_args_supported?",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"optional_and_splat_args_supported?"),e.const_get_relative(p,"Method")["$method_defined?"]("parameters")},s.$$arity=0,s.$$parameters=[]),u.$module_function("optional_and_splat_args_supported?"),e.defn(u,"$kw_args_supported?",o=function(){var r,a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"kw_args_supported?"),n(r=n(a=t(e.const_get_relative(p,"RUBY_VERSION"),"2.0.0"))?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("rbx"):a)?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("jruby"):r},o.$$arity=0,o.$$parameters=[]),u.$module_function("kw_args_supported?"),e.defn(u,"$required_kw_args_supported?",c=function(){var r,a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"required_kw_args_supported?"),n(r=n(a=t(e.const_get_relative(p,"RUBY_VERSION"),"2.1.0"))?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("rbx"):a)?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("jruby"):r},c.$$arity=0,c.$$parameters=[]),u.$module_function("required_kw_args_supported?"),e.defn(u,"$module_prepends_supported?",_=function(){var t,r=arguments.length;return 0!==r&&e.ac(r,0,this,"module_prepends_supported?"),n(t=e.const_get_relative(p,"Module")["$method_defined?"]("prepend"))?t:e.const_get_relative(p,"Module")["$private_method_defined?"]("prepend")},_.$$arity=0,_.$$parameters=[]),u.$module_function("module_prepends_supported?"),e.defn(u,"$supports_rebinding_module_methods?",l=function(){var r,a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"supports_rebinding_module_methods?"),n(r=n(a=t(e.const_get_relative(p,"RUBY_VERSION").$to_i(),2))?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("rbx"):a)?e.const_get_relative(p,"RUBY_ENGINE")["$!="]("jruby"):r},l.$$arity=0,l.$$parameters=[]),u.$module_function("supports_rebinding_module_methods?")}(o[0],o)}(o[0],o)}(r[0],r)},Opal.modules["rspec/support/version"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return function(t,a){var n,i=n=r(t,"RSpec"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Support"),$=(i.$$proto,[i].concat(a));!function(t,a){var n,i=n=r(t,"Version"),$=(i.$$proto,[i].concat(a));e.const_set($[0],"STRING","3.1.2")}($[0],$)}($[0],$)}(t[0],t)},Opal.modules["rubygems/bundler_version_finder"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules["rubygems/util"]=function(e){var t=(e.top,e.nil);e.breaker,e.slice;return t},Opal.modules.strscan=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(r,$super,$){function s(){}var o,c,_,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S,M,O,A,R,z,j=s=n(r,$super,"StringScanner",s),T=j.$$proto;[j].concat($);return T.pos=T.string=T.working=T.matched=T.prev_pos=T.match=a,j.$attr_reader("pos"),j.$attr_reader("matched"),e.defn(j,"$initialize",o=function(t){var r=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"initialize"),r.string=t,r.pos=0,r.matched=a,r.working=t,r.match=[]},o.$$arity=1,o.$$parameters=[["req","string"]]),j.$attr_reader("string"),e.defn(j,"$beginning_of_line?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"beginning_of_line?"),0===t.pos||"\n"===t.string.charAt(t.pos-1)},c.$$arity=0,c.$$parameters=[]),e.alias(j,"bol?","beginning_of_line?"),e.defn(j,"$scan",_=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"scan"),t=r.$anchor(t);var i=t.exec(r.working);return null==i?r.matched=a:"object"==typeof i?(r.prev_pos=r.pos,r.pos+=i[0].length,r.working=r.working.substring(i[0].length),r.matched=i[0],r.match=i,i[0]):"string"==typeof i?(r.pos+=i.length,r.working=r.working.substring(i.length),i):a},_.$$arity=1,_.$$parameters=[["req","pattern"]]),e.defn(j,"$scan_until",l=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"scan_until"),t=r.$anchor(t);for(var i,$=r.pos,s=r.working;;){if(i=t.exec(s),$+=1,s=s.substr(1),null!=i)return r.matched=r.string.substr(r.pos,$-r.pos-1+i[0].length),r.prev_pos=$-1,r.pos=$,r.working=s.substr(i[0].length),r.matched;if(0===s.length)return r.matched=a}},l.$$arity=1,l.$$parameters=[["req","pattern"]]),e.defn(j,"$[]",u=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"[]");var i=r.match;return t<0&&(t+=i.length),t<0||t>=i.length?a:null==i[t]?a:i[t]},u.$$arity=1,u.$$parameters=[["req","idx"]]),e.defn(j,"$check",p=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"check"),t=r.$anchor(t);var i=t.exec(r.working);return r.matched=null==i?a:i[0]},p.$$arity=1,p.$$parameters=[["req","pattern"]]),e.defn(j,"$check_until",d=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"check_until");var i=r.prev_pos,$=r.pos,s=r.$scan_until(t);return s!==a&&(r.matched=s.substr(-1),r.working=r.string.substr($)),r.prev_pos=i,r.pos=$,s},d.$$arity=1,d.$$parameters=[["req","pattern"]]),e.defn(j,"$peek",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"peek"),r.working.substring(0,t)},f.$$arity=1,f.$$parameters=[["req","length"]]),e.defn(j,"$eos?",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"eos?"),0===t.working.length},h.$$arity=0,h.$$parameters=[]),e.defn(j,"$exist?",m=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"exist?");var i=t.exec(r.working);return null==i?a:0==i.index?0:i.index+1},m.$$arity=1,m.$$parameters=[["req","pattern"]]),e.defn(j,"$skip",g=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"skip"),t=r.$anchor(t);var i=t.exec(r.working);if(null==i)return r.matched=a;var $=i[0],s=$.length;return r.matched=$,r.prev_pos=r.pos,r.pos+=s,r.working=r.working.substring(s),s},g.$$arity=1,g.$$parameters=[["req","pattern"]]),e.defn(j,"$skip_until",v=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"skip_until");var i=r.$scan_until(t);return i===a?a:(r.matched=i.substr(-1),i.length)},v.$$arity=1,v.$$parameters=[["req","pattern"]]),e.defn(j,"$get_byte",y=function(){var t=this,r=arguments.length;0!==r&&e.ac(r,0,this,"get_byte");var n=a;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,n=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=a,n},y.$$arity=0,y.$$parameters=[]),e.alias(j,"getch","get_byte"),e.defn(j,"$match?",b=function(t){var r=this,n=arguments.length;1!==n&&e.ac(n,1,this,"match?"),t=r.$anchor(t);var i=t.exec(r.working);return null==i?a:(r.prev_pos=r.pos,i[0].length)},b.$$arity=1,b.$$parameters=[["req","pattern"]]),e.defn(j,"$pos=",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"pos="),t<0&&(t+=r.string.$length()),r.pos=t,r.working=r.string.slice(t)},x.$$arity=1,x.$$parameters=[["req","pos"]]),e.defn(j,"$matched_size",k=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"matched_size"),t.matched===a?a:t.matched.length},k.$$arity=0,k.$$parameters=[]),e.defn(j,"$post_match",q=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"post_match"),t.matched===a?a:t.string.substr(t.pos)},q.$$arity=0,q.$$parameters=[]),e.defn(j,"$pre_match",w=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"pre_match"),t.matched===a?a:t.string.substr(0,t.prev_pos)},w.$$arity=0,w.$$parameters=[]),e.defn(j,"$reset",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset"),t.working=t.string,t.matched=a,t.pos=0},E.$$arity=0,E.$$parameters=[]),e.defn(j,"$rest",S=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest"),t.working},S.$$arity=0,S.$$parameters=[]),e.defn(j,"$rest?",M=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest?"),0!==t.working.length},M.$$arity=0,M.$$parameters=[]),e.defn(j,"$rest_size",O=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"rest_size"),t.$rest().$size()},O.$$arity=0,O.$$parameters=[]),e.defn(j,"$terminate",A=function(){var r=this,n=a,$=arguments.length;return 0!==$&&e.ac($,0,this,"terminate"),r.match=a,n=[r.string.$length()],i(r,"pos=",e.to_a(n)),n[t(n.length,1)]},A.$$arity=0,A.$$parameters=[]),e.defn(j,"$unscan",R=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unscan"),t.pos=t.prev_pos,t.prev_pos=a,t.match=a,t},R.$$arity=0,R.$$parameters=[]),j.$private(),e.defn(j,"$anchor",z=function(t){var r=arguments.length;1!==r&&e.ac(r,1,this,"anchor");var a=t.toString().match(/\/([^\/]+)$/);return a=a?a[1]:undefined,new RegExp("^(?:"+t.source+")",a)},z.$$arity=1,z.$$parameters=[["req","pattern"]]),a&&"anchor"}(r[0],null,r)},Opal.modules["opal/rspec/requires"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("cgi/escape"),t.$require("cgi/util"),t.$require("diff/lcs"),t.$require("diff/lcs/block"),t.$require("diff/lcs/callbacks"),t.$require("diff/lcs/change"),t.$require("diff/lcs/hunk"),t.$require("diff/lcs/internals"),t.$require("erb"),t.$require("json"),t.$require("optparse"),t.$require("pathname"),t.$require("pp"),t.$require("prettyprint"),t.$require("rbconfig"),t.$require("rspec"),t.$require("rspec/core"),t.$require("rspec/core/backport_random"),t.$require("rspec/core/backtrace_formatter"),t.$require("rspec/core/configuration"),t.$require("rspec/core/configuration_options"),t.$require("rspec/core/dsl"),t.$require("rspec/core/example"),t.$require("rspec/core/example_group"),t.$require("rspec/core/filter_manager"),t.$require("rspec/core/flat_map"),t.$require("rspec/core/formatters"),t.$require("rspec/core/formatters/base_formatter"),t.$require("rspec/core/formatters/base_text_formatter"),t.$require("rspec/core/formatters/console_codes"),t.$require("rspec/core/formatters/deprecation_formatter"),t.$require("rspec/core/formatters/documentation_formatter"),t.$require("rspec/core/formatters/helpers"),t.$require("rspec/core/formatters/html_printer"),t.$require("rspec/core/formatters/json_formatter"),t.$require("rspec/core/formatters/progress_formatter"),t.$require("rspec/core/hooks"),t.$require("rspec/core/memoized_helpers"),t.$require("rspec/core/metadata"),t.$require("rspec/core/metadata_filter"),t.$require("rspec/core/mocking_adapters/rspec"),t.$require("rspec/core/notifications"),t.$require("rspec/core/option_parser"),t.$require("rspec/core/ordering"),t.$require("rspec/core/pending"),t.$require("rspec/core/reporter"),t.$require("rspec/core/ruby_project"),t.$require("rspec/core/runner"),t.$require("rspec/core/shared_example_group"),t.$require("rspec/core/version"),t.$require("rspec/core/warnings"),t.$require("rspec/core/world"),t.$require("rspec/expectations"),t.$require("rspec/expectations/configuration"),t.$require("rspec/expectations/expectation_target"),t.$require("rspec/expectations/fail_with"),t.$require("rspec/expectations/handler"),t.$require("rspec/expectations/syntax"),t.$require("rspec/expectations/version"),t.$require("rspec/matchers"),t.$require("rspec/matchers/aliased_matcher"),t.$require("rspec/matchers/built_in"),t.$require("rspec/matchers/built_in/all"),t.$require("rspec/matchers/built_in/base_matcher"),t.$require("rspec/matchers/built_in/be"),t.$require("rspec/matchers/built_in/be_between"),t.$require("rspec/matchers/built_in/be_instance_of"),t.$require("rspec/matchers/built_in/be_kind_of"),t.$require("rspec/matchers/built_in/be_within"),t.$require("rspec/matchers/built_in/change"),t.$require("rspec/matchers/built_in/compound"),t.$require("rspec/matchers/built_in/contain_exactly"),t.$require("rspec/matchers/built_in/cover"),t.$require("rspec/matchers/built_in/eq"),t.$require("rspec/matchers/built_in/eql"),t.$require("rspec/matchers/built_in/equal"),t.$require("rspec/matchers/built_in/exist"),t.$require("rspec/matchers/built_in/has"),t.$require("rspec/matchers/built_in/have_attributes"),t.$require("rspec/matchers/built_in/include"),t.$require("rspec/matchers/built_in/match"),t.$require("rspec/matchers/built_in/operators"),t.$require("rspec/matchers/built_in/output"),t.$require("rspec/matchers/built_in/raise_error"),t.$require("rspec/matchers/built_in/respond_to"),t.$require("rspec/matchers/built_in/satisfy"),t.$require("rspec/matchers/built_in/start_and_end_with"),t.$require("rspec/matchers/built_in/throw_symbol"),t.$require("rspec/matchers/built_in/yield"),t.$require("rspec/matchers/composable"),t.$require("rspec/matchers/dsl"),t.$require("rspec/matchers/generated_descriptions"),t.$require("rspec/matchers/matcher_delegator"),t.$require("rspec/matchers/pretty"),t.$require("rspec/mocks"),t.$require("rspec/mocks/any_instance"),t.$require("rspec/mocks/any_instance/chain"),t.$require("rspec/mocks/any_instance/expect_chain_chain"),t.$require("rspec/mocks/any_instance/expectation_chain"),t.$require("rspec/mocks/any_instance/message_chains"),t.$require("rspec/mocks/any_instance/proxy"),t.$require("rspec/mocks/any_instance/recorder"),t.$require("rspec/mocks/any_instance/stub_chain"),t.$require("rspec/mocks/any_instance/stub_chain_chain"),t.$require("rspec/mocks/argument_list_matcher"),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/mocks/configuration"),t.$require("rspec/mocks/error_generator"),t.$require("rspec/mocks/example_methods"),t.$require("rspec/mocks/instance_method_stasher"),t.$require("rspec/mocks/matchers/expectation_customization"),t.$require("rspec/mocks/message_expectation"),t.$require("rspec/mocks/method_double"),t.$require("rspec/mocks/method_reference"),t.$require("rspec/mocks/mutate_const"),t.$require("rspec/mocks/object_reference"),t.$require("rspec/mocks/order_group"),t.$require("rspec/mocks/proxy"),t.$require("rspec/mocks/space"),t.$require("rspec/mocks/syntax"),t.$require("rspec/mocks/targets"),t.$require("rspec/mocks/test_double"),t.$require("rspec/mocks/verifying_double"),t.$require("rspec/mocks/verifying_message_expecation"),t.$require("rspec/mocks/verifying_proxy"),t.$require("rspec/mocks/version"),t.$require("rspec/support"),t.$require("rspec/support/caller_filter"),t.$require("rspec/support/differ"),t.$require("rspec/support/directory_maker"),t.$require("rspec/support/encoded_string"),t.$require("rspec/support/fuzzy_matcher"),t.$require("rspec/support/hunk_generator"),t.$require("rspec/support/matcher_definition"),t.$require("rspec/support/method_signature_verifier"),t.$require("rspec/support/os"),t.$require("rspec/support/recursive_const_methods"),t.$require("rspec/support/ruby_features"),t.$require("rspec/support/version"),t.$require("rspec/support/warnings"),t.$require("rspec/version"),t.$require("rubygems/bundler_version_finder"),t.$require("rubygems/util"),t.$require("set"),t.$require("shellwords"),t.$require("stringio"),t.$require("strscan")},Opal.modules.encoding=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$warn"]),t.$warn("DEPRECATION: encoding is now part of the core library, requiring it is deprecated")},Opal.modules.thread=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.truthy,$=e.send,s=e.hash2;return e.add_stubs(["$allocate","$core_initialize!","$current","$fail","$[]","$coerce_key_name","$[]=","$-","$key?","$keys","$private","$coerce_to!","$public","$clear","$empty?","$size","$shift","$push","$each","$to_proc","$locked?","$lock","$unlock"]),function(e,$super,t){function r(){}var a=r=n(e,$super,"ThreadError",r);a.$$proto,[a].concat(t)}(r[0],e.const_get_relative(r,"StandardError"),r),function(r,$super,o){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k=c=n(r,$super,"Thread",c),q=k.$$proto,w=[k].concat(o);q.fiber_locals=q.thread_locals=a,e.defs(k,"$current",_=function(){var t=this;null==t.current&&(t.current=a);var r=arguments.length;return 0!==r&&e.ac(r,0,this,"current"),i(t.current)||(t.current=t.$allocate(),t.current["$core_initialize!"]()),t.current},_.$$arity=0,_.$$parameters=[]),e.defs(k,"$list",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"list"),[t.$current()]},l.$$arity=0,l.$$parameters=[]),e.defn(k,"$initialize",u=function(){var t,r=this,a=arguments.length,n=a-0;n<0&&(n=0),t=new Array(n);for(var i=0;i<a;i++)t[i-0]=arguments[i];return r.$fail(e.const_get_relative(w,"NotImplementedError"),"Thread creation not available")},u.$$arity=-1,u.$$parameters=[["rest","args"]]),e.defn(k,"$[]",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"[]"),r.fiber_locals["$[]"](r.$coerce_key_name(t))},p.$$arity=1,p.$$parameters=[["req","key"]]),e.defn(k,"$[]=",d=function(r,n){var i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"[]="),s=[i.$coerce_key_name(r),n],$(i.fiber_locals,"[]=",e.to_a(s)),s[t(s.length,1)]},d.$$arity=2,d.$$parameters=[["req","key"],["req","value"]]),e.defn(k,"$key?",f=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"key?"),r.fiber_locals["$key?"](r.$coerce_key_name(t))},f.$$arity=1,f.$$parameters=[["req","key"]]),e.defn(k,"$keys",h=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"keys"),t.fiber_locals.$keys()},h.$$arity=0,h.$$parameters=[]),e.defn(k,"$thread_variable_get",m=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"thread_variable_get"),r.thread_locals["$[]"](r.$coerce_key_name(t))},m.$$arity=1,m.$$parameters=[["req","key"]]),e.defn(k,"$thread_variable_set",g=function(r,n){var i=this,s=a,o=arguments.length;return 2!==o&&e.ac(o,2,this,"thread_variable_set"),s=[i.$coerce_key_name(r),n],$(i.thread_locals,"[]=",e.to_a(s)),s[t(s.length,1)]},g.$$arity=2,g.$$parameters=[["req","key"],["req","value"]]),e.defn(k,"$thread_variable?",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"thread_variable?"),r.thread_locals["$key?"](r.$coerce_key_name(t))},v.$$arity=1,v.$$parameters=[["req","key"]]),e.defn(k,"$thread_variables",y=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"thread_variables"),t.thread_locals.$keys()},y.$$arity=0,y.$$parameters=[]),k.$private(),e.defn(k,"$core_initialize!",b=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"core_initialize!"),t.thread_locals=s([],{}),t.fiber_locals=s([],{})},b.$$arity=0,b.$$parameters=[]),e.defn(k,"$coerce_key_name",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"coerce_key_name"),e.const_get_relative(w,"Opal")["$coerce_to!"](t,e.const_get_relative(w,"String"),"to_s")},x.$$arity=1,x.$$parameters=[["req","key"]]),k.$public(),function(t,$super,r){function s(){}var o,c,_,l,u,p,d,f=s=n(t,$super,"Queue",s),h=f.$$proto,m=[f].concat(r);h.storage=a,e.defn(f,"$initialize",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.$clear()},o.$$arity=0,o.$$parameters=[]),e.defn(f,"$clear",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"clear"),t.storage=[]},c.$$arity=0,c.$$parameters=[]),e.defn(f,"$empty?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"empty?"),t.storage["$empty?"]()},_.$$arity=0,_.$$parameters=[]),e.defn(f,"$size",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"size"),t.storage.$size()},l.$$arity=0,l.$$parameters=[]),e.alias(f,"length","size"),e.defn(f,"$pop",u=function(t){var r=this;null==t&&(t=!1);var a=arguments.length;return a>1&&e.ac(a,-1,this,"pop"),i(r["$empty?"]())&&(i(t)&&r.$fail(e.const_get_relative(m,"ThreadError"),"Queue empty"),r.$fail(e.const_get_relative(m,"ThreadError"),"Deadlock")),r.storage.$shift()},u.$$arity=-1,u.$$parameters=[["opt","non_block"]]),e.alias(f,"shift","pop"),e.alias(f,"deq","pop"),e.defn(f,"$push",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"push"),r.storage.$push(t)},p.$$arity=1,p.$$parameters=[["req","value"]]),e.alias(f,"<<","push"),e.alias(f,"enq","push"),e.defn(f,"$each",d=function(){var t=this,r=d.$$p,n=r||a;r&&(d.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"each"),$(t.storage,"each",[],n.$to_proc())},d.$$arity=0,d.$$parameters=[["block","block"]])}(w[0],null,w)}(r[0],null,r),e.const_set(r[0],"Queue",e.const_get_qualified(e.const_get_relative(r,"Thread"),"Queue")),function(t,$super,r){function $(){}var s,o,c,_,l,u,p,d=$=n(t,$super,"Mutex",$),f=d.$$proto,h=[d].concat(r);return f.locked=a,e.defn(d,"$initialize",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"initialize"),t.locked=!1},s.$$arity=0,s.$$parameters=[]),e.defn(d,"$lock",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"lock"),i(t.locked)&&t.$fail(e.const_get_relative(h,"ThreadError"),"Deadlock"),t.locked=!0,t},o.$$arity=0,o.$$parameters=[]),e.defn(d,"$locked?",c=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"locked?"),t.locked},c.$$arity=0,c.$$parameters=[]),e.defn(d,"$owned?",_=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"owned?"),t.locked},_.$$arity=0,_.$$parameters=[]),e.defn(d,"$try_lock",l=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"try_lock"),!i(t["$locked?"]())&&(t.$lock(),!0)},l.$$arity=0,l.$$parameters=[]),e.defn(d,"$unlock",u=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"unlock"),i(t.locked)||t.$fail(e.const_get_relative(h,"ThreadError"),"Mutex not locked"),t.locked=!1,t},u.$$arity=0,u.$$parameters=[]),e.defn(d,"$synchronize",p=function(){var t=this,r=p.$$p,n=r||a;r&&(p.$$p=null);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"synchronize"),t.$lock(),function(){try{return e.yieldX(n,[])}finally{t.$unlock()}}()},p.$$arity=0,p.$$parameters=[]),a&&"synchronize"}(r[0],null,r)},Opal.modules["opal/rspec/fixes/rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.truthy,s=e.send;return e.add_stubs(["$empty?","$[]","$metadata","$generated_description","$[]=","$-","$+","$set_exception","$clear_generated_description"]),function(a,$super,o){function c(){}var _,l=c=i(a,$super,"Example",c),u=(l.$$proto,[l].concat(o));return e.defn(l,"$assign_generated_description",_=function(){var a,i=this,o=n,c=n,_=n,l=arguments.length;return 0!==l&&e.ac(l,0,this,"assign_generated_description"),function(){try{try{return $($(a=i.$metadata()["$[]"]("description")["$empty?"]())?o=e.const_get_qualified(e.const_get_relative(u,"RSpec"),"Matchers").$generated_description():a)?(c=["description",o],s(i.$metadata(),"[]=",e.to_a(c)),c[t(c.length,1)],c=["full_description",r(i.$metadata()["$[]"]("full_description"),o)],s(i.$metadata(),"[]=",e.to_a(c)),c[t(c.length,1)]):n}catch(t){if(!e.rescue(t,[e.const_get_relative(u,"Exception")]))throw t;_=t;try{return i.$set_exception(_,"while assigning the example description")}finally{e.pop_exception()}}}finally{e.const_get_qualified(e.const_get_relative(u,"RSpec"),"Matchers").$clear_generated_description()}}()},_.$$arity=0,_.$$parameters=[]),function(t,$super,r){function a(){}var $,s=a=i(t,$super,"ExecutionResult",a);s.$$proto,[s].concat(r);return e.defn(s,"$initialize",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"initialize"),n},$.$$arity=0,$.$$parameters=[]),n&&"initialize"}(u[0],null,u)}(e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Core"),null,a)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/backtrace_formatter"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.hash2,i=e.send;return e.add_stubs(["$alias_method","$original_format_backtrace","$clean_js_backtrace","$select","$match"]),function(t,$super,$){function s(){}var o,c,_,l=s=a(t,$super,"BacktraceFormatter",s);l.$$proto,[l].concat($);return e.defn(l,"$backtrace_line",o=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"backtrace_line"),r},o.$$arity=1,o.$$parameters=[["req","line"]]),l.$alias_method("original_format_backtrace","format_backtrace"),e.defn(l,"$format_backtrace",c=function(t,r){var a=this;null==r&&(r=n([],{}));var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"format_backtrace"),a.$original_format_backtrace(a.$clean_js_backtrace(t),r)},c.$$arity=-2,c.$$parameters=[["req","backtrace"],["opt","options"]]),e.defn(l,"$clean_js_backtrace",_=function(t){var a,n=this,$=r,s=arguments.length;return 1!==s&&e.ac(s,1,this,"clean_js_backtrace"),$=/\s*at.*/,i(t,"select",[],(a=function(t){a.$$s;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var n=arguments.length;1!==n&&e.block_ac(n,1,"clean_js_backtrace")}return $.$match(t)},a.$$s=n,a.$$arity=1,a.$$parameters=[["req","line"]],a))},_.$$arity=1,_.$$parameters=[["req","backtrace"]]),r&&"clean_js_backtrace"}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),null,t)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.send,$=e.truthy;return e.add_stubs(["$class_eval","$+","$deprecated","$replacement","$call_site"]),function(r,$super,s){function o(){}var c,_,l=o=n(r,$super,"DeprecationFormatter",o),u=(l.$$proto,[l].concat(s));return i(e.const_get_relative(u,"SpecifiedDeprecationMessage"),"class_eval",[],(c=function(){var r,n=c.$$s||this;if(c.$$is_lambda||c.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<class:DeprecationFormatter>")}return e.def(n,"$too_many_warnings_message",r=function(){var r=arguments.length;return 0!==r&&e.ac(r,0,this,"too_many_warnings_message"),t("Too many similar deprecation messages reported, disregarding further reports. ",e.const_get_relative(u,"DEPRECATION_STREAM_NOTICE"))},r.$$arity=0,r.$$parameters=[]),a&&"too_many_warnings_message"},c.$$s=l,c.$$arity=0,c.$$parameters=[],c)),i(e.const_get_relative(u,"GeneratedDeprecationMessage"),"class_eval",[],(_=function(){var r,n=_.$$s||this;if(_.$$is_lambda||_.$$define_meth){var i=arguments.length;0!==i&&e.block_ac(i,0,"<class:DeprecationFormatter>")}return e.def(n,"$to_s",r=function(){var r=this,n=a;null==r.data&&(r.data=a);var i=arguments.length;return 0!==i&&e.ac(i,0,this,"to_s"),n=r.data.$deprecated()+" is deprecated.",$(r.data.$replacement())&&(n=t(n," Use "+r.data.$replacement()+" instead.")),$(r.data.$call_site())&&(n=t(n," Called from "+r.data.$call_site()+".")),n},r.$$arity=0,r.$$parameters=[]),a&&"to_s"},_.$$s=l,_.$$arity=0,_.$$parameters=[],_))}(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(r,"RSpec"),"Core"),"Formatters"),null,r)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/generated_deprecation_message"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send),s=e.truthy;return e.add_stubs(["$class_eval","$deprecated","$replacement","$+","$call_site","$type"]),$(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Core"),"Formatters"),"DeprecationFormatter"),"GeneratedDeprecationMessage"),"class_eval",[],(r=function(){var a,$,o=r.$$s||this;if(r.$$is_lambda||r.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"<main>")}return e.def(o,"$to_s",a=function(){var r=this,a=i;null==r.data&&(r.data=i);var n=arguments.length;return 0!==n&&e.ac(n,0,this,"to_s"),a=r.data.$deprecated()+" is deprecated.",s(r.data.$replacement())&&(a=t(a," Use "+r.data.$replacement()+" instead.")),s(r.data.$call_site())&&(a=t(a," Called from "+r.data.$call_site()+".")),a},a.$$arity=0,a.$$parameters=[]),e.def(o,"$too_many_warnings_message",$=function(){var r=this,a=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"too_many_warnings_message"),a="Too many uses of deprecated '"+r.$type()+"'. ",a=t(a,e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(n,"RSpec"),"Core"),"Formatters"),"DeprecationFormatter"),"DEPRECATION_STREAM_NOTICE"))},$.$$arity=0,$.$$parameters=[]),i&&"too_many_warnings_message"},r.$$s=a,r.$$arity=0,r.$$parameters=[],r))},Opal.modules["opal/rspec/fixes/rspec/core/formatters/console_codes"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,
[]),a=(e.nil,e.breaker,e.slice,e.module),n=e.truthy;return e.add_stubs(["$color_enabled?","$configuration","$+","$console_code_for"]),function(r,i){var $,s,o=$=a(r,"ConsoleCodes"),c=(o.$$proto,[o].concat(i));e.defn(o,"$wrap",s=function(r,a){var i=this,$=arguments.length;return 2!==$&&e.ac($,2,this,"wrap"),n(e.const_get_relative(c,"RSpec").$configuration()["$color_enabled?"]())?t(t(t("\x1b","["+i.$console_code_for(a)+"m"+r),"\x1b"),"[0m"):r},s.$$arity=2,s.$$parameters=[["req","text"],["req","code_or_symbol"]])}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),r)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/loader"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.truthy,i=e.send;return e.add_stubs(["$is_a?","$=~","$dup","$to_s","$gsub","$tr","$downcase","$map","$===","$file_at","$add_without_fix","$string_const?","$inject","$split","$const_get","$require","$path_for","$raise"]),function(t,$super,$){function s(){}var o,c,_,l,u=s=a(t,$super,"Loader",s),p=(u.$$proto,[u].concat($));return e.defn(u,"$string_const?",o=function(t){var r,a=arguments.length;return 1!==a&&e.ac(a,1,this,"string_const?"),n(r=t["$is_a?"](e.const_get_relative(p,"String")))?/^[A-Z][a-zA-Z0-9_:]*$/["$=~"](t):r},o.$$arity=1,o.$$parameters=[["req","str"]]),e.defn(u,"$underscore",c=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=t.$to_s().$dup(),a=a.$gsub(/::/,"/"),a=a.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a=a.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),a=a.$tr("-","_"),a.$downcase()},c.$$arity=1,c.$$parameters=[["req","camel_cased_word"]]),e.alias(u,"add_without_fix","add"),e.defn(u,"$add",_=function(t){var a,$,s=this,o=arguments.length,c=o-1;c<0&&(c=0),$=new Array(c);for(var _=1;_<o;_++)$[_-1]=arguments[_];var l=arguments.length;return l<1&&e.ac(l,-2,this,"add"),$=i($,"map",[],(a=function(t){var i=a.$$s||this;if(null==t&&(t=r),a.$$is_lambda||a.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"add")}return n(e.const_get_relative(p,"String")["$==="](t))?i.$file_at(t):t},a.$$s=s,a.$$arity=1,a.$$parameters=[["req","p"]],a)),i(s,"add_without_fix",[t].concat(e.to_a($)))},_.$$arity=-2,_.$$parameters=[["req","formatter_to_use"],["rest","paths"]]),e.defn(u,"$custom_formatter",l=function(t){var a,$=this,s=arguments.length;if(1!==s&&e.ac(s,1,this,"custom_formatter"),n(e.const_get_relative(p,"Class")["$==="](t)))return t;if(!n($["$string_const?"](t)))return r;for(;n(!0);)try{return i(t.$gsub(/^::/,"").$split("::"),"inject",[e.const_get_relative(p,"Object")],(a=function(t,n){a.$$s;if(null==t&&(t=r),null==n&&(n=r),a.$$is_lambda||a.$$define_meth){var i=arguments.length;2!==i&&e.block_ac(i,2,"custom_formatter")}return t.$const_get(n)},a.$$s=$,a.$$arity=2,a.$$parameters=[["req","a"],["req","e"]],a))}catch(r){if(!e.rescue(r,[e.const_get_relative(p,"NameError")]))throw r;try{n($.$require($.$path_for(t)))||$.$raise()}finally{e.pop_exception()}}},l.$$arity=1,l.$$parameters=[["req","formatter_ref"]]),r&&"custom_formatter"}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),null,t)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/json_formatter"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass);return function(e,$super,t){function n(){}var i=n=a(e,$super,"JsonFormatter",n);i.$$proto,[i].concat(t);return r}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),null,t)},Opal.modules["opal/rspec/fixes/rspec/core/formatters"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/backtrace_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/deprecation_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/generated_deprecation_message"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/console_codes"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/loader"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/json_formatter")},Opal.modules["opal/rspec/fixes/rspec/core/notifications/examples_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send;return e.add_stubs(["$each_with_index","$failure_notifications","$+","$fully_formatted","$next","$each","$pending_examples","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$execution_result"]),function(r,s){var o,c=o=n(r,"Notifications"),_=(c.$$proto,[c].concat(s));!function(r,$super,n){function s(){}var o,c,_=s=i(r,$super,"ExamplesNotification",s),l=(_.$$proto,[_].concat(n));e.defn(_,"$fully_formatted_failed_examples",o=function(r){var n,i=this,s=a;null==r&&(r=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var o=arguments.length;return o>1&&e.ac(o,-1,this,"fully_formatted_failed_examples"),s="\nFailures:\n",$(i.$failure_notifications(),"each_with_index",[],(n=function(i,$){n.$$s;if(null==i&&(i=a),null==$&&($=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;2!==o&&e.block_ac(o,2,"fully_formatted_failed_examples")}return s=t(s,i.$fully_formatted($.$next(),r))},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","failure"],["req","index"]],n)),s},o.$$arity=-1,o.$$parameters=[["opt","colorizer"]]),e.defn(_,"$fully_formatted_pending_examples",c=function(r){var n,i=this,s=a;null==r&&(r=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var o=arguments.length;return o>1&&e.ac(o,-1,this,"fully_formatted_pending_examples"),s="\nPending:\n",$(i.$pending_examples(),"each",[],(n=function(i){var $=(n.$$s,a);if(null==i&&(i=a),n.$$is_lambda||n.$$define_meth){var o=arguments.length;1!==o&&e.block_ac(o,1,"fully_formatted_pending_examples")}return $=e.const_get_relative(l,"RSpec").$configuration().$backtrace_formatter().$backtrace_line(i.$location()),s=t(s,"  "+r.$wrap(i.$full_description(),"pending")+"\n    # "+r.$wrap(i.$execution_result().$pending_message(),"detail")+"\n    # "+r.$wrap($,"detail")+"\n")},n.$$s=i,n.$$arity=1,n.$$parameters=[["req","example"]],n)),s},c.$$arity=-1,c.$$parameters=[["opt","colorizer"]])}(_[0],null,_)}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),r)},Opal.modules["opal/rspec/fixes/rspec/core/notifications/failed_example_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send;return e.add_stubs(["$description","$each","$colorized_message_lines","$+","$new","$encoding_of","$colorized_formatted_backtrace"]),function(r,s){var o,c=o=n(r,"Notifications"),_=(c.$$proto,[c].concat(s));!function(r,$super,n){function s(){}var o,c=s=i(r,$super,"FailedExampleNotification",s),_=(c.$$proto,[c].concat(n));e.defn(c,"$fully_formatted",o=function(r,n){var i,s,o=this,c=a;null==n&&(n=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"fully_formatted"),c="\n  "+r+") "+o.$description()+"\n",$(o.$colorized_message_lines(n),"each",[],(i=function(r){var n=i.$$s||this;if(null==r&&(r=a),i.$$is_lambda||i.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"fully_formatted")}return c=t(c,e.const_get_qualified(e.const_get_qualified(e.const_get_relative(_,"RSpec"),"Support"),"EncodedString").$new("     "+r+"\n",n.$encoding_of(c)))},i.$$s=o,i.$$arity=1,i.$$parameters=[["req","line"]],i)),$(o.$colorized_formatted_backtrace(n),"each",[],(s=function(r){var n=s.$$s||this;if(null==r&&(r=a),s.$$is_lambda||s.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"fully_formatted")}return c=t(c,e.const_get_qualified(e.const_get_qualified(e.const_get_relative(_,"RSpec"),"Support"),"EncodedString").$new("     "+r+"\n",n.$encoding_of(c)))},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","line"]],s)),c},o.$$arity=-2,o.$$parameters=[["req","failure_number"],["opt","colorizer"]])}(_[0],null,_)}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),r)},Opal.modules["opal/rspec/fixes/rspec/core/notifications/summary_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var a,n=e.top,i=e.nil,$=(e.breaker,e.slice,e.send),s=e.truthy;return e.add_stubs(["$class_eval","$pluralize","$example_count","$+","$failure_count","$>","$pending_count","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$failed_examples","$colorized_rerun_commands"]),$(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Notifications"),"SummaryNotification"),"class_eval",[],(a=function(){var n,$,o=a.$$s||this;if(a.$$is_lambda||a.$$define_meth){var c=arguments.length;0!==c&&e.block_ac(c,0,"<main>")}return e.def(o,"$totals_line",n=function(){var a=this,n=i,$=arguments.length;return 0!==$&&e.ac($,0,this,"totals_line"),n=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"Helpers").$pluralize(a.$example_count(),"example"),n=t(n,t(", ",e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"Helpers").$pluralize(a.$failure_count(),"failure"))),s(r(a.$pending_count(),0))&&(n=t(n,", "+a.$pending_count()+" pending")),n},n.$$arity=0,n.$$parameters=[]),e.def(o,"$fully_formatted",$=function(r){var a=this,n=i;null==r&&(r=e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ConsoleCodes"));var $=arguments.length;return $>1&&e.ac($,-1,this,"fully_formatted"),n="\nFinished in "+a.$formatted_duration()+" (files took "+a.$formatted_load_time()+" to load)\n"+a.$colorized_totals_line(r)+"\n",s(a.$failed_examples()["$empty?"]())||(n=t(n,t(a.$colorized_rerun_commands(r),"\n"))),n},$.$$arity=-1,$.$$parameters=[["opt","colorizer"]]),i&&"fully_formatted"},a.$$s=n,a.$$arity=0,a.$$parameters=[],a))},Opal.modules["opal/rspec/fixes/rspec/core/notifications"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/examples_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/failed_example_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/summary_notification")},Opal.modules["opal/rspec/fixes/rspec/core/ordering/random"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass),n=e.truthy;return function(t,$super,i){function $(){}var s,o,c=$=a(t,$super,"Random",$),_=(c.$$proto,[c].concat(i));return e.const_set(_[0],"HIDE_RANDOM_WARNINGS",!1),e.defn(c,"$initialize",s=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"initialize"),n(e.const_get_relative(_,"HIDE_RANDOM_WARNINGS"))?r:console.warn("Random order is not currently supported by opal-rspec, using default order.")},s.$$arity=1,s.$$parameters=[["req","configuration"]]),e.defn(c,"$order",o=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"order"),t},o.$$arity=1,o.$$parameters=[["req","items"]]),r&&"order"}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Ordering"),null,t)},Opal.modules["opal/rspec/fixes/rspec/core/ordering"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/ordering/../ordering/random")},Opal.modules["opal/rspec/fixes/rspec/core/metadata"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send;return e.add_stubs(["$delete","$user_metadata","$!","$empty?","$file_path_and_line_number_from","$[]=","$metadata","$-","$to_i"]),function(r,o){var c,_=c=n(r,"Metadata"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_=o=i(r,$super,"HashPopulator",o);_.$$proto,[_].concat(n);e.defn(_,"$populate_location_attributes",c=function(){var r,n,i,o=this,c=a,_=a,l=a,u=a,p=arguments.length;return 0!==p&&e.ac(p,0,this,"populate_location_attributes"),c=o.$user_metadata().$delete("caller"),n=function(){return $($(i=c)?c["$empty?"]()["$!"]():i)?o.$file_path_and_line_number_from(c):["",-1]}(),r=e.to_ary(n),_=null==r[0]?a:r[0],l=null==r[1]?a:r[1],u=["file_path",_],s(o.$metadata(),"[]=",e.to_a(u)),u[t(u.length,1)],u=["line_number",l.$to_i()],s(o.$metadata(),"[]=",e.to_a(u)),u[t(u.length,1)],u=["location",function(){return $(_["$empty?"]())?"":_+":"+l}()],s(o.$metadata(),"[]=",e.to_a(u)),u[t(u.length,1)]},c.$$arity=0,c.$$parameters=[])}(l[0],null,l)}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),r)},Opal.modules["opal/rspec/fixes/rspec/core/configuration"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass);return function(t,$super,n){function i(){}var $,s,o=i=a(t,$super,"Configuration",i);o.$$proto,[o].concat(n);e.defn(o,"$files_or_directories_to_run=",$=function(){var e,t=this,a=arguments.length,n=a-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<a;i++)e[i-0]=arguments[i];return t.files_or_directories_to_run=[],t.files_to_run=r},$.$$arity=-1,$.$$parameters=[["rest","files"]]),e.defn(o,"$requires=",s=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"requires="),r},s.$$arity=1,s.$$parameters=[["req","paths"]])}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),null,t),function(t,$super,n){function i(){}var $,s=i=a(t,$super,"ConfigurationOptions",i);s.$$proto,[s].concat(n);return e.defn(s,"$options_file_as_erb_string",$=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"options_file_as_erb_string"),""},$.$$arity=1,$.$$parameters=[["req","path"]]),r&&"options_file_as_erb_string"}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),null,t)},Opal.modules["opal/rspec/fixes/rspec/support/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.send,$=e.truthy,s=e.hash2;return e.add_stubs(["$fetch","$first_non_rspec_line","$[]","$+","$warn","$extend"]),function(r,o){var c,_=c=n(r,"RSpec"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_=c=n(r,"Support"),l=(_.$$proto,[_].concat(o));!function(r,o){var c,_,l=c=n(r,"Warnings"),u=(l.$$proto,[l].concat(o));e.defn(l,"$warn_with",_=function(r,n){var o,c=this,_=a;null==n&&(n=s([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"warn_with"),_=i(n,"fetch",["call_site"],(o=function(){o.$$s;if(o.$$is_lambda||o.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"warn_with")}return e.const_get_relative(u,"CallerFilter").$first_non_rspec_line()},o.$$s=c,o.$$arity=0,o.$$parameters=[],o)),$(n["$[]"]("replacement"))&&(r=t(r," Use "+n["$[]"]("replacement")+" instead.")),$(_)&&(r=t(r," Called from "+_+".")),e.const_get_qualified("::","Kernel").$warn(r)},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","options"]])}(l[0],l)}(l[0],l),_.$extend(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(l,"RSpec"),"Support"),"Warnings"))}("::",r)},Opal.modules["opal/rspec/fixes/rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.truthy),$=e.module,s=e.send,o=e.hash2;return e.add_stubs(["$multiple_module_include_super_works_right?","$require","$[]","$end_with?","$+","$current_example","$location","$fetch","$first_non_rspec_line","$warn"]),i(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(a,"Opal"),"RSpec"),"Compatibility")["$multiple_module_include_super_works_right?"]())?n:(r.$require("opal/rspec/fixes/rspec/support/warnings"),function(r,a){var c,_,l=c=$(r,"Warnings"),u=(l.$$proto,[l].concat(a));e.defn(l,"$warn_with",_=function(r,a){var $,c=this,_=n;null==a&&(a=o([],{}));var l=arguments.length;return(l<1||l>2)&&e.ac(l,-2,this,"warn_with"),i(a["$[]"]("use_spec_location_as_call_site"))&&(i(r["$end_with?"]("."))||(r=t(r,".")),i(e.const_get_relative(u,"RSpec").$current_example())&&(r=t(r," Warning generated from spec at `"+e.const_get_relative(u,"RSpec").$current_example().$location()+"`."))),_=s(a,"fetch",["call_site"],($=function(){$.$$s;if($.$$is_lambda||$.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"warn_with")}return e.const_get_qualified(e.const_get_qualified("::","RSpec"),"CallerFilter").$first_non_rspec_line()},$.$$s=c,$.$$arity=0,$.$$parameters=[],$)),i(a["$[]"]("replacement"))&&(r=t(r," Use "+a["$[]"]("replacement")+" instead.")),i(_)&&(r=t(r," Called from "+_+".")),e.const_get_qualified("::","Kernel").$warn(r)},_.$$arity=-2,_.$$parameters=[["req","message"],["opt","options"]])}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),a))},Opal.modules["opal/rspec/fixes/rspec/core"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/../core/example"),t.$require("opal/rspec/fixes/rspec/core/../core/formatters"),t.$require("opal/rspec/fixes/rspec/core/../core/notifications"),t.$require("opal/rspec/fixes/rspec/core/../core/ordering"),t.$require("opal/rspec/fixes/rspec/core/../core/metadata"),t.$require("opal/rspec/fixes/rspec/core/../core/configuration"),t.$require("opal/rspec/fixes/rspec/core/../core/warnings")},Opal.modules["rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send;return e.add_stubs(["$require","$new","$<","$to_f","$define_method","$respond_to?","$__send__","$to_proc","$==","$=~","$write","$!","$empty?","$output","$has_output?","$send","$reset!","$string"]),r.$require("stringio"),function(r,a){var c,_=c=i(r,"RSpec"),l=(_.$$proto,[_].concat(a));!function(r,a){var c,_=c=i(r,"Support"),l=(_.$$proto,[_].concat(a));!function(r,$super,a){function i(){}var c,_,l,u,p,d,f,h,m,g=i=$(r,$super,"StdErrSplitter",i),v=g.$$proto,y=([g].concat(a),n);v.output_tracker=v.orig_stderr=n,e.defn(g,"$initialize",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),r.orig_stderr=t,r.output_tracker=e.const_get_qualified("::","StringIO").$new()},c.$$arity=1,c.$$parameters=[["req","original"]]),y=function(){return s(t(e.const_get_qualified("::","RUBY_VERSION").$to_f(),1.9))?"respond_to?":"respond_to_missing?"}(),o(g,"define_method",[y],(_=function(){var t,r,a=_.$$s||this;null==a.orig_stderr&&(a.orig_stderr=n);var i=arguments.length,$=i-0;$<0&&($=0),t=new Array($);for(var c=0;c<i;c++)t[c-0]=arguments[c];return s(r=o(a.orig_stderr,"respond_to?",e.to_a(t)))?r:o(a,e.find_iter_super_dispatcher(a,null,_.$$def||null,!1,!0),[],$iter)},_.$$s=g,_.$$arity=-1,_.$$parameters=[["rest","args"]],_)),e.defn(g,"$method_missing",l=function(t){var r,a=this,i=l.$$p,$=i||n,s=arguments.length,c=s-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<s;_++)r[_-1]=arguments[_];i&&(l.$$p=null);var u=arguments.length;return u<1&&e.ac(u,-2,this,"method_missing"),o(a.output_tracker,"__send__",[t].concat(e.to_a(r)),$.$to_proc()),o(a.orig_stderr,"__send__",[t].concat(e.to_a(r)),$.$to_proc())},l.$$arity=-2,l.$$parameters=[["req","name"],["rest","args"],["block","block"]]),e.defn(g,"$==",u=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"=="),r.orig_stderr["$=="](t)},u.$$arity=1,u.$$parameters=[["req","other"]]),e.defn(g,"$write",p=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"write"),s(t["$=~"](/^\S+\/gems\/\S+:\d+: warning:/))?n:(r.orig_stderr.$write(t),r.output_tracker.$write(t))},p.$$arity=1,p.$$parameters=[["req","line"]]),e.defn(g,"$has_output?",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"has_output?"),t.$output()["$empty?"]()["$!"]()},d.$$arity=0,d.$$parameters=[]),e.defn(g,"$reset!",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset!"),t.output_tracker=e.const_get_qualified("::","StringIO").$new()},f.$$arity=0,f.$$parameters=[]),e.defn(g,"$verify_example!",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"verify_example!"),s(r["$has_output?"]())&&t.$send("fail","Warnings were generated: "+r.$output()),r["$reset!"]()},h.$$arity=1,h.$$parameters=[["req","example"]]),e.defn(g,"$output",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"output"),t.output_tracker.$string()},m.$$arity=0,m.$$parameters=[])}(l[0],null,l)}(l[0],l)}(a[0],a)},Opal.modules["opal/rspec/fixes/rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.klass),$=e.truthy,s=e.send;return e.add_stubs(["$require","$<","$to_f","$define_method","$respond_to?"]),r.$require("rspec/support/spec/stderr_splitter"),function(r,$super,a){function o(){}var c,_=o=i(r,$super,"StdErrSplitter",o),l=(_.$$proto,[_].concat(a),n);return l=function(){return $(t(e.const_get_qualified("::","RUBY_VERSION").$to_f(),1.9))?"respond_to?":"respond_to_missing?"}(),s(_,"define_method",[l],(c=function(){var t,r,a=c.$$s||this;null==a.orig_stderr&&(a.orig_stderr=n);var i=arguments.length,o=i-0;o<0&&(o=0),t=new Array(o);for(var _=0;_<i;_++)t[_-0]=arguments[_];return $(r=s(a.orig_stderr,"respond_to?",e.to_a(t)))?r:s(a,e.find_iter_super_dispatcher(a,null,c.$$def||null,!1,!1),e.to_a(t),null)},c.$$s=_,c.$$arity=-1,c.$$parameters=[["rest","args"]],c))}(e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Support"),null,a)},Opal.modules["opal/rspec/fixes/rspec/support/spec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/spec/../spec/stderr_splitter")},Opal.modules["opal/rspec/fixes/rspec/support/encoded_string"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass);return function(t,$super,n){function i(){}var $,s,o=i=a(t,$super,"EncodedString",i),c=o.$$proto;[o].concat(n);return c.string=r,e.defn(o,"$initialize",$=function(t,a){var n=this;null==a&&(a=r);var i=arguments.length;return(i<1||i>2)&&e.ac(i,-2,this,"initialize"),n.string=t},$.$$arity=-2,$.$$parameters=[["req","string"],["opt","encoding"]]),e.defn(o,"$to_s",s=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"to_s"),t.string},s.$$arity=0,s.$$parameters=[]),r&&"to_s"}(e.const_get_qualified(e.const_get_relative(t,"RSpec"),"Support"),null,t)},Opal.modules["opal/rspec/fixes/rspec/support/recursive_const_methods"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$sub"]),function(t,a){var n,i,$=n=r(t,"RecursiveConstMethods");$.$$proto,[$].concat(a);e.defn($,"$normalize_const_name",i=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"normalize_const_name"),t.$sub(/^::/,"")},i.$$arity=1,i.$$parameters=[["req","const_name"]])}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Support"),t)},Opal.modules["opal/rspec/fixes/rspec/support/formatter_support"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy,$=e.send;return e.add_stubs(["$new","$respond_to?","$set_encoding","$instance_variable_get","$<<","$exclusion_patterns","$backtrace_formatter","$inclusion_patterns=","$-","$run","$gsub","$string","$relative_path","$first","$caller","$join","$reject","$lines","$include?"]),function(r,s){var o,c,_=o=n(r,"FormatterSupport"),l=(_.$$proto,[_].concat(s));e.defn(_,"$run_example_specs_with_formatter",c=function(r){var n,s,o=this,c=a,_=a,u=a,p=a,d=a,f=a,h=a,m=a,g=arguments.length;return 1!==g&&e.ac(g,1,this,"run_example_specs_with_formatter"),c=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(l,"RSpec"),"Core"),"ConfigurationOptions").$new(["spec/rspec/core/resources/formatter_specs.rb","--format",""+r,"--order","defined"]),n=[e.const_get_relative(l,"StringIO").$new(),e.const_get_relative(l,"StringIO").$new()],_=n[0],u=n[1],i(_["$respond_to?"]("set_encoding"))&&_.$set_encoding("utf-8"),p=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(l,"RSpec"),"Core"),"Runner").$new(c),d=p.$instance_variable_get("@configuration"),d.$backtrace_formatter().$exclusion_patterns()["$<<"](/rspec_with_simplecov/),f=[[]],$(d.$backtrace_formatter(),"inclusion_patterns=",e.to_a(f)),f[t(f.length,1)],p.$run(_,u),h=u.$string().$gsub(/\d+(?:\.\d+)?(s| seconds)/,"n.nnnn\\1"),m=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(l,"RSpec"),"Core"),"Metadata").$relative_path(o.$caller().$first()),$(h.$lines(),"reject",[],(s=function(t){var r,n;s.$$s;if(null==t&&(t=a),s.$$is_lambda||s.$$define_meth){var $=arguments.length;1!==$&&e.block_ac($,1,"run_example_specs_with_formatter")}return i(r=i(n=t["$include?"](m))?n:t["$include?"]("script/rspec_with_simplecov"))?r:t["$include?"]("/exe/rspec:")},s.$$s=o,s.$$arity=1,s.$$parameters=[["req","line"]],s)).$join()},c.$$arity=1,c.$$parameters=[["req","formatter_option"]])}(r[0],r)},Opal.modules["opal/rspec/fixes/rspec/support"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/../support/spec"),t.$require("opal/rspec/fixes/rspec/support/../support/encoded_string"),t.$require("opal/rspec/fixes/rspec/support/../support/recursive_const_methods"),t.$require("opal/rspec/fixes/rspec/support/../support/warnings"),t.$require("opal/rspec/fixes/rspec/support/../support/formatter_support")},Opal.modules["opal/rspec/fixes/rspec/expectations/fail_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,a=(e.top,[]),n=e.nil,i=(e.breaker,e.slice,e.truthy);return e.add_stubs(["$!","$raise","$+"]),e.defs(e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Expectations"),"$fail_with",r=function(r,$,s){var o=this;null==$&&($=n),null==s&&(s=n);var c=arguments.length;return(c<1||c>3)&&e.ac(c,-2,this,"fail_with"),i(r["$!"]())&&o.$raise(e.const_get_relative(a,"ArgumentError"),t("Failure message is nil. Does your matcher define the ","appropriate failure_message_for_* method to return a string?")),o.$raise(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(a,"RSpec"),"Expectations"),"ExpectationNotMetError"),r)},r.$$arity=-2,r.$$parameters=[["req","message"],["opt","expected"],["opt","actual"]])},Opal.modules["opal/rspec/fixes/rspec/expectations"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/expectations/../expectations/fail_with")},Opal.modules["opal/rspec/fixes/rspec/matchers/pretty"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_s","$gsub","$tr","$downcase"]),function(t,n){var i,$=i=a(t,"RSpec"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$=i=a(t,"Matchers"),s=($.$$proto,[$].concat(n));!function(t,n){var i,$,s=i=a(t,"Pretty");s.$$proto,[s].concat(n);e.defn(s,"$underscore",$=function(t){var a=r,n=arguments.length;return 1!==n&&e.ac(n,1,this,"underscore"),a=t.$to_s(),a=a.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),a=a.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),a=a.$tr("-","_"),a=a.$downcase()},$.$$arity=1,$.$$parameters=[["req","camel_cased_word"]])}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy;return e.add_stubs(["$empty?","$+","$expected_arg_description"]),function(r,s){var o,c=o=n(r,"BuiltIn"),_=(c.$$proto,[c].concat(s));!function(r,$super,n){function s(){}var o,c=s=i(r,$super,"YieldWithArgs",s),_=c.$$proto;[c].concat(n);_.expected=a,e.defn(c,"$description",o=function(){var r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"description"),n="yield with args",$(r.expected["$empty?"]())||(n=t(n,"("+r.$expected_arg_description()+")")),n},o.$$arity=0,o.$$parameters=[])}(_[0],null,_),function(r,$super,n){function $(){}var s,o=$=i(r,$super,"YieldSuccessiveArgs",$);o.$$proto,[o].concat(n);e.defn(o,"$description",s=function(){var r=this,n=a,i=arguments.length;return 0!==i&&e.ac(i,0,this,"description"),n="yield successive args",n=t(n,"("+r.$expected_arg_description()+")")},s.$$arity=0,s.$$parameters=[])}(_[0],null,_)}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),r)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/start_and_end_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.send,s=e.truthy;return e.add_stubs(["$+","$!","$respond_to?","$actual"]),function(r,o){var c,_=c=n(r,"BuiltIn"),l=(_.$$proto,[_].concat(o));!function(r,$super,n){function o(){}var c,_=o=i(r,$super,"StartAndEndWith",o),l=_.$$proto;[_].concat(n);l.actual_does_not_have_ordered_elements=a,e.defn(_,"$failure_message",c=function(){var r=this,n=c.$$p,i=a,o=a,_=a,l=a;n&&(c.$$p=null);var u=arguments.length;for(0!==u&&e.ac(u,0,this,"failure_message"),_=0,l=arguments.length,o=new Array(l);_<l;_++)o[_]=arguments[_];return i=$(r,e.find_super_dispatcher(r,"failure_message",c,!1),o,n),s(r.actual_does_not_have_ordered_elements)?i=t(i,", but it does not have ordered elements"):s(r.$actual()["$respond_to?"]("[]")["$!"]())&&(i=t(i,", but it cannot be indexed using #[]")),i},c.$$arity=0,c.$$parameters=[])}(l[0],null,l)}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),r)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/compound"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$join","$indent_multiline_message","$sub","$conjunction"]),function(t,$super,n){function i(){}var $,s=i=a(t,$super,"Compound",i);s.$$proto,[s].concat(n);return e.defn(s,"$multiline_message",$=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"multiline_message"),[a.$indent_multiline_message(t.$sub(/\n+$/,"")),"..."+a.$conjunction()+":",a.$indent_multiline_message(r.$sub(/^\n+/,""))].$join("\n\n")},$.$$arity=2,$.$$parameters=[["req","message_1"],["req","message_2"]]),r&&"multiline_message"}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"BuiltIn"),null,t)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.klass),i=e.send,$=e.truthy;return e.add_stubs(["$sub","$join","$map","$lines","$=~","$+"]),function(r,$super,s){function o(){}var c,_=o=n(r,$super,"All",o);_.$$proto,[_].concat(s);return e.defn(_,"$indent_multiline_message",c=function(r){var n,s=this,o=arguments.length;return 1!==o&&e.ac(o,1,this,"indent_multiline_message"),r=r.$sub(/\n+$/,""),i(r.$lines(),"map",[],(n=function(r){n.$$s;if(null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var i=arguments.length;1!==i&&e.block_ac(i,1,"indent_multiline_message")}return $(r["$=~"](/\S/))?t("   ",r):r},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","line"]],n)).$join()},c.$$arity=1,c.$$parameters=[["req","message"]]),a&&"indent_multiline_message"}(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Matchers"),"BuiltIn"),null,r)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/yield"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/start_and_end_with"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/compound"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/all")},Opal.modules["opal/rspec/fixes/rspec/matchers"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/../matchers/pretty"),t.$require("opal/rspec/fixes/rspec/matchers/../matchers/built_in")},Opal.modules["opal/rspec/fixes/rspec/mocks/space"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.truthy,o=e.send
;return e.add_stubs(["$require","$__id__","$include?","$name","$class","$raise","$is_a?","$new","$any?","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration","$[]=","$proxies","$-"]),r.$require("rspec/mocks/verifying_double"),function(r,a){var c,_=c=i(r,"Mocks"),l=(_.$$proto,[_].concat(a));!function(r,$super,a){function i(){}var c,_,l=i=$(r,$super,"Space",i),u=l.$$proto,p=[l].concat(a);u.expectation_ordering=n,e.const_set(p[0],"OPAL_NON_MOCKABLE_TYPES",["String","Number","Numeric"]),e.defn(l,"$id_for",c=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"id_for"),t.$__id__()},c.$$arity=1,c.$$parameters=[["req","object"]]),e.defn(l,"$proxy_not_found_for",_=function(r,a){var i,$=this,c=n,_=n,l=arguments.length;return 2!==l&&e.ac(l,2,this,"proxy_not_found_for"),s(e.const_get_relative(p,"OPAL_NON_MOCKABLE_TYPES")["$include?"](a.$class().$name()))&&$.$raise(a.$class()+" "+a+" cannot be used for mocking in Opal!"),c=[e.const_get_relative(p,"InstanceVerifyingDouble"),e.const_get_relative(p,"ObjectVerifyingDouble"),e.const_get_relative(p,"ClassVerifyingDouble"),e.const_get_relative(p,"Double")],_=[r,function(){return s(a["$is_a?"](e.const_get_relative(p,"NilClass")))?e.const_get_relative(p,"ProxyForNil").$new($.expectation_ordering):s(o(c,"any?",[],(i=function(t){i.$$s;if(null==t&&(t=n),i.$$is_lambda||i.$$define_meth){var r=arguments.length;1!==r&&e.block_ac(r,1,"proxy_not_found_for")}return a["$is_a?"](t)},i.$$s=$,i.$$arity=1,i.$$parameters=[["req","klass"]],i)))?a.$__build_mock_proxy_unless_expired($.expectation_ordering):s(a["$is_a?"](e.const_get_relative(p,"Class")))?s(e.const_get_qualified(e.const_get_relative(p,"RSpec"),"Mocks").$configuration()["$verify_partial_doubles?"]())?e.const_get_relative(p,"VerifyingPartialClassDoubleProxy").$new($,a,$.expectation_ordering):e.const_get_relative(p,"PartialClassDoubleProxy").$new($,a,$.expectation_ordering):s(e.const_get_qualified(e.const_get_relative(p,"RSpec"),"Mocks").$configuration()["$verify_partial_doubles?"]())?e.const_get_relative(p,"VerifyingPartialDoubleProxy").$new(a,$.expectation_ordering):e.const_get_relative(p,"PartialDoubleProxy").$new(a,$.expectation_ordering)}()],o($.$proxies(),"[]=",e.to_a(_)),_[t(_.length,1)]},_.$$arity=2,_.$$parameters=[["req","id"],["req","object"]])}(l[0],null,l)}(e.const_get_relative(a,"RSpec"),a)},Opal.modules["opal/rspec/fixes/rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,[]),a=(e.nil,e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$method_call_args_description","$>","$length","$gsub","$inspect"]),function(r,$){var s,o=s=a(r,"Mocks"),c=(o.$$proto,[o].concat($));!function(r,$super,a){function $(){}var s,o=$=n(r,$super,"ErrorGenerator",$);o.$$proto,[o].concat(a);e.defn(o,"$actual_method_call_args_description",s=function(r,a){var n,$,s=this,o=arguments.length;return 2!==o&&e.ac(o,2,this,"actual_method_call_args_description"),i(n=s.$method_call_args_description(a))?n:function(){return i(i($=t(r,0))?t(a.$length(),0):$)?" with arguments: "+a.$inspect().$gsub(/^\[(.+)\]$/,"(\\1)"):""}()},s.$$arity=2,s.$$parameters=[["req","count"],["req","args"]])}(c[0],null,c)}(e.const_get_qualified("::","RSpec"),r)},Opal.modules["opal/rspec/fixes/rspec/mocks/test_double"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.truthy),n=e.module,i=e.send;return e.add_stubs(["$multiple_module_include_super_works_right?","$__mock_proxy","$record_message_received","$to_proc","$null_object?","$===","$to_s","$visibility_for","$==","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error"]),a(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(t,"Opal"),"RSpec"),"Compatibility")["$multiple_module_include_super_works_right?"]())?r:function(t,$){var s,o,c=s=n(t,"TestDouble"),_=(c.$$proto,[c].concat($));e.defn(c,"$call_method_missing",o=function(t){var n,$,s=this,c=o.$$p,l=c||r,u=r,p=r,d=r;null==s.name&&(s.name=r);var f=arguments.length,h=f-1;h<0&&(h=0),$=new Array(h);for(var m=1;m<f;m++)$[m-1]=arguments[m];c&&(o.$$p=null);var g=arguments.length;return g<1&&e.ac(g,-2,this,"call_method_missing"),u=s.$__mock_proxy(),i(u,"record_message_received",[t].concat(e.to_a($)),l.$to_proc()),a(u["$null_object?"]())?(p=t,"to_int"["$==="](p)?0:"to_a"["$==="](p)||"to_ary"["$==="](p)?r:"to_str"["$==="](p)?s.$to_s():s):(d=u.$visibility_for(t),a(a(n=d["$=="]("private"))?n:d["$=="]("protected"))&&e.const_get_relative(_,"ErrorGenerator").$new(s,s.name).$raise_non_public_error(t,d),a(["to_a","to_ary"]["$include?"](t))&&s.$raise(e.const_get_relative(_,"NoMethodError")),i(u,"raise_unexpected_message_error",[t].concat(e.to_a($))))},o.$$arity=-2,o.$$parameters=[["req","message"],["rest","args"],["block","block"]])}(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Mocks"),t)},Opal.modules["opal/rspec/fixes/rspec/mocks/verifying_double"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.truthy),n=e.module,i=e.send,$=e.klass;return e.add_stubs(["$multiple_module_include_super_works_right?","$null_object?","$==","$ensure_implemented","$__mock_proxy","$ensure_publicly_implemented","$call_method_missing","$to_proc","$include"]),a(e.const_get_qualified(e.const_get_qualified(e.const_get_relative(t,"Opal"),"RSpec"),"Compatibility")["$multiple_module_include_super_works_right?"]())?r:(function(t,$){var s,o,c=s=n(t,"VerifyingDoubleFixes");c.$$proto,[c].concat($);e.defn(c,"$method_missing",o=function(t){var n,$=this,s=o.$$p,c=s||r;null==$.__sending_message&&($.__sending_message=r);var _=arguments.length,l=_-1;l<0&&(l=0),n=new Array(l);for(var u=1;u<_;u++)n[u-1]=arguments[u];s&&(o.$$p=null);var p=arguments.length;return p<1&&e.ac(p,-2,this,"method_missing"),a($["$null_object?"]())&&($.__sending_message["$=="](t)?$.$__mock_proxy().$ensure_implemented(t):$.$__mock_proxy().$ensure_publicly_implemented(t,$)),i($,"call_method_missing",[t].concat(e.to_a(n)),c.$to_proc())},o.$$arity=-2,o.$$parameters=[["req","message"],["rest","args"],["block","block"]])}(e.const_get_qualified(e.const_get_relative(t,"Opal"),"RSpec"),t),function(t,r){var a,i=a=n(t,"Mocks"),s=(i.$$proto,[i].concat(r));!function(t,r){var a,i=a=n(t,"VerifyingDouble");i.$$proto,[i].concat(r);i.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","Opal"),"RSpec"),"VerifyingDoubleFixes"))}(s[0],s),function(t,$super,r){function a(){}var n=a=$(t,$super,"ObjectVerifyingDouble",a);n.$$proto,[n].concat(r);n.$include(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","Opal"),"RSpec"),"VerifyingDoubleFixes"))}(s[0],null,s)}(e.const_get_qualified("::","RSpec"),t))},Opal.modules["opal/rspec/fixes/rspec/mocks"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/mocks/../mocks/space"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/error_generator"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/test_double"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/verifying_double")},Opal.modules["opal/rspec/fixes/rspec/caller_filter"]=function(e){var t=(e.top,[]),r=(e.nil,e.breaker,e.slice,e.klass);return function(t,$super,a){function n(){}var i,$=n=r(t,$super,"CallerFilter",n);$.$$proto,[$].concat(a);return e.defs($,"$first_non_rspec_line",i=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"first_non_rspec_line"),""},i.$$arity=0,i.$$parameters=[])}(e.const_get_relative(t,"RSpec"),null,t)},Opal.modules["opal/rspec/fixes/rspec/example_groups"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.truthy,$=e.send;return e.add_stubs(["$empty?","$description","$+","$gsub","$upcase","$[]","$last_match","$lstrip","$const_defined_on?","$next"]),function(r,s){var o,c,_,l=o=n(r,"ExampleGroups"),u=(l.$$proto,[l].concat(s));e.defs(l,"$base_name_for",c=function(r){var n,s=this,o=a,c=arguments.length;return 1!==c&&e.ac(c,1,this,"base_name_for"),i(r.$description()["$empty?"]())?"Anonymous":(o=t(" ",r.$description()),o=$(o,"gsub",[/[^0-9a-zA-Z]+([0-9a-zA-Z])/],(n=function(){n.$$s;if(n.$$is_lambda||n.$$define_meth){var t=arguments.length;0!==t&&e.block_ac(t,0,"base_name_for")}return e.const_get_relative(u,"Regexp").$last_match()["$[]"](1).$upcase()},n.$$s=s,n.$$arity=0,n.$$parameters=[],n)),o=o.$lstrip(),o=o.$gsub(/\W/,""),o=o.$gsub(/^([^A-Z]|$)/,"Nested\\1"))},c.$$arity=1,c.$$parameters=[["req","group"]]),e.defs(l,"$disambiguate",_=function(r,a){var n=this,$=arguments.length;if(2!==$&&e.ac($,2,this,"disambiguate"),!i(n["$const_defined_on?"](a,r)))return r;for(r=t(r,"_2");i(n["$const_defined_on?"](a,r));)r=r.$next();return r},_.$$arity=2,_.$$parameters=[["req","name"],["req","const_scope"]])}(e.const_get_relative(r,"RSpec"),r)},Opal.modules["opal/rspec/fixes/rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/../rspec/core"),t.$require("opal/rspec/fixes/rspec/../rspec/support"),t.$require("opal/rspec/fixes/rspec/../rspec/expectations"),t.$require("opal/rspec/fixes/rspec/../rspec/matchers"),t.$require("opal/rspec/fixes/rspec/../rspec/mocks"),t.$require("opal/rspec/fixes/rspec/../rspec/caller_filter"),t.$require("opal/rspec/fixes/rspec/../rspec/example_groups")},Opal.modules["opal/rspec/fixes"]=function(e){var t=e.top,r=[],a=(e.nil,e.breaker,e.slice,e.truthy);return e.add_stubs(["$const_defined?","$require"]),a(e.const_get_relative(r,"Object")["$const_defined?"]("Encoding"))||t.$require("encoding"),t.$require("thread"),t.$require("opal/rspec/fixes/../fixes/rspec"),t.$require("opal/rspec/fixes/../fixes/opal")},Opal.modules["opal/rspec/default_config"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send);return e.add_stubs(["$configure","$default_formatter=","$-","$expect_with","$syntax="]),$(e.const_get_relative(n,"RSpec"),"configure",[],(r=function(a){var n,s=r.$$s||this,o=i;if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var c=arguments.length;1!==c&&e.block_ac(c,1,"<main>")}return o=[e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"ProgressFormatter")],$(a,"default_formatter=",e.to_a(o)),o[t(o.length,1)],$(a,"expect_with",["rspec"],(n=function(r){n.$$s;if(null==r&&(r=i),n.$$is_lambda||n.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"<main>")}return o=[["should","expect"]],$(r,"syntax=",e.to_a(o)),o[t(o.length,1)]},n.$$s=s,n.$$arity=1,n.$$parameters=[["req","c"]],n))},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","config"]],r))},Opal.modules["opal/rspec/formatter/document_io"]=function(e){var t=(e.top,[]),r=e.nil,a=(e.breaker,e.slice,e.module),n=e.klass,i=e.truthy;return e.add_stubs(["$include"]),function(t,$){var s,o=s=a(t,"Opal"),c=(o.$$proto,[o].concat($));!function(t,$){var s,o=s=a(t,"RSpec"),c=(o.$$proto,[o].concat($));!function(t,$super,a){function $(){}var s,o,c,_,l=$=n(t,$super,"DocumentIO",$),u=l.$$proto,p=[l].concat(a);u.closed=r,l.$include(e.const_get_qualified(e.const_get_relative(p,"IO"),"Writable")),e.defn(l,"$initialize",s=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"initialize"),document.open()},s.$$arity=0,s.$$parameters=[]),e.defn(l,"$close",o=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"close"),t.closed=!0,document.close()},o.$$arity=0,o.$$parameters=[]),e.defn(l,"$write",c=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"write"),i(r.closed)?console.error("DOC closed, can't write "+t):document.write(t)},c.$$arity=1,c.$$parameters=[["req","html"]]),e.defn(l,"$flush",_=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),r},_.$$arity=0,_.$$parameters=[])}(c[0],e.const_get_relative(c,"IO"),c)}(c[0],c)}(t[0],t)},Opal.modules["opal/rspec/formatter/noop_flush_string_io"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require"]),t.$require("stringio"),function(t,r){var $,s=$=n(t,"Opal"),o=(s.$$proto,[s].concat(r));!function(t,r){var $,s=$=n(t,"RSpec"),o=(s.$$proto,[s].concat(r));!function(t,$super,r){function n(){}var $,s=n=i(t,$super,"NoopFlushStringIO",n);s.$$proto,[s].concat(r);e.defn(s,"$flush",$=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"flush"),a},$.$$arity=0,$.$$parameters=[])}(o[0],e.const_get_relative(o,"StringIO"),o)}(o[0],o)}(r[0],r)},Opal.modules["opal/rspec/formatter/element"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,[]),a=e.nil,n=(e.breaker,e.slice,e.module),i=e.klass,$=e.truthy,s=e.send,o=e.hash2;return e.add_stubs(["$attr_reader","$new","$===","$each","$__send__","$[]","$gsub","$html=","$-","$native"]),function(r,c){var _,l=_=n(r,"Opal"),u=(l.$$proto,[l].concat(c));!function(r,c){var _,l=_=n(r,"RSpec"),u=(l.$$proto,[l].concat(c));!function(r,$super,n){function c(){}var _,l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S=c=i(r,$super,"Element",c),M=S.$$proto,O=[S].concat(n);M["native"]=a,S.$attr_reader("native"),e.defs(S,"$id",_=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"id"),r.$new(document.getElementById(t))},_.$$arity=1,_.$$parameters=[["req","id"]]),e.defs(S,"$klass",l=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"klass"),r.$new(document.getElementsByClassName(t)[0])},l.$$arity=1,l.$$parameters=[["req","klass"]]),e.defs(S,"$from_string",u=function(t){var r=this,n=a,i=arguments.length;return 1!==i&&e.ac(i,1,this,"from_string"),n=document.createElement("div"),n.innerHTML=t,r.$new(n.children[0])},u.$$arity=1,u.$$parameters=[["req","str"]]),e.defn(S,"$initialize",p=function(t,r){var n,i=this;null==r&&(r=o([],{}));var c=arguments.length;return(c<1||c>2)&&e.ac(c,-2,this,"initialize"),$(e.const_get_relative(O,"String")["$==="](t))?i["native"]=document.createElement(t):i["native"]=t,s(r,"each",[],(n=function(t,r){var i=n.$$s||this;if(null==t&&(t=a),null==r&&(r=a),n.$$is_lambda||n.$$define_meth){var $=arguments.length;2!==$&&e.block_ac($,2,"initialize")}return i.$__send__(t+"=",r)},n.$$s=i,n.$$arity=2,n.$$parameters=[["req","name"],["req","val"]],n))},p.$$arity=-2,p.$$parameters=[["req","el"],["opt","attrs"]]),e.defn(S,"$class_name",d=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"class_name"),t["native"].className},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$get_child_by_tag_name",f=function(t,r){var n=this,i=a,$=a;null==r&&(r=0);var s=arguments.length;(s<1||s>2)&&e.ac(s,-2,this,"get_child_by_tag_name"),i=n["native"].getElementsByTagName(t),$=[];for(var o=0;o<i.length;o++)$.push(i[o]);return e.const_get_relative(O,"Element").$new($["$[]"](r))},f.$$arity=-2,f.$$parameters=[["req","tag"],["opt","index"]]),e.defn(S,"$class_name=",h=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"class_name="),r["native"].className=t},h.$$arity=1,h.$$parameters=[["req","name"]]),e.defn(S,"$native",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"native"),t["native"]},m.$$arity=0,m.$$parameters=[]),e.defn(S,"$outer_html",g=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"outer_html"),t["native"].outerHTML},g.$$arity=0,g.$$parameters=[]),e.defn(S,"$on_click=",v=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"on_click="),r["native"].onclick=t},v.$$arity=1,v.$$parameters=[["req","lambda"]]),e.defn(S,"$html=",y=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"html="),r["native"].innerHTML=t},y.$$arity=1,y.$$parameters=[["req","html"]]),e.defn(S,"$text=",b=function(r){var n=this,i=a,$=arguments.length;return 1!==$&&e.ac($,1,this,"text="),i=[r.$gsub(/</,"&lt").$gsub(/>/,"&gt")],s(n,"html=",e.to_a(i)),i[t(i.length,1)]},b.$$arity=1,b.$$parameters=[["req","text"]]),e.defn(S,"$type=",x=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"type="),r["native"].type=t},x.$$arity=1,x.$$parameters=[["req","type"]]),e.defn(S,"$append",k=function(t){var r=this,a=arguments.length;return 1!==a&&e.ac(a,1,this,"append"),r["native"].appendChild(t.$native())},k.$$arity=1,k.$$parameters=[["req","child"]]),e.alias(S,"<<","append"),e.defn(S,"$css_text=",q=function(t){var r=this,a=arguments.length;1!==a&&e.ac(a,1,this,"css_text="),r["native"].styleSheet?r["native"].styleSheet.cssText=t:r["native"].appendChild(document.createTextNode(t))},q.$$arity=1,q.$$parameters=[["req","text"]]),e.defn(S,"$style",w=function(t,r){var a=this,n=arguments.length;return 2!==n&&e.ac(n,2,this,"style"),a["native"].style[t]=r},w.$$arity=2,w.$$parameters=[["req","name"],["req","value"]]),e.defn(S,"$append_to_head",E=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"append_to_head"),document.getElementsByTagName("head")[0].appendChild(t["native"])},E.$$arity=0,E.$$parameters=[])}(u[0],null,u)}(u[0],u)}(r[0],r)},Opal.modules["opal/rspec/formatter/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=e.top,i=[],$=e.nil,s=(e.breaker,e.slice,e.module),o=e.klass,c=e.send,_=e.truthy;return e.add_stubs(["$puts","$close","$reset_output","$klass","$last","$current_node","$from_string","$string","$append","$new","$<<","$get_child_by_tag_name","$pop","$each","$to_proc","$flush_output","$lambda","$[]","$on_click=","$-","$==","$+","$>","$%","$html=","$id"]),n.$require("opal/rspec/formatter/html_printer/../noop_flush_string_io"),n.$require("opal/rspec/formatter/html_printer/../element"),function(n,i){var l,u=l=s(n,"Opal"),p=(u.$$proto,[u].concat(i));!function(n,i){var l,u=l=s(n,"RSpec"),p=(u.$$proto,[u].concat(i));!function(n,$super,i){function s(){}var l,u,p,d,f,h,m,g,v,y,b,x,k,q,w,E,S=s=o(n,$super,"HtmlPrinter",s),M=S.$$proto,O=[S].concat(i);M.output=M.group_stack=M.root_node=M.update_stack=$,e.defn(S,"$initialize",l=function(){var t=this,r=l.$$p,a=$,n=$,i=$;r&&(l.$$p=null);var s=arguments.length;for(1!==s&&e.ac(s,1,this,"initialize"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"initialize",l,!1),a,r),t.group_stack=[],t.update_stack=[]},l.$$arity=1,l.$$parameters=[["req","output"]]),e.defn(S,"$print_html_start",u=function(){var t=this,r=u.$$p,a=$,n=$,i=$;r&&(u.$$p=null);var s=arguments.length;for(0!==s&&e.ac(s,0,this,"print_html_start"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"print_html_start",u,!1),a,r),t.output.$puts("</div>"),t.output.$puts("</div>"),t.output.$puts("</body>"),t.output.$puts("</html>"),t.output.$close(),t.$reset_output(),t.root_node=e.const_get_relative(O,"Element").$klass("results")},u.$$arity=0,u.$$parameters=[]),e.defn(S,"$current_node",p=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"current_node"),_(t.group_stack.$last())?t.group_stack.$last():t.root_node},p.$$arity=0,p.$$parameters=[]),e.defn(S,"$flush_output",d=function(){var t=this,r=$,a=$,n=arguments.length;return 0!==n&&e.ac(n,0,this,"flush_output"),r=t.$current_node(),a=e.const_get_relative(O,"Element").$from_string(t.output.$string()),r.$append(a),t.$reset_output()},d.$$arity=0,d.$$parameters=[]),e.defn(S,"$reset_output",f=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"reset_output"),t.output=e.const_get_relative(O,"NoopFlushStringIO").$new()},f.$$arity=0,f.$$parameters=[]),e.defn(S,"$print_example_group_start",h=function(){var t=this,r=h.$$p,a=$,n=$,i=$,s=$,o=$;r&&(h.$$p=null);var _=arguments.length;for(3!==_&&e.ac(_,3,this,"print_example_group_start"),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return c(t,e.find_super_dispatcher(t,"print_example_group_start",h,!1),i,r),t.output.$puts("</dl></div>"),a=t.$current_node(),n=e.const_get_relative(O,"Element").$from_string(t.output.$string()),t.$reset_output(),a["$<<"](n),t.group_stack["$<<"](n.$get_child_by_tag_name("dl")),t.update_stack["$<<"]([])},h.$$arity=3,h.$$parameters=[["req","group_id"],["req","description"],["req","number_of_parents"]]),e.defn(S,"$print_example_group_end",m=function(){var t=this,r=arguments.length;return 0!==r&&e.ac(r,0,this,"print_example_group_end"),t.group_stack.$pop(),c(t.update_stack.$pop(),"each",[],"call".$to_proc())},m.$$arity=0,m.$$parameters=[]),e.defn(S,"$print_example_passed",g=function(){var t=this,r=g.$$p,a=$,n=$,i=$;r&&(g.$$p=null);var s=arguments.length;for(2!==s&&e.ac(s,2,this,"print_example_passed"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"print_example_passed",g,!1),a,r),t.$flush_output()},g.$$arity=2,g.$$parameters=[["req","description"],["req","run_time"]]),e.defn(S,"$print_example_failed",v=function(r,a,n,i,s,o,_){var l,u=this,p=v.$$p,d=$,f=$,h=$,m=$,g=$,y=$,b=$;null==_&&(_=!1),p&&(v.$$p=null);var x=arguments.length;for((x<6||x>7)&&e.ac(x,-7,this,"print_example_failed"),y=0,b=arguments.length,g=new Array(b);y<b;y++)g[y]=arguments[y];return c(u,e.find_super_dispatcher(u,"print_example_failed",v,!1),g,p),u.$flush_output(),d=u.$current_node().$get_child_by_tag_name("dd",-1),f=c(u,"lambda",[],(l=function(){return(l.$$s||this).$puts("Exception for example '"+a+"'\n"+s["$[]"]("backtrace")),!1},l.$$s=u,l.$$arity=-1,l.$$parameters=[["rest"]],l)),h=e.const_get_relative(O,"Element").$from_string('<form><button type="button">Console</button></form>'),m=[f],c(h,"on_click=",e.to_a(m)),m[t(m.length,1)],d["$<<"](h)},v.$$arity=-7,v.$$parameters=[["req","pending_fixed"],["req","description"],["req","run_time"],["req","failure_id"],["req","exception"],["req","extra_content"],["opt","escape_backtrace"]]),e.defn(S,"$print_example_pending",y=function(){var t=this,r=y.$$p,a=$,n=$,i=$;r&&(y.$$p=null);var s=arguments.length;for(2!==s&&e.ac(s,2,this,"print_example_pending"),n=0,i=arguments.length,a=new Array(i);n<i;n++)a[n]=arguments[n];return c(t,e.find_super_dispatcher(t,"print_example_pending",y,!1),a,r),t.$flush_output()},y.$$arity=2,y.$$parameters=[["req","description"],["req","pending_message"]]),e.defn(S,"$print_summary",b=function(n,i,s,o){var l=$,u=$,p=$,d=arguments.length;return 4!==d&&e.ac(d,4,this,"print_summary"),l=i+" example"+function(){return i["$=="](1)?$:"s"}()+", ",l=r(l,s+" failure"+function(){return s["$=="](1)?$:"s"}()),_(a(o,0))&&(l=r(l,", "+o+" pending")),u="%.5f"["$%"](n),p=["Finished in <strong>"+u+" seconds</strong>"],c(e.const_get_relative(O,"Element").$id("duration"),"html=",e.to_a(p)),p[t(p.length,1)],p=[l],c(e.const_get_relative(O,"Element").$id("totals"),"html=",e.to_a(p)),p[t(p.length,1)]},b.$$arity=4,b.$$parameters=[["req","duration"],["req","example_count"],["req","failure_count"],["req","pending_count"]]),e.defn(S,"$move_progress",x=function(t){var r=arguments.length;return 1!==r&&e.ac(r,1,this,"move_progress"),moveProgressBar(t)},x.$$arity=1,x.$$parameters=[["req","percent_done"]]),e.defn(S,"$make_header_red",k=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"make_header_red"),makeRed("rspec-header")},k.$$arity=0,k.$$parameters=[]),e.defn(S,"$make_header_yellow",q=function(){var t=arguments.length;return 0!==t&&e.ac(t,0,this,"make_header_yellow"),makeYellow("rspec-header")},q.$$arity=0,q.$$parameters=[]),e.defn(S,"$make_example_group_header_red",w=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"make_example_group_header_red"),a.update_stack.$last()["$<<"](c(a,"lambda",[],(r=function(){r.$$s;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"make_example_group_header_red")}return makeRed("div_group_"+t),makeRed("example_group_"+t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)))},w.$$arity=1,w.$$parameters=[["req","group_id"]]),e.defn(S,"$make_example_group_header_yellow",E=function(t){var r,a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"make_example_group_header_yellow"),a.update_stack.$last()["$<<"](c(a,"lambda",[],(r=function(){r.$$s;if(r.$$is_lambda||r.$$define_meth){var a=arguments.length;0!==a&&e.block_ac(a,0,"make_example_group_header_yellow")}return makeYellow("div_group_"+t),makeYellow("example_group_"+t)},r.$$s=a,r.$$arity=0,r.$$parameters=[],r)))},E.$$arity=1,E.$$parameters=[["req","group_id"]])}(p[0],e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"HtmlPrinter"),p)}(p[0],p)}(i[0],i)},Opal.modules["opal/rspec/formatter/browser_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,a=[],n=e.nil,i=(e.breaker,e.slice,e.module),$=e.klass,s=e.send;return e.add_stubs(["$register","$new","$+","$print_example_group_start","$example_group_number","$description","$group","$size","$parent_groups","$flush","$print_example_group_end","$map","$backtrace","$exception","$backtrace_line","$backtrace_formatter","$configuration","$compact"]),r.$require("opal/rspec/formatter/browser_formatter/../document_io"),r.$require("opal/rspec/formatter/browser_formatter/../html_printer"),function(r,a){var o,c=o=i(r,"Opal"),_=(c.$$proto,[c].concat(a));!function(r,a){var o,c=o=i(r,"RSpec"),_=(c.$$proto,[c].concat(a));!function(r,$super,a){function i(){}var o,c,_,l,u,p=i=$(r,$super,"BrowserFormatter",i),d=p.$$proto,f=[p].concat(a);d.output=d.example_group_number=d.printer=n,e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters").$register(p,"example_group_finished"),e.defn(p,"$initialize",o=function(){var t=this,r=o.$$p;r&&(o.$$p=null);var a=arguments.length;return 1!==a&&e.ac(a,1,this,"initialize"),s(t,e.find_super_dispatcher(t,"initialize",o,!1),[e.const_get_relative(f,"DocumentIO").$new()],null),t.printer=e.const_get_qualified(e.const_get_qualified(e.const_get_relative(f,"Opal"),"RSpec"),"HtmlPrinter").$new(t.output)},o.$$arity=1,o.$$parameters=[["req","output"]]),e.defn(p,"$example_group_started",c=function(r){var a=this,n=arguments.length;return 1!==n&&e.ac(n,1,this,"example_group_started"),a.example_group_red=!1,a.example_group_number=t(a.example_group_number,1),a.printer.$print_example_group_start(a.$example_group_number(),r.$group().$description(),r.$group().$parent_groups().$size()),a.printer.$flush()},c.$$arity=1,c.$$parameters=[["req","notification"]]),e.defn(p,"$example_group_finished",_=function(){var t=this,r=arguments.length;return 1!==r&&e.ac(r,1,this,"example_group_finished"),t.printer.$print_example_group_end()},_.$$arity=1,_.$$parameters=[["req","notification"]]),e.defn(p,"$start_dump",l=function(){var t=arguments.length;return 1!==t&&e.ac(t,1,this,"start_dump"),n},l.$$arity=1,l.$$parameters=[["req","_notification"]]),e.defn(p,"$extra_failure_content",u=function(t){var r,a=this,i=n,$=arguments.length;return 1!==$&&e.ac($,1,this,"extra_failure_content"),i=s(t.$exception().$backtrace(),"map",[],(r=function(t){r.$$s;if(null==t&&(t=n),r.$$is_lambda||r.$$define_meth){var a=arguments.length;1!==a&&e.block_ac(a,1,"extra_failure_content")}return e.const_get_qualified("::","RSpec").$configuration().$backtrace_formatter().$backtrace_line(t)},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","line"]],r)),'    <pre class="ruby"><code>'+i.$compact()+"</code></pre>"},u.$$arity=1,u.$$parameters=[["req","failure"]])}(_[0],e.const_get_qualified(e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","RSpec"),"Core"),"Formatters"),"HtmlFormatter"),_)}(_[0],_)}(a[0],a)},Opal.modules["opal/rspec/browser"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r,a=e.top,n=[],i=e.nil,$=(e.breaker,e.slice,e.send),s=i;return e.add_stubs(["$require","$configure","$default_formatter=","$-","$to_proc","$method","$==","$[]","$call"]),a.$require("opal/rspec/formatter/browser_formatter"),$(e.const_get_relative(n,"RSpec"),"configure",[],(r=function(a){var n=(r.$$s,i);if(null==a&&(a=i),r.$$is_lambda||r.$$define_meth){var s=arguments.length;1!==s&&e.block_ac(s,1,"<main>")}return n=[e.const_get_qualified(e.const_get_qualified(e.const_get_qualified("::","Opal"),"RSpec"),"BrowserFormatter")],$(a,"default_formatter=",e.to_a(n)),n[t(n.length,1)]},r.$$s=a,r.$$arity=1,r.$$parameters=[["req","config"]],r)),s=e.const_get_relative(n,"Kernel").$method("exit").$to_proc(),e.const_get_relative(n,"JS")["$[]"]("document").readyState["$=="]("complete")?e.const_get_relative(n,"JS")["$[]"]("setTimeOut").$call(s,1):e.const_get_relative(n,"JS")["$[]"]("document").addEventListener("DOMContentLoaded",s,!1)},Opal.modules["opal/rspec"]=function(e){var t=e.top,r=[],a=e.nil,n=(e.breaker,e.slice,e.truthy);return e.add_stubs(["$require","$[]"]),t.$require("opal/rspec/pre_require_fixes"),t.$require("opal/rspec/requires"),t.$require("opal/rspec/fixes"),t.$require("opal/rspec/default_config"),n(e.const_get_relative(r,"JS")["$[]"]("document"))?t.$require("opal/rspec/browser"):a},Opal.modules["opal-rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/rspec")},Opal.modules.rspec_results=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal"),t.$require("opal-rspec")};