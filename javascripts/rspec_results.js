(function(e){function t(){}function r(){}function n(){}function $(){}function a(){}if("undefined"!=typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var i,o,s,l,u,c=this.Opal={},_={},p=function(){};p.prototype=c,c.constructor=p,c.constants=[],c.global=this,c.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var f=c.hasOwnProperty,d=(c.slice=Array.prototype.slice,4),h=d;c.uid=function(){return h+=2},c.cvars={},c.gvars={},c.exit=function(e){c.gvars.DEBUG&&console.log("Exited with status "+e)},c.exceptions=[],c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||i},c.get=function(e){var t=this[e];return null==t?this.base.$const_get(e):t},c.create_scope=function(e,t,r){var n=function(){},$=n.prototype=new e.constructor;t.$$scope=$,t.$$base_module=e.base,$.base=t,$.constructor=n,$.constants=[],r&&(c.cdecl(e,r,t),n.displayName=r+"_scope_alloc")},c.casgn=function(e,t,r){function n(e,t){e.$$name=t;for(t in e.$$scope){var r=e.$$scope[t];r.$$name===i&&(r.$$is_class||r.$$is_module)&&n(r,t)}}var $=e.$$scope;if((r.$$is_class||r.$$is_module)&&((r.$$is_class||r.$$base_module===s)&&(r.$$base_module=e),r.$$name===i&&r.$$base_module.$$name!==i&&n(r,t)),$.constants.push(t),$[t]=r,e.$$is_module&&e.$$dep)for(var a=0;a<e.$$dep.length;a++){var o=e.$$dep[a];c.casgn(o,t,r)}return r},c.cdecl=function(e,t,r){return(r.$$is_class||r.$$is_module)&&null==r.$$orig_scope&&(r.$$name=t,r.$$orig_scope=e,r.$$base_module=e.base,e.constructor[t]=r),e.constants.push(t),e[t]=r},c.klass=function(e,t,r,n){var $,a,i;if(e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&(a=t,t=s),$=e.$$scope[r],$&&$.$$orig_scope===e.$$scope){if(!$.$$is_class)throw c.TypeError.$new(r+" is not a class");if(t&&$.$$super!==t)throw c.TypeError.$new("superclass mismatch for class "+r);return $}return null==t&&(t=s),i=a||c.boot_class_alloc(r,n,t),$=c.setup_class_object(r,i,t.$$name,t.constructor),$.$$super=t,$.$$parent=t,c.create_scope(e.$$scope,$,r),e[r]=$,a?c.bridge($,i):(t!==s&&t!==o&&c.donate_constants(t,$),t.$inherited&&t.$inherited($)),$},c.boot_class_alloc=function(e,t,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,t.prototype=new n}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},c.setup_class_object=function(e,t,r,n){var $=function(){};$.prototype=n.prototype,$.displayName=r;var a=function(){};a.prototype=new $;var o=new a;return o.$$alloc=t,o.$$name=e||i,o.$$id=c.uid(),a.displayName="#<Class:"+(e||"#<Class:"+o.$$id+">")+">",o.$$proto=t.prototype,o.$$proto.$$class=o,o.constructor=a,o.$$is_class=!0,o.$$class=u,o.$$inc=[],o},c.module=function(e,t){var r;if(e.$$is_class||e.$$is_module||(e=e.$$class),f.call(e.$$scope,t)){if(r=e.$$scope[t],!r.$$is_module&&r!==s)throw c.TypeError.$new(t+" is not a module")}else r=c.module_allocate(),c.create_scope(e.$$scope,r,t);return r},c.module_initialize=function(e,t){if(t!==i){var r=t.$$s;t.$$s=null,t.call(e),t.$$s=r}return i},c.module_allocate=function(){function e(){}var t=function(){};t.prototype=$.prototype,e.prototype=new t;var r=new e,n={},a=l;return r.$$id=c.uid(),e.displayName="#<Class:#<Module:"+r.$$id+">>",r.$$proto=n,r.constructor=e,r.$$is_module=!0,r.$$class=l,r.$$super=a,r.$$parent=a,r.$$inc=[],r.$$is_module=!0,r.$$dep=[],r.$$name=i,r},c.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?c.build_class_singleton_class(e):c.build_object_singleton_class(e)},c.build_class_singleton_class=function(e){var t,r,n;return e.$$meta?e.$$meta:(t=e.constructor,r=e===o?u:c.build_class_singleton_class(e.$$super),n=c.setup_class_object(null,t,r.$$name,r.constructor),n.$$super=r,n.$$parent=r,c.create_scope(e.$$scope,n),n.$$is_singleton=!0,n.$$singleton_of=e,e.$$meta=n)},c.build_object_singleton_class=function(e){var t=e.$$class,r="#<Class:#<"+t.$$name+":"+t.$$id+">>",n=c.boot_class_alloc(r,function(){},t),$=c.setup_class_object(r,n,t.$$name,t.constructor);return $.$$super=t,$.$$parent=t,$.$$class=t.$$class,$.$$scope=t.$$scope,$.$$proto=e,$.$$is_singleton=!0,$.$$singleton_of=e,e.$$meta=$},c.bridge_method=function(e,t,r,n){var $,a,i,o;for($=e.$$bridge.$ancestors(),a=0,o=$.length;o>a&&(i=$[a],!f.call(i.$$proto,r)||!i.$$proto[r]||i.$$proto[r].$$donated||i.$$proto[r].$$stub||i===t);a++)if(i===t){e.prototype[r]=n;break}},c._bridge=function(e,t){var r,n,$,a,i;if("function"==typeof e){for(r=t.$__id__(),n=t.$instance_methods(),a=n.length-1;a>=0;a--)$="$"+n[a],c.bridge_method(e,t,$,t.$$proto[$]);_[r]||(_[r]=[]),_[r].push(e)}else if(i=_[e.$__id__()]){for(a=i.length-1;a>=0;a--)c._bridge(i[a],t);_[t.$__id__()]=i.slice()}},c.append_features=function(e,t){var r,n,$,a,i,o;for(o=t.$$inc.length-1;o>=0;o--)if(t.$$inc[o]===e)return;for(t.$$inc.push(e),e.$$dep.push(t),c._bridge(t,e),r={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=r,n=e.$$proto,$=t.$$proto,a=e.$instance_methods(),o=a.length-1;o>=0;o--)i="$"+a[o],(!$.hasOwnProperty(i)||$[i].$$donated||$[i].$$stub)&&($[i]=n[i],$[i].$$donated=e);c.donate_constants(e,t)},c.stubs={},c.bridge=function(e,r){if(r.$$bridge)throw c.ArgumentError.$new("already bridged");c.stub_subscribers.push(r.prototype);for(var n in c.stubs)n in r.prototype||(r.prototype[n]=c.stub_for(n));r.prototype.$$class=e,r.$$bridge=e;for(var $=e.$ancestors(),a=$.length-1;a>=0;a--)c._bridge(r,$[a]);for(var i in t.prototype){var o=t.prototype[o];!o||!o.$$stub||i in r.prototype||(r.prototype[i]=o)}return e},c.donate_constants=function(e,t){for(var r=e.$$scope.constants,n=t.$$scope,$=n.constants,a=0,i=r.length;i>a;a++)$.push(r[a]),n[r[a]]=e.$$scope[r[a]]},c.donate=function(e,t){var r,n,$,a,i,o,s,l,u,_,p=e.$$dep,f=e.$$proto[t];if(p)for(r=0,n=p.length;n>r;r++){if($=p[r],a=$.$$proto,i=a[t],!a.hasOwnProperty(t)||i.$$donated||i.$$stub)if(a.hasOwnProperty(t)&&!i.$$stub){for(o=$.$$inc,s=0,l=o.length;l>s;s++)o[s]===i.$$donated&&(u=s),o[s]===e&&(_=s);_>=u&&(a[t]=f,a[t].$$donated=e)}else a[t]=f,a[t].$$donated=e;else;$.$$dep&&c.donate($,t)}},c.ancestors=function(e){for(var t,r=e,n=[];r;){n.push(r);for(var $=0;$<r.$$inc.length;$++){t=c.ancestors(r.$$inc[$]);for(var a=0;a<t.length;a++)n.push(t[a])}r=r.$$is_singleton&&r.$$singleton_of.$$is_module?r.$$singleton_of.$$super:r.$$is_class?r.$$super:null}return n},c.add_stubs=function(e){var t,r,n,$,a,i=c.stub_subscribers,o=e.length,s=i.length;for(r=0;o>r;r++)for($=e[r],c.stubs[$]=!0,a=c.stub_for($),n=0;s>n;n++)t=i[n],$ in t||(t[$]=a)},c.stub_subscribers=[t.prototype],c.add_stub_for=function(e,t){var r=c.stub_for(t);e[t]=r},c.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var r=new Array(arguments.length),n=0,$=r.length;$>n;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[e.slice(1)].concat(r))}return t.$$stub=!0,t},c.ac=function(e,t,r,n){var $="";throw $+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",$+=n,c.ArgumentError.$new("["+$+"] wrong number of arguments("+e+" for "+t+")")},c.block_ac=function(e,t,r){var n="`block in "+r+"'";throw c.ArgumentError.$new(n+": wrong number of arguments ("+e+" for "+t+")")},c.find_super_dispatcher=function(e,t,r,n,$){var a;if(a=$?e.$$is_class||e.$$is_module?$.$$super:e.$$class.$$proto:c.find_obj_super_dispatcher(e,t,r),a=a["$"+t],!n&&a.$$stub&&c.Kernel.$method_missing===e.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return a},c.find_iter_super_dispatcher=function(e,t,r,n,$){var a=t;if(!r)throw c.RuntimeError.$new("super called outside of method");if($&&r.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(a=r.$$jsid),c.find_super_dispatcher(e,a,r,n)},c.find_obj_super_dispatcher=function(e,t,r){var n=e.$$meta||e.$$class;if(n=c.find_owning_class(n,r),!n)throw new Error("could not find current class for super()");return t="$"+t,c.find_super_func(n,t,r)},c.find_owning_class=function(e,t){for(var r=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==r)&&(!r.$$is_singleton||e!==r.$$singleton_of.$$class)&&e!==r;)e=e.$$parent;return e},c.find_super_func=function(e,t,r){for(var n=e.$$parent;n;){var $=n.$$proto[t];if($&&$!==r)break;n=n.$$parent}return n.$$proto},c.ret=function(e){throw c.returner.$v=e,c.returner},c.brk=function(e,t){throw t.$v=e,t},c.new_brk=function(){return new Error("unexpected break")},c.yield1=function(e,t){if("function"!=typeof e)throw c.LocalJumpError.$new("no block given");var r=e.$$has_top_level_mlhs_arg,n=e.$$has_trailing_comma_in_args;return(e.length>1||(r||n)&&1===e.length)&&(t=c.to_ary(t)),(e.length>1||n&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},c.yieldX=function(e,t){if("function"!=typeof e)throw c.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var r=new Array(t.length),n=0,$=r.length;$>n;n++)r[n]=t[n];return e.apply(null,r)}return e.apply(null,t)},c.rescue=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.$$is_array){var $=c.rescue(e,n);if($)return $}else if(n["$==="](e))return n}return null},c.is_a=function(e,t){if(e.$$meta===t)return!0;var r,n,$=c.ancestors(e.$$class);for(r=0,n=$.length;n>r;r++)if($[r]===t)return!0;for($=c.ancestors(e.$$meta),r=0,n=$.length;n>r;r++)if($[r]===t)return!0;return!1},c.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw c.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},c.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===i)return[e];if(t.$$is_array)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},c.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===i)return[e];if(t.$$is_array)return t;throw c.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},c.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):c.hash2([],{})},c.kwrestargs=function(e,t){var r=[],n={},$=null,a=e.$$smap;for($ in a)t[$]||(r.push($),n[$]=a[$]);return c.hash2(r,n)},c.send=function(e,t){for(var r=new Array(Math.max(arguments.length-2,0)),n=0,$=r.length;$>n;n++)r[n]=arguments[n+2];var a=e["$"+t];return a?a.apply(e,r):e.$method_missing.apply(e,[t].concat(r))},c.block_send=function(e,t,r){for(var n=new Array(Math.max(arguments.length-3,0)),$=0,a=n.length;a>$;$++)n[$]=arguments[$+3];var i=e["$"+t];return i?(i.$$p=r,i.apply(e,n)):e.$method_missing.apply(e,[t].concat(n))},c.defn=function(e,t,r){if(e.$$proto[t]=r,r.$$owner=e,e.$$is_module&&(c.donate(e,t),e.$$module_function&&c.defs(e,t,r)),e.$__id__&&!e.$__id__.$$stub){var n=_[e.$__id__()];if(n)for(var $=n.length-1;$>=0;$--)c.bridge_method(n[$],e,t,r)}var a=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),i},c.defs=function(e,t,r){c.defn(c.get_singleton_class(e),t,r)},c.def=function(e,t,r){e.$$eval||!e.$$is_class&&!e.$$is_module?c.defs(e,t,r):c.defn(e,t,r)},c.rdef=function(e,t){if(!f.call(e.$$proto,t))throw c.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},c.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw c.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());c.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},c.alias=function(e,t,r){var n="$"+t,$="$"+r,a=e.$$proto["$"+r];if(e.$$eval)return c.alias(c.get_singleton_class(e),t,r);if("function"!=typeof a||a.$$stub){for(var i=e.$$super;"function"!=typeof a&&i;)a=i[$],i=i.$$super;if("function"!=typeof a||a.$$stub)throw c.NameError.$new("undefined method `"+r+"' for class `"+e.$name()+"'")}return c.defn(e,n,a),e},c.alias_native=function(e,t,r){var n="$"+t,$=e.$$proto[r];if("function"!=typeof $||$.$$stub)throw c.NameError.$new("undefined native method `"+r+"' for class `"+e.$name()+"'");return c.defn(e,n,$),e},c.hash_init=function(e){e.$$smap={},e.$$map={},e.$$keys=[]},c.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var r,n,$=0,a=e.$$keys,i=a.length;i>$;$++)r=e.$$keys[$],r.$$is_string?n=e.$$smap[r]:(n=r.value,r=r.key),c.hash_put(t,r,n)},c.hash_put=function(t,r,n){if(r.$$is_string)return t.$$smap.hasOwnProperty(r)||t.$$keys.push(r),void(t.$$smap[r]=n);var $,a,i=r.$hash();if(!t.$$map.hasOwnProperty(i))return $={key:r,key_hash:i,value:n},t.$$keys.push($),void(t.$$map[i]=$);for($=t.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){a=e,$.value=n;break}a=$,$=$.next}a&&($={key:r,key_hash:i,value:n},t.$$keys.push($),a.next=$)},c.hash_get=function(e,t){if(t.$$is_string){if(e.$$smap.hasOwnProperty(t))return e.$$smap[t]}else{var r,n=t.$hash();if(e.$$map.hasOwnProperty(n))for(r=e.$$map[n];r;){if(t===r.key||t["$eql?"](r.key))return r.value;r=r.next}}},c.hash_delete=function(e,t){var r,n,$=e.$$keys,a=$.length;if(t.$$is_string){if(!e.$$smap.hasOwnProperty(t))return;for(r=0;a>r;r++)if($[r]===t){$.splice(r,1);break}return n=e.$$smap[t],delete e.$$smap[t],n}var i=t.$hash();if(e.$$map.hasOwnProperty(i))for(var o,s=e.$$map[i];s;){if(t===s.key||t["$eql?"](s.key)){for(n=s.value,r=0;a>r;r++)if($[r]===s){$.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?e.$$map[i]=s.next:delete e.$$map[i],n}o=s,s=s.next}},c.hash_rehash=function(t){for(var r,n,$,a=0,i=t.$$keys.length;i>a;a++)if(!t.$$keys[a].$$is_string&&(r=t.$$keys[a].key.$hash(),r!==t.$$keys[a].key_hash)){for(n=t.$$map[t.$$keys[a].key_hash],$=e;n;){if(n===t.$$keys[a]){$&&n.next?$.next=n.next:$?delete $.next:n.next?t.$$map[t.$$keys[a].key_hash]=n.next:delete t.$$map[t.$$keys[a].key_hash];break}$=n,n=n.next}if(t.$$keys[a].key_hash=r,t.$$map.hasOwnProperty(r)){for(n=t.$$map[r],$=e;n;){if(n===t.$$keys[a]){$=e;break}$=n,n=n.next}$&&($.next=t.$$keys[a])}else t.$$map[r]=t.$$keys[a]}},c.hash=function(){var e,t,r,n,$,a,i=arguments.length;if(1===i&&arguments[0].$$is_hash)return arguments[0];if(t=new c.Hash.$$alloc,c.hash_init(t),1===i&&arguments[0].$$is_array){for(e=arguments[0],n=e.length,r=0;n>r;r++){if(2!==e[r].length)throw c.ArgumentError.$new("value not of length 2: "+e[r].$inspect());$=e[r][0],a=e[r][1],c.hash_put(t,$,a)}return t}if(1===i){e=arguments[0];for($ in e)e.hasOwnProperty($)&&(a=e[$],c.hash_put(t,$,a));return t}if(i%2!==0)throw c.ArgumentError.$new("odd number of arguments for Hash");for(r=0;i>r;r+=2)$=arguments[r],a=arguments[r+1],c.hash_put(t,$,a);return t},c.hash2=function(e,t){var r=new c.Hash.$$alloc;return r.$$smap=t,r.$$map={},r.$$keys=e,r},c.range=function(e,t,r){var n=new c.Range.$$alloc;return n.begin=e,n.end=t,n.exclude=r,n},c.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},c.modules={},c.loaded_features=["corelib/runtime"],c.current_dir=".",c.require_table={"corelib/runtime":!0},c.normalize=function(e){var t,r,n=[],$="/";"."!==c.current_dir&&(e=c.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split($);for(var a=0,i=t.length;i>a;a++)r=t[a],""!==r&&(".."===r?n.pop():n.push(r));return n.join($)},c.loaded=function(e){var t,r,n;for(t=0,r=e.length;r>t;t++){if(n=c.normalize(e[t]),c.require_table[n])return;c.loaded_features.push(n),c.require_table[n]=!0}},c.load=function(e){e=c.normalize(e),c.loaded([e]);var t=c.modules[e];if(t)t(c);else{var r=c.config.missing_require_severity,n="cannot load such file -- "+e;"error"===r?c.LoadError?c.LoadError.$new(n):function(){throw n}():"warning"===r&&console.warn("WARNING: LoadError: "+n)}return!0},c.require=function(e){return e=c.normalize(e),c.require_table[e]?!1:c.load(e)},c.boot_class_alloc("BasicObject",t),c.boot_class_alloc("Object",r,t),c.boot_class_alloc("Module",$,r),c.boot_class_alloc("Class",n,$),c.BasicObject=o=c.setup_class_object("BasicObject",t,"Class",n),c.Object=s=c.setup_class_object("Object",r,"BasicObject",o.constructor),c.Module=l=c.setup_class_object("Module",$,"Object",s.constructor),c.Class=u=c.setup_class_object("Class",n,"Module",l.constructor),c.constants.push("BasicObject"),c.constants.push("Object"),c.constants.push("Module"),c.constants.push("Class"),o.$$class=u,s.$$class=u,l.$$class=u,u.$$class=u,o.$$super=null,s.$$super=o,l.$$super=s,u.$$super=l,o.$$parent=null,s.$$parent=o,l.$$parent=s,u.$$parent=l,c.base=s,o.$$scope=s.$$scope=c,o.$$orig_scope=s.$$orig_scope=c,l.$$scope=s.$$scope,l.$$orig_scope=s.$$orig_scope,u.$$scope=s.$$scope,u.$$orig_scope=s.$$orig_scope,s.$$proto.toString=function(){return this.$to_s()},s.$$proto.$require=c.require,c.top=new s.$$alloc,c.klass(s,s,"NilClass",a),i=c.nil=new a,i.$$id=d,i.call=i.apply=function(){throw c.LocalJumpError.$new("no block given")},c.breaker=new Error("unexpected break (old)"),c.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),"undefined"!=typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!=typeof window&&(window.Opal=this.Opal,Opal.global=window),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),function(t){var $,a,i,o,s,l,u,c,_,p,f,d,h,g,m=$=n(t,"Opal"),y=(m.$$proto,m.$$scope);e.defs(m,"$bridge",a=function(t,r){return e.bridge(t,r)},a.$$arity=2),e.defs(m,"$type_error",i=function(e,t,n,$){var a,i;return null==n&&(n=r),null==$&&($=r),(a=(i=n!==!1&&n!==r&&null!=n)?$:n)===r||null==a||a.$$is_boolean&&1!=a?y.get("TypeError").$new("no implicit conversion of "+e.$class()+" into "+t):y.get("TypeError").$new("can't convert "+e.$class()+" into "+t+" ("+e.$class()+"#"+n+" gives "+$.$class())},i.$$arity=-3),e.defs(m,"$coerce_to",o=function(e,t,n){var $,a=this;return($=t["$==="](e))===r||null==$||$.$$is_boolean&&1!=$?((($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$)&&a.$raise(a.$type_error(e,t)),e.$__send__(n)):e},o.$$arity=3),e.defs(m,"$coerce_to!",s=function(e,t,n){var $,a=this,i=r;return i=a.$coerce_to(e,t,n),(($=t["$==="](i))===r||null==$||$.$$is_boolean&&1!=$)&&a.$raise(a.$type_error(e,t,n,i)),i},s.$$arity=3),e.defs(m,"$coerce_to?",l=function(e,t,n){var $,a=this,i=r;return($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:(i=a.$coerce_to(e,t,n),($=i["$nil?"]())===r||null==$||$.$$is_boolean&&1!=$?((($=t["$==="](i))===r||null==$||$.$$is_boolean&&1!=$)&&a.$raise(a.$type_error(e,t,n,i)),i):r)},l.$$arity=3),e.defs(m,"$try_convert",u=function(e,t,n){var $;return($=t["$==="](e))===r||null==$||$.$$is_boolean&&1!=$?($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:e.$__send__(n):e},u.$$arity=3),e.defs(m,"$compare",c=function(e,t){var n,$=this,a=r;return a=e["$<=>"](t),(n=a===r)===r||null==n||n.$$is_boolean&&1!=n||$.$raise(y.get("ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a},c.$$arity=2),e.defs(m,"$destructure",_=function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),r=0,n=t.length;n>r;r++)t[r]=e[r];return t},_.$$arity=1),e.defs(m,"$respond_to?",p=function(e,t){return null!=e&&e.$$class?e["$respond_to?"](t):!1},p.$$arity=2),e.defs(m,"$inspect",f=function(e){return void 0===e?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},f.$$arity=1),e.defs(m,"$instance_variable_name!",d=function(e){var t,n=this;return e=y.get("Opal")["$coerce_to!"](e,y.get("String"),"to_str"),((t=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(y.get("NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},d.$$arity=1),e.defs(m,"$const_name!",h=function(e){var t,n=this;return e=y.get("Opal")["$coerce_to!"](e,y.get("String"),"to_str"),(t=e["$[]"](0)["$!="](e["$[]"](0).$upcase()))===r||null==t||t.$$is_boolean&&1!=t||n.$raise(y.get("NameError"),"wrong constant name "+e),e},h.$$arity=1),e.defs(m,"$pristine",g=function(e){var t,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];for(var i,o=t.length-1;o>=0;o--)i=t[o],e.$$proto["$"+i].$$pristine=!0;return r},g.$$arity=-2)}(t.base)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$coerce_to!","$new","$const_name!","$=~","$inject","$const_get","$split","$const_missing","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$to_s","$__id__","$constants","$include?"]),function($base,$super){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14,TMP_15,TMP_16,TMP_17,TMP_18,TMP_19,TMP_20,TMP_22,TMP_23,TMP_24,TMP_25,TMP_27,TMP_28,TMP_29,TMP_30,TMP_31,TMP_32,TMP_33,TMP_34,TMP_35,TMP_36,TMP_37,TMP_38,TMP_39,TMP_41,TMP_42,TMP_43,TMP_44,TMP_45,TMP_46,TMP_47,TMP_48,TMP_49;return Opal.defs(self,"$allocate",TMP_1=function(){var e;return e=Opal.module_allocate(),Opal.create_scope(Opal.Module.$$scope,e,null),e},TMP_1.$$arity=0),Opal.defn(self,"$initialize",TMP_2=function(){var e=this,t=TMP_2.$$p,r=t||nil;return TMP_2.$$p=null,Opal.module_initialize(e,r)},TMP_2.$$arity=0),Opal.defn(self,"$===",TMP_3=function(e){var t,r=this;return(t=null==e)===nil||null==t||t.$$is_boolean&&1!=t?Opal.is_a(e,r):!1},TMP_3.$$arity=1),Opal.defn(self,"$<",TMP_4=function(e){var t,r=this;((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&r.$raise($scope.get("TypeError"),"compared with non class/module");var n,$,a,i=r;if(i===e)return!1;for($=0,n=Opal.ancestors(r),a=n.length;a>$;$++)if(n[$]===e)return!0;for($=0,n=Opal.ancestors(e),a=n.length;a>$;$++)if(n[$]===r)return!1;return nil},TMP_4.$$arity=1),Opal.defn(self,"$<=",TMP_5=function(e){var t,r=this;return(t=r["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_lt(r,e)},TMP_5.$$arity=1),Opal.defn(self,"$>",TMP_6=function(e){var t,r=this;return((t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&r.$raise($scope.get("TypeError"),"compared with non class/module"),$rb_lt(e,r)},TMP_6.$$arity=1),Opal.defn(self,"$>=",TMP_7=function(e){var t,r=this;return(t=r["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_gt(r,e)},TMP_7.$$arity=1),Opal.defn(self,"$<=>",TMP_8=function(e){var t,r=this,n=nil;return r===e?0:(t=$scope.get("Module")["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t?nil:(n=$rb_lt(r,e),(t=n["$nil?"]())===nil||null==t||t.$$is_boolean&&1!=t?n!==!1&&n!==nil&&null!=n?-1:1:nil)},TMP_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_9=function(e,t){var r=this;return Opal.alias(r,e,t),r},TMP_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_10=function(e,t){var r=this;return null==t&&(t=e),Opal.alias_native(r,e,t),r},TMP_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_11=function(){var e=this;return Opal.ancestors(e)},TMP_11.$$arity=0),Opal.defn(self,"$append_features",TMP_12=function(e){var t=this;return Opal.append_features(t,e),t},TMP_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_13=function(){var e,t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(e=n).$attr_reader.apply(e,Opal.to_a(r)),(t=n).$attr_writer.apply(t,Opal.to_a(r))},TMP_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_14=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=t.$$proto,i=e.length-1;i>=0;i--){var o=e[i],s="$"+o,l=Opal.ivar(o),u=function(e){return function(){return null==this[e]?nil:this[e]}}(l);a[l]=nil,u.$$parameters=[],u.$$arity=0,t.$$is_singleton?a.constructor.prototype[s]=u:Opal.defn(t,s,u)}return nil},TMP_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_15=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=t.$$proto,i=e.length-1;i>=0;i--){var o=e[i],s="$"+o+"=",l=Opal.ivar(o),u=function(e){return function(t){return this[e]=t}}(l);u.$$parameters=[["req"]],u.$$arity=1,a[l]=nil,t.$$is_singleton?a.constructor.prototype[s]=u:Opal.defn(t,s,u)}return nil},TMP_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_16=function(e,t){var r,n=this;return(r=n.$$autoload)||(r=n.$$autoload={}),r[e]=t,nil},TMP_16.$$arity=2),Opal.defn(self,"$class_variable_get",TMP_17=function(e){var t,r=this;e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(t=e.length<3||"@@"!==e.slice(0,2))===nil||null==t||t.$$is_boolean&&1!=t||r.$raise($scope.get("NameError").$new("class vars should start with @@",e));var n=Opal.cvars[e.slice(2)];return function(){return(t=null==n)===nil||null==t||t.$$is_boolean&&1!=t?nil:r.$raise($scope.get("NameError").$new("uninitialized class variable @@a in",e))}(),n},TMP_17.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_18=function(e,t){var r,n=this;return e=$scope.get("Opal")["$coerce_to!"](e,$scope.get("String"),"to_str"),(r=e.length<3||"@@"!==e.slice(0,2))===nil||null==r||r.$$is_boolean&&1!=r||n.$raise($scope.get("NameError")),Opal.cvars[e.slice(2)]=t,t},TMP_18.$$arity=2),Opal.defn(self,"$constants",TMP_19=function(){var e=this;return e.$$scope.constants.slice(0)},TMP_19.$$arity=0),Opal.defn(self,"$const_defined?",TMP_20=function(e,t){var r,n=this;null==t&&(t=!0),e=$scope.get("Opal")["$const_name!"](e),((r=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==r||r.$$is_boolean&&1!=r)&&n.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var $=[n.$$scope];if(t||n===Opal.Object)for(var a=n.$$super;a!==Opal.BasicObject;)$.push(a.$$scope),a=a.$$super;for(var i=0,o=$.length;o>i;i++)if($[i].hasOwnProperty(e))return!0;return!1},TMP_20.$$arity=-2),Opal.defn(self,"$const_get",TMP_22=function(e,t){var r,n,$,a=this;if(null==t&&(t=!0),e=$scope.get("Opal")["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),(r=-1!=e.indexOf("::")&&"::"!=e)!==nil&&null!=r&&(!r.$$is_boolean||1==r))return(r=(n=e.$split("::")).$inject,r.$$p=($=function(e,t){$.$$s||this;return null==e&&(e=nil),null==t&&(t=nil),e.$const_get(t)},$.$$s=a,$.$$arity=2,$),r).call(n,a);((r=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===nil||null==r||r.$$is_boolean&&1!=r)&&a.$raise($scope.get("NameError").$new("wrong constant name "+e,e));var i=[a.$$scope];if(t||a==Opal.Object)for(var o=a.$$super;o!==Opal.BasicObject;)i.push(o.$$scope),o=o.$$super;for(var s=0,l=i.length;l>s;s++)if(i[s].hasOwnProperty(e))return i[s][e];return a.$const_missing(e)},TMP_22.$$arity=-2),Opal.defn(self,"$const_missing",TMP_23=function(e){var t=this,r=nil;if(t.$$autoload){var n=t.$$autoload[e];if(n)return t.$require(n),t.$const_get(e)}return r=function(){return t["$=="]($scope.get("Object"))?e:""+t+"::"+e}(),t.$raise($scope.get("NameError").$new("uninitialized constant "+r,e))},TMP_23.$$arity=1),Opal.defn(self,"$const_set",TMP_24=function(e,t){var r,n,$=this;return e=$scope.get("Opal")["$const_name!"](e),(r=(n=e["$=~"]($scope.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())!==!1&&n!==nil&&null!=n?n:e["$start_with?"]("::"))===nil||null==r||r.$$is_boolean&&1!=r||$.$raise($scope.get("NameError").$new("wrong constant name "+e,e)),Opal.casgn($,e,t),t},TMP_24.$$arity=2),Opal.defn(self,"$define_method",TMP_25=function(e,t){var r,n,$,a,i=this,o=TMP_25.$$p,s=o||nil,l=nil;TMP_25.$$p=null,(r=void 0===t&&s===nil)===nil||null==r||r.$$is_boolean&&1!=r||i.$raise($scope.get("ArgumentError"),"tried to create a Proc object without a block"),(r=s)!==!1&&r!==nil&&null!=r?r:s=function(){return l=t,$scope.get("Proc")["$==="](l)?t:$scope.get("Method")["$==="](l)?t.$to_proc().$$unbound:$scope.get("UnboundMethod")["$==="](l)?(n=($=i).$lambda,n.$$p=(a=function(){var e,r,n=a.$$s||this,$=nil,i=arguments.length,o=i-0;0>o&&(o=0),e=new Array(o);for(var s=0;i>s;s++)e[s-0]=arguments[s];return $=t.$bind(n),(r=$).$call.apply(r,Opal.to_a(e))},a.$$s=i,a.$$arity=-1,a),n).call($):i.$raise($scope.get("TypeError"),"wrong argument type "+s.$class()+" (expected Proc/Method)")}();var u="$"+e;return s.$$jsid=e,s.$$s=null,s.$$def=s,s.$$define_meth=!0,Opal.defn(i,u,s),e},TMP_25.$$arity=-2),Opal.defn(self,"$remove_method",TMP_27=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=0,i=e.length;i>a;a++)Opal.rdef(t,"$"+e[a]);return t},TMP_27.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_28=function(){var e=this;return!!e.$$is_singleton},TMP_28.$$arity=0),Opal.defn(self,"$include",TMP_29=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--){var i=e[a];i!==t&&(i.$$is_module||t.$raise($scope.get("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(t),i.$included(t))}return t},TMP_29.$$arity=-1),Opal.defn(self,"$included_modules",TMP_30=function(){var e,t=this,r=function(e){for(var t=[],n=0;n!=e.$$inc.length;n++){var $=e.$$inc[n];t.push($),t=t.concat(r($))}return t};if(e=r(t),t.$$is_class)for(var n=t;n;n=n.$$super)e=e.concat(r(n));return e},TMP_30.$$arity=0),Opal.defn(self,"$include?",TMP_31=function(e){for(var t=this,r=t;r;r=r.$$super)for(var n=0;n!=r.$$inc.length;n++){var $=r.$$inc[n];if(e===$)return!0}return!1},TMP_31.$$arity=1),Opal.defn(self,"$instance_method",TMP_32=function(e){var t=this,r=t.$$proto["$"+e];return r&&!r.$$stub||t.$raise($scope.get("NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),$scope.get("UnboundMethod").$new(t,r,e)},TMP_32.$$arity=1),Opal.defn(self,"$instance_methods",TMP_33=function(e){var t=this;null==e&&(e=!0);var r=[],n=t.$$proto;for(var $ in n)if("$"===$.charAt(0)&&"function"==typeof n[$]&&!n[$].$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&n[$]===Opal.BasicObject.$$proto[$])continue;if(!e&&!n.hasOwnProperty($))continue;if(!e&&n[$].$$donated)continue}r.push($.substr(1))}return r},TMP_33.$$arity=-1),Opal.defn(self,"$included",TMP_34=function(){return nil},TMP_34.$$arity=1),Opal.defn(self,"$extended",TMP_35=function(){return nil},TMP_35.$$arity=1),Opal.defn(self,"$method_added",TMP_36=function(){return nil},TMP_36.$$arity=-1),Opal.defn(self,"$method_removed",TMP_37=function(){return nil},TMP_37.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_38=function(){return nil},TMP_38.$$arity=-1),Opal.defn(self,"$module_eval",TMP_39=function \u02d0module_eval($a_rest){var $b,$c,TMP_40,self=this,args,$iter=TMP_39.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;0>$rest_len&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$args_len>$arg_idx;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_39.$$p=null,$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({
arity_check:!1}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_40=function(){var self=TMP_40.$$s||this;return function(self){return eval(compiled)}(self)},TMP_40.$$s=self,TMP_40.$$arity=0,TMP_40),$b).call($c));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_39.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_41=function(){var e,t=this,r=TMP_41.$$p,n=r||nil,$=arguments.length,a=$-0;0>a&&(a=0),e=new Array(a);for(var i=0;$>i;i++)e[i-0]=arguments[i];TMP_41.$$p=null,n===nil&&t.$raise($scope.get("LocalJumpError"),"no block given");var o,s=n.$$s;return n.$$s=null,o=n.apply(t,e),n.$$s=s,o},TMP_41.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_42=function(e){var t=this,r=t.$$proto["$"+e];return!!r&&!r.$$stub},TMP_42.$$arity=1),Opal.defn(self,"$module_function",TMP_43=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];if(0===e.length)t.$$module_function=!0;else for(var a=0,i=e.length;i>a;a++){var o=e[a],s="$"+o,l=t.$$proto[s];Opal.defs(t,s,l)}return t},TMP_43.$$arity=-1),Opal.defn(self,"$name",TMP_44=function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],r=e;r;){if(r.$$name===nil)return 0===t.length?nil:t.join("::");if(t.unshift(r.$$name),r=r.$$base_module,r===Opal.Object)break}return 0===t.length?nil:e.$$full_name=t.join("::")},TMP_44.$$arity=0),Opal.defn(self,"$remove_class_variable",TMP_45=function(){return nil},TMP_45.$$arity=-1),Opal.defn(self,"$remove_const",TMP_46=function(e){var t=this,r=t.$$scope[e];return delete t.$$scope[e],r},TMP_46.$$arity=1),Opal.defn(self,"$to_s",TMP_47=function(){var e,t=this;return(e=Opal.Module.$name.call(t))!==!1&&e!==nil&&null!=e?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_47.$$arity=0),Opal.defn(self,"$undef_method",TMP_48=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=0,i=e.length;i>a;a++)Opal.udef(t,"$"+e[a]);return t},TMP_48.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_49=function(){var e=this,t=nil;t=e.$constants();var r=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&r.push("@"+n);return r},TMP_49.$$arity=0),nil&&"instance_variables"}($scope.base,null)},Opal.modules["corelib/class"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,$super){function r(){}var a,i,o,s,l,u,c=r=$(t,$super,"Class",r),_=(c.$$proto,c.$$scope);return e.defs(c,"$new",a=function(t){var r=a.$$p,$=r||n;if(null==t&&(t=_.get("Object")),a.$$p=null,!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var i=e.boot_class_alloc(null,function(){},t),o=e.setup_class_object(null,i,t.$$name,t.constructor);return o.$$super=t,o.$$parent=t,e.create_scope(t.$$scope,o),t.$inherited(o),e.module_initialize(o,$),o},a.$$arity=-1),e.defn(c,"$allocate",i=function(){var t=this,r=new t.$$alloc;return r.$$id=e.uid(),r},i.$$arity=0),e.defn(c,"$inherited",o=function(){return n},o.$$arity=1),e.defn(c,"$new",s=function(){var e,t=this,r=s.$$p,$=r||n,a=arguments.length,i=a-0;0>i&&(i=0),e=new Array(i);for(var o=0;a>o;o++)e[o-0]=arguments[o];s.$$p=null;var l=t.$allocate();return l.$initialize.$$p=$,l.$initialize.apply(l,e),l},s.$$arity=-1),e.defn(c,"$superclass",l=function(){var e=this;return e.$$super||n},l.$$arity=0),e.defn(c,"$to_s",u=function(){var t,r,n=this;u.$$p;u.$$p=null;var $=n.$$singleton_of;return $&&($.$$is_class||$.$$is_module)?"#<Class:"+$.$name()+">":$?"#<Class:#<"+$.$$class.$name()+":0x"+$.$$id.$to_s(16)+">>":(r=n,t=e.find_super_dispatcher(n,"to_s",u,!1),t.$$p=null,t).call(r)},u.$$arity=0),n&&"to_s"}(r.base,null)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14;return Opal.defn(self,"$initialize",TMP_1=function(){return nil},TMP_1.$$arity=-1),Opal.defn(self,"$==",TMP_2=function(e){var t=this;return t===e},TMP_2.$$arity=1),Opal.defn(self,"$eql?",TMP_3=function(e){var t=this;return t["$=="](e)},TMP_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_4=function(){var e=this;return e.$$id||(e.$$id=Opal.uid())},TMP_4.$$arity=0),Opal.defn(self,"$__send__",TMP_5=function(e){var t,r=this,n=TMP_5.$$p,$=n||nil,a=arguments.length,i=a-1;0>i&&(i=0),t=new Array(i);for(var o=1;a>o;o++)t[o-1]=arguments[o];TMP_5.$$p=null;var s=r["$"+e];return s?($!==nil&&(s.$$p=$),s.apply(r,t)):($!==nil&&(r.$method_missing.$$p=$),r.$method_missing.apply(r,[e].concat(t)))},TMP_5.$$arity=-2),Opal.defn(self,"$!",TMP_6=function(){return!1},TMP_6.$$arity=0),Opal.defn(self,"$!=",TMP_7=function(e){var t=this;return t["$=="](e)["$!"]()},TMP_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_8=function \u02d0instance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;0>$rest_len&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$args_len>$arg_idx;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];TMP_8.$$p=null,$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&$scope.get("Kernel").$raise($scope.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=Opal.to_a(args),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$scope.get("Opal").$compile(string,compiling_options),block=($b=($c=$scope.get("Kernel")).$proc,$b.$$p=(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9),$b).call($c));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_10=function(){var e,t=this,r=TMP_10.$$p,n=r||nil,$=arguments.length,a=$-0;0>a&&(a=0),e=new Array(a);for(var i=0;$>i;i++)e[i-0]=arguments[i];TMP_10.$$p=null,n!==!1&&n!==nil&&null!=n||$scope.get("Kernel").$raise($scope.get("ArgumentError"),"no block given");var o,s=n.$$s;if(n.$$s=null,t.$$is_class||t.$$is_module){t.$$eval=!0;try{o=n.apply(t,e)}finally{t.$$eval=!1}}else o=n.apply(t,e);return n.$$s=s,o},TMP_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_11=function(){return nil},TMP_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_12=function(){return nil},TMP_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_13=function(){return nil},TMP_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_14=function(e){var t,r,n=this,$=(TMP_14.$$p,arguments.length),a=$-1;0>a&&(a=0),r=new Array(a);for(var i=1;$>i;i++)r[i-1]=arguments[i];return TMP_14.$$p=null,$scope.get("Kernel").$raise($scope.get("NoMethodError").$new(function(){return(t=n.$inspect&&!n.$inspect.$$stub)===nil||null==t||t.$$is_boolean&&1!=t?"undefined method `"+e+"' for "+n.$$class:"undefined method `"+e+"' for "+n.$inspect()+":"+n.$$class}(),e))},TMP_14.$$arity=-2),nil&&"method_missing"}($scope.base,null)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.gvars,o=e.hash2,s=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$to_proc","$singleton_class","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$sym","$arg","$open","$include"]),function(n){var s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue,ce,_e,pe,fe,de,he,ge=s=a(n,"Kernel"),me=(ge.$$proto,ge.$$scope);e.defn(ge,"$method_missing",l=function(e){var t,r=this,n=(l.$$p,arguments.length),$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];return l.$$p=null,r.$raise(me.get("NoMethodError").$new("undefined method `"+e+"' for "+r.$inspect(),e,t))},l.$$arity=-2),e.defn(ge,"$=~",u=function(){return!1},u.$$arity=1),e.defn(ge,"$!~",c=function(e){var t=this;return t["$=~"](e)["$!"]()},c.$$arity=1),e.defn(ge,"$===",_=function(e){var t,r=this;return(t=r.$object_id()["$=="](e.$object_id()))!==!1&&t!==$&&null!=t?t:r["$=="](e)},_.$$arity=1),e.defn(ge,"$<=>",p=function(e){var t=this;t.$$comparable=!0;var r=t["$=="](e);return r&&r!==$?0:$},p.$$arity=1),e.defn(ge,"$method",f=function(e){var t=this,r=t["$"+e];return r&&!r.$$stub||t.$raise(me.get("NameError").$new("undefined method `"+e+"' for class `"+t.$class()+"'",e)),me.get("Method").$new(t,r,e)},f.$$arity=1),e.defn(ge,"$methods",d=function(t){var r=this;null==t&&(t=!0);var n=[];for(var a in r)if("$"==a[0]&&"function"==typeof r[a]){if((0==t||t===$)&&!e.hasOwnProperty.call(r,a))continue;void 0===r[a].$$stub&&n.push(a.substr(1))}return n},d.$$arity=-1),e.alias(ge,"public_methods","methods"),e.defn(ge,"$Array",h=function(e){var t;return e===$?[]:e.$$is_array?e:(t=me.get("Opal")["$coerce_to?"](e,me.get("Array"),"to_ary"),t!==$?t:(t=me.get("Opal")["$coerce_to?"](e,me.get("Array"),"to_a"),t!==$?t:[e]))},h.$$arity=1),e.defn(ge,"$at_exit",g=function(){var e,t=g.$$p,r=t||$;return null==i.__at_exit__&&(i.__at_exit__=$),g.$$p=null,(e=i.__at_exit__)!==!1&&e!==$&&null!=e?e:i.__at_exit__=[],i.__at_exit__["$<<"](r)},g.$$arity=0),e.defn(ge,"$caller",m=function(){return[]},m.$$arity=0),e.defn(ge,"$class",y=function(){var e=this;return e.$$class},y.$$arity=0),e.defn(ge,"$copy_instance_variables",v=function(e){var t=this;for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t[r]=e[r])},v.$$arity=1),e.defn(ge,"$copy_singleton_methods",b=function(t){var r,n=this;if(t.hasOwnProperty("$$meta")){var $=e.get_singleton_class(t).$$proto,a=e.get_singleton_class(n).$$proto;for(r in $)"$"===r.charAt(0)&&$.hasOwnProperty(r)&&(a[r]=$[r])}for(r in t)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&t.hasOwnProperty(r)&&(n[r]=t[r])},b.$$arity=1),e.defn(ge,"$clone",x=function(){var e=this,t=$;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},x.$$arity=0),e.defn(ge,"$initialize_clone",w=function(e){var t=this;return t.$initialize_copy(e)},w.$$arity=1),e.defn(ge,"$define_singleton_method",k=function(e,t){var r,n,a=this,i=k.$$p,o=i||$;return k.$$p=null,(r=(n=a.$singleton_class()).$define_method,r.$$p=o.$to_proc(),r).call(n,e,t)},k.$$arity=-2),e.defn(ge,"$dup",S=function(){var e=this,t=$;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$initialize_dup(e),t},S.$$arity=0),e.defn(ge,"$initialize_dup",E=function(e){var t=this;return t.$initialize_copy(e)},E.$$arity=1),e.defn(ge,"$enum_for",R=function(t){var r,n,a,i=this,o=R.$$p,s=o||$;null==t&&(t="each");var l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var c=1;l>c;c++)a[c-1]=arguments[c];return R.$$p=null,(r=(n=me.get("Enumerator")).$for,r.$$p=s.$to_proc(),r).apply(n,[i,t].concat(e.to_a(a)))},R.$$arity=-1),e.alias(ge,"to_enum","enum_for"),e.defn(ge,"$equal?",A=function(e){var t=this;return t===e},A.$$arity=1),e.defn(ge,"$exit",O=function(r){var n,a,o=$;for(null==i.__at_exit__&&(i.__at_exit__=$),null==r&&(r=!0),(n=i.__at_exit__)!==!1&&n!==$&&null!=n?n:i.__at_exit__=[];(a=t(i.__at_exit__.$size(),0))!==$&&null!=a&&(!a.$$is_boolean||1==a);)o=i.__at_exit__.$pop(),o.$call();return(n=r===!0)===$||null==n||n.$$is_boolean&&1!=n||(r=0),e.exit(r),$},O.$$arity=-1),e.defn(ge,"$extend",M=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=t.$singleton_class(),i=e.length-1;i>=0;i--){var o=e[i];o.$$is_module||t.$raise(me.get("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(a),o.$extended(t)}return t},M.$$arity=-1),e.defn(ge,"$format",T=function(e){function t(){z&Y&&f.$raise(me.get("ArgumentError"),"flag after width"),z&X&&f.$raise(me.get("ArgumentError"),"flag after precision")}function r(){z&Y&&f.$raise(me.get("ArgumentError"),"width given twice"),z&X&&f.$raise(me.get("ArgumentError"),"width after precision")}function n(e){return e>=p.length&&f.$raise(me.get("ArgumentError"),"too few arguments"),p[e]}function a(){switch(F){case-1:f.$raise(me.get("ArgumentError"),"unnumbered("+P+") mixed with numbered");case-2:f.$raise(me.get("ArgumentError"),"unnumbered("+P+") mixed with named")}return F=P++,n(F-1)}function o(e){return F>0&&f.$raise(me.get("ArgumentError"),"numbered("+e+") after unnumbered("+F+")"),-2===F&&f.$raise(me.get("ArgumentError"),"numbered("+e+") after named"),1>e&&f.$raise(me.get("ArgumentError"),"invalid index - "+e+"$"),F=-1,n(e-1)}function s(){return void 0===I?a():I}function l(t){for(var r,n="";;v++){if(v===N&&f.$raise(me.get("ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(v)<48||e.charCodeAt(v)>57)return v--,r=parseInt(n,10)||0,r>2147483647&&f.$raise(me.get("ArgumentError"),""+t+" too big"),r;n+=e.charAt(v)}}function u(t){var r,n=l(t);return"$"===e.charAt(v+1)?(v++,r=o(n)):r=a(),r.$to_int()}var c,_,p,f=this,d=$;null==i.DEBUG&&(i.DEBUG=$);var h=arguments.length,g=h-1;0>g&&(g=0),p=new Array(g);for(var m=1;h>m;m++)p[m-1]=arguments[m];(c=(_=p.$length()["$=="](1))?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))===$||null==c||c.$$is_boolean&&1!=c||(d=me.get("Opal")["$coerce_to?"](p["$[]"](0),me.get("Array"),"to_ary"),((c=d["$nil?"]())===$||null==c||c.$$is_boolean&&1!=c)&&(p=d.$to_a()));var y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j="",q=0,N=e.length,P=1,F=0,D=0,B=1,H=2,L=4,U=8,G=16,Y=32,V=64,X=128;for(v=e.indexOf("%");-1!==v;v=e.indexOf("%",v)){switch(x=void 0,z=D,k=-1,S=-1,I=void 0,y=v,v++,e.charAt(v)){case"%":q=v;case"":case"\n":case"\x00":v++;continue}e:for(;N>v;v++)switch(e.charAt(v)){case" ":t(),z|=G;continue e;case"#":t(),z|=B;continue e;case"+":t(),z|=L;continue e;case"-":t(),z|=H;continue e;case"0":t(),z|=U;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(E=l("width"),"$"===e.charAt(v+1)){if(v+2===N){x="%",v++;break e}void 0!==I&&f.$raise(me.get("ArgumentError"),"value given twice - %"+E+"$"),I=o(E),v++}else r(),z|=Y,k=E;continue e;case"<":case"{":for(A="<"===e.charAt(v)?">":"}",R="",v++;;v++){if(v===N&&f.$raise(me.get("ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(v)===A){if(F>0&&f.$raise(me.get("ArgumentError"),"named "+R+" after unnumbered("+F+")"),-1===F&&f.$raise(me.get("ArgumentError"),"named "+R+" after numbered"),F=-2,void 0!==p[0]&&p[0].$$is_hash||f.$raise(me.get("ArgumentError"),"one hash required"),I=p[0].$fetch(R),">"===A)continue e;if(x=I.toString(),-1!==S&&(x=x.slice(0,S)),z&H)for(;x.length<k;)x+=" ";else for(;x.length<k;)x=" "+x;break e}R+=e.charAt(v)}case"*":v++,r(),z|=Y,k=u("width"),0>k&&(z|=H,k=-k);continue e;case".":if(z&X&&f.$raise(me.get("ArgumentError"),"precision given twice"),z|=V|X,S=0,v++,"*"===e.charAt(v)){v++,S=u("precision"),0>S&&(z&=~V);continue e}S=l("precision");continue e;case"d":case"i":case"u":if(b=f.$Integer(s()),b>=0){for(x=b.toString();x.length<S;)x="0"+x;if(z&H)for((z&L||z&G)&&(x=(z&L?"+":" ")+x);x.length<k;)x+=" ";else if(z&U&&-1===S){for(;x.length<k-(z&L||z&G?1:0);)x="0"+x;(z&L||z&G)&&(x=(z&L?"+":" ")+x)}else for((z&L||z&G)&&(x=(z&L?"+":" ")+x);x.length<k;)x=" "+x}else{for(x=(-b).toString();x.length<S;)x="0"+x;if(z&H)for(x="-"+x;x.length<k;)x+=" ";else if(z&U&&-1===S){for(;x.length<k-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<k;)x=" "+x}break e;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(v)){case"b":case"B":O=2,M="0b",T=/^1+/,C="1";break;case"o":O=8,M="0",T=/^3?7+/,C="7";break;case"x":case"X":O=16,M="0x",T=/^f+/,C="f"}if(b=f.$Integer(s()),b>=0){for(x=b.toString(O);x.length<S;)x="0"+x;if(z&H)for((z&L||z&G)&&(x=(z&L?"+":" ")+x),z&B&&0!==b&&(x=M+x);x.length<k;)x+=" ";else if(z&U&&-1===S){for(;x.length<k-(z&L||z&G?1:0)-(z&B&&0!==b?M.length:0);)x="0"+x;z&B&&0!==b&&(x=M+x),(z&L||z&G)&&(x=(z&L?"+":" ")+x)}else for(z&B&&0!==b&&(x=M+x),(z&L||z&G)&&(x=(z&L?"+":" ")+x);x.length<k;)x=" "+x}else if(z&L||z&G){for(x=(-b).toString(O);x.length<S;)x="0"+x;if(z&H)for(z&B&&(x=M+x),x="-"+x;x.length<k;)x+=" ";else if(z&U&&-1===S){for(;x.length<k-1-(z&B?2:0);)x="0"+x;z&B&&(x=M+x),x="-"+x}else for(z&B&&(x=M+x),x="-"+x;x.length<k;)x=" "+x}else{for(x=(b>>>0).toString(O).replace(T,C);x.length<S-2;)x=C+x;if(z&H)for(x=".."+x,z&B&&(x=M+x);x.length<k;)x+=" ";else if(z&U&&-1===S){for(;x.length<k-2-(z&B?M.length:0);)x=C+x;x=".."+x,z&B&&(x=M+x)}else for(x=".."+x,z&B&&(x=M+x);x.length<k;)x=" "+x}e.charAt(v)===e.charAt(v).toUpperCase()&&(x=x.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(b=f.$Float(s()),b>=0||isNaN(b)){if(b===1/0)x="Inf";else switch(e.charAt(v)){case"f":x=b.toFixed(-1===S?6:S);break;case"e":case"E":x=b.toExponential(-1===S?6:S);break;case"g":case"G":x=b.toExponential(),w=parseInt(x.split("e")[1],10),-4>w||w>=(-1===S?6:S)||(x=b.toPrecision(-1===S?z&B?6:void 0:S))}if(z&H)for((z&L||z&G)&&(x=(z&L?"+":" ")+x);x.length<k;)x+=" ";else if(z&U&&b!==1/0&&!isNaN(b)){for(;x.length<k-(z&L||z&G?1:0);)x="0"+x;(z&L||z&G)&&(x=(z&L?"+":" ")+x)}else for((z&L||z&G)&&(x=(z&L?"+":" ")+x);x.length<k;)x=" "+x}else{if(b===-(1/0))x="Inf";else switch(e.charAt(v)){case"f":x=(-b).toFixed(-1===S?6:S);break;case"e":case"E":x=(-b).toExponential(-1===S?6:S);break;case"g":case"G":x=(-b).toExponential(),w=parseInt(x.split("e")[1],10),-4>w||w>=(-1===S?6:S)||(x=(-b).toPrecision(-1===S?z&B?6:void 0:S))}if(z&H)for(x="-"+x;x.length<k;)x+=" ";else if(z&U&&b!==-(1/0)){for(;x.length<k-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<k;)x=" "+x}e.charAt(v)!==e.charAt(v).toUpperCase()||b===1/0||b===-(1/0)||isNaN(b)||(x=x.toUpperCase()),x=x.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":f.$raise(me.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=s(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),x=b["$respond_to?"]("to_str")?b.$to_str():String.fromCharCode(me.get("Opal").$coerce_to(b,me.get("Integer"),"to_int")),1!==x.length&&f.$raise(me.get("ArgumentError"),"%c requires a character"),z&H)for(;x.length<k;)x+=" ";else for(;x.length<k;)x=" "+x;break e;case"p":if(x=s().$inspect(),-1!==S&&(x=x.slice(0,S)),z&H)for(;x.length<k;)x+=" ";else for(;x.length<k;)x=" "+x;break e;case"s":if(x=s().$to_s(),-1!==S&&(x=x.slice(0,S)),z&H)for(;x.length<k;)x+=" ";else for(;x.length<k;)x=" "+x;break e;default:f.$raise(me.get("ArgumentError"),"malformed format string - %"+e.charAt(v))}void 0===x&&f.$raise(me.get("ArgumentError"),"malformed format string - %"),j+=e.slice(q,y)+x,q=v+1}return i.DEBUG&&F>=0&&P<p.length&&f.$raise(me.get("ArgumentError"),"too many arguments for format string"),j+e.slice(q)},T.$$arity=-2),e.defn(ge,"$hash",C=function(){var e=this;return e.$__id__()},C.$$arity=0),e.defn(ge,"$initialize_copy",I=function(){return $},I.$$arity=1),e.defn(ge,"$inspect",z=function(){var e=this;return e.$to_s()},z.$$arity=0),e.defn(ge,"$instance_of?",j=function(e){var t=this;return e.$$is_class||e.$$is_module||t.$raise(me.get("TypeError"),"class or module required"),t.$$class===e},j.$$arity=1),e.defn(ge,"$instance_variable_defined?",q=function(t){var r=this;return t=me.get("Opal")["$instance_variable_name!"](t),e.hasOwnProperty.call(r,t.substr(1))},q.$$arity=1),e.defn(ge,"$instance_variable_get",N=function(t){var r=this;t=me.get("Opal")["$instance_variable_name!"](t);var n=r[e.ivar(t.substr(1))];return null==n?$:n},N.$$arity=1),e.defn(ge,"$instance_variable_set",P=function(t,r){var n=this;return t=me.get("Opal")["$instance_variable_name!"](t),n[e.ivar(t.substr(1))]=r},P.$$arity=2),e.defn(ge,"$remove_instance_variable",F=function(t){var r=this;t=me.get("Opal")["$instance_variable_name!"](t);var n,$=e.ivar(t.substr(1));return r.hasOwnProperty($)?(n=r[$],delete r[$],n):r.$raise(me.get("NameError"),"instance variable "+t+" not defined")},F.$$arity=1),e.defn(ge,"$instance_variables",D=function(){var e,t=this,r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(e="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+e));return r},D.$$arity=0),e.defn(ge,"$Integer",B=function(e,t){var r,n,a,i=this;return e.$$is_string?(void 0===t?t=0:(t=me.get("Opal").$coerce_to(t,me.get("Integer"),"to_int"),(1===t||0>t||t>36)&&i.$raise(me.get("ArgumentError"),"invalid radix "+t)),n=e.toLowerCase(),n=n.replace(/(\d)_(?=\d)/g,"$1"),n=n.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,$){switch($){case"0b":if(0===t||2===t)return t=2,n;case"0":case"0o":if(0===t||8===t)return t=8,n;case"0d":if(0===t||10===t)return t=10,n;case"0x":if(0===t||16===t)return t=16,n}i.$raise(me.get("ArgumentError"),'invalid value for Integer(): "'+e+'"')}),t=0===t?10:t,a="0-"+(10>=t?t-1:"9a-"+String.fromCharCode(97+(t-11))),new RegExp("^\\s*[+-]?["+a+"]+\\s*$").test(n)||i.$raise(me.get("ArgumentError"),'invalid value for Integer(): "'+e+'"'),r=parseInt(n,t),isNaN(r)&&i.$raise(me.get("ArgumentError"),'invalid value for Integer(): "'+e+'"'),r):(void 0!==t&&i.$raise(me.get("ArgumentError"),"base specified for non string value"),e===$&&i.$raise(me.get("TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-(1/0)||isNaN(e))&&i.$raise(me.get("FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(r=e.$to_int(),r!==$)?r:me.get("Opal")["$coerce_to!"](e,me.get("Integer"),"to_i"))},B.$$arity=-2),e.defn(ge,"$Float",H=function(e){var t,r=this;return e===$&&r.$raise(me.get("TypeError"),"can't convert nil into Float"),e.$$is_string?(t=e.toString(),t=t.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(t)?r.$Integer(t):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(t)||r.$raise(me.get("ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(t))):me.get("Opal")["$coerce_to!"](e,me.get("Float"),"to_f")},H.$$arity=1),e.defn(ge,"$Hash",L=function(e){var t,r;return(t=(r=e["$nil?"]())!==!1&&r!==$&&null!=r?r:e["$=="]([]))===$||null==t||t.$$is_boolean&&1!=t?(t=me.get("Hash")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t?me.get("Opal")["$coerce_to!"](e,me.get("Hash"),"to_hash"):e:o([],{})},L.$$arity=1),e.defn(ge,"$is_a?",U=function(t){var r=this;return t.$$is_class||t.$$is_module||r.$raise(me.get("TypeError"),"class or module required"),e.is_a(r,t)},U.$$arity=1),e.alias(ge,"kind_of?","is_a?"),e.defn(ge,"$lambda",G=function(){var e=G.$$p,t=e||$;return G.$$p=null,t.$$is_lambda=!0,t},G.$$arity=0),e.defn(ge,"$load",Y=function(t){return t=me.get("Opal")["$coerce_to!"](t,me.get("String"),"to_str"),e.load(t)},Y.$$arity=1),e.defn(ge,"$loop",V=function(){var t=this,r=V.$$p,n=r||$;if(V.$$p=null,n===$)return t.$enum_for("loop");for(;;)e.yieldX(n,[]);return t},V.$$arity=0),e.defn(ge,"$nil?",X=function(){return!1},X.$$arity=0),e.alias(ge,"object_id","__id__"),e.defn(ge,"$printf",K=function(){var r,n,a=this,i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return(r=t(n.$length(),0))===$||null==r||r.$$is_boolean&&1!=r||a.$print((r=a).$format.apply(r,e.to_a(n))),$},K.$$arity=-1),e.defn(ge,"$proc",W=function(){var e=this,t=W.$$p,r=t||$;return W.$$p=null,r!==!1&&r!==$&&null!=r||e.$raise(me.get("ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},W.$$arity=0),e.defn(ge,"$puts",Z=function(){var t,r;null==i.stdout&&(i.stdout=$);var n=arguments.length,a=n-0;0>a&&(a=0),r=new Array(a);for(var o=0;n>o;o++)r[o-0]=arguments[o];return(t=i.stdout).$puts.apply(t,e.to_a(r))},Z.$$arity=-1),e.defn(ge,"$p",J=function(){var e,t,n,a,o=this,s=arguments.length,l=s-0;0>l&&(l=0),a=new Array(l);for(var u=0;s>u;u++)a[u-0]=arguments[u];return(e=(t=a).$each,e.$$p=(n=function(e){n.$$s||this;return null==i.stdout&&(i.stdout=$),null==e&&(e=$),i.stdout.$puts(e.$inspect())},n.$$s=o,n.$$arity=1,n),e).call(t),(e=r(a.$length(),1))===$||null==e||e.$$is_boolean&&1!=e?a:a["$[]"](0)},J.$$arity=-1),e.defn(ge,"$print",Q=function(){var t,r;null==i.stdout&&(i.stdout=$);var n=arguments.length,a=n-0;0>a&&(a=0),r=new Array(a);for(var o=0;n>o;o++)r[o-0]=arguments[o];return(t=i.stdout).$print.apply(t,e.to_a(r))},Q.$$arity=-1),e.defn(ge,"$warn",ee=function(){var t,r,n;null==i.VERBOSE&&(i.VERBOSE=$),null==i.stderr&&(i.stderr=$);var a=arguments.length,o=a-0;0>o&&(o=0),n=new Array(o);for(var s=0;a>s;s++)n[s-0]=arguments[s];return(t=(r=i.VERBOSE["$nil?"]())!==!1&&r!==$&&null!=r?r:n["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?(t=i.stderr).$puts.apply(t,e.to_a(n)):$},ee.$$arity=-1),e.defn(ge,"$raise",te=function(t,r,n){if(null==i["!"]&&(i["!"]=$),null==r&&(r=$),null==n&&(n=$),null==t&&i["!"]!==$)throw i["!"];throw null==t?t=me.get("RuntimeError").$new():t.$$is_string?t=me.get("RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(r):t["$kind_of?"](me.get("Exception"))||(t=me.get("TypeError").$new("exception class/object expected")),i["!"]!==$&&e.exceptions.push(i["!"]),i["!"]=t,t},te.$$arity=-1),e.alias(ge,"fail","raise"),e.defn(ge,"$rand",re=function(e){var t=this;if(void 0===e)return Math.random();if(e.$$is_range){var r=e.begin,n=e.end-r;return e.exclude||n++,t.$rand(n)+r}return Math.floor(Math.random()*Math.abs(me.get("Opal").$coerce_to(e,me.get("Integer"),"to_int")))},re.$$arity=-1),e.defn(ge,"$respond_to?",ne=function(e,t){var r,n=this;if(null==t&&(t=!1),(r=n["$respond_to_missing?"](e,t))!==$&&null!=r&&(!r.$$is_boolean||1==r))return!0;var a=n["$"+e];return"function"==typeof a&&!a.$$stub},ne.$$arity=-2),e.defn(ge,"$respond_to_missing?",$e=function(e,t){return null==t&&(t=!1),!1},$e.$$arity=-2),e.defn(ge,"$require",ae=function(t){return t=me.get("Opal")["$coerce_to!"](t,me.get("String"),"to_str"),e.require(t)},ae.$$arity=1),e.defn(ge,"$require_relative",ie=function(t){return me.get("Opal")["$try_convert!"](t,me.get("String"),"to_str"),t=me.get("File").$expand_path(me.get("File").$join(e.current_file,"..",t)),e.require(t)},ie.$$arity=1),e.defn(ge,"$require_tree",oe=function(t){t=me.get("File").$expand_path(t),t["$=="](".")&&(t="");for(var r in e.modules)r["$start_with?"](t)&&e.require(r);return $},oe.$$arity=1),e.alias(ge,"send","__send__"),e.alias(ge,"public_send","__send__"),e.defn(ge,"$singleton_class",se=function(){var t=this;return e.get_singleton_class(t)},se.$$arity=0),e.defn(ge,"$sleep",le=function(e){var t=this;null==e&&(e=$),e===$&&t.$raise(me.get("TypeError"),"can't convert NilClass into time interval"),e.$$is_number||t.$raise(me.get("TypeError"),"can't convert "+e.$class()+" into time interval"),0>e&&t.$raise(me.get("ArgumentError"),"time interval must be positive");for(var r=new Date;new Date-r<=1e3*e;);return e},le.$$arity=-1),e.alias(ge,"sprintf","format"),e.alias(ge,"srand","rand"),e.defn(ge,"$String",ue=function(e){var t;return(t=me.get("Opal")["$coerce_to?"](e,me.get("String"),"to_str"))!==!1&&t!==$&&null!=t?t:me.get("Opal")["$coerce_to!"](e,me.get("String"),"to_s")},ue.$$arity=1),e.defn(ge,"$tap",ce=function(){var t=this,r=ce.$$p,n=r||$;return ce.$$p=null,e.yield1(n,t),t},ce.$$arity=0),e.defn(ge,"$to_proc",_e=function(){var e=this;return e},_e.$$arity=0),e.defn(ge,"$to_s",pe=function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"},pe.$$arity=0),e.defn(ge,"$catch",fe=function(t){var r=this,n=fe.$$p,a=n||$,i=$;fe.$$p=null;try{return e.yieldX(a,[])}catch(o){if(!e.rescue(o,[me.get("UncaughtThrowError")]))throw o;i=o;try{return i.$sym()["$=="](t)?i.$arg():r.$raise()}finally{e.pop_exception()}}},fe.$$arity=1),e.defn(ge,"$throw",de=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$raise(me.get("UncaughtThrowError").$new(e))},de.$$arity=-1),e.defn(ge,"$open",he=function(){var t,r,n,a=he.$$p,i=a||$,o=arguments.length,s=o-0;0>s&&(s=0),n=new Array(s);for(var l=0;o>l;l++)n[l-0]=arguments[l];return he.$$p=null,(t=(r=me.get("File")).$open,t.$$p=i.$to_proc(),t).apply(r,e.to_a(n))},he.$$arity=-1)}(n.base),function(e,$super){function t(){}var r=t=s(e,$super,"Object",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("Kernel"))}(n.base,null)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass),a=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,$super){function r(){}var a,i,o,s,l,u,c,_,p=r=$(t,$super,"Exception",r),f=p.$$proto;p.$$scope;return f.message=n,e.defs(p,"$new",a=function(){var e,t=this,r=arguments.length,$=r-0;0>$&&($=0),e=new Array($);for(var a=0;r>a;a++)e[a-0]=arguments[a];var i=e.length>0?e[0]:n,o=new t.$$alloc(i);return Error.captureStackTrace&&Error.captureStackTrace(o),o.name=t.$$name,o.$initialize.apply(o,e),o},a.$$arity=-1),e.defs(p,"$exception",i=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$new.apply(t,e.to_a(r))},i.$$arity=-1),e.defn(p,"$initialize",o=function(){var e,t=this,r=arguments.length,$=r-0;0>$&&($=0),e=new Array($);for(var a=0;r>a;a++)e[a-0]=arguments[a];return t.message=e.length>0?e[0]:n},o.$$arity=-1),e.defn(p,"$backtrace",s=function(){var e=this,t=e.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},s.$$arity=0),e.defn(p,"$exception",l=function(e){var t=this;if(null==e&&(e=n),e===n||t===e)return t;var r=t.$clone();return r.message=e,r},l.$$arity=-1),e.defn(p,"$message",u=function(){var e=this;return e.$to_s()},u.$$arity=0),e.defn(p,"$inspect",c=function(){var e,t=this,r=n;return r=t.$to_s(),(e=r["$empty?"]())===n||null==e||e.$$is_boolean&&1!=e?"#<"+t.$class().$to_s()+": "+t.$to_s()+">":t.$class().$to_s()},c.$$arity=0),e.defn(p,"$to_s",_=function(){var e,t,r=this;return t=r.message,(e=t!==!1&&t!==n&&null!=t?r.message.$to_s():t)!==!1&&e!==n&&null!=e?e:r.$class().$to_s()},_.$$arity=0),n&&"to_s"}(r.base,Error),function(e,$super){function t(){}var r=t=$(e,$super,"ScriptError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"SyntaxError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=$(e,$super,"LoadError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=$(e,$super,"NotImplementedError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("ScriptError")),function(e,$super){function t(){}var r=t=$(e,$super,"SystemExit",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"NoMemoryError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"SignalException",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"Interrupt",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"SecurityError",t);
r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"StandardError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("Exception")),function(e,$super){function t(){}var r=t=$(e,$super,"ZeroDivisionError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"NameError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"NoMethodError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("NameError")),function(e,$super){function t(){}var r=t=$(e,$super,"RuntimeError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"LocalJumpError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"TypeError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"ArgumentError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"IndexError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"StopIteration",t);r.$$proto,r.$$scope;return n}(r.base,r.get("IndexError")),function(e,$super){function t(){}var r=t=$(e,$super,"KeyError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("IndexError")),function(e,$super){function t(){}var r=t=$(e,$super,"RangeError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"FloatDomainError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("RangeError")),function(e,$super){function t(){}var r=t=$(e,$super,"IOError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(e,$super){function t(){}var r=t=$(e,$super,"SystemCallError",t);r.$$proto,r.$$scope;return n}(r.base,r.get("StandardError")),function(t){var r,i=r=a(t,"Errno"),o=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var a,i=r=$(t,$super,"EINVAL",r);i.$$proto,i.$$scope;return e.defs(i,"$new",a=function(){var t,n,$=this;a.$$p;return a.$$p=null,(n=$,t=e.find_super_dispatcher($,"new",a,!1,r),t.$$p=null,t).call(n,"Invalid argument")},a.$$arity=0),n&&"new"}(o.base,o.get("SystemCallError"))}(r.base),function(r,$super){function a(){}var i,o=a=$(r,$super,"UncaughtThrowError",a),s=o.$$proto;o.$$scope;return s.sym=n,o.$attr_reader("sym","arg"),e.defn(o,"$initialize",i=function(r){var $,a,o=this;i.$$p;return i.$$p=null,o.sym=r["$[]"](0),($=t(r.$length(),1))===n||null==$||$.$$is_boolean&&1!=$||(o.arg=r["$[]"](1)),(a=o,$=e.find_super_dispatcher(o,"initialize",i,!1),$.$$p=null,$).call(a,"uncaught throw "+o.sym.$inspect())},i.$$arity=1),n&&"initialize"}(r.base,r.get("ArgumentError")),function(t,$super){function r(){}var a,i=r=$(t,$super,"NameError",r);i.$$proto,i.$$scope;return i.$attr_reader("name"),e.defn(i,"$initialize",a=function(t,r){var $,i,o=this;a.$$p;return null==r&&(r=n),a.$$p=null,(i=o,$=e.find_super_dispatcher(o,"initialize",a,!1),$.$$p=null,$).call(i,t),o.name=r},a.$$arity=-2),n&&"initialize"}(r.base,null),function(t,$super){function r(){}var a,i=r=$(t,$super,"NoMethodError",r);i.$$proto,i.$$scope;return i.$attr_reader("args"),e.defn(i,"$initialize",a=function(t,r,$){var i,o,s=this;a.$$p;return null==r&&(r=n),null==$&&($=[]),a.$$p=null,(o=s,i=e.find_super_dispatcher(s,"initialize",a,!1),i.$$p=null,i).call(o,t,r),s.args=$},a.$$arity=-2),n&&"initialize"}(r.base,null)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,e);e.nil,e.breaker,e.slice;return e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.2.3"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.10.1"),e.cdecl(t,"RUBY_RELEASE_DATE","2016-07-06"),e.cdecl(t,"RUBY_PATCHLEVEL",0),e.cdecl(t,"RUBY_REVISION",0),e.cdecl(t,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.cdecl(t,"RUBY_DESCRIPTION","opal "+t.get("RUBY_ENGINE_VERSION")+" ("+t.get("RUBY_RELEASE_DATE")+" revision "+t.get("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(r,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k=a=$(r,$super,"NilClass",a),S=k.$$proto,E=k.$$scope;return S.$$meta=k,e.defn(k,"$!",i=function(){return!0},i.$$arity=0),e.defn(k,"$&",o=function(){return!1},o.$$arity=1),e.defn(k,"$|",s=function(e){return e!==!1&&e!==n},s.$$arity=1),e.defn(k,"$^",l=function(e){return e!==!1&&e!==n},l.$$arity=1),e.defn(k,"$==",u=function(e){return e===n},u.$$arity=1),e.defn(k,"$dup",c=function(){var e=this;return e.$raise(E.get("TypeError"),"can't dup "+e.$class())},c.$$arity=0),e.defn(k,"$clone",_=function(){var e=this;return e.$raise(E.get("TypeError"),"can't clone "+e.$class())},_.$$arity=0),e.defn(k,"$inspect",p=function(){return"nil"},p.$$arity=0),e.defn(k,"$nil?",f=function(){return!0},f.$$arity=0),e.defn(k,"$singleton_class",d=function(){return E.get("NilClass")},d.$$arity=0),e.defn(k,"$to_a",h=function(){return[]},h.$$arity=0),e.defn(k,"$to_h",g=function(){return e.hash()},g.$$arity=0),e.defn(k,"$to_i",m=function(){return 0},m.$$arity=0),e.alias(k,"to_f","to_i"),e.defn(k,"$to_s",y=function(){return""},y.$$arity=0),e.defn(k,"$to_c",v=function(){return E.get("Complex").$new(0,0)},v.$$arity=0),e.defn(k,"$rationalize",b=function(){var e,r,$=this,a=arguments.length,i=a-0;0>i&&(i=0),r=new Array(i);for(var o=0;a>o;o++)r[o-0]=arguments[o];return(e=t(r.$length(),1))===n||null==e||e.$$is_boolean&&1!=e||$.$raise(E.get("ArgumentError")),$.$Rational(0,1)},b.$$arity=-1),e.defn(k,"$to_r",x=function(){var e=this;return e.$Rational(0,1)},x.$$arity=0),e.defn(k,"$instance_variables",w=function(){return[]},w.$$arity=0),n&&"instance_variables"}(r.base,null),e.cdecl(r,"NIL",n)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class"]),function(t,$super){function $(){}var a,i,o,s,l,u,c,_,p,f,d=$=n(t,$super,"Boolean",$),h=d.$$proto,g=d.$$scope;return h.$$is_boolean=!0,h.$$meta=d,e.defn(d,"$__id__",a=function(){var e=this;return e.valueOf()?2:0},a.$$arity=0),e.alias(d,"object_id","__id__"),e.defn(d,"$!",i=function(){var e=this;return 1!=e},i.$$arity=0),e.defn(d,"$&",o=function(e){var t=this;return 1==t?e!==!1&&e!==r:!1},o.$$arity=1),e.defn(d,"$|",s=function(e){var t=this;return 1==t?!0:e!==!1&&e!==r},s.$$arity=1),e.defn(d,"$^",l=function(e){var t=this;return 1==t?e===!1||e===r:e!==!1&&e!==r},l.$$arity=1),e.defn(d,"$==",u=function(e){var t=this;return 1==t===e.valueOf()},u.$$arity=1),e.alias(d,"equal?","=="),e.alias(d,"eql?","=="),e.defn(d,"$singleton_class",c=function(){return g.get("Boolean")},c.$$arity=0),e.defn(d,"$to_s",_=function(){var e=this;return 1==e?"true":"false"},_.$$arity=0),e.defn(d,"$dup",p=function(){var e=this;return e.$raise(g.get("TypeError"),"can't dup "+e.$class())},p.$$arity=0),e.defn(d,"$clone",f=function(){var e=this;return e.$raise(g.get("TypeError"),"can't clone "+e.$class())},f.$$arity=0),r&&"clone"}(t.base,Boolean),e.cdecl(t,"TrueClass",t.get("Boolean")),e.cdecl(t,"FalseClass",t.get("Boolean")),e.cdecl(t,"TRUE",!0),e.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n){var i,o,s,l,u,c,_,p,f=i=a(n,"Comparable"),d=(f.$$proto,f.$$scope);e.defs(f,"$normalize",o=function(e){var n;return(n=d.get("Integer")["$==="](e))===$||null==n||n.$$is_boolean&&1!=n?(n=t(e,0))===$||null==n||n.$$is_boolean&&1!=n?(n=r(e,0))===$||null==n||n.$$is_boolean&&1!=n?0:-1:1:e},o.$$arity=1),e.defn(f,"$==",s=function(t){var r,n=this,a=$;try{return(r=n["$equal?"](t))===$||null==r||r.$$is_boolean&&1!=r?n["$<=>"]==e.Kernel["$<=>"]?!1:n.$$comparable?(delete n.$$comparable,!1):(r=a=n["$<=>"](t))===$||null==r||r.$$is_boolean&&1!=r?!1:0==d.get("Comparable").$normalize(a):!0}catch(i){if(!e.rescue(i,[d.get("StandardError")]))throw i;try{return!1}finally{e.pop_exception()}}},s.$$arity=1),e.defn(f,"$>",l=function(e){var t,r=this,n=$;return((t=n=r["$<=>"](e))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(d.get("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),d.get("Comparable").$normalize(n)>0},l.$$arity=1),e.defn(f,"$>=",u=function(e){var t,r=this,n=$;return((t=n=r["$<=>"](e))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(d.get("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),d.get("Comparable").$normalize(n)>=0},u.$$arity=1),e.defn(f,"$<",c=function(e){var t,r=this,n=$;return((t=n=r["$<=>"](e))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(d.get("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),d.get("Comparable").$normalize(n)<0},c.$$arity=1),e.defn(f,"$<=",_=function(e){var t,r=this,n=$;return((t=n=r["$<=>"](e))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(d.get("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),d.get("Comparable").$normalize(n)<=0},_.$$arity=1),e.defn(f,"$between?",p=function(e,n){var $=this;return r($,e)?!1:!t($,n)},p.$$arity=2)}(n.base)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass),$=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,$super){function t(){}var $=t=n(e,$super,"RegexpError",t);$.$$proto,$.$$scope;return r}(t.base,t.get("StandardError")),function(t,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h=a=n(t,$super,"Regexp",a),g=h.$$proto,m=h.$$scope;return e.cdecl(m,"IGNORECASE",1),e.cdecl(m,"MULTILINE",4),g.$$is_regexp=!0,function(t){var n,a,i,o,s,l=t.$$scope;t.$$proto;return e.defn(t,"$allocate",n=function(){var t,$,a=this,i=n.$$p,o=r,s=r,l=r;for(n.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o=($=a,t=e.find_super_dispatcher(a,"allocate",n,!1),t.$$p=i,t).apply($,s),o.uninitialized=!0,o},n.$$arity=0),e.defn(t,"$escape",a=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},a.$$arity=1),e.defn(t,"$last_match",i=function(e){var t;return null==$["~"]&&($["~"]=r),null==e&&(e=r),(t=e["$nil?"]())===r||null==t||t.$$is_boolean&&1!=t?$["~"]["$[]"](e):$["~"]},i.$$arity=-1),e.alias(t,"quote","escape"),e.defn(t,"$union",o=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];var a,i,o,s,u;if(0==e.length)return/(?!)/;a=e[0].$$is_array,e.length>1&&a&&t.$raise(l.get("TypeError"),"no implicit conversion of Array into String"),a&&(e=e[0]),s=void 0,i=[];for(var c=0;c<e.length;c++)o=e[c],o.$$is_string?i.push(t.$escape(o)):o.$$is_regexp?(u=o.$options(),void 0!=s&&s!=u&&t.$raise(l.get("TypeError"),"All expressions must use the same options"),s=u,i.push("("+o.source+")")):i.push(t.$escape(o.$to_str()));return t.$new(i.$join("|"),s)},o.$$arity=-1),e.defn(t,"$new",s=function(e,t){var r=this;if(e.$$is_regexp)return new RegExp(e);if(e=l.get("Opal")["$coerce_to!"](e,l.get("String"),"to_str"),"\\"===e.charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&r.$raise(l.get("RegexpError"),"too short escape sequence: /"+e+"/"),void 0===t||t["$!"]())return new RegExp(e);if(t.$$is_number){var n="";l.get("IGNORECASE")&t&&(n+="i"),l.get("MULTILINE")&t&&(n+="m"),t=n}else t="i";return new RegExp(e,t)},s.$$arity=-2),r&&"new"}(e.get_singleton_class(h)),e.defn(h,"$==",i=function(e){var t=this;return e.constructor==RegExp&&t.toString()===e.toString()},i.$$arity=1),e.defn(h,"$===",o=function(e){var t=this;return t.$match(m.get("Opal")["$coerce_to?"](e,m.get("String"),"to_str"))!==r},o.$$arity=1),e.defn(h,"$=~",s=function(e){var t,n=this;return null==$["~"]&&($["~"]=r),t=n.$match(e),t!==!1&&t!==r&&null!=t?$["~"].$begin(0):t},s.$$arity=1),e.alias(h,"eql?","=="),e.defn(h,"$inspect",l=function(){var e=this;return e.toString()},l.$$arity=0),e.defn(h,"$match",u=function(e,t){var n=this,a=u.$$p,i=a||r;if(null==$["~"]&&($["~"]=r),u.$$p=null,n.uninitialized&&n.$raise(m.get("TypeError"),"uninitialized Regexp"),t=void 0===t?0:m.get("Opal").$coerce_to(t,m.get("Integer"),"to_int"),e===r)return $["~"]=r;if(e=m.get("Opal").$coerce_to(e,m.get("String"),"to_str"),0>t&&(t+=e.length,0>t))return $["~"]=r;var o=n.source,s="g";n.multiline&&(o=o.replace(".","[\\s\\S]"),s+="m");for(var l,c=new RegExp(o,s+(n.ignoreCase?"i":""));;){if(l=c.exec(e),null===l)return $["~"]=r;if(l.index>=t)return $["~"]=m.get("MatchData").$new(c,l),i===r?$["~"]:i.$call($["~"]);c.lastIndex=l.index+1}},u.$$arity=-2),e.defn(h,"$~",c=function(){var e=this;return null==$._&&($._=r),e["$=~"]($._)},c.$$arity=0),e.defn(h,"$source",_=function(){var e=this;return e.source},_.$$arity=0),e.defn(h,"$options",p=function(){var e=this;e.uninitialized&&e.$raise(m.get("TypeError"),"uninitialized Regexp");var t=0;return e.multiline&&(t|=m.get("MULTILINE")),e.ignoreCase&&(t|=m.get("IGNORECASE")),t},p.$$arity=0),e.defn(h,"$casefold?",f=function(){var e=this;return e.ignoreCase},f.$$arity=0),e.alias(h,"to_s","source"),e.defs(h,"$_load",d=function(t){var r,n=this;return(r=n).$new.apply(r,e.to_a(t))},d.$$arity=1),r&&"_load"}(t.base,RegExp),function(t,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h,g,m=a=n(t,$super,"MatchData",a),y=m.$$proto,v=m.$$scope;return y.matches=r,m.$attr_reader("post_match","pre_match","regexp","string"),e.defn(m,"$initialize",i=function(e,t){var n=this;$["~"]=n,n.regexp=e,n.begin=t.index,n.string=t.input,n.pre_match=t.input.slice(0,t.index),n.post_match=t.input.slice(t.index+t[0].length),n.matches=[];for(var a=0,i=t.length;i>a;a++){var o=t[a];null==o?n.matches.push(r):n.matches.push(o)}},i.$$arity=2),e.defn(m,"$[]",o=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n.matches)["$[]"].apply(t,e.to_a(r))},o.$$arity=-1),e.defn(m,"$offset",s=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#offset only supports 0th element"),[t.begin,t.begin+t.matches[e].length]},s.$$arity=1),e.defn(m,"$==",l=function(e){var t,n,$,a,i=this;return(t=v.get("MatchData")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?!1:(a=i.string==e.string,$=a!==!1&&a!==r&&null!=a?i.regexp.toString()==e.regexp.toString():a,n=$!==!1&&$!==r&&null!=$?i.pre_match==e.pre_match:$,t=n!==!1&&n!==r&&null!=n?i.post_match==e.post_match:n,t!==!1&&t!==r&&null!=t?i.begin==e.begin:t)},l.$$arity=1),e.alias(m,"eql?","=="),e.defn(m,"$begin",u=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#begin only supports 0th element"),t.begin},u.$$arity=1),e.defn(m,"$end",c=function(e){var t=this;return 0!==e&&t.$raise(v.get("ArgumentError"),"MatchData#end only supports 0th element"),t.begin+t.matches[e].length},c.$$arity=1),e.defn(m,"$captures",_=function(){var e=this;return e.matches.slice(1)},_.$$arity=0),e.defn(m,"$inspect",p=function(){for(var e=this,t="#<MatchData "+e.matches[0].$inspect(),r=1,n=e.matches.length;n>r;r++)t+=" "+r+":"+e.matches[r].$inspect();return t+">"},p.$$arity=0),e.defn(m,"$length",f=function(){var e=this;return e.matches.length},f.$$arity=0),e.alias(m,"size","length"),e.defn(m,"$to_a",d=function(){var e=this;return e.matches},d.$$arity=0),e.defn(m,"$to_s",h=function(){var e=this;return e.matches[0]},h.$$arity=0),e.defn(m,"$values_at",g=function(){var e,t=this,n=arguments.length,$=n-0;0>$&&($=0),e=new Array($);for(var a=0;n>a;a++)e[a-0]=arguments[a];var i,o,s,l=[];for(i=0;i<e.length;i++)e[i].$$is_range&&(o=e[i].$to_a(),o.unshift(i,1),Array.prototype.splice.apply(e,o)),s=v.get("Opal")["$coerce_to!"](e[i],v.get("Integer"),"to_int"),0>s&&(s+=t.matches.length,0>s)?l.push(r):l.push(t.matches[s]);return l},g.$$arity=-1),r&&"values_at"}(t.base,null)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n=e.top,$=e,a=e.nil,i=(e.breaker,e.slice,e.klass),o=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,$super){function $(){}function s(e){function t(e){var t,r,n,$,a,i,o="",s=e.length;for(t=0;s>t;t++)if(r=e.charAt(t),"-"===r&&t>0&&s-1>t&&!n){for($=e.charCodeAt(t-1),a=e.charCodeAt(t+1),$>a&&be.$raise(we.get("ArgumentError"),'invalid range "'+$+"-"+a+'" in string transliteration'),i=$+1;a+1>i;i++)o+=String.fromCharCode(i);n=!0,t++}else n="\\"===r,o+=r;return o}function r(e,t){if(0===e.length)return t;var r,n,$="",a=e.length;for(r=0;a>r;r++)n=e.charAt(r),-1!==t.indexOf(n)&&($+=n);return $}var n,$,a,i,o,s,l="",u="";for(n=0,$=e.length;$>n;n++)a=we.get("Opal").$coerce_to(e[n],we.get("String"),"to_str"),i="^"===a.charAt(0)&&a.length>1,a=t(i?a.slice(1):a),i?u=r(u,a):l=r(l,a);if(l.length>0&&u.length>0){for(s="",n=0,$=l.length;$>n;n++)o=l.charAt(n),-1===u.indexOf(o)&&(s+=o);l=s,u=""}return l.length>0?"["+we.get("Regexp").$escape(l)+"]":u.length>0?"[^"+we.get("Regexp").$escape(u)+"]":null}var l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue,ce,_e,pe,fe,de,he,ge,me,ye,ve,be=$=i(n,$super,"String",$),xe=be.$$proto,we=be.$$scope;return xe.length=a,be.$include(we.get("Comparable")),xe.$$is_string=!0,e.defn(be,"$__id__",l=function(){var e=this;return e.toString()},l.$$arity=0),e.alias(be,"object_id","__id__"),e.defs(be,"$try_convert",u=function(e){return we.get("Opal")["$coerce_to?"](e,we.get("String"),"to_str")},u.$$arity=1),e.defs(be,"$new",c=function(e){return null==e&&(e=""),e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),new String(e)},c.$$arity=-1),e.defn(be,"$initialize",_=function(e){var t=this;return void 0===e?t:t.$raise(we.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},_.$$arity=-1),e.defn(be,"$%",p=function(t){var r,n=this;return(r=we.get("Array")["$==="](t))===a||null==r||r.$$is_boolean&&1!=r?n.$format(n,t):(r=n).$format.apply(r,[n].concat(e.to_a(t)))},p.$$arity=1),e.defn(be,"$*",f=function(e){var t=this;if(e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int"),0>e&&t.$raise(we.get("ArgumentError"),"negative argument"),0===e)return"";var r="",n=t.toString();for(n.length*e>=1<<28&&t.$raise(we.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&e)&&(r+=n),e>>>=1,0!==e;)n+=n;return r},f.$$arity=1),e.defn(be,"$+",d=function(e){var t=this;return e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),t+e.$to_s()},d.$$arity=1),e.defn(be,"$<=>",h=function(e){var t,r=this;if((t=e["$respond_to?"]("to_str"))===a||null==t||t.$$is_boolean&&1!=t){var n=e["$<=>"](r);return n===a?a:n>0?-1:0>n?1:0}return e=e.$to_str().$to_s(),r>e?1:e>r?-1:0},h.$$arity=1),e.defn(be,"$==",g=function(e){var t=this;return e.$$is_string?t.toString()===e.toString():we.get("Opal")["$respond_to?"](e,"to_str")?e["$=="](t):!1},g.$$arity=1),e.alias(be,"eql?","=="),e.alias(be,"===","=="),e.defn(be,"$=~",m=function(e){var t=this;return e.$$is_string&&t.$raise(we.get("TypeError"),"type mismatch: String given"),e["$=~"](t)},m.$$arity=1),e.defn(be,"$[]",y=function(e,t){var r,n=this,$=n.length;if(e.$$is_range)return r=e.exclude,t=we.get("Opal").$coerce_to(e.end,we.get("Integer"),"to_int"),e=we.get("Opal").$coerce_to(e.begin,we.get("Integer"),"to_int"),Math.abs(e)>$?a:(0>e&&(e+=$),0>t&&(t+=$),r||(t+=1),t-=e,0>t&&(t=0),n.substr(e,t));if(e.$$is_string)return null!=t&&n.$raise(we.get("TypeError")),-1!==n.indexOf(e)?e:a;if(e.$$is_regexp){var i=n.match(e);return null===i?(o["~"]=a,a):(o["~"]=we.get("MatchData").$new(e,i),null==t?i[0]:(t=we.get("Opal").$coerce_to(t,we.get("Integer"),"to_int"),0>t&&-t<i.length?i[t+=i.length]:t>=0&&t<i.length?i[t]:a))}return e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int"),0>e&&(e+=$),null==t?e>=$||0>e?a:n.substr(e,1):(t=we.get("Opal").$coerce_to(t,we.get("Integer"),"to_int"),0>t?a:e>$||0>e?a:n.substr(e,t))},y.$$arity=-2),e.alias(be,"byteslice","[]"),e.defn(be,"$capitalize",v=function(){var e=this;return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},v.$$arity=0),e.defn(be,"$casecmp",b=function(e){var t=this;e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(t)&&r.test(e)&&(t=t.toLowerCase(),e=e.toLowerCase()),t["$<=>"](e)},b.$$arity=1),e.defn(be,"$center",x=function(e,n){var $,i=this;if(null==n&&(n=" "),e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int"),n=we.get("Opal").$coerce_to(n,we.get("String"),"to_str").$to_s(),($=n["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$||i.$raise(we.get("ArgumentError"),"zero width padding"),($=e<=i.length)!==a&&null!=$&&(!$.$$is_boolean||1==$))return i;var o=i.$ljust(t(r(e,i.length),2).$ceil(),n),s=i.$rjust(t(r(e,i.length),2).$floor(),n);return s+o.slice(i.length)},x.$$arity=-2),e.defn(be,"$chars",w=function(){var e,t,r=this,n=w.$$p,$=n||a;return w.$$p=null,$===!1||$===a||null==$?r.$each_char().$to_a():(e=(t=r).$each_char,e.$$p=$.$to_proc(),e).call(t)},w.$$arity=0),e.defn(be,"$chomp",k=function(e){var t,r=this;if(null==o["/"]&&(o["/"]=a),null==e&&(e=o["/"]),(t=e===a||0===r.length)!==a&&null!=t&&(!t.$$is_boolean||1==t))return r;if(e=we.get("Opal")["$coerce_to!"](e,we.get("String"),"to_str").$to_s(),"\n"===e)return r.replace(/\r?\n?$/,"");if(""===e)return r.replace(/(\r?\n)+$/,"");if(r.length>e.length){var n=r.substr(r.length-e.length,e.length);if(n===e)return r.substr(0,r.length-e.length)}return r},k.$$arity=-1),e.defn(be,"$chop",S=function(){var e=this,t=e.length;return 1>=t?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)},S.$$arity=0),e.defn(be,"$chr",E=function(){var e=this;return e.charAt(0)},E.$$arity=0),e.defn(be,"$clone",R=function(){var e=this,t=a;return t=e.slice(),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},R.$$arity=0),e.defn(be,"$dup",A=function(){var e=this,t=a;return t=e.slice(),t.$initialize_dup(e),t},A.$$arity=0),e.defn(be,"$count",O=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];0===e.length&&t.$raise(we.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var a=s(e);return null===a?0:t.length-t.replace(new RegExp(a,"g"),"").length},O.$$arity=-1),e.defn(be,"$delete",M=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];0===e.length&&t.$raise(we.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var a=s(e);return null===a?t:t.replace(new RegExp(a,"g"),"")},M.$$arity=-1),e.defn(be,"$downcase",T=function(){var e=this;return e.toLowerCase()},T.$$arity=0),e.defn(be,"$each_char",C=function(){var t,r,n,$=this,i=C.$$p,o=i||a;if(C.$$p=null,o===a)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"each_char");for(var s=0,l=$.length;l>s;s++)e.yield1(o,$.charAt(s));return $},C.$$arity=0),e.defn(be,"$each_line",I=function(t){var r=this,n=I.$$p,$=n||a;if(null==o["/"]&&(o["/"]=a),null==t&&(t=o["/"]),I.$$p=null,$===a)return r.$enum_for("each_line",t);if(t===a)return e.yield1($,r),r;t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str");var i,s,l,u,c,_,p;if(0===t.length){for(i=r.split(/(\n{2,})/),s=0,l=i.length;l>s;s+=2)(i[s]||i[s+1])&&e.yield1($,(i[s]||"")+(i[s+1]||""));return r}for(c=r.$chomp(t),_=r.length!=c.length,p=c.split(t),s=0,u=p.length;u>s;s++)u-1>s||_?e.yield1($,p[s]+t):e.yield1($,p[s]);return r},I.$$arity=-1),e.defn(be,"$empty?",z=function(){var e=this;return 0===e.length},z.$$arity=0),e.defn(be,"$end_with?",j=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=0,i=e.length;i>a;a++){var o=we.get("Opal").$coerce_to(e[a],we.get("String"),"to_str").$to_s();if(t.length>=o.length&&t.substr(t.length-o.length,o.length)==o)return!0}return!1},j.$$arity=-1),e.alias(be,"eql?","=="),e.alias(be,"equal?","==="),e.defn(be,"$gsub",q=function(e,t){var r=this,n=q.$$p,$=n||a;if(q.$$p=null,void 0===t&&$===a)return r.$enum_for("gsub",e);var i,s,l="",u=a,c=0;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(i=e.exec(r),null===i){o["~"]=a,l+=r.slice(c);break}u=we.get("MatchData").$new(e,i),void 0===t?s=$(i[0]):t.$$is_hash?s=t["$[]"](i[0]).$to_s():(t.$$is_string||(t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str")),s=t.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2===0)return e;switch(n){case"+":for(var $=i.length-1;$>0;$--)if(void 0!==i[$])return t.slice(1)+i[$];return"";case"&":return t.slice(1)+i[0];case"`":return t.slice(1)+r.slice(0,i.index);case"'":return t.slice(1)+r.slice(i.index+i[0].length);default:return t.slice(1)+(i[n]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===i.index?(l+=s+r.slice(c,i.index+1),e.lastIndex+=1):l+=r.slice(c,i.index)+s,c=e.lastIndex}return o["~"]=u,l},q.$$arity=-2),e.defn(be,"$hash",N=function(){var e=this;return e.toString()},N.$$arity=0),e.defn(be,"$hex",P=function(){var e=this;return e.$to_i(16)},P.$$arity=0),e.defn(be,"$include?",F=function(e){var t=this;return e.$$is_string||(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str")),-1!==t.indexOf(e)},F.$$arity=1),e.defn(be,"$index",D=function(e,t){var r,n,$,i=this;if(void 0===t)t=0;else if(t=we.get("Opal").$coerce_to(t,we.get("Integer"),"to_int"),0>t&&(t+=i.length,0>t))return a;if(e.$$is_regexp)for($=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(n=$.exec(i),null===n){o["~"]=a,r=-1;break}if(n.index>=t){o["~"]=we.get("MatchData").$new($,n),r=n.index;break}$.lastIndex=n.index+1}else e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),r=0===e.length&&t>i.length?-1:i.indexOf(e,t);return-1===r?a:r},D.$$arity=-2),e.defn(be,"$inspect",B=function(){var e=this,t=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"":"\\a","":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"},n=e.replace(t,function(e){return r[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+n.replace(/\#[\$\@\{]/g,"\\$&")+'"'},B.$$arity=0),e.defn(be,"$intern",H=function(){var e=this;return e},H.$$arity=0),e.defn(be,"$lines",L=function(e){var t,r,n=this,$=L.$$p,i=$||a,s=a;return null==o["/"]&&(o["/"]=a),null==e&&(e=o["/"]),L.$$p=null,s=(t=(r=n).$each_line,t.$$p=i.$to_proc(),t).call(r,e),i!==!1&&i!==a&&null!=i?n:s.$to_a()},L.$$arity=-1),e.defn(be,"$length",U=function(){var e=this;return e.length},U.$$arity=0),e.defn(be,"$ljust",G=function(e,t){var r,n=this;if(null==t&&(t=" "),e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int"),t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str").$to_s(),(r=t["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r||n.$raise(we.get("ArgumentError"),"zero width padding"),(r=e<=n.length)!==a&&null!=r&&(!r.$$is_boolean||1==r))return n;var $=-1,i="";for(e-=n.length;++$<e;)i+=t;return n+i.slice(0,e)},G.$$arity=-2),e.defn(be,"$lstrip",Y=function(){var e=this;return e.replace(/^\s*/,"")},Y.$$arity=0),e.defn(be,"$match",V=function(e,t){var r,n,$=this,i=V.$$p,o=i||a;return V.$$p=null,(r=(n=we.get("String")["$==="](e))!==!1&&n!==a&&null!=n?n:e["$respond_to?"]("to_str"))===a||null==r||r.$$is_boolean&&1!=r||(e=we.get("Regexp").$new(e.$to_str())),((r=we.get("Regexp")["$==="](e))===a||null==r||r.$$is_boolean&&1!=r)&&$.$raise(we.get("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),(r=(n=e).$match,r.$$p=o.$to_proc(),r).call(n,$,t)},V.$$arity=-2),e.defn(be,"$next",X=function(){var e=this,t=e.length;if(0===t)return"";for(var r,n=e,$=e.search(/[a-zA-Z0-9]/),a=!1;t--;){if(r=e.charCodeAt(t),r>=48&&57>=r||r>=65&&90>=r||r>=97&&122>=r)switch(r){case 57:a=!0,r=48;break;case 90:a=!0,r=65;break;case 122:a=!0,r=97;break;default:a=!1,r+=1}else-1===$?255===r?(a=!0,r=0):(a=!1,r+=1):a=!0;if(n=n.slice(0,t)+String.fromCharCode(r)+n.slice(t+1),a&&(0===t||t===$)){switch(r){case 65:break;case 97:break;default:r+=1}n=0===t?String.fromCharCode(r)+n:n.slice(0,t)+String.fromCharCode(r)+n.slice(t),a=!1}if(!a)break}return n},X.$$arity=0),e.defn(be,"$oct",K=function(){var e,t=this,r=t,n=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,r,$){switch($.charAt(0)){case"+":case"-":return e;case"0":if("x"===$.charAt(1)&&"0x"===r)return e}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return t+$}),e=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)},K.$$arity=0),e.defn(be,"$ord",W=function(){var e=this;return e.charCodeAt(0)},W.$$arity=0),e.defn(be,"$partition",Z=function(e){var t,r,n=this;return e.$$is_regexp?(r=e.exec(n),null===r?t=-1:(we.get("MatchData").$new(e,r),e=r[0],t=r.index)):(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),t=n.indexOf(e)),-1===t?[n,"",""]:[n.slice(0,t),n.slice(t,t+e.length),n.slice(t+e.length)]},Z.$$arity=1),e.defn(be,"$reverse",J=function(){var e=this;return e.split("").reverse().join("")},J.$$arity=0),e.defn(be,"$rindex",Q=function(e,t){var r,n,$,i,s=this;if(void 0===t)t=s.length;else if(t=we.get("Opal").$coerce_to(t,we.get("Integer"),"to_int"),0>t&&(t+=s.length,0>t))return a;if(e.$$is_regexp){for(n=null,$=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(i=$.exec(s),null===i||i.index>t)break;n=i,$.lastIndex=n.index+1}null===n?(o["~"]=a,r=-1):(we.get("MatchData").$new($,n),r=n.index)}else e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),r=s.lastIndexOf(e,t);return-1===r?a:r},Q.$$arity=-2),e.defn(be,"$rjust",ee=function(e,t){var r,n=this;if(null==t&&(t=" "),e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int"),t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str").$to_s(),(r=t["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r||n.$raise(we.get("ArgumentError"),"zero width padding"),(r=e<=n.length)!==a&&null!=r&&(!r.$$is_boolean||1==r))return n;var $=Math.floor(e-n.length),i=Math.floor($/t.length),o=Array(i+1).join(t),s=$-o.length;return o+t.slice(0,s)+n},ee.$$arity=-2),e.defn(be,"$rpartition",te=function(e){var t,r,n,$,a=this;if(e.$$is_regexp){for(r=null,n=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if($=n.exec(a),null===$)break;r=$,n.lastIndex=r.index+1}null===r?t=-1:(we.get("MatchData").$new(n,r),e=r[0],t=r.index)}else e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),t=a.lastIndexOf(e);return-1===t?["","",a]:[a.slice(0,t),a.slice(t,t+e.length),a.slice(t+e.length)]},te.$$arity=1),e.defn(be,"$rstrip",re=function(){var e=this;return e.replace(/[\s\u0000]*$/,"")},re.$$arity=0),e.defn(be,"$scan",ne=function(e){var t=this,r=ne.$$p,n=r||a;ne.$$p=null;var $,i=[],s=a;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=($=e.exec(t));)s=we.get("MatchData").$new(e,$),n===a?1==$.length?i.push($[0]):i.push(s.$captures()):1==$.length?n($[0]):n.call(t,s.$captures()),e.lastIndex===$.index&&(e.lastIndex+=1);return o["~"]=s,n!==a?t:i},ne.$$arity=1),e.alias(be,"size","length"),e.alias(be,"slice","[]"),e.defn(be,"$split",$e=function(e,t){var r,n=this;if(null==o[";"]&&(o[";"]=a),0===n.length)return[];if(void 0===t)t=0;else if(t=we.get("Opal")["$coerce_to!"](t,we.get("Integer"),"to_int"),1===t)return[n];void 0!==e&&e!==a||(e=(r=o[";"])!==!1&&r!==a&&null!=r?r:" ");
var $,i,s=[],l=n.toString(),u=0;if(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str").$to_s()," "===e?(e=/\s+/gm,l=l.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),s=l.split(e),1===s.length&&s[0]===l)return s;for(;-1!==(i=s.indexOf(void 0));)s.splice(i,1);if(0===t){for(;""===s[s.length-1];)s.length-=1;return s}if($=e.exec(l),0>t){if(null!==$&&""===$[0]&&-1===e.source.indexOf("(?="))for(i=0;i<$.length;i++)s.push("");return s}if(null!==$&&""===$[0])return s.splice(t-1,s.length-1,s.slice(t-1).join("")),s;if(t>=s.length)return s;for(i=0;null!==$&&(i++,u=e.lastIndex,i+1!==t);)$=e.exec(l);return s.splice(t-1,s.length-1,l.slice(u)),s},$e.$$arity=-1),e.defn(be,"$squeeze",ae=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];if(0===e.length)return t.replace(/(.)\1+/g,"$1");var a=s(e);return null===a?t:t.replace(new RegExp("("+a+")\\1+","g"),"$1")},ae.$$arity=-1),e.defn(be,"$start_with?",ie=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=0,i=e.length;i>a;a++){var o=we.get("Opal").$coerce_to(e[a],we.get("String"),"to_str").$to_s();if(0===t.indexOf(o))return!0}return!1},ie.$$arity=-1),e.defn(be,"$strip",oe=function(){var e=this;return e.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},oe.$$arity=0),e.defn(be,"$sub",se=function(e,t){var r=this,n=se.$$p,$=n||a;se.$$p=null,e.$$is_regexp||(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var i=e.exec(r);return null===i?(o["~"]=a,r.toString()):(we.get("MatchData").$new(e,i),void 0===t?($===a&&r.$raise(we.get("ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,i.index)+$(i[0])+r.slice(i.index+i[0].length)):t.$$is_hash?r.slice(0,i.index)+t["$[]"](i[0]).$to_s()+r.slice(i.index+i[0].length):(t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str"),t=t.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2===0)return e;switch(n){case"+":for(var $=i.length-1;$>0;$--)if(void 0!==i[$])return t.slice(1)+i[$];return"";case"&":return t.slice(1)+i[0];case"`":return t.slice(1)+r.slice(0,i.index);case"'":return t.slice(1)+r.slice(i.index+i[0].length);default:return t.slice(1)+(i[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,i.index)+t+r.slice(i.index+i[0].length)))},se.$$arity=-2),e.alias(be,"succ","next"),e.defn(be,"$sum",le=function(e){var t=this;null==e&&(e=16),e=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int");for(var r=0,n=t.length,$=0;n>$;$++)r+=t.charCodeAt($);return 0>=e?r:r&Math.pow(2,e)-1},le.$$arity=-1),e.defn(be,"$swapcase",ue=function(){var e=this,t=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,t){return t?e.toUpperCase():e.toLowerCase()});return e.constructor===String?t:e.$class().$new(t)},ue.$$arity=0),e.defn(be,"$to_f",ce=function(){var e=this;if("_"===e.charAt(0))return 0;var t=parseFloat(e.replace(/_/g,""));return isNaN(t)||t==1/0||t==-(1/0)?0:t},ce.$$arity=0),e.defn(be,"$to_i",_e=function(e){var t=this;null==e&&(e=10);var r,n=t.toLowerCase(),$=we.get("Opal").$coerce_to(e,we.get("Integer"),"to_int");return(1===$||0>$||$>36)&&t.$raise(we.get("ArgumentError"),"invalid radix "+$),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,r,n){switch(n.charAt(0)){case"+":case"-":return e;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===$||16===$))return e}switch(r){case"0b":if(0===$||2===$)return $=2,t+n;break;case"0":case"0o":if(0===$||8===$)return $=8,t+n;break;case"0d":if(0===$||10===$)return $=10,t+n;break;case"0x":if(0===$||16===$)return $=16,t+n}return e}),r=parseInt(n.replace(/_(?!_)/g,""),$),isNaN(r)?0:r)},_e.$$arity=-1),e.defn(be,"$to_proc",pe=function(){var t,r,n,$=this,i=a;return i=$,(t=(r=$).$proc,t.$$p=(n=function(){var t,r,$,o,s=n.$$s||this,l=a;t=n.$$p||a,n.$$p=null;var u=arguments.length,c=u-0;0>c&&(c=0),r=new Array(c);for(var _=0;u>_;_++)r[_-0]=arguments[_];return($=r["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$||s.$raise(we.get("ArgumentError"),"no receiver given"),l=r.$shift(),($=(o=l).$__send__,$.$$p=t.$to_proc(),$).apply(o,[i].concat(e.to_a(r)))},n.$$s=$,n.$$arity=-1,n),t).call(r)},pe.$$arity=0),e.defn(be,"$to_s",fe=function(){var e=this;return e.toString()},fe.$$arity=0),e.alias(be,"to_str","to_s"),e.alias(be,"to_sym","intern"),e.defn(be,"$tr",de=function(e,t){var r=this;if(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str").$to_s(),t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str").$to_s(),0==e.length||e===t)return r;var n,$,a,i,o,s,l,u={},c=e.split(""),_=c.length,p=t.split(""),f=p.length,d=!1,h=null;"^"===c[0]&&c.length>1&&(d=!0,c.shift(),h=p[f-1],_-=1);var g=[],m=null;for($=!1,n=0;_>n;n++)if(i=c[n],null==m)m=i,g.push(i);else if("-"===i)"-"===m?(g.push("-"),g.push("-")):n==_-1?g.push("-"):$=!0;else if($){for(o=m.charCodeAt(0),s=i.charCodeAt(0),o>s&&r.$raise(we.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),a=o+1;s>a;a++)g.push(String.fromCharCode(a));g.push(i),$=null,m=null}else g.push(i);if(c=g,_=c.length,d)for(n=0;_>n;n++)u[c[n]]=!0;else{if(f>0){var y=[],v=null;for($=!1,n=0;f>n;n++)if(i=p[n],null==v)v=i,y.push(i);else if("-"===i)"-"===v?(y.push("-"),y.push("-")):n==f-1?y.push("-"):$=!0;else if($){for(o=v.charCodeAt(0),s=i.charCodeAt(0),o>s&&r.$raise(we.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),a=o+1;s>a;a++)y.push(String.fromCharCode(a));y.push(i),$=null,v=null}else y.push(i);p=y,f=p.length}var b=_-f;if(b>0){var x=f>0?p[f-1]:"";for(n=0;b>n;n++)p.push(x)}for(n=0;_>n;n++)u[c[n]]=p[n]}var w="";for(n=0,l=r.length;l>n;n++){i=r.charAt(n);var k=u[i];w+=d?null==k?h:i:null!=k?k:i}return w},de.$$arity=2),e.defn(be,"$tr_s",he=function(e,t){var r=this;if(e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str").$to_s(),t=we.get("Opal").$coerce_to(t,we.get("String"),"to_str").$to_s(),0==e.length)return r;var n,$,a,i,o,s,l,u={},c=e.split(""),_=c.length,p=t.split(""),f=p.length,d=!1,h=null;"^"===c[0]&&c.length>1&&(d=!0,c.shift(),h=p[f-1],_-=1);var g=[],m=null;for($=!1,n=0;_>n;n++)if(i=c[n],null==m)m=i,g.push(i);else if("-"===i)"-"===m?(g.push("-"),g.push("-")):n==_-1?g.push("-"):$=!0;else if($){for(o=m.charCodeAt(0),s=i.charCodeAt(0),o>s&&r.$raise(we.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),a=o+1;s>a;a++)g.push(String.fromCharCode(a));g.push(i),$=null,m=null}else g.push(i);if(c=g,_=c.length,d)for(n=0;_>n;n++)u[c[n]]=!0;else{if(f>0){var y=[],v=null;for($=!1,n=0;f>n;n++)if(i=p[n],null==m)m=i,y.push(i);else if("-"===i)"-"===v?(y.push("-"),y.push("-")):n==f-1?y.push("-"):$=!0;else if($){for(o=m.charCodeAt(0),s=i.charCodeAt(0),o>s&&r.$raise(we.get("ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),a=o+1;s>a;a++)y.push(String.fromCharCode(a));y.push(i),$=null,m=null}else y.push(i);p=y,f=p.length}var b=_-f;if(b>0){var x=f>0?p[f-1]:"";for(n=0;b>n;n++)p.push(x)}for(n=0;_>n;n++)u[c[n]]=p[n]}var w="",k=null;for(n=0,l=r.length;l>n;n++){i=r.charAt(n);var S=u[i];d?null==S?null==k&&(w+=h,k=!0):(w+=i,k=null):null!=S?null!=k&&k===S||(w+=S,k=S):(w+=i,k=null)}return w},he.$$arity=2),e.defn(be,"$upcase",ge=function(){var e=this;return e.toUpperCase()},ge.$$arity=0),e.defn(be,"$upto",me=function(e,t){var r=this,n=me.$$p,$=n||a;if(null==t&&(t=!1),me.$$p=null,$===a)return r.$enum_for("upto",e,t);e=we.get("Opal").$coerce_to(e,we.get("String"),"to_str");var i,o,s=r.toString();if(1===s.length&&1===e.length)for(i=s.charCodeAt(0),o=e.charCodeAt(0);o>=i&&(!t||i!==o);)$(String.fromCharCode(i)),i+=1;else if(parseInt(s,10).toString()===s&&parseInt(e,10).toString()===e)for(i=parseInt(s,10),o=parseInt(e,10);o>=i&&(!t||i!==o);)$(i.toString()),i+=1;else for(;s.length<=e.length&&e>=s&&(!t||s!==e);)$(s),s=s.$succ();return r},me.$$arity=-2),e.defn(be,"$instance_variables",ye=function(){return[]},ye.$$arity=0),e.defs(be,"$_load",ve=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$new.apply(t,e.to_a(r))},ve.$$arity=-1),a&&"_load"}($.base,String),e.cdecl($,"Symbol",$.get("String"))},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var o=(e.top,e),s=e.nil,l=(e.breaker,e.slice,e.module);return e.add_stubs(["$each","$destructure","$raise","$new","$yield","$dup","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$to_a","$lambda","$sort!","$map!","$zip"]),function(o){var u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q=u=l(o,"Enumerable"),ee=(Q.$$proto,Q.$$scope);e.defn(Q,"$all?",c=function(){try{var t,r,n,$,a,i=this,o=c.$$p,l=o||s;return c.$$p=null,l!==s?(t=(r=i).$each,t.$$p=(n=function(){var t,r,$=(n.$$s||this,arguments.length),a=$-0;0>a&&(a=0),t=new Array(a);for(var i=0;$>i;i++)t[i-0]=arguments[i];return(r=e.yieldX(l,e.to_a(t)))===s||null==r||r.$$is_boolean&&1!=r?void e.ret(!1):s},n.$$s=i,n.$$arity=-1,n),t).call(r):(t=($=i).$each,t.$$p=(a=function(){var t,r,n=(a.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var i=0;n>i;i++)t[i-0]=arguments[i];return(r=ee.get("Opal").$destructure(t))===s||null==r||r.$$is_boolean&&1!=r?void e.ret(!1):s},a.$$s=i,a.$$arity=-1,a),t).call($),!0}catch(u){if(u===e.returner)return u.$v;throw u}},c.$$arity=0),e.defn(Q,"$any?",_=function(){try{var t,r,n,$,a,i=this,o=_.$$p,l=o||s;return _.$$p=null,l!==s?(t=(r=i).$each,t.$$p=(n=function(){var t,r,$=(n.$$s||this,arguments.length),a=$-0;0>a&&(a=0),t=new Array(a);for(var i=0;$>i;i++)t[i-0]=arguments[i];return(r=e.yieldX(l,e.to_a(t)))===s||null==r||r.$$is_boolean&&1!=r?s:void e.ret(!0)},n.$$s=i,n.$$arity=-1,n),t).call(r):(t=($=i).$each,t.$$p=(a=function(){var t,r,n=(a.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var i=0;n>i;i++)t[i-0]=arguments[i];return(r=ee.get("Opal").$destructure(t))===s||null==r||r.$$is_boolean&&1!=r?s:void e.ret(!0)},a.$$s=i,a.$$arity=-1,a),t).call($),!1}catch(u){if(u===e.returner)return u.$v;throw u}},_.$$arity=0),e.defn(Q,"$chunk",p=function(t){var r,n,$,a=this,i=p.$$p,o=i||s;return p.$$p=null,o!==!1&&o!==s&&null!=o||ee.get("Kernel").$raise(ee.get("ArgumentError"),"no block given"),(r=(n=e.get("Enumerator")).$new,r.$$p=($=function(r){function n(){p.length>0&&r.$yield(_,p)}var a,i,l,u=$.$$s||this;null==r&&(r=s);var c,_=s,p=[];c=void 0==t||t===s?o:(a=(i=ee.get("Proc")).$new,a.$$p=(l=function(e){l.$$s||this;return null==e&&(e=s),o.$yield(e,t.$dup())},l.$$s=u,l.$$arity=1,l),a).call(i),u.$each.$$p=function(t){var r=e.yield1(c,t);r===s?(n(),p=[],_=s):(_===s||_===r?p.push(t):(n(),p=[t]),_=r)},u.$each(),n()},$.$$s=a,$.$$arity=1,$),r).call(n)},p.$$arity=-1),e.defn(Q,"$collect",f=function(){var t,r,n,$=this,a=f.$$p,i=a||s;if(f.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"collect");var o=[];return $.$each.$$p=function(){var t=e.yieldX(i,arguments);o.push(t)},$.$each(),o},f.$$arity=0),e.defn(Q,"$collect_concat",d=function(){var t,r,n,$,a,i=this,o=d.$$p,l=o||s;return d.$$p=null,l===s?(t=(r=i).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=i,n.$$arity=0,n),t).call(r,"collect_concat"):(t=($=i).$map,t.$$p=(a=function(t){a.$$s||this;return null==t&&(t=s),e.yield1(l,t)},a.$$s=i,a.$$arity=1,a),t).call($).$flatten(1)},d.$$arity=0),e.defn(Q,"$count",h=function(t){var r,n,$,a,i,o,l,u=this,c=h.$$p,_=c||s,p=s;return h.$$p=null,p=0,(r=null!=t)===s||null==r||r.$$is_boolean&&1!=r?(r=_["$nil?"]())===s||null==r||r.$$is_boolean&&1!=r||(_=(r=(a=u).$proc,r.$$p=(i=function(){i.$$s||this;return!0},i.$$s=u,i.$$arity=0,i),r).call(a)):_=(r=(n=u).$proc,r.$$p=($=function(){var e,r=($.$$s||this,arguments.length),n=r-0;0>n&&(n=0),e=new Array(n);for(var a=0;r>a;a++)e[a-0]=arguments[a];return ee.get("Opal").$destructure(e)["$=="](t)},$.$$s=u,$.$$arity=-1,$),r).call(n),(r=(o=u).$each,r.$$p=(l=function(){var t,r,n=(l.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var a=0;n>a;a++)t[a-0]=arguments[a];return(r=e.yieldX(_,t))===s||null==r||r.$$is_boolean&&1!=r?s:p++},l.$$s=u,l.$$arity=-1,l),r).call(o),p},h.$$arity=-1),e.defn(Q,"$cycle",g=function(n){var $,a,i,o=this,l=g.$$p,u=l||s;if(null==n&&(n=s),g.$$p=null,u===s)return($=(a=o).$enum_for,$.$$p=(i=function(){var e,$=i.$$s||this;return n["$=="](s)?(e=$["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:ee.get("Float").$$scope.get("INFINITY"):(n=ee.get("Opal")["$coerce_to!"](n,ee.get("Integer"),"to_int"),(e=t(n,0))===s||null==e||e.$$is_boolean&&1!=e?0:r($.$enumerator_size(),n))},i.$$s=o,i.$$arity=0,i),$).call(a,"cycle",n);if(($=n["$nil?"]())===s||null==$||$.$$is_boolean&&1!=$){if(n=ee.get("Opal")["$coerce_to!"](n,ee.get("Integer"),"to_int"),($=0>=n)!==s&&null!=$&&(!$.$$is_boolean||1==$))return s}else;var c,_,p,f,d=[];if(o.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(u,t);d.push(t)},o.$each(),void 0!==c)return c;if(0===d.length)return s;if(n===s)for(;;)for(_=0,p=d.length;p>_;_++)f=e.yield1(u,d[_]);else for(;n>1;){for(_=0,p=d.length;p>_;_++)f=e.yield1(u,d[_]);n--}},g.$$arity=-1),e.defn(Q,"$detect",m=function(t){try{var r,n,$,a=this,i=m.$$p,o=i||s;return m.$$p=null,o===s?a.$enum_for("detect",t):((r=(n=a).$each,r.$$p=($=function(){var t,r,n=($.$$s||this,s),a=arguments.length,i=a-0;0>i&&(i=0),t=new Array(i);for(var l=0;a>l;l++)t[l-0]=arguments[l];return n=ee.get("Opal").$destructure(t),(r=e.yield1(o,n))===s||null==r||r.$$is_boolean&&1!=r?s:void e.ret(n)},$.$$s=a,$.$$arity=-1,$),r).call(n),void 0!==t?"function"==typeof t?t():t:s)}catch(l){if(l===e.returner)return l.$v;throw l}},m.$$arity=-1),e.defn(Q,"$drop",y=function(e){var t,r=this;e=ee.get("Opal").$coerce_to(e,ee.get("Integer"),"to_int"),(t=0>e)===s||null==t||t.$$is_boolean&&1!=t||r.$raise(ee.get("ArgumentError"),"attempt to drop negative size");var n=[],$=0;return r.$each.$$p=function(){$>=e&&n.push(ee.get("Opal").$destructure(arguments)),$++},r.$each(),n},y.$$arity=1),e.defn(Q,"$drop_while",v=function(){var t,r=this,n=v.$$p,$=n||s;if(v.$$p=null,$===s)return r.$enum_for("drop_while");var a=[],i=!0;return r.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);if(i){var n=e.yield1($,r);((t=n)===s||null==t||t.$$is_boolean&&0==t)&&(i=!1,a.push(r))}else a.push(r)},r.$each(),a},v.$$arity=0),e.defn(Q,"$each_cons",b=function(t){var r,i,o,l=this,u=b.$$p,c=u||s;if(b.$$p=null,(r=1!=arguments.length)===s||null==r||r.$$is_boolean&&1!=r||l.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),t=ee.get("Opal").$try_convert(t,ee.get("Integer"),"to_int"),(r=0>=t)===s||null==r||r.$$is_boolean&&1!=r||l.$raise(ee.get("ArgumentError"),"invalid size"),c===s)return(r=(i=l).$enum_for,r.$$p=(o=function(){var e,r,i=o.$$s||this,l=s;return l=i.$enumerator_size(),(e=l["$nil?"]())===s||null==e||e.$$is_boolean&&1!=e?(e=(r=l["$=="](0))!==!1&&r!==s&&null!=r?r:n(l,t))===s||null==e||e.$$is_boolean&&1!=e?$(a(l,t),1):0:s},o.$$s=l,o.$$arity=0,o),r).call(i,"each_cons",t);var _=[],p=s;return l.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);_.push(r),_.length>t&&_.shift(),_.length==t&&e.yield1(c,_.slice(0,t))},l.$each(),p},b.$$arity=1),e.defn(Q,"$each_entry",x=function(){var t,r,n,$,a=this,i=x.$$p,o=i||s,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return x.$$p=null,o===s?(t=(r=a).$to_enum,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=a,n.$$arity=0,n),t).apply(r,["each_entry"].concat(e.to_a($))):(a.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);e.yield1(o,t)},a.$each.apply(a,$),a)},x.$$arity=-1),e.defn(Q,"$each_slice",w=function(t){var r,n,$,a=this,o=w.$$p,l=o||s;if(w.$$p=null,t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=0>=t)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(ee.get("ArgumentError"),"invalid slice size"),l===s)return(r=(n=a).$enum_for,r.$$p=($=function(){var e,r=$.$$s||this;return(e=r["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:i(r.$size(),t).$ceil()},$.$$s=a,$.$$arity=0,$),r).call(n,"each_slice",t);var u,c=[];return a.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments);c.push(r),c.length===t&&(e.yield1(l,c),c=[])},a.$each(),void 0!==u?u:(c.length>0&&e.yield1(l,c),s)},w.$$arity=1),e.defn(Q,"$each_with_index",k=function(){var t,r,n,$,a=this,i=k.$$p,o=i||s,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];if(k.$$p=null,o===s)return(t=(r=a).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=a,n.$$arity=0,n),t).apply(r,["each_with_index"].concat(e.to_a($)));var _,p=0;return a.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);o(e,p),p++},a.$each.apply(a,$),void 0!==_?_:a},k.$$arity=-1),e.defn(Q,"$each_with_object",S=function(e){var t,r,n,$=this,a=S.$$p,i=a||s;if(S.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"each_with_object",e);var o;return $.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);i(t,e)},$.$each(),void 0!==o?o:e},S.$$arity=1),e.defn(Q,"$entries",E=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];var a=[];return t.$each.$$p=function(){a.push(ee.get("Opal").$destructure(arguments))},t.$each.apply(t,e),a},E.$$arity=-1),e.alias(Q,"find","detect"),e.defn(Q,"$find_all",R=function(){var t,r,n,$=this,a=R.$$p,i=a||s;if(R.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"find_all");var o=[];return $.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),n=e.yield1(i,r);(t=n)===s||null==t||t.$$is_boolean&&1!=t||o.push(r)},$.$each(),o},R.$$arity=0),e.defn(Q,"$find_index",A=function(t){try{var r,n,$,a,i,o=this,l=A.$$p,u=l||s,c=s;return A.$$p=null,(r=void 0===t&&u===s)===s||null==r||r.$$is_boolean&&1!=r?(c=0,(r=null!=t)===s||null==r||r.$$is_boolean&&1!=r?(r=(a=o).$each,r.$$p=(i=function(){var t,r,n=(i.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var a=0;n>a;a++)t[a-0]=arguments[a];return(r=e.yieldX(u,e.to_a(t)))===s||null==r||r.$$is_boolean&&1!=r||e.ret(c),c+=1},i.$$s=o,i.$$arity=-1,i),r).call(a):(r=(n=o).$each,r.$$p=($=function(){var r,n=($.$$s||this,arguments.length),a=n-0;0>a&&(a=0),r=new Array(a);for(var i=0;n>i;i++)r[i-0]=arguments[i];return ee.get("Opal").$destructure(r)["$=="](t)&&e.ret(c),c+=1},$.$$s=o,$.$$arity=-1,$),r).call(n),s):o.$enum_for("find_index")}catch(_){if(_===e.returner)return _.$v;throw _}},A.$$arity=-1),e.defn(Q,"$first",O=function(t){try{var r,n,$,a,i,o=this,l=s,u=s;return(r=void 0===t)===s||null==r||r.$$is_boolean&&1!=r?(l=[],t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=0>t)===s||null==r||r.$$is_boolean&&1!=r||o.$raise(ee.get("ArgumentError"),"attempt to take negative size"),(r=0==t)===s||null==r||r.$$is_boolean&&1!=r?(u=0,(r=(a=o).$each,r.$$p=(i=function(){var r,n,$=(i.$$s||this,arguments.length),a=$-0;0>a&&(a=0),r=new Array(a);for(var o=0;$>o;o++)r[o-0]=arguments[o];return l.push(ee.get("Opal").$destructure(r)),(n=t<=++u)===s||null==n||n.$$is_boolean&&1!=n?s:void e.ret(l)},i.$$s=o,i.$$arity=-1,i),r).call(a),l):[]):(r=(n=o).$each,r.$$p=($=function(t){$.$$s||this;null==t&&(t=s),e.ret(t)},$.$$s=o,$.$$arity=1,$),r).call(n)}catch(c){if(c===e.returner)return c.$v;throw c}},O.$$arity=-1),e.alias(Q,"flat_map","collect_concat"),e.defn(Q,"$grep",M=function(t){var r,n=this,$=M.$$p,a=$||s;M.$$p=null;var i=[];return a!==s?n.$each.$$p=function(){var n=ee.get("Opal").$destructure(arguments),$=t["$==="](n);(r=$)===s||null==r||r.$$is_boolean&&1!=r||($=e.yield1(a,n),i.push($))}:n.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),n=t["$==="](e);(r=n)===s||null==r||r.$$is_boolean&&1!=r||i.push(e)},n.$each(),i},M.$$arity=1),e.defn(Q,"$group_by",T=function(){var t,r,n,$,a,i=this,o=T.$$p,l=o||s,u=s;if(T.$$p=null,l===s)return(t=(r=i).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=i,n.$$arity=0,n),t).call(r,"group_by");u=ee.get("Hash").$new();var c;return i.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),n=e.yield1(l,r);(t=n,$=u,(a=$["$[]"](t))!==!1&&a!==s&&null!=a?a:$["$[]="](t,[]))["$<<"](r)},i.$each(),void 0!==c?c:u},T.$$arity=0),e.defn(Q,"$include?",C=function(t){try{var r,n,$,a=this;return(r=(n=a).$each,r.$$p=($=function(){var r,n=($.$$s||this,arguments.length),a=n-0;0>a&&(a=0),r=new Array(a);for(var i=0;n>i;i++)r[i-0]=arguments[i];return ee.get("Opal").$destructure(r)["$=="](t)?void e.ret(!0):s},$.$$s=a,$.$$arity=-1,$),r).call(n),!1}catch(i){if(i===e.returner)return i.$v;throw i}},C.$$arity=1),e.defn(Q,"$inject",I=function(t,r){var n=this,$=I.$$p,a=$||s;I.$$p=null;var i=t;return a!==s&&void 0===r?n.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);return void 0===i?void(i=t):(t=e.yieldX(a,[i,t]),void(i=t))}:(void 0===r&&(ee.get("Symbol")["$==="](t)||n.$raise(ee.get("TypeError"),""+t.$inspect()+" is not a Symbol"),r=t,i=void 0),n.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);return void 0===i?void(i=e):void(i=i.$__send__(r,e))}),n.$each(),void 0==i?s:i},I.$$arity=-1),e.defn(Q,"$lazy",z=function(){var t,r,n,$=this;return(t=(r=ee.get("Enumerator").$$scope.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,a=(n.$$s||this,arguments.length),i=a-1;0>i&&(i=0),r=new Array(i);for(var o=1;a>o;o++)r[o-1]=arguments[o];return null==t&&(t=s),($=t).$yield.apply($,e.to_a(r))},n.$$s=$,n.$$arity=-2,n),t).call(r,$,$.$enumerator_size())},z.$$arity=0),e.defn(Q,"$enumerator_size",j=function(){var e,t=this;return(e=t["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:t.$size()},j.$$arity=0),e.alias(Q,"map","collect"),e.defn(Q,"$max",q=function(t){var r,n,$=this,a=q.$$p,i=a||s;if(q.$$p=null,void 0===t||t===s){var o,l;return $.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);return void 0===o?void(o=t):(l=i!==s?e.yieldX(i,[t,o]):t["$<=>"](o),l===s&&$.$raise(ee.get("ArgumentError"),"comparison failed"),void(l>0&&(o=t)))},$.$each(),void 0===o?s:o}return t=ee.get("Opal").$coerce_to(t,ee.get("Integer"),"to_int"),(r=(n=$).$sort,r.$$p=i.$to_proc(),r).call(n).$reverse().$first(t)},q.$$arity=-1),e.defn(Q,"$max_by",N=function(){var t,r,n,$=this,a=N.$$p,i=a||s;if(N.$$p=null,i===!1||i===s||null==i)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"max_by");var o,l;return $.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),r=e.yield1(i,t);return void 0===o?(o=t,void(l=r)):void(r["$<=>"](l)>0&&(o=t,l=r))},$.$each(),void 0===o?s:o},N.$$arity=0),e.alias(Q,"member?","include?"),e.defn(Q,"$min",P=function(){var e=this,t=P.$$p,r=t||s;P.$$p=null;var n;return r!==s?e.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments);if(void 0===n)return void(n=t);var $=r(t,n);$===s&&e.$raise(ee.get("ArgumentError"),"comparison failed"),0>$&&(n=t)}:e.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);return void 0===n?void(n=e):void(ee.get("Opal").$compare(e,n)<0&&(n=e))},e.$each(),void 0===n?s:n},P.$$arity=0),e.defn(Q,"$min_by",F=function(){var t,r,n,$=this,a=F.$$p,i=a||s;if(F.$$p=null,i===!1||i===s||null==i)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"min_by");var o,l;return $.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),r=e.yield1(i,t);return void 0===o?(o=t,void(l=r)):void(r["$<=>"](l)<0&&(o=t,l=r))},$.$each(),void 0===o?s:o},F.$$arity=0),e.defn(Q,"$minmax",D=function(){var e,t,r,n,$=this,a=D.$$p,i=a||s;D.$$p=null,(e=i)!==!1&&e!==s&&null!=e?e:i=(t=(r=$).$proc,t.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=s),null==t&&(t=s),e["$<=>"](t)},n.$$s=$,n.$$arity=2,n),t).call(r);var o=s,l=s,u=!0;return $.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments);if(u)o=l=e,u=!1;else{var t=i.$call(o,e);t===s?$.$raise(ee.get("ArgumentError"),"comparison failed"):t>0&&(o=e);var r=i.$call(l,e);r===s?$.$raise(ee.get("ArgumentError"),"comparison failed"):0>r&&(l=e)}},$.$each(),[o,l]},D.$$arity=0),e.defn(Q,"$minmax_by",B=function(){var e=this;B.$$p;return B.$$p=null,e.$raise(ee.get("NotImplementedError"))},B.$$arity=0),e.defn(Q,"$none?",H=function(){try{var t,r,n,$,a,i=this,o=H.$$p,l=o||s;return H.$$p=null,l!==s?(t=(r=i).$each,t.$$p=(n=function(){var t,r,$=(n.$$s||this,arguments.length),a=$-0;0>a&&(a=0),t=new Array(a);for(var i=0;$>i;i++)t[i-0]=arguments[i];return(r=e.yieldX(l,e.to_a(t)))===s||null==r||r.$$is_boolean&&1!=r?s:void e.ret(!1)},n.$$s=i,n.$$arity=-1,n),t).call(r):(t=($=i).$each,t.$$p=(a=function(){var t,r,n=(a.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var i=0;n>i;i++)t[i-0]=arguments[i];return(r=ee.get("Opal").$destructure(t))===s||null==r||r.$$is_boolean&&1!=r?s:void e.ret(!1)},a.$$s=i,a.$$arity=-1,a),t).call($),!0}catch(u){if(u===e.returner)return u.$v;throw u}},H.$$arity=0),e.defn(Q,"$one?",L=function(){try{var r,n,a,i,o,l=this,u=L.$$p,c=u||s,_=s;return L.$$p=null,_=0,c!==s?(r=(n=l).$each,r.$$p=(a=function(){var r,n,i=(a.$$s||this,arguments.length),o=i-0;0>o&&(o=0),r=new Array(o);for(var l=0;i>l;l++)r[l-0]=arguments[l];return(n=e.yieldX(c,e.to_a(r)))===s||null==n||n.$$is_boolean&&1!=n?s:(_=$(_,1),(n=t(_,1))===s||null==n||n.$$is_boolean&&1!=n?s:void e.ret(!1))},a.$$s=l,a.$$arity=-1,a),r).call(n):(r=(i=l).$each,r.$$p=(o=function(){var r,n,a=(o.$$s||this,arguments.length),i=a-0;0>i&&(i=0),r=new Array(i);for(var l=0;a>l;l++)r[l-0]=arguments[l];return(n=ee.get("Opal").$destructure(r))===s||null==n||n.$$is_boolean&&1!=n?s:(_=$(_,1),(n=t(_,1))===s||null==n||n.$$is_boolean&&1!=n?s:void e.ret(!1))},o.$$s=l,o.$$arity=-1,o),r).call(i),_["$=="](1)}catch(p){if(p===e.returner)return p.$v;throw p}},L.$$arity=0),e.defn(Q,"$partition",U=function(){var t,r,n,$=this,a=U.$$p,i=a||s;if(U.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"partition");var o=[],l=[];return $.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),n=e.yield1(i,r);(t=n)===s||null==t||t.$$is_boolean&&1!=t?l.push(r):o.push(r)},$.$each(),[o,l]},U.$$arity=0),e.alias(Q,"reduce","inject"),e.defn(Q,"$reject",G=function(){var t,r,n,$=this,a=G.$$p,i=a||s;if(G.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"reject");var o=[];return $.$each.$$p=function(){var r=ee.get("Opal").$destructure(arguments),n=e.yield1(i,r);((t=n)===s||null==t||t.$$is_boolean&&0==t)&&o.push(r)},$.$each(),o},G.$$arity=0),e.defn(Q,"$reverse_each",Y=function(){var t,r,n,$=this,a=Y.$$p,i=a||s;if(Y.$$p=null,i===s)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=$,n.$$arity=0,n),t).call(r,"reverse_each");var o=[];$.$each.$$p=function(){o.push(arguments)},$.$each();for(var l=o.length-1;l>=0;l--)e.yieldX(i,o[l]);return o},Y.$$arity=0),e.alias(Q,"select","find_all"),e.defn(Q,"$slice_before",V=function(t){var r,n,$,a=this,i=V.$$p,o=i||s;return V.$$p=null,(r=void 0===t&&o===s||arguments.length>1)===s||null==r||r.$$is_boolean&&1!=r||a.$raise(ee.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),(r=(n=ee.get("Enumerator")).$new,r.$$p=($=function(r){var n,a=$.$$s||this;null==r&&(r=s);var i=[];o!==s?void 0===t?a.$each.$$p=function(){var t=ee.get("Opal").$destructure(arguments),$=e.yield1(o,t);(n=$)!==s&&null!=n&&(!n.$$is_boolean||1==n)&&i.length>0&&(r["$<<"](i),i=[]),i.push(t)}:a.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),$=o(e,t.$dup());(n=$)!==s&&null!=n&&(!n.$$is_boolean||1==n)&&i.length>0&&(r["$<<"](i),i=[]),i.push(e)}:a.$each.$$p=function(){var e=ee.get("Opal").$destructure(arguments),$=t["$==="](e);(n=$)!==s&&null!=n&&(!n.$$is_boolean||1==n)&&i.length>0&&(r["$<<"](i),i=[]),i.push(e)},a.$each(),i.length>0&&r["$<<"](i)},$.$$s=a,$.$$arity=1,$),r).call(n)},V.$$arity=-1),e.defn(Q,"$sort",X=function(){var e,t,r,n,$=this,a=X.$$p,i=a||s,o=s;return X.$$p=null,o=$.$to_a(),i!==s||(i=(e=(t=$).$lambda,e.$$p=(r=function(e,t){r.$$s||this;return null==e&&(e=s),null==t&&(t=s),e["$<=>"](t)},r.$$s=$,r.$$arity=2,r),e).call(t)),(e=(n=o).$sort,e.$$p=i.$to_proc(),e).call(n)},X.$$arity=0),e.defn(Q,"$sort_by",K=function(){var t,r,n,$,a,i,o,l,u,c=this,_=K.$$p,p=_||s,f=s;return K.$$p=null,p===s?(t=(r=c).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$enumerator_size()},n.$$s=c,n.$$arity=0,n),t).call(r,"sort_by"):(f=(t=($=c).$map,t.$$p=(a=function(){var t,r=(a.$$s||this,s);return r=ee.get("Opal").$destructure(arguments),t=e.yield1(p,r),[t,r]},a.$$s=c,a.$$arity=0,a),t).call($),(t=(i=f)["$sort!"],t.$$p=(o=function(e,t){o.$$s||this;return null==e&&(e=s),null==t&&(t=s),e[0]["$<=>"](t[0])},o.$$s=c,o.$$arity=2,o),t).call(i),(t=(l=f)["$map!"],t.$$p=(u=function(e){u.$$s||this;return null==e&&(e=s),e[1]},u.$$s=c,u.$$arity=1,u),t).call(l))},K.$$arity=0),e.defn(Q,"$take",W=function(e){var t=this;return t.$first(e)},W.$$arity=1),e.defn(Q,"$take_while",Z=function(){try{var t,r,n,$=this,a=Z.$$p,i=a||s,o=s;return Z.$$p=null,i===!1||i===s||null==i?$.$enum_for("take_while"):(o=[],(t=(r=$).$each,t.$$p=(n=function(){var t,r,$=(n.$$s||this,s),a=arguments.length,l=a-0;0>l&&(l=0),t=new Array(l);for(var u=0;a>u;u++)t[u-0]=arguments[u];return $=ee.get("Opal").$destructure(t),((r=e.yield1(i,$))===s||null==r||r.$$is_boolean&&1!=r)&&e.ret(o),o.push($)},n.$$s=$,n.$$arity=-1,n),t).call(r))}catch(l){if(l===e.returner)return l.$v;throw l}},Z.$$arity=0),e.alias(Q,"to_a","entries"),e.defn(Q,"$zip",J=function(){var t,r,n=this,$=(J.$$p,arguments.length),a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return J.$$p=null,(t=n.$to_a()).$zip.apply(t,e.to_a(r))},J.$$arity=-1)}(o.base)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var n=e.top,$=e,a=e.nil,i=e.breaker,o=e.slice,s=e.klass;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,$super){function $(){}var l,u,c,_,p,f,d=$=s(n,$super,"Enumerator",$),h=d.$$proto,g=d.$$scope;return h.size=h.args=h.object=h.method=a,d.$include(g.get("Enumerable")),h.$$is_enumerator=!0,e.defs(d,"$for",l=function(e,t){var r,n=this,$=l.$$p,i=$||a;null==t&&(t="each");var o=arguments.length,s=o-2;0>s&&(s=0),r=new Array(s);for(var u=2;o>u;u++)r[u-2]=arguments[u];l.$$p=null;var c=n.$allocate();return c.object=e,c.size=i,c.method=t,c.args=r,c},l.$$arity=-2),e.defn(d,"$initialize",u=function(){var e,t,r=this,n=u.$$p,$=n||a;return u.$$p=null,$!==!1&&$!==a&&null!=$?(r.object=(e=(t=g.get("Generator")).$new,e.$$p=$.$to_proc(),e).call(t),r.method="each",r.args=[],r.size=arguments[0]||a,(e=r.size)===a||null==e||e.$$is_boolean&&1!=e?a:r.size=g.get("Opal").$coerce_to(r.size,g.get("Integer"),"to_int")):(r.object=arguments[0],r.method=arguments[1]||"each",r.args=o.call(arguments,2),r.size=a)},u.$$arity=-1),e.defn(d,"$each",c=function(){var r,n,$,i,o=this,s=c.$$p,l=s||a,u=arguments.length,_=u-0;0>_&&(_=0),i=new Array(_);for(var p=0;u>p;p++)i[p-0]=arguments[p];return c.$$p=null,n=l["$nil?"](),(r=n!==!1&&n!==a&&null!=n?i["$empty?"]():n)===a||null==r||r.$$is_boolean&&1!=r?(i=t(o.args,i),(r=l["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?(n=($=o.object).$__send__,n.$$p=l.$to_proc(),n).apply($,[o.method].concat(e.to_a(i))):(r=o.$class()).$new.apply(r,[o.object,o.method].concat(e.to_a(i)))):o;
},c.$$arity=-1),e.defn(d,"$size",_=function(){var t,r=this;return(t=g.get("Proc")["$==="](r.size))===a||null==t||t.$$is_boolean&&1!=t?r.size:(t=r.size).$call.apply(t,e.to_a(r.args))},_.$$arity=0),e.defn(d,"$with_index",p=function(e){var t,r,n,$=this,i=p.$$p,o=i||a;if(null==e&&(e=0),p.$$p=null,e=e!==!1&&e!==a&&null!=e?g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int"):0,o===!1||o===a||null==o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"with_index",e);var s=e;return $.$each.$$p=function(){var e=g.get("Opal").$destructure(arguments),t=o(e,s);return s++,t},$.$each()},p.$$arity=-1),e.alias(d,"with_object","each_with_object"),e.defn(d,"$inspect",f=function(){var e,r=this,n=a;return n="#<"+r.$class()+": "+r.object.$inspect()+":"+r.method,((e=r.args["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e)&&(n=t(n,"("+r.args.$inspect()["$[]"](g.get("Range").$new(1,-2))+")")),t(n,">")},f.$$arity=0),function(t,$super){function r(){}var n,$,o=r=s(t,$super,"Generator",r),l=o.$$proto,u=o.$$scope;return l.block=a,o.$include(u.get("Enumerable")),e.defn(o,"$initialize",n=function(){var e=this,t=n.$$p,r=t||a;return n.$$p=null,r!==!1&&r!==a&&null!=r||e.$raise(u.get("LocalJumpError"),"no block given"),e.block=r},n.$$arity=0),e.defn(o,"$each",$=function(){var t,r,n,o=this,s=$.$$p,l=s||a,c=a,_=arguments.length,p=_-0;0>p&&(p=0),n=new Array(p);for(var f=0;_>f;f++)n[f-0]=arguments[f];$.$$p=null,c=(t=(r=u.get("Yielder")).$new,t.$$p=l.$to_proc(),t).call(r);try{n.unshift(c),e.yieldX(o.block,n)}catch(d){if(d===i)return i.$v;throw d}return o},$.$$arity=-1),a&&"each"}(g.base,null),function(t,$super){function r(){}var n,$,o,l=r=s(t,$super,"Yielder",r),u=l.$$proto;l.$$scope;return u.block=a,e.defn(l,"$initialize",n=function(){var e=this,t=n.$$p,r=t||a;return n.$$p=null,e.block=r},n.$$arity=0),e.defn(l,"$yield",$=function(){var t,r=this,n=arguments.length,$=n-0;0>$&&($=0),t=new Array($);for(var a=0;n>a;a++)t[a-0]=arguments[a];var o=e.yieldX(r.block,t);if(o===i)throw i;return o},$.$$arity=-1),e.defn(l,"$<<",o=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$yield.apply(t,e.to_a(r)),n},o.$$arity=-1),a&&"<<"}(g.base,null),function(n,$super){function $(){}var i,o,l,u,c,_,p,f,d,h,g,m,y,v=$=s(n,$super,"Lazy",$),b=v.$$proto,x=v.$$scope;return b.enumerator=a,function(e,$super){function t(){}var r=t=s(e,$super,"StopLazyError",t);r.$$proto,r.$$scope;return a}(x.base,x.get("Exception")),e.defn(v,"$initialize",i=function(t,r){var n,$,o,s=this,l=i.$$p,u=l||a;return null==r&&(r=a),i.$$p=null,u!==a||s.$raise(x.get("ArgumentError"),"tried to call lazy new without a block"),s.enumerator=t,($=s,n=e.find_super_dispatcher(s,"initialize",i,!1),n.$$p=(o=function(r){var n,$,i,s,l=o.$$s||this,c=arguments.length,_=c-1;0>_&&(_=0),n=new Array(_);for(var p=1;c>p;p++)n[p-1]=arguments[p];null==r&&(r=a);try{return($=(i=t).$each,$.$$p=(s=function(){var t,n=(s.$$s||this,arguments.length),$=n-0;0>$&&($=0),t=new Array($);for(var a=0;n>a;a++)t[a-0]=arguments[a];t.unshift(r),e.yieldX(u,t)},s.$$s=l,s.$$arity=-1,s),$).apply(i,e.to_a(n))}catch(f){if(!e.rescue(f,[x.get("Exception")]))throw f;try{return a}finally{e.pop_exception()}}},o.$$s=s,o.$$arity=-2,o),n).call($,r)},i.$$arity=-2),e.alias(v,"force","to_a"),e.defn(v,"$lazy",o=function(){var e=this;return e},o.$$arity=0),e.defn(v,"$collect",l=function(){var t,r,n,$=this,i=l.$$p,o=i||a;return l.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy map without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$=(n.$$s||this,arguments.length),i=$-1;0>i&&(i=0),r=new Array(i);for(var s=1;$>s;s++)r[s-1]=arguments[s];null==t&&(t=a);var l=e.yieldX(o,r);t.$yield(l)},n.$$s=$,n.$$arity=-2,n),t).call(r,$,$.$enumerator_size())},l.$$arity=0),e.defn(v,"$collect_concat",u=function(){var t,r,n,$=this,i=u.$$p,o=i||a;return u.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy map without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,i,s,l,u,c=n.$$s||this,_=arguments.length,p=_-1;0>p&&(p=0),r=new Array(p);for(var f=1;_>f;f++)r[f-1]=arguments[f];null==t&&(t=a);var d=e.yieldX(o,r);if(d["$respond_to?"]("force")&&d["$respond_to?"]("each"))($=(i=d).$each,$.$$p=(s=function(e){s.$$s||this;return null==e&&(e=a),t.$yield(e)},s.$$s=c,s.$$arity=1,s),$).call(i);else{var h=x.get("Opal").$try_convert(d,x.get("Array"),"to_ary");h===a?t.$yield(d):($=(l=d).$each,$.$$p=(u=function(e){u.$$s||this;return null==e&&(e=a),t.$yield(e)},u.$$s=c,u.$$arity=1,u),$).call(l)}},n.$$s=$,n.$$arity=-2,n),t).call(r,$,a)},u.$$arity=0),e.defn(v,"$drop",c=function(n){var $,i,o,s=this,l=a,u=a,c=a;return n=x.get("Opal").$coerce_to(n,x.get("Integer"),"to_int"),($=r(n,0))===a||null==$||$.$$is_boolean&&1!=$||s.$raise(x.get("ArgumentError"),"attempt to drop negative size"),l=s.$enumerator_size(),u=function(){return($=x.get("Integer")["$==="](l))===a||null==$||$.$$is_boolean&&1!=$?l:($=r(n,l))===a||null==$||$.$$is_boolean&&1!=$?l:n}(),c=0,($=(i=x.get("Lazy")).$new,$.$$p=(o=function($){var i,s,l=(o.$$s||this,arguments.length),u=l-1;0>u&&(u=0),i=new Array(u);for(var _=1;l>_;_++)i[_-1]=arguments[_];return null==$&&($=a),(s=r(c,n))===a||null==s||s.$$is_boolean&&1!=s?(s=$).$yield.apply(s,e.to_a(i)):c=t(c,1)},o.$$s=s,o.$$arity=-2,o),$).call(i,s,u)},c.$$arity=1),e.defn(v,"$drop_while",_=function(){var t,r,n,$=this,i=_.$$p,o=i||a,s=a;return _.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy drop_while without a block"),s=!0,(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,i,l=(n.$$s||this,arguments.length),u=l-1;0>u&&(u=0),r=new Array(u);for(var c=1;l>c;c++)r[c-1]=arguments[c];if(null==t&&(t=a),s===!1||s===a||null==s)return(i=t).$yield.apply(i,e.to_a(r));var _=e.yieldX(o,r);(($=_)===a||null==$||$.$$is_boolean&&0==$)&&(s=!1,($=t).$yield.apply($,e.to_a(r)))},n.$$s=$,n.$$arity=-2,n),t).call(r,$,a)},_.$$arity=0),e.defn(v,"$enum_for",p=function(t){var r,n,$,i=this,o=p.$$p,s=o||a;null==t&&(t="each");var l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return p.$$p=null,(r=(n=i.$class()).$for,r.$$p=s.$to_proc(),r).apply(n,[i,t].concat(e.to_a($)))},p.$$arity=-1),e.defn(v,"$find_all",f=function(){var t,r,n,$=this,i=f.$$p,o=i||a;return f.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy select without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,i=(n.$$s||this,arguments.length),s=i-1;0>s&&(s=0),r=new Array(s);for(var l=1;i>l;l++)r[l-1]=arguments[l];null==t&&(t=a);var u=e.yieldX(o,r);($=u)===a||null==$||$.$$is_boolean&&1!=$||($=t).$yield.apply($,e.to_a(r))},n.$$s=$,n.$$arity=-2,n),t).call(r,$,a)},f.$$arity=0),e.alias(v,"flat_map","collect_concat"),e.defn(v,"$grep",d=function(t){var r,n,$,i,o,s=this,l=d.$$p,u=l||a;return d.$$p=null,u!==!1&&u!==a&&null!=u?(r=(n=x.get("Lazy")).$new,r.$$p=($=function(r){var n,i,o=($.$$s||this,arguments.length),s=o-1;0>s&&(s=0),n=new Array(s);for(var l=1;o>l;l++)n[l-1]=arguments[l];null==r&&(r=a);var c=x.get("Opal").$destructure(n),_=t["$==="](c);(i=_)===a||null==i||i.$$is_boolean&&1!=i||(_=e.yield1(u,c),r.$yield(e.yield1(u,c)))},$.$$s=s,$.$$arity=-2,$),r).call(n,s,a):(r=(i=x.get("Lazy")).$new,r.$$p=(o=function(e){var r,n,$=(o.$$s||this,arguments.length),i=$-1;0>i&&(i=0),r=new Array(i);for(var s=1;$>s;s++)r[s-1]=arguments[s];null==e&&(e=a);var l=x.get("Opal").$destructure(r),u=t["$==="](l);(n=u)===a||null==n||n.$$is_boolean&&1!=n||e.$yield(l)},o.$$s=s,o.$$arity=-2,o),r).call(i,s,a)},d.$$arity=1),e.alias(v,"map","collect"),e.alias(v,"select","find_all"),e.defn(v,"$reject",h=function(){var t,r,n,$=this,i=h.$$p,o=i||a;return h.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy reject without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,i=(n.$$s||this,arguments.length),s=i-1;0>s&&(s=0),r=new Array(s);for(var l=1;i>l;l++)r[l-1]=arguments[l];null==t&&(t=a);var u=e.yieldX(o,r);(($=u)===a||null==$||$.$$is_boolean&&0==$)&&($=t).$yield.apply($,e.to_a(r))},n.$$s=$,n.$$arity=-2,n),t).call(r,$,a)},h.$$arity=0),e.defn(v,"$take",g=function(n){var $,i,o,s=this,l=a,u=a,c=a;return n=x.get("Opal").$coerce_to(n,x.get("Integer"),"to_int"),($=r(n,0))===a||null==$||$.$$is_boolean&&1!=$||s.$raise(x.get("ArgumentError"),"attempt to take negative size"),l=s.$enumerator_size(),u=function(){return($=x.get("Integer")["$==="](l))===a||null==$||$.$$is_boolean&&1!=$?l:($=r(n,l))===a||null==$||$.$$is_boolean&&1!=$?l:n}(),c=0,($=(i=x.get("Lazy")).$new,$.$$p=(o=function($){var i,s,l=o.$$s||this,u=arguments.length,_=u-1;0>_&&(_=0),i=new Array(_);for(var p=1;u>p;p++)i[p-1]=arguments[p];return null==$&&($=a),(s=r(c,n))===a||null==s||s.$$is_boolean&&1!=s?l.$raise(x.get("StopLazyError")):((s=$).$yield.apply(s,e.to_a(i)),c=t(c,1))},o.$$s=s,o.$$arity=-2,o),$).call(i,s,u)},g.$$arity=1),e.defn(v,"$take_while",m=function(){var t,r,n,$=this,i=m.$$p,o=i||a;return m.$$p=null,o!==!1&&o!==a&&null!=o||$.$raise(x.get("ArgumentError"),"tried to call lazy take_while without a block"),(t=(r=x.get("Lazy")).$new,t.$$p=(n=function(t){var r,$,i=n.$$s||this,s=arguments.length,l=s-1;0>l&&(l=0),r=new Array(l);for(var u=1;s>u;u++)r[u-1]=arguments[u];null==t&&(t=a);var c=e.yieldX(o,r);($=c)===a||null==$||$.$$is_boolean&&1!=$?i.$raise(x.get("StopLazyError")):($=t).$yield.apply($,e.to_a(r))},n.$$s=$,n.$$arity=-2,n),t).call(r,$,a)},m.$$arity=0),e.alias(v,"to_enum","enum_for"),e.defn(v,"$inspect",y=function(){var e=this;return"#<"+e.$class()+": "+e.enumerator.$inspect()+">"},y.$$arity=0),a&&"inspect"}(g.base,d)}($.base,null)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$coerce_to!","$-@","$**","$-","$*","$div","$<","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$round","$to_i","$truncate","$>"]),i.$require("corelib/comparable"),function(i,$super){function o(){}var u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y=o=l(i,$super,"Numeric",o),V=(Y.$$proto,Y.$$scope);return Y.$include(V.get("Comparable")),e.defn(Y,"$coerce",u=function(e){var t,r=this;return(t=e["$instance_of?"](r.$class()))===s||null==t||t.$$is_boolean&&1!=t?[r.$Float(e),r.$Float(r)]:[e,r]},u.$$arity=1),e.defn(Y,"$__coerced__",c=function(t,r){var n,$,a=this,i=s,o=s,l=s;try{$=r.$coerce(a),n=e.to_ary($),i=null==n[0]?s:n[0],o=null==n[1]?s:n[1],$}catch(u){if(!e.rescue(u,[V.get("StandardError")]))throw u;try{l=t,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?a.$raise(V.get("TypeError"),""+r.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&a.$raise(V.get("ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed")}finally{e.pop_exception()}}return i.$__send__(t,o)},c.$$arity=2),e.defn(Y,"$<=>",_=function(e){var t,r=this;return(t=r["$equal?"](e))===s||null==t||t.$$is_boolean&&1!=t?s:0},_.$$arity=1),e.defn(Y,"$[]",p=function(e){var r=this,n=s,$=s;return e=V.get("Opal")["$coerce_to!"](e,V.get("Integer"),"to_int"),n=2["$**"](30)["$-@"](),$=t(2["$**"](30),1),n>e||e>$?0:(r>>e)%2},p.$$arity=1),e.defn(Y,"$+@",f=function(){var e=this;return e},f.$$arity=0),e.defn(Y,"$-@",d=function(){var e=this;return t(0,e)},d.$$arity=0),e.defn(Y,"$%",h=function(e){var n=this;return t(n,r(e,n.$div(e)))},h.$$arity=1),e.defn(Y,"$abs",g=function(){var e=this;return n(e,0)?e["$-@"]():e},g.$$arity=0),e.defn(Y,"$abs2",m=function(){var e=this;return r(e,e)},m.$$arity=0),e.defn(Y,"$angle",y=function(){var e=this;return n(e,0)?V.get("Math").$$scope.get("PI"):0},y.$$arity=0),e.alias(Y,"arg","angle"),e.defn(Y,"$ceil",v=function(){var e=this;return e.$to_f().$ceil()},v.$$arity=0),e.defn(Y,"$conj",b=function(){var e=this;return e},b.$$arity=0),e.alias(Y,"conjugate","conj"),e.defn(Y,"$denominator",x=function(){var e=this;return e.$to_r().$denominator()},x.$$arity=0),e.defn(Y,"$div",w=function(e){var t=this;return e["$=="](0)&&t.$raise(V.get("ZeroDivisionError"),"divided by o"),$(t,e).$floor()},w.$$arity=1),e.defn(Y,"$divmod",k=function(e){var t=this;return[t.$div(e),t["$%"](e)]},k.$$arity=1),e.defn(Y,"$fdiv",S=function(e){var t=this;return $(t.$to_f(),e)},S.$$arity=1),e.defn(Y,"$floor",E=function(){var e=this;return e.$to_f().$floor()},E.$$arity=0),e.defn(Y,"$i",R=function(){var e=this;return e.$Complex(0,e)},R.$$arity=0),e.defn(Y,"$imag",A=function(){return 0},A.$$arity=0),e.alias(Y,"imaginary","imag"),e.defn(Y,"$integer?",O=function(){return!1},O.$$arity=0),e.alias(Y,"magnitude","abs"),e.alias(Y,"modulo","%"),e.defn(Y,"$nonzero?",M=function(){var e,t=this;return(e=t["$zero?"]())===s||null==e||e.$$is_boolean&&1!=e?t:s},M.$$arity=0),e.defn(Y,"$numerator",T=function(){var e=this;return e.$to_r().$numerator()},T.$$arity=0),e.alias(Y,"phase","arg"),e.defn(Y,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.defn(Y,"$quo",I=function(e){var t=this;return $(V.get("Opal")["$coerce_to!"](t,V.get("Rational"),"to_r"),e)},I.$$arity=1),e.defn(Y,"$real",z=function(){var e=this;return e},z.$$arity=0),e.defn(Y,"$real?",j=function(){return!0},j.$$arity=0),e.defn(Y,"$rect",q=function(){var e=this;return[e,0]},q.$$arity=0),e.alias(Y,"rectangular","rect"),e.defn(Y,"$round",N=function(e){var t=this;return t.$to_f().$round(e)},N.$$arity=-1),e.defn(Y,"$to_c",P=function(){var e=this;return e.$Complex(e,0)},P.$$arity=0),e.defn(Y,"$to_int",F=function(){var e=this;return e.$to_i()},F.$$arity=0),e.defn(Y,"$truncate",D=function(){var e=this;return e.$to_f().$truncate()},D.$$arity=0),e.defn(Y,"$zero?",B=function(){var e=this;return e["$=="](0)},B.$$arity=0),e.defn(Y,"$positive?",H=function(){var e=this;return a(e,0)},H.$$arity=0),e.defn(Y,"$negative?",L=function(){var e=this;return n(e,0)},L.$$arity=0),e.defn(Y,"$dup",U=function(){var e=this;return e.$raise(V.get("TypeError"),"can't dup "+e.$class())},U.$$arity=0),e.defn(Y,"$clone",G=function(){var e=this;return e.$raise(V.get("TypeError"),"can't clone "+e.$class())},G.$$arity=0),s&&"clone"}(o.base,null)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var a=e.top,i=e,o=e.nil,s=(e.breaker,e.slice,e.klass),l=e.hash2,u=e.gvars;return e.add_stubs(["$require","$include","$to_a","$raise","$===","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$join","$to_str","$class","$clone","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$[]","$to_s","$new","$!","$>=","$**","$delete_if","$to_proc","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),a.$require("corelib/enumerable"),a.$require("corelib/numeric"),function(a,$super){function i(){}function c(t,r){return r.$$name===e.Array?t:r.$allocate().$replace(t.$to_a())}function _(e,t){return e===t||0===t?1:t>0&&e>t?_(e-1,t-1)+_(e-1,t):0}function p(e,t){for(var r=t>=0?1:0;t;)r*=e,e--,t--;return r}var f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue,ce,_e,pe,fe,de,he,ge,me,ye,ve,be,xe,we,ke,Se,Ee,Re,Ae,Oe,Me,Te,Ce,Ie,ze,je,qe,Ne,Pe,Fe,De,Be,He,Le,Ue,Ge,Ye,Ve=i=s(a,$super,"Array",i),Xe=Ve.$$proto,Ke=Ve.$$scope;return Xe.length=o,Ve.$include(Ke.get("Enumerable")),Xe.$$is_array=!0,e.defs(Ve,"$[]",f=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return c(e,t)},f.$$arity=-1),e.defn(Ve,"$initialize",d=function(e,t){var r,n=this,$=d.$$p,a=$||o;if(null==e&&(e=o),null==t&&(t=o),d.$$p=null,(r=arguments.length>2)===o||null==r||r.$$is_boolean&&1!=r||n.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return n.splice(0,n.length),n;if((r=1===arguments.length)!==o&&null!=r&&(!r.$$is_boolean||1==r)){if(!((r=Ke.get("Array")["$==="](e))===o||null==r||r.$$is_boolean&&1!=r))return n.$replace(e.$to_a()),n;if((r=e["$respond_to?"]("to_ary"))!==o&&null!=r&&(!r.$$is_boolean||1==r))return n.$replace(e.$to_ary()),n}e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),(r=0>e)===o||null==r||r.$$is_boolean&&1!=r||n.$raise(Ke.get("ArgumentError"),"negative array size"),n.splice(0,n.length);var i,s;if(a===o)for(i=0;e>i;i++)n.push(t);else for(i=0,s;e>i;i++)s=a(i),n[i]=s;return n},d.$$arity=-1),e.defs(Ve,"$try_convert",h=function(e){return Ke.get("Opal")["$coerce_to?"](e,Ke.get("Array"),"to_ary")},h.$$arity=1),e.defn(Ve,"$&",g=function(t){var r,n=this;t=(r=Ke.get("Array")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a();var $,a,i,s=[],u=l([],{});for($=0,a=t.length;a>$;$++)e.hash_put(u,t[$],!0);for($=0,a=n.length;a>$;$++)i=n[$],void 0!==e.hash_delete(u,i)&&s.push(i);return s},g.$$arity=1),e.defn(Ve,"$|",m=function(t){var r,n=this;t=(r=Ke.get("Array")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a();var $,a,i=l([],{});for($=0,a=n.length;a>$;$++)e.hash_put(i,n[$],!0);for($=0,a=t.length;a>$;$++)e.hash_put(i,t[$],!0);return i.$keys()},m.$$arity=1),e.defn(Ve,"$*",y=function(e){var t,r=this;if((t=e["$respond_to?"]("to_str"))!==o&&null!=t&&(!t.$$is_boolean||1==t))return r.$join(e.$to_str());e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),(t=0>e)===o||null==t||t.$$is_boolean&&1!=t||r.$raise(Ke.get("ArgumentError"),"negative argument");for(var n=[],$=r.$to_a(),a=0;e>a;a++)n=n.concat($);return c(n,r.$class())},y.$$arity=1),e.defn(Ve,"$+",v=function(e){var t,r=this;return e=(t=Ke.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ke.get("Opal").$coerce_to(e,Ke.get("Array"),"to_ary").$to_a():e.$to_a(),r.concat(e)},v.$$arity=1),e.defn(Ve,"$-",b=function(t){var r,n=this;if(t=(r=Ke.get("Array")["$==="](t))===o||null==r||r.$$is_boolean&&1!=r?Ke.get("Opal").$coerce_to(t,Ke.get("Array"),"to_ary").$to_a():t.$to_a(),(r=0===n.length)!==o&&null!=r&&(!r.$$is_boolean||1==r))return[];if((r=0===t.length)!==o&&null!=r&&(!r.$$is_boolean||1==r))return n.$clone().$to_a();var $,a,i,s=[],u=l([],{});for($=0,a=t.length;a>$;$++)e.hash_put(u,t[$],!0);for($=0,a=n.length;a>$;$++)i=n[$],void 0===e.hash_get(u,i)&&s.push(i);return s},b.$$arity=1),e.defn(Ve,"$<<",x=function(e){var t=this;return t.push(e),t},x.$$arity=1),e.defn(Ve,"$<=>",w=function(e){var t,r=this;if((t=Ke.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t){if((t=e["$respond_to?"]("to_ary"))===o||null==t||t.$$is_boolean&&1!=t)return o;e=e.$to_ary().$to_a()}else e=e.$to_a();if(r.$hash()===e.$hash())return 0;for(var n=Math.min(r.length,e.length),$=0;n>$;$++){var a=r[$]["$<=>"](e[$]);if(0!==a)return a}return r.length["$<=>"](e.length)},w.$$arity=1),e.defn(Ve,"$==",k=function(e){function t(e,r){var $,a,i,o;if(e===r)return!0;if(!r.$$is_array)return Ke.get("Opal")["$respond_to?"](r,"to_ary")?r["$=="](e):!1;if(e.constructor!==Array&&(e=e.$to_a()),r.constructor!==Array&&(r=r.$to_a()),e.length!==r.length)return!1;for(n[e.$object_id()]=!0,$=0,a=e.length;a>$;$++)if(i=e[$],o=r[$],i.$$is_array){if(o.$$is_array&&o.length!==i.length)return!1;if(!n.hasOwnProperty(i.$object_id())&&!t(i,o))return!1}else if(!i["$=="](o))return!1;return!0}var r=this,n={};return t(r,e)},k.$$arity=1),e.defn(Ve,"$[]",S=function(e,t){var r,n,$,a,i=this,s=i.length;if(e.$$is_range){if(r=e.exclude,n=Ke.get("Opal").$coerce_to(e.begin,Ke.get("Integer"),"to_int"),$=Ke.get("Opal").$coerce_to(e.end,Ke.get("Integer"),"to_int"),0>n&&(n+=s,0>n))return o;if(n>s)return o;if(0>$&&($+=s,0>$))return[];r||($+=1),a=i.slice(n,$)}else{if(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&(e+=s,0>e))return o;if(void 0===t)return e>=s||0>e?o:i[e];if(t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),0>t||e>s||0>e)return o;a=i.slice(e,e+t)}return c(a,i.$class())},S.$$arity=-2),e.defn(Ve,"$[]=",E=function(e,t,r){var n,$,a=this,i=o,s=o,l=a.length;if((n=Ke.get("Range")["$==="](e))===o||null==n||n.$$is_boolean&&1!=n){(n=void 0===r)===o||null==n||n.$$is_boolean&&1!=n?(s=t,t=r,i=(n=Ke.get("Array")["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?(n=t["$respond_to?"]("to_ary"))===o||null==n||n.$$is_boolean&&1!=n?[t]:t.$to_ary().$to_a():t.$to_a()):s=1;var u;if(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),s=Ke.get("Opal").$coerce_to(s,Ke.get("Integer"),"to_int"),0>e&&(u=e,e+=l,0>e&&a.$raise(Ke.get("IndexError"),"index "+u+" too small for array; minimum "+-a.length)),0>s&&a.$raise(Ke.get("IndexError"),"negative length ("+s+")"),e>l)for($=l;e>$;$++)a[$]=o;return void 0===r?a[e]=t:a.splice.apply(a,[e,s].concat(i)),t}i=(n=Ke.get("Array")["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?(n=t["$respond_to?"]("to_ary"))===o||null==n||n.$$is_boolean&&1!=n?[t]:t.$to_ary().$to_a():t.$to_a();var c=e.exclude,_=Ke.get("Opal").$coerce_to(e.begin,Ke.get("Integer"),"to_int"),p=Ke.get("Opal").$coerce_to(e.end,Ke.get("Integer"),"to_int");if(0>_&&(_+=l,0>_&&a.$raise(Ke.get("RangeError"),""+e.$inspect()+" out of range")),0>p&&(p+=l),c||(p+=1),_>l)for($=l;_>$;$++)a[$]=o;return 0>p?a.splice.apply(a,[_,0].concat(i)):a.splice.apply(a,[_,p-_].concat(i)),t},E.$$arity=-3),e.defn(Ve,"$assoc",R=function(e){for(var t,r=this,n=0,$=r.length;$>n;n++)if(t=r[n],t.length&&t[0]["$=="](e))return t;return o},R.$$arity=1),e.defn(Ve,"$at",A=function(e){var t=this;return e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&(e+=t.length),0>e||e>=t.length?o:t[e]},A.$$arity=1),e.defn(Ve,"$bsearch",O=function(){var e=this,t=O.$$p,r=t||o;if(O.$$p=null,r===o)return e.$enum_for("bsearch");for(var n,$,a,i=0,s=e.length,l=!1,u=o;s>i;){if(n=i+Math.floor((s-i)/2),$=e[n],a=r($),a===!0)u=$,l=!0;else if(a===!1||a===o)l=!1;else if(a.$$is_number){if(0===a)return $;l=0>a}else e.$raise(Ke.get("TypeError"),"wrong argument type "+a.$class()+" (must be numeric, true, false or nil)");l?s=n:i=n+1}return u},O.$$arity=0),e.defn(Ve,"$cycle",M=function(n){var $,a,i,s,l=this,u=M.$$p,c=u||o;if(null==n&&(n=o),M.$$p=null,c===o)return($=(a=l).$enum_for,$.$$p=(i=function(){var e,$=i.$$s||this;return n["$=="](o)?Ke.get("Float").$$scope.get("INFINITY"):(n=Ke.get("Opal")["$coerce_to!"](n,Ke.get("Integer"),"to_int"),(e=t(n,0))===o||null==e||e.$$is_boolean&&1!=e?0:r($.$enumerator_size(),n))},i.$$s=l,i.$$arity=0,i),$).call(a,"cycle",n);if(($=(s=l["$empty?"]())!==!1&&s!==o&&null!=s?s:n["$=="](0))!==o&&null!=$&&(!$.$$is_boolean||1==$))return o;var _,p,f;if(n===o)for(;;)for(_=0,p=l.length;p>_;_++)f=e.yield1(c,l[_]);else{if(n=Ke.get("Opal")["$coerce_to!"](n,Ke.get("Integer"),"to_int"),0>=n)return l;for(;n>0;){for(_=0,p=l.length;p>_;_++)f=e.yield1(c,l[_]);n--}}return l},M.$$arity=-1),e.defn(Ve,"$clear",T=function(){var e=this;return e.splice(0,e.length),e},T.$$arity=0),e.defn(Ve,"$count",C=function(t){var r,n,$=this,a=C.$$p,i=a||o,s=o,l=o;for(null==t&&(t=o),C.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=(n=t)!==!1&&n!==o&&null!=n?n:i)===o||null==r||r.$$is_boolean&&1!=r?$.$size():(n=$,r=e.find_super_dispatcher($,"count",C,!1),r.$$p=a,r).apply(n,s)},C.$$arity=-1),e.defn(Ve,"$initialize_copy",I=function(e){var t=this;return t.$replace(e)},I.$$arity=1),e.defn(Ve,"$collect",z=function(){var t,r,n,$=this,a=z.$$p,i=a||o;if(z.$$p=null,i===o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"collect");for(var s=[],l=0,u=$.length;u>l;l++){var c=e.yield1(i,$[l]);s.push(c)}return s},z.$$arity=0),e.defn(Ve,"$collect!",j=function(){var t,r,n,$=this,a=j.$$p,i=a||o;if(j.$$p=null,i===o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"collect!");for(var s=0,l=$.length;l>s;s++){var u=e.yield1(i,$[s]);$[s]=u}return $},j.$$arity=0),e.defn(Ve,"$combination",q=function(t){var r,n,$,a=this,i=q.$$p,s=i||o,l=o;if(q.$$p=null,l=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),s===o)return(r=(n=a).$enum_for,r.$$p=($=function(){var e=$.$$s||this;return _(e.length,l)},$.$$s=a,$.$$arity=0,$),r).call(n,"combination",l);var u,c,p,f,d,h,g;if(0===l)e.yield1(s,[]);else if(1===l)for(u=0,c=a.length;c>u;u++)e.yield1(s,[a[u]]);else if(l===a.length)e.yield1(s,a.slice());else if(l>=0&&l<a.length){for(p=[],u=0;l+1>=u;u++)p.push(0);for(f=[],d=0,h=!1,p[0]=-1;!h;){for(f[d]=a[p[d+1]];l-1>d;)d++,g=p[d+1]=p[d]+1,f[d]=a[g];e.yield1(s,f.slice()),d++;do h=0===d,p[d]++,d--;while(p[d+1]+l===a.length+d+1)}}return a},q.$$arity=1),e.defn(Ve,"$repeated_combination",N=function(t){function r(t,n,$,a){if($.length==t){var i=$.slice();return void e.yield1(l,i)}for(var o=n;o<a.length;o++)$.push(a[o]),r(t,o,$,a),$.pop()}var n,$,a,i=this,s=N.$$p,l=s||o,u=o;return N.$$p=null,u=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),l===o?(n=($=i).$enum_for,n.$$p=(a=function(){var e=a.$$s||this;return _(e.length+u-1,u)},a.$$s=i,a.$$arity=0,a),n).call($,"repeated_combination",u):(u>=0&&r(u,0,[],i),i)},N.$$arity=1),e.defn(Ve,"$compact",P=function(){for(var e,t=this,r=[],n=0,$=t.length;$>n;n++)(e=t[n])!==o&&r.push(e);return r},P.$$arity=0),e.defn(Ve,"$compact!",F=function(){for(var e=this,t=e.length,r=0,n=e.length;n>r;r++)e[r]===o&&(e.splice(r,1),n--,r--);return e.length===t?o:e},F.$$arity=0),e.defn(Ve,"$concat",D=function(e){var t,r=this;e=(t=Ke.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ke.get("Opal").$coerce_to(e,Ke.get("Array"),"to_ary").$to_a():e.$to_a();for(var n=0,$=e.length;$>n;n++)r.push(e[n]);return r},D.$$arity=1),e.defn(Ve,"$delete",B=function(t){var r=this,n=B.$$p,$=n||o;B.$$p=null;for(var a=r.length,i=0,s=a;s>i;i++)r[i]["$=="](t)&&(r.splice(i,1),s--,i--);return r.length===a?$!==o?e.yieldX($,[]):o:t},B.$$arity=1),e.defn(Ve,"$delete_at",H=function(e){var t=this;if(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&(e+=t.length),0>e||e>=t.length)return o;var r=t[e];return t.splice(e,1),r},H.$$arity=1),e.defn(Ve,"$delete_if",L=function(){var e,t,r,n=this,$=L.$$p,a=$||o;if(L.$$p=null,a===o)return(e=(t=n).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=n,r.$$arity=0,r),e).call(t,"delete_if");for(var i,s=0,l=n.length;l>s;s++)i=a(n[s]),i!==!1&&i!==o&&(n.splice(s,1),l--,s--);return n},L.$$arity=0),e.defn(Ve,"$drop",U=function(e){var t=this;return 0>e&&t.$raise(Ke.get("ArgumentError")),t.slice(e)},U.$$arity=1),e.defn(Ve,"$dup",G=function(){var t,r,n=this,$=G.$$p,a=o,i=o;for(G.$$p=null,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return n.$$class===e.Array&&n.$allocate.$$pristine&&n.$copy_instance_variables.$$pristine&&n.$initialize_dup.$$pristine?n.slice(0):(r=n,t=e.find_super_dispatcher(n,"dup",G,!1),t.$$p=$,t).apply(r,a)},G.$$arity=0),e.defn(Ve,"$each",Y=function(){var t,r,n,$=this,a=Y.$$p,i=a||o;if(Y.$$p=null,i===o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"each");for(var s=0,l=$.length;l>s;s++){e.yield1(i,$[s])}return $},Y.$$arity=0),e.defn(Ve,"$each_index",V=function(){var t,r,n,$=this,a=V.$$p,i=a||o;if(V.$$p=null,i===o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"each_index");for(var s=0,l=$.length;l>s;s++){e.yield1(i,s)}return $},V.$$arity=0),e.defn(Ve,"$empty?",X=function(){var e=this;return 0===e.length},X.$$arity=0),e.defn(Ve,"$eql?",K=function(e){function t(e,r){var $,a,i,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),e.length!==r.length)return!1;for(n[e.$object_id()]=!0,$=0,a=e.length;a>$;$++)if(i=e[$],o=r[$],i.$$is_array){if(o.$$is_array&&o.length!==i.length)return!1;if(!n.hasOwnProperty(i.$object_id())&&!t(i,o))return!1}else if(!i["$eql?"](o))return!1;return!0}var r=this,n={};return t(r,e)},K.$$arity=1),e.defn(Ve,"$fetch",W=function(e,t){var r=this,n=W.$$p,$=n||o;W.$$p=null;var a=e;return e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&(e+=r.length),e>=0&&e<r.length?r[e]:$!==o?$(a):null!=t?t:void(0===r.length?r.$raise(Ke.get("IndexError"),"index "+a+" outside of array bounds: 0...0"):r.$raise(Ke.get("IndexError"),"index "+a+" outside of array bounds: -"+r.length+"..."+r.length))},W.$$arity=-2),e.defn(Ve,"$fill",Z=function(){var t,r,n,$=this,a=Z.$$p,i=a||o,s=o,l=o,u=o,c=o,_=o,p=arguments.length,f=p-0;0>f&&(f=0),n=new Array(f);for(var d=0;p>d;d++)n[d-0]=arguments[d];Z.$$p=null;var h,g,m;if(i!==!1&&i!==o&&null!=i?((t=n.length>2)===o||null==t||t.$$is_boolean&&1!=t||$.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 0..2)"),r=n,t=e.to_ary(r),s=null==t[0]?o:t[0],l=null==t[1]?o:t[1],r):((t=0==n.length)===o||null==t||t.$$is_boolean&&1!=t?(t=n.length>3)===o||null==t||t.$$is_boolean&&1!=t||$.$raise(Ke.get("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 1..3)"):$.$raise(Ke.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),r=n,t=e.to_ary(r),u=null==t[0]?o:t[0],s=null==t[1]?o:t[1],l=null==t[2]?o:t[2],r),(t=Ke.get("Range")["$==="](s))===o||null==t||t.$$is_boolean&&1!=t)if(s!==!1&&s!==o&&null!=s)if(c=Ke.get("Opal").$coerce_to(s,Ke.get("Integer"),"to_int"),(t=0>c)===o||null==t||t.$$is_boolean&&1!=t||(c+=$.length),(t=0>c)===o||null==t||t.$$is_boolean&&1!=t||(c=0),l!==!1&&l!==o&&null!=l){if(_=Ke.get("Opal").$coerce_to(l,Ke.get("Integer"),"to_int"),(t=0==_)!==o&&null!=t&&(!t.$$is_boolean||1==t))return $;_+=c}else _=$.length;else c=0,_=$.length;else if(l!==!1&&l!==o&&null!=l&&$.$raise(Ke.get("TypeError"),"length invalid with range"),c=Ke.get("Opal").$coerce_to(s.$begin(),Ke.get("Integer"),"to_int"),(t=0>c)===o||null==t||t.$$is_boolean&&1!=t||(c+=$.length),(t=0>c)===o||null==t||t.$$is_boolean&&1!=t||$.$raise(Ke.get("RangeError"),""+s.$inspect()+" out of range"),_=Ke.get("Opal").$coerce_to(s.$end(),Ke.get("Integer"),"to_int"),(t=0>_)===o||null==t||t.$$is_boolean&&1!=t||(_+=$.length),((t=s["$exclude_end?"]())===o||null==t||t.$$is_boolean&&1!=t)&&(_+=1),(t=c>=_)!==o&&null!=t&&(!t.$$is_boolean||1==t))return $;if((t=c>$.length)!==o&&null!=t&&(!t.$$is_boolean||1==t))for(h=$.length;_>h;h++)$[h]=o;if((t=_>$.length)===o||null==t||t.$$is_boolean&&1!=t||($.length=_),i!==!1&&i!==o&&null!=i)for(g=$.length;_>c;c++)m=i(c),$[c]=m;else for(g=$.length;_>c;c++)$[c]=u;return $},Z.$$arity=-1),e.defn(Ve,"$first",J=function(e){var t=this;return null==e?0===t.length?o:t[0]:(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&t.$raise(Ke.get("ArgumentError"),"negative array size"),t.slice(0,e))},J.$$arity=-1),e.defn(Ve,"$flatten",Q=function(e){function t(e,n){var $,a,i,s,l=[];for(e=e.$to_a(),$=0,a=e.length;a>$;$++)if(i=e[$],Ke.get("Opal")["$respond_to?"](i,"to_ary"))if(s=i.$to_ary(),s!==o)switch(s.$$is_array||r.$raise(Ke.get("TypeError")),s===r&&r.$raise(Ke.get("ArgumentError")),n){case void 0:l=l.concat(t(s));break;case 0:l.push(s);break;default:l.push.apply(l,t(s,n-1))}else l.push(i);else l.push(i);return l}var r=this;return void 0!==e&&(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int")),c(t(r,e),r.$class())},Q.$$arity=-1),e.defn(Ve,"$flatten!",ee=function(e){var t=this,r=t.$flatten(e);if(t.length==r.length){for(var n=0,$=t.length;$>n&&t[n]===r[n];n++);if(n==$)return o}return t.$replace(r),t},ee.$$arity=-1),e.defn(Ve,"$hash",te=function(){var t,r,n,$=this,a=void 0==e.hash_ids,i=["A"],o=$.$object_id();try{if(a&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(o))return"self";for(n in e.hash_ids)if(e.hash_ids.hasOwnProperty(n)&&(t=e.hash_ids[n],$["$eql?"](t)))return"self";for(e.hash_ids[o]=$,r=0;r<$.length;r++)t=$[r],i.push(t.$hash());return i.join(",")}finally{a&&delete e.hash_ids}},te.$$arity=0),e.defn(Ve,"$include?",re=function(e){for(var t=this,r=0,n=t.length;n>r;r++)if(t[r]["$=="](e))return!0;return!1},re.$$arity=1),e.defn(Ve,"$index",ne=function(e){var t=this,r=ne.$$p,n=r||o;
ne.$$p=null;var $,a,i;if(null!=e){for($=0,a=t.length;a>$;$++)if(t[$]["$=="](e))return $}else{if(n===o)return t.$enum_for("index");for($=0,a=t.length;a>$;$++)if(i=n(t[$]),i!==!1&&i!==o)return $}return o},ne.$$arity=-1),e.defn(Ve,"$insert",$e=function(e){var t,r=this,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];if(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),t.length>0){if(0>e&&(e+=r.length+1,0>e&&r.$raise(Ke.get("IndexError"),""+e+" is out of bounds")),e>r.length)for(var i=r.length;e>i;i++)r.push(o);r.splice.apply(r,[e,0].concat(t))}return r},$e.$$arity=-2),e.defn(Ve,"$inspect",ae=function(){for(var e=this,t=[],r=e.$__id__(),n=0,$=e.length;$>n;n++){var a=e["$[]"](n);a.$__id__()===r?t.push("[...]"):t.push(a.$inspect())}return"["+t.join(", ")+"]"},ae.$$arity=0),e.defn(Ve,"$join",ie=function(e){var t,r=this;if(null==u[","]&&(u[","]=o),null==e&&(e=o),(t=0===r.length)!==o&&null!=t&&(!t.$$is_boolean||1==t))return"";(t=e===o)===o||null==t||t.$$is_boolean&&1!=t||(e=u[","]);var n,$,a,i,s=[];for(n=0,$=r.length;$>n;n++)a=r[n],Ke.get("Opal")["$respond_to?"](a,"to_str")&&(i=a.$to_str(),i!==o)?s.push(i.$to_s()):Ke.get("Opal")["$respond_to?"](a,"to_ary")&&(i=a.$to_ary(),i===r&&r.$raise(Ke.get("ArgumentError")),i!==o)?s.push(i.$join(e)):Ke.get("Opal")["$respond_to?"](a,"to_s")&&(i=a.$to_s(),i!==o)?s.push(i):r.$raise(Ke.get("NoMethodError").$new(""+Ke.get("Opal").$inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===o?s.join(""):s.join(Ke.get("Opal")["$coerce_to!"](e,Ke.get("String"),"to_str").$to_s())},ie.$$arity=-1),e.defn(Ve,"$keep_if",oe=function(){var e,t,r,n=this,$=oe.$$p,a=$||o;if(oe.$$p=null,a===o)return(e=(t=n).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=n,r.$$arity=0,r),e).call(t,"keep_if");for(var i,s=0,l=n.length;l>s;s++)i=a(n[s]),i!==!1&&i!==o||(n.splice(s,1),l--,s--);return n},oe.$$arity=0),e.defn(Ve,"$last",se=function(e){var t=this;return null==e?0===t.length?o:t[t.length-1]:(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>e&&t.$raise(Ke.get("ArgumentError"),"negative array size"),e>t.length&&(e=t.length),t.slice(t.length-e,t.length))},se.$$arity=-1),e.defn(Ve,"$length",le=function(){var e=this;return e.length},le.$$arity=0),e.alias(Ve,"map","collect"),e.alias(Ve,"map!","collect!"),e.defn(Ve,"$permutation",ue=function(t){var r,n,$,a=this,i=ue.$$p,s=i||o,l=o,u=o;if(ue.$$p=null,s===o)return(r=(n=a).$enum_for,r.$$p=($=function(){var e=$.$$s||this;return p(e.length,void 0===t?e.length:t)},$.$$s=a,$.$$arity=0,$),r).call(n,"permutation",t);var c,_,f;if(t=void 0===t?a.length:Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),0>t||a.length<t);else if(0===t)e.yield1(s,[]);else if(1===t)for(var d=0;d<a.length;d++)e.yield1(s,[a[d]]);else l=Ke.get("Array").$new(t),u=Ke.get("Array").$new(a.length,!1),c=function(t,r,n,$,i){a=this;for(var o=0;o<a.length;o++)if($["$[]"](o)["$!"]())if(r[n]=o,t-1>n)$[o]=!0,c.call(a,t,r,n+1,$,i),$[o]=!1;else{f=[];for(var s=0;s<r.length;s++)f.push(a[r[s]]);e.yield1(i,f)}},s!==o?(_=a.slice(),c.call(_,t,l,0,u,s)):c.call(a,t,l,0,u,s);return a},ue.$$arity=-1),e.defn(Ve,"$repeated_permutation",ce=function(t){function r(t,n,$){if(n.length==t){var a=n.slice();return void e.yield1(u,a)}for(var i=0;i<$.length;i++)n.push($[i]),r(t,n,$),n.pop()}var $,a,i,s=this,l=ce.$$p,u=l||o,c=o;return ce.$$p=null,c=Ke.get("Opal")["$coerce_to!"](t,Ke.get("Integer"),"to_int"),u===o?($=(a=s).$enum_for,$.$$p=(i=function(){var e,t=i.$$s||this;return(e=n(c,0))===o||null==e||e.$$is_boolean&&1!=e?0:t.$size()["$**"](c)},i.$$s=s,i.$$arity=0,i),$).call(a,"repeated_permutation",c):(r(c,[],s.slice()),s)},ce.$$arity=1),e.defn(Ve,"$pop",_e=function(e){var t,r=this;return(t=void 0===e)===o||null==t||t.$$is_boolean&&1!=t?(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),(t=0>e)===o||null==t||t.$$is_boolean&&1!=t||r.$raise(Ke.get("ArgumentError"),"negative array size"),(t=0===r.length)===o||null==t||t.$$is_boolean&&1!=t?(t=e>r.length)===o||null==t||t.$$is_boolean&&1!=t?r.splice(r.length-e,r.length):r.splice(0,r.length):[]):(t=0===r.length)===o||null==t||t.$$is_boolean&&1!=t?r.pop():o},_e.$$arity=-1),e.defn(Ve,"$product",pe=function(){var t,r=this,n=pe.$$p,$=n||o,a=arguments.length,i=a-0;0>i&&(i=0),t=new Array(i);for(var s=0;a>s;s++)t[s-0]=arguments[s];pe.$$p=null;var l,u,c,_,p=$!==o?null:[],f=t.length+1,d=new Array(f),h=new Array(f),g=new Array(f),m=1;for(g[0]=r,l=1;f>l;l++)g[l]=Ke.get("Opal").$coerce_to(t[l-1],Ke.get("Array"),"to_ary");for(l=0;f>l;l++){if(_=g[l].length,0===_)return p||r;m*=_,m>2147483647&&r.$raise(Ke.get("RangeError"),"too big to product"),h[l]=_,d[l]=0}e:for(;;){for(c=[],l=0;f>l;l++)c.push(g[l][d[l]]);for(p?p.push(c):e.yield1($,c),u=f-1,d[u]++;d[u]===h[u];){if(d[u]=0,--u<0)break e;d[u]++}}return p||r},pe.$$arity=-1),e.defn(Ve,"$push",fe=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=0,i=e.length;i>a;a++)t.push(e[a]);return t},fe.$$arity=-1),e.defn(Ve,"$rassoc",de=function(e){for(var t,r=this,n=0,$=r.length;$>n;n++)if(t=r[n],t.length&&void 0!==t[1]&&t[1]["$=="](e))return t;return o},de.$$arity=1),e.defn(Ve,"$reject",he=function(){var e,t,r,n=this,$=he.$$p,a=$||o;if(he.$$p=null,a===o)return(e=(t=n).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=n,r.$$arity=0,r),e).call(t,"reject");for(var i,s=[],l=0,u=n.length;u>l;l++)i=a(n[l]),i!==!1&&i!==o||s.push(n[l]);return s},he.$$arity=0),e.defn(Ve,"$reject!",ge=function(){var e,t,r,n,$=this,a=ge.$$p,i=a||o,s=o;return ge.$$p=null,i===o?(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"reject!"):(s=$.$length(),(e=(n=$).$delete_if,e.$$p=i.$to_proc(),e).call(n),$.$length()["$=="](s)?o:$)},ge.$$arity=0),e.defn(Ve,"$replace",me=function(e){var t,r=this;return e=(t=Ke.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ke.get("Opal").$coerce_to(e,Ke.get("Array"),"to_ary").$to_a():e.$to_a(),r.splice(0,r.length),r.push.apply(r,e),r},me.$$arity=1),e.defn(Ve,"$reverse",ye=function(){var e=this;return e.slice(0).reverse()},ye.$$arity=0),e.defn(Ve,"$reverse!",ve=function(){var e=this;return e.reverse()},ve.$$arity=0),e.defn(Ve,"$reverse_each",be=function(){var e,t,r,n,$=this,a=be.$$p,i=a||o;return be.$$p=null,i===o?(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"reverse_each"):((e=(n=$.$reverse()).$each,e.$$p=i.$to_proc(),e).call(n),$)},be.$$arity=0),e.defn(Ve,"$rindex",xe=function(e){var t=this,r=xe.$$p,n=r||o;xe.$$p=null;var $,a;if(null!=e){for($=t.length-1;$>=0&&!($>=t.length);$--)if(t[$]["$=="](e))return $}else if(n!==o){for($=t.length-1;$>=0&&!($>=t.length);$--)if(a=n(t[$]),a!==!1&&a!==o)return $}else if(null==e)return t.$enum_for("rindex");return o},xe.$$arity=-1),e.defn(Ve,"$rotate",we=function(e){var t=this;null==e&&(e=1),e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int");var r,n,$,a;return 1===t.length?t.slice():0===t.length?[]:(r=t.slice(),n=e%r.length,$=r.slice(n),a=r.slice(0,n),$.concat(a))},we.$$arity=-1),e.defn(Ve,"$rotate!",ke=function(e){var t=this,r=o;return null==e&&(e=1),0===t.length||1===t.length?t:(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),r=t.$rotate(e),t.$replace(r))},ke.$$arity=-1),function(t,$super){function r(){}var n,$,a=r=s(t,$super,"SampleRandom",r),i=a.$$proto,l=a.$$scope;return i.rng=o,e.defn(a,"$initialize",n=function(e){var t=this;return t.rng=e},n.$$arity=1),e.defn(a,"$rand",$=function(e){var t,r=this,n=o;return n=l.get("Opal").$coerce_to(r.rng.$rand(e),l.get("Integer"),"to_int"),(t=0>n)===o||null==t||t.$$is_boolean&&1!=t||r.$raise(l.get("RangeError"),"random value must be >= 0"),((t=e>n)===o||null==t||t.$$is_boolean&&1!=t)&&r.$raise(l.get("RangeError"),"random value must be less than Array size"),n},$.$$arity=1),o&&"rand"}(Ke.base,null),e.defn(Ve,"$sample",Se=function(e,t){var r,n,$=this,a=o,i=o;if((r=void 0===e)!==o&&null!=r&&(!r.$$is_boolean||1==r))return $.$at(Ke.get("Kernel").$rand($.length));if((r=void 0===t)===o||null==r||r.$$is_boolean&&1!=r?(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Hash"),"to_hash")):(r=a=Ke.get("Opal")["$coerce_to?"](e,Ke.get("Hash"),"to_hash"))===o||null==r||r.$$is_boolean&&1!=r?(t=o,e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int")):(t=a,e=o),(r=(n=e!==!1&&e!==o&&null!=e)?0>e:e)===o||null==r||r.$$is_boolean&&1!=r||$.$raise(Ke.get("ArgumentError"),"count must be greater than 0"),t!==!1&&t!==o&&null!=t&&(i=t["$[]"]("random")),i=(r=(n=i!==!1&&i!==o&&null!=i)?i["$respond_to?"]("rand"):i)===o||null==r||r.$$is_boolean&&1!=r?Ke.get("Kernel"):Ke.get("SampleRandom").$new(i),e===!1||e===o||null==e)return $[i.$rand($.length)];var s,l,u,c,_,p,f,d;switch(e>$.length&&(e=$.length),e){case 0:return[];case 1:return[$[i.$rand($.length)]];case 2:return c=i.$rand($.length),_=i.$rand($.length),c===_&&(_=0===c?c+1:c-1),[$[c],$[_]];default:if($.length/e>3){for(s=!1,l=0,u=Ke.get("Array").$new(e),c=1,u[0]=i.$rand($.length);e>c;){for(p=i.$rand($.length),_=0;c>_;){for(;p===u[_];){if(l++,l>100){s=!0;break}p=i.$rand($.length)}if(s)break;_++}if(s)break;u[c]=p,c++}if(!s){for(c=0;e>c;)u[c]=$[u[c]],c++;return u}}u=$.slice();for(var h=0;e>h;h++)f=i.$rand($.length),d=u[h],u[h]=u[f],u[f]=d;return e===$.length?u:u["$[]"](0,e)}},Se.$$arity=-1),e.defn(Ve,"$select",Ee=function(){var t,r,n,$=this,a=Ee.$$p,i=a||o;if(Ee.$$p=null,i===o)return(t=(r=$).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=$,n.$$arity=0,n),t).call(r,"select");for(var s,l,u=[],c=0,_=$.length;_>c;c++)s=$[c],l=e.yield1(i,s),l!==!1&&l!==o&&u.push(s);return u},Ee.$$arity=0),e.defn(Ve,"$select!",Re=function(){var e,t,r,n,$=this,a=Re.$$p,i=a||o;if(Re.$$p=null,i===o)return(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"select!");var s=$.length;return(e=(n=$).$keep_if,e.$$p=i.$to_proc(),e).call(n),$.length===s?o:$},Re.$$arity=0),e.defn(Ve,"$shift",Ae=function(e){var t,r=this;return(t=void 0===e)===o||null==t||t.$$is_boolean&&1!=t?(e=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),(t=0>e)===o||null==t||t.$$is_boolean&&1!=t||r.$raise(Ke.get("ArgumentError"),"negative array size"),(t=0===r.length)===o||null==t||t.$$is_boolean&&1!=t?r.splice(0,e):[]):(t=0===r.length)===o||null==t||t.$$is_boolean&&1!=t?r.shift():o},Ae.$$arity=-1),e.alias(Ve,"size","length"),e.defn(Ve,"$shuffle",Oe=function(e){var t=this;return t.$dup().$to_a()["$shuffle!"](e)},Oe.$$arity=-1),e.defn(Ve,"$shuffle!",Me=function(e){var t,r,n,$=this,a=$.length;for(void 0!==e&&(e=Ke.get("Opal")["$coerce_to?"](e,Ke.get("Hash"),"to_hash"),e!==o&&(e=e["$[]"]("random"),e!==o&&e["$respond_to?"]("rand")&&(t=e)));a;)t?(r=t.$rand(a).$to_int(),0>r&&$.$raise(Ke.get("RangeError"),"random number too small "+r),r>=a&&$.$raise(Ke.get("RangeError"),"random number too big "+r)):r=Math.floor(Math.random()*a),n=$[--a],$[a]=$[r],$[r]=n;return $},Me.$$arity=-1),e.alias(Ve,"slice","[]"),e.defn(Ve,"$slice!",Te=function(e,t){var r,n=this,$=o,a=o,i=o,s=o,l=o;if($=o,(r=void 0===t)===o||null==r||r.$$is_boolean&&1!=r){if(l=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),t=Ke.get("Opal").$coerce_to(t,Ke.get("Integer"),"to_int"),0>t)return o;$=n["$[]"](l,t),0>l&&(l+=n.length),l+t>n.length&&(t=n.length-l),l<n.length&&l>=0&&n.splice(l,t)}else if((r=Ke.get("Range")["$==="](e))===o||null==r||r.$$is_boolean&&1!=r){if(l=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),0>l&&(l+=n.length),0>l||l>=n.length)return o;$=n[l],0===l?n.shift():n.splice(l,1)}else{a=e,$=n["$[]"](a),i=Ke.get("Opal").$coerce_to(a.$begin(),Ke.get("Integer"),"to_int"),s=Ke.get("Opal").$coerce_to(a.$end(),Ke.get("Integer"),"to_int"),0>i&&(i+=n.length),0>s?s+=n.length:s>=n.length&&(s=n.length-1,a.exclude&&(s+=1));var u=s-i;a.exclude?s-=1:u+=1,i<n.length&&i>=0&&s<n.length&&s>=0&&u>0&&n.splice(i,u)}return $},Te.$$arity=-2),e.defn(Ve,"$sort",Ce=function(){var e,r=this,n=Ce.$$p,a=n||o;return Ce.$$p=null,(e=r.length>1)===o||null==e||e.$$is_boolean&&1!=e?r:(a===o&&(a=function(e,t){return e["$<=>"](t)}),r.slice().sort(function(e,n){var i=a(e,n);return i===o&&r.$raise(Ke.get("ArgumentError"),"comparison of "+e.$inspect()+" with "+n.$inspect()+" failed"),t(i,0)?1:$(i,0)?-1:0}))},Ce.$$arity=0),e.defn(Ve,"$sort!",Ie=function(){var e,t,r=this,n=Ie.$$p,$=n||o;Ie.$$p=null;var a;a=$!==o?(e=(t=r.slice()).$sort,e.$$p=$.$to_proc(),e).call(t):r.slice().$sort(),r.length=0;for(var i=0,s=a.length;s>i;i++)r.push(a[i]);return r},Ie.$$arity=0),e.defn(Ve,"$sort_by!",ze=function(){var e,t,r,n,$=this,a=ze.$$p,i=a||o;return ze.$$p=null,i===o?(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"sort_by!"):$.$replace((e=(n=$).$sort_by,e.$$p=i.$to_proc(),e).call(n))},ze.$$arity=0),e.defn(Ve,"$take",je=function(e){var t=this;return 0>e&&t.$raise(Ke.get("ArgumentError")),t.slice(0,e)},je.$$arity=1),e.defn(Ve,"$take_while",qe=function(){var e=this,t=qe.$$p,r=t||o;qe.$$p=null;for(var n,$,a=[],i=0,s=e.length;s>i;i++){if(n=e[i],$=r(n),$===!1||$===o)return a;a.push(n)}return a},qe.$$arity=0),e.defn(Ve,"$to_a",Ne=function(){var e=this;return e},Ne.$$arity=0),e.alias(Ve,"to_ary","to_a"),e.defn(Ve,"$to_h",Pe=function(){var t,r,n,$,a=this,i=a.length,o=l([],{});for(t=0;i>t;t++)r=Ke.get("Opal")["$coerce_to?"](a[t],Ke.get("Array"),"to_ary"),r.$$is_array||a.$raise(Ke.get("TypeError"),"wrong element type "+r.$class()+" at "+t+" (expected array)"),2!==r.length&&a.$raise(Ke.get("ArgumentError"),"wrong array length at "+t+" (expected 2, was "+r.$length()+")"),n=r[0],$=r[1],e.hash_put(o,n,$);return o},Pe.$$arity=0),e.alias(Ve,"to_s","inspect"),e.defn(Ve,"$transpose",Fe=function(){var e,t,r,n=this,$=o,a=o;return(e=n["$empty?"]())===o||null==e||e.$$is_boolean&&1!=e?($=[],a=o,(e=(t=n).$each,e.$$p=(r=function(e){var t,n,i,s=r.$$s||this;return null==e&&(e=o),e=(t=Ke.get("Array")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?Ke.get("Opal").$coerce_to(e,Ke.get("Array"),"to_ary").$to_a():e.$to_a(),(t=a)!==!1&&t!==o&&null!=t?t:a=e.length,(t=e.length["$!="](a))===o||null==t||t.$$is_boolean&&1!=t||s.$raise(Ke.get("IndexError"),"element size differs ("+e.length+" should be "+a),(t=(n=e.length).$times,t.$$p=(i=function(t){var r,n,a,s=(i.$$s||this,o);return null==t&&(t=o),r=t,n=$,s=(a=n["$[]"](r))!==!1&&a!==o&&null!=a?a:n["$[]="](r,[]),s["$<<"](e.$at(t))},i.$$s=s,i.$$arity=1,i),t).call(n)},r.$$s=n,r.$$arity=1,r),e).call(t),$):[]},Fe.$$arity=0),e.defn(Ve,"$uniq",De=function(){var t=this,r=De.$$p,n=r||o;De.$$p=null;var $,a,i,s,u=l([],{});if(n===o)for($=0,a=t.length;a>$;$++)i=t[$],void 0===e.hash_get(u,i)&&e.hash_put(u,i,i);else for($=0,a=t.length;a>$;$++)i=t[$],s=e.yield1(n,i),void 0===e.hash_get(u,s)&&e.hash_put(u,s,i);return c(u.$values(),t.$class())},De.$$arity=0),e.defn(Ve,"$uniq!",Be=function(){var t=this,r=Be.$$p,n=r||o;Be.$$p=null;var $,a,i,s,u=t.length,c=l([],{});for($=0,a=u;a>$;$++)i=t[$],s=n===o?i:e.yield1(n,i),void 0!==e.hash_get(c,s)?(t.splice($,1),a--,$--):e.hash_put(c,s,i);return t.length===u?o:t},Be.$$arity=0),e.defn(Ve,"$unshift",He=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--)t.unshift(e[a]);return t},He.$$arity=-1),e.defn(Ve,"$values_at",Le=function(){var e,t,r,n,$=this,a=o,i=arguments.length,s=i-0;0>s&&(s=0),n=new Array(s);for(var l=0;i>l;l++)n[l-0]=arguments[l];return a=[],(e=(t=n).$each,e.$$p=(r=function(e){var t,n,$,i=r.$$s||this,s=o,l=o,u=o;return null==e&&(e=o),(t=e["$kind_of?"](Ke.get("Range")))===o||null==t||t.$$is_boolean&&1!=t?(u=Ke.get("Opal").$coerce_to(e,Ke.get("Integer"),"to_int"),a["$<<"](i.$at(u))):(s=Ke.get("Opal").$coerce_to(e.$last(),Ke.get("Integer"),"to_int"),l=Ke.get("Opal").$coerce_to(e.$first(),Ke.get("Integer"),"to_int"),0>l?(l+=i.length,o):(0>s&&(s+=i.length),e["$exclude_end?"]()&&s--,l>s?o:(t=(n=l).$upto,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=o),a["$<<"](t.$at(e))},$.$$s=i,$.$$arity=1,$),t).call(n,s)))},r.$$s=$,r.$$arity=1,r),e).call(t),a},Le.$$arity=-1),e.defn(Ve,"$zip",Ue=function(){var e,t,r=this,n=Ue.$$p,$=n||o,a=arguments.length,i=a-0;0>i&&(i=0),t=new Array(i);for(var s=0;a>s;s++)t[s-0]=arguments[s];Ue.$$p=null;var l,u,c,_,p,f=[],d=r.length;for(_=0,p=t.length;p>_;_++)u=t[_],u.$$is_array||(u.$$is_enumerator?u.$size()===1/0?t[_]=u.$take(d):t[_]=u.$to_a():t[_]=((e=Ke.get("Opal")["$coerce_to?"](u,Ke.get("Array"),"to_ary"))!==!1&&e!==o&&null!=e?e:Ke.get("Opal")["$coerce_to!"](u,Ke.get("Enumerator"),"each")).$to_a());for(c=0;d>c;c++){for(l=[r[c]],_=0,p=t.length;p>_;_++)u=t[_][c],null==u&&(u=o),l[_+1]=u;f[c]=l}if($!==o){for(c=0;d>c;c++)$(f[c]);return o}return f},Ue.$$arity=-1),e.defs(Ve,"$inherited",Ge=function(e){e.$$proto.$to_a=function(){return this.slice(0,this.length)}},Ge.$$arity=1),e.defn(Ve,"$instance_variables",Ye=function(){var t,r,n,$,a,i=this,s=Ye.$$p,l=o,u=o;for(Ye.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return(t=(r=(a=i,$=e.find_super_dispatcher(i,"instance_variables",Ye,!1),$.$$p=s,$).apply(a,l)).$reject,t.$$p=(n=function(e){var t;n.$$s||this;return null==e&&(e=o),(t=/^@\d+$/.test(e))!==!1&&t!==o&&null!=t?t:e["$=="]("@length")},n.$$s=i,n.$$arity=1,n),t).call(r)},Ye.$$arity=0),Ke.get("Opal").$pristine(Ve,"allocate","copy_instance_variables","initialize_dup")}(i.base,Array)},Opal.modules["corelib/hash"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$==","$coerce_to!","$lambda?","$abs","$arity","$call","$enum_for","$size","$inspect","$flatten","$eql?","$default","$to_proc","$dup","$===","$default_proc","$default_proc=","$default=","$alias_method"]),t.$require("corelib/enumerable"),function(t,$super){function r(){}var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z=r=$(t,$super,"Hash",r),J=Z.$$proto,Q=Z.$$scope;Z.$include(Q.get("Enumerable")),J.$$is_hash=!0,e.defs(Z,"$[]",a=function(){var e,t=this,r=arguments.length,$=r-0;0>$&&($=0),e=new Array($);for(var a=0;r>a;a++)e[a-0]=arguments[a];var i,o,s=e.length;if(1===s){if(i=Q.get("Opal")["$coerce_to?"](e["$[]"](0),Q.get("Hash"),"to_hash"),i!==n)return t.$allocate()["$merge!"](i);for(e=Q.get("Opal")["$coerce_to?"](e["$[]"](0),Q.get("Array"),"to_ary"),e===n&&t.$raise(Q.get("ArgumentError"),"odd number of arguments for Hash"),s=e.length,i=t.$allocate(),o=0;s>o;o++)if(e[o].$$is_array)switch(e[o].length){case 1:i.$store(e[o][0],n);break;case 2:i.$store(e[o][0],e[o][1]);break;default:t.$raise(Q.get("ArgumentError"),"invalid number of elements ("+e[o].length+" for 1..2)")}return i}for(s%2!==0&&t.$raise(Q.get("ArgumentError"),"odd number of arguments for Hash"),i=t.$allocate(),o=0;s>o;o+=2)i.$store(e[o],e[o+1]);return i},a.$$arity=-1),e.defs(Z,"$allocate",i=function(){var t=this,r=new t.$$alloc;return e.hash_init(r),r.$$none=n,r.$$proc=n,r},i.$$arity=0),e.defs(Z,"$try_convert",o=function(e){return Q.get("Opal")["$coerce_to?"](e,Q.get("Hash"),"to_hash")},o.$$arity=1),e.defn(Z,"$initialize",s=function(e){var t=this,r=s.$$p,$=r||n;return s.$$p=null,void 0!==e&&$!==n&&t.$raise(Q.get("ArgumentError"),"wrong number of arguments (1 for 0)"),t.$$none=void 0===e?n:e,t.$$proc=$,t},s.$$arity=-1),e.defn(Z,"$==",l=function(t){var r=this;if(r===t)return!0;if(!t.$$is_hash)return!1;if(r.$$keys.length!==t.$$keys.length)return!1;for(var n,$,a,i=0,o=r.$$keys,s=o.length;s>i;i++)if(n=o[i],n.$$is_string?($=r.$$smap[n],a=t.$$smap[n]):($=n.value,a=e.hash_get(t,n.key)),void 0===a||!$["$eql?"](a))return!1;return!0},l.$$arity=1),e.defn(Z,"$[]",u=function(t){var r=this,n=e.hash_get(r,t);return void 0!==n?n:r.$default(t)},u.$$arity=1),e.defn(Z,"$[]=",c=function(t,r){var n=this;return e.hash_put(n,t,r),r},c.$$arity=2),e.defn(Z,"$assoc",_=function(e){for(var t,r=this,$=0,a=r.$$keys,i=a.length;i>$;$++)if(t=a[$],t.$$is_string){if(t["$=="](e))return[t,r.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return n},_.$$arity=1),e.defn(Z,"$clear",p=function(){var t=this;return e.hash_init(t),t},p.$$arity=0),e.defn(Z,"$clone",f=function(){var t=this,r=new t.$$class.$$alloc;return e.hash_init(r),e.hash_clone(t,r),r},f.$$arity=0),e.defn(Z,"$default",d=function(e){var t=this;return void 0!==e&&t.$$proc!==n&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?n:t.$$none},d.$$arity=-1),e.defn(Z,"$default=",h=function(e){var t=this;return t.$$proc=n,t.$$none=e,e},h.$$arity=1),e.defn(Z,"$default_proc",g=function(){var e=this;return void 0!==e.$$proc?e.$$proc:n},g.$$arity=0),e.defn(Z,"$default_proc=",m=function(e){var t=this;return e!==n&&(e=Q.get("Opal")["$coerce_to!"](e,Q.get("Proc"),"to_proc"),e["$lambda?"]()&&2!==e.$arity().$abs()&&t.$raise(Q.get("TypeError"),"default_proc takes two arguments")),t.$$none=n,t.$$proc=e,e},m.$$arity=1),e.defn(Z,"$delete",y=function(t){var r=this,$=y.$$p,a=$||n;y.$$p=null;var i=e.hash_delete(r,t);return void 0!==i?i:a!==n?a.$call(t):n},y.$$arity=1),e.defn(Z,"$delete_if",v=function(){var t,r,$,a=this,i=v.$$p,o=i||n;if(v.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"delete_if");for(var s,l,u,c=0,_=a.$$keys,p=_.length;p>c;c++)s=_[c],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n&&void 0!==e.hash_delete(a,s)&&(p--,c--);return a},v.$$arity=0),e.alias(Z,"dup","clone"),e.defn(Z,"$each",b=function(){var t,r,$,a=this,i=b.$$p,o=i||n;if(b.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"each");for(var s,l,u=0,c=a.$$keys,_=c.length;_>u;u++)s=c[u],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),e.yield1(o,[s,l]);return a},b.$$arity=0),e.defn(Z,"$each_key",x=function(){var e,t,r,$=this,a=x.$$p,i=a||n;if(x.$$p=null,i===!1||i===n||null==i)return(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"each_key");for(var o,s=0,l=$.$$keys,u=l.length;u>s;s++)o=l[s],i(o.$$is_string?o:o.key);return $},x.$$arity=0),e.alias(Z,"each_pair","each"),e.defn(Z,"$each_value",w=function(){var e,t,r,$=this,a=w.$$p,i=a||n;if(w.$$p=null,i===!1||i===n||null==i)return(e=(t=$).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e.$size()},r.$$s=$,r.$$arity=0,r),e).call(t,"each_value");for(var o,s=0,l=$.$$keys,u=l.length;u>s;s++)o=l[s],i(o.$$is_string?$.$$smap[o]:o.value);return $},w.$$arity=0),e.defn(Z,"$empty?",k=function(){var e=this;return 0===e.$$keys.length},k.$$arity=0),e.alias(Z,"eql?","=="),e.defn(Z,"$fetch",S=function(t,r){var $=this,a=S.$$p,i=a||n;S.$$p=null;var o=e.hash_get($,t);return void 0!==o?o:i!==n?i(t):void 0!==r?r:$.$raise(Q.get("KeyError"),"key not found: "+t.$inspect())},S.$$arity=-2),e.defn(Z,"$flatten",E=function(e){var t=this;null==e&&(e=1),e=Q.get("Opal")["$coerce_to!"](e,Q.get("Integer"),"to_int");for(var r,n,$=[],a=0,i=t.$$keys,o=i.length;o>a;a++)if(r=i[a],r.$$is_string?n=t.$$smap[r]:(n=r.value,r=r.key),$.push(r),n.$$is_array){if(1===e){$.push(n);continue}$=$.concat(n.$flatten(e-2))}else $.push(n);return $},E.$$arity=-1),e.defn(Z,"$has_key?",R=function(t){var r=this;return void 0!==e.hash_get(r,t)},R.$$arity=1),e.defn(Z,"$has_value?",A=function(e){for(var t,r=this,n=0,$=r.$$keys,a=$.length;a>n;n++)if(t=$[n],(t.$$is_string?r.$$smap[t]:t.value)["$=="](e))return!0;return!1},A.$$arity=1),e.defn(Z,"$hash",O=function(){var t,r,n=this,$=void 0===e.hash_ids,a=n.$object_id(),i=["Hash"];try{if($&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(a))return"self";for(t in e.hash_ids)if(e.hash_ids.hasOwnProperty(t)&&(r=e.hash_ids[t],n["$eql?"](r)))return"self";e.hash_ids[a]=n;for(var o=0,s=n.$$keys,l=s.length;l>o;o++)t=s[o],t.$$is_string?i.push([t,n.$$smap[t].$hash()]):i.push([t.key_hash,t.value.$hash()]);return i.sort().join()}finally{$&&delete e.hash_ids}},O.$$arity=0),e.alias(Z,"include?","has_key?"),e.defn(Z,"$index",M=function(e){for(var t,r,$=this,a=0,i=$.$$keys,o=i.length;o>a;a++)if(t=i[a],t.$$is_string?r=$.$$smap[t]:(r=t.value,t=t.key),r["$=="](e))return t;return n},M.$$arity=1),e.defn(Z,"$indexes",T=function(){var t,r=this,n=arguments.length,$=n-0;0>$&&($=0),t=new Array($);for(var a=0;n>a;a++)t[a-0]=arguments[a];for(var i,o,s=[],l=0,u=t.length;u>l;l++)i=t[l],o=e.hash_get(r,i),void 0!==o?s.push(o):s.push(r.$default());return s},T.$$arity=-1),e.alias(Z,"indices","indexes");var ee;return e.defn(Z,"$inspect",C=function(){var e=this,t=void 0===ee,r=e.$object_id(),n=[];try{if(t&&(ee={}),ee.hasOwnProperty(r))return"{...}";ee[r]=!0;for(var $,a,i=0,o=e.$$keys,s=o.length;s>i;i++)$=o[i],$.$$is_string?a=e.$$smap[$]:(a=$.value,$=$.key),n.push($.$inspect()+"=>"+a.$inspect());return"{"+n.join(", ")+"}"}finally{t&&(ee=void 0)}},C.$$arity=0),e.defn(Z,"$invert",I=function(){for(var t,r,n=this,$=e.hash(),a=0,i=n.$$keys,o=i.length;o>a;a++)t=i[a],t.$$is_string?r=n.$$smap[t]:(r=t.value,t=t.key),e.hash_put($,r,t);return $},I.$$arity=0),e.defn(Z,"$keep_if",z=function(){var t,r,$,a=this,i=z.$$p,o=i||n;if(z.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"keep_if");for(var s,l,u,c=0,_=a.$$keys,p=_.length;p>c;c++)s=_[c],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n||void 0!==e.hash_delete(a,s)&&(p--,c--);return a},z.$$arity=0),e.alias(Z,"key","index"),e.alias(Z,"key?","has_key?"),e.defn(Z,"$keys",j=function(){for(var e,t=this,r=[],n=0,$=t.$$keys,a=$.length;a>n;n++)e=$[n],e.$$is_string?r.push(e):r.push(e.key);return r},j.$$arity=0),e.defn(Z,"$length",q=function(){var e=this;return e.$$keys.length},q.$$arity=0),e.alias(Z,"member?","has_key?"),e.defn(Z,"$merge",N=function(e){var t,r,$=this,a=N.$$p,i=a||n;return N.$$p=null,(t=(r=$.$dup())["$merge!"],t.$$p=i.$to_proc(),t).call(r,e)},N.$$arity=1),e.defn(Z,"$merge!",P=function(t){var r=this,$=P.$$p,a=$||n;P.$$p=null,Q.get("Hash")["$==="](t)||(t=Q.get("Opal")["$coerce_to!"](t,Q.get("Hash"),"to_hash"));var i,o,s,l,u=t.$$keys,c=u.length;if(a===n){for(i=0;c>i;i++)o=u[i],o.$$is_string?l=t.$$smap[o]:(l=o.value,o=o.key),e.hash_put(r,o,l);return r}for(i=0;c>i;i++)o=u[i],o.$$is_string?l=t.$$smap[o]:(l=o.value,o=o.key),s=e.hash_get(r,o),void 0!==s?e.hash_put(r,o,a(o,s,l)):e.hash_put(r,o,l);return r},P.$$arity=1),e.defn(Z,"$rassoc",F=function(e){for(var t,r,$=this,a=0,i=$.$$keys,o=i.length;o>a;a++)if(t=i[a],t.$$is_string?r=$.$$smap[t]:(r=t.value,t=t.key),r["$=="](e))return[t,r];return n},F.$$arity=1),e.defn(Z,"$rehash",D=function(){var t=this;return e.hash_rehash(t),t},D.$$arity=0),e.defn(Z,"$reject",B=function(){var t,r,$,a=this,i=B.$$p,o=i||n;if(B.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"reject");for(var s,l,u,c=e.hash(),_=0,p=a.$$keys,f=p.length;f>_;_++)s=p[_],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n||e.hash_put(c,s,l);return c},B.$$arity=0),e.defn(Z,"$reject!",H=function(){var t,r,$,a=this,i=H.$$p,o=i||n;if(H.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"reject!");for(var s,l,u,c=!1,_=0,p=a.$$keys,f=p.length;f>_;_++)s=p[_],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n&&void 0!==e.hash_delete(a,s)&&(c=!0,f--,_--);return c?a:n},H.$$arity=0),e.defn(Z,"$replace",L=function(t){var r,$,a=this;t=Q.get("Opal")["$coerce_to!"](t,Q.get("Hash"),"to_hash"),e.hash_init(a);for(var i,o,s=0,l=t.$$keys,u=l.length;u>s;s++)i=l[s],i.$$is_string?o=t.$$smap[i]:(o=i.value,i=i.key),e.hash_put(a,i,o);return(r=t.$default_proc())===n||null==r||r.$$is_boolean&&1!=r?(r=[t.$default()],$=a,$["$default="].apply($,r),r[r.length-1]):(r=[t.$default_proc()],$=a,$["$default_proc="].apply($,r),r[r.length-1]),a},L.$$arity=1),e.defn(Z,"$select",U=function(){var t,r,$,a=this,i=U.$$p,o=i||n;if(U.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"select");for(var s,l,u,c=e.hash(),_=0,p=a.$$keys,f=p.length;f>_;_++)s=p[_],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n&&e.hash_put(c,s,l);return c},U.$$arity=0),e.defn(Z,"$select!",G=function(){var t,r,$,a=this,i=G.$$p,o=i||n;if(G.$$p=null,o===!1||o===n||null==o)return(t=(r=a).$enum_for,t.$$p=($=function(){var e=$.$$s||this;return e.$size()},$.$$s=a,$.$$arity=0,$),t).call(r,"select!");for(var s,l,u,c=n,_=0,p=a.$$keys,f=p.length;f>_;_++)s=p[_],s.$$is_string?l=a.$$smap[s]:(l=s.value,s=s.key),u=o(s,l),u!==!1&&u!==n||(void 0!==e.hash_delete(a,s)&&(f--,_--),c=a);return c},G.$$arity=0),e.defn(Z,"$shift",Y=function(){var t,r=this,$=r.$$keys;return $.length>0?(t=$[0],t=t.$$is_string?t:t.key,[t,e.hash_delete(r,t)]):r.$default(n)},Y.$$arity=0),e.alias(Z,"size","length"),Z.$alias_method("store","[]="),e.defn(Z,"$to_a",V=function(){for(var e,t,r=this,n=[],$=0,a=r.$$keys,i=a.length;i>$;$++)e=a[$],e.$$is_string?t=r.$$smap[e]:(t=e.value,e=e.key),n.push([e,t]);return n},V.$$arity=0),e.defn(Z,"$to_h",X=function(){var t=this;if(t.$$class===e.Hash)return t;var r=new e.Hash.$$alloc;return e.hash_init(r),e.hash_clone(t,r),r},X.$$arity=0),e.defn(Z,"$to_hash",K=function(){var e=this;return e},K.$$arity=0),e.alias(Z,"to_s","inspect"),e.alias(Z,"update","merge!"),e.alias(Z,"value?","has_value?"),e.alias(Z,"values_at","indexes"),e.defn(Z,"$values",W=function(){for(var e,t=this,r=[],n=0,$=t.$$keys,a=$.length;a>n;n++)e=$[n],e.$$is_string?r.push(t.$$smap[e]):r.push(e.value);return r},W.$$arity=0),n&&"values"}(r.base,null)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var l=e.top,u=e,c=e.nil,_=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),l.$require("corelib/numeric"),function(l,$super){function u(){}var p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue,ce,_e,pe,fe,de,he,ge,me,ye,ve,be,xe,we=u=_(l,$super,"Number",u),ke=(we.$$proto,we.$$scope);ke.get("Opal").$bridge(we,Number),Number.prototype.$$is_number=!0,e.defn(we,"$coerce",p=function(e){var t=this;if(e===c)t.$raise(ke.get("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[t.$Float(e),t];if(e["$respond_to?"]("to_f"))return[ke.get("Opal")["$coerce_to!"](e,ke.get("Float"),"to_f"),t];if(e.$$is_number)return[e,t];t.$raise(ke.get("TypeError"),"can't convert "+e.$class()+" into Float")}},p.$$arity=1),e.defn(we,"$__id__",f=function(){var e=this;return 2*e+1},f.$$arity=0),e.alias(we,"object_id","__id__"),e.defn(we,"$+",d=function(e){var t=this;return e.$$is_number?t+e:t.$__coerced__("+",e)},d.$$arity=1),e.defn(we,"$-",h=function(e){var t=this;return e.$$is_number?t-e:t.$__coerced__("-",e)},h.$$arity=1),e.defn(we,"$*",g=function(e){var t=this;return e.$$is_number?t*e:t.$__coerced__("*",e)},g.$$arity=1),e.defn(we,"$/",m=function(e){var t=this;return e.$$is_number?t/e:t.$__coerced__("/",e)},m.$$arity=1),e.alias(we,"fdiv","/"),e.defn(we,"$%",y=function(e){var t=this;return e.$$is_number?e==-(1/0)?e:0!=e?0>e||0>t?(t%e+e)%e:t%e:void t.$raise(ke.get("ZeroDivisionError"),"divided by 0"):t.$__coerced__("%",e)},y.$$arity=1),e.defn(we,"$&",v=function(e){var t=this;return e.$$is_number?t&e:t.$__coerced__("&",e)},v.$$arity=1),e.defn(we,"$|",b=function(e){var t=this;return e.$$is_number?t|e:t.$__coerced__("|",e)},b.$$arity=1),e.defn(we,"$^",x=function(e){var t=this;return e.$$is_number?t^e:t.$__coerced__("^",e)},x.$$arity=1),e.defn(we,"$<",w=function(e){var t=this;return e.$$is_number?e>t:t.$__coerced__("<",e)},w.$$arity=1),e.defn(we,"$<=",k=function(e){var t=this;return e.$$is_number?e>=t:t.$__coerced__("<=",e)},k.$$arity=1),e.defn(we,"$>",S=function(e){var t=this;return e.$$is_number?t>e:t.$__coerced__(">",e);
},S.$$arity=1),e.defn(we,"$>=",E=function(e){var t=this;return e.$$is_number?t>=e:t.$__coerced__(">=",e)},E.$$arity=1);var Se=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?c:e>t?1:t>e?-1:0:e.$__coerced__("<=>",t)};return e.defn(we,"$<=>",R=function(t){var r=this;try{return Se(r,t)}catch(n){if(!e.rescue(n,[ke.get("ArgumentError")]))throw n;try{return c}finally{e.pop_exception()}}},R.$$arity=1),e.defn(we,"$<<",A=function(e){var t=this;return e=ke.get("Opal")["$coerce_to!"](e,ke.get("Integer"),"to_int"),e>0?t<<e:t>>-e},A.$$arity=1),e.defn(we,"$>>",O=function(e){var t=this;return e=ke.get("Opal")["$coerce_to!"](e,ke.get("Integer"),"to_int"),e>0?t>>e:t<<-e},O.$$arity=1),e.defn(we,"$[]",M=function(e){var t=this;return e=ke.get("Opal")["$coerce_to!"](e,ke.get("Integer"),"to_int"),0>e?0:e>=32?0>t?1:0:t>>e&1},M.$$arity=1),e.defn(we,"$+@",T=function(){var e=this;return+e},T.$$arity=0),e.defn(we,"$-@",C=function(){var e=this;return-e},C.$$arity=0),e.defn(we,"$~",I=function(){var e=this;return~e},I.$$arity=0),e.defn(we,"$**",z=function(e){var n,$,a,i=this;return(n=ke.get("Integer")["$==="](e))===c||null==n||n.$$is_boolean&&1!=n?(n=($=r(i,0))?(a=ke.get("Float")["$==="](e))!==!1&&a!==c&&null!=a?a:ke.get("Rational")["$==="](e):r(i,0))===c||null==n||n.$$is_boolean&&1!=n?(n=null!=e.$$is_number)===c||null==n||n.$$is_boolean&&1!=n?i.$__coerced__("**",e):Math.pow(i,e):ke.get("Complex").$new(i,0)["$**"](e.$to_f()):(n=($=ke.get("Integer")["$==="](i)["$!"]())!==!1&&$!==c&&null!=$?$:t(e,0))===c||null==n||n.$$is_boolean&&1!=n?ke.get("Rational").$new(i,1)["$**"](e):Math.pow(i,e)},z.$$arity=1),e.defn(we,"$==",j=function(e){var t=this;return e.$$is_number?t==Number(e):e["$respond_to?"]("==")?e["$=="](t):!1},j.$$arity=1),e.defn(we,"$abs",q=function(){var e=this;return Math.abs(e)},q.$$arity=0),e.defn(we,"$abs2",N=function(){var e=this;return Math.abs(e*e)},N.$$arity=0),e.defn(we,"$angle",P=function(){var e,t=this;return(e=t["$nan?"]())===c||null==e||e.$$is_boolean&&1!=e?0==t?1/t>0?0:Math.PI:0>t?Math.PI:0:t},P.$$arity=0),e.alias(we,"arg","angle"),e.alias(we,"phase","angle"),e.defn(we,"$bit_length",F=function(){var e,t=this;if(((e=ke.get("Integer")["$==="](t))===c||null==e||e.$$is_boolean&&1!=e)&&t.$raise(ke.get("NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||-1===t)return 0;for(var r=0,n=0>t?~t:t;0!=n;)r+=1,n>>>=1;return r},F.$$arity=0),e.defn(we,"$ceil",D=function(){var e=this;return Math.ceil(e)},D.$$arity=0),e.defn(we,"$chr",B=function(){var e=this;return String.fromCharCode(e)},B.$$arity=-1),e.defn(we,"$denominator",H=function(){var t,r,n=this,$=H.$$p,a=c,i=c;for(H.$$p=null,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return(t=(r=n["$nan?"]())!==!1&&r!==c&&null!=r?r:n["$infinite?"]())===c||null==t||t.$$is_boolean&&1!=t?(r=n,t=e.find_super_dispatcher(n,"denominator",H,!1),t.$$p=$,t).apply(r,a):1},H.$$arity=0),e.defn(we,"$downto",L=function(e){var r,a,i,o=this,s=L.$$p,l=s||c;if(L.$$p=null,l===c)return(r=(a=o).$enum_for,r.$$p=(i=function(){var r,a=i.$$s||this;return((r=ke.get("Numeric")["$==="](e))===c||null==r||r.$$is_boolean&&1!=r)&&a.$raise(ke.get("ArgumentError"),"comparison of "+a.$class()+" with "+e.$class()+" failed"),(r=t(e,a))===c||null==r||r.$$is_boolean&&1!=r?n($(a,e),1):0},i.$$s=o,i.$$arity=0,i),r).call(a,"downto",e);e.$$is_number||o.$raise(ke.get("ArgumentError"),"comparison of "+o.$class()+" with "+e.$class()+" failed");for(var u=o;u>=e;u--)l(u);return o},L.$$arity=1),e.alias(we,"eql?","=="),e.defn(we,"$equal?",U=function(e){var t,r=this;return(t=r["$=="](e))!==!1&&t!==c&&null!=t?t:isNaN(r)&&isNaN(e)},U.$$arity=1),e.defn(we,"$even?",G=function(){var e=this;return e%2===0},G.$$arity=0),e.defn(we,"$floor",Y=function(){var e=this;return Math.floor(e)},Y.$$arity=0),e.defn(we,"$gcd",V=function(e){var t,r=this;((t=ke.get("Integer")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&r.$raise(ke.get("TypeError"),"not an integer");for(var n=Math.abs(r),$=Math.abs(e);n>0;){var a=n;n=$%n,$=a}return $},V.$$arity=1),e.defn(we,"$gcdlcm",X=function(){var e=this;return[e.$gcd(),e.$lcm()]},X.$$arity=1),e.defn(we,"$integer?",K=function(){var e=this;return e%1===0},K.$$arity=0),e.defn(we,"$is_a?",W=function(t){var r,n,$=this,a=W.$$p,i=c,o=c;for(W.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return((r=(n=t["$=="](ke.get("Fixnum")))?ke.get("Integer")["$==="]($):t["$=="](ke.get("Fixnum")))===c||null==r||r.$$is_boolean&&1!=r)&&((r=(n=t["$=="](ke.get("Integer")))?ke.get("Integer")["$==="]($):t["$=="](ke.get("Integer")))===c||null==r||r.$$is_boolean&&1!=r)&&((r=(n=t["$=="](ke.get("Float")))?ke.get("Float")["$==="]($):t["$=="](ke.get("Float")))===c||null==r||r.$$is_boolean&&1!=r)?(n=$,r=e.find_super_dispatcher($,"is_a?",W,!1),r.$$p=a,r).apply(n,i):!0},W.$$arity=1),e.alias(we,"kind_of?","is_a?"),e.defn(we,"$instance_of?",Z=function(t){var r,n,$=this,a=Z.$$p,i=c,o=c;for(Z.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return((r=(n=t["$=="](ke.get("Fixnum")))?ke.get("Integer")["$==="]($):t["$=="](ke.get("Fixnum")))===c||null==r||r.$$is_boolean&&1!=r)&&((r=(n=t["$=="](ke.get("Integer")))?ke.get("Integer")["$==="]($):t["$=="](ke.get("Integer")))===c||null==r||r.$$is_boolean&&1!=r)&&((r=(n=t["$=="](ke.get("Float")))?ke.get("Float")["$==="]($):t["$=="](ke.get("Float")))===c||null==r||r.$$is_boolean&&1!=r)?(n=$,r=e.find_super_dispatcher($,"instance_of?",Z,!1),r.$$p=a,r).apply(n,i):!0},Z.$$arity=1),e.defn(we,"$lcm",J=function(e){var t,r=this;return((t=ke.get("Integer")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&r.$raise(ke.get("TypeError"),"not an integer"),0==r||0==e?0:Math.abs(r*e/r.$gcd(e))},J.$$arity=1),e.alias(we,"magnitude","abs"),e.alias(we,"modulo","%"),e.defn(we,"$next",Q=function(){var e=this;return e+1},Q.$$arity=0),e.defn(we,"$nonzero?",ee=function(){var e=this;return 0==e?c:e},ee.$$arity=0),e.defn(we,"$numerator",te=function(){var t,r,n=this,$=te.$$p,a=c,i=c;for(te.$$p=null,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return(t=(r=n["$nan?"]())!==!1&&r!==c&&null!=r?r:n["$infinite?"]())===c||null==t||t.$$is_boolean&&1!=t?(r=n,t=e.find_super_dispatcher(n,"numerator",te,!1),t.$$p=$,t).apply(r,a):n},te.$$arity=0),e.defn(we,"$odd?",re=function(){var e=this;return e%2!==0},re.$$arity=0),e.defn(we,"$ord",ne=function(){var e=this;return e},ne.$$arity=0),e.defn(we,"$pred",$e=function(){var e=this;return e-1},$e.$$arity=0),e.defn(we,"$quo",ae=function(t){var r,n,$=this,i=ae.$$p,o=c,s=c;for(ae.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=ke.get("Integer")["$==="]($))===c||null==r||r.$$is_boolean&&1!=r?a($,t):(n=$,r=e.find_super_dispatcher($,"quo",ae,!1),r.$$p=i,r).apply(n,o)},ae.$$arity=1),e.defn(we,"$rationalize",ie=function(t){var r,n,a=this,o=c,s=c;return arguments.length>1&&a.$raise(ke.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(r=ke.get("Integer")["$==="](a))===c||null==r||r.$$is_boolean&&1!=r?(r=a["$infinite?"]())===c||null==r||r.$$is_boolean&&1!=r?(r=a["$nan?"]())===c||null==r||r.$$is_boolean&&1!=r?(r=null==t)===c||null==r||r.$$is_boolean&&1!=r?a.$to_r().$rationalize(t):(n=ke.get("Math").$frexp(a),r=e.to_ary(n),o=null==r[0]?c:r[0],s=null==r[1]?c:r[1],n,o=ke.get("Math").$ldexp(o,ke.get("Float").$$scope.get("MANT_DIG")).$to_i(),s=$(s,ke.get("Float").$$scope.get("MANT_DIG")),ke.get("Rational").$new(i(2,o),1["$<<"]($(1,s))).$rationalize(ke.get("Rational").$new(1,1["$<<"]($(1,s))))):a.$raise(ke.get("FloatDomainError"),"NaN"):a.$raise(ke.get("FloatDomainError"),"Infinity"):ke.get("Rational").$new(a,1)},ie.$$arity=-1),e.defn(we,"$round",oe=function(i){var l,u,_=this,p=c,f=c;if((l=ke.get("Integer")["$==="](_))===c||null==l||l.$$is_boolean&&1!=l){if(u=_["$nan?"](),(l=u!==!1&&u!==c&&null!=u?null==i:u)===c||null==l||l.$$is_boolean&&1!=l||_.$raise(ke.get("FloatDomainError"),"NaN"),i=ke.get("Opal")["$coerce_to!"](i||0,ke.get("Integer"),"to_int"),(l=o(i,0))===c||null==l||l.$$is_boolean&&1!=l){if(i["$=="](0))return Math.round(_);if((l=(u=_["$nan?"]())!==!1&&u!==c&&null!=u?u:_["$infinite?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l))return _}else(l=_["$nan?"]())===c||null==l||l.$$is_boolean&&1!=l?(l=_["$infinite?"]())===c||null==l||l.$$is_boolean&&1!=l||_.$raise(ke.get("FloatDomainError"),"Infinity"):_.$raise(ke.get("RangeError"),"NaN");return u=ke.get("Math").$frexp(_),l=e.to_ary(u),p=null==l[0]?c:l[0],f=null==l[1]?c:l[1],u,(l=s(i,$(n(ke.get("Float").$$scope.get("DIG"),2),function(){return(u=t(f,0))===c||null==u||u.$$is_boolean&&1!=u?$(a(f,3),1):a(f,4)}())))===c||null==l||l.$$is_boolean&&1!=l?(l=r(i,function(){return(u=t(f,0))===c||null==u||u.$$is_boolean&&1!=u?a(f,4):n(a(f,3),1)}()["$-@"]()))===c||null==l||l.$$is_boolean&&1!=l?Math.round(_*Math.pow(10,i))/Math.pow(10,i):0:_}if((l=null==i)!==c&&null!=l&&(!l.$$is_boolean||1==l))return _;if(u=ke.get("Float")["$==="](i),(l=u!==!1&&u!==c&&null!=u?i["$infinite?"]():u)===c||null==l||l.$$is_boolean&&1!=l||_.$raise(ke.get("RangeError"),"Infinity"),i=ke.get("Opal")["$coerce_to!"](i,ke.get("Integer"),"to_int"),(l=r(i,ke.get("Integer").$$scope.get("MIN")))===c||null==l||l.$$is_boolean&&1!=l||_.$raise(ke.get("RangeError"),"out of bounds"),(l=i>=0)!==c&&null!=l&&(!l.$$is_boolean||1==l))return _;if(i=i["$-@"](),.415241*i-.125>_.$size())return 0;var d=Math.pow(10,i),h=Math.floor((Math.abs(h)+d/2)/d)*d;return 0>_?-h:h},oe.$$arity=-1),e.defn(we,"$step",se=function(e,t){var r,n=this,$=se.$$p,a=$||c;if(null==t&&(t=1),se.$$p=null,a===!1||a===c||null==a)return n.$enum_for("step",e,t);(r=0==t)===c||null==r||r.$$is_boolean&&1!=r||n.$raise(ke.get("ArgumentError"),"step cannot be 0");var i=n;if(e===1/0||e===-(1/0))return a(i),n;if(t>0)for(;e>=i;)a(i),i+=t;else for(;i>=e;)a(i),i+=t;return n},se.$$arity=-2),e.alias(we,"succ","next"),e.defn(we,"$times",le=function(){var e,t,r,n=this,$=le.$$p,a=$||c;if(le.$$p=null,a===!1||a===c||null==a)return(e=(t=n).$enum_for,e.$$p=(r=function(){var e=r.$$s||this;return e},r.$$s=n,r.$$arity=0,r),e).call(t,"times");for(var i=0;n>i;i++)a(i);return n},le.$$arity=0),e.defn(we,"$to_f",ue=function(){var e=this;return e},ue.$$arity=0),e.defn(we,"$to_i",ce=function(){var e=this;return parseInt(e,10)},ce.$$arity=0),e.alias(we,"to_int","to_i"),e.defn(we,"$to_r",_e=function(){var t,r,n=this,a=c,o=c;return(t=ke.get("Integer")["$==="](n))===c||null==t||t.$$is_boolean&&1!=t?(r=ke.get("Math").$frexp(n),t=e.to_ary(r),a=null==t[0]?c:t[0],o=null==t[1]?c:t[1],r,a=ke.get("Math").$ldexp(a,ke.get("Float").$$scope.get("MANT_DIG")).$to_i(),o=$(o,ke.get("Float").$$scope.get("MANT_DIG")),i(a,ke.get("Float").$$scope.get("RADIX")["$**"](o)).$to_r()):ke.get("Rational").$new(n,1)},_e.$$arity=0),e.defn(we,"$to_s",pe=function(e){var n,$,a=this;return null==e&&(e=10),(n=($=r(e,2))!==!1&&$!==c&&null!=$?$:t(e,36))===c||null==n||n.$$is_boolean&&1!=n||a.$raise(ke.get("ArgumentError"),"base must be between 2 and 36"),a.toString(e)},pe.$$arity=-1),e.alias(we,"truncate","to_i"),e.alias(we,"inspect","to_s"),e.defn(we,"$divmod",fe=function(t){var r,n,$=this,a=fe.$$p,i=c,o=c;for(fe.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(r=(n=$["$nan?"]())!==!1&&n!==c&&null!=n?n:t["$nan?"]())===c||null==r||r.$$is_boolean&&1!=r?(r=$["$infinite?"]())===c||null==r||r.$$is_boolean&&1!=r?(n=$,r=e.find_super_dispatcher($,"divmod",fe,!1),r.$$p=a,r).apply(n,i):$.$raise(ke.get("FloatDomainError"),"Infinity"):$.$raise(ke.get("FloatDomainError"),"NaN")},fe.$$arity=1),e.defn(we,"$upto",de=function(e){var t,a,i,o=this,s=de.$$p,l=s||c;if(de.$$p=null,l===c)return(t=(a=o).$enum_for,t.$$p=(i=function(){var t,a=i.$$s||this;return((t=ke.get("Numeric")["$==="](e))===c||null==t||t.$$is_boolean&&1!=t)&&a.$raise(ke.get("ArgumentError"),"comparison of "+a.$class()+" with "+e.$class()+" failed"),(t=r(e,a))===c||null==t||t.$$is_boolean&&1!=t?n($(e,a),1):0},i.$$s=o,i.$$arity=0,i),t).call(a,"upto",e);e.$$is_number||o.$raise(ke.get("ArgumentError"),"comparison of "+o.$class()+" with "+e.$class()+" failed");for(var u=o;e>=u;u++)l(u);return o},de.$$arity=1),e.defn(we,"$zero?",he=function(){var e=this;return 0==e},he.$$arity=0),e.defn(we,"$size",ge=function(){return 4},ge.$$arity=0),e.defn(we,"$nan?",me=function(){var e=this;return isNaN(e)},me.$$arity=0),e.defn(we,"$finite?",ye=function(){var e=this;return e!=1/0&&e!=-(1/0)&&!isNaN(e)},ye.$$arity=0),e.defn(we,"$infinite?",ve=function(){var e=this;return e==1/0?1:e==-(1/0)?-1:c},ve.$$arity=0),e.defn(we,"$positive?",be=function(){var e=this;return e==1/0||1/e>0},be.$$arity=0),e.defn(we,"$negative?",xe=function(){var e=this;return e==-(1/0)||0>1/e},xe.$$arity=0),c&&"negative?"}(u.base,u.get("Numeric")),e.cdecl(u,"Fixnum",u.get("Number")),function(t,$super){function r(){}var n,$=r=_(t,$super,"Integer",r),a=($.$$proto,$.$$scope);return e.defs($,"$===",n=function(e){return e.$$is_number?e%1===0:!1},n.$$arity=1),e.cdecl(a,"MAX",Math.pow(2,30)-1),e.cdecl(a,"MIN",-Math.pow(2,30))}(u.base,u.get("Numeric")),function(t,$super){function r(){}var n,$,a=r=_(t,$super,"Float",r),i=(a.$$proto,a.$$scope);return e.defs(a,"$===",n=function(e){return!!e.$$is_number},n.$$arity=1),e.cdecl(i,"INFINITY",1/0),e.cdecl(i,"MAX",Number.MAX_VALUE),e.cdecl(i,"MIN",Number.MIN_VALUE),e.cdecl(i,"NAN",NaN),e.cdecl(i,"DIG",15),e.cdecl(i,"MANT_DIG",53),e.cdecl(i,"RADIX",2),($="undefined"!=typeof Number.EPSILON)===c||null==$||$.$$is_boolean&&1!=$?e.cdecl(i,"EPSILON",2.220446049250313e-16):e.cdecl(i,"EPSILON",Number.EPSILON)}(u.base,u.get("Numeric"))},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,a=e,i=e.nil,o=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$attr_reader","$<=>","$raise","$include?","$<=","$<","$enum_for","$upto","$to_proc","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$-","$abs","$to_i","$inspect","$[]"]),$.$require("corelib/enumerable"),function($,$super){function a(){}var s,l,u,c,_,p,f,d,h,g,m,y,v,b=a=o($,$super,"Range",a),x=b.$$proto,w=b.$$scope;return x.begin=x.exclude=x.end=i,b.$include(w.get("Enumerable")),x.$$is_range=!0,b.$attr_reader("begin","end"),e.defn(b,"$initialize",s=function(e,t,r){var n,$=this;return null==r&&(r=!1),((n=e["$<=>"](t))===i||null==n||n.$$is_boolean&&1!=n)&&$.$raise(w.get("ArgumentError")),$.begin=e,$.end=t,$.exclude=r},s.$$arity=-3),e.defn(b,"$==",l=function(e){var t=this;return e.$$is_range?t.exclude===e.exclude&&t.begin==e.begin&&t.end==e.end:!1},l.$$arity=1),e.defn(b,"$===",u=function(e){var t=this;return t["$include?"](e)},u.$$arity=1),e.defn(b,"$cover?",c=function(e){var n,$,a=this;return n=t(a.begin,e),n!==!1&&n!==i&&null!=n?function(){return($=a.exclude)===i||null==$||$.$$is_boolean&&1!=$?t(e,a.end):r(e,a.end)}():n},c.$$arity=1),e.defn(b,"$each",_=function(){var t,n,$,a=this,o=_.$$p,s=o||i,l=i,u=i;if(_.$$p=null,s===i)return a.$enum_for("each");var c,p;if(a.begin.$$is_number&&a.end.$$is_number){for(a.begin%1===0&&a.end%1===0||a.$raise(w.get("TypeError"),"can't iterate from Float"),c=a.begin,p=a.end+function(){return(t=a.exclude)===i||null==t||t.$$is_boolean&&1!=t?1:0}();p>c;c++)s(c);return a}if(a.begin.$$is_string&&a.end.$$is_string)return(t=(n=a.begin).$upto,t.$$p=s.$to_proc(),t).call(n,a.end,a.exclude),a;for(l=a.begin,u=a.end;($=r(l,u))!==i&&null!=$&&(!$.$$is_boolean||1==$);)e.yield1(s,l),l=l.$succ();return $=a.exclude["$!"](),(t=$!==!1&&$!==i&&null!=$?l["$=="](u):$)===i||null==t||t.$$is_boolean&&1!=t||e.yield1(s,l),a},_.$$arity=0),e.defn(b,"$eql?",p=function(e){var t,r,n=this;return(t=w.get("Range")["$==="](e))===i||null==t||t.$$is_boolean&&1!=t?!1:(r=n.exclude["$==="](e["$exclude_end?"]()),t=r!==!1&&r!==i&&null!=r?n.begin["$eql?"](e.$begin()):r,t!==!1&&t!==i&&null!=t?n.end["$eql?"](e.$end()):t)},p.$$arity=1),e.defn(b,"$exclude_end?",f=function(){var e=this;return e.exclude},f.$$arity=0),e.alias(b,"first","begin"),e.alias(b,"include?","cover?"),e.alias(b,"last","end"),e.defn(b,"$max",d=function(){var t,r,n=this,$=d.$$p,a=$||i,o=i,s=i;for(d.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a!==i?(r=n,t=e.find_super_dispatcher(n,"max",d,!1),t.$$p=$,t).apply(r,o):n.exclude?n.end-1:n.end},d.$$arity=0),e.alias(b,"member?","cover?"),e.defn(b,"$min",h=function(){var t,r,n=this,$=h.$$p,a=$||i,o=i,s=i;for(h.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a!==i?(r=n,t=e.find_super_dispatcher(n,"min",h,!1),t.$$p=$,t).apply(r,o):n.begin},h.$$arity=0),e.alias(b,"member?","include?"),e.defn(b,"$size",g=function(){var e,t,$=this,a=i,o=i,s=i;return a=$.begin,o=$.end,(e=$.exclude)===i||null==e||e.$$is_boolean&&1!=e||(o=n(o,1)),t=w.get("Numeric")["$==="](a),(e=t!==!1&&t!==i&&null!=t?w.get("Numeric")["$==="](o):t)===i||null==e||e.$$is_boolean&&1!=e?i:(e=r(o,a))===i||null==e||e.$$is_boolean&&1!=e?(s=w.get("Float").$$scope.get("INFINITY"),(e=(t=s["$=="](a.$abs()))!==!1&&t!==i&&null!=t?t:o.$abs()["$=="](s))===i||null==e||e.$$is_boolean&&1!=e?(Math.abs(o-a)+1).$to_i():s):0},g.$$arity=0),e.defn(b,"$step",m=function(e){var t=this;return null==e&&(e=1),t.$raise(w.get("NotImplementedError"))},m.$$arity=-1),e.defn(b,"$to_s",y=function(){var e=this;return e.begin.$inspect()+(e.exclude?"...":"..")+e.end.$inspect()},y.$$arity=0),e.alias(b,"inspect","to_s"),e.defn(b,"$marshal_load",v=function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.exclude=e["$[]"]("excl")},v.$$arity=1),i&&"marshal_load"}(a.base,null)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice),$=e.klass;return e.add_stubs(["$raise","$coerce_to!"]),function(t,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h=a=$(t,$super,"Proc",a),g=h.$$proto,m=h.$$scope;return g.$$is_proc=!0,g.$$is_lambda=!1,e.defs(h,"$new",i=function(){var e=this,t=i.$$p,n=t||r;return i.$$p=null,n!==!1&&n!==r&&null!=n||e.$raise(m.get("ArgumentError"),"tried to create a Proc object without a block"),n},i.$$arity=0),e.defn(h,"$call",o=function(){var t,n=this,$=o.$$p,a=$||r,i=arguments.length,s=i-0;0>s&&(s=0),t=new Array(s);for(var l=0;i>l;l++)t[l-0]=arguments[l];o.$$p=null,a!==r&&(n.$$p=a);var u,c=n.$$brk;if(c)try{u=n.$$is_lambda?n.apply(null,t):e.yieldX(n,t)}catch(_){if(_===c)return c.$v;throw _}else u=n.$$is_lambda?n.apply(null,t):e.yieldX(n,t);return u},o.$$arity=-1),e.alias(h,"[]","call"),e.alias(h,"===","call"),e.alias(h,"yield","call"),e.defn(h,"$to_proc",s=function(){var e=this;return e},s.$$arity=0),e.defn(h,"$lambda?",l=function(){var e=this;return!!e.$$is_lambda},l.$$arity=0),e.defn(h,"$arity",u=function(){var e=this;return e.$$is_curried?-1:e.$$arity},u.$$arity=0),e.defn(h,"$source_location",c=function(){var e=this;return e.$$is_curried?r:r},c.$$arity=0),e.defn(h,"$binding",_=function(){var e=this;return e.$$is_curried&&e.$raise(m.get("ArgumentError"),"Can't create Binding"),r},_.$$arity=0),e.defn(h,"$parameters",p=function(){var e=this;if(e.$$is_curried)return[["rest"]];if(e.$$parameters){if(e.$$is_lambda)return e.$$parameters;var t,r,n=[];for(t=0,r=e.$$parameters.length;r>t;t++){var $=e.$$parameters[t];"req"===$[0]&&($=["opt",$[1]]),n.push($)}return n}return[]},p.$$arity=0),e.defn(h,"$curry",f=function(e){function t(){var $,a=n.call(arguments),i=a.length;return i>e&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(m.get("ArgumentError"),"wrong number of arguments ("+i+" for "+e+")"),i>=e?r.$call.apply(r,a):($=function(){return t.apply(null,a.concat(n.call(arguments)))},$.$$is_lambda=r.$$is_lambda,$.$$is_curried=!0,$)}var r=this;return void 0===e?e=r.length:(e=m.get("Opal")["$coerce_to!"](e,m.get("Integer"),"to_int"),r.$$is_lambda&&e!==r.length&&r.$raise(m.get("ArgumentError"),"wrong number of arguments ("+e+" for "+r.length+")")),t.$$is_lambda=r.$$is_lambda,t.$$is_curried=!0,t},f.$$arity=-1),e.defn(h,"$dup",d=function(){var e=this,t=e.$$original_proc||e,r=function(){return t.apply(this,arguments)};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},d.$$arity=0),e.alias(h,"clone","dup")}(t.base,Function)},Opal.modules["corelib/method"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice),$=e.klass;return e.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(t,$super){function a(){}var i,o,s,l,u,c,_,p=a=$(t,$super,"Method",a),f=p.$$proto,d=p.$$scope;return f.method=f.receiver=f.owner=f.name=r,p.$attr_reader("owner","receiver","name"),e.defn(p,"$initialize",i=function(e,t,r){var n=this;return n.receiver=e,n.owner=e.$class(),n.name=r,n.method=t},i.$$arity=3),e.defn(p,"$arity",o=function(){var e=this;return e.method.$arity()},o.$$arity=0),e.defn(p,"$parameters",s=function(){var e=this;return e.method.$$parameters},s.$$arity=0),e.defn(p,"$call",l=function(){var e,t=this,n=l.$$p,$=n||r,a=arguments.length,i=a-0;0>i&&(i=0),e=new Array(i);for(var o=0;a>o;o++)e[o-0]=arguments[o];return l.$$p=null,t.method.$$p=$,t.method.apply(t.receiver,e)},l.$$arity=-1),e.alias(p,"[]","call"),e.defn(p,"$unbind",u=function(){var e=this;return d.get("UnboundMethod").$new(e.owner,e.method,e.name)},u.$$arity=0),e.defn(p,"$to_proc",c=function(){var e=this,t=function(){return e.$call.apply(e,n.call(arguments))};return t.$$unbound=e.method,t.$$is_lambda=!0,t},c.$$arity=0),e.defn(p,"$inspect",_=function(){var e=this;return"#<Method: "+e.receiver.$class()+"#"+e.name+">"},_.$$arity=0),r&&"inspect"}(t.base,null),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"UnboundMethod",n),c=u.$$proto,_=u.$$scope;return c.method=c.name=c.owner=r,u.$attr_reader("owner","name"),e.defn(u,"$initialize",a=function(e,t,r){var n=this;return n.owner=e,n.method=t,n.name=r},a.$$arity=3),e.defn(u,"$arity",i=function(){var e=this;return e.method.$arity()},i.$$arity=0),e.defn(u,"$parameters",o=function(){var e=this;return e.method.$$parameters},o.$$arity=0),e.defn(u,"$bind",s=function(e){var t=this;return _.get("Method").$new(e,t.method,t.name)},s.$$arity=1),e.defn(u,"$inspect",l=function(){var e=this;return"#<UnboundMethod: "+e.owner.$name()+"#"+e.name+">"},l.$$arity=0),r&&"inspect"}(t.base,null)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.gvars),$=e.hash2;return e.add_stubs(["$new"]),n["&"]=n["~"]=n["`"]=n["'"]=r,n.LOADED_FEATURES=n['"']=e.loaded_features,n.LOAD_PATH=n[":"]=[],n["/"]="\n",n[","]=r,e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",t.get("Object").$new()),e.cdecl(t,"ENV",$([],{})),n.VERBOSE=!1,n.DEBUG=!1,n.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t){var $,a=$=n(t,"Opal"),i=(a.$$proto,a.$$scope);e.cdecl(i,"REGEXP_START",function(){return i.get("RUBY_ENGINE")["$=="]("opal")?"^":r}()),e.cdecl(i,"REGEXP_END",function(){return i.get("RUBY_ENGINE")["$=="]("opal")?"$":r}()),e.cdecl(i,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"INLINE_IDENTIFIER_REGEXP",i.get("Regexp").$new("[^"+i.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+i.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),e.cdecl(i,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(i,"CONST_NAME_REGEXP",i.get("Regexp").$new(""+i.get("REGEXP_START")+"(::)?[A-Z][^"+i.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+i.get("REGEXP_END")))}(t.base)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,a=e,i=e.nil,o=(e.breaker,e.slice,e.klass),s=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),$.$require("corelib/string"),function(t,$super){function r(){}var n,$=r=o(t,$super,"String",r),a=($.$$proto,$.$$scope);return e.defs($,"$inherited",n=function(e){var t=i;t=a.get("Class").$new(a.get("String").$$scope.get("Wrapper")),e.$$proto=t.$$proto,e.$$proto.$$class=e,e.$$alloc=t.$$alloc,e.$$parent=a.get("String").$$scope.get("Wrapper"),e.$allocate=t.$allocate,e.$new=t.$new},n.$$arity=1),i&&"inherited"}(a.base,null),function($,$super){function a(){}var l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R=a=o($,$super,"Wrapper",a),A=R.$$proto;R.$$scope;return A.literal=i,A.$$is_string=!0,e.defs(R,"$allocate",l=function(t){var r,n,$=this,o=(l.$$p,i);return null==t&&(t=""),l.$$p=null,o=(n=$,r=e.find_super_dispatcher($,"allocate",l,!1,a),r.$$p=null,r).call(n),o.literal=t,o},l.$$arity=-1),e.defs(R,"$new",u=function(){var t,r,n,$=this,a=u.$$p,o=a||i,s=i,l=arguments.length,c=l-0;0>c&&(c=0),n=new Array(c);for(var _=0;l>_;_++)n[_-0]=arguments[_];return u.$$p=null,s=$.$allocate(),(t=(r=s).$initialize,t.$$p=o.$to_proc(),t).apply(r,e.to_a(n)),s},u.$$arity=-1),e.defs(R,"$[]",c=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$allocate(e)},c.$$arity=-1),e.defn(R,"$initialize",_=function(e){var t=this;return null==e&&(e=""),t.literal=e},_.$$arity=-1),e.defn(R,"$method_missing",p=function(){var t,r,n,$=this,a=p.$$p,o=a||i,s=i,l=arguments.length,u=l-0;0>u&&(u=0),n=new Array(u);for(var c=0;l>c;c++)n[c-0]=arguments[c];return p.$$p=null,s=(t=(r=$.literal).$__send__,t.$$p=o.$to_proc(),t).apply(r,e.to_a(n)),(t=null!=s.$$is_string)===i||null==t||t.$$is_boolean&&1!=t?s:(t=s==$.literal)===i||null==t||t.$$is_boolean&&1!=t?$.$class().$allocate(s):$},p.$$arity=-1),e.defn(R,"$initialize_copy",f=function(e){var t=this;return t.literal=e.literal.$clone()},f.$$arity=1),e.defn(R,"$respond_to?",d=function(t){var r,n,$,a=this,o=d.$$p,s=i,l=i;for(d.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=($=a,n=e.find_super_dispatcher(a,"respond_to?",d,!1),n.$$p=o,n).apply($,s))!==!1&&r!==i&&null!=r?r:a.literal["$respond_to?"](t)},d.$$arity=-2),e.defn(R,"$==",h=function(e){var t=this;return t.literal["$=="](e)},h.$$arity=1),e.alias(R,"eql?","=="),e.alias(R,"===","=="),e.defn(R,"$to_s",g=function(){var e=this;return e.literal},g.$$arity=0),e.alias(R,"to_str","to_s"),e.defn(R,"$inspect",m=function(){var e=this;return e.literal.$inspect()},m.$$arity=0),e.defn(R,"$+",y=function(e){var r=this;return t(r.literal,e)},y.$$arity=1),e.defn(R,"$*",v=function(e){var t=this,n=r(t.literal,e);return n.$$is_string?t.$class().$allocate(n):n},v.$$arity=1),e.defn(R,"$split",b=function(e,t){var r,n,$,a=this;return(r=(n=a.literal.$split(e,t)).$map,r.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=i),t.$class().$allocate(e)},$.$$s=a,$.$$arity=1,$),r).call(n)},b.$$arity=-1),e.defn(R,"$replace",x=function(e){var t=this;return t.literal=e},x.$$arity=1),e.defn(R,"$each_line",w=function(t){var r,n,$,a=this,o=w.$$p,l=o||i;return null==s["/"]&&(s["/"]=i),null==t&&(t=s["/"]),w.$$p=null,l===i?a.$enum_for("each_line",t):(r=(n=a.literal).$each_line,r.$$p=($=function(t){var r=$.$$s||this;return null==t&&(t=i),e.yield1(l,r.$class().$allocate(t))},$.$$s=a,$.$$arity=1,$),r).call(n,t)},w.$$arity=-1),e.defn(R,"$lines",k=function(e){var t,r,n=this,$=k.$$p,a=$||i,o=i;return null==s["/"]&&(s["/"]=i),null==e&&(e=s["/"]),k.$$p=null,o=(t=(r=n).$each_line,t.$$p=a.$to_proc(),t).call(r,e),a!==!1&&a!==i&&null!=a?n:o.$to_a()},k.$$arity=-1),e.defn(R,"$%",S=function(e){var t=this;return t.literal["$%"](e)},S.$$arity=1),e.defn(R,"$instance_variables",E=function(){var t,r,$=this,a=E.$$p,o=i,s=i;for(E.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n((r=$,t=e.find_super_dispatcher($,"instance_variables",E,!1),t.$$p=a,t).apply(r,o),["@literal"])},E.$$arity=0),i&&"instance_variables"}(a.get("String"),null)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,n,$,a,i,o,s,l=e.top,u=e,c=e.nil,_=(e.breaker,e.slice,e.klass),p=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$const_get","$===","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),l.$require("corelib/string"),function(r,$super){function n(){}var $,a,i,o,s,l,u,f,d,h,g=n=_(r,$super,"Encoding",n),m=g.$$proto,y=g.$$scope;return m.ascii=m.dummy=m.name=c,e.defs(g,"$register",$=function(e,r){var n,a,i,o,s=this,l=$.$$p,u=l||c,_=c,f=c;return null==r&&(r=p([],{})),$.$$p=null,_=t([e],(n=r["$[]"]("aliases"))!==!1&&n!==c&&null!=n?n:[]),f=(n=(a=y.get("Class")).$new,n.$$p=u.$to_proc(),n).call(a,s).$new(e,_,(n=r["$[]"]("ascii"))!==!1&&n!==c&&null!=n?n:!1,(n=r["$[]"]("dummy"))!==!1&&n!==c&&null!=n?n:!1),(n=(i=_).$each,n.$$p=(o=function(e){var t=o.$$s||this;return null==e&&(e=c),t.$const_set(e.$sub("-","_"),f)},o.$$s=s,o.$$arity=1,o),n).call(i)},$.$$arity=-2),e.defs(g,"$find",a=function(t){try{var r,n,$,a=this,i=c;return i=t.$upcase(),(r=(n=a.$constants()).$each,r.$$p=($=function(t){var r,n,a=$.$$s||this,o=c;return null==t&&(t=c),o=a.$const_get(t),(r=y.get("Encoding")["$==="](o))===c||null==r||r.$$is_boolean&&1!=r?c:(r=(n=o.$name()["$=="](i))!==!1&&n!==c&&null!=n?n:o.$names()["$include?"](i))===c||null==r||r.$$is_boolean&&1!=r?c:void e.ret(o)},$.$$s=a,$.$$arity=1,$),r).call(n),a.$raise(y.get("ArgumentError"),"unknown encoding name - "+t)}catch(o){if(o===e.returner)return o.$v;throw o}},a.$$arity=1),function(e){e.$$scope,e.$$proto;return e.$attr_accessor("default_external")}(e.get_singleton_class(g)),g.$attr_reader("name","names"),e.defn(g,"$initialize",i=function(e,t,r,n){var $=this;return $.name=e,$.names=t,$.ascii=r,$.dummy=n},i.$$arity=4),e.defn(g,"$ascii_compatible?",o=function(){var e=this;return e.ascii},o.$$arity=0),e.defn(g,"$dummy?",s=function(){var e=this;return e.dummy},s.$$arity=0),e.defn(g,"$to_s",l=function(){var e=this;return e.name},l.$$arity=0),e.defn(g,"$inspect",u=function(){var e,t=this;return"#<Encoding:"+t.name+function(){return(e=t.dummy)===c||null==e||e.$$is_boolean&&1!=e?c:" (dummy)"}()+">"},u.$$arity=0),e.defn(g,"$each_byte",f=function(){var e=this;return e.$raise(y.get("NotImplementedError"))},f.$$arity=-1),e.defn(g,"$getbyte",d=function(){var e=this;return e.$raise(y.get("NotImplementedError"))},d.$$arity=-1),e.defn(g,"$bytesize",h=function(){var e=this;return e.$raise(y.get("NotImplementedError"))},h.$$arity=-1),function(e,$super){function t(){}var r=t=_(e,$super,"EncodingError",t);r.$$proto,r.$$scope;return c}(y.base,y.get("StandardError")),function(e,$super){function t(){}var r=t=_(e,$super,"CompatibilityError",t);r.$$proto,r.$$scope;return c}(y.base,y.get("EncodingError"))}(u.base,null),(r=(n=u.get("Encoding")).$register,r.$$p=($=function(){var t,r,n=$.$$s||this;return e.def(n,"$each_byte",t=function(r){var n=t.$$p,$=n||c;t.$$p=null;for(var a=0,i=r.length;i>a;a++){var o=r.charCodeAt(a);if(127>=o)e.yield1($,o);else for(var s=encodeURIComponent(r.charAt(a)).substr(1).split("%"),l=0,u=s.length;u>l;l++)e.yield1($,parseInt(s[l],16))}},t.$$arity=1),e.def(n,"$bytesize",r=function(){var e=this;return e.$bytes().$length()},r.$$arity=0),c&&"bytesize"},$.$$s=l,$.$$arity=0,$),r).call(n,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(r=(a=u.get("Encoding")).$register,r.$$p=(i=function(){var t,r,n=i.$$s||this;return e.def(n,"$each_byte",t=function(r){var n=t.$$p,$=n||c;t.$$p=null;for(var a=0,i=r.length;i>a;a++){var o=r.charCodeAt(a);e.yield1($,255&o),e.yield1($,o>>8)}},t.$$arity=1),e.def(n,"$bytesize",r=function(){var e=this;return e.$bytes().$length()},r.$$arity=0),c&&"bytesize"},i.$$s=l,i.$$arity=0,i),r).call(a,"UTF-16LE"),(r=(o=u.get("Encoding")).$register,r.$$p=(s=function(){var t,r,n=s.$$s||this;return e.def(n,"$each_byte",t=function(r){var n=t.$$p,$=n||c;t.$$p=null;for(var a=0,i=r.length;i>a;a++)e.yield1($,255&r.charCodeAt(a))},t.$$arity=1),e.def(n,"$bytesize",r=function(){var e=this;
return e.$bytes().$length()},r.$$arity=0),c&&"bytesize"},s.$$s=l,s.$$arity=0,s),r).call(o,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(t,$super){function r(){}var n,$,a,i,o,s,l,u=r=_(t,$super,"String",r),p=u.$$proto,f=u.$$scope;return p.encoding=c,String.prototype.encoding=f.get("Encoding").$$scope.get("UTF_16LE"),e.defn(u,"$bytes",n=function(){var e=this;return e.$each_byte().$to_a()},n.$$arity=0),e.defn(u,"$bytesize",$=function(){var e=this;return e.encoding.$bytesize(e)},$.$$arity=0),e.defn(u,"$each_byte",a=function(){var e,t,r=this,n=a.$$p,$=n||c;return a.$$p=null,$===c?r.$enum_for("each_byte"):((e=(t=r.encoding).$each_byte,e.$$p=$.$to_proc(),e).call(t,r),r)},a.$$arity=0),e.defn(u,"$encode",i=function(e){var t=this;return t.$dup().$force_encoding(e)},i.$$arity=1),e.defn(u,"$encoding",o=function(){var e=this;return e.encoding},o.$$arity=0),e.defn(u,"$force_encoding",s=function(e){var t,r=this;if(e=f.get("Opal")["$coerce_to!"](e,f.get("String"),"to_str"),e=f.get("Encoding").$find(e),e["$=="](r.encoding))return r;(t=e["$nil?"]())===c||null==t||t.$$is_boolean&&1!=t||r.$raise(f.get("ArgumentError"),"unknown encoding name - "+e);var n=new String(r);return n.encoding=e,n},s.$$arity=1),e.defn(u,"$getbyte",l=function(e){var t=this;return t.encoding.$getbyte(t,e)},l.$$arity=1),c&&"getbyte"}(u.base,null)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(n){var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N=i=a(n,"Math"),P=(N.$$proto,N.$$scope);e.cdecl(P,"E",Math.E),e.cdecl(P,"PI",Math.PI),e.cdecl(P,"DomainError",P.get("Class").$new(P.get("StandardError"))),e.defs(N,"$checked",o=function(e){var t,r=this,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];if(isNaN(t[0])||2==t.length&&isNaN(t[1]))return NaN;var i=Math[e].apply(null,t);return isNaN(i)&&r.$raise(P.get("DomainError"),'Numerical argument is out of domain - "'+e+'"'),i},o.$$arity=-2),e.defs(N,"$float!",s=function(t){var r=this;try{return r.$Float(t)}catch(n){if(!e.rescue(n,[P.get("ArgumentError")]))throw n;try{return r.$raise(P.get("Opal").$type_error(t,P.get("Float")))}finally{e.pop_exception()}}},s.$$arity=1),e.defs(N,"$integer!",l=function(t){var r=this;try{return r.$Integer(t)}catch(n){if(!e.rescue(n,[P.get("ArgumentError")]))throw n;try{return r.$raise(P.get("Opal").$type_error(t,P.get("Integer")))}finally{e.pop_exception()}}},l.$$arity=1),N.$module_function(),e.defn(N,"$acos",u=function(e){return P.get("Math").$checked("acos",P.get("Math")["$float!"](e))},u.$$arity=1),((c="undefined"!=typeof Math.acosh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(N,"$acosh",_=function(e){return P.get("Math").$checked("acosh",P.get("Math")["$float!"](e))},_.$$arity=1),e.defn(N,"$asin",p=function(e){return P.get("Math").$checked("asin",P.get("Math")["$float!"](e))},p.$$arity=1),((c="undefined"!=typeof Math.asinh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(N,"$asinh",f=function(e){return P.get("Math").$checked("asinh",P.get("Math")["$float!"](e))},f.$$arity=1),e.defn(N,"$atan",d=function(e){return P.get("Math").$checked("atan",P.get("Math")["$float!"](e))},d.$$arity=1),e.defn(N,"$atan2",h=function(e,t){return P.get("Math").$checked("atan2",P.get("Math")["$float!"](e),P.get("Math")["$float!"](t))},h.$$arity=2),((c="undefined"!=typeof Math.atanh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(N,"$atanh",g=function(e){return P.get("Math").$checked("atanh",P.get("Math")["$float!"](e))},g.$$arity=1),((c="undefined"!=typeof Math.cbrt)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.cbrt=function(e){if(0==e)return 0;if(0>e)return-Math.cbrt(-e);for(var t=e,r=0;.125>t;)t*=8,r--;for(;t>1;)t*=.125,r++;for(t=(-.46946116*t+1.072302)*t+.3812513;0>r;)t*=.5,r++;for(;r>0;)t*=2,r--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(N,"$cbrt",m=function(e){return P.get("Math").$checked("cbrt",P.get("Math")["$float!"](e))},m.$$arity=1),e.defn(N,"$cos",y=function(e){return P.get("Math").$checked("cos",P.get("Math")["$float!"](e))},y.$$arity=1),((c="undefined"!=typeof Math.cosh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(N,"$cosh",v=function(e){return P.get("Math").$checked("cosh",P.get("Math")["$float!"](e))},v.$$arity=1),((c="undefined"!=typeof Math.erf)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.erf=function(e){var t=.254829592,r=-.284496736,n=1.421413741,$=-1.453152027,a=1.061405429,i=.3275911,o=1;0>e&&(o=-1),e=Math.abs(e);var s=1/(1+i*e),l=1-((((a*s+$)*s+n)*s+r)*s+t)*s*Math.exp(-e*e);return o*l}),e.defn(N,"$erf",b=function(e){return P.get("Math").$checked("erf",P.get("Math")["$float!"](e))},b.$$arity=1),((c="undefined"!=typeof Math.erfc)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.erfc=function(e){var t=Math.abs(e),r=1/(.5*t+1),n=.17087277*r+-.82215223,$=r*n+1.48851587,a=r*$+-1.13520398,i=r*a+.27886807,o=r*i+-.18628806,s=r*o+.09678418,l=r*s+.37409196,u=r*l+1.00002368,c=r*u,_=-t*t-1.26551223+c,p=r*Math.exp(_);return 0>e?2-p:p}),e.defn(N,"$erfc",x=function(e){return P.get("Math").$checked("erfc",P.get("Math")["$float!"](e))},x.$$arity=1),e.defn(N,"$exp",w=function(e){return P.get("Math").$checked("exp",P.get("Math")["$float!"](e))},w.$$arity=1),e.defn(N,"$frexp",k=function(e){if(e=P.get("Math")["$float!"](e),isNaN(e))return[NaN,0];var t=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1,r=e/Math.pow(2,t);return[r,t]},k.$$arity=1),e.defn(N,"$gamma",S=function(e){var r=this;e=P.get("Math")["$float!"](e);var n,$,a,i,o,s,l,u,c,_=4.7421875,p=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&0>1/e)return-(1/0);if(-1!==e&&e!==-(1/0)||r.$raise(P.get("DomainError"),'Numerical argument is out of domain - "gamma"'),P.get("Integer")["$==="](e)){if(0>=e)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(i=e-2,o=e-1;i>1;)o*=i,i--;return 0==o&&(o=1),o}if(.5>e)return Math.PI/(Math.sin(Math.PI*e)*P.get("Math").$gamma(t(1,e)));if(e>=171.35)return 1/0;if(e>85)return s=e*e,l=s*e,u=l*e,c=u*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*s)-139/(51840*l)-571/(2488320*u)+163879/(209018880*c)+5246819/(75246796800*c*e));for(e-=1,a=p[0],n=1;n<p.length;++n)a+=p[n]/(e+n);return $=e+_+.5,Math.sqrt(2*Math.PI)*Math.pow($,e+.5)*Math.exp(-$)*a},S.$$arity=1),((c="undefined"!=typeof Math.hypot)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(N,"$hypot",E=function(e,t){return P.get("Math").$checked("hypot",P.get("Math")["$float!"](e),P.get("Math")["$float!"](t))},E.$$arity=2),e.defn(N,"$ldexp",R=function(e,t){var r=this;return e=P.get("Math")["$float!"](e),t=P.get("Math")["$integer!"](t),isNaN(t)&&r.$raise(P.get("RangeError"),"float NaN out of range of integer"),e*Math.pow(2,t)},R.$$arity=2),e.defn(N,"$lgamma",A=function(e){return-1==e?[1/0,1]:[Math.log(Math.abs(P.get("Math").$gamma(e))),P.get("Math").$gamma(e)<0?-1:1]},A.$$arity=1),e.defn(N,"$log",O=function(e,t){var n,a=this;return(n=P.get("String")["$==="](e))===$||null==n||n.$$is_boolean&&1!=n||a.$raise(P.get("Opal").$type_error(e,P.get("Float"))),(n=null==t)===$||null==n||n.$$is_boolean&&1!=n?((n=P.get("String")["$==="](t))===$||null==n||n.$$is_boolean&&1!=n||a.$raise(P.get("Opal").$type_error(t,P.get("Float"))),r(P.get("Math").$checked("log",P.get("Math")["$float!"](e)),P.get("Math").$checked("log",P.get("Math")["$float!"](t)))):P.get("Math").$checked("log",P.get("Math")["$float!"](e))},O.$$arity=-2),((c="undefined"!=typeof Math.log10)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(N,"$log10",M=function(e){var t,r=this;return(t=P.get("String")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t||r.$raise(P.get("Opal").$type_error(e,P.get("Float"))),P.get("Math").$checked("log10",P.get("Math")["$float!"](e))},M.$$arity=1),((c="undefined"!=typeof Math.log2)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(N,"$log2",T=function(e){var t,r=this;return(t=P.get("String")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t||r.$raise(P.get("Opal").$type_error(e,P.get("Float"))),P.get("Math").$checked("log2",P.get("Math")["$float!"](e))},T.$$arity=1),e.defn(N,"$sin",C=function(e){return P.get("Math").$checked("sin",P.get("Math")["$float!"](e))},C.$$arity=1),((c="undefined"!=typeof Math.sinh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(N,"$sinh",I=function(e){return P.get("Math").$checked("sinh",P.get("Math")["$float!"](e))},I.$$arity=1),e.defn(N,"$sqrt",z=function(e){return P.get("Math").$checked("sqrt",P.get("Math")["$float!"](e))},z.$$arity=1),e.defn(N,"$tan",j=function(e){var t;return e=P.get("Math")["$float!"](e),(t=e["$infinite?"]())===$||null==t||t.$$is_boolean&&1!=t?P.get("Math").$checked("tan",P.get("Math")["$float!"](e)):P.get("Float").$$scope.get("NAN")},j.$$arity=1),((c="undefined"!=typeof Math.tanh)===$||null==c||c.$$is_boolean&&1!=c)&&(Math.tanh=function(e){return e==1/0?1:e==-(1/0)?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(N,"$tanh",q=function(e){return P.get("Math").$checked("tanh",P.get("Math")["$float!"](e))},q.$$arity=1)}(n.base)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.klass),u=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$infinite?"]),i.$require("corelib/numeric"),function(i,$super){function o(){}var u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F=o=l(i,$super,"Complex",o),D=F.$$proto,B=F.$$scope;return D.real=D.imag=s,e.defs(F,"$rect",u=function(e,t){var r,n,$,a,i=this;return null==t&&(t=0),a=B.get("Numeric")["$==="](e),$=a!==!1&&a!==s&&null!=a?e["$real?"]():a,n=$!==!1&&$!==s&&null!=$?B.get("Numeric")["$==="](t):$,((r=n!==!1&&n!==s&&null!=n?t["$real?"]():n)===s||null==r||r.$$is_boolean&&1!=r)&&i.$raise(B.get("TypeError"),"not a real"),i.$new(e,t)},u.$$arity=-2),function(t){t.$$scope,t.$$proto;return e.alias(t,"rectangular","rect")}(e.get_singleton_class(F)),e.defs(F,"$polar",c=function(e,r){var n,$,a,i,o=this;return null==r&&(r=0),i=B.get("Numeric")["$==="](e),a=i!==!1&&i!==s&&null!=i?e["$real?"]():i,$=a!==!1&&a!==s&&null!=a?B.get("Numeric")["$==="](r):a,((n=$!==!1&&$!==s&&null!=$?r["$real?"]():$)===s||null==n||n.$$is_boolean&&1!=n)&&o.$raise(B.get("TypeError"),"not a real"),o.$new(t(e,B.get("Math").$cos(r)),t(e,B.get("Math").$sin(r)))},c.$$arity=-2),F.$attr_reader("real","imag"),e.defn(F,"$initialize",_=function(e,t){var r=this;return null==t&&(t=0),r.real=e,r.imag=t},_.$$arity=-2),e.defn(F,"$coerce",p=function(e){var t,r,n=this;return(t=B.get("Complex")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t?(r=B.get("Numeric")["$==="](e),(t=r!==!1&&r!==s&&null!=r?e["$real?"]():r)===s||null==t||t.$$is_boolean&&1!=t?n.$raise(B.get("TypeError"),""+e.$class()+" can't be coerced into Complex"):[B.get("Complex").$new(e,0),n]):[e,n]},p.$$arity=1),e.defn(F,"$==",f=function(e){var t,r,n=this;return(t=B.get("Complex")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t?(r=B.get("Numeric")["$==="](e),(t=r!==!1&&r!==s&&null!=r?e["$real?"]():r)===s||null==t||t.$$is_boolean&&1!=t?e["$=="](n):(t=n.real["$=="](e))?n.imag["$=="](0):n.real["$=="](e)):(t=n.real["$=="](e.$real()))?n.imag["$=="](e.$imag()):n.real["$=="](e.$real())},f.$$arity=1),e.defn(F,"$-@",d=function(){var e=this;return e.$Complex(e.real["$-@"](),e.imag["$-@"]())},d.$$arity=0),e.defn(F,"$+",h=function(e){var t,n,$=this;return(t=B.get("Complex")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t?(n=B.get("Numeric")["$==="](e),(t=n!==!1&&n!==s&&null!=n?e["$real?"]():n)===s||null==t||t.$$is_boolean&&1!=t?$.$__coerced__("+",e):$.$Complex(r($.real,e),$.imag)):$.$Complex(r($.real,e.$real()),r($.imag,e.$imag()))},h.$$arity=1),e.defn(F,"$-",g=function(e){var t,r,$=this;return(t=B.get("Complex")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t?(r=B.get("Numeric")["$==="](e),(t=r!==!1&&r!==s&&null!=r?e["$real?"]():r)===s||null==t||t.$$is_boolean&&1!=t?$.$__coerced__("-",e):$.$Complex(n($.real,e),$.imag)):$.$Complex(n($.real,e.$real()),n($.imag,e.$imag()))},g.$$arity=1),e.defn(F,"$*",m=function(e){var $,a,i=this;return($=B.get("Complex")["$==="](e))===s||null==$||$.$$is_boolean&&1!=$?(a=B.get("Numeric")["$==="](e),($=a!==!1&&a!==s&&null!=a?e["$real?"]():a)===s||null==$||$.$$is_boolean&&1!=$?i.$__coerced__("*",e):i.$Complex(t(i.real,e),t(i.imag,e))):i.$Complex(n(t(i.real,e.$real()),t(i.imag,e.$imag())),r(t(i.real,e.$imag()),t(i.imag,e.$real())))},m.$$arity=1),e.defn(F,"$/",y=function(e){var r,n,a,i,o,l=this;return(r=B.get("Complex")["$==="](e))===s||null==r||r.$$is_boolean&&1!=r?(n=B.get("Numeric")["$==="](e),(r=n!==!1&&n!==s&&null!=n?e["$real?"]():n)===s||null==r||r.$$is_boolean&&1!=r?l.$__coerced__("/",e):l.$Complex(l.real.$quo(e),l.imag.$quo(e))):(o=B.get("Number")["$==="](l.real),(r=(n=(a=(i=o!==!1&&o!==s&&null!=o?l.real["$nan?"]():o)!==!1&&i!==s&&null!=i?i:(o=B.get("Number")["$==="](l.imag),o!==!1&&o!==s&&null!=o?l.imag["$nan?"]():o))!==!1&&a!==s&&null!=a?a:(i=B.get("Number")["$==="](e.$real()),i!==!1&&i!==s&&null!=i?e.$real()["$nan?"]():i))!==!1&&n!==s&&null!=n?n:(a=B.get("Number")["$==="](e.$imag()),a!==!1&&a!==s&&null!=a?e.$imag()["$nan?"]():a))===s||null==r||r.$$is_boolean&&1!=r?$(t(l,e.$conj()),e.$abs2()):B.get("Complex").$new(B.get("Float").$$scope.get("NAN"),B.get("Float").$$scope.get("NAN")))},y.$$arity=1),e.defn(F,"$**",v=function(i){var o,l,u,c,_,p=this,f=s,d=s,h=s,g=s,m=s,y=s,v=s,b=s,x=s,w=s,k=s;if(i["$=="](0))return B.get("Complex").$new(1,0);if((o=B.get("Complex")["$==="](i))===s||null==o||o.$$is_boolean&&1!=o){if((o=B.get("Integer")["$==="](i))===s||null==o||o.$$is_boolean&&1!=o)return(o=(l=B.get("Float")["$==="](i))!==!1&&l!==s&&null!=l?l:B.get("Rational")["$==="](i))===s||null==o||o.$$is_boolean&&1!=o?p.$__coerced__("**",i):(l=p.$polar(),o=e.to_ary(l),f=null==o[0]?s:o[0],d=null==o[1]?s:o[1],l,B.get("Complex").$polar(f["$**"](i),t(d,i)));if((o=a(i,0))===s||null==o||o.$$is_boolean&&1!=o)return $(B.get("Rational").$new(1,1),p)["$**"](i["$-@"]());for(v=p,b=v,x=n(i,1);(l=x["$!="](0))!==s&&null!=l&&(!l.$$is_boolean||1==l);){for(;_=x.$divmod(2),c=e.to_ary(_),w=null==c[0]?s:c[0],k=null==c[1]?s:c[1],(u=k["$=="](0))!==s&&null!=u&&(!u.$$is_boolean||1==u);)v=p.$Complex(n(t(v.$real(),v.$real()),t(v.$imag(),v.$imag())),t(t(2,v.$real()),v.$imag())),x=w;b=t(b,v),x=n(x,1)}return b}return l=p.$polar(),o=e.to_ary(l),f=null==o[0]?s:o[0],d=null==o[1]?s:o[1],l,h=i.$real(),g=i.$imag(),m=B.get("Math").$exp(n(t(h,B.get("Math").$log(f)),t(g,d))),y=r(t(d,h),t(g,B.get("Math").$log(f))),B.get("Complex").$polar(m,y)},v.$$arity=1),e.defn(F,"$abs",b=function(){var e=this;return B.get("Math").$hypot(e.real,e.imag)},b.$$arity=0),e.defn(F,"$abs2",x=function(){var e=this;return r(t(e.real,e.real),t(e.imag,e.imag))},x.$$arity=0),e.defn(F,"$angle",w=function(){var e=this;return B.get("Math").$atan2(e.imag,e.real)},w.$$arity=0),e.alias(F,"arg","angle"),e.defn(F,"$conj",k=function(){var e=this;return e.$Complex(e.real,e.imag["$-@"]())},k.$$arity=0),e.alias(F,"conjugate","conj"),e.defn(F,"$denominator",S=function(){var e=this;return e.real.$denominator().$lcm(e.imag.$denominator())},S.$$arity=0),e.alias(F,"divide","/"),e.defn(F,"$eql?",E=function(e){var t,r,n=this;return r=B.get("Complex")["$==="](e),t=r!==!1&&r!==s&&null!=r?n.real.$class()["$=="](n.imag.$class()):r,t!==!1&&t!==s&&null!=t?n["$=="](e):t},E.$$arity=1),e.defn(F,"$fdiv",R=function(e){var t,r=this;return((t=B.get("Numeric")["$==="](e))===s||null==t||t.$$is_boolean&&1!=t)&&r.$raise(B.get("TypeError"),""+e.$class()+" can't be coerced into Complex"),$(r,e)},R.$$arity=1),e.defn(F,"$hash",A=function(){var e=this;return"Complex:"+e.real+":"+e.imag},A.$$arity=0),e.alias(F,"imaginary","imag"),e.defn(F,"$inspect",O=function(){var e=this;return"("+e.$to_s()+")"},O.$$arity=0),e.alias(F,"magnitude","abs"),e.defn(F,"$numerator",M=function(){var e=this,r=s;return r=e.$denominator(),e.$Complex(t(e.real.$numerator(),$(r,e.real.$denominator())),t(e.imag.$numerator(),$(r,e.imag.$denominator())))},M.$$arity=0),e.alias(F,"phase","arg"),e.defn(F,"$polar",T=function(){var e=this;return[e.$abs(),e.$arg()]},T.$$arity=0),e.alias(F,"quo","/"),e.defn(F,"$rationalize",C=function(e){var t,r=this;return arguments.length>1&&r.$raise(B.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(t=r.imag["$!="](0))===s||null==t||t.$$is_boolean&&1!=t||r.$raise(B.get("RangeError"),"can't' convert "+r+" into Rational"),r.$real().$rationalize(e)},C.$$arity=-1),e.defn(F,"$real?",I=function(){return!1},I.$$arity=0),e.defn(F,"$rect",z=function(){var e=this;return[e.real,e.imag]},z.$$arity=0),e.alias(F,"rectangular","rect"),e.defn(F,"$to_f",j=function(){var e=this;return e.imag["$=="](0)||e.$raise(B.get("RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()},j.$$arity=0),e.defn(F,"$to_i",q=function(){var e=this;return e.imag["$=="](0)||e.$raise(B.get("RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()},q.$$arity=0),e.defn(F,"$to_r",N=function(){var e=this;return e.imag["$=="](0)||e.$raise(B.get("RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()},N.$$arity=0),e.defn(F,"$to_s",P=function(){var e,t,n,$=this,a=s;return a=$.real.$inspect(),n=B.get("Number")["$==="]($.imag),a=(e=(t=n!==!1&&n!==s&&null!=n?$.imag["$nan?"]():n)!==!1&&t!==s&&null!=t?t:$.imag["$positive?"]())===s||null==e||e.$$is_boolean&&1!=e?r(a,"-"):r(a,"+"),a=r(a,$.imag.$abs().$inspect()),t=B.get("Number")["$==="]($.imag),(e=t!==!1&&t!==s&&null!=t?(n=$.imag["$nan?"]())!==!1&&n!==s&&null!=n?n:$.imag["$infinite?"]():t)===s||null==e||e.$$is_boolean&&1!=e||(a=r(a,"*")),r(a,"i")},P.$$arity=0),e.cdecl(B,"I",F.$new(0,1))}(o.base,o.get("Numeric")),function(t){var r,n,$=r=u(t,"Kernel"),a=($.$$proto,$.$$scope);e.defn($,"$Complex",n=function(e,t){return null==t&&(t=s),t!==!1&&t!==s&&null!=t?a.get("Complex").$new(e,t):a.get("Complex").$new(e,0)},n.$$arity=-2)}(o.base)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var s=e.top,l=e,u=e.nil,c=(e.breaker,e.slice,e.klass),_=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,$super){function l(){}var _,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P=l=c(s,$super,"Rational",l),F=P.$$proto,D=P.$$scope;return F.num=F.den=u,e.defs(P,"$reduce",_=function(e,n){var $,a=this,i=u;if(e=e.$to_i(),n=n.$to_i(),n["$=="](0))a.$raise(D.get("ZeroDivisionError"),"divided by 0");else if(($=t(n,0))===u||null==$||$.$$is_boolean&&1!=$){if(n["$=="](1))return a.$new(e,n)}else e=e["$-@"](),n=n["$-@"]();return i=e.$gcd(n),a.$new(r(e,i),r(n,i))},_.$$arity=2),e.defs(P,"$convert",p=function(e,t){var n,$,a,i=this;return(n=($=e["$nil?"]())!==!1&&$!==u&&null!=$?$:t["$nil?"]())===u||null==n||n.$$is_boolean&&1!=n||i.$raise(D.get("TypeError"),"cannot convert nil into Rational"),$=D.get("Integer")["$==="](e),(n=$!==!1&&$!==u&&null!=$?D.get("Integer")["$==="](t):$)===u||null==n||n.$$is_boolean&&1!=n?((n=($=(a=D.get("Float")["$==="](e))!==!1&&a!==u&&null!=a?a:D.get("String")["$==="](e))!==!1&&$!==u&&null!=$?$:D.get("Complex")["$==="](e))===u||null==n||n.$$is_boolean&&1!=n||(e=e.$to_r()),(n=($=(a=D.get("Float")["$==="](t))!==!1&&a!==u&&null!=a?a:D.get("String")["$==="](t))!==!1&&$!==u&&null!=$?$:D.get("Complex")["$==="](t))===u||null==n||n.$$is_boolean&&1!=n||(t=t.$to_r()),$=t["$equal?"](1),(n=$!==!1&&$!==u&&null!=$?D.get("Integer")["$==="](e)["$!"]():$)===u||null==n||n.$$is_boolean&&1!=n?($=D.get("Numeric")["$==="](e),(n=$!==!1&&$!==u&&null!=$?D.get("Numeric")["$==="](t):$)===u||null==n||n.$$is_boolean&&1!=n?i.$reduce(e,t):r(e,t)):D.get("Opal")["$coerce_to!"](e,D.get("Rational"),"to_r")):i.$reduce(e,t)},p.$$arity=2),P.$attr_reader("numerator","denominator"),e.defn(P,"$initialize",f=function(e,t){var r=this;return r.num=e,r.den=t},f.$$arity=2),e.defn(P,"$numerator",d=function(){var e=this;return e.num},d.$$arity=0),e.defn(P,"$denominator",h=function(){var e=this;return e.den},h.$$arity=0),e.defn(P,"$coerce",g=function(e){var t=this,r=u;return function(){return r=e,D.get("Rational")["$==="](r)?[e,t]:D.get("Integer")["$==="](r)?[e.$to_r(),t]:D.get("Float")["$==="](r)?[e,t.$to_f()]:u}()},g.$$arity=1),e.defn(P,"$==",m=function(e){var t,r=this,n=u;return function(){return n=e,D.get("Rational")["$==="](n)?(t=r.num["$=="](e.$numerator()))?r.den["$=="](e.$denominator()):r.num["$=="](e.$numerator()):D.get("Integer")["$==="](n)?(t=r.num["$=="](e))?r.den["$=="](1):r.num["$=="](e):D.get("Float")["$==="](n)?r.$to_f()["$=="](e):e["$=="](r)}()},m.$$arity=1),e.defn(P,"$<=>",y=function(e){var t=this,r=u;return function(){return r=e,D.get("Rational")["$==="](r)?n($(t.num,e.$denominator()),$(t.den,e.$numerator()))["$<=>"](0):D.get("Integer")["$==="](r)?n(t.num,$(t.den,e))["$<=>"](0):D.get("Float")["$==="](r)?t.$to_f()["$<=>"](e):t.$__coerced__("<=>",e)}()},y.$$arity=1),e.defn(P,"$+",v=function(e){var t=this,r=u,n=u,i=u;return function(){return r=e,D.get("Rational")["$==="](r)?(n=a($(t.num,e.$denominator()),$(t.den,e.$numerator())),i=$(t.den,e.$denominator()),t.$Rational(n,i)):D.get("Integer")["$==="](r)?t.$Rational(a(t.num,$(e,t.den)),t.den):D.get("Float")["$==="](r)?a(t.$to_f(),e):t.$__coerced__("+",e)}()},v.$$arity=1),e.defn(P,"$-",b=function(e){var t=this,r=u,a=u,i=u;return function(){return r=e,D.get("Rational")["$==="](r)?(a=n($(t.num,e.$denominator()),$(t.den,e.$numerator())),i=$(t.den,e.$denominator()),t.$Rational(a,i)):D.get("Integer")["$==="](r)?t.$Rational(n(t.num,$(e,t.den)),t.den):D.get("Float")["$==="](r)?n(t.$to_f(),e):t.$__coerced__("-",e)}()},b.$$arity=1),e.defn(P,"$*",x=function(e){var t=this,r=u,n=u,a=u;return function(){return r=e,D.get("Rational")["$==="](r)?(n=$(t.num,e.$numerator()),a=$(t.den,e.$denominator()),t.$Rational(n,a)):D.get("Integer")["$==="](r)?t.$Rational($(t.num,e),t.den):D.get("Float")["$==="](r)?$(t.$to_f(),e):t.$__coerced__("*",e)}()},x.$$arity=1),e.defn(P,"$/",w=function(e){var t=this,n=u,a=u,i=u;return function(){return n=e,D.get("Rational")["$==="](n)?(a=$(t.num,e.$denominator()),i=$(t.den,e.$numerator()),t.$Rational(a,i)):D.get("Integer")["$==="](n)?e["$=="](0)?r(t.$to_f(),0):t.$Rational(t.num,$(t.den,e)):D.get("Float")["$==="](n)?r(t.$to_f(),e):t.$__coerced__("/",e)}()},w.$$arity=1),e.defn(P,"$**",k=function(e){var r,n,$=this,a=u;return function(){return a=e,D.get("Integer")["$==="](a)?(r=(n=$["$=="](0))?t(e,0):$["$=="](0))===u||null==r||r.$$is_boolean&&1!=r?(r=i(e,0))===u||null==r||r.$$is_boolean&&1!=r?(r=t(e,0))===u||null==r||r.$$is_boolean&&1!=r?$.$Rational(1,1):$.$Rational($.den["$**"](e["$-@"]()),$.num["$**"](e["$-@"]())):$.$Rational($.num["$**"](e),$.den["$**"](e)):D.get("Float").$$scope.get("INFINITY"):D.get("Float")["$==="](a)?$.$to_f()["$**"](e):D.get("Rational")["$==="](a)?e["$=="](0)?$.$Rational(1,1):e.$denominator()["$=="](1)?(r=t(e,0))===u||null==r||r.$$is_boolean&&1!=r?$.$Rational($.num["$**"](e.$numerator()),$.den["$**"](e.$numerator())):$.$Rational($.den["$**"](e.$numerator().$abs()),$.num["$**"](e.$numerator().$abs())):(r=(n=$["$=="](0))?t(e,0):$["$=="](0))===u||null==r||r.$$is_boolean&&1!=r?$.$to_f()["$**"](e):$.$raise(D.get("ZeroDivisionError"),"divided by 0"):$.$__coerced__("**",e)}()},k.$$arity=1),e.defn(P,"$abs",S=function(){var e=this;return e.$Rational(e.num.$abs(),e.den.$abs())},S.$$arity=0),e.defn(P,"$ceil",E=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?r(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)},E.$$arity=-1),e.alias(P,"divide","/"),e.defn(P,"$floor",R=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?r(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)},R.$$arity=-1),e.defn(P,"$hash",A=function(){var e=this;return"Rational:"+e.num+":"+e.den},A.$$arity=0),e.defn(P,"$inspect",O=function(){var e=this;return"("+e.$to_s()+")"},O.$$arity=0),e.alias(P,"quo","/"),e.defn(P,"$rationalize",M=function(e){var t=this;if(arguments.length>1&&t.$raise(D.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return t;for(var $,i,s,l,u,c=e.$abs(),_=n(t,c),p=a(t,c),f=0,d=1,h=1,g=0;;){if(s=_.$ceil(),o(s,p))break;l=s-1,$=l*d+f,i=l*g+h,u=r(1,n(p,l)),p=r(1,n(_,l)),_=u,f=d,h=g,d=$,g=i}return t.$Rational(s*d+f,s*g+h)},M.$$arity=-1),e.defn(P,"$round",T=function(e){var n,i=this,o=u,s=u,l=u;return null==e&&(e=0),e["$=="](0)?i.num["$=="](0)?0:i.den["$=="](1)?i.num:(o=a($(i.num.$abs(),2),i.den),s=$(i.den,2),l=r(o,s).$truncate(),(n=t(i.num,0))===u||null==n||n.$$is_boolean&&1!=n?l:l["$-@"]()):i.$with_precision("round",e)},T.$$arity=-1),e.defn(P,"$to_f",C=function(){var e=this;return r(e.num,e.den)},C.$$arity=0),e.defn(P,"$to_i",I=function(){var e=this;return e.$truncate()},I.$$arity=0),e.defn(P,"$to_r",z=function(){var e=this;return e},z.$$arity=0),e.defn(P,"$to_s",j=function(){var e=this;return""+e.num+"/"+e.den},j.$$arity=0),e.defn(P,"$truncate",q=function(e){var r,n=this;return null==e&&(e=0),e["$=="](0)?(r=t(n.num,0))===u||null==r||r.$$is_boolean&&1!=r?n.$floor():n.$ceil():n.$with_precision("truncate",e)},q.$$arity=-1),e.defn(P,"$with_precision",N=function(e,n){var a,i=this,o=u,s=u;return((a=D.get("Integer")["$==="](n))===u||null==a||a.$$is_boolean&&1!=a)&&i.$raise(D.get("TypeError"),"not an Integer"),o=10["$**"](n),s=$(i,o),(a=t(n,1))===u||null==a||a.$$is_boolean&&1!=a?i.$Rational(s.$send(e),o):r(s.$send(e),o).$to_i()},N.$$arity=2),u&&"with_precision"}(l.base,l.get("Numeric")),function(t){var r,n,$=r=_(t,"Kernel"),a=($.$$proto,$.$$scope);e.defn($,"$Rational",n=function(e,t){return null==t&&(t=1),a.get("Rational").$convert(e,t)},n.$$arity=-2)}(l.base)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var o=e.top,s=e,l=e.nil,u=(e.breaker,e.slice),c=e.klass,_=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,$super){function s(){}function p(e,t,r,n,$,a){if(e=e.$$is_string?parseInt(e,10):ne.get("Opal")["$coerce_to!"](e,ne.get("Integer"),"to_int"),t===l)t=1;else if(!t.$$is_number)if(t["$respond_to?"]("to_str"))switch(t=t.$to_str(),t.toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=ne.get("Opal")["$coerce_to!"](t,ne.get("Integer"),"to_int");return(1>t||t>12)&&re.$raise(ne.get("ArgumentError"),"month out of range: "+t),t-=1,r=r===l?1:r.$$is_string?parseInt(r,10):ne.get("Opal")["$coerce_to!"](r,ne.get("Integer"),"to_int"),(1>r||r>31)&&re.$raise(ne.get("ArgumentError"),"day out of range: "+r),n=n===l?0:n.$$is_string?parseInt(n,10):ne.get("Opal")["$coerce_to!"](n,ne.get("Integer"),"to_int"),(0>n||n>24)&&re.$raise(ne.get("ArgumentError"),"hour out of range: "+n),$=$===l?0:$.$$is_string?parseInt($,10):ne.get("Opal")["$coerce_to!"]($,ne.get("Integer"),"to_int"),(0>$||$>59)&&re.$raise(ne.get("ArgumentError"),"min out of range: "+$),a===l?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):ne.get("Opal")["$coerce_to!"](a,ne.get("Integer"),"to_int")),(0>a||a>60)&&re.$raise(ne.get("ArgumentError"),"sec out of range: "+a),[e,t,r,n,$,a]}var f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re=s=c(o,$super,"Time",s),ne=(re.$$proto,re.$$scope);re.$include(ne.get("Comparable"));var $e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oe=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs(re,"$at",f=function(e,t){var r,n=this;return ne.get("Time")["$==="](e)?(void 0!==t&&n.$raise(ne.get("TypeError"),"can't convert Time into an exact number"),r=new Date(e.getTime()),r.is_utc=e.is_utc,r):(e.$$is_number||(e=ne.get("Opal")["$coerce_to!"](e,ne.get("Integer"),"to_int")),void 0===t?new Date(1e3*e):(t.$$is_number||(t=ne.get("Opal")["$coerce_to!"](t,ne.get("Integer"),"to_int")),new Date(1e3*e+t/1e3)))},f.$$arity=-2),e.defs(re,"$new",d=function(e,t,r,n,$,a,i){var o=this;null==t&&(t=l),null==r&&(r=l),null==n&&(n=l),null==$&&($=l),null==a&&(a=l),null==i&&(i=l);var s,u;return void 0===e?new Date:(i!==l&&o.$raise(ne.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),s=p(e,t,r,n,$,a),e=s[0],t=s[1],r=s[2],n=s[3],$=s[4],a=s[5],u=new Date(e,t,r,n,$,0,1e3*a),100>e&&u.setFullYear(e),u)},d.$$arity=-1),e.defs(re,"$local",h=function(e,t,r,n,$,a,i,o,s,c){null==t&&(t=l),null==r&&(r=l),null==n&&(n=l),null==$&&($=l),null==a&&(a=l),null==i&&(i=l),null==o&&(o=l),null==s&&(s=l),null==c&&(c=l);var _,f;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],r=_[3],n=_[2],$=_[1],a=_[0]),_=p(e,t,r,n,$,a),e=_[0],t=_[1],r=_[2],n=_[3],$=_[4],a=_[5],f=new Date(e,t,r,n,$,0,1e3*a),100>e&&f.setFullYear(e),f},h.$$arity=-2),e.defs(re,"$gm",g=function(e,t,r,n,$,a,i,o,s,c){null==t&&(t=l),null==r&&(r=l),null==n&&(n=l),null==$&&($=l),null==a&&(a=l),null==i&&(i=l),null==o&&(o=l),null==s&&(s=l),null==c&&(c=l);var _,f;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],r=_[3],n=_[2],$=_[1],a=_[0]),_=p(e,t,r,n,$,a),e=_[0],t=_[1],r=_[2],n=_[3],$=_[4],a=_[5],f=new Date(Date.UTC(e,t,r,n,$,0,1e3*a)),100>e&&f.setUTCFullYear(e),f.is_utc=!0,f},g.$$arity=-2),function(t){t.$$scope,t.$$proto;return e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class(re)),e.defs(re,"$now",m=function(){var e=this;return e.$new()},m.$$arity=0),e.defn(re,"$+",y=function(e){var t,r=this;(t=ne.get("Time")["$==="](e))===l||null==t||t.$$is_boolean&&1!=t||r.$raise(ne.get("TypeError"),"time + time?"),
e.$$is_number||(e=ne.get("Opal")["$coerce_to!"](e,ne.get("Integer"),"to_int"));var n=new Date(r.getTime()+1e3*e);return n.is_utc=r.is_utc,n},y.$$arity=1),e.defn(re,"$-",v=function(e){var t,r=this;if((t=ne.get("Time")["$==="](e))!==l&&null!=t&&(!t.$$is_boolean||1==t))return(r.getTime()-e.getTime())/1e3;e.$$is_number||(e=ne.get("Opal")["$coerce_to!"](e,ne.get("Integer"),"to_int"));var n=new Date(r.getTime()-1e3*e);return n.is_utc=r.is_utc,n},v.$$arity=1),e.defn(re,"$<=>",b=function(e){var n,$=this,a=l;return(n=ne.get("Time")["$==="](e))===l||null==n||n.$$is_boolean&&1!=n?(a=e["$<=>"]($),(n=a["$nil?"]())===l||null==n||n.$$is_boolean&&1!=n?(n=t(a,0))===l||null==n||n.$$is_boolean&&1!=n?(n=r(a,0))===l||null==n||n.$$is_boolean&&1!=n?0:1:-1:l):$.$to_f()["$<=>"](e.$to_f())},b.$$arity=1),e.defn(re,"$==",x=function(e){var t=this;return t.$to_f()===e.$to_f()},x.$$arity=1),e.defn(re,"$asctime",w=function(){var e=this;return e.$strftime("%a %b %e %H:%M:%S %Y")},w.$$arity=0),e.alias(re,"ctime","asctime"),e.defn(re,"$day",k=function(){var e=this;return e.is_utc?e.getUTCDate():e.getDate()},k.$$arity=0),e.defn(re,"$yday",S=function(){var e=this,t=l,r=l,i=l;return t=ne.get("Time").$new(e.$year()).$to_i(),r=ne.get("Time").$new(e.$year(),e.$month(),e.$day()).$to_i(),i=86400,n($(a(r,t),i).$round(),1)},S.$$arity=0),e.defn(re,"$isdst",E=function(){var e=this,t=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),r.getTimezoneOffset())},E.$$arity=0),e.alias(re,"dst?","isdst"),e.defn(re,"$dup",R=function(){var e=this,t=l;return t=new Date(e.getTime()),t.$copy_instance_variables(e),t.$initialize_dup(e),t},R.$$arity=0),e.defn(re,"$eql?",A=function(e){var t,r=this;return t=e["$is_a?"](ne.get("Time")),t!==!1&&t!==l&&null!=t?r["$<=>"](e)["$zero?"]():t},A.$$arity=1),e.defn(re,"$friday?",O=function(){var e=this;return 5==e.$wday()},O.$$arity=0),e.defn(re,"$hash",M=function(){var e=this;return"Time:"+e.getTime()},M.$$arity=0),e.defn(re,"$hour",T=function(){var e=this;return e.is_utc?e.getUTCHours():e.getHours()},T.$$arity=0),e.defn(re,"$inspect",C=function(){var e,t=this;return(e=t["$utc?"]())===l||null==e||e.$$is_boolean&&1!=e?t.$strftime("%Y-%m-%d %H:%M:%S %z"):t.$strftime("%Y-%m-%d %H:%M:%S UTC")},C.$$arity=0),e.alias(re,"mday","day"),e.defn(re,"$min",I=function(){var e=this;return e.is_utc?e.getUTCMinutes():e.getMinutes()},I.$$arity=0),e.defn(re,"$mon",z=function(){var e=this;return(e.is_utc?e.getUTCMonth():e.getMonth())+1},z.$$arity=0),e.defn(re,"$monday?",j=function(){var e=this;return 1==e.$wday()},j.$$arity=0),e.alias(re,"month","mon"),e.defn(re,"$saturday?",q=function(){var e=this;return 6==e.$wday()},q.$$arity=0),e.defn(re,"$sec",N=function(){var e=this;return e.is_utc?e.getUTCSeconds():e.getSeconds()},N.$$arity=0),e.defn(re,"$succ",P=function(){var e=this,t=new Date(e.getTime()+1e3);return t.is_utc=e.is_utc,t},P.$$arity=0),e.defn(re,"$usec",F=function(){var e=this;return 1e3*e.getMilliseconds()},F.$$arity=0),e.defn(re,"$zone",D=function(){var e,t=this,r=t.toString();return e=-1==r.indexOf("(")?r.match(/[A-Z]{3,4}/)[0]:r.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==e&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:e},D.$$arity=0),e.defn(re,"$getgm",B=function(){var e=this,t=new Date(e.getTime());return t.is_utc=!0,t},B.$$arity=0),e.alias(re,"getutc","getgm"),e.defn(re,"$gmtime",H=function(){var e=this;return e.is_utc=!0,e},H.$$arity=0),e.alias(re,"utc","gmtime"),e.defn(re,"$gmt?",L=function(){var e=this;return e.is_utc===!0},L.$$arity=0),e.defn(re,"$gmt_offset",U=function(){var e=this;return 60*-e.getTimezoneOffset()},U.$$arity=0),e.defn(re,"$strftime",G=function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,r,n,$,a){var i="",o=-1!==r.indexOf("0"),s=-1===r.indexOf("-"),l=-1!==r.indexOf("_"),u=-1!==r.indexOf("^"),c=-1!==r.indexOf("#"),p=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&l&&(r.indexOf("0")<r.indexOf("_")?o=!1:l=!1),a){case"Y":i+=t.$year();break;case"C":o=!l,i+=Math.round(t.$year()/100);break;case"y":o=!l,i+=t.$year()%100;break;case"m":o=!l,i+=t.$mon();break;case"B":i+=oe[t.$mon()-1];break;case"b":case"h":l=!o,i+=ie[t.$mon()-1];break;case"d":o=!l,i+=t.$day();break;case"e":l=!o,i+=t.$day();break;case"j":i+=t.$yday();break;case"H":o=!l,i+=t.$hour();break;case"k":l=!o,i+=t.$hour();break;case"I":o=!l,i+=t.$hour()%12||12;break;case"l":l=!o,i+=t.$hour()%12||12;break;case"P":i+=t.$hour()>=12?"pm":"am";break;case"p":i+=t.$hour()>=12?"PM":"AM";break;case"M":o=!l,i+=t.$min();break;case"S":o=!l,i+=t.$sec();break;case"L":o=!l,n=isNaN(n)?3:n,i+=t.getMilliseconds();break;case"N":n=isNaN(n)?9:n,i+=t.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust(n,"0");break;case"z":var f=t.getTimezoneOffset(),d=Math.floor(Math.abs(f)/60),h=Math.abs(f)%60;i+=0>f?"+":"-",i+=10>d?"0":"",i+=d,p>0&&(i+=":"),i+=10>h?"0":"",i+=h,p>1&&(i+=":00");break;case"Z":i+=t.$zone();break;case"A":i+=$e[t.$wday()];break;case"a":i+=ae[t.$wday()];break;case"u":i+=t.$wday()+1;break;case"w":i+=t.$wday();break;case"V":i+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":i+=t.$cweek_cyear()["$[]"](1);break;case"g":i+=t.$cweek_cyear()["$[]"](1)["$[]"](_(-2,-1,!1));break;case"s":i+=t.$to_i();break;case"n":i+="\n";break;case"t":i+="	";break;case"%":i+="%";break;case"c":i+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=t.$strftime("%m/%d/%y");break;case"F":i+=t.$strftime("%Y-%m-%d");break;case"v":i+=t.$strftime("%e-%^b-%4Y");break;case"r":i+=t.$strftime("%I:%M:%S %p");break;case"R":i+=t.$strftime("%H:%M");break;case"T":case"X":i+=t.$strftime("%H:%M:%S");break;default:return e}return u&&(i=i.toUpperCase()),c&&(i=i.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),s&&(o||l)&&(i=i.$rjust(isNaN(n)?2:n,l?" ":"0")),i})},G.$$arity=1),e.defn(re,"$sunday?",Y=function(){var e=this;return 0==e.$wday()},Y.$$arity=0),e.defn(re,"$thursday?",V=function(){var e=this;return 4==e.$wday()},V.$$arity=0),e.defn(re,"$to_a",X=function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},X.$$arity=0),e.defn(re,"$to_f",K=function(){var e=this;return e.getTime()/1e3},K.$$arity=0),e.defn(re,"$to_i",W=function(){var e=this;return parseInt(e.getTime()/1e3,10)},W.$$arity=0),e.alias(re,"to_s","inspect"),e.defn(re,"$tuesday?",Z=function(){var e=this;return 2==e.$wday()},Z.$$arity=0),e.alias(re,"tv_sec","sec"),e.alias(re,"tv_usec","usec"),e.alias(re,"utc?","gmt?"),e.alias(re,"gmtoff","gmt_offset"),e.alias(re,"utc_offset","gmt_offset"),e.defn(re,"$wday",J=function(){var e=this;return e.is_utc?e.getUTCDay():e.getDay()},J.$$arity=0),e.defn(re,"$wednesday?",Q=function(){var e=this;return 3==e.$wday()},Q.$$arity=0),e.defn(re,"$year",ee=function(){var e=this;return e.is_utc?e.getUTCFullYear():e.getFullYear()},ee.$$arity=0),e.defn(re,"$cweek_cyear",te=function(){var e,t,r=this,o=l,s=l,u=l,c=l,_=l,p=l,f=l,d=l;return o=ne.get("Time").$new(r.$year(),1,1),s=o.$wday(),u=0,c=r.$year(),t=i(s,4),(e=t!==!1&&t!==l&&null!=t?s["$!="](0):t)===l||null==e||e.$$is_boolean&&1!=e?(_=a(a(s,7),1),_["$=="](-8)&&(_=-1)):_=a(s,1),p=$(n(r.$yday(),_),7).$ceil(),(e=i(p,0))===l||null==e||e.$$is_boolean&&1!=e?(p["$=="](53)&&(f=ne.get("Time").$new(r.$year(),12,31),d=f.$wday(),t=i(d,3),(e=t!==!1&&t!==l&&null!=t?d["$!="](0):t)===l||null==e||e.$$is_boolean&&1!=e||(p=1,c=n(c,1))),[p,c]):ne.get("Time").$new(a(r.$year(),1),12,31).$cweek_cyear()},te.$$arity=0),l&&"cweek_cyear"}(s.base,Date)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=e.top,i=e,o=e.nil,s=(e.breaker,e.slice,e.klass),l=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]=","$[]","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$inspect","$each_pair","$inject","$flatten","$to_a","$values_at"]),a.$require("corelib/enumerable"),function(a,$super){function i(){}var u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O=i=s(a,$super,"Struct",i),M=(O.$$proto,O.$$scope);return O.$include(M.get("Enumerable")),e.defs(O,"$new",u=function(t){var r,n,$,a,i,s,l,c=this,_=u.$$p,p=_||o,f=o,d=arguments.length,h=d-1;0>h&&(h=0),l=new Array(h);for(var g=1;d>g;g++)l[g-1]=arguments[g];if(u.$$p=null,t!==!1&&t!==o&&null!=t)try{t=M.get("Opal")["$const_name!"](t)}catch(m){if(!e.rescue(m,[M.get("TypeError"),M.get("NameError")]))throw m;try{l.$unshift(t),t=o}finally{e.pop_exception()}}return(r=(n=l).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=o),M.get("Opal")["$coerce_to!"](e,M.get("String"),"to_str")},$.$$s=c,$.$$arity=1,$),r).call(n),f=(r=(a=M.get("Class")).$new,r.$$p=(i=function(){var t,r,n,$=i.$$s||this;return(t=(r=l).$each,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=o),t.$define_struct_attribute(e)},n.$$s=$,n.$$arity=1,n),t).call(r),function(t){var r;t.$$scope,t.$$proto;return e.defn(t,"$new",r=function(){var t,r,n=this,$=o,a=arguments.length,i=a-0;0>i&&(i=0),r=new Array(i);for(var s=0;a>s;s++)r[s-0]=arguments[s];return $=n.$allocate(),$.$$data={},(t=$).$initialize.apply(t,e.to_a(r)),$},r.$$arity=-1),e.alias(t,"[]","new")}(e.get_singleton_class($))},i.$$s=c,i.$$arity=0,i),r).call(a,c),p!==!1&&p!==o&&null!=p&&(r=(s=f).$module_eval,r.$$p=p.$to_proc(),r).call(s),t!==!1&&t!==o&&null!=t&&M.get("Struct").$const_set(t,f),f},u.$$arity=-2),e.defs(O,"$define_struct_attribute",c=function(e){var t,r,n,$,a,i=this;return i["$=="](M.get("Struct"))&&i.$raise(M.get("ArgumentError"),"you cannot define attributes to the Struct class"),i.$members()["$<<"](e),(t=(r=i).$define_method,t.$$p=(n=function(){var t=n.$$s||this;return t.$$data[e]},n.$$s=i,n.$$arity=0,n),t).call(r,e),(t=($=i).$define_method,t.$$p=(a=function(t){var r=a.$$s||this;return null==t&&(t=o),r.$$data[e]=t},a.$$s=i,a.$$arity=1,a),t).call($,""+e+"=")},c.$$arity=1),e.defs(O,"$members",_=function(){var e,t=this;return null==t.members&&(t.members=o),t["$=="](M.get("Struct"))&&t.$raise(M.get("ArgumentError"),"the Struct class has no members"),(e=t.members)!==!1&&e!==o&&null!=e?e:t.members=[]},_.$$arity=0),e.defs(O,"$inherited",p=function(e){var t,r,n,$=this,a=o;return null==$.members&&($.members=o),a=$.members,(t=(r=e).$instance_eval,t.$$p=(n=function(){var e=n.$$s||this;return e.members=a},n.$$s=$,n.$$arity=0,n),t).call(r)},p.$$arity=1),e.defn(O,"$initialize",f=function(){var e,r,n,$,a=this,i=arguments.length,s=i-0;0>s&&(s=0),$=new Array(s);for(var l=0;i>l;l++)$[l-0]=arguments[l];return(e=t($.$length(),a.$class().$members().$length()))===o||null==e||e.$$is_boolean&&1!=e||a.$raise(M.get("ArgumentError"),"struct size differs"),(e=(r=a.$class().$members()).$each_with_index,e.$$p=(n=function(e,t){var r=n.$$s||this;return null==e&&(e=o),null==t&&(t=o),r["$[]="](e,$["$[]"](t))},n.$$s=a,n.$$arity=2,n),e).call(r)},f.$$arity=-1),e.defn(O,"$members",d=function(){var e=this;return e.$class().$members()},d.$$arity=0),e.defn(O,"$hash",h=function(){var e=this;return M.get("Hash").$new(e.$$data).$hash()},h.$$arity=0),e.defn(O,"$[]",g=function(e){var t,$=this;return(t=M.get("Integer")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?(t=M.get("String")["$==="](e))===o||null==t||t.$$is_boolean&&1!=t?$.$raise(M.get("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"):$.$$data.hasOwnProperty(e)||$.$raise(M.get("NameError").$new("no member '"+e+"' in struct",e)):((t=r(e,$.$class().$members().$size()["$-@"]()))===o||null==t||t.$$is_boolean&&1!=t||$.$raise(M.get("IndexError"),"offset "+e+" too small for struct(size:"+$.$class().$members().$size()+")"),(t=n(e,$.$class().$members().$size()))===o||null==t||t.$$is_boolean&&1!=t||$.$raise(M.get("IndexError"),"offset "+e+" too large for struct(size:"+$.$class().$members().$size()+")"),e=$.$class().$members()["$[]"](e)),e=M.get("Opal")["$coerce_to!"](e,M.get("String"),"to_str"),$.$$data[e]},g.$$arity=1),e.defn(O,"$[]=",m=function(e,t){var $,a=this;return($=M.get("Integer")["$==="](e))===o||null==$||$.$$is_boolean&&1!=$?($=M.get("String")["$==="](e))===o||null==$||$.$$is_boolean&&1!=$?a.$raise(M.get("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"):(($=a.$class().$members()["$include?"](e.$to_sym()))===o||null==$||$.$$is_boolean&&1!=$)&&a.$raise(M.get("NameError").$new("no member '"+e+"' in struct",e)):(($=r(e,a.$class().$members().$size()["$-@"]()))===o||null==$||$.$$is_boolean&&1!=$||a.$raise(M.get("IndexError"),"offset "+e+" too small for struct(size:"+a.$class().$members().$size()+")"),($=n(e,a.$class().$members().$size()))===o||null==$||$.$$is_boolean&&1!=$||a.$raise(M.get("IndexError"),"offset "+e+" too large for struct(size:"+a.$class().$members().$size()+")"),e=a.$class().$members()["$[]"](e)),e=M.get("Opal")["$coerce_to!"](e,M.get("String"),"to_str"),a.$$data[e]=t},m.$$arity=2),e.defn(O,"$==",y=function(e){function t(e,r){var n,i,o;$[e.$__id__()]=!0,a[r.$__id__()]=!0;for(n in e.$$data)if(i=e.$$data[n],o=r.$$data[n],M.get("Struct")["$==="](i)){if(!($.hasOwnProperty(i.$__id__())&&a.hasOwnProperty(o.$__id__())||t(i,o)))return!1}else if(!i["$=="](o))return!1;return!0}var r,n=this;if((r=e["$instance_of?"](n.$class()))===o||null==r||r.$$is_boolean&&1!=r)return!1;var $={},a={};return t(n,e)},y.$$arity=1),e.defn(O,"$eql?",v=function(e){function t(e,r){var n,i,o;$[e.$__id__()]=!0,a[r.$__id__()]=!0;for(n in e.$$data)if(i=e.$$data[n],o=r.$$data[n],M.get("Struct")["$==="](i)){if(!($.hasOwnProperty(i.$__id__())&&a.hasOwnProperty(o.$__id__())||t(i,o)))return!1}else if(!i["$eql?"](o))return!1;return!0}var r,n=this;if((r=e["$instance_of?"](n.$class()))===o||null==r||r.$$is_boolean&&1!=r)return!1;var $={},a={};return t(n,e)},v.$$arity=1),e.defn(O,"$each",b=function(){var t,r,n,$,a,i=this,s=b.$$p,l=s||o;return b.$$p=null,l===o?(t=(r=i).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=i,n.$$arity=0,n),t).call(r,"each"):((t=($=i.$class().$members()).$each,t.$$p=(a=function(t){var r=a.$$s||this;return null==t&&(t=o),e.yield1(l,r["$[]"](t))},a.$$s=i,a.$$arity=1,a),t).call($),i)},b.$$arity=0),e.defn(O,"$each_pair",x=function(){var t,r,n,$,a,i=this,s=x.$$p,l=s||o;return x.$$p=null,l===o?(t=(r=i).$enum_for,t.$$p=(n=function(){var e=n.$$s||this;return e.$size()},n.$$s=i,n.$$arity=0,n),t).call(r,"each_pair"):((t=($=i.$class().$members()).$each,t.$$p=(a=function(t){var r=a.$$s||this;return null==t&&(t=o),e.yield1(l,[t,r["$[]"](t)])},a.$$s=i,a.$$arity=1,a),t).call($),i)},x.$$arity=0),e.defn(O,"$length",w=function(){var e=this;return e.$class().$members().$length()},w.$$arity=0),e.alias(O,"size","length"),e.defn(O,"$to_a",k=function(){var e,t,r,n=this;return(e=(t=n.$class().$members()).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=o),t["$[]"](e)},r.$$s=n,r.$$arity=1,r),e).call(t)},k.$$arity=0),e.alias(O,"values","to_a"),e.defn(O,"$inspect",S=function(){var e,t,r,n=this,a=o;return a="#<struct ",t=M.get("Struct")["$==="](n),(e=t!==!1&&t!==o&&null!=t?n.$class().$name():t)===o||null==e||e.$$is_boolean&&1!=e||(a=$(a,""+n.$class()+" ")),a=$(a,(e=(t=n.$each_pair()).$map,e.$$p=(r=function(e,t){r.$$s||this;return null==e&&(e=o),null==t&&(t=o),""+e+"="+t.$inspect()},r.$$s=n,r.$$arity=2,r),e).call(t).$join(", ")),a=$(a,">")},S.$$arity=0),e.alias(O,"to_s","inspect"),e.defn(O,"$to_h",E=function(){var e,t,r,n=this;return(e=(t=n.$class().$members()).$inject,e.$$p=(r=function(e,t){var n=r.$$s||this;return null==e&&(e=o),null==t&&(t=o),e["$[]="](t,n["$[]"](t)),e},r.$$s=n,r.$$arity=2,r),e).call(t,l([],{}))},E.$$arity=0),e.defn(O,"$values_at",R=function(){var e,t,r,n,$=this,a=arguments.length,i=a-0;0>i&&(i=0),n=new Array(i);for(var s=0;a>s;s++)n[s-0]=arguments[s];n=(e=(t=n).$map,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=o),e.$$is_range?e.$to_a():e},r.$$s=$,r.$$arity=1,r),e).call(t).$flatten();for(var l=[],u=0,c=n.length;c>u;u++)n[u].$$is_number||$.$raise(M.get("TypeError"),"no implicit conversion of "+n[u].$class()+" into Integer"),l.push($["$[]"](n[u]));return l},R.$$arity=-1),e.defs(O,"$_load",A=function(t){var r,n,$=this,a=o;return a=(r=t).$values_at.apply(r,e.to_a($.$members())),(n=$).$new.apply(n,e.to_a(a))},A.$$arity=1),o&&"_load"}(i.base,null)},Opal.modules["corelib/io"]=function(e){var t,r,n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.klass),i=e.module,o=e.gvars;return e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$extend"]),function(t,$super){function r(){}var n,s,l,u,c=r=a(t,$super,"IO",r),_=c.$$proto,p=c.$$scope;return _.tty=_.closed=$,e.cdecl(p,"SEEK_SET",0),e.cdecl(p,"SEEK_CUR",1),e.cdecl(p,"SEEK_END",2),e.defn(c,"$tty?",n=function(){var e=this;return e.tty},n.$$arity=0),e.defn(c,"$closed?",s=function(){var e=this;return e.closed},s.$$arity=0),c.$attr_accessor("write_proc"),e.defn(c,"$write",l=function(e){var t=this;return t.write_proc(e),e.$size()},l.$$arity=1),c.$attr_accessor("sync","tty"),e.defn(c,"$flush",u=function(){return $},u.$$arity=0),function(t){var r,n,a,s,l=r=i(t,"Writable");l.$$proto,l.$$scope;e.defn(l,"$<<",n=function(e){var t=this;return t.$write(e),t},n.$$arity=1),e.defn(l,"$print",a=function(){var e,t,r,n,a=this;null==o[","]&&(o[","]=$);var i=arguments.length,s=i-0;0>s&&(s=0),n=new Array(s);for(var l=0;i>l;l++)n[l-0]=arguments[l];return a.$write((e=(t=n).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=$),t.$String(e)},r.$$s=a,r.$$arity=1,r),e).call(t).$join(o[","])),$},a.$$arity=-1),e.defn(l,"$puts",s=function(){var e,t,r,n,a=this,i=$;null==o["/"]&&(o["/"]=$);var s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return i=o["/"],(e=n["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e?a.$write((e=(t=n).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=$),t.$String(e).$chomp()},r.$$s=a,r.$$arity=1,r),e).call(t).$concat([$]).$join(i)):a.$write(o["/"]),$},s.$$arity=-1)}(p.base),function(t){var r,n,a,s,l,u=r=i(t,"Readable"),c=(u.$$proto,u.$$scope);e.defn(u,"$readbyte",n=function(){var e=this;return e.$getbyte()},n.$$arity=0),e.defn(u,"$readchar",a=function(){var e=this;return e.$getc()},a.$$arity=0),e.defn(u,"$readline",s=function(e){var t=this;return null==o["/"]&&(o["/"]=$),null==e&&(e=o["/"]),t.$raise(c.get("NotImplementedError"))},s.$$arity=-1),e.defn(u,"$readpartial",l=function(e,t){var r=this;return null==t&&(t=$),r.$raise(c.get("NotImplementedError"))},l.$$arity=-2)}(p.base)}(n.base,null),e.cdecl(n,"STDERR",o.stderr=n.get("IO").$new()),e.cdecl(n,"STDIN",o.stdin=n.get("IO").$new()),e.cdecl(n,"STDOUT",o.stdout=n.get("IO").$new()),t=["object"==typeof process?function(e){process.stdout.write(e)}:function(e){console.log(e)}],r=n.get("STDOUT"),r["$write_proc="].apply(r,t),t[t.length-1],t=["object"==typeof process?function(e){process.stderr.write(e)}:function(e){console.warn(e)}],r=n.get("STDERR"),r["$write_proc="].apply(r,t),t[t.length-1],n.get("STDOUT").$extend(n.get("IO").$$scope.get("Writable")),n.get("STDERR").$extend(n.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(e){var t,r,n=e.top,$=e,a=e.nil;e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs(n,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs(n,"$include",r=function(e){return $.get("Object").$include(e)},r.$$arity=1),a&&"include"},Opal.modules["corelib/dir"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]"]),function(t,$super){function $(){}var a=$=n(t,$super,"Dir",$);a.$$proto,a.$$scope;return function(t){var n,$,a,i=t.$$scope;t.$$proto;return e.defn(t,"$chdir",n=function(t){var $=n.$$p,a=$||r,i=r;n.$$p=null;try{return i=e.current_dir,e.current_dir=t,e.yieldX(a,[])}finally{e.current_dir=i}},n.$$arity=1),e.defn(t,"$pwd",$=function(){return e.current_dir||"."},$.$$arity=0),e.alias(t,"getwd","pwd"),e.defn(t,"$home",a=function(){var e;return(e=i.get("ENV")["$[]"]("HOME"))!==!1&&e!==r&&null!=e?e:"."},a.$$arity=0),r&&"home"}(e.get_singleton_class(a))}(t.base,null)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.klass),i=e.range;return e.add_stubs(["$join","$compact","$split","$==","$first","$[]=","$home","$pwd","$each","$pop","$<<","$raise","$respond_to?","$to_path","$class","$nil?","$is_a?","$basename","$empty?","$rindex","$[]","$+","$-","$length","$gsub","$find","$=~"]),function(n,$super){function o(){}var s=o=a(n,$super,"File",o),l=(s.$$proto,s.$$scope);return e.cdecl(l,"Separator",e.cdecl(l,"SEPARATOR","/")),e.cdecl(l,"ALT_SEPARATOR",$),e.cdecl(l,"PATH_SEPARATOR",":"),e.cdecl(l,"FNM_SYSCASE",0),function(n){function a(e){for(var t;e.length>0;)if(u(e)){for(t=e,e=e.substring(1,e.length);e.length>0&&u(e);)e=o(e);if(0==e.length)return t}else e=o(e);return e}function o(e){return e.substring(1,e.length)}function s(e){return e}function l(e){for(var t,r;e.length>0;)if(u(e)){for(t=e,e=o(e);e.length>0&&u(e);)e=o(e);if(!e)break;r=t}else e=o(e);return r}function u(e){return e.charAt(0)===x.get("SEPARATOR")}function c(e){for(;e.length>0&&u(e);)e=o(e);return e}function _(e,t){return 0==e.length?t.length:t.indexOf(e)}function p(e,t,r,n,a,i){var o;return e>=0&&(n===$?t=e:(o=".*"===n?"\\.\\w+":n.replace(/\?/g,"\\?"),o=new RegExp(o+x.get("Separator")+"*$").exec(r),t=o?o.index:e),t===i.length)?a:r.substring(0,t)}var f,d,h,g,m,y,v,b,x=n.$$scope;n.$$proto;return e.defn(n,"$expand_path",f=function(e,t){var r,n,a,i=this,o=$,s=$;return null==t&&(t=$),e=[t,e].$compact().$join(x.get("SEPARATOR")),o=e.$split(x.get("SEPARATOR")),s=[],o.$first()["$=="]("~")&&o["$[]="](0,x.get("Dir").$home()),o.$first()["$=="](".")&&o["$[]="](0,x.get("Dir").$pwd()),(r=(n=o).$each,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),e["$=="]("..")?s.$pop():s["$<<"](e)},a.$$s=i,a.$$arity=1,a),r).call(n),s.$join(x.get("SEPARATOR"))},f.$$arity=-2),e.alias(n,"realpath","expand_path"),e.defn(n,"$dirname",d=function(e){var t=this;e===$&&t.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),e["$respond_to?"]("to_path")&&(e=e.$to_path()),e.$$is_string||t.$raise(x.get("TypeError"),"no implicit conversion of "+e.$class()+" into String");var r,n;return r=c(e),0==r.length?e=e.substring(e.length-1,e.length):r.length-e.length<0&&(e=e.substring(e.indexOf(r)-1,e.length)),n=l(r),n||(n=r),n===e?".":e.substring(0,e.length-n.length)},d.$$arity=1),e.defn(n,"$basename",h=function(e,t){var r=this;null==t&&(t=$);var n,i,c,f,d,h=0,g=-1;if(e===$&&r.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),e["$respond_to?"]("to_path")&&(e=e.$to_path()),e.$$is_string||r.$raise(x.get("TypeError"),"no implicit conversion of "+e.$class()+" into String"),t===$||t.$$is_string||r.$raise(x.get("TypeError"),"no implicit conversion of "+t.$class()+" into String"),0==e.length)return e;for(d=e,e=s(e);u(e);)f=e,e=o(e);if(e){if(n=l(e))for(;u(n);)n=o(n);else n=e;for(g=_(a(n),n),i=n;_(i,n)<g&&"."===i.charAt(0);i=o(i));for(c=null;_(i,n)<g;i=o(i))"."===i.charAt(0)&&(c=i);h=c?_(c,n):g}else n=f,h=1;return p(g,h,n,t,e,d)},h.$$arity=-2),e.defn(n,"$extname",g=function(e){var n,a,o=this,s=$,l=$;return(n=e["$nil?"]())===$||null==n||n.$$is_boolean&&1!=n||o.$raise(x.get("TypeError"),"no implicit conversion of nil into String"),(n=e["$respond_to?"]("to_path"))===$||null==n||n.$$is_boolean&&1!=n||(e=e.$to_path()),((n=e["$is_a?"](x.get("String")))===$||null==n||n.$$is_boolean&&1!=n)&&o.$raise(x.get("TypeError"),"no implicit conversion of "+e.$class()+" into String"),s=o.$basename(e),(n=s["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n?(l=s["$[]"](i(1,-1,!1)).$rindex("."),(n=(a=l["$nil?"]())!==!1&&a!==$&&null!=a?a:t(l,1)["$=="](r(s.$length(),1)))===$||null==n||n.$$is_boolean&&1!=n?s["$[]"](i(t(l,1),-1,!1)):""):""},g.$$arity=1),e.defn(n,"$exist?",m=function(t){return null!=e.modules[t]},m.$$arity=1),e.alias(n,"exists?","exist?"),e.defn(n,"$directory?",y=function(t){var r,n,a,i=this,o=$,s=$;o=[];for(var l in e.modules)o.push(l);return t=t.$gsub(new RegExp("(^."+x.get("SEPARATOR")+"+|"+x.get("SEPARATOR")+"+$)")),s=(r=(n=o).$find,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),e["$=~"](new RegExp("^"+t))},a.$$s=i,a.$$arity=1,a),r).call(n)},y.$$arity=1),e.defn(n,"$join",v=function(){var e,t=arguments.length,r=t-0;0>r&&(r=0),e=new Array(r);for(var n=0;t>n;n++)e[n-0]=arguments[n];return e.$join(x.get("SEPARATOR")).$gsub(new RegExp(""+x.get("SEPARATOR")+"+"),x.get("SEPARATOR"))},v.$$arity=-1),e.defn(n,"$split",b=function(e){return e.$split(x.get("SEPARATOR"))},b.$$arity=1),$&&"split"}(e.get_singleton_class(s))}(n.base,n.get("IO"))},Opal.modules["corelib/process"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$to_f","$now","$new"]),function(t,$super){function $(){}var a,i,o,s=$=n(t,$super,"Process",$),l=(s.$$proto,s.$$scope);return e.cdecl(l,"CLOCK_REALTIME",0),e.cdecl(l,"CLOCK_MONOTONIC",1),e.defs(s,"$pid",a=function(){return 0},a.$$arity=0),e.defs(s,"$times",i=function(){var e=r;return e=l.get("Time").$now().$to_f(),l.get("Benchmark").$$scope.get("Tms").$new(e,e,e,e,e)},i.$$arity=0),e.defs(s,"$clock_gettime",o=function(e,t){return null==t&&(t=r),l.get("Time").$now().$to_f()},o.$$arity=-2),r&&"clock_gettime"}(t.base,null),function(t,$super){function $(){}var a,i=$=n(t,$super,"Signal",$);i.$$proto,i.$$scope;return e.defs(i,"$trap",a=function(){return r},a.$$arity=-1),r&&"trap"}(t.base,null),function(t,$super){function $(){}var a,i=$=n(t,$super,"GC",$);i.$$proto,i.$$scope;return e.defs(i,"$start",a=function(){return r},a.$$arity=0),r&&"start"}(t.base,null)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":i.get("Kernel").$raise(i.get("NotImplementedError"),t);break;case"warning":r(t)}}function r(e){u[e]||(u[e]=!0,a.$warn(e))}var n,$,a=e.top,i=e,o=e.nil,s=(e.breaker,e.slice,e.klass),l=e.module;e.add_stubs(["$raise","$warn","$%"]);var u={};return function(t,$super){function r(){}var n,$,a,i,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=r=s(t,$super,"String",r),k=(w.$$proto,w.$$scope),S="String#%s not supported. Mutable String methods are not supported in Opal.";return e.defn(w,"$<<",n=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("<<"))},n.$$arity=-1),e.defn(w,"$capitalize!",$=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("capitalize!"))},$.$$arity=-1),e.defn(w,"$chomp!",a=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("chomp!"))},a.$$arity=-1),e.defn(w,"$chop!",i=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("chop!"))},i.$$arity=-1),e.defn(w,"$downcase!",l=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("downcase!"))},l.$$arity=-1),e.defn(w,"$gsub!",u=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("gsub!"))},u.$$arity=-1),e.defn(w,"$lstrip!",c=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("lstrip!"))},c.$$arity=-1),e.defn(w,"$next!",_=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("next!"))},_.$$arity=-1),e.defn(w,"$reverse!",p=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("reverse!"))},p.$$arity=-1),e.defn(w,"$slice!",f=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("slice!"))},f.$$arity=-1),e.defn(w,"$squeeze!",d=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("squeeze!"))},d.$$arity=-1),e.defn(w,"$strip!",h=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("strip!"))},h.$$arity=-1),e.defn(w,"$sub!",g=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("sub!"))},g.$$arity=-1),e.defn(w,"$succ!",m=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("succ!"))},m.$$arity=-1),e.defn(w,"$swapcase!",y=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("swapcase!"))},y.$$arity=-1),e.defn(w,"$tr!",v=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("tr!"))},v.$$arity=-1),e.defn(w,"$tr_s!",b=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("tr_s!"))},b.$$arity=-1),e.defn(w,"$upcase!",x=function(){var e=this;return e.$raise(k.get("NotImplementedError"),S["$%"]("upcase!"))},x.$$arity=-1),o&&"upcase!"}(i.base,null),function(r){var n,$,a,i=n=l(r,"Kernel"),o=(i.$$proto,i.$$scope,"Object freezing is not supported by Opal");e.defn(i,"$freeze",$=function(){var e=this;return t(o),e},$.$$arity=0),e.defn(i,"$frozen?",a=function(){return t(o),!1},a.$$arity=0)}(i.base),function(r){var n,$,a,i,o=n=l(r,"Kernel"),s=(o.$$proto,o.$$scope,"Object tainting is not supported by Opal");e.defn(o,"$taint",$=function(){var e=this;return t(s),e},$.$$arity=0),e.defn(o,"$untaint",a=function(){var e=this;return t(s),e},a.$$arity=0),e.defn(o,"$tainted?",i=function(){return t(s),!1},i.$$arity=0)}(i.base),function(t,$super){function r(){}var n,$,a,i,l=r=s(t,$super,"Module",r);l.$$proto,l.$$scope;return e.defn(l,"$public",n=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return 0===e.length&&(t.$$module_function=!1),o},n.$$arity=-1),e.alias(l,"private","public"),e.alias(l,"protected","public"),e.alias(l,"nesting","public"),e.defn(l,"$private_class_method",$=function(){var e=this;return e},$.$$arity=-1),e.alias(l,"public_class_method","private_class_method"),e.defn(l,"$private_method_defined?",a=function(){return!1},a.$$arity=1),e.defn(l,"$private_constant",i=function(){return o},i.$$arity=-1),e.alias(l,"protected_method_defined?","private_method_defined?"),e.alias(l,"public_instance_methods","instance_methods"),e.alias(l,"public_method_defined?","method_defined?")}(i.base,null),function(t){var r,n,$=r=l(t,"Kernel");$.$$proto,$.$$scope;e.defn($,"$private_methods",n=function(){return[]},n.$$arity=-1),e.alias($,"private_instance_methods","private_methods")}(i.base),function(t){var r,n,$=r=l(t,"Kernel"),a=($.$$proto,$.$$scope);e.defn($,"$eval",n=function(){var e=this;return e.$raise(a.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+a.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},n.$$arity=-1)}(i.base),e.defs(a,"$public",n=function(){return o},n.$$arity=-1),e.defs(a,"$private",$=function(){return o},$.$$arity=-1),o&&"private"},function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/unsupported")}(Opal),Opal.modules["opal/rspec/fixes/opal/compatibility"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$include","$new","$===","$kind_of?","$==","$stuff"]),function(t){var a,i=a=n(t,"Opal"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s=a=n(t,"Compatibility"),l=(s.$$proto,s.$$scope);!function(e){var t,r=t=n(e,"ModuleCase");r.$$proto,r.$$scope}(l.base),function(e){var t,r=t=n(e,"ModuleCase2"),$=(r.$$proto,r.$$scope);r.$include($.get("ModuleCase"))}(l.base),function(e,$super){function t(){}var r=t=$(e,$super,"ModuleCase3",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("ModuleCase2"))}(l.base,null),e.defs(s,"$module_case_works_right?",i=function(){var e,t=r;return t=l.get("ModuleCase3").$new(),e=l.get("ModuleCase")["$==="](t),e!==!1&&e!==r&&null!=e?t["$kind_of?"](l.get("ModuleCase")):e},i.$$arity=0),function(t){var r,$,a=r=n(t,"MultModSuper1");a.$$proto,a.$$scope;e.defn(a,"$stuff",$=function(){return"howdy"},$.$$arity=0)}(l.base),function(t){var $,a,i=$=n(t,"MultModSuper2");i.$$proto,i.$$scope;e.defn(i,"$stuff",a=function(){var t,n,$=this,i=a.$$p,o=r,s=r;for(a.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];
return(n=$,t=e.find_super_dispatcher($,"stuff",a,!1),t.$$p=i,t).apply(n,o)},a.$$arity=0)}(l.base),function(e){var t,r=t=n(e,"MultModSuper3"),$=(r.$$proto,r.$$scope);r.$include($.get("MultModSuper1")),r.$include($.get("MultModSuper2"))}(l.base),function(e,$super){function t(){}var r=t=$(e,$super,"MultModSuperClass",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("MultModSuper3"))}(l.base,null),e.defs(s,"$multiple_module_include_super_works_right?",o=function(){var t=r;try{return l.get("MultModSuperClass").$new().$stuff()["$=="]("howdy")}catch(n){if(!e.rescue(n,[l.get("Exception")]))throw n;t=n;try{return!1}finally{e.pop_exception()}}},o.$$arity=0)}(o.base)}(o.base)}(t.base)},Opal.modules["opal/rspec/pre_require_fixes"]=function(e){var t,r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.klass);return((t=null!=n.RUBY_DESCRIPTION)===$||null==t||t.$$is_boolean&&1!=t)&&e.cdecl(n,"RUBY_DESCRIPTION",n.get("RUBY_VERSION")),((t=null!=n.SecurityError)===$||null==t||t.$$is_boolean&&1!=t)&&!function(e,$super){function t(){}var r=t=a(e,$super,"SecurityError",t);r.$$proto,r.$$scope;return $}(n.base,n.get("Exception")),r.$require("opal/rspec/pre_require_fixes/../fixes/opal/compatibility")},Opal.modules.template=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass),$=e.hash2;return e.add_stubs(["$[]","$[]=","$keys","$attr_reader","$instance_exec","$to_proc","$new","$<<","$join"]),function(t,$super){function a(){}var i,o,s,l,u,c,_=a=n(t,$super,"Template",a),p=_.$$proto,f=_.$$scope;return p.name=p.body=r,_._cache=$([],{}),e.defs(_,"$[]",i=function(e){var t,n=this;return null==n._cache&&(n._cache=r),(t=n._cache["$[]"](e))!==!1&&t!==r&&null!=t?t:n._cache["$[]"]("templates/"+e)},i.$$arity=1),e.defs(_,"$[]=",o=function(e,t){var n=this;return null==n._cache&&(n._cache=r),n._cache["$[]="](e,t)},o.$$arity=2),e.defs(_,"$paths",s=function(){var e=this;return null==e._cache&&(e._cache=r),e._cache.$keys()},s.$$arity=0),_.$attr_reader("body"),e.defn(_,"$initialize",l=function(e){var t,n=this,$=l.$$p,a=$||r;return l.$$p=null,t=[e,a],n.name=t[0],n.body=t[1],t,f.get("Template")["$[]="](e,n)},l.$$arity=1),e.defn(_,"$inspect",u=function(){var e=this;return"#<Template: '"+e.name+"'>"},u.$$arity=0),e.defn(_,"$render",c=function(e){var t,r,n=this;return null==e&&(e=n),(t=(r=e).$instance_exec,t.$$p=n.body.$to_proc(),t).call(r,f.get("OutputBuffer").$new())},c.$$arity=-1),function(t,$super){function $(){}var a,i,o,s=$=n(t,$super,"OutputBuffer",$),l=s.$$proto;s.$$scope;return l.buffer=r,e.defn(s,"$initialize",a=function(){var e=this;return e.buffer=[]},a.$$arity=0),e.defn(s,"$append",i=function(e){var t=this;return t.buffer["$<<"](e)},i.$$arity=1),e.alias(s,"append=","append"),e.defn(s,"$join",o=function(){var e=this;return e.buffer.$join()},o.$$arity=0),r&&"join"}(f.base,null)}(t.base,null)},Opal.modules.erb=function(e){var t=e.top,r=e,n=(e.nil,e.breaker,e.slice,e.klass),$=e.module;return e.add_stubs(["$require","$module_function"]),t.$require("template"),function(t,$super){function r(){}var a=r=n(t,$super,"ERB",r),i=(a.$$proto,a.$$scope);return function(t){var r,n,a=r=$(t,"Util"),i=(a.$$proto,a.$$scope,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),o=/[&<>"']/g;e.defn(a,"$html_escape",n=function(e){return(""+e).replace(o,function(e){return i[e]})},n.$$arity=1),e.alias(a,"h","html_escape"),a.$module_function("h"),a.$module_function("html_escape")}(i.base)}(r.base,null)},Opal.modules.json=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$new","$push","$[]=","$[]","$create_id","$json_create","$attr_accessor","$create_id=","$===","$parse","$generate","$from_object","$merge","$to_json","$responds_to?","$to_io","$write","$to_s","$to_a","$strftime"]),function(t){function a(t,n){var $,i,o,s,l,u;switch(typeof t){case"string":return t;case"number":return t;case"boolean":return!!t;case"null":return r;case"object":if(!t)return r;if(t.$$is_array){for(i=n.array_class.$new(),s=0,l=t.length;l>s;s++)i.$push(a(t[s],n));return i}o=n.object_class.$new();for(u in t)y.call(t,u)&&o["$[]="](u,a(t[u],n));return n.parse||($=o["$[]"](g.get("JSON").$create_id()))==r?o:($=e.get($),$.$json_create(o))}}var i,o,s,l,u,c,_,p,f,d,h=i=n(t,"JSON"),g=(h.$$proto,h.$$scope),m=JSON.parse,y=e.hasOwnProperty;!function(e){e.$$scope,e.$$proto;return e.$attr_accessor("create_id")}(e.get_singleton_class(h)),o=["json_class"],s=h,s["$create_id="].apply(s,o),o[o.length-1],e.defs(h,"$[]",l=function(e,t){var n,a=this;return null==t&&(t=$([],{})),(n=g.get("String")["$==="](e))===r||null==n||n.$$is_boolean&&1!=n?a.$generate(e,t):a.$parse(e,t)},l.$$arity=-2),e.defs(h,"$parse",u=function(e,t){var r=this;return null==t&&(t=$([],{})),r.$from_object(m(e),t.$merge($(["parse"],{parse:!0})))},u.$$arity=-2),e.defs(h,"$parse!",c=function(e,t){var r=this;return null==t&&(t=$([],{})),r.$parse(e,t)},c.$$arity=-2),e.defs(h,"$load",_=function(e,t){var r=this;return null==t&&(t=$([],{})),r.$from_object(m(e),t)},_.$$arity=-2),e.defs(h,"$from_object",p=function(e,t){var n,i,o;return null==t&&(t=$([],{})),n="object_class",i=t,(o=i["$[]"](n))!==!1&&o!==r&&null!=o?o:i["$[]="](n,g.get("Hash")),n="array_class",i=t,(o=i["$[]"](n))!==!1&&o!==r&&null!=o?o:i["$[]="](n,g.get("Array")),a(e,t.$$smap)},p.$$arity=-2),e.defs(h,"$generate",f=function(e,t){return null==t&&(t=$([],{})),e.$to_json(t)},f.$$arity=-2),e.defs(h,"$dump",d=function(e,t,n){var $,a=this,i=r;return null==t&&(t=r),null==n&&(n=r),i=a.$generate(e),t!==!1&&t!==r&&null!=t?(($=t["$responds_to?"]("to_io"))===r||null==$||$.$$is_boolean&&1!=$||(t=t.$to_io()),t.$write(i),t):i},d.$$arity=-2)}(t.base),function(t,$super){function n(){}var $,i=n=a(t,$super,"Object",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){var e=this;return e.$to_s().$to_json()},$.$$arity=0),r&&"to_json"}(t.base,null),function(t){var r,$,a=r=n(t,"Enumerable");a.$$proto,a.$$scope;e.defn(a,"$to_json",$=function(){var e=this;return e.$to_a().$to_json()},$.$$arity=0)}(t.base),function(t,$super){function n(){}var $,i=n=a(t,$super,"Array",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){for(var e=this,t=[],r=0,n=e.length;n>r;r++)t.push(e[r].$to_json());return"["+t.join(", ")+"]"},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"Boolean",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){var e=this;return 1==e?"true":"false"},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"Hash",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){for(var e,t,r=this,n=[],$=0,a=r.$$keys,i=a.length;i>$;$++)e=a[$],e.$$is_string?t=r.$$smap[e]:(t=e.value,e=e.key),n.push(e.$to_s().$to_json()+":"+t.$to_json());return"{"+n.join(", ")+"}"},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"NilClass",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){return"null"},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"Numeric",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){var e=this;return e.toString()},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function r(){}var n=r=a(t,$super,"String",r);n.$$proto,n.$$scope;return e.alias(n,"to_json","inspect")}(t.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"Time",n);i.$$proto,i.$$scope;return e.defn(i,"$to_json",$=function(){var e=this;return e.$strftime("%FT%T%z").$to_json()},$.$$arity=0),r&&"to_json"}(t.base,null),function(t,$super){function n(){}var $,i,o=n=a(t,$super,"Date",n);o.$$proto,o.$$scope;return e.defn(o,"$to_json",$=function(){var e=this;return e.$to_s().$to_json()},$.$$arity=0),e.defn(o,"$as_json",i=function(){var e=this;return e.$to_s()},i.$$arity=0),r&&"as_json"}(t.base,null)},Opal.modules.pathname=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.klass),i=e.range,o=e.module;return e.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,$super){function n(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j=n=a(r,$super,"Pathname",n),q=j.$$proto,N=j.$$scope;return q.path=$,j.$include(N.get("Comparable")),e.cdecl(N,"SEPARATOR_PAT",new RegExp(""+N.get("Regexp").$quote(N.get("File").$$scope.get("SEPARATOR")))),e.defn(j,"$initialize",o=function(e){var t,r=this;return(t=N.get("Pathname")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t?(t=e["$respond_to?"]("to_path"))===$||null==t||t.$$is_boolean&&1!=t?(t=e["$is_a?"](N.get("String")))===$||null==t||t.$$is_boolean&&1!=t?(t=e["$nil?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$raise(N.get("TypeError"),"no implicit conversion of "+e.$class()+" into String"):r.$raise(N.get("TypeError"),"no implicit conversion of nil into String"):r.path=e:r.path=e.$to_path():r.path=e.$path().$to_s(),r.path["$=="]("\x00")?r.$raise(N.get("ArgumentError")):$},o.$$arity=1),j.$attr_reader("path"),e.defn(j,"$==",s=function(e){var t=this;return e.$path()["$=="](t.path)},s.$$arity=1),e.defn(j,"$absolute?",l=function(){var e=this;return e["$relative?"]()["$!"]()},l.$$arity=0),e.defn(j,"$relative?",u=function(){var t,r,n=this,a=$,i=$;for(a=n.path;(t=i=n.$chop_basename(a))!==$&&null!=t&&(!t.$$is_boolean||1==t);)r=i,t=e.to_ary(r),a=null==t[0]?$:t[0],r;return a["$=="]("")},u.$$arity=0),e.defn(j,"$chop_basename",c=function(e){var t,r=$;return r=N.get("File").$basename(e),(t=N.get("Regexp").$new("^"+N.get("Pathname").$$scope.get("SEPARATOR_PAT").$source()+"?$")["$=~"](r))===$||null==t||t.$$is_boolean&&1!=t?[e["$[]"](0,e.$rindex(r)),r]:$},c.$$arity=1),e.defn(j,"$root?",_=function(){var e=this;return e.path["$=="]("/")},_.$$arity=0),e.defn(j,"$parent",p=function(){var e,t=this,r=$;return r=t.path.$sub(/\/([^\/]+\/?$)/,""),r["$=="]("")&&(r=function(){return(e=t["$absolute?"]())===$||null==e||e.$$is_boolean&&1!=e?".":"/"}()),N.get("Pathname").$new(r)},p.$$arity=0),e.defn(j,"$sub",f=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return N.get("Pathname").$new((t=n.path).$sub.apply(t,e.to_a(r)))},f.$$arity=-1),e.defn(j,"$cleanpath",d=function(){var t=this;return e.normalize(t.path)},d.$$arity=0),e.defn(j,"$to_path",h=function(){var e=this;return e.path},h.$$arity=0),e.defn(j,"$hash",g=function(){var e=this;return e.path},g.$$arity=0),e.defn(j,"$expand_path",m=function(){var e=this;return N.get("File").$expand_path(e.path)},m.$$arity=0),e.defn(j,"$+",y=function(e){var t,r=this;return((t=N.get("Pathname")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t)&&(e=N.get("Pathname").$new(e)),N.get("Pathname").$new(r.$plus(r.path,e.$to_s()))},y.$$arity=1),e.defn(j,"$plus",v=function(r,n){var a,o,s,l,u=this,c=$,_=$,p=$,f=$,d=$,h=$,g=$,m=$,y=$;for(c=n,_=[],p=[];(o=f=u.$chop_basename(c))!==$&&null!=o&&(!o.$$is_boolean||1==o);)s=f,o=e.to_ary(s),c=null==o[0]?$:o[0],d=null==o[1]?$:o[1],s,_.$unshift(c.$length()),p.$unshift(d);if((a=c["$!="](""))!==$&&null!=a&&(!a.$$is_boolean||1==a))return n;for(h=r;(o=!0)!==$&&null!=o&&(!o.$$is_boolean||1==o);){for(;l=p["$empty?"]()["$!"](),(s=l!==!1&&l!==$&&null!=l?p.$first()["$=="]("."):l)!==$&&null!=s&&(!s.$$is_boolean||1==s);)_.$shift(),p.$shift();if((o=g=u.$chop_basename(h))===$||null==o||o.$$is_boolean&&1!=o)break;if(s=g,o=e.to_ary(s),h=null==o[0]?$:o[0],m=null==o[1]?$:o[1],s,!m["$=="](".")){if((o=(s=(l=m["$=="](".."))!==!1&&l!==$&&null!=l?l:p["$empty?"]())!==!1&&s!==$&&null!=s?s:p.$first()["$!="](".."))!==$&&null!=o&&(!o.$$is_boolean||1==o)){h=t(h,m);break}_.$shift(),p.$shift()}}if(g=u.$chop_basename(h),o=g["$!"](),(a=o!==!1&&o!==$&&null!=o?new RegExp(""+N.get("SEPARATOR_PAT"))["$=~"](N.get("File").$basename(h)):o)!==$&&null!=a&&(!a.$$is_boolean||1==a))for(;s=p["$empty?"]()["$!"](),(o=s!==!1&&s!==$&&null!=s?p.$first()["$=="](".."):s)!==$&&null!=o&&(!o.$$is_boolean||1==o);)_.$shift(),p.$shift();return(a=p["$empty?"]()["$!"]())===$||null==a||a.$$is_boolean&&1!=a?g!==!1&&g!==$&&null!=g?h:N.get("File").$dirname(h):(y=n["$[]"](i(_.$first(),-1,!1)),g!==!1&&g!==$&&null!=g?N.get("File").$join(h,y):t(h,y))},v.$$arity=2),e.defn(j,"$join",b=function(){try{var r,n,a,i,o=this,s=$,l=arguments.length,u=l-0;0>u&&(u=0),i=new Array(u);for(var c=0;l>c;c++)i[c-0]=arguments[c];return(r=i["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?(s=i.$pop(),((r=N.get("Pathname")["$==="](s))===$||null==r||r.$$is_boolean&&1!=r)&&(s=N.get("Pathname").$new(s)),(r=s["$absolute?"]())===$||null==r||r.$$is_boolean&&1!=r?((r=(n=i).$reverse_each,r.$$p=(a=function(r){var n;a.$$s||this;return null==r&&(r=$),((n=N.get("Pathname")["$==="](r))===$||null==n||n.$$is_boolean&&1!=n)&&(r=N.get("Pathname").$new(r)),s=t(r,s),(n=s["$absolute?"]())===$||null==n||n.$$is_boolean&&1!=n?$:void e.ret(s)},a.$$s=o,a.$$arity=1,a),r).call(n),t(o,s)):s):o}catch(_){if(_===e.returner)return _.$v;throw _}},b.$$arity=-1),e.defn(j,"$split",x=function(){var e=this;return[e.$dirname(),e.$basename()]},x.$$arity=0),e.defn(j,"$dirname",w=function(){var e=this;return N.get("Pathname").$new(N.get("File").$dirname(e.path))},w.$$arity=0),e.defn(j,"$basename",k=function(){var e=this;return N.get("Pathname").$new(N.get("File").$basename(e.path))},k.$$arity=0),e.defn(j,"$directory?",S=function(){var e=this;return N.get("File")["$directory?"](e.path)},S.$$arity=0),e.defn(j,"$extname",E=function(){var e=this;return N.get("File").$extname(e.path)},E.$$arity=0),e.defn(j,"$<=>",R=function(e){var t=this;return t.$path()["$<=>"](e.$path())},R.$$arity=1),e.alias(j,"eql?","=="),e.alias(j,"===","=="),e.alias(j,"to_str","to_path"),e.alias(j,"to_s","to_path"),e.cdecl(N,"SAME_PATHS",function(){return(A=N.get("File").$$scope.get("FNM_SYSCASE")["$nonzero?"]())===$||null==A||A.$$is_boolean&&1!=A?(A=(T=j).$proc,A.$$p=(C=function(e,t){C.$$s||this;return null==e&&(e=$),null==t&&(t=$),e["$=="](t)},C.$$s=j,C.$$arity=2,C),A).call(T):(A=(O=j).$proc,A.$$p=(M=function(e,t){M.$$s||this;return null==e&&(e=$),null==t&&(t=$),e.$casecmp(t)["$=="](0)},M.$$s=j,M.$$arity=2,M),A).call(O)}()),e.defn(j,"$relative_path_from",I=function(r){var n,a,i,o,s=this,l=$,u=$,c=$,_=$,p=$,f=$,d=$,h=$;for(l=s.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),u=l,c=[];(a=_=s.$chop_basename(u))!==$&&null!=a&&(!a.$$is_boolean||1==a);)i=_,a=e.to_ary(i),u=null==a[0]?$:a[0],p=null==a[1]?$:a[1],i,(a=p["$!="]("."))===$||null==a||a.$$is_boolean&&1!=a||c.$unshift(p);for(f=r,d=[];(a=_=s.$chop_basename(f))!==$&&null!=a&&(!a.$$is_boolean||1==a);)i=_,a=e.to_ary(i),f=null==a[0]?$:a[0],p=null==a[1]?$:a[1],i,(a=p["$!="]("."))===$||null==a||a.$$is_boolean&&1!=a||d.$unshift(p);for(((n=N.get("SAME_PATHS")["$[]"](u,f))===$||null==n||n.$$is_boolean&&1!=n)&&s.$raise(N.get("ArgumentError"),"different prefix: "+u.$inspect()+" and "+r.$inspect());o=c["$empty?"]()["$!"](),i=o!==!1&&o!==$&&null!=o?d["$empty?"]()["$!"]():o,(a=i!==!1&&i!==$&&null!=i?N.get("SAME_PATHS")["$[]"](c.$first(),d.$first()):i)!==$&&null!=a&&(!a.$$is_boolean||1==a);)c.$shift(),d.$shift();return(n=d["$include?"](".."))===$||null==n||n.$$is_boolean&&1!=n||s.$raise(N.get("ArgumentError"),"base_directory has ..: "+r.$inspect()),d.$fill(".."),h=t(d,c),(n=h["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n?N.get("Pathname").$new((n=N.get("File")).$join.apply(n,e.to_a(h))):N.get("Pathname").$new(".")},I.$$arity=1),e.defn(j,"$entries",z=function(){var e,t,r,n=this;return(e=(t=N.get("Dir").$entries(n.path)).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=$),t.$class().$new(e)},r.$$s=n,r.$$arity=1,r),e).call(t)},z.$$arity=0),$&&"entries"}(n.base,null),function(t){var r,n,$=r=o(t,"Kernel"),a=($.$$proto,$.$$scope);e.defn($,"$Pathname",n=function(e){return a.get("Pathname").$new(e)},n.$$arity=1)}(n.base)},Opal.modules.pp=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass,o=e.gvars;return e.add_stubs(["$inspect","$each","$pp","$<=","$size","$first","$module_function","$p","$args","$===","$+","$<<"]),function(r){var n,i,o,s=n=a(r,"Kernel"),l=(s.$$proto,s.$$scope);e.defn(s,"$pretty_inspect",i=function(){var e=this;return e.$inspect()},i.$$arity=0),e.defn(s,"$pp",o=function(){var e,r,n,a,i=this,o=arguments.length,s=o-0;0>s&&(s=0),a=new Array(s);for(var u=0;o>u;u++)a[u-0]=arguments[u];return(e=(r=a).$each,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=$),l.get("PP").$pp(e)},n.$$s=i,n.$$arity=1,n),e).call(r),(e=t(a.$size(),1))===$||null==e||e.$$is_boolean&&1!=e?a:a.$first()},o.$$arity=-1),s.$module_function("pp")}(n.base),function(t,$super){function n(){}var a=n=i(t,$super,"PP",n);a.$$proto,a.$$scope;return function(t){var n,a,i,s=t.$$scope;t.$$proto;return(n="undefined"==typeof console||"undefined"==typeof console.log)===$||null==n||n.$$is_boolean&&1!=n?e.defn(t,"$pp",i=function(e,t,n){var a;return null==o.stdout&&(o.stdout=$),null==t&&(t=o.stdout),null==n&&(n=79),(a=s.get("String")["$==="](t))===$||null==a||a.$$is_boolean&&1!=a?t["$<<"](r(e.$inspect(),"\n")):r(r(t,e.$inspect()),"\n")},i.$$arity=-2):e.defn(t,"$pp",a=function(t,r,n){var a,i=this;return null==o.stdout&&(o.stdout=$),null==r&&(r=o.stdout),null==n&&(n=79),(a=i).$p.apply(a,e.to_a(i.$args()))},a.$$arity=-2),e.alias(t,"singleline_pp","pp")}(e.get_singleton_class(a))}(n.base,null)},Opal.modules.rbconfig=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$split","$[]"]),function(t){var a,i=a=n(t,"RbConfig"),o=(i.$$proto,i.$$scope),s=r;s=o.get("RUBY_VERSION").$split("."),e.cdecl(o,"CONFIG",$(["ruby_version","MAJOR","MINOR","TEENY","RUBY","RUBY_INSTALL_NAME","RUBY_SO_NAME","target_os","host_os","PATH_SEPARATOR"],{ruby_version:o.get("RUBY_VERSION"),MAJOR:s["$[]"](0),MINOR:s["$[]"](1),TEENY:s["$[]"](2),RUBY:o.get("RUBY_ENGINE"),RUBY_INSTALL_NAME:o.get("RUBY_ENGINE"),RUBY_SO_NAME:o.get("RUBY_ENGINE"),target_os:"ECMA-262",host_os:"ECMA-262",PATH_SEPARATOR:":"}))}(t.base),e.cdecl(t,"RUBY_EXE","bundle exec bin/opal")},Opal.modules["rspec/support"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$respond_to?","$__send__","$call","$require","$define_optimized_require_for_rspec","$require_rspec_support","$instance_method","$supports_rebinding_module_methods?","$bind","$method","$is_a?","$raise","$==="]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s,l,u,c=$=n(t,"Support"),_=(c.$$proto,c.$$scope);e.defs(c,"$define_optimized_require_for_rspec",a=function(t){var n,$,i,o,s,l=this,u=a.$$p,c=u||r,p=r;return a.$$p=null,p="require_rspec_"+t,(n=_.get("Kernel")["$respond_to?"]("require_relative"))===r||null==n||n.$$is_boolean&&1!=n?(n=(o=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(l))).$__send__,n.$$p=(s=function(e){var n=s.$$s||this;return null==e&&(e=r),n.$require("rspec/"+t+"/"+e)},s.$$s=l,s.$$arity=1,s),n).call(o,"define_method",p):(n=($=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(l))).$__send__,n.$$p=(i=function(e){i.$$s||this;return null==e&&(e=r),c.$call(""+t+"/"+e)},i.$$s=l,i.$$arity=1,i),n).call($,"define_method",p)},a.$$arity=1),(i=(o=c).$define_optimized_require_for_rspec,i.$$p=(s=function(e){var t=s.$$s||this;return null==e&&(e=r),t.$require("rspec/support/../"+e)},s.$$s=c,s.$$arity=1,s),i).call(o,"support"),c.$require_rspec_support("version"),c.$require_rspec_support("ruby_features"),e.cdecl(_,"KERNEL_METHOD_METHOD",e.get("Kernel").$instance_method("method")),(i=_.get("RubyFeatures")["$supports_rebinding_module_methods?"]())===r||null==i||i.$$is_boolean&&1!=i?e.defs(c,"$method_handle_for",u=function(t,n){var $,a=this,i=r,o=r;try{return($=e.get("Kernel")["$==="](t))===r||null==$||$.$$is_boolean&&1!=$?t.$method(n):_.get("KERNEL_METHOD_METHOD").$bind(t).$call(n)}catch(s){if(!e.rescue(s,[_.get("NameError")]))throw s;i=s;try{try{return o=t.$method(n),(($=o["$is_a?"](_.get("Method")))===r||null==$||$.$$is_boolean&&1!=$)&&a.$raise(i),o}catch(s){if(!e.rescue(s,[_.get("Exception")]))throw s;try{return a.$raise(i)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},u.$$arity=2):e.defs(c,"$method_handle_for",l=function(t,n){var $,a=this,i=r,o=r;try{return _.get("KERNEL_METHOD_METHOD").$bind(t).$call(n)}catch(s){if(!e.rescue(s,[_.get("NameError")]))throw s;i=s;try{try{return o=t.$method(n),(($=o["$is_a?"](_.get("Method")))===r||null==$||$.$$is_boolean&&1!=$)&&a.$raise(i),o}catch(s){if(!e.rescue(s,[_.get("Exception")]))throw s;try{return a.$raise(i)}finally{e.pop_exception()}}}finally{e.pop_exception()}}},l.$$arity=2)}(i.base)}(t.base)},Opal.modules["rspec/core/shared_context"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$each","$playback_onto","$__shared_context_recordings","$new","$__send__","$to_proc","$block","$method_name","$args","$define_method","$<<","$record","$+","$instance_methods"]),function(r){var a,i=a=$(r,"RSpec"),o=(i.$$proto,i.$$scope);!function(r){var a,i=a=$(r,"Core"),o=(i.$$proto,i.$$scope);!function(r){var a,i,o,s,l,u,c,_=a=$(r,"SharedContext"),p=(_.$$proto,_.$$scope);e.defn(_,"$included",i=function(e){var t,r,$,a=this;return(t=(r=a.$__shared_context_recordings()).$each,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),t.$playback_onto(e)},$.$$s=a,$.$$arity=1,$),t).call(r)},i.$$arity=1),e.defn(_,"$__shared_context_recordings",o=function(){var e,t=this;return null==t.__shared_context_recordings&&(t.__shared_context_recordings=n),(e=t.__shared_context_recordings)!==!1&&e!==n&&null!=e?e:t.__shared_context_recordings=[]},o.$$arity=0),e.cdecl(p,"Recording",(s=(l=p.get("Struct")).$new,s.$$p=(u=function(){var t,r=u.$$s||this;return e.def(r,"$playback_onto",t=function(t){var r,n,$=this;return(r=(n=t).$__send__,r.$$p=$.$block().$to_proc(),r).apply(n,[$.$method_name()].concat(e.to_a($.$args())))},t.$$arity=1),n&&"playback_onto"},u.$$s=_,u.$$arity=0,u),s).call(l,"method_name","args","block")),e.defs(_,"$record",c=function(e){var t,r,$,a=this;return(t=(r=e).$each,t.$$p=($=function(e){var t,r,a,i=$.$$s||this;return null==e&&(e=n),(t=(r=i).$define_method,t.$$p=(a=function(){var t,r,$=a.$$s||this;t=a.$$p||n,a.$$p=null;var i=arguments.length,o=i-0;0>o&&(o=0),r=new Array(o);for(var s=0;i>s;s++)r[s-0]=arguments[s];return $.$__shared_context_recordings()["$<<"](p.get("Recording").$new(e,r,t))},a.$$s=i,a.$$arity=-1,a),t).call(r,e)},$.$$s=a,$.$$arity=1,$),t).call(r)},c.$$arity=1),_.$record(t(t(["describe","context"],p.get("Hooks").$instance_methods(!1)),p.get("MemoizedHelpers").$$scope.get("ClassMethods").$instance_methods(!1)))}(o.base)}(o.base),e.cdecl(o,"SharedContext",o.get("Core").$$scope.get("SharedContext"))}(r.base)},Opal.modules["rspec/core"]=function(e){var t,r,n,$,a,i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.gvars),u=e.module,c=e.hash2,_=e.klass;return e.add_stubs(["$now","$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_core","$autoload","$extend","$new","$expose_dsl_globally=","$configuration","$[]","$thread_local_metadata","$[]=","$current","$define_method","$to_proc","$method","$expand_path","$fetch","$const_get"]),l._rspec_core_load_started_at=o.get("Time").$now(),i.$require("rbconfig"),i.$require("rspec/support"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),(t=(r=o.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=s),t.$require("rspec/core/../"+e)},n.$$s=i,n.$$arity=1,n),t).call(r,"core"),(t=($=["version","warnings","flat_map","filter_manager","dsl","notifications","reporter","hooks","memoized_helpers","metadata","metadata_filter","pending","formatters","ordering","world","configuration","option_parser","configuration_options","runner","example","shared_example_group","example_group"]).$each,t.$$p=(a=function(e){a.$$s||this;return null==e&&(e=s),o.get("RSpec").$$scope.get("Support").$require_rspec_core(e)},a.$$s=i,a.$$arity=1,a),t).call($),function(t){var r,n,$,a,i,o,l,p,f,d=r=u(t,"RSpec"),h=(d.$$proto,d.$$scope);d.$autoload("SharedContext","rspec/core/shared_context"),d.$extend(h.get("RSpec").$$scope.get("Core").$$scope.get("Warnings")),e.defs(d,"$reset",n=function(){var e=this;return e.world=s,e.configuration=s},n.$$arity=0),e.defs(d,"$configuration",$=function(){var e,t,r,n=this,$=s;return null==n.configuration&&(n.configuration=s),(e=n.configuration)!==!1&&e!==s&&null!=e?e:n.configuration=function(){return $=h.get("RSpec").$$scope.get("Core").$$scope.get("Configuration").$new(),t=[!0],r=$,r["$expose_dsl_globally="].apply(r,t),t[t.length-1],$}()},$.$$arity=0),e.defs(d,"$configure",a=function(){var t=this,r=a.$$p,n=r||s;return a.$$p=null,n!==s?e.yield1(n,t.$configuration()):s},a.$$arity=0),e.defs(d,"$current_example",i=function(){var e=this;return e.$thread_local_metadata()["$[]"]("current_example")},i.$$arity=0),e.defs(d,"$current_example=",o=function(e){var t=this;return t.$thread_local_metadata()["$[]="]("current_example",e)},o.$$arity=1),e.defs(d,"$thread_local_metadata",l=function(){var e,t,r;return e="_rspec",t=h.get("Thread").$current(),(r=t["$[]"](e))!==!1&&r!==s&&null!=r?r:t["$[]="](e,c([],{}))},l.$$arity=0),e.defs(d,"$world",p=function(){var e,t=this;return null==t.world&&(t.world=s),(e=t.world)!==!1&&e!==s&&null!=e?e:t.world=h.get("RSpec").$$scope.get("Core").$$scope.get("World").$new()},p.$$arity=0),function(t){var r,n,$=r=u(t,"Core"),a=($.$$proto,$.$$scope);!function(t,$super){function r(){}var n=r=_(t,$super,"Time",r);n.$$proto,n.$$scope;return function(t){var r,n;t.$$scope,t.$$proto;return(r=(n=t).$define_method,r.$$p=e.get("Time").$method("now").$to_proc(),r).call(n,"now")}(e.get_singleton_class(n))}(a.base,null),e.defs($,"$path_to_executable",n=function(){var e,t=this;return null==t.path_to_executable&&(t.path_to_executable=s),(e=t.path_to_executable)!==!1&&e!==s&&null!=e?e:t.path_to_executable=a.get("File").$expand_path("../../../exe/rspec","rspec/core")},n.$$arity=0)}(h.base),e.cdecl(h,"MODULES_TO_AUTOLOAD",c(["Matchers","Expectations","Mocks"],{Matchers:"rspec/expectations",Expectations:"rspec/expectations",Mocks:"rspec/mocks"})),e.defs(d,"$const_missing",f=function(t){try{var r,n,$,a=this,i=f.$$p,o=s,l=s;for(f.$$p=null,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a.$require((r=(n=h.get("MODULES_TO_AUTOLOAD")).$fetch,r.$$p=($=function(){var t,r,n=$.$$s||this;e.ret((r=n,t=e.find_iter_super_dispatcher(n,"const_missing",$.$$def||f,!1,!0),t.$$p=i,t).apply(r,o))},$.$$s=a,$.$$arity=0,$),r).call(n,t)),e.get("RSpec").$const_get(t)}catch(u){if(u===e.returner)return u.$v;throw u}},f.$$arity=1)}(o.base)},Opal.modules["rspec/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Version"),a=($.$$proto,$.$$scope);e.cdecl(a,"STRING","3.1.0")}(a.base)}(t.base)},Opal.modules.rspec=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("rspec/core"),t.$require("rspec/version")},Opal.modules["rspec/core/backport_random"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function s(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var l=(e.top,e),u=e.nil,c=(e.breaker,e.slice,e.module),_=e.klass,p=e.range;return e.add_stubs(["$kind_of?","$__send__","$raise","$inspect","$message","$class","$coerce_to","$new","$-","$seed=","$times","$|","$&","$[]","$+","$[]=","$^","$>>","$odd?","$===","$each","$*","$>=","$size","$max","$next_state","$<<","$/","$random_32_bits","$>","$mask_32_bits","$<","$map","$pack","$each_with_index","$state_as_bignum","$left","$abs","$==","$pop","$first","$convert_seed","$private","$attr_reader","$seed_rand","$coerce_to_int","$nonzero?","$new_seed","$random_float","$<=","$_rand_range","$random_integer","$random_bytes","$is_a?","$seed","$send","$state","$marshal_dump","$allocate","$marshal_load","$end","$begin","$!","$respond_to?","$exclude_end?","$loop","$**","$rand","$include"]),function(l){var f,d=f=c(l,"RSpec"),h=(d.$$proto,d.$$scope);!function(l){var f,d=f=c(l,"Core"),h=(d.$$proto,d.$$scope);!function(l){var f,d,h,g=f=c(l,"Backports"),m=(g.$$proto,g.$$scope);e.defs(g,"$coerce_to",d=function(t,r,n){var $,a=this,i=u,o=u;if(($=t["$kind_of?"](r))!==u&&null!=$&&(!$.$$is_boolean||1==$))return t;try{i=t.$__send__(n)}catch(s){if(!e.rescue(s,[m.get("Exception")]))throw s;o=s;try{a.$raise(m.get("TypeError"),"Coercion error: "+t.$inspect()+"."+n+" => "+r+" failed:\n"+("("+o.$message()+")"))}finally{e.pop_exception()}}return(($=i["$kind_of?"](r))===u||null==$||$.$$is_boolean&&1!=$)&&a.$raise(m.get("TypeError"),"Coercion error: obj."+n+" did NOT return a "+r+" (was "+i.$class()+")"),i},d.$$arity=3),e.defs(g,"$coerce_to_int",h=function(e){var t=this;return t.$coerce_to(e,m.get("Integer"),"to_int")},h.$$arity=1),e.cdecl(m,"Undefined",m.get("Object").$new()),function(l,$super){function f(){}var d,h=f=_(l,$super,"Random",f),g=(h.$$proto,h.$$scope);return function(s,$super){function l(){}var c,f,d,h,g,m,y,v,b,x,w,k,S,E,R=l=_(s,$super,"MT19937",l),A=R.$$proto,O=R.$$scope;return A.state=A.last_read=u,e.cdecl(O,"STATE_SIZE",624),e.cdecl(O,"LAST_STATE",t(O.get("STATE_SIZE"),1)),e.cdecl(O,"PAD_32_BITS",4294967295),e.defn(R,"$initialize",c=function(e){var t,r,n=this;return t=[e],r=n,r["$seed="].apply(r,t),t[t.length-1]},c.$$arity=1),e.cdecl(O,"LAST_31_BITS",2147483647),e.cdecl(O,"OFFSET",397),e.defn(R,"$next_state",f=function(){var e,n,$,a=this;return(e=(n=O.get("STATE_SIZE")).$times,e.$$p=($=function(e){var n,a,i=$.$$s||this,o=u;return null==i.state&&(i.state=u),null==e&&(e=u),o=i.state["$[]"](e)["$&"](2147483648)["$|"](i.state["$[]"](t(r(e,1),O.get("STATE_SIZE")))["$&"](2147483647)),i.state["$[]="](e,i.state["$[]"](t(r(e,O.get("OFFSET")),O.get("STATE_SIZE")))["$^"](o["$>>"](1))),(n=o["$odd?"]())===u||null==n||n.$$is_boolean&&1!=n?u:(n=e,a=i.state,a["$[]="](n,a["$[]"](n)["$^"](2567483615)))},$.$$s=a,$.$$arity=1,$),e).call(n),a.last_read=-1},f.$$arity=0),e.defn(R,"$seed=",d=function(e){var a,i,o,s,l,c,_,f=this,d=u,h=u,g=u;return function(){return d=e,O.get("Integer")["$==="](d)?(f.state=O.get("Array").$new(O.get("STATE_SIZE")),f.state["$[]="](0,e["$&"](O.get("PAD_32_BITS"))),(a=(i=p(1,O.get("LAST_STATE"),!1)).$each,a.$$p=(o=function(e){var $=o.$$s||this;return null==$.state&&($.state=u),null==e&&(e=u),$.state["$[]="](e,r(n(1812433253,$.state["$[]"](t(e,1))["$^"]($.state["$[]"](t(e,1))["$>>"](30))),e)["$&"](O.get("PAD_32_BITS")))},o.$$s=f,o.$$arity=1,o),a).call(i),f.last_read=O.get("LAST_STATE")):O.get("Array")["$==="](d)?(a=[19650218],s=f,s["$seed="].apply(s,a),a[a.length-1],h=1,g=0,(a=(s=[O.get("STATE_SIZE"),e.$size()].$max()).$times,a.$$p=(l=function(){var a,i=l.$$s||this;return null==i.state&&(i.state=u),i.state["$[]="](h,r(r(i.state["$[]"](h)["$^"](n(i.state["$[]"](t(h,1))["$^"](i.state["$[]"](t(h,1))["$>>"](30)),1664525)),g),e["$[]"](g))["$&"](O.get("PAD_32_BITS"))),(a=$(h=r(h,1),O.get("STATE_SIZE")))===u||null==a||a.$$is_boolean&&1!=a||(i.state["$[]="](0,i.state["$[]"](-1)),h=1),(a=$(g=r(g,1),e.$size()))===u||null==a||a.$$is_boolean&&1!=a?u:g=0},l.$$s=f,l.$$arity=0,l),a).call(s),(a=(c=t(O.get("STATE_SIZE"),1)).$times,a.$$p=(_=function(){var e,a=_.$$s||this;return null==a.state&&(a.state=u),a.state["$[]="](h,t(a.state["$[]"](h)["$^"](n(a.state["$[]"](t(h,1))["$^"](a.state["$[]"](t(h,1))["$>>"](30)),1566083941)),h)["$&"](O.get("PAD_32_BITS"))),(e=$(h=r(h,1),O.get("STATE_SIZE")))===u||null==e||e.$$is_boolean&&1!=e?u:(a.state["$[]="](0,a.state["$[]"](-1)),h=1)},_.$$s=f,_.$$arity=0,_),a).call(c),f.state["$[]="](0,2147483648)):f.$raise(O.get("ArgumentError"),"Seed must be an Integer or an Array")}()},d.$$arity=1),e.defn(R,"$random_32_bits",h=function(){
var e,t=this,n=u;return(e=$(t.last_read,O.get("LAST_STATE")))===u||null==e||e.$$is_boolean&&1!=e||t.$next_state(),t.last_read=r(t.last_read,1),n=t.state["$[]"](t.last_read),n=n["$^"](n["$>>"](11)),n=n["$^"](n["$<<"](7)["$&"](2636928640)),n=n["$^"](n["$<<"](15)["$&"](4022730752)),n=n["$^"](n["$>>"](18))},h.$$arity=0),e.cdecl(O,"FLOAT_FACTOR",a(1,9007199254740992)),e.defn(R,"$random_float",g=function(){var e=this;return n(r(n(e.$random_32_bits()["$>>"](5),67108864),e.$random_32_bits()["$>>"](6)),O.get("FLOAT_FACTOR"))},g.$$arity=0),e.defn(R,"$random_integer",m=function(e){var n,$,a,s=this,l=u,c=u,_=u,p=u;for(l=t(e,1),c=0;(n=i(l,O.get("PAD_32_BITS")))!==u&&null!=n&&(!n.$$is_boolean||1==n);)l=l["$>>"](32),c=r(c,1);for(_=s.$mask_32_bits(l);(n=o(p,e))===u||null==n||n.$$is_boolean&&1!=n;)p=s.$random_32_bits()["$&"](_),(n=($=c).$times,n.$$p=(a=function(){var e=a.$$s||this;return p=p["$<<"](32),p=p["$|"](e.$random_32_bits())},a.$$s=s,a.$$arity=0,a),n).call($);return p},m.$$arity=1),e.defn(R,"$random_bytes",y=function(e){var t,$,i,o=this,s=u,l=u;return s=a(r(e,3),4),l=(t=($=s.$times()).$map,t.$$p=(i=function(){var e=i.$$s||this;return e.$random_32_bits()},i.$$s=o,i.$$arity=0,i),t).call($),l.$pack(n("L",s))["$[]"](0,e)},y.$$arity=1),e.defn(R,"$state_as_bignum",v=function(){var e,t,r,$=this,a=u;return a=0,(e=(t=$.state).$each_with_index,e.$$p=(r=function(e,t){r.$$s||this;return null==e&&(e=u),null==t&&(t=u),a=a["$|"](e["$<<"](n(32,t)))},r.$$s=$,r.$$arity=2,r),e).call(t),a},v.$$arity=0),e.defn(R,"$left",b=function(){var e=this;return t(O.get("MT19937").$$scope.get("STATE_SIZE"),e.last_read)},b.$$arity=0),e.defn(R,"$marshal_dump",x=function(){var e=this;return[e.$state_as_bignum(),e.$left()]},x.$$arity=0),e.defn(R,"$marshal_load",w=function(r){var n,$,a,i=this,o=u,s=u;return $=r,n=e.to_ary($),o=null==n[0]?u:n[0],s=null==n[1]?u:n[1],$,i.last_read=t(O.get("MT19937").$$scope.get("STATE_SIZE"),s),i.state=O.get("Array").$new(O.get("STATE_SIZE")),(n=($=O.get("STATE_SIZE")).$times,n.$$p=(a=function(e){var t=a.$$s||this;return null==t.state&&(t.state=u),null==e&&(e=u),t.state["$[]="](e,o["$&"](O.get("PAD_32_BITS"))),o=o["$>>"](32)},a.$$s=i,a.$$arity=1,a),n).call($)},w.$$arity=1),e.defs(R,"$convert_seed",k=function(e){var t,r,n=u;for(e=e.$abs(),n=[];!e["$=="](0);)n["$<<"](e["$&"](O.get("PAD_32_BITS"))),e=e["$>>"](32);return(t=(r=n["$[]"](-1)["$=="](1))?i(n.$size(),1):n["$[]"](-1)["$=="](1))===u||null==t||t.$$is_boolean&&1!=t||n.$pop(),(t=i(n.$size(),1))===u||null==t||t.$$is_boolean&&1!=t?n.$first():n},k.$$arity=1),e.defs(R,"$[]",S=function(e){var t=this;return t.$new(t.$convert_seed(e))},S.$$arity=1),R.$private(),e.cdecl(O,"MASK_BY",[1,2,4,8,16]),e.defn(R,"$mask_32_bits",E=function(e){var t,r,n,$=this;return(t=(r=O.get("MASK_BY")).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=u),e=e["$|"](e["$>>"](t))},n.$$s=$,n.$$arity=1,n),t).call(r),e},E.$$arity=1),u&&"mask_32_bits"}(g.base,null),function($){var a,l,_,p,f,d,h,g,m,y,v,b=a=c($,"Implementation"),x=(b.$$proto,b.$$scope);b.$attr_reader("seed"),e.defn(b,"$initialize",l=function(t){var r,n,$=this;l.$$p;return null==t&&(t=0),l.$$p=null,(n=$,r=e.find_super_dispatcher($,"initialize",l,!1),r.$$p=null,r).call(n),$.$seed_rand(t)},l.$$arity=-1),e.defn(b,"$seed_rand",_=function(e){var t,r,n=this,$=u;return null==n.seed&&(n.seed=u),null==e&&(e=0),e=x.get("Backports").$coerce_to_int(e),r=n.seed,((t=null!=r&&r!==u?"instance-variable":u)===u||null==t||t.$$is_boolean&&1!=t)&&(n.seed=u),t=[n.seed,(r=e["$nonzero?"]())!==!1&&r!==u&&null!=r?r:x.get("Random").$new_seed()],$=t[0],n.seed=t[1],t,n.mt=x.get("MT19937")["$[]"](n.seed),$},_.$$arity=-1),e.defn(b,"$rand",p=function(e){var t,r,$=this,a=u;return null==$.mt&&($.mt=u),null==e&&(e=x.get("Backports").$$scope.get("Undefined")),(t=function(){return a=e,x.get("Backports").$$scope.get("Undefined")["$==="](a)?$.mt.$random_float():x.get("Float")["$==="](a)?(r=s(e,0))===u||null==r||r.$$is_boolean&&1!=r?n(e,$.mt.$random_float()):u:x.get("Range")["$==="](a)?$.$_rand_range(e):(e=x.get("Backports").$coerce_to_int(e),(r=s(e,0))===u||null==r||r.$$is_boolean&&1!=r?$.mt.$random_integer(e):u)}())!==!1&&t!==u&&null!=t?t:$.$raise(x.get("ArgumentError"),"invalid argument "+e)},p.$$arity=-1),e.defn(b,"$bytes",f=function(e){var t,r=this;return null==r.mt&&(r.mt=u),e=x.get("Backports").$coerce_to_int(e),(t=o(e,0))===u||null==t||t.$$is_boolean&&1!=t||r.$raise(x.get("ArgumentError"),"negative size"),r.mt.$random_bytes(e)},f.$$arity=1),e.defn(b,"$==",d=function(e){var t,r,n,$=this;return n=e["$is_a?"](x.get("Random")),r=n!==!1&&n!==u&&null!=n?$.$seed()["$=="](e.$seed()):n,t=r!==!1&&r!==u&&null!=r?$.$left()["$=="](e.$send("left")):r,t!==!1&&t!==u&&null!=t?$.$state()["$=="](e.$send("state")):t},d.$$arity=1),e.defn(b,"$marshal_dump",h=function(){var e=this;return null==e.mt&&(e.mt=u),null==e.seed&&(e.seed=u),e.mt.$marshal_dump()["$<<"](e.seed)},h.$$arity=0),e.defn(b,"$marshal_load",g=function(e){var t=this;return null==t.mt&&(t.mt=u),t.seed=e.$pop(),t.mt=x.get("MT19937").$allocate(),t.mt.$marshal_load(e)},g.$$arity=1),b.$private(),e.defn(b,"$state",m=function(){var e=this;return null==e.mt&&(e.mt=u),e.mt.$state_as_bignum()},m.$$arity=0),e.defn(b,"$left",y=function(){var e=this;return null==e.mt&&(e.mt=u),e.mt.$left()},y.$$arity=0),e.defn(b,"$_rand_range",v=function($){var a,l,c,_,p=this,f=u;return null==p.mt&&(p.mt=u),f=t($.$end(),$.$begin()),c=f["$is_a?"](x.get("Float"))["$!"](),l=c!==!1&&c!==u&&null!=c?f["$respond_to?"]("to_int"):c,(a=l!==!1&&l!==u&&null!=l?f=x.get("Backports").$coerce_to_int(f):l)===u||null==a||a.$$is_boolean&&1!=a?(a=f=x.get("Backports").$coerce_to(f,x.get("Float"),"to_f"))===u||null==a||a.$$is_boolean&&1!=a?u:(a=o(f,0))===u||null==a||a.$$is_boolean&&1!=a?(a=$["$exclude_end?"]())===u||null==a||a.$$is_boolean&&1!=a?function(){var t=e.new_brk();try{return(a=(l=p).$loop,a.$$p=(_=function(){var a,o=_.$$s||this,s=u;return null==o.mt&&(o.mt=u),s=n(n(o.mt.$random_float(),f),1.0001),(a=i(s,f))===u||null==a||a.$$is_boolean&&1!=a?void e.brk(r($.$begin(),s),t):u},_.$$s=p,_.$$brk=t,_.$$arity=0,_),a).call(l)}catch(o){if(o===t)return o.$v;throw o}}():(a=s(f,0))===u||null==a||a.$$is_boolean&&1!=a?r($.$begin(),n(p.mt.$random_float(),f)):u:u:(((a=$["$exclude_end?"]())===u||null==a||a.$$is_boolean&&1!=a)&&(f=r(f,1)),(a=s(f,0))===u||null==a||a.$$is_boolean&&1!=a?r($.$begin(),p.mt.$random_integer(f)):u)},v.$$arity=1)}(g.base),e.defs(h,"$new_seed",d=function(){return r(2["$**"](62),g.get("Kernel").$rand(2["$**"](62)))},d.$$arity=0),u&&"new_seed"}(m.base,null),function(t,$super){function r(){}var n=r=_(t,$super,"Random",r),$=(n.$$proto,n.$$scope);return n.$include($.get("Implementation")),function(e){var t=e.$$scope;e.$$proto;return e.$include(t.get("Implementation"))}(e.get_singleton_class(n))}(m.base,null)}(h.base)}(h.base)}(l.base)},Opal.modules["rspec/core/backtrace_formatter"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$attr_accessor","$==","$<<","$map!","$new","$gsub","$union","$matches?","$join","$getwd","$inclusion_patterns","$attr_writer","$empty?","$exclusion_patterns","$[]","$tap","$concat","$compact","$map","$backtrace_line","$exclude?","$relative_path","$!","$private","$any?","$=~"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p=n=$(t,$super,"BacktraceFormatter",n),f=p.$$proto,d=p.$$scope;return f.exclusion_patterns=f.full_backtrace=r,p.$attr_accessor("exclusion_patterns","inclusion_patterns"),e.defn(p,"$initialize",i=function(){var t,n,$,a,i=this,o=r;return i.full_backtrace=!1,o=["/lib\\d*/ruby/","bin/","exe/rspec"],d.get("RUBY_PLATFORM")["$=="]("java")&&o["$<<"]("org/jruby/"),(t=(n=o)["$map!"],t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),d.get("Regexp").$new(e.$gsub("/",d.get("File").$$scope.get("SEPARATOR")))},$.$$s=i,$.$$arity=1,$),t).call(n),i.exclusion_patterns=[(t=d.get("Regexp")).$union.apply(t,[d.get("RSpec").$$scope.get("CallerFilter").$$scope.get("IGNORE_REGEX")].concat(e.to_a(o)))],i.inclusion_patterns=[],(a=i["$matches?"](i.exclusion_patterns,d.get("File").$join(d.get("Dir").$getwd(),"lib","foo.rb:13")))===r||null==a||a.$$is_boolean&&1!=a?r:i.$inclusion_patterns()["$<<"](d.get("Regexp").$new(d.get("Dir").$getwd()))},i.$$arity=0),p.$attr_writer("full_backtrace"),e.defn(p,"$full_backtrace?",o=function(){var e,t=this;return(e=t.full_backtrace)!==!1&&e!==r&&null!=e?e:t.$exclusion_patterns()["$empty?"]()},o.$$arity=0),e.defn(p,"$filter_gem",s=function(e){var t=this,n=r;return n=d.get("File").$$scope.get("SEPARATOR"),t.$exclusion_patterns()["$<<"](new RegExp(""+n+e+"(-[^"+n+"]+)?"+n))},s.$$arity=1),e.defn(p,"$format_backtrace",l=function(e,t){var n,$,i,o,s,l,u=this;return null==t&&(t=a([],{})),(n=t["$[]"]("full_backtrace"))===r||null==n||n.$$is_boolean&&1!=n?(n=($=(o=(s=e).$map,o.$$p=(l=function(e){var t=l.$$s||this;return null==e&&(e=r),t.$backtrace_line(e)},l.$$s=u,l.$$arity=1,l),o).call(s).$compact()).$tap,n.$$p=(i=function(t){var n;i.$$s||this;return null==t&&(t=r),(n=t["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?r:(t.$concat(e),t["$<<"](""),t["$<<"]("  Showing full backtrace because every line was filtered out."),t["$<<"]("  See docs for RSpec::Configuration#backtrace_exclusion_patterns and"),t["$<<"]("  RSpec::Configuration#backtrace_inclusion_patterns for more information."))},i.$$s=u,i.$$arity=1,i),n).call($):e},l.$$arity=-2),e.defn(p,"$backtrace_line",u=function(t){var n,$=this;try{return(n=$["$exclude?"](t))===r||null==n||n.$$is_boolean&&1!=n?d.get("Metadata").$relative_path(t):r}catch(a){if(!e.rescue(a,[d.get("SecurityError")]))throw a;try{return r}finally{e.pop_exception()}}},u.$$arity=1),e.defn(p,"$exclude?",c=function(e){var t,n=this;return(t=n.full_backtrace)===r||null==t||t.$$is_boolean&&1!=t?(t=n["$matches?"](n.$exclusion_patterns(),e),t!==!1&&t!==r&&null!=t?n["$matches?"](n.$inclusion_patterns(),e)["$!"]():t):!1},c.$$arity=1),p.$private(),e.defn(p,"$matches?",_=function(e,t){var n,$,a,i=this;return(n=($=e)["$any?"],n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=r),t["$=~"](e)},a.$$s=i,a.$$arity=1,a),n).call($)},_.$$arity=2),r&&"matches?"}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/matchers"]=function(e){var t,r,n,$,a,i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.module),u=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_matchers","$lambda","$gsub","$split_words","$fetch","$define_method","$__send__","$to_proc","$new","$alias_matcher","$empty?","$equal","$be_a_kind_of","$alias_method","$contain_exactly","$sub","$configuration","$private","$to_s","$===","$respond_to?","$register_matcher_definition","$is_a_matcher?"]),i.$require("rspec/support"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("matcher_definition"),(t=(r=o.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=s),t.$require("rspec/matchers/../"+e)},n.$$s=i,n.$$arity=1,n),t).call(r,"matchers"),(t=($=["pretty","composable","built_in","generated_descriptions","dsl","matcher_delegator","aliased_matcher"]).$each,t.$$p=(a=function(e){a.$$s||this;return null==e&&(e=s),o.get("RSpec").$$scope.get("Support").$require_rspec_matchers(e)},a.$$s=i,a.$$arity=1,a),t).call($),function(t){var r,n=r=l(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var r,n,$,a,i,o,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te=r=l(t,"Matchers"),re=(te.$$proto,te.$$scope);e.defs(te,"$alias_matcher",n=function(t,r,$){var a,i,o,l,c,_,p,f=this,d=n.$$p,h=d||s,g=s;return null==$&&($=u([],{})),n.$$p=null,(a=h)!==!1&&a!==s&&null!=a?a:h=(i=(o=f).$lambda,i.$$p=(l=function(e){l.$$s||this;return null==e&&(e=s),e.$gsub(re.get("Pretty").$split_words(r),re.get("Pretty").$split_words(t))},l.$$s=f,l.$$arity=1,l),i).call(o),g=(a=(i=$).$fetch,a.$$p=(c=function(){c.$$s||this;return re.get("AliasedMatcher")},c.$$s=f,c.$$arity=0,c),a).call(i,"klass"),(a=(_=f).$define_method,a.$$p=(p=function(){var t,n,$,a,i=p.$$s||this,o=s;t=p.$$p||s,p.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),n=new Array(u);for(var c=0;l>c;c++)n[c-0]=arguments[c];return o=($=(a=i).$__send__,$.$$p=t.$to_proc(),$).apply(a,[r].concat(e.to_a(n))),g.$new(o,h)},p.$$s=f,p.$$arity=-1,p),a).call(_,t)},n.$$arity=-3),e.defs(te,"$define_negated_matcher",$=function(e,t){var r,n,a=this,i=$.$$p,o=i||s;return $.$$p=null,(r=(n=a).$alias_matcher,r.$$p=o.$to_proc(),r).call(n,e,t,u(["klass"],{klass:re.get("AliasedNegatedMatcher")}))},$.$$arity=2),e.defn(te,"$be_truthy",a=function(){return re.get("BuiltIn").$$scope.get("BeTruthy").$new()},a.$$arity=0),te.$alias_matcher("a_truthy_value","be_truthy"),e.defn(te,"$be_falsey",i=function(){return re.get("BuiltIn").$$scope.get("BeFalsey").$new()},i.$$arity=0),te.$alias_matcher("be_falsy","be_falsey"),te.$alias_matcher("a_falsey_value","be_falsey"),te.$alias_matcher("a_falsy_value","be_falsey"),e.defn(te,"$be_nil",o=function(){return re.get("BuiltIn").$$scope.get("BeNil").$new()},o.$$arity=0),te.$alias_matcher("a_nil_value","be_nil"),e.defn(te,"$be",c=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=r["$empty?"]())===s||null==t||t.$$is_boolean&&1!=t?(t=n).$equal.apply(t,e.to_a(r)):re.get("Matchers").$$scope.get("BuiltIn").$$scope.get("Be").$new()},c.$$arity=-1),te.$alias_matcher("a_value","be",u(["klass"],{klass:re.get("AliasedMatcherWithOperatorSupport")})),e.defn(te,"$be_a",_=function(e){var t=this;return t.$be_a_kind_of(e)},_.$$arity=1),te.$alias_method("be_an","be_a"),e.defn(te,"$be_an_instance_of",p=function(e){return re.get("BuiltIn").$$scope.get("BeAnInstanceOf").$new(e)},p.$$arity=1),te.$alias_method("be_instance_of","be_an_instance_of"),te.$alias_matcher("an_instance_of","be_an_instance_of"),e.defn(te,"$be_a_kind_of",f=function(e){return re.get("BuiltIn").$$scope.get("BeAKindOf").$new(e)},f.$$arity=1),te.$alias_method("be_kind_of","be_a_kind_of"),te.$alias_matcher("a_kind_of","be_a_kind_of"),e.defn(te,"$be_between",d=function(e,t){return re.get("BuiltIn").$$scope.get("BeBetween").$new(e,t)},d.$$arity=2),te.$alias_matcher("a_value_between","be_between"),e.defn(te,"$be_within",h=function(e){return re.get("BuiltIn").$$scope.get("BeWithin").$new(e)},h.$$arity=1),te.$alias_matcher("a_value_within","be_within"),te.$alias_matcher("within","be_within"),e.defn(te,"$change",g=function(e,t){var r,n,$=g.$$p,a=$||s;return null==e&&(e=s),null==t&&(t=s),g.$$p=null,(r=(n=re.get("BuiltIn").$$scope.get("Change")).$new,r.$$p=a.$to_proc(),r).call(n,e,t)},g.$$arity=-1),te.$alias_matcher("a_block_changing","change"),te.$alias_matcher("changing","change"),e.defn(te,"$contain_exactly",m=function(){var e,t=arguments.length,r=t-0;0>r&&(r=0),e=new Array(r);for(var n=0;t>n;n++)e[n-0]=arguments[n];return re.get("BuiltIn").$$scope.get("ContainExactly").$new(e)},m.$$arity=-1),te.$alias_matcher("a_collection_containing_exactly","contain_exactly"),te.$alias_matcher("containing_exactly","contain_exactly"),e.defn(te,"$cover",y=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("Cover")).$new.apply(t,e.to_a(r))},y.$$arity=-1),te.$alias_matcher("a_range_covering","cover"),te.$alias_matcher("covering","cover"),e.defn(te,"$end_with",v=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("EndWith")).$new.apply(t,e.to_a(r))},v.$$arity=-1),te.$alias_matcher("a_collection_ending_with","end_with"),te.$alias_matcher("a_string_ending_with","end_with"),te.$alias_matcher("ending_with","end_with"),e.defn(te,"$eq",b=function(e){return re.get("BuiltIn").$$scope.get("Eq").$new(e)},b.$$arity=1),te.$alias_matcher("an_object_eq_to","eq"),te.$alias_matcher("eq_to","eq"),e.defn(te,"$eql",x=function(e){return re.get("BuiltIn").$$scope.get("Eql").$new(e)},x.$$arity=1),te.$alias_matcher("an_object_eql_to","eql"),te.$alias_matcher("eql_to","eql"),e.defn(te,"$equal",w=function(e){return re.get("BuiltIn").$$scope.get("Equal").$new(e)},w.$$arity=1),te.$alias_matcher("an_object_equal_to","equal"),te.$alias_matcher("equal_to","equal"),e.defn(te,"$exist",k=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("Exist")).$new.apply(t,e.to_a(r))},k.$$arity=-1),te.$alias_matcher("an_object_existing","exist"),te.$alias_matcher("existing","exist"),e.defn(te,"$have_attributes",S=function(e){return re.get("BuiltIn").$$scope.get("HaveAttributes").$new(e)},S.$$arity=1),te.$alias_matcher("an_object_having_attributes","have_attributes"),e.defn(te,"$include",E=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("Include")).$new.apply(t,e.to_a(r))},E.$$arity=-1),te.$alias_matcher("a_collection_including","include"),te.$alias_matcher("a_string_including","include"),te.$alias_matcher("a_hash_including","include"),te.$alias_matcher("including","include"),e.defn(te,"$all",R=function(e){return re.get("BuiltIn").$$scope.get("All").$new(e)},R.$$arity=1),e.defn(te,"$match",A=function(e){return re.get("BuiltIn").$$scope.get("Match").$new(e)},A.$$arity=1),te.$alias_matcher("match_regex","match"),te.$alias_matcher("an_object_matching","match"),te.$alias_matcher("a_string_matching","match"),te.$alias_matcher("matching","match"),e.defn(te,"$match_array",O=function(t){var r,n=this;return(r=n).$contain_exactly.apply(r,e.to_a(t))},O.$$arity=1),e.defn(te,"$output",M=function(e){return null==e&&(e=s),re.get("BuiltIn").$$scope.get("Output").$new(e)},M.$$arity=-1),te.$alias_matcher("a_block_outputting","output"),e.defn(te,"$raise_error",T=function(e,t){var r,n,$=T.$$p,a=$||s;return null==e&&(e=re.get("Exception")),null==t&&(t=s),T.$$p=null,(r=(n=re.get("BuiltIn").$$scope.get("RaiseError")).$new,r.$$p=a.$to_proc(),r).call(n,e,t)},T.$$arity=-1),te.$alias_method("raise_exception","raise_error"),(C=(I=te).$alias_matcher,C.$$p=(z=function(e){z.$$s||this;return null==e&&(e=s),e.$sub("raise","a block raising")},z.$$s=te,z.$$arity=1,z),C).call(I,"a_block_raising","raise_error"),(C=(j=te).$alias_matcher,C.$$p=(q=function(e){q.$$s||this;return null==e&&(e=s),e.$sub("raise","raising")},q.$$s=te,q.$$arity=1,q),C).call(j,"raising","raise_error"),e.defn(te,"$respond_to",N=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("RespondTo")).$new.apply(t,e.to_a(r))},N.$$arity=-1),te.$alias_matcher("an_object_responding_to","respond_to"),te.$alias_matcher("responding_to","respond_to"),e.defn(te,"$satisfy",P=function(){var e,t,r=P.$$p,n=r||s;return P.$$p=null,(e=(t=re.get("BuiltIn").$$scope.get("Satisfy")).$new,e.$$p=n.$to_proc(),e).call(t)},P.$$arity=0),te.$alias_matcher("an_object_satisfying","satisfy"),te.$alias_matcher("satisfying","satisfy"),e.defn(te,"$start_with",F=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("StartWith")).$new.apply(t,e.to_a(r))},F.$$arity=-1),te.$alias_matcher("a_collection_starting_with","start_with"),te.$alias_matcher("a_string_starting_with","start_with"),te.$alias_matcher("starting_with","start_with"),e.defn(te,"$throw_symbol",D=function(e,t){return null==e&&(e=s),null==t&&(t=s),re.get("BuiltIn").$$scope.get("ThrowSymbol").$new(e,t)},D.$$arity=-1),(C=(B=te).$alias_matcher,C.$$p=(H=function(e){H.$$s||this;return null==e&&(e=s),e.$sub("throw","a block throwing")},H.$$s=te,H.$$arity=1,H),C).call(B,"a_block_throwing","throw_symbol"),(C=(L=te).$alias_matcher,C.$$p=(U=function(e){U.$$s||this;return null==e&&(e=s),e.$sub("throw","throwing")},U.$$s=te,U.$$arity=1,U),C).call(L,"throwing","throw_symbol"),e.defn(te,"$yield_control",G=function(){return re.get("BuiltIn").$$scope.get("YieldControl").$new()},G.$$arity=0),te.$alias_matcher("a_block_yielding_control","yield_control"),te.$alias_matcher("yielding_control","yield_control"),e.defn(te,"$yield_with_no_args",Y=function(){return re.get("BuiltIn").$$scope.get("YieldWithNoArgs").$new()},Y.$$arity=0),te.$alias_matcher("a_block_yielding_with_no_args","yield_with_no_args"),te.$alias_matcher("yielding_with_no_args","yield_with_no_args"),e.defn(te,"$yield_with_args",V=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("YieldWithArgs")).$new.apply(t,e.to_a(r))},V.$$arity=-1),te.$alias_matcher("a_block_yielding_with_args","yield_with_args"),te.$alias_matcher("yielding_with_args","yield_with_args"),e.defn(te,"$yield_successive_args",X=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=re.get("BuiltIn").$$scope.get("YieldSuccessiveArgs")).$new.apply(t,e.to_a(r))},X.$$arity=-1),te.$alias_matcher("a_block_yielding_successive_args","yield_successive_args"),te.$alias_matcher("yielding_successive_args","yield_successive_args"),e.defs(te,"$configuration",K=function(){return re.get("Expectations").$configuration()},K.$$arity=0),te.$private(),e.cdecl(re,"BE_PREDICATE_REGEX",/^(be_(?:an?_)?)(.*)/),e.cdecl(re,"HAS_REGEX",/^(?:have_)(.*)/),e.defn(te,"$method_missing",W=function(t){var r,n,$,a,i,o=this,l=W.$$p,u=l||s,c=s,_=s,p=s,f=arguments.length,d=f-1;0>d&&(d=0),i=new Array(d);for(var h=1;f>h;h++)i[h-1]=arguments[h];for(W.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return function(){return c=t.$to_s(),re.get("BE_PREDICATE_REGEX")["$==="](c)?(r=(n=re.get("BuiltIn").$$scope.get("BePredicate")).$new,r.$$p=u.$to_proc(),r).apply(n,[t].concat(e.to_a(i))):re.get("HAS_REGEX")["$==="](c)?(r=($=re.get("BuiltIn").$$scope.get("Has")).$new,r.$$p=u.$to_proc(),r).apply($,[t].concat(e.to_a(i))):(a=o,r=e.find_super_dispatcher(o,"method_missing",W,!1),r.$$p=l,r).apply(a,_)}()},W.$$arity=-2),e.defs(te,"$is_a_matcher?",Z=function(t){var r;if((r=e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("BaseMatcher")["$==="](t))!==s&&null!=r&&(!r.$$is_boolean||1==r))return!0;try{if((r=t["$respond_to?"]("i_respond_to_everything_so_im_not_really_a_matcher"))!==s&&null!=r&&(!r.$$is_boolean||1==r))return!1}catch(n){if(!e.rescue(n,[re.get("NoMethodError")]))throw n;try{return!1}finally{e.pop_exception()}}return(r=t["$respond_to?"]("matches?"))===s||null==r||r.$$is_boolean&&1!=r?!1:(r=t["$respond_to?"]("failure_message"))!==!1&&r!==s&&null!=r?r:t["$respond_to?"]("failure_message_for_should")},Z.$$arity=1),(C=(J=e.get("RSpec").$$scope.get("Support")).$register_matcher_definition,C.$$p=(Q=function(e){var t=Q.$$s||this;return null==e&&(e=s),t["$is_a_matcher?"](e)},Q.$$s=te,Q.$$arity=1,Q),C).call(J),e.defs(te,"$is_a_describable_matcher?",ee=function(e){var t,r=this;return t=r["$is_a_matcher?"](e),t!==!1&&t!==s&&null!=t?e["$respond_to?"]("description"):t},ee.$$arity=1)}($.base)}(o.base)},Opal.modules["rspec/expectations"]=function(e){var t,r,n,$,a,i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.module);return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_expectations","$new"]),i.$require("rspec/support"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("warnings"),i.$require("rspec/matchers"),(t=(r=o.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=s),t.$require("rspec/expectations/../"+e)},n.$$s=i,n.$$arity=1,n),t).call(r,"expectations"),(t=($=["expectation_target","configuration","fail_with","handler","version"]).$each,t.$$p=(a=function(e){a.$$s||this;return null==e&&(e=s),o.get("RSpec").$$scope.get("Support").$require_rspec_expectations(e)},a.$$s=i,a.$$arity=1,a),t).call($),function(t){var r,n=r=l(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var r,n=r=l(t,"Expectations"),$=(n.$$proto,n.$$scope);e.cdecl($,"ExpectationNotMetError",$.get("Class").$new(e.get("Exception")))}($.base)}(o.base)},Opal.modules["rspec/core/minitest_assertions_adapter"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module);e.add_stubs(["$require","$include","$attr_writer"]);try{t.$require("minitest"),t.$require("minitest/assertions")}catch(a){if(!e.rescue(a,[r.get("LoadError")]))throw a;try{t.$require("minitest/unit"),e.cdecl(r,"Minitest",r.get("MiniTest"))}finally{e.pop_exception()}}return function(t){var r,a=r=$(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var r,a=r=$(t,"Core"),i=(a.$$proto,a.$$scope);!function(t){var r,a,i=r=$(t,"MinitestAssertionsAdapter");i.$$proto,i.$$scope;i.$include(e.get("Minitest").$$scope.get("Assertions")),i.$attr_writer("assertions"),e.defn(i,"$assertions",a=function(){var e,t=this;return null==t.assertions&&(t.assertions=n),(e=t.assertions)!==!1&&e!==n&&null!=e?e:t.assertions=0},a.$$arity=0)}(i.base)}(i.base)}(r.base)},Opal.modules["rspec/core/test_unit_assertions_adapter"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$require","$include","$include?","$ancestors"]),t.$require("test/unit/assertions"),function(t){var r,a=r=$(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var r,a=r=$(t,"Core"),i=(a.$$proto,a.$$scope);!function(t){var r,a,i=r=$(t,"TestUnitAssertionsAdapter"),o=(i.$$proto,i.$$scope);i.$include(e.get("Test").$$scope.get("Unit").$$scope.get("Assertions"));try{(a=i.$ancestors()["$include?"](e.get("Minitest").$$scope.get("Assertions")))===n||null==a||a.$$is_boolean&&1!=a||(i.$require("rspec/core/minitest_assertions_adapter"),i.$include(e.get("RSpec").$$scope.get("Core").$$scope.get("MinitestAssertionsAdapter")))}catch(s){if(!e.rescue(s,[o.get("NameError")]))throw s;try{}finally{e.pop_exception()}}}(i.base)}(i.base)}(r.base)},Opal.modules["rspec/core/configuration"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var i=(e.top,e),o=e.nil,s=(e.breaker,e.slice,e.module),l=e.klass,u=e.hash2,c=e.gvars,_=e.range;return e.add_stubs(["$require_rspec_core","$include","$define_method","$instance_variable_defined?","$instance_variable_get","$value_for","$alias_method","$define_predicate_for","$each","$key?","$raise","$attr_writer","$add_read_only_setting","$define_aliases","$Array","$[]","$define_reader","$add_setting","$exposed_globally?","$expose_globally!","$remove_globally!","$!","$equal?","$warn","$inspect","$deprecation_stream","$first_non_rspec_line","$output_stream","$update_pattern_attr","$deprecate","$attr_accessor","$attr_reader","$now","$new","$force","$ordering_manager","$merge!","$delete","$class_exec","$__send__","$nil?","$mock_with","$exclusion_patterns","$exclusion_patterns=","$inclusion_patterns","$inclusion_patterns=","$filter_gem","$is_a?","$fetch","$keys","$downcase","$to_s","$const_get","$map","$respond_to?","$framework_name","$==","$assert_no_example_groups_defined","$configuration","$empty?","$expect_with","$===","$require","$expecting_with_rspec=","$any?","$-","$>","$length","$first","$push","$full_backtrace?","$full_backtrace=","$output_to_tty?","$color","$windows_os?","$world","$warning","$unshift","$filter_run","$union","$filter","$<<","$add","$formatter_loader","$default_formatter","$default_formatter=","$dup","$formatters","$deprecation","$setup_default","$play_onto","$reporter","$flatten","$command","$running_in_drb?","$default_path","$get_files_to_run","$build_hash_from","$define_example_method","$define_example_group_method","$define_nested_shared_group_method","$include_with_low_priority","$filter_manager","$include_only","$inclusions","$exclude_with_low_priority","$exclude_only","$exclusions","$include_or_extend_modules","$any_apply?","$<","$select","$directory?","$add_to_load_path","$+","$>=","$to_f","$singleton_class","$extend","$include?","$included_modules","$mock_framework","$conditionally_disable_mocks_monkey_patching","$expectation_frameworks","$conditionally_disable_expectations_monkey_patching","$load","$expand_path","$uniq","$files_to_run","$lambda","$to_proc","$delegate_to_ordering_manager","$module_exec","$let","$deprecation_stream=","$expose_dsl_globally=","$disable_monkey_patching=","$call","$private","$sort","$flat_map","$gsub","$gather_directories","$extract_location","$paths_to_check","$pattern_might_load_specs_from_vendored_dirs?","$split","$pattern","$get_matching_files","$exclude_pattern","$file_glob_from","$=~","$escape","$absolute_pattern?","$join","$windows?","$windows_absolute_network_path?","$start_with?","$match","$captures","$to_i","$add_location","$last","$example_groups","$tty?","$disable_monkey_patching","$rspec_mocks_loaded?","$tap","$syntax=","$patch_marshal_to_support_partial_doubles=","$rspec_expectations_loaded?","$instance_variable_set"]),i.get("RSpec").$$scope.get("Support").$require_rspec_core("backtrace_formatter"),i.get("RSpec").$$scope.get("Support").$require_rspec_core("ruby_project"),i.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/deprecation_formatter"),function(i){var p,f=p=s(i,"RSpec"),d=(f.$$proto,f.$$scope);!function(i){var p,f=p=s(i,"Core"),d=(f.$$proto,f.$$scope);!function(i,$super){function p(){}var f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue,ce,_e,pe,fe,de,he,ge,me,ye,ve,be,xe,we,ke,Se,Ee,Re,Ae,Oe,Me,Te,Ce,Ie,ze,je,qe,Ne,Pe,Fe,De,Be,He,Le,Ue,Ge,Ye,Ve,Xe,Ke,We,Ze,Je,Qe,et,tt=p=l(i,$super,"Configuration",p),rt=tt.$$proto,nt=tt.$$scope;return rt.reporter=rt.deprecation_stream=rt.output_stream=rt.preferred_options=rt.mock_framework=rt.backtrace_formatter=rt.expectation_frameworks=rt.color=rt.formatter_loader=rt.reporter_buffer=rt.profile_examples=rt.files_to_run=rt.files_or_directories_to_run=rt.requires=rt.format_docstrings_block=rt.derived_metadata_blocks=rt.spec_files_loaded=o,tt.$include(nt.get("RSpec").$$scope.get("Core").$$scope.get("Hooks")),function(e,$super){function t(){}var r=t=l(e,$super,"MustBeConfiguredBeforeExampleGroupsError",t);r.$$proto,r.$$scope;return o}(nt.base,nt.get("StandardError")),e.defs(tt,"$define_reader",f=function(e){var t,r,n,$=this;return(t=(r=$).$define_method,t.$$p=(n=function(){var t,r=n.$$s||this,$=o;return $=function(){return(t=r["$instance_variable_defined?"]("@"+e))===o||null==t||t.$$is_boolean&&1!=t?o:r.$instance_variable_get("@"+e)}(),r.$value_for(e,$)},n.$$s=$,n.$$arity=0,n),t).call(r,e)},f.$$arity=1),e.defs(tt,"$define_aliases",d=function(e,t){var r=this;return r.$alias_method(t,e),r.$alias_method(""+t+"=",""+e+"="),r.$define_predicate_for(t)},d.$$arity=2),e.defs(tt,"$define_predicate_for",h=function(){var e,t,r,n,$=this,a=arguments.length,i=a-0;0>i&&(i=0),n=new Array(i);for(var s=0;a>s;s++)n[s-0]=arguments[s];return(e=(t=n).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=o),t.$alias_method(""+e+"?",e)},r.$$s=$,r.$$arity=1,r),e).call(t)},h.$$arity=-1),e.defs(tt,"$add_setting",g=function(e,t){var r,n,$,a=this;return null==t&&(t=u([],{})),(r=t["$key?"]("default"))===o||null==r||r.$$is_boolean&&1!=r||a.$raise("Use the instance add_setting method if you want to set a default"),a.$attr_writer(e),a.$add_read_only_setting(e),(r=(n=a.$Array(t["$[]"]("alias_with"))).$each,r.$$p=($=function(t){var r=$.$$s||this;return null==t&&(t=o),r.$define_aliases(e,t)},$.$$s=a,$.$$arity=1,$),r).call(n)},g.$$arity=-2),e.defs(tt,"$add_read_only_setting",m=function(e,t){var r,n=this;return null==t&&(t=u([],{})),(r=t["$key?"]("default"))===o||null==r||r.$$is_boolean&&1!=r||n.$raise("Use the instance add_setting method if you want to set a default"),n.$define_reader(e),n.$define_predicate_for(e)},m.$$arity=-2),tt.$add_setting("default_path"),tt.$add_setting("drb"),tt.$add_setting("drb_port"),tt.$add_setting("error_stream"),e.defn(tt,"$expose_dsl_globally?",y=function(){return nt.get("Core").$$scope.get("DSL")["$exposed_globally?"]()},y.$$arity=0),e.defn(tt,"$expose_dsl_globally=",v=function(e){return e!==!1&&e!==o&&null!=e?(nt.get("Core").$$scope.get("DSL")["$expose_globally!"](),nt.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL")["$expose_globally!"]()):(nt.get("Core").$$scope.get("DSL")["$remove_globally!"](),nt.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL")["$remove_globally!"]());
},v.$$arity=1),tt.$define_reader("deprecation_stream"),e.defn(tt,"$deprecation_stream=",b=function(e){var t,r,n=this;return r=n.reporter,(t=r!==!1&&r!==o&&null!=r?e["$equal?"](n.deprecation_stream)["$!"]():r)===o||null==t||t.$$is_boolean&&1!=t?n.deprecation_stream=e:n.$warn("RSpec's reporter has already been initialized with "+(""+n.$deprecation_stream().$inspect()+" as the deprecation stream, so your change to ")+"`deprecation_stream` will be ignored. You should configure it earlier for it to take effect, or use the `--deprecation-out` CLI option. "+("(Called from "+nt.get("CallerFilter").$first_non_rspec_line()+")"))},b.$$arity=1),tt.$add_setting("fail_fast"),tt.$add_setting("dry_run"),tt.$add_setting("failure_exit_code"),tt.$define_reader("requires"),tt.$define_reader("libs"),tt.$define_reader("output_stream"),e.defn(tt,"$output_stream=",x=function(e){var t,r,n=this;return r=n.reporter,(t=r!==!1&&r!==o&&null!=r?e["$equal?"](n.output_stream)["$!"]():r)===o||null==t||t.$$is_boolean&&1!=t?n.output_stream=e:n.$warn("RSpec's reporter has already been initialized with "+(""+n.$output_stream().$inspect()+" as the output stream, so your change to ")+"`output_stream` will be ignored. You should configure it earlier for "+("it to take effect. (Called from "+nt.get("CallerFilter").$first_non_rspec_line()+")"))},x.$$arity=1),tt.$define_reader("pattern"),e.defn(tt,"$pattern=",w=function(e){var t=this;return t.$update_pattern_attr("pattern",e)},w.$$arity=1),tt.$define_reader("exclude_pattern"),e.defn(tt,"$exclude_pattern=",k=function(e){var t=this;return t.$update_pattern_attr("exclude_pattern",e)},k.$$arity=1),tt.$add_setting("profile_examples"),tt.$add_setting("run_all_when_everything_filtered"),tt.$add_setting("success_color"),tt.$add_setting("pending_color"),tt.$add_setting("failure_color"),tt.$add_setting("default_color"),tt.$add_setting("fixed_color"),tt.$add_setting("detail_color"),e.defn(tt,"$treat_symbols_as_metadata_keys_with_true_values=",S=function(){return nt.get("RSpec").$deprecate("RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values=",u(["message"],{message:"RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values= is deprecated, it is now set to true as default and setting it to false has no effect."}))},S.$$arity=1),tt.$add_setting("start_time"),tt.$add_setting("tty"),tt.$add_setting("include_or_extend_modules"),tt.$attr_writer("files_to_run"),tt.$add_setting("expecting_with_rspec"),tt.$attr_accessor("filter_manager"),tt.$attr_reader("backtrace_formatter","ordering_manager"),e.defn(tt,"$initialize",E=function(){var t,r=this;return null==c._rspec_core_load_started_at&&(c._rspec_core_load_started_at=o),null==c.stderr&&(c.stderr=o),null==c.stdout&&(c.stdout=o),r.start_time=(t=c._rspec_core_load_started_at)!==!1&&t!==o&&null!=t?t:e.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now(),r.expectation_frameworks=[],r.include_or_extend_modules=[],r.mock_framework=o,r.files_or_directories_to_run=[],r.color=!1,r.pattern="**{,/*/**}/*_spec.rb",r.exclude_pattern="",r.failure_exit_code=1,r.spec_files_loaded=!1,r.backtrace_formatter=nt.get("BacktraceFormatter").$new(),r.default_path="spec",r.deprecation_stream=c.stderr,r.output_stream=c.stdout,r.reporter=o,r.reporter_buffer=o,r.filter_manager=nt.get("FilterManager").$new(),r.ordering_manager=nt.get("Ordering").$$scope.get("ConfigurationManager").$new(),r.preferred_options=u([],{}),r.failure_color="red",r.success_color="green",r.pending_color="yellow",r.default_color="white",r.fixed_color="blue",r.detail_color="cyan",r.profile_examples=!1,r.requires=[],r.libs=[],r.derived_metadata_blocks=[]},E.$$arity=0),e.defn(tt,"$force",R=function(e){var t=this;return t.$ordering_manager().$force(e),t.preferred_options["$merge!"](e)},R.$$arity=1),e.defn(tt,"$reset",A=function(){var e=this;return e.spec_files_loaded=!1,e.reporter=o,e.formatter_loader=o},A.$$arity=0),e.defn(tt,"$add_setting",O=function(t,r){var n,$,a,i=this,s=o;return null==r&&(r=u([],{})),s=r.$delete("default"),(n=($=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(i))).$class_exec,n.$$p=(a=function(){var e=a.$$s||this;return e.$add_setting(t,r)},a.$$s=i,a.$$arity=0,a),n).call($),s!==!1&&s!==o&&null!=s?i.$__send__(""+t+"=",s):o},O.$$arity=-2),e.defn(tt,"$mock_framework",M=function(){var t,r=this;if((t=r.mock_framework["$nil?"]())!==o&&null!=t&&(!t.$$is_boolean||1==t))try{r.$mock_with("rspec")}catch(n){if(!e.rescue(n,[nt.get("LoadError")]))throw n;try{r.$mock_with("nothing")}finally{e.pop_exception()}}return r.mock_framework},M.$$arity=0),e.defn(tt,"$mock_framework=",T=function(e){var t=this;return t.$mock_with(e)},T.$$arity=1),e.defn(tt,"$backtrace_exclusion_patterns",C=function(){var e=this;return e.backtrace_formatter.$exclusion_patterns()},C.$$arity=0),e.defn(tt,"$backtrace_exclusion_patterns=",I=function(e){var t,r,n=this;return t=[e],r=n.backtrace_formatter,r["$exclusion_patterns="].apply(r,t),t[t.length-1]},I.$$arity=1),e.defn(tt,"$backtrace_inclusion_patterns",z=function(){var e=this;return e.backtrace_formatter.$inclusion_patterns()},z.$$arity=0),e.defn(tt,"$backtrace_inclusion_patterns=",j=function(e){var t,r,n=this;return t=[e],r=n.backtrace_formatter,r["$inclusion_patterns="].apply(r,t),t[t.length-1]},j.$$arity=1),e.defn(tt,"$filter_gems_from_backtrace",q=function(){var e,t,r,n,$=this,a=arguments.length,i=a-0;0>i&&(i=0),n=new Array(i);for(var s=0;a>s;s++)n[s-0]=arguments[s];return(e=(t=n).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==t.backtrace_formatter&&(t.backtrace_formatter=o),null==e&&(e=o),t.backtrace_formatter.$filter_gem(e)},r.$$s=$,r.$$arity=1,r),e).call(t)},q.$$arity=-1),e.cdecl(nt,"MOCKING_ADAPTERS",u(["rspec","flexmock","rr","mocha","nothing"],{rspec:"RSpec",flexmock:"Flexmock",rr:"RR",mocha:"Mocha",nothing:"Null"})),e.defn(tt,"$mock_with",N=function(t){var r,n,$,a,i,s,l,u=this,c=N.$$p,_=c||o,p=o,f=o,d=o,h=o;return N.$$p=null,p=function(){return(r=t["$is_a?"](nt.get("Module")))===o||null==r||r.$$is_boolean&&1!=r?(f=(r=(n=nt.get("MOCKING_ADAPTERS")).$fetch,r.$$p=($=function(){var e=$.$$s||this;return e.$raise(nt.get("ArgumentError"),"Unknown mocking framework: "+t.$inspect()+". Pass a module or one of "+nt.get("MOCKING_ADAPTERS").$keys().$inspect())},$.$$s=u,$.$$arity=0,$),r).call(n,t),nt.get("RSpec").$$scope.get("Support").$require_rspec_core("mocking_adapters/"+f.$to_s().$downcase()),nt.get("RSpec").$$scope.get("Core").$$scope.get("MockingAdapters").$const_get(f)):t}(),a=(i=(s=[p,u.mock_framework]).$map,i.$$p=(l=function(e){var t;l.$$s||this;return null==e&&(e=o),(t=e["$respond_to?"]("framework_name"))===o||null==t||t.$$is_boolean&&1!=t?"unnamed":e.$framework_name()},l.$$s=u,l.$$arity=1,l),i).call(s),r=e.to_ary(a),d=null==r[0]?o:r[0],h=null==r[1]?o:r[1],a,d["$=="](h)||u.$assert_no_example_groups_defined("mock_framework"),_!==o&&(((r=p["$respond_to?"]("configuration"))===o||null==r||r.$$is_boolean&&1!=r)&&u.$raise(""+p+" must respond to `configuration` so that mock_with can yield it."),e.yield1(_,p.$configuration())),u.mock_framework=p},N.$$arity=1),e.defn(tt,"$expectation_frameworks",P=function(){var t,r=this;if((t=r.expectation_frameworks["$empty?"]())!==o&&null!=t&&(!t.$$is_boolean||1==t))try{r.$expect_with("rspec")}catch(n){if(!e.rescue(n,[nt.get("LoadError")]))throw n;try{r.$expect_with(nt.get("Module").$new())}finally{e.pop_exception()}}return r.expectation_frameworks},P.$$arity=0),e.defn(tt,"$expectation_framework=",F=function(e){var t=this;return t.$expect_with(e)},F.$$arity=1),e.defn(tt,"$expect_with",D=function(){var n,$,a,i,s=this,l=D.$$p,u=l||o,c=o,_=arguments.length,p=_-0;0>p&&(p=0),i=new Array(p);for(var f=0;_>f;f++)i[f-0]=arguments[f];return D.$$p=null,c=(n=($=i).$map,n.$$p=(a=function(t){var r,n,$=a.$$s||this,i=o;return null==t&&(t=o),function(){return i=t,nt.get("Module")["$==="](i)?t:"rspec"["$==="](i)?($.$require("rspec/expectations"),r=[!0],n=$,n["$expecting_with_rspec="].apply(n,r),r[r.length-1],e.get("RSpec").$$scope.get("Matchers")):"test_unit"["$==="](i)?($.$require("rspec/core/test_unit_assertions_adapter"),e.get("RSpec").$$scope.get("Core").$$scope.get("TestUnitAssertionsAdapter")):"minitest"["$==="](i)?($.$require("rspec/core/minitest_assertions_adapter"),e.get("RSpec").$$scope.get("Core").$$scope.get("MinitestAssertionsAdapter")):$.$raise(nt.get("ArgumentError"),""+t.$inspect()+" is not supported")}()},a.$$s=s,a.$$arity=1,a),n).call($),(n=t(c,s.expectation_frameworks)["$any?"]())===o||null==n||n.$$is_boolean&&1!=n||s.$assert_no_example_groups_defined("expect_with"),u!==o&&((n=r(c.$length(),1))===o||null==n||n.$$is_boolean&&1!=n||s.$raise("expect_with only accepts a block with a single argument. Call expect_with "+c.$length()+" times, once with each argument, instead."),((n=c.$first()["$respond_to?"]("configuration"))===o||null==n||n.$$is_boolean&&1!=n)&&s.$raise(""+c.$first()+" must respond to `configuration` so that expect_with can yield it."),e.yield1(u,c.$first().$configuration())),(n=s.expectation_frameworks).$push.apply(n,e.to_a(c))},D.$$arity=-1),e.defn(tt,"$full_backtrace?",B=function(){var e=this;return e.backtrace_formatter["$full_backtrace?"]()},B.$$arity=0),e.defn(tt,"$full_backtrace=",H=function(e){var t,r,n=this;return t=[e],r=n.backtrace_formatter,r["$full_backtrace="].apply(r,t),t[t.length-1]},H.$$arity=1),e.defn(tt,"$color",L=function(){var e=this;return e.$value_for("color",e.color)},L.$$arity=0),e.defn(tt,"$color_enabled?",U=function(e){var t,r=this;return null==e&&(e=r.$output_stream()),t=r["$output_to_tty?"](e),t!==!1&&t!==o&&null!=t?r.$color():t},U.$$arity=-1),e.defn(tt,"$color=",G=function(e){var t,r,n=this;return e===!1||e===o||null==e?o:(r=nt.get("RSpec").$world()["$windows_os?"](),(t=r!==!1&&r!==o&&null!=r?nt.get("ENV")["$[]"]("ANSICON")["$!"]():r)===o||null==t||t.$$is_boolean&&1!=t?n.color=!0:(nt.get("RSpec").$warning("You must use ANSICON 1.31 or later (http://adoxa.3eeweb.com/ansicon/) to use colour on Windows"),n.color=!1))},G.$$arity=1),e.defn(tt,"$libs=",Y=function(e){var t,r,n,$=this;return(t=(r=e).$map,t.$$p=(n=function(e){var t=n.$$s||this;return null==t.libs&&(t.libs=o),null==c.LOAD_PATH&&(c.LOAD_PATH=o),null==e&&(e=o),t.libs.$unshift(e),c.LOAD_PATH.$unshift(e)},n.$$s=$,n.$$arity=1,n),t).call(r)},Y.$$arity=1),e.defn(tt,"$full_description=",V=function(t){var r,n,$,a,i=this;return i.$filter_run(u(["full_description"],{full_description:(r=nt.get("Regexp")).$union.apply(r,e.to_a((n=($=i.$Array(t)).$map,n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=o),nt.get("Regexp").$new(e)},a.$$s=i,a.$$arity=1,a),n).call($)))}))},V.$$arity=1),e.defn(tt,"$full_description",X=function(){var e=this;return e.$filter().$fetch("full_description",o)},X.$$arity=0),e.defn(tt,"$add_formatter",K=function(t){var r,n,$=this,a=arguments.length,i=a-1;0>i&&(i=0),n=new Array(i);for(var s=1;a>s;s++)n[s-1]=arguments[s];return(r=n["$empty?"]())===o||null==r||r.$$is_boolean&&1!=r||n["$<<"]($.$output_stream()),(r=$.$formatter_loader()).$add.apply(r,[t].concat(e.to_a(n)))},K.$$arity=-2),tt.$alias_method("formatter=","add_formatter"),e.defn(tt,"$default_formatter",W=function(){var e=this;return e.$formatter_loader().$default_formatter()},W.$$arity=0),e.defn(tt,"$default_formatter=",Z=function(e){var t,r,n=this;return t=[e],r=n.$formatter_loader(),r["$default_formatter="].apply(r,t),t[t.length-1]},Z.$$arity=1),e.defn(tt,"$formatters",J=function(){var e=this;return e.$formatter_loader().$formatters().$dup()},J.$$arity=0),e.defn(tt,"$formatter_loader",Q=function(){var e,t=this;return(e=t.formatter_loader)!==!1&&e!==o&&null!=e?e:t.formatter_loader=nt.get("Formatters").$$scope.get("Loader").$new(nt.get("Reporter").$new(t))},Q.$$arity=0),function(t,$super){function r(){}var n,$,a,i=r=l(t,$super,"DeprecationReporterBuffer",r),s=i.$$proto;i.$$scope;return s.calls=o,e.defn(i,"$initialize",n=function(){var e=this;return e.calls=[]},n.$$arity=0),e.defn(i,"$deprecation",$=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.calls["$<<"](e)},$.$$arity=-1),e.defn(i,"$play_onto",a=function(t){var r,n,$,a=this;return(r=(n=a.calls).$each,r.$$p=($=function(r){var n;$.$$s||this;return null==r&&(r=o),(n=t).$deprecation.apply(n,e.to_a(r))},$.$$s=a,$.$$arity=1,$),r).call(n)},a.$$arity=1),o&&"play_onto"}(nt.base,null),e.defn(tt,"$reporter",ee=function(){var e,t,r=this;return(e=r.reporter_buffer)!==!1&&e!==o&&null!=e?e:(t=r.reporter)!==!1&&t!==o&&null!=t?t:r.reporter=function(){return r.reporter_buffer=nt.get("DeprecationReporterBuffer").$new(),r.$formatter_loader().$setup_default(r.$output_stream(),r.$deprecation_stream()),r.reporter_buffer.$play_onto(r.$formatter_loader().$reporter()),r.reporter_buffer=o,r.$formatter_loader().$reporter()}()},ee.$$arity=0),e.defn(tt,"$profile_examples",te=function(){var e,t,r=this,n=o;return n=r.$value_for("profile_examples",r.profile_examples),(e=(t=n!==!1&&n!==o&&null!=n)?n["$is_a?"](nt.get("Integer"))["$!"]():n)===o||null==e||e.$$is_boolean&&1!=e?n:10},te.$$arity=0),e.defn(tt,"$files_or_directories_to_run=",re=function(){var e,t,r,n,$,a=this,i=arguments.length,s=i-0;0>s&&(s=0),$=new Array(s);for(var l=0;i>l;l++)$[l-0]=arguments[l];return $=$.$flatten(),r=(n=a.$command()["$=="]("rspec"))!==!1&&n!==o&&null!=n?n:nt.get("Runner")["$running_in_drb?"](),t=r!==!1&&r!==o&&null!=r?a.$default_path():r,(e=t!==!1&&t!==o&&null!=t?$["$empty?"]():t)===o||null==e||e.$$is_boolean&&1!=e||$["$<<"](a.$default_path()),a.files_or_directories_to_run=$,a.files_to_run=o},re.$$arity=-1),e.defn(tt,"$files_to_run",ne=function(){var e,t=this;return(e=t.files_to_run)!==!1&&e!==o&&null!=e?e:t.files_to_run=t.$get_files_to_run(t.files_or_directories_to_run)},ne.$$arity=0),e.defn(tt,"$alias_example_to",$e=function(e){var t,r=o,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];return r=nt.get("Metadata").$build_hash_from(t),nt.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_example_method(e,r)},$e.$$arity=-2),e.defn(tt,"$alias_example_group_to",ae=function(e){var t,r=o,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];return r=nt.get("Metadata").$build_hash_from(t),nt.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_example_group_method(e,r)},ae.$$arity=-2),e.defn(tt,"$alias_it_behaves_like_to",ie=function(e,t){return null==t&&(t=""),nt.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$define_nested_shared_group_method(e,t)},ie.$$arity=-2),tt.$alias_method("alias_it_should_behave_like_to","alias_it_behaves_like_to"),e.defn(tt,"$filter_run_including",oe=function(){var e,t=this,r=o,n=arguments.length,$=n-0;0>$&&($=0),e=new Array($);for(var a=0;n>a;a++)e[a-0]=arguments[a];return r=nt.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.$filter_manager().$include_with_low_priority(r)},oe.$$arity=-1),tt.$alias_method("filter_run","filter_run_including"),e.defn(tt,"$inclusion_filter=",se=function(e){var t=this,r=o;return r=nt.get("Metadata").$build_hash_from([e],"warn_about_example_group_filtering"),t.$filter_manager().$include_only(r)},se.$$arity=1),tt.$alias_method("filter=","inclusion_filter="),e.defn(tt,"$inclusion_filter",le=function(){var e=this;return e.$filter_manager().$inclusions()},le.$$arity=0),tt.$alias_method("filter","inclusion_filter"),e.defn(tt,"$filter_run_excluding",ue=function(){var e,t=this,r=o,n=arguments.length,$=n-0;0>$&&($=0),e=new Array($);for(var a=0;n>a;a++)e[a-0]=arguments[a];return r=nt.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.$filter_manager().$exclude_with_low_priority(r)},ue.$$arity=-1),e.defn(tt,"$exclusion_filter=",ce=function(e){var t=this,r=o;return r=nt.get("Metadata").$build_hash_from([e],"warn_about_example_group_filtering"),t.$filter_manager().$exclude_only(r)},ce.$$arity=1),e.defn(tt,"$exclusion_filter",_e=function(){var e=this;return e.$filter_manager().$exclusions()},_e.$$arity=0),e.defn(tt,"$include",pe=function(e){var t,r=this,n=o,$=arguments.length,a=$-1;0>a&&(a=0),t=new Array(a);for(var i=1;$>i;i++)t[i-1]=arguments[i];return n=nt.get("Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),r.$include_or_extend_modules()["$<<"](["include",e,n])},pe.$$arity=-2),e.defn(tt,"$extend",fe=function(e){var t,r=this,n=o,$=arguments.length,a=$-1;0>a&&(a=0),t=new Array(a);for(var i=1;$>i;i++)t[i-1]=arguments[i];return n=nt.get("Metadata").$build_hash_from(t,"warn_about_example_group_filtering"),r.$include_or_extend_modules()["$<<"](["extend",e,n])},fe.$$arity=-2),e.defn(tt,"$configure_group",de=function(e){var t,r,n,$=this;return(t=(r=$.$include_or_extend_modules()).$each,t.$$p=(n=function(t,r,$){var a,i,s=n.$$s||this;return null==t&&(t=o),null==r&&(r=o),null==$&&($=o),(a=(i=$["$empty?"]())!==!1&&i!==o&&null!=i?i:e["$any_apply?"]($))===o||null==a||a.$$is_boolean&&1!=a?o:s.$__send__("safe_"+t,r,e)},n.$$s=$,n.$$arity=3,n),t).call(r)},de.$$arity=1),e.defn(tt,"$safe_include",he=function(e,t){var r;return(r=n(t,e))===o||null==r||r.$$is_boolean&&1!=r?t.$__send__("include",e):o},he.$$arity=2),e.defn(tt,"$requires=",ge=function(t){var r,n,a,i,s,l,u=this,c=o;return c=(r=(n=["lib",u.$default_path()]).$select,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=o),nt.get("File")["$directory?"](e)},a.$$s=u,a.$$arity=1,a),r).call(n),(r=nt.get("RSpec").$$scope.get("Core").$$scope.get("RubyProject")).$add_to_load_path.apply(r,e.to_a(c)),(i=(s=t).$each,i.$$p=(l=function(e){var t=l.$$s||this;return null==e&&(e=o),t.$require(e)},l.$$s=u,l.$$arity=1,l),i).call(s),u.requires=$(u.requires,t)},ge.$$arity=1),(me=a(nt.get("RUBY_VERSION").$to_f(),1.9))===o||null==me||me.$$is_boolean&&1!=me?e.defn(tt,"$safe_extend",ve=function(t,r){var n;return(n=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(r)).$included_modules()["$include?"](t))===o||null==n||n.$$is_boolean&&1!=n?r.$extend(t):o},ve.$$arity=2):e.defn(tt,"$safe_extend",ye=function(e,t){var r;return(r=n(t.$singleton_class(),e))===o||null==r||r.$$is_boolean&&1!=r?t.$extend(e):o},ye.$$arity=2),e.defn(tt,"$configure_mock_framework",be=function(){var e=this;return nt.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$__send__("include",e.$mock_framework()),e.$conditionally_disable_mocks_monkey_patching()},be.$$arity=0),e.defn(tt,"$configure_expectation_framework",xe=function(){var e,t,r,n=this;return(e=(t=n.$expectation_frameworks()).$each,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=o),nt.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup").$__send__("include",e)},r.$$s=n,r.$$arity=1,r),e).call(t),n.$conditionally_disable_expectations_monkey_patching()},xe.$$arity=0),e.defn(tt,"$load_spec_files",we=function(){var e,t,r,n=this;return(e=(t=n.$files_to_run().$uniq()).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=o),t.$load(nt.get("File").$expand_path(e))},r.$$s=n,r.$$arity=1,r),e).call(t),n.spec_files_loaded=!0},we.$$arity=0),e.cdecl(nt,"DEFAULT_FORMATTER",(me=(ke=tt).$lambda,me.$$p=(Se=function(e){Se.$$s||this;return null==e&&(e=o),e},Se.$$s=tt,Se.$$arity=1,Se),me).call(ke)),e.defn(tt,"$format_docstrings",Ee=function(){var e=this,t=Ee.$$p,r=t||o;return Ee.$$p=null,e.format_docstrings_block=function(){return r!==o?r:nt.get("DEFAULT_FORMATTER")}()},Ee.$$arity=0),e.defn(tt,"$format_docstrings_block",Re=function(){var e,t=this;return(e=t.format_docstrings_block)!==!1&&e!==o&&null!=e?e:t.format_docstrings_block=nt.get("DEFAULT_FORMATTER")},Re.$$arity=0),e.defs(tt,"$delegate_to_ordering_manager",Ae=function(){var t,r,n,$,a=this,i=arguments.length,s=i-0;0>s&&(s=0),$=new Array(s);for(var l=0;i>l;l++)$[l-0]=arguments[l];return(t=(r=$).$each,t.$$p=(n=function(t){var r,$,a,i=n.$$s||this;return null==t&&(t=o),(r=($=i).$define_method,r.$$p=(a=function(){var r,n,$,i,s=a.$$s||this;r=a.$$p||o,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),n=new Array(u);for(var c=0;l>c;c++)n[c-0]=arguments[c];return($=(i=s.$ordering_manager()).$__send__,$.$$p=r.$to_proc(),$).apply(i,[t].concat(e.to_a(n)))},a.$$s=i,a.$$arity=-1,a),r).call($,t)},n.$$s=a,n.$$arity=1,n),t).call(r)},Ae.$$arity=-1),tt.$delegate_to_ordering_manager("seed="),tt.$delegate_to_ordering_manager("seed"),tt.$delegate_to_ordering_manager("order="),tt.$delegate_to_ordering_manager("register_ordering"),tt.$delegate_to_ordering_manager("seed_used?","ordering_registry"),e.defn(tt,"$warnings=",Oe=function(e){return c.VERBOSE=e["$!"]()["$!"]()},Oe.$$arity=1),e.defn(tt,"$warnings?",Me=function(){return null==c.VERBOSE&&(c.VERBOSE=o),c.VERBOSE},Me.$$arity=0),e.defn(tt,"$expose_current_running_example_as",Te=function(e){var t,r,n,$=this;return(t=(r=nt.get("ExposeCurrentExample")).$module_exec,t.$$p=(n=function(){var t,r,$,a=n.$$s||this;return a.$extend(nt.get("RSpec").$$scope.get("SharedContext")),(t=(r=a).$let,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=o),e},$.$$s=a,$.$$arity=1,$),t).call(r,e)},n.$$s=$,n.$$arity=0,n),t).call(r),$.$include(nt.get("ExposeCurrentExample"))},Te.$$arity=1),function(e){var t,r=t=s(e,"ExposeCurrentExample");r.$$proto,r.$$scope}(nt.base),e.defn(tt,"$raise_errors_for_deprecations!",Ce=function(){var e,t,r=this;return e=[nt.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("RaiseErrorStream").$new()],t=r,t["$deprecation_stream="].apply(t,e),e[e.length-1]},Ce.$$arity=0),e.defn(tt,"$disable_monkey_patching!",Ie=function(){var e,t,r=this;return e=[!1],t=r,t["$expose_dsl_globally="].apply(t,e),e[e.length-1],e=[!0],t=r,t["$disable_monkey_patching="].apply(t,e),e[e.length-1],r.$conditionally_disable_mocks_monkey_patching(),r.$conditionally_disable_expectations_monkey_patching()},Ie.$$arity=0),tt.$attr_accessor("disable_monkey_patching"),e.defn(tt,"$define_derived_metadata",ze=function(){var e,t=this,r=ze.$$p,n=r||o,$=o,a=arguments.length,i=a-0;0>i&&(i=0),e=new Array(i);for(var s=0;a>s;s++)e[s-0]=arguments[s];return ze.$$p=null,$=nt.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),t.derived_metadata_blocks["$<<"]([$,n])},ze.$$arity=-1),e.defn(tt,"$apply_derived_metadata_to",je=function(e){var t,r,n,$=this;return(t=(r=$.derived_metadata_blocks).$each,t.$$p=(n=function(t,r){var $,a;n.$$s||this;return null==t&&(t=o),null==r&&(r=o),($=(a=t["$empty?"]())!==!1&&a!==o&&null!=a?a:nt.get("MetadataFilter")["$any_apply?"](t,e))===o||null==$||$.$$is_boolean&&1!=$?o:r.$call(e)},n.$$s=$,n.$$arity=2,n),t).call(r)},je.$$arity=1),tt.$private(),e.defn(tt,"$get_files_to_run",qe=function(e){var t,r,n,$=this;return(t=(r=nt.get("FlatMap")).$flat_map,t.$$p=(n=function(e){var t,r=n.$$s||this;return null==e&&(e=o),(t=nt.get("File").$$scope.get("ALT_SEPARATOR"))===o||null==t||t.$$is_boolean&&1!=t||(e=e.$gsub(nt.get("File").$$scope.get("ALT_SEPARATOR"),nt.get("File").$$scope.get("SEPARATOR"))),(t=nt.get("File")["$directory?"](e))===o||null==t||t.$$is_boolean&&1!=t?r.$extract_location(e):r.$gather_directories(e)},n.$$s=$,n.$$arity=1,n),t).call(r,$.$paths_to_check(e)).$sort().$uniq()},qe.$$arity=1),e.defn(tt,"$paths_to_check",Ne=function(e){var t,r=this;return(t=r["$pattern_might_load_specs_from_vendored_dirs?"]())===o||null==t||t.$$is_boolean&&1!=t?$(e,["."]):e},Ne.$$arity=1),e.defn(tt,"$pattern_might_load_specs_from_vendored_dirs?",Pe=function(){var e=this;return e.$pattern().$split(nt.get("File").$$scope.get("SEPARATOR")).$first()["$include?"]("**")},Pe.$$arity=0),e.defn(tt,"$gather_directories",Fe=function(e){var r=this,n=o,$=o;return n=r.$get_matching_files(e,r.$pattern()),$=r.$get_matching_files(e,r.$exclude_pattern()),t(n,$).$sort().$uniq()},Fe.$$arity=1),e.defn(tt,"$get_matching_files",De=function(e,t){var r,n,$,a=this;return(r=(n=nt.get("Dir")["$[]"](a.$file_glob_from(e,t))).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=o),nt.get("File").$expand_path(e)},$.$$s=a,$.$$arity=1,$),r).call(n)},De.$$arity=2),e.defn(tt,"$file_glob_from",Be=function(e,t){var r,n,$=this,a=o;return a="{"+t.$gsub(/\s*,\s*/,",")+"}",(r=(n=t["$=~"](new RegExp("^(\\.\\/)?"+nt.get("Regexp").$escape(e))))!==!1&&n!==o&&null!=n?n:$["$absolute_pattern?"](t))===o||null==r||r.$$is_boolean&&1!=r?nt.get("File").$join(e,a):a},Be.$$arity=2),(me=nt.get("RSpec").$$scope.get("Support").$$scope.get("OS")["$windows?"]())===o||null==me||me.$$is_boolean&&1!=me?e.defn(tt,"$absolute_pattern?",Ue=function(e){return e["$start_with?"](nt.get("File").$$scope.get("Separator"))},Ue.$$arity=1):(e.defn(tt,"$absolute_pattern?",He=function(e){var t,r=this;return(t=e["$=~"](/\A[A-Z]:\\/))!==!1&&t!==o&&null!=t?t:r["$windows_absolute_network_path?"](e)},He.$$arity=1),e.defn(tt,"$windows_absolute_network_path?",Le=function(t){var r;return(r=e.get("File").$$scope.get("ALT_SEPARATOR"))===o||null==r||r.$$is_boolean&&1!=r?!1:t["$start_with?"]($(e.get("File").$$scope.get("ALT_SEPARATOR"),e.get("File").$$scope.get("ALT_SEPARATOR")))},Le.$$arity=1)),e.defn(tt,"$extract_location",Ge=function(e){var t,r,n,$,a=this,i=o,s=o,l=o;return i=/^(.*?)((?:\:\d+)+)$/.$match(e),i!==!1&&i!==o&&null!=i&&(s=i.$captures(),t=[s["$[]"](0),(r=(n=s["$[]"](1)["$[]"](_(1,-1,!1)).$split(":")).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=o),e.$to_i()},$.$$s=a,$.$$arity=1,$),r).call(n)],e=t[0],l=t[1],t,a.$filter_manager().$add_location(e,l)),e["$=="](a.$default_path())?[]:e},Ge.$$arity=1),e.defn(tt,"$command",Ye=function(){return null==c[0]&&(c[0]=o),c[0].$split(nt.get("File").$$scope.get("SEPARATOR")).$last()},Ye.$$arity=0),e.defn(tt,"$value_for",Ve=function(e,t){var r,n=this;return null==t&&(t=o),(r=n.preferred_options["$key?"](e))===o||null==r||r.$$is_boolean&&1!=r?t:n.preferred_options["$[]"](e)},Ve.$$arity=-2),e.defn(tt,"$assert_no_example_groups_defined",Xe=function(e){var t,r=this;return(t=nt.get("RSpec").$world().$example_groups()["$any?"]())===o||null==t||t.$$is_boolean&&1!=t?o:r.$raise(nt.get("MustBeConfiguredBeforeExampleGroupsError").$new("RSpec's "+e+" configuration option must be configured before any example groups are defined, but you have already defined a group."))},Xe.$$arity=1),e.defn(tt,"$output_to_tty?",Ke=function(e){var t,r,n=this;return null==e&&(e=n.$output_stream()),(t=n["$tty?"]())!==!1&&t!==o&&null!=t?t:(r=e["$respond_to?"]("tty?"),r!==!1&&r!==o&&null!=r?e["$tty?"]():r)},Ke.$$arity=-1),e.defn(tt,"$conditionally_disable_mocks_monkey_patching",We=function(){var e,t,r,n=this;return t=n.$disable_monkey_patching(),(e=t!==!1&&t!==o&&null!=t?n["$rspec_mocks_loaded?"]():t)===o||null==e||e.$$is_boolean&&1!=e?o:(e=(t=nt.get("RSpec").$$scope.get("Mocks").$configuration()).$tap,e.$$p=(r=function(e){var t,n;r.$$s||this;return null==e&&(e=o),t=["expect"],n=e,n["$syntax="].apply(n,t),t[t.length-1],t=[!1],n=e,n["$patch_marshal_to_support_partial_doubles="].apply(n,t),t[t.length-1]},r.$$s=n,r.$$arity=1,r),e).call(t)},We.$$arity=0),e.defn(tt,"$conditionally_disable_expectations_monkey_patching",Ze=function(){var e,t,r=this;return t=r.$disable_monkey_patching(),(e=t!==!1&&t!==o&&null!=t?r["$rspec_expectations_loaded?"]():t)===o||null==e||e.$$is_boolean&&1!=e?o:(e=["expect"],t=nt.get("RSpec").$$scope.get("Expectations").$configuration(),t["$syntax="].apply(t,e),e[e.length-1])},Ze.$$arity=0),e.defn(tt,"$rspec_mocks_loaded?",Je=function(){var e;return(e=nt.get("RSpec").$$scope.get("Mocks").$configuration)&&!e.$$stub||nt.get("RSpec").$$scope.get("Mocks")["$respond_to_missing?"]("configuration")?"method":o},Je.$$arity=0),e.defn(tt,"$rspec_expectations_loaded?",Qe=function(){var e;return(e=nt.get("RSpec").$$scope.get("Expectations").$configuration)&&!e.$$stub||nt.get("RSpec").$$scope.get("Expectations")["$respond_to_missing?"]("configuration")?"method":o},Qe.$$arity=0),e.defn(tt,"$update_pattern_attr",et=function(e,t){var r,n=this;return(r=n.spec_files_loaded)===o||null==r||r.$$is_boolean&&1!=r||nt.get("RSpec").$warning("Configuring `"+e+"` to "+t+" has no effect since RSpec has already loaded the spec files."),n.$instance_variable_set("@"+e.$to_s(),t),n.files_to_run=o},et.$$arity=2),o&&"update_pattern_attr"}(d.base,null)}(d.base)}(i.base)},Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.klass),i=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(n,$super){function i(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j=i=a(n,$super,"Set",i),q=j.$$proto,N=j.$$scope;return q.hash=$,j.$include(N.get("Enumerable")),e.defs(j,"$[]",o=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$new(e)},o.$$arity=-1),e.defn(j,"$initialize",s=function(e){var t,r,n,a=this,i=s.$$p,o=i||$;return null==e&&(e=$),s.$$p=null,a.hash=N.get("Hash").$new(),(t=e["$nil?"]())===$||null==t||t.$$is_boolean&&1!=t?(((t=N.get("Enumerable")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t)&&a.$raise(N.get("ArgumentError"),"value must be enumerable"),o!==!1&&o!==$&&null!=o?(t=(r=e).$each,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=$),t.$add(o.$call(e))},n.$$s=a,n.$$arity=1,n),t).call(r):a.$merge(e)):$},s.$$arity=-1),e.defn(j,"$dup",l=function(){var e=this,t=$;return t=e.$class().$new(),t.$merge(e)},l.$$arity=0),e.defn(j,"$-",u=function(e){var t,r=this;return((t=e["$respond_to?"]("each"))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(N.get("ArgumentError"),"value must be enumerable"),r.$dup().$subtract(e)},u.$$arity=1),e.alias(j,"difference","-"),e.defn(j,"$inspect",c=function(){var e=this;return"#<Set: {"+e.$to_a().$join(",")+"}>"},c.$$arity=0),e.defn(j,"$==",_=function(e){var t,r,n,a=this;return(t=a["$equal?"](e))===$||null==t||t.$$is_boolean&&1!=t?(t=e["$instance_of?"](a.$class()))===$||null==t||t.$$is_boolean&&1!=t?(r=e["$is_a?"](N.get("Set")),(t=r!==!1&&r!==$&&null!=r?a.$size()["$=="](e.$size()):r)===$||null==t||t.$$is_boolean&&1!=t?!1:(t=(r=e)["$all?"],t.$$p=(n=function(e){var t=n.$$s||this;return null==t.hash&&(t.hash=$),null==e&&(e=$),t.hash["$include?"](e)},n.$$s=a,n.$$arity=1,n),t).call(r)):a.hash["$=="](e.$instance_variable_get("@hash")):!0},_.$$arity=1),e.defn(j,"$add",p=function(e){var t=this;return t.hash["$[]="](e,!0),t},p.$$arity=1),e.alias(j,"<<","add"),e.defn(j,"$classify",f=function(){var t,r,n,a,i,o=this,s=f.$$p,l=s||$,u=$;return f.$$p=null,l===$?o.$enum_for("classify"):(u=(t=(r=N.get("Hash")).$new,t.$$p=(n=function(e,t){var r=n.$$s||this;return null==e&&(e=$),null==t&&(t=$),e["$[]="](t,r.$class().$new())},n.$$s=o,n.$$arity=2,n),t).call(r),(t=(a=o).$each,t.$$p=(i=function(t){i.$$s||this;return null==t&&(t=$),u["$[]"](e.yield1(l,t)).$add(t)},i.$$s=o,i.$$arity=1,i),t).call(a),u)},f.$$arity=0),e.defn(j,"$collect!",d=function(){var t,r,n,a=this,i=d.$$p,o=i||$,s=$;return d.$$p=null,o===$?a.$enum_for("collect!"):(s=a.$class().$new(),(t=(r=a).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),s["$<<"](e.yield1(o,t))},n.$$s=a,n.$$arity=1,n),t).call(r),a.$replace(s))},d.$$arity=0),e.alias(j,"map!","collect!"),e.defn(j,"$delete",h=function(e){var t=this;return t.hash.$delete(e),t},h.$$arity=1),e.defn(j,"$delete?",g=function(e){var t,r=this;return(t=r["$include?"](e))===$||null==t||t.$$is_boolean&&1!=t?$:(r.$delete(e),r)},g.$$arity=1),e.defn(j,"$delete_if",m=function(){try{var t,r,n,a,i,o,s=this,l=m.$$p,u=l||$;return m.$$p=null,(t=u!==$)!=!1&&t!==$&&null!=t?t:e.ret(s.$enum_for("delete_if")),(t=(r=(a=(i=s).$select,a.$$p=(o=function(t){o.$$s||this;return null==t&&(t=$),e.yield1(u,t)},o.$$s=s,o.$$arity=1,o),a).call(i)).$each,t.$$p=(n=function(e){var t=n.$$s||this;return null==t.hash&&(t.hash=$),null==e&&(e=$),t.hash.$delete(e)},n.$$s=s,n.$$arity=1,n),t).call(r),s}catch(c){if(c===e.returner)return c.$v;throw c}},m.$$arity=0),e.defn(j,"$add?",y=function(e){var t,r=this;return(t=r["$include?"](e))===$||null==t||t.$$is_boolean&&1!=t?r.$add(e):$},y.$$arity=1),e.defn(j,"$each",v=function(){var e,t,r=this,n=v.$$p,a=n||$;return v.$$p=null,a===$?r.$enum_for("each"):((e=(t=r.hash).$each_key,e.$$p=a.$to_proc(),e).call(t),r)},v.$$arity=0),e.defn(j,"$empty?",b=function(){var e=this;return e.hash["$empty?"]()},b.$$arity=0),e.defn(j,"$eql?",x=function(e){var t,r,n,a=this;return a.hash["$eql?"]((t=(r=e).$instance_eval,t.$$p=(n=function(){var e=n.$$s||this;return null==e.hash&&(e.hash=$),e.hash},n.$$s=a,n.$$arity=0,n),t).call(r))},x.$$arity=1),e.defn(j,"$clear",w=function(){var e=this;return e.hash.$clear(),e},w.$$arity=0),e.defn(j,"$include?",k=function(e){var t=this;
return t.hash["$include?"](e)},k.$$arity=1),e.alias(j,"member?","include?"),e.defn(j,"$merge",S=function(e){var t,r,n,a=this;return(t=(r=e).$each,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=$),t.$add(e)},n.$$s=a,n.$$arity=1,n),t).call(r),a},S.$$arity=1),e.defn(j,"$replace",E=function(e){var t=this;return t.$clear(),t.$merge(e),t},E.$$arity=1),e.defn(j,"$size",R=function(){var e=this;return e.hash.$size()},R.$$arity=0),e.alias(j,"length","size"),e.defn(j,"$subtract",A=function(e){var t,r,n,a=this;return(t=(r=e).$each,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=$),t.$delete(e)},n.$$s=a,n.$$arity=1,n),t).call(r),a},A.$$arity=1),e.defn(j,"$|",O=function(e){var t,r=this;return((t=e["$respond_to?"]("each"))===$||null==t||t.$$is_boolean&&1!=t)&&r.$raise(N.get("ArgumentError"),"value must be enumerable"),r.$dup().$merge(e)},O.$$arity=1),e.defn(j,"$superset?",M=function(e){var r,n,a,i=this;return(r=e["$is_a?"](N.get("Set")))!==!1&&r!==$&&null!=r?r:i.$raise(N.get("ArgumentError"),"value must be a set"),(r=t(i.$size(),e.$size()))===$||null==r||r.$$is_boolean&&1!=r?(r=(n=e)["$all?"],r.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=$),t["$include?"](e)},a.$$s=i,a.$$arity=1,a),r).call(n):!1},M.$$arity=1),e.alias(j,">=","superset?"),e.defn(j,"$proper_superset?",T=function(e){var t,n,a,i=this;return(t=e["$is_a?"](N.get("Set")))!==!1&&t!==$&&null!=t?t:i.$raise(N.get("ArgumentError"),"value must be a set"),(t=r(i.$size(),e.$size()))===$||null==t||t.$$is_boolean&&1!=t?(t=(n=e)["$all?"],t.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=$),t["$include?"](e)},a.$$s=i,a.$$arity=1,a),t).call(n):!1},T.$$arity=1),e.alias(j,">","proper_superset?"),e.defn(j,"$subset?",C=function(e){var r,n,a,i=this;return(r=e["$is_a?"](N.get("Set")))!==!1&&r!==$&&null!=r?r:i.$raise(N.get("ArgumentError"),"value must be a set"),(r=t(e.$size(),i.$size()))===$||null==r||r.$$is_boolean&&1!=r?(r=(n=i)["$all?"],r.$$p=(a=function(t){a.$$s||this;return null==t&&(t=$),e["$include?"](t)},a.$$s=i,a.$$arity=1,a),r).call(n):!1},C.$$arity=1),e.alias(j,"<=","subset?"),e.defn(j,"$proper_subset?",I=function(e){var t,n,a,i=this;return(t=e["$is_a?"](N.get("Set")))!==!1&&t!==$&&null!=t?t:i.$raise(N.get("ArgumentError"),"value must be a set"),(t=r(e.$size(),i.$size()))===$||null==t||t.$$is_boolean&&1!=t?(t=(n=i)["$all?"],t.$$p=(a=function(t){a.$$s||this;return null==t&&(t=$),e["$include?"](t)},a.$$s=i,a.$$arity=1,a),t).call(n):!1},I.$$arity=1),e.alias(j,"<","proper_subset?"),e.alias(j,"+","|"),e.alias(j,"union","|"),e.defn(j,"$to_a",z=function(){var e=this;return e.hash.$keys()},z.$$arity=0),$&&"to_a"}(n.base,null),function(t){var r,n,a=r=i(t,"Enumerable"),o=(a.$$proto,a.$$scope);e.defn(a,"$to_set",n=function(t){var r,a,i,s=this,l=n.$$p,u=l||$;null==t&&(t=o.get("Set"));var c=arguments.length,_=c-1;0>_&&(_=0),i=new Array(_);for(var p=1;c>p;p++)i[p-1]=arguments[p];return n.$$p=null,(r=(a=t).$new,r.$$p=u.$to_proc(),r).apply(a,[s].concat(e.to_a(i)))},n.$$arity=-1)}(n.base)},Opal.modules["rspec/core/configuration_options"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass,o=e.hash2,s=e.hash;return e.add_stubs(["$require","$dup","$organize_options","$process_options_into","$configure_filter_manager","$filter_manager","$load_formatters_into","$each","$__send__","$attr_reader","$private","$key?","$<<","$delete","$file_options","$command_line_options","$env_options","$inject","$merge","$include?","$+","$to_set","$!","$unshift","$reverse","$reject","$options","$force?","$force","$[]","$order","$keys","$add_formatter","$custom_options_file","$custom_options","$global_options","$project_options","$local_options","$parse","$split","$options_from","$local_options_file","$project_options_file","$global_options_file","$args_from_options_file","$exist?","$options_file_as_erb_string","$flat_map","$to_proc","$result","$new","$read","$binding","$join","$expand_path","$warning"]),r.$require("erb"),r.$require("shellwords"),r.$require("set"),function(r){var n,l=n=a(r,"RSpec"),u=(l.$$proto,l.$$scope);!function(r){var n,l=n=a(r,"Core"),u=(l.$$proto,l.$$scope);!function(r,$super){function n(){}var a,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M=n=i(r,$super,"ConfigurationOptions",n),T=M.$$proto,C=M.$$scope;return T.filter_manager_options=T.options=T.command_line_options=T.args=T.local_options=T.project_options=T.global_options=$,e.defn(M,"$initialize",a=function(e){var t=this;return t.args=e.$dup(),t.$organize_options()},a.$$arity=1),e.defn(M,"$configure",l=function(e){var t=this;return t.$process_options_into(e),t.$configure_filter_manager(e.$filter_manager()),t.$load_formatters_into(e)},l.$$arity=1),e.defn(M,"$configure_filter_manager",u=function(e){var t,r,n,a=this;return(t=(r=a.filter_manager_options).$each,t.$$p=(n=function(t,r){n.$$s||this;return null==t&&(t=$),null==r&&(r=$),e.$__send__(t,r)},n.$$s=a,n.$$arity=2,n),t).call(r)},u.$$arity=1),M.$attr_reader("options"),M.$private(),e.defn(M,"$organize_options",c=function(){var e,r,n,a,i,s=this;return s.filter_manager_options=[],s.options=(e=(r=s.$file_options()["$<<"](s.$command_line_options())["$<<"](s.$env_options())).$each,e.$$p=(n=function(e){var t,r=n.$$s||this;return null==r.filter_manager_options&&(r.filter_manager_options=$),null==e&&(e=$),(t=e["$key?"]("inclusion_filter"))===$||null==t||t.$$is_boolean&&1!=t||r.filter_manager_options["$<<"](["include",e.$delete("inclusion_filter")]),(t=e["$key?"]("exclusion_filter"))===$||null==t||t.$$is_boolean&&1!=t?$:r.filter_manager_options["$<<"](["exclude",e.$delete("exclusion_filter")])},n.$$s=s,n.$$arity=1,n),e).call(r),s.options=(e=(a=s.options).$inject,e.$$p=(i=function(e,r){var n,a,o,s=i.$$s||this;return null==e&&(e=$),null==r&&(r=$),(n=(a=e).$merge,n.$$p=(o=function(e,r,n){var a;o.$$s||this;return null==e&&(e=$),null==r&&(r=$),null==n&&(n=$),(a=["libs","requires"]["$include?"](e))===$||null==a||a.$$is_boolean&&1!=a?n:t(r,n)},o.$$s=s,o.$$arity=3,o),n).call(a,r)},i.$$s=s,i.$$arity=2,i),e).call(a,o(["libs","requires"],{libs:[],requires:[]}))},c.$$arity=0),e.cdecl(C,"UNFORCED_OPTIONS",["requires","profile","drb","libs","files_or_directories_to_run","full_description","full_backtrace","tty"].$to_set()),e.cdecl(C,"UNPROCESSABLE_OPTIONS",["formatters"].$to_set()),e.defn(M,"$force?",_=function(e){return C.get("UNFORCED_OPTIONS")["$include?"](e)["$!"]()},_.$$arity=1),e.defn(M,"$order",p=function(e){var t,r,n,a=this;return(t=(r=C.get("OPTIONS_ORDER").$reverse()).$each,t.$$p=(n=function(t){var r;n.$$s||this;return null==t&&(t=$),(r=e.$delete(t))===$||null==r||r.$$is_boolean&&1!=r?$:e.$unshift(t)},n.$$s=a,n.$$arity=1,n),t).call(r),e},p.$$arity=1),e.cdecl(C,"OPTIONS_ORDER",["deprecation_stream","libs","default_path","files_or_directories_to_run","pattern","exclude_pattern","requires"]),e.defn(M,"$process_options_into",f=function(e){var t,r,n,a,i,o=this,l=$;return l=(t=(r=o.$options()).$reject,t.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=$),null==t&&(t=$),C.get("UNPROCESSABLE_OPTIONS")["$include?"](e)},n.$$s=o,n.$$arity=2,n),t).call(r),(t=(a=o.$order(l.$keys())).$each,t.$$p=(i=function(t){var r,n=i.$$s||this;return null==t&&(t=$),(r=n["$force?"](t))===$||null==r||r.$$is_boolean&&1!=r?e.$__send__(""+t+"=",l["$[]"](t)):e.$force(s(t,l["$[]"](t)))},i.$$s=o,i.$$arity=1,i),t).call(a)},f.$$arity=1),e.defn(M,"$load_formatters_into",d=function(t){var r,n,a,i=this;return(r=i.$options()["$[]"]("formatters"))===$||null==r||r.$$is_boolean&&1!=r?$:(r=(n=i.$options()["$[]"]("formatters")).$each,r.$$p=(a=function(r){var n;a.$$s||this;return null==r&&(r=$),(n=t).$add_formatter.apply(n,e.to_a(r))},a.$$s=i,a.$$arity=1,a),r).call(n)},d.$$arity=1),e.defn(M,"$file_options",h=function(){var e,t=this;return(e=t.$custom_options_file())===$||null==e||e.$$is_boolean&&1!=e?[t.$global_options(),t.$project_options(),t.$local_options()]:[t.$custom_options()]},h.$$arity=0),e.defn(M,"$env_options",g=function(){var e;return(e=C.get("ENV")["$[]"]("SPEC_OPTS"))===$||null==e||e.$$is_boolean&&1!=e?o([],{}):C.get("Parser").$parse(C.get("Shellwords").$split(C.get("ENV")["$[]"]("SPEC_OPTS")))},g.$$arity=0),e.defn(M,"$command_line_options",m=function(){var e,t=this;return(e=t.command_line_options)!==!1&&e!==$&&null!=e?e:t.command_line_options=C.get("Parser").$parse(t.args).$merge(o(["files_or_directories_to_run"],{files_or_directories_to_run:t.args}))},m.$$arity=0),e.defn(M,"$custom_options",y=function(){var e=this;return e.$options_from(e.$custom_options_file())},y.$$arity=0),e.defn(M,"$local_options",v=function(){var e,t=this;return(e=t.local_options)!==!1&&e!==$&&null!=e?e:t.local_options=t.$options_from(t.$local_options_file())},v.$$arity=0),e.defn(M,"$project_options",b=function(){var e,t=this;return(e=t.project_options)!==!1&&e!==$&&null!=e?e:t.project_options=t.$options_from(t.$project_options_file())},b.$$arity=0),e.defn(M,"$global_options",x=function(){var e,t=this;return(e=t.global_options)!==!1&&e!==$&&null!=e?e:t.global_options=t.$options_from(t.$global_options_file())},x.$$arity=0),e.defn(M,"$options_from",w=function(e){var t=this;return C.get("Parser").$parse(t.$args_from_options_file(e))},w.$$arity=1),e.defn(M,"$args_from_options_file",k=function(e){var t,r,n=this,a=$;return(t=(r=e!==!1&&e!==$&&null!=e)?C.get("File")["$exist?"](e):e)===$||null==t||t.$$is_boolean&&1!=t?[]:(a=n.$options_file_as_erb_string(e),(t=(r=C.get("FlatMap")).$flat_map,t.$$p="shellsplit".$to_proc(),t).call(r,a.$split(/\n+/)))},k.$$arity=1),e.defn(M,"$options_file_as_erb_string",S=function(e){var t=this;return C.get("ERB").$new(C.get("File").$read(e),$,"-").$result(t.$binding())},S.$$arity=1),e.defn(M,"$custom_options_file",E=function(){var e=this;return e.$command_line_options()["$[]"]("custom_options_file")},E.$$arity=0),e.defn(M,"$project_options_file",R=function(){return".rspec"},R.$$arity=0),e.defn(M,"$local_options_file",A=function(){return".rspec-local"},A.$$arity=0),e.defn(M,"$global_options_file",O=function(){try{return C.get("File").$join(C.get("File").$expand_path("~"),".rspec")}catch(t){if(!e.rescue(t,[C.get("ArgumentError")]))throw t;try{return C.get("RSpec").$warning("Unable to find ~/.rspec because the HOME environment variable is not set"),$}finally{e.pop_exception()}}},O.$$arity=0),$&&"global_options_file"}(u.base,null)}(u.base)}(n.base)},Opal.modules["rspec/core/dsl"]=function(e){var t,r,n=e.top,$=e,a=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$<<","$example_group_aliases","$__send__","$register","$world","$to_proc","$exposed_globally?","$expose_example_group_alias_globally","$attr_accessor","$each","$change_global_dsl","$undef_method","$define_method","$class_exec","$top_level","$top_level="]),function(t){var r,n=r=i(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var r,n=r=i(t,"Core"),$=(n.$$proto,n.$$scope);!function(t){var r,n,$,o,s,l,u,c,_=r=i(t,"DSL"),p=(_.$$proto,_.$$scope);e.defs(_,"$example_group_aliases",n=function(){var e,t=this;return null==t.example_group_aliases&&(t.example_group_aliases=a),(e=t.example_group_aliases)!==!1&&e!==a&&null!=e?e:t.example_group_aliases=[]},n.$$arity=0),e.defs(_,"$exposed_globally?",$=function(){var e,t=this;return null==t.exposed_globally&&(t.exposed_globally=a),(e=t.exposed_globally)!==!1&&e!==a&&null!=e?e:t.exposed_globally=!1},$.$$arity=0),e.defs(_,"$expose_example_group_alias",o=function(t){var r,n,$,i=this;return i.$example_group_aliases()["$<<"](t),(r=(n=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(p.get("RSpec")))).$__send__,r.$$p=($=function(){var r,n,i,o;$.$$s||this;r=$.$$p||a,$.$$p=null;var s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return p.get("RSpec").$world().$register((i=(o=p.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup")).$__send__,i.$$p=r.$to_proc(),i).apply(o,[t].concat(e.to_a(n))))},$.$$s=i,$.$$arity=-1,$),r).call(n,"define_method",t),(r=i["$exposed_globally?"]())===a||null==r||r.$$is_boolean&&1!=r?a:i.$expose_example_group_alias_globally(t)},o.$$arity=1),function(e){e.$$scope,e.$$proto;return e.$attr_accessor("top_level")}(e.get_singleton_class(_)),e.defs(_,"$expose_globally!",s=function(){var e,t,r,n=this;return(e=n["$exposed_globally?"]())===a||null==e||e.$$is_boolean&&1!=e?((e=(t=n.$example_group_aliases()).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=a),t.$expose_example_group_alias_globally(e)},r.$$s=n,r.$$arity=1,r),e).call(t),n.exposed_globally=!0):a},s.$$arity=0),e.defs(_,"$remove_globally!",l=function(){var e,t,r,n=this;return(e=n["$exposed_globally?"]())===a||null==e||e.$$is_boolean&&1!=e?a:((e=(t=n.$example_group_aliases()).$each,e.$$p=(r=function(e){var t,n,$,i=r.$$s||this;return null==e&&(e=a),(t=(n=i).$change_global_dsl,t.$$p=($=function(){var t=$.$$s||this;return t.$undef_method(e)},$.$$s=i,$.$$arity=0,$),t).call(n)},r.$$s=n,r.$$arity=1,r),e).call(t),n.exposed_globally=!1)},l.$$arity=0),e.defs(_,"$expose_example_group_alias_globally",u=function(t){var r,n,$,i=this;return(r=(n=i).$change_global_dsl,r.$$p=($=function(){var r,n,i,o=$.$$s||this;return(r=(n=o).$define_method,r.$$p=(i=function(){var r,n,$,o;i.$$s||this;r=i.$$p||a,i.$$p=null;var s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return($=(o=e.get("RSpec")).$__send__,$.$$p=r.$to_proc(),$).apply(o,[t].concat(e.to_a(n)))},i.$$s=o,i.$$arity=-1,i),r).call(n,t)},$.$$s=i,$.$$arity=0,$),r).call(n)},u.$$arity=1),e.defs(_,"$change_global_dsl",c=function(){var t,r,n,$=this,i=c.$$p,o=i||a;return c.$$p=null,(t=(r=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class($.$top_level()))).$class_exec,t.$$p=o.$to_proc(),t).call(r),(t=(n=p.get("Module")).$class_exec,t.$$p=o.$to_proc(),t).call(n)},c.$$arity=0)}($.base)}($.base)}($.base),t=[n],r=e.get("RSpec").$$scope.get("Core").$$scope.get("DSL"),r["$top_level="].apply(r,t),t[t.length-1]},Opal.modules["rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$define_method","$[]","$delegate_to_metadata","$empty?","$to_s","$metadata","$location","$call","$format_docstrings_block","$configuration","$attr_reader","$attr_accessor","$create","$alias_method","$current_example=","$start","$pending?","$mark_pending!","$pending","$skipped?","$skip","$!","$dry_run?","$with_around_example_hooks","$run_before_example","$instance_exec","$to_proc","$mark_fixed!","$raise","$set_exception","$run_after_example","$each","$instance_variable_set","$instance_variables","$finish","$==","$to_sym","$__send__","$public_instance_methods","$method","$new","$class","$example","$gsub","$inspect","$any_apply?","$all_apply?","$around_example_hooks_for","$hooks","$example_group","$===","$pending_exception=","$execution_result","$message","$first","$backtrace","$reporter","$mark_skipped!","$argument","$private","$around_example_hooks","$run","$example_started","$started_at=","$now","$clock","$pending_message","$record_finished","$exception=","$example_failed","$pending_message=","$example_pending","$example_passed","$setup_mocks_for_rspec","$verify_mocks","$expecting_with_rspec?","$assign_generated_description","$teardown_mocks_for_rspec","$mocks_need_verification?","$verify_mocks_for_rspec","$pending_fixed=","$nil?","$exception","$pending_fixed?","$generated_description","$[]=","$<<","$clear_generated_description","$include","$status=","$finished_at=","$run_time=","$to_f","$-","$started_at","$tap","$status","$deprecate"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Core"),l=(s.$$proto,s.$$scope);!function(r,$super){function $(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M=$=a(r,$super,"Example",$),T=M.$$proto,C=M.$$scope;return T.example_group_class=T.example_group_instance=T.around_example_hooks=T.exception=n,e.defs(M,"$delegate_to_metadata",o=function(e){var t,r,$,a=this;return(t=(r=a).$define_method,t.$$p=($=function(){var t=$.$$s||this;return null==t.metadata&&(t.metadata=n),t.metadata["$[]"](e)},$.$$s=a,$.$$arity=0,$),t).call(r,e)},o.$$arity=1),M.$delegate_to_metadata("execution_result"),M.$delegate_to_metadata("file_path"),M.$delegate_to_metadata("full_description"),M.$delegate_to_metadata("location"),M.$delegate_to_metadata("pending"),M.$delegate_to_metadata("skip"),e.defn(M,"$description",s=function(){var e,t=this,r=n;return r=function(){return(e=t.$metadata()["$[]"]("description").$to_s()["$empty?"]())===n||null==e||e.$$is_boolean&&1!=e?t.$metadata()["$[]"]("description"):"example at "+t.$location()}(),C.get("RSpec").$configuration().$format_docstrings_block().$call(r)},s.$$arity=0),M.$attr_reader("exception"),M.$attr_reader("metadata"),M.$attr_reader("example_group_instance"),M.$attr_accessor("clock"),e.defn(M,"$initialize",l=function(e,t,r,$){var a=this;return null==$&&($=n),a.example_group_class=e,a.example_block=$,a.metadata=C.get("Metadata").$$scope.get("ExampleHash").$create(a.example_group_class.$metadata(),r,t,$),a.example_group_instance=a.exception=n,a.clock=C.get("RSpec").$$scope.get("Core").$$scope.get("Time")},l.$$arity=-4),e.defn(M,"$example_group",u=function(){var e=this;return e.example_group_class},u.$$arity=0),M.$alias_method("pending?","pending"),M.$alias_method("skipped?","skip"),e.defn(M,"$run",c=function(t,r){var $,a,i,o,s,l,u=this,c=n;try{u.example_group_instance=t,$=[u],a=C.get("RSpec"),a["$current_example="].apply(a,$),$[$.length-1],u.$start(r),($=u["$pending?"]())===n||null==$||$.$$is_boolean&&1!=$||C.get("Pending")["$mark_pending!"](u,u.$pending());try{try{($=u["$skipped?"]())===n||null==$||$.$$is_boolean&&1!=$?($=C.get("RSpec").$configuration()["$dry_run?"]()["$!"]())===n||null==$||$.$$is_boolean&&1!=$||($=(a=u).$with_around_example_hooks,$.$$p=(i=function(){var t,r,$=i.$$s||this,a=n;null==$.example_block&&($.example_block=n),null==$.example_group_instance&&($.example_group_instance=n);try{try{return $.$run_before_example(),(t=(r=$.example_group_instance).$instance_exec,t.$$p=$.example_block.$to_proc(),t).call(r,$),(t=$["$pending?"]())===n||null==t||t.$$is_boolean&&1!=t?n:(C.get("Pending")["$mark_fixed!"]($),$.$raise(C.get("Pending").$$scope.get("PendingExampleFixedError"),"Expected example to fail since it is pending, but it passed.",[$.$location()]))}catch(o){if(e.rescue(o,[C.get("Pending").$$scope.get("SkipDeclaredInExample")]))try{return n}finally{e.pop_exception()}else{if(!e.rescue(o,[C.get("Exception")]))throw o;a=o;try{$.$set_exception(a)}finally{e.pop_exception()}}}}finally{$.$run_after_example()}},i.$$s=u,i.$$arity=0,i),$).call(a):C.get("Pending")["$mark_pending!"](u,u.$skip())}catch(_){if(!e.rescue(_,[C.get("Exception")]))throw _;c=_;try{u.$set_exception(c)}finally{e.pop_exception()}}}finally{($=(o=u.example_group_instance.$instance_variables()).$each,$.$$p=(s=function(e){var t=s.$$s||this;return null==t.example_group_instance&&(t.example_group_instance=n),null==e&&(e=n),t.example_group_instance.$instance_variable_set(e,n)},s.$$s=u,s.$$arity=1,s),$).call(o),u.example_group_instance=n}return u.$finish(r)}finally{$=[n],l=C.get("RSpec"),l["$current_example="].apply(l,$),$[$.length-1]}},c.$$arity=2),function(t,$super){function r(){}var $,i,o,s,l,u,c,_,p,f,d,h=r=a(t,$super,"Procsy",r),g=h.$$proto,m=h.$$scope;return g.proc=g.executed=g.example=n,h.$attr_reader("example"),($=(i=m.get("Example").$public_instance_methods(!1)).$each,$.$$p=(o=function(t){var r,$,a,i=o.$$s||this;return null==t&&(t=n),(r=($=t.$to_sym()["$=="]("run"))!==!1&&$!==n&&null!=$?$:t.$to_sym()["$=="]("inspect"))===n||null==r||r.$$is_boolean&&1!=r?(r=($=i).$define_method,r.$$p=(a=function(){var r,$,i,o,s=a.$$s||this;null==s.example&&(s.example=n),r=a.$$p||n,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(i=(o=s.example).$__send__,i.$$p=r.$to_proc(),i).apply(o,[t].concat(e.to_a($)))},a.$$s=i,a.$$arity=-1,a),r).call($,t):n},o.$$s=h,o.$$arity=1,o),$).call(i),($=(s=m.get("Proc").$public_instance_methods(!1)).$each,$.$$p=(l=function(t){var r,$,a,i,o=l.$$s||this;return null==t&&(t=n),(r=($=(a=t.$to_sym()["$=="]("call"))!==!1&&a!==n&&null!=a?a:t.$to_sym()["$=="]("inspect"))!==!1&&$!==n&&null!=$?$:t.$to_sym()["$=="]("to_proc"))===n||null==r||r.$$is_boolean&&1!=r?(r=($=o).$define_method,r.$$p=(i=function(){var r,$,a,o,s=i.$$s||this;null==s.proc&&(s.proc=n),r=i.$$p||n,i.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(a=(o=s.proc).$__send__,a.$$p=r.$to_proc(),a).apply(o,[t].concat(e.to_a($)))},i.$$s=o,i.$$arity=-1,i),r).call($,t):n},l.$$s=h,l.$$arity=1,l),$).call(s),e.defn(h,"$call",u=function(){var t,r,$,a=this,i=u.$$p,o=i||n,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var c=0;s>c;c++)$[c-0]=arguments[c];return u.$$p=null,a.executed=!0,(t=(r=a.proc).$call,t.$$p=o.$to_proc(),t).apply(r,e.to_a($))},u.$$arity=-1),e.alias(h,"run","call"),e.defn(h,"$to_proc",c=function(){var e=this;return e.$method("call").$to_proc()},c.$$arity=0),e.defn(h,"$initialize",_=function(e){var t=this,r=_.$$p,$=r||n;return _.$$p=null,t.example=e,t.proc=$,t.executed=!1},_.$$arity=1),e.defn(h,"$wrap",p=function(){var e,t,r=this,$=p.$$p,a=$||n;return p.$$p=null,(e=(t=r.$class()).$new,e.$$p=a.$to_proc(),e).call(t,r.$example())},p.$$arity=0),e.defn(h,"$executed?",f=function(){var e=this;return e.executed},f.$$arity=0),e.defn(h,"$inspect",d=function(){var e=this;return e.example.$inspect().$gsub("Example","ExampleProcsy")},d.$$arity=0),n&&"inspect"}(C.base,null),e.defn(M,"$any_apply?",_=function(e){var t=this;return C.get("MetadataFilter")["$any_apply?"](e,t.$metadata())},_.$$arity=1),e.defn(M,"$all_apply?",p=function(e){var t,r=this;return(t=C.get("MetadataFilter")["$all_apply?"](e,r.$metadata()))!==!1&&t!==n&&null!=t?t:r.example_group_class["$all_apply?"](e)},p.$$arity=1),e.defn(M,"$around_example_hooks",f=function(){var e,t=this;return(e=t.around_example_hooks)!==!1&&e!==n&&null!=e?e:t.around_example_hooks=t.$example_group().$hooks().$around_example_hooks_for(t)},f.$$arity=0),e.defn(M,"$set_exception",d=function(e,t){var r,$,a=this,i=n;return null==t&&(t=n),$=a["$pending?"](),(r=$!==!1&&$!==n&&null!=$?C.get("Pending").$$scope.get("PendingExampleFixedError")["$==="](e)["$!"]():$)===n||null==r||r.$$is_boolean&&1!=r?((r=a.exception)===n||null==r||r.$$is_boolean&&1!=r||(i="\n  An error occurred "+t+"\n    "+e.$class()+": "+e.$message()+"\n    occurred at "+e.$backtrace().$first()+"\n\n",C.get("RSpec").$configuration().$reporter().$message(i)),(r=a.exception)!==!1&&r!==n&&null!=r?r:a.exception=e):(r=[e],$=a.$execution_result(),$["$pending_exception="].apply($,r),r[r.length-1])},d.$$arity=-2),e.defn(M,"$fail_with_exception",h=function(e,t){var r=this;return r.$start(e),r.$set_exception(t),r.$finish(e)},h.$$arity=2),e.defn(M,"$skip_with_exception",g=function(e,t){var r=this;return r.$start(e),C.get("Pending")["$mark_skipped!"](r,t.$argument()),r.$finish(e)},g.$$arity=2),e.defn(M,"$instance_exec_with_rescue",m=function(t){var r,$,a=this,i=m.$$p,o=i||n,s=n;m.$$p=null;try{return(r=($=a.example_group_instance).$instance_exec,r.$$p=o.$to_proc(),r).call($,a)}catch(l){if(!e.rescue(l,[C.get("Exception")]))throw l;s=l;try{return a.$set_exception(s,t)}finally{e.pop_exception()}}},m.$$arity=1),e.defn(M,"$instance_exec",y=function(){var t,r,$,a=this,i=y.$$p,o=i||n,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var u=0;s>u;u++)$[u-0]=arguments[u];return y.$$p=null,(t=(r=a.example_group_instance).$instance_exec,t.$$p=o.$to_proc(),t).apply(r,e.to_a($))},y.$$arity=-1),M.$private(),e.defn(M,"$with_around_example_hooks",v=function(){var t,r,$=this,a=v.$$p,i=a||n,o=n;v.$$p=null;try{return(t=$.$around_example_hooks()["$empty?"]())===n||null==t||t.$$is_boolean&&1!=t?$.example_group_class.$hooks().$run("around","example",$,(t=(r=C.get("Procsy")).$new,t.$$p=i.$to_proc(),t).call(r,$)):e.yieldX(i,[])}catch(s){if(!e.rescue(s,[C.get("Exception")]))throw s;o=s;try{return $.$set_exception(o,"in an `around(:example)` hook")}finally{e.pop_exception()}}},v.$$arity=0),e.defn(M,"$start",b=function(e){var t,r,n=this;return e.$example_started(n),t=[n.$clock().$now()],r=n.$execution_result(),r["$started_at="].apply(r,t),t[t.length-1]},b.$$arity=1),e.defn(M,"$finish",x=function(e){var t,r,$=this,a=n;return a=$.$execution_result().$pending_message(),(t=$.exception)===n||null==t||t.$$is_boolean&&1!=t?a!==!1&&a!==n&&null!=a?($.$record_finished("pending"),t=[a],r=$.$execution_result(),r["$pending_message="].apply(r,t),t[t.length-1],e.$example_pending($),!0):($.$record_finished("passed"),e.$example_passed($),!0):($.$record_finished("failed"),t=[$.exception],r=$.$execution_result(),r["$exception="].apply(r,t),t[t.length-1],e.$example_failed($),!1)},x.$$arity=1),e.defn(M,"$record_finished",w=function(e){var t=this;return t.$execution_result().$record_finished(e,t.$clock().$now())},w.$$arity=1),e.defn(M,"$run_before_example",k=function(){var e=this;return e.example_group_instance.$setup_mocks_for_rspec(),e.example_group_class.$hooks().$run("before","example",e)},k.$$arity=0),e.defn(M,"$run_after_example",S=function(){var t,r=this,$=n;try{try{return r.example_group_class.$hooks().$run("after","example",r),r.$verify_mocks(),(t=C.get("RSpec").$configuration()["$expecting_with_rspec?"]())===n||null==t||t.$$is_boolean&&1!=t?n:r.$assign_generated_description()}catch(a){if(!e.rescue(a,[C.get("Exception")]))throw a;$=a;try{return r.$set_exception($,"in an `after(:example)` hook")}finally{e.pop_exception()}}}finally{r.example_group_instance.$teardown_mocks_for_rspec()}},S.$$arity=0),e.defn(M,"$verify_mocks",E=function(){var t,r,$=this,a=n;try{return(t=$["$mocks_need_verification?"]())===n||null==t||t.$$is_boolean&&1!=t?n:$.example_group_instance.$verify_mocks_for_rspec()}catch(i){if(!e.rescue(i,[C.get("Exception")]))throw i;a=i;try{return(t=$["$pending?"]())===n||null==t||t.$$is_boolean&&1!=t?$.$set_exception(a):(t=[!1],r=$.$execution_result(),r["$pending_fixed="].apply(r,t),t[t.length-1],$.exception=n)}finally{e.pop_exception()}}},E.$$arity=0),e.defn(M,"$mocks_need_verification?",R=function(){var e,t=this;return(e=t.$exception()["$nil?"]())!==!1&&e!==n&&null!=e?e:t.$execution_result()["$pending_fixed?"]()},R.$$arity=0),e.defn(M,"$assign_generated_description",A=function(){var t,r,$=this,a=n,i=n;try{try{return r=$.$metadata()["$[]"]("description")["$empty?"](),(t=r!==!1&&r!==n&&null!=r?a=C.get("RSpec").$$scope.get("Matchers").$generated_description():r)===n||null==t||t.$$is_boolean&&1!=t?n:($.$metadata()["$[]="]("description",a),$.$metadata()["$[]"]("full_description")["$<<"](a))}catch(o){if(!e.rescue(o,[C.get("Exception")]))throw o;i=o;try{return $.$set_exception(i,"while assigning the example description")}finally{e.pop_exception()}}}finally{C.get("RSpec").$$scope.get("Matchers").$clear_generated_description()}},A.$$arity=0),e.defn(M,"$skip_message",O=function(){var e,t=this;return(e=C.get("String")["$==="](t.$skip()))===n||null==e||e.$$is_boolean&&1!=e?C.get("Pending").$$scope.get("NO_REASON_GIVEN"):t.$skip()},O.$$arity=0),function(r,$super){function $(){}var o,s,l,u,c,_=$=a(r,$super,"ExecutionResult",$),p=(_.$$proto,_.$$scope);return _.$include(p.get("HashImitatable")),_.$attr_accessor("status"),_.$attr_accessor("exception"),_.$attr_accessor("started_at"),_.$attr_accessor("finished_at"),_.$attr_accessor("run_time"),_.$attr_accessor("pending_message"),_.$attr_accessor("pending_exception"),_.$attr_accessor("pending_fixed"),e.alias(_,"pending_fixed?","pending_fixed"),e.defn(_,"$record_finished",o=function(e,r){var n,$,a=this;return n=[e],$=a,$["$status="].apply($,n),n[n.length-1],n=[r],$=a,$["$finished_at="].apply($,n),n[n.length-1],n=[t(r,a.$started_at()).$to_f()],$=a,$["$run_time="].apply($,n),n[n.length-1]},o.$$arity=2),_.$private(),e.defn(_,"$hash_for_delegation",s=function(){var t,r,$,a,i,o=this,l=s.$$p,u=n,c=n;for(s.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(r=(i=o,a=e.find_super_dispatcher(o,"hash_for_delegation",s,!1),a.$$p=l,a).apply(i,u)).$tap,t.$$p=($=function(e){var t,r,a,i=$.$$s||this;return null==e&&(e=n),t="status",r=e,a=r["$[]"](t),a!==!1&&a!==n&&null!=a?r["$[]="](t,i.$status().$to_s()):a},$.$$s=o,$.$$arity=1,$),t).call(r)},s.$$arity=0),e.defn(_,"$set_value",l=function(t,r){var $,a,i=this;l.$$p;return l.$$p=null,t["$=="]("status")&&(($=r!==!1&&r!==n&&null!=r)?r=r.$to_sym():r),(a=i,$=e.find_super_dispatcher(i,"set_value",l,!1),$.$$p=null,$).call(a,t,r)},l.$$arity=2),e.defn(_,"$get_value",u=function(t){var r,$,a=this,i=u.$$p,o=n,s=n;for(u.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t["$=="]("status")?(r=a.$status())===n||null==r||r.$$is_boolean&&1!=r?n:a.$status().$to_s():($=a,r=e.find_super_dispatcher(a,"get_value",u,!1),r.$$p=i,r).apply($,o)},u.$$arity=1),e.defn(_,"$issue_deprecation",c=function(){var e,t=arguments.length,r=t-1;0>r&&(r=0),e=new Array(r);for(var n=1;t>n;n++)e[n-1]=arguments[n];return p.get("RSpec").$deprecate("Treating `metadata[:execution_result]` as a hash",i(["replacement"],{replacement:"the attributes methods to access the data"}))},c.$$arity=-2),n&&"issue_deprecation"}(C.base,null)}(l.base,null),function(t,$super){function r(){}var $,o,s=r=a(t,$super,"SuiteHookContext",r),l=(s.$$proto,s.$$scope);return e.defn(s,"$initialize",$=function(){var t,r,n=this;$.$$p;return $.$$p=null,(r=n,t=e.find_super_dispatcher(n,"initialize",$,!1),t.$$p=null,t).call(r,l.get("AnonymousExampleGroup"),"",i([],{}))},$.$$arity=0),e.defn(s,"$set_exception",o=function(e,t){var r=this;return null==t&&(t=n),r.$raise(e)},o.$$arity=-2),n&&"set_exception"}(l.base,l.get("Example"))}(l.base)}(r.base)},Opal.modules["rspec/core/example_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice),i=e.module,o=e.klass,s=e.hash2;return e.add_stubs(["$require_rspec_support","$extend","$include","$respond_to?","$__send__","$to_proc","$superclass","$metadata","$each","$define_singleton_method","$fetch","$delegate_to_metadata","$[]","$call","$format_docstrings_block","$configuration","$described_class","$class","$build_hash_from","$update","$<<","$examples","$new","$last","$define_example_method","$thread_local_metadata","$==","$raise","$[]=","$shift","$dup","$is_a?","$merge!","$pop","$tap","$children","$subclass","$delete","$expose_example_group_alias","$define_example_group_method","$example_group","$find_and_eval_shared","$caller","$define_nested_shared_group_method","$find","$shared_example_group_registry","$world","$parent_groups","$inspect","$module_exec","$set_it_up","$assign_const","$define_helpers_on","$ensure_example_groups_are_configured","$unshift","$create","$superclass_metadata","$register_globals","$hooks","$configure_group","$filtered_examples","$+","$inject","$descendant_filtered_examples","$descendants","$select","$<","$ancestors","$configure_mock_framework","$configure_expectation_framework","$empty?","$instance_variables","$before_context_ivars","$instance_variable_get","$set_ivars","$isolate_for_context_hook","$run","$store_before_context_ivars","$wants_to_quit","$top_level?","$clear_remaining_example_groups","$example_group_started","$run_before_context_hooks","$run_examples","$all?","$map","$order","$ordering_strategy","$for_filtered_examples","$skip_with_exception","$fail_fast?","$wants_to_quit=","$fail_with_exception","$run_after_context_hooks","$clear","$example_group_finished","$ordering_registry","$warn","$gsub","$location","$!","$any_apply?","$all_apply?","$declaration_line_numbers","$description","$instance_variable_set","$base_name_for","$constant_scope_for","$disambiguate","$const_set","$gsub!","$upcase","$last_match","$lstrip!","$_base_name_for","$private_class_method","$const_defined_on?","$next!"]),n.get("RSpec").$$scope.get("Support").$require_rspec_support("recursive_const_methods"),function(n){var l,u=l=i(n,"RSpec"),c=(u.$$proto,u.$$scope);!function(n){var l,u=l=i(n,"Core"),c=(u.$$proto,u.$$scope);!function(n,$super){function i(){}var l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y=i=o(n,$super,"ExampleGroup",i),V=(Y.$$proto,Y.$$scope);return Y.$extend(V.get("Hooks")),Y.$include(V.get("MemoizedHelpers")),Y.$extend(V.get("MemoizedHelpers").$$scope.get("ClassMethods")),Y.$include(V.get("Pending")),Y.$extend(V.get("SharedExampleGroup")),((l=Y["$respond_to?"]("define_singleton_method"))===$||null==l||l.$$is_boolean&&1!=l)&&e.defs(Y,"$define_singleton_method",u=function(){var t,r,n,a=this,i=u.$$p,o=i||$,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var c=0;s>c;c++)n[c-0]=arguments[c];return u.$$p=null,(t=(r=function(e){
e.$$scope,e.$$proto;return e}(e.get_singleton_class(a))).$__send__,t.$$p=o.$to_proc(),t).apply(r,["define_method"].concat(e.to_a(n)))},u.$$arity=-1),e.defs(Y,"$metadata",c=function(){var e,t,r=this;return null==r.metadata&&(r.metadata=$),t=r.metadata,(e=null!=t&&t!==$?"instance-variable":$)===$||null==e||e.$$is_boolean&&1!=e?$:r.metadata},c.$$arity=0),e.defs(Y,"$superclass_metadata",_=function(){var e,t,r=this;return null==r.superclass_metadata&&(r.superclass_metadata=$),(e=r.superclass_metadata)!==!1&&e!==$&&null!=e?e:r.superclass_metadata=function(){return(t=r.$superclass()["$respond_to?"]("metadata"))===$||null==t||t.$$is_boolean&&1!=t?$:r.$superclass().$metadata()}()},_.$$arity=0),e.defs(Y,"$delegate_to_metadata",p=function(){var e,t,r,n,a=this,i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return(e=(t=n).$each,e.$$p=(r=function(e){var t,n,a,i=r.$$s||this;return null==e&&(e=$),(t=(n=i).$define_singleton_method,t.$$p=(a=function(){var t=a.$$s||this;return t.$metadata().$fetch(e)},a.$$s=i,a.$$arity=0,a),t).call(n,e)},r.$$s=a,r.$$arity=1,r),e).call(t)},p.$$arity=-1),Y.$delegate_to_metadata("described_class","file_path","location"),e.defs(Y,"$description",f=function(){var e=this,t=$;return t=e.$metadata()["$[]"]("description"),V.get("RSpec").$configuration().$format_docstrings_block().$call(t)},f.$$arity=0),e.defn(Y,"$described_class",d=function(){var e=this;return e.$class().$described_class()},d.$$arity=0),e.defs(Y,"$define_example_method",h=function(t,r){var n,i,o,l=this;return null==r&&(r=s([],{})),(n=(i=l).$define_singleton_method,n.$$p=(o=function(){var t,n,i,l=o.$$s||this,u=$,c=$,_=$;t=o.$$p||$,o.$$p=null;var p=arguments.length,f=p-0;0>f&&(f=0),n=new Array(f);for(var d=0;p>d;d++)n[d-0]=arguments[d];return i=e.to_a(n),u=null==i[0]?$:i[0],c=a.call(i,1),i,_=V.get("Metadata").$build_hash_from(c),t!==!1&&t!==$&&null!=t||_.$update(s(["skip"],{skip:V.get("RSpec").$$scope.get("Core").$$scope.get("Pending").$$scope.get("NOT_YET_IMPLEMENTED")})),_.$update(r),l.$examples()["$<<"](V.get("RSpec").$$scope.get("Core").$$scope.get("Example").$new(l,u,_,t)),l.$examples().$last()},o.$$s=l,o.$$arity=-1,o),n).call(i,t)},h.$$arity=-2),Y.$define_example_method("example"),Y.$define_example_method("it"),Y.$define_example_method("specify"),Y.$define_example_method("focus",s(["focus"],{focus:!0})),Y.$define_example_method("fexample",s(["focus"],{focus:!0})),Y.$define_example_method("fit",s(["focus"],{focus:!0})),Y.$define_example_method("fspecify",s(["focus"],{focus:!0})),Y.$define_example_method("xexample",s(["skip"],{skip:"Temporarily skipped with xexample"})),Y.$define_example_method("xit",s(["skip"],{skip:"Temporarily skipped with xit"})),Y.$define_example_method("xspecify",s(["skip"],{skip:"Temporarily skipped with xspecify"})),Y.$define_example_method("skip",s(["skip"],{skip:!0})),Y.$define_example_method("pending",s(["pending"],{pending:!0})),e.defs(Y,"$define_example_group_method",g=function(e,t){var r,n,a,i=this;return null==t&&(t=s([],{})),(r=(n=i).$define_singleton_method,r.$$p=(a=function(){var r,n,i,o,s,l,u,c=a.$$s||this,_=$,p=$,f=$,d=$;r=a.$$p||$,a.$$p=null;var h=arguments.length,g=h-0;0>g&&(g=0),n=new Array(g);for(var m=0;h>m;m++)n[m-0]=arguments[m];_=V.get("RSpec").$thread_local_metadata(),p=c["$=="](V.get("ExampleGroup")),p!==!1&&p!==$&&null!=p&&((i=_["$[]"]("in_example_group"))===$||null==i||i.$$is_boolean&&1!=i||c.$raise("Creating an isolated context from within a context is "+("not allowed. Change `RSpec."+e+"` to `"+e+"` or ")+"move this to a top-level scope."),_["$[]="]("in_example_group",!0));try{return f=n.$shift(),d=t.$dup(),(i=n.$last()["$is_a?"](V.get("Hash")))===$||null==i||i.$$is_boolean&&1!=i||d["$merge!"](n.$pop()),n["$<<"](d),(i=(o=(l=(u=c).$subclass,l.$$p=r.$to_proc(),l).call(u,c,f,n)).$tap,i.$$p=(s=function(e){var t=s.$$s||this;return null==e&&(e=$),t.$children()["$<<"](e)},s.$$s=c,s.$$arity=1,s),i).call(o)}finally{p!==!1&&p!==$&&null!=p&&_.$delete("in_example_group")}},a.$$s=i,a.$$arity=-1,a),r).call(n,e),V.get("RSpec").$$scope.get("Core").$$scope.get("DSL").$expose_example_group_alias(e)},g.$$arity=-2),Y.$define_example_group_method("example_group"),Y.$define_example_group_method("describe"),Y.$define_example_group_method("context"),Y.$define_example_group_method("xdescribe",s(["skip"],{skip:"Temporarily skipped with xdescribe"})),Y.$define_example_group_method("xcontext",s(["skip"],{skip:"Temporarily skipped with xcontext"})),Y.$define_example_group_method("fdescribe",s(["focus"],{focus:!0})),Y.$define_example_group_method("fcontext",s(["focus"],{focus:!0})),e.defs(Y,"$define_nested_shared_group_method",m=function(t,r){var n,a,i,o=this;return null==r&&(r="it should behave like"),(n=(a=o).$define_singleton_method,n.$$p=(i=function(t){var n,a,o,l,u,c=i.$$s||this,_=$;n=i.$$p||$,i.$$p=null;var p=arguments.length,f=p-1;0>f&&(f=0),a=new Array(f);for(var d=1;p>d;d++)a[d-1]=arguments[d];return null==t&&(t=$),_=(o=(l=c).$example_group,o.$$p=(u=function(){var r,$,i=u.$$s||this;return(r=($=i).$find_and_eval_shared,r.$$p=n.$to_proc(),r).apply($,["examples",t].concat(e.to_a(a)))},u.$$s=c,u.$$arity=0,u),o).call(l,""+r+" "+t,s(["caller"],{caller:c.$caller()})),_.$metadata()["$[]="]("shared_group_name",t),_},i.$$s=o,i.$$arity=-2,i),n).call(a,t)},m.$$arity=-2),Y.$define_nested_shared_group_method("it_behaves_like","behaves like"),Y.$define_nested_shared_group_method("it_should_behave_like"),e.defs(Y,"$include_context",y=function(t){var r,n,a,i=this,o=y.$$p,s=o||$,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var c=1;l>c;c++)a[c-1]=arguments[c];return y.$$p=null,(r=(n=i).$find_and_eval_shared,r.$$p=s.$to_proc(),r).apply(n,["context",t].concat(e.to_a(a)))},y.$$arity=-2),e.defs(Y,"$include_examples",v=function(t){var r,n,a,i=this,o=v.$$p,s=o||$,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var c=1;l>c;c++)a[c-1]=arguments[c];return v.$$p=null,(r=(n=i).$find_and_eval_shared,r.$$p=s.$to_proc(),r).apply(n,["examples",t].concat(e.to_a(a)))},v.$$arity=-2),e.defs(Y,"$find_and_eval_shared",b=function(t,r){var n,a,i,o,s=this,l=b.$$p,u=l||$,c=$,_=arguments.length,p=_-2;0>p&&(p=0),o=new Array(p);for(var f=2;_>f;f++)o[f-2]=arguments[f];return b.$$p=null,c=V.get("RSpec").$world().$shared_example_group_registry().$find(s.$parent_groups(),r),c!==!1&&c!==$&&null!=c||s.$raise(V.get("ArgumentError"),"Could not find shared "+t+" "+r.$inspect()),(n=(a=s).$module_exec,n.$$p=c.$to_proc(),n).apply(a,e.to_a(o)),u!==!1&&u!==$&&null!=u?(n=(i=s).$module_exec,n.$$p=u.$to_proc(),n).call(i):$},b.$$arity=-3),e.defs(Y,"$subclass",x=function(t,r,n){var a,i,o,s=x.$$p,l=s||$,u=$;return x.$$p=null,u=V.get("Class").$new(t),(a=(i=u).$set_it_up,a.$$p=l.$to_proc(),a).apply(i,[r].concat(e.to_a(n))),V.get("ExampleGroups").$assign_const(u),l!==!1&&l!==$&&null!=l&&(a=(o=u).$module_exec,a.$$p=l.$to_proc(),a).call(o),V.get("MemoizedHelpers").$define_helpers_on(u),u},x.$$arity=3),e.defs(Y,"$set_it_up",w=function(){var t,r,n,a=this,i=w.$$p,o=i||$,s=$,l=$,u=arguments.length,c=u-0;0>c&&(c=0),n=new Array(c);for(var _=0;u>_;_++)n[_-0]=arguments[_];return w.$$p=null,a.$ensure_example_groups_are_configured(),s=n.$shift(),l=V.get("Metadata").$build_hash_from(n),n.$unshift(s),a.metadata=(t=(r=V.get("Metadata").$$scope.get("ExampleGroupHash")).$create,t.$$p=o.$to_proc(),t).apply(r,[a.$superclass_metadata(),l].concat(e.to_a(n))),a.$hooks().$register_globals(a,V.get("RSpec").$configuration().$hooks()),V.get("RSpec").$world().$configure_group(a)},w.$$arity=-1),e.defs(Y,"$examples",k=function(){var e,t=this;return null==t.examples&&(t.examples=$),(e=t.examples)!==!1&&e!==$&&null!=e?e:t.examples=[]},k.$$arity=0),e.defs(Y,"$filtered_examples",S=function(){var e=this;return V.get("RSpec").$world().$filtered_examples()["$[]"](e)},S.$$arity=0),e.defs(Y,"$descendant_filtered_examples",E=function(){var e,r,n,a,i=this;return null==i.descendant_filtered_examples&&(i.descendant_filtered_examples=$),(e=i.descendant_filtered_examples)!==!1&&e!==$&&null!=e?e:i.descendant_filtered_examples=t(i.$filtered_examples(),(r=(n=i.$children()).$inject,r.$$p=(a=function(e,r){a.$$s||this;return null==e&&(e=$),null==r&&(r=$),t(e,r.$descendant_filtered_examples())},a.$$s=i,a.$$arity=2,a),r).call(n,[]))},E.$$arity=0),e.defs(Y,"$children",R=function(){var e,t=this;return null==t.children&&(t.children=$),(e=t.children)!==!1&&e!==$&&null!=e?e:t.children=[]},R.$$arity=0),e.defs(Y,"$descendants",A=function(){var e,r,n,a,i=this;return null==i._descendants&&(i._descendants=$),(e=i._descendants)!==!1&&e!==$&&null!=e?e:i._descendants=t([i],(r=(n=i.$children()).$inject,r.$$p=(a=function(e,r){a.$$s||this;return null==e&&(e=$),null==r&&(r=$),t(e,r.$descendants())},a.$$s=i,a.$$arity=2,a),r).call(n,[]))},A.$$arity=0),e.defs(Y,"$parent_groups",O=function(){var e,t,n,a,i=this;return null==i.parent_groups&&(i.parent_groups=$),(e=i.parent_groups)!==!1&&e!==$&&null!=e?e:i.parent_groups=(t=(n=i.$ancestors()).$select,t.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),r(e,V.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup"))},a.$$s=i,a.$$arity=1,a),t).call(n)},O.$$arity=0),e.defs(Y,"$top_level?",M=function(){var e,t=this;return null==t.top_level&&(t.top_level=$),(e=t.top_level)!==!1&&e!==$&&null!=e?e:t.top_level=t.$superclass()["$=="](V.get("ExampleGroup"))},M.$$arity=0),e.defs(Y,"$ensure_example_groups_are_configured",T=function(){var t;return(t=null!=e.cvars["@@example_groups_configured"]?"class variable":$)===$||null==t||t.$$is_boolean&&1!=t?(V.get("RSpec").$configuration().$configure_mock_framework(),V.get("RSpec").$configuration().$configure_expectation_framework(),e.cvars["@@example_groups_configured"]=!0):$},T.$$arity=0),e.defs(Y,"$before_context_ivars",C=function(){var e,t=this;return null==t.before_context_ivars&&(t.before_context_ivars=$),(e=t.before_context_ivars)!==!1&&e!==$&&null!=e?e:t.before_context_ivars=s([],{})},C.$$arity=0),e.defs(Y,"$store_before_context_ivars",I=function(e){var t,r,n,a=this;return(t=e.$instance_variables()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?(t=(r=e.$instance_variables()).$each,t.$$p=(n=function(t){var r=n.$$s||this;return null==t&&(t=$),r.$before_context_ivars()["$[]="](t,e.$instance_variable_get(t))},n.$$s=a,n.$$arity=1,n),t).call(r):$},I.$$arity=1),e.defs(Y,"$run_before_context_hooks",z=function(e){var t,r,n,a=this;if((t=a.$descendant_filtered_examples()["$empty?"]())!==$&&null!=t&&(!t.$$is_boolean||1==t))return $;try{return a.$set_ivars(e,a.$superclass().$before_context_ivars()),(t=(r=V.get("ContextHookMemoizedHash").$$scope.get("Before")).$isolate_for_context_hook,t.$$p=(n=function(){var t=n.$$s||this;return t.$hooks().$run("before","context",e)},n.$$s=a,n.$$arity=0,n),t).call(r,e)}finally{a.$store_before_context_ivars(e)}},z.$$arity=1),e.defs(Y,"$run_after_context_hooks",j=function(e){var t,r,n,a=this;return(t=a.$descendant_filtered_examples()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?(a.$set_ivars(e,a.$before_context_ivars()),(t=(r=V.get("ContextHookMemoizedHash").$$scope.get("After")).$isolate_for_context_hook,t.$$p=(n=function(){var t=n.$$s||this;return t.$hooks().$run("after","context",e)},n.$$s=a,n.$$arity=0,n),t).call(r,e)):$},j.$$arity=1),e.defs(Y,"$run",q=function(t){var r,n,a,i,o,s,l,u=this,c=$,_=$,p=$;if((r=V.get("RSpec").$world().$wants_to_quit())!==$&&null!=r&&(!r.$$is_boolean||1==r))return(r=u["$top_level?"]())===$||null==r||r.$$is_boolean&&1!=r||V.get("RSpec").$world().$clear_remaining_example_groups(),$;t.$example_group_started(u);try{try{return u.$run_before_context_hooks(u.$new()),c=u.$run_examples(t),_=(r=(n=u.$ordering_strategy().$order(u.$children())).$map,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),e.$run(t)},a.$$s=u,a.$$arity=1,a),r).call(n)["$all?"](),(r=c!==!1&&c!==$&&null!=c)?_:c}catch(f){if(e.rescue(f,[V.get("Pending").$$scope.get("SkipDeclaredInExample")])){p=f;try{return(r=(i=u).$for_filtered_examples,r.$$p=(o=function(e){o.$$s||this;return null==e&&(e=$),e.$skip_with_exception(t,p)},o.$$s=u,o.$$arity=1,o),r).call(i,t)}finally{e.pop_exception()}}else{if(!e.rescue(f,[V.get("Exception")]))throw f;p=f;try{(r=u["$fail_fast?"]())===$||null==r||r.$$is_boolean&&1!=r||(r=[!0],s=V.get("RSpec").$world(),s["$wants_to_quit="].apply(s,r),r[r.length-1]),(r=(s=u).$for_filtered_examples,r.$$p=(l=function(e){l.$$s||this;return null==e&&(e=$),e.$fail_with_exception(t,p)},l.$$s=u,l.$$arity=1,l),r).call(s,t)}finally{e.pop_exception()}}}}finally{u.$run_after_context_hooks(u.$new()),u.$before_context_ivars().$clear(),t.$example_group_finished(u)}},q.$$arity=1),e.defs(Y,"$ordering_strategy",N=function(){var e,t,r,n=this,a=$,i=$;return a=n.$metadata().$fetch("order","global"),i=V.get("RSpec").$configuration().$ordering_registry(),(e=(t=i).$fetch,e.$$p=(r=function(){var e=r.$$s||this;return e.$warn(("            |WARNING: Ignoring unknown ordering specified using `:order => "+a.$inspect()+"` metadata.\n            |         Falling back to configured global ordering.\n            |         Unrecognized ordering specified at: "+e.$location()+"\n").$gsub(/^ +\|/,"")),i.$fetch("global")},r.$$s=n,r.$$arity=0,r),e).call(t,a)},N.$$arity=0),e.defs(Y,"$run_examples",P=function(e){var t,r,n,a=this;return(t=(r=a.$ordering_strategy().$order(a.$filtered_examples())).$map,t.$$p=(n=function(t){var r,a,i=n.$$s||this,o=$,s=$;return null==t&&(t=$),(r=V.get("RSpec").$world().$wants_to_quit())===$||null==r||r.$$is_boolean&&1!=r?(o=i.$new(),i.$set_ivars(o,i.$before_context_ivars()),s=t.$run(o,e),a=i["$fail_fast?"](),(r=a!==!1&&a!==$&&null!=a?s["$!"]():a)===$||null==r||r.$$is_boolean&&1!=r||(r=[!0],a=V.get("RSpec").$world(),a["$wants_to_quit="].apply(a,r),r[r.length-1]),s):$},n.$$s=a,n.$$arity=1,n),t).call(r)["$all?"]()},P.$$arity=1),e.defs(Y,"$for_filtered_examples",F=function(e){var t,r,n,a,i=this,o=F.$$p,s=o||$;return F.$$p=null,(t=(r=i.$filtered_examples()).$each,t.$$p=s.$to_proc(),t).call(r),(t=(n=i.$children()).$each,t.$$p=(a=function(t){var r,n;a.$$s||this;return null==t&&(t=$),e.$example_group_started(t),(r=(n=t).$for_filtered_examples,r.$$p=s.$to_proc(),r).call(n,e),e.$example_group_finished(t)},a.$$s=i,a.$$arity=1,a),t).call(n),!1},F.$$arity=1),e.defs(Y,"$fail_fast?",D=function(){return V.get("RSpec").$configuration()["$fail_fast?"]()},D.$$arity=0),e.defs(Y,"$any_apply?",B=function(e){var t=this;return V.get("MetadataFilter")["$any_apply?"](e,t.$metadata())},B.$$arity=1),e.defs(Y,"$all_apply?",H=function(e){var t=this;return V.get("MetadataFilter")["$all_apply?"](e,t.$metadata())},H.$$arity=1),e.defs(Y,"$declaration_line_numbers",L=function(){var e,r,n,a,i,o,s=this;return null==s.declaration_line_numbers&&(s.declaration_line_numbers=$),(e=s.declaration_line_numbers)!==!1&&e!==$&&null!=e?e:s.declaration_line_numbers=t(t([s.$metadata()["$[]"]("line_number")],(r=(n=s.$examples()).$map,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=$),e.$metadata()["$[]"]("line_number")},a.$$s=s,a.$$arity=1,a),r).call(n)),(r=(i=s.$children()).$inject,r.$$p=(o=function(e,r){o.$$s||this;return null==e&&(e=$),null==r&&(r=$),t(e,r.$declaration_line_numbers())},o.$$s=s,o.$$arity=2,o),r).call(i,[]))},L.$$arity=0),e.defs(Y,"$top_level_description",U=function(){var e=this;return e.$parent_groups().$last().$description()},U.$$arity=0),e.defs(Y,"$set_ivars",G=function(e,t){var r,n,a,i=this;return(r=(n=t).$each,r.$$p=(a=function(t,r){a.$$s||this;return null==t&&(t=$),null==r&&(r=$),e.$instance_variable_set(t,r)},a.$$s=i,a.$$arity=2,a),r).call(n)},G.$$arity=2),$&&"set_ivars"}(c.base,null),function(t,$super){function r(){}var n,a=r=o(t,$super,"AnonymousExampleGroup",r);a.$$proto,a.$$scope;return e.defs(a,"$metadata",n=function(){return s([],{})},n.$$arity=0),$&&"metadata"}(c.base,c.get("ExampleGroup"))}(c.base),function(r){var n,a,o,s,l,u=n=i(r,"ExampleGroups"),c=(u.$$proto,u.$$scope);u.$extend(c.get("Support").$$scope.get("RecursiveConstMethods")),e.defs(u,"$assign_const",a=function(e){var t=this,r=$,n=$,a=$;return r=t.$base_name_for(e),n=t.$constant_scope_for(e),a=t.$disambiguate(r,n),n.$const_set(a,e)},a.$$arity=1),e.defs(u,"$constant_scope_for",o=function(t){var r=this,n=$;return n=t.$superclass(),n["$=="](e.get("RSpec").$$scope.get("Core").$$scope.get("ExampleGroup"))&&(n=r),n},o.$$arity=1),e.defs(u,"$base_name_for",s=function(e){var r,n,a,i=this,o=$;return(r=e.$description()["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?(o=t(" ",e.$description()),(r=(n=o)["$gsub!"],r.$$p=(a=function(){a.$$s||this;return c.get("Regexp").$last_match()["$[]"](1).$upcase()},a.$$s=i,a.$$arity=0,a),r).call(n,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),o["$lstrip!"](),o["$gsub!"](/\W/,""),o["$gsub!"](/\A([^A-Z]|\z)/,"Nested\\1"),o):"Anonymous"},s.$$arity=1),c.get("RUBY_VERSION")["$=="]("1.9.2")&&(!function(r){var n;r.$$scope,r.$$proto;return e.alias(r,"_base_name_for","base_name_for"),e.defn(r,"$base_name_for",n=function(e){var r=this;return t(r.$_base_name_for(e),"_")},n.$$arity=1),$&&"base_name_for"}(e.get_singleton_class(u)),u.$private_class_method("_base_name_for")),e.defs(u,"$disambiguate",l=function(e,t){var r,n,a=this;if((r=a["$const_defined_on?"](t,e))===$||null==r||r.$$is_boolean&&1!=r)return e;for(e["$<<"]("_2");(n=a["$const_defined_on?"](t,e))!==$&&null!=n&&(!n.$$is_boolean||1==n);)e["$next!"]();return e},l.$$arity=2)}(c.base)}(n.base)},Opal.modules["rspec/core/filter_manager"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$attr_reader","$build","$delete","$inclusions","$new","$[]=","$push","$[]","$expand_path","$add_location","$empty?","$exclusions","$standalone?","$select","$!","$include_example?","$include?","$exclude?","$add","$last","$use_only","$add_with_low_priority","$attr_accessor","$opposite=","$to_proc","$each_key","$opposite","$merge!","$merge","$each_pair","$==","$replace","$clear","$fetch","$rules","$gsub","$inspect","$replace_filters","$apply_standalone_filter","$any_apply?","$is_standalone_filter?","$private","$any?","$key?","$freeze","$lambda"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g=n=$(t,$super,"FilterManager",n),m=(g.$$proto,g.$$scope);return g.$attr_reader("exclusions","inclusions"),e.defn(g,"$initialize",a=function(){var t,n,$=this;return n=m.get("FilterRules").$build(),t=e.to_ary(n),$.exclusions=null==t[0]?r:t[0],$.inclusions=null==t[1]?r:t[1],n},a.$$arity=0),e.defn(g,"$add_location",i=function(t,n){var $,a,i,o,s=this,l=r;return l=($=s.$inclusions().$delete("locations"))!==!1&&$!==r&&null!=$?$:(a=(i=m.get("Hash")).$new,a.$$p=(o=function(e,t){o.$$s||this;return null==e&&(e=r),null==t&&(t=r),e["$[]="](t,[])},o.$$s=s,o.$$arity=2,o),a).call(i),($=l["$[]"](m.get("File").$expand_path(t))).$push.apply($,e.to_a(n)),s.$inclusions().$add_location(l)},i.$$arity=2),e.defn(g,"$empty?",o=function(){var e,t=this;return e=t.$inclusions()["$empty?"](),e!==!1&&e!==r&&null!=e?t.$exclusions()["$empty?"]():e},o.$$arity=0),e.defn(g,"$prune",s=function(e){var t,n,$,a,i,o=this,s=r;return(t=o.$inclusions()["$standalone?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=(a=e).$select,t.$$p=(i=function(e){var t,n=i.$$s||this;return null==e&&(e=r),t=n["$exclude?"](e)["$!"](),t!==!1&&t!==r&&null!=t?n["$include?"](e):t},i.$$s=o,i.$$arity=1,i),t).call(a):(s=m.get("ExclusionRules").$new(),(t=(n=e).$select,t.$$p=($=function(e){var t,n=$.$$s||this;return null==e&&(e=r),t=s["$include_example?"](e)["$!"](),t!==!1&&t!==r&&null!=t?n["$include?"](e):t},$.$$s=o,$.$$arity=1,$),t).call(n))},s.$$arity=1),e.defn(g,"$exclude",l=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$exclusions().$add(e.$last())},l.$$arity=-1),e.defn(g,"$exclude_only",u=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$exclusions().$use_only(e.$last())},u.$$arity=-1),e.defn(g,"$exclude_with_low_priority",c=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$exclusions().$add_with_low_priority(e.$last())},c.$$arity=-1),e.defn(g,"$exclude?",_=function(e){var t=this;return t.$exclusions()["$include_example?"](e)},_.$$arity=1),e.defn(g,"$include",p=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$inclusions().$add(e.$last())},p.$$arity=-1),e.defn(g,"$include_only",f=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$inclusions().$use_only(e.$last())},f.$$arity=-1),e.defn(g,"$include_with_low_priority",d=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$inclusions().$add_with_low_priority(e.$last())},d.$$arity=-1),e.defn(g,"$include?",h=function(e){var t=this;return t.$inclusions()["$include_example?"](e)},h.$$arity=1),r&&"include?"}(s.base,null),function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g=n=$(t,$super,"FilterRules",n),m=g.$$proto,y=g.$$scope;return m.rules=r,e.cdecl(y,"PROC_HEX_NUMBER",/0x[0-9a-f]+@/),e.cdecl(y,"PROJECT_DIR",y.get("File").$expand_path(".")),g.$attr_accessor("opposite"),g.$attr_reader("rules"),e.defs(g,"$build",a=function(){var e,t,n=r,$=r;return n=y.get("ExclusionRules").$new(),$=y.get("InclusionRules").$new(),e=[$],t=n,t["$opposite="].apply(t,e),e[e.length-1],e=[n],t=$,t["$opposite="].apply(t,e),e[e.length-1],[n,$]},a.$$arity=0),e.defn(g,"$initialize",i=function(){var t,n,$,a=this,o=i.$$p,s=o||r,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return i.$$p=null,a.rules=(t=(n=y.get("Hash")).$new,t.$$p=s.$to_proc(),t).apply(n,e.to_a($))},i.$$arity=-1),e.defn(g,"$add",o=function(e){var t,n,$,a=this;return(t=(n=a.rules["$merge!"](e)).$each_key,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$opposite().$delete(e)},$.$$s=a,$.$$arity=1,$),t).call(n)},o.$$arity=1),e.defn(g,"$add_with_low_priority",s=function(e){var t,n,$,a=this;return e=e.$merge(a.rules),(t=(n=a.$opposite()).$each_pair,t.$$p=($=function(t,n){$.$$s||this;return null==t&&(t=r),null==n&&(n=r),e["$[]"](t)["$=="](n)?e.$delete(t):r},$.$$s=a,$.$$arity=2,$),t).call(n),a.rules.$replace(e)},s.$$arity=1),e.defn(g,"$use_only",l=function(e){var t,n,$,a=this;return(t=(n=e).$each_key,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$opposite().$delete(e)},$.$$s=a,$.$$arity=1,$),t).call(n),a.rules.$replace(e)},l.$$arity=1),e.defn(g,"$clear",u=function(){var e=this;return e.rules.$clear()},u.$$arity=0),e.defn(g,"$delete",c=function(e){var t=this;return t.rules.$delete(e)},c.$$arity=1),e.defn(g,"$fetch",_=function(){var t,n,$,a=this,i=_.$$p,o=i||r,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var u=0;s>u;u++)$[u-0]=arguments[u];return _.$$p=null,(t=(n=a.rules).$fetch,t.$$p=o.$to_proc(),t).apply(n,e.to_a($))},_.$$arity=-1),e.defn(g,"$[]",p=function(e){var t=this;return t.rules["$[]"](e)},p.$$arity=1),e.defn(g,"$empty?",f=function(){var e=this;return e.$rules()["$empty?"]()},f.$$arity=0),e.defn(g,"$each_pair",d=function(){var e,t,n=this,$=d.$$p,a=$||r;return d.$$p=null,(e=(t=n.rules).$each_pair,e.$$p=a.$to_proc(),e).call(t)},d.$$arity=0),e.defn(g,"$description",h=function(){var e=this;return e.$rules().$inspect().$gsub(y.get("PROC_HEX_NUMBER"),"").$gsub(y.get("PROJECT_DIR"),".").$gsub(" (lambda)","")},h.$$arity=0),r&&"description"}(s.base,null),function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d=n=$(t,$super,"InclusionRules",n),h=d.$$proto,g=d.$$scope;return h.rules=r,e.cdecl(g,"STANDALONE_FILTERS",["locations","full_description"]),e.defn(d,"$add_location",i=function(e){var t=this;return t.$replace_filters(a(["locations"],{locations:e}))},i.$$arity=1),e.defn(d,"$add",o=function(){var t,n,$,a,i,s=this,l=o.$$p,u=r,c=r,_=arguments.length,p=_-0;0>p&&(p=0),i=new Array(p);for(var f=0;_>f;f++)i[f-0]=arguments[f];for(o.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(n=s).$apply_standalone_filter.apply(n,e.to_a(i)))!==!1&&t!==r&&null!=t?t:(a=s,$=e.find_super_dispatcher(s,"add",o,!1),$.$$p=l,$).apply(a,u)},o.$$arity=-1),e.defn(d,"$add_with_low_priority",s=function(){var t,n,$,a,i,o=this,l=s.$$p,u=r,c=r,_=arguments.length,p=_-0;0>p&&(p=0),i=new Array(p);for(var f=0;_>f;f++)i[f-0]=arguments[f];for(s.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(n=o).$apply_standalone_filter.apply(n,e.to_a(i)))!==!1&&t!==r&&null!=t?t:(a=o,$=e.find_super_dispatcher(o,"add_with_low_priority",s,!1),$.$$p=l,$).apply(a,u)},s.$$arity=-1),e.defn(d,"$use",l=function(){var t,n,$,a,i,o=this,s=l.$$p,u=r,c=r,_=arguments.length,p=_-0;0>p&&(p=0),i=new Array(p);for(var f=0;_>f;f++)i[f-0]=arguments[f];for(l.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(n=o).$apply_standalone_filter.apply(n,e.to_a(i)))!==!1&&t!==r&&null!=t?t:(a=o,$=e.find_super_dispatcher(o,"use",l,!1),$.$$p=s,$).apply(a,u)},l.$$arity=-1),e.defn(d,"$include_example?",u=function(e){var t,n=this;return(t=n.rules["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?e["$any_apply?"](n.rules):!0},u.$$arity=1),e.defn(d,"$standalone?",c=function(){var e=this;return e["$is_standalone_filter?"](e.rules)},c.$$arity=0),d.$private(),e.defn(d,"$apply_standalone_filter",_=function(e){var t,n=this;return(t=n["$standalone?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=n["$is_standalone_filter?"](e))===r||null==t||t.$$is_boolean&&1!=t?r:(n.$replace_filters(e),!0):!0},_.$$arity=1),e.defn(d,"$replace_filters",p=function(e){var t=this;return t.rules.$replace(e),t.$opposite().$clear()},p.$$arity=1),e.defn(d,"$is_standalone_filter?",f=function(e){var t,n,$,a=this;return(t=(n=g.get("STANDALONE_FILTERS"))["$any?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),e["$key?"](t)},$.$$s=a,$.$$arity=1,$),t).call(n)},f.$$arity=1),r&&"is_standalone_filter?"}(s.base,s.get("FilterRules")),function(t,$super){function n(){}var i,o,s,l,u,c,_=n=$(t,$super,"ExclusionRules",n),p=_.$$proto,f=_.$$scope;return p.rules=r,e.cdecl(f,"CONDITIONAL_FILTERS",a(["if","unless"],{"if":(i=(o=_).$lambda,i.$$p=(s=function(e){s.$$s||this;return null==e&&(e=r),e["$!"]()},s.$$s=_,s.$$arity=1,s),i).call(o),unless:(i=(l=_).$lambda,i.$$p=(u=function(e){u.$$s||this;return null==e&&(e=r),e},u.$$s=_,u.$$arity=1,u),i).call(l)}).$freeze()),e.defn(_,"$include_example?",c=function(e){var t,n=this;return(t=e["$any_apply?"](n.rules))!==!1&&t!==r&&null!=t?t:e["$any_apply?"](f.get("CONDITIONAL_FILTERS"))},c.$$arity=1),r&&"include_example?"}(s.base,s.get("FilterRules"))}(s.base)}(t.base)},Opal.modules["rspec/core/flat_map"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$respond_to?","$flat_map","$flatten","$map","$module_function"]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a=$=n(t,"Core"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s=$=n(t,"FlatMap");s.$$proto,s.$$scope;(a=[]["$respond_to?"]("flat_map"))===r||null==a||a.$$is_boolean&&1!=a?e.defn(s,"$flat_map",o=function(t){var n,$,a,i=this,s=o.$$p,l=s||r;return o.$$p=null,(n=($=t).$map,n.$$p=(a=function(t){a.$$s||this;return null==t&&(t=r),e.yield1(l,t)},a.$$s=i,a.$$arity=1,a),n).call($).$flatten()},o.$$arity=1):e.defn(s,"$flat_map",i=function(t){var n,$,a,o=this,s=i.$$p,l=s||r;return i.$$p=null,(n=($=t).$flat_map,n.$$p=(a=function(t){a.$$s||this;return null==t&&(t=r),e.yield1(l,t)},a.$$s=o,a.$$arity=1,a),n).call($)},i.$$arity=1),s.$module_function("flat_map")}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/core/formatters/documentation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$require_rspec_core","$register","$==","$puts","$output","$current_indentation","$strip","$description","$group","$+","$-","$passed_output","$example","$pending_output","$pending_message","$execution_result","$failure_output","$exception","$private","$wrap","$next_failure_index","$*","$reverse","$parent_groups","$example_group"]),$.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),function($){var s,l=s=i($,"RSpec"),u=(l.$$proto,l.$$scope);!function($){var s,l=s=i($,"Core"),u=(l.$$proto,l.$$scope);!function($){var s,l=s=i($,"Formatters"),u=(l.$$proto,l.$$scope);!function($,$super){function i(){}var s,l,u,c,_,p,f,d,h,g,m,y,v=i=o($,$super,"DocumentationFormatter",i),b=v.$$proto,x=v.$$scope;return b.group_level=b.next_failure_index=a,x.get("Formatters").$register(v,"example_group_started","example_group_finished","example_passed","example_pending","example_failed"),e.defn(v,"$initialize",s=function(){var t,r,n=this,$=s.$$p,i=a,o=a;for(s.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(r=n,t=e.find_super_dispatcher(n,"initialize",s,!1),t.$$p=$,t).apply(r,i),n.group_level=0},s.$$arity=1),e.defn(v,"$example_group_started",l=function(e){var r=this;return r.group_level["$=="](0)&&r.$output().$puts(),r.$output().$puts(""+r.$current_indentation()+e.$group().$description().$strip()),r.group_level=t(r.group_level,1)},l.$$arity=1),e.defn(v,"$example_group_finished",u=function(){var e=this;return e.group_level=r(e.group_level,1)},u.$$arity=1),e.defn(v,"$example_passed",c=function(e){var t=this;return t.$output().$puts(t.$passed_output(e.$example()))},c.$$arity=1),e.defn(v,"$example_pending",_=function(e){var t=this;return t.$output().$puts(t.$pending_output(e.$example(),e.$example().$execution_result().$pending_message()))},_.$$arity=1),e.defn(v,"$example_failed",p=function(e){var t=this;return t.$output().$puts(t.$failure_output(e.$example(),e.$example().$execution_result().$exception()))},p.$$arity=1),v.$private(),e.defn(v,"$passed_output",f=function(e){var t=this;return x.get("ConsoleCodes").$wrap(""+t.$current_indentation()+e.$description().$strip(),"success")},f.$$arity=1),e.defn(v,"$pending_output",d=function(e,t){var r=this;return x.get("ConsoleCodes").$wrap(""+r.$current_indentation()+e.$description().$strip()+" (PENDING: "+t+")","pending")},d.$$arity=2),e.defn(v,"$failure_output",h=function(e){var t=this;return x.get("ConsoleCodes").$wrap(""+t.$current_indentation()+e.$description().$strip()+" (FAILED - "+t.$next_failure_index()+")","failure")},h.$$arity=2),e.defn(v,"$next_failure_index",g=function(){var e,r=this;return(e=r.next_failure_index)!==!1&&e!==a&&null!=e?e:r.next_failure_index=0,r.next_failure_index=t(r.next_failure_index,1)},g.$$arity=0),e.defn(v,"$current_indentation",m=function(){var e=this;return n("  ",e.group_level)},m.$$arity=0),e.defn(v,"$example_group_chain",y=function(){var e=this;return e.$example_group().$parent_groups().$reverse()},y.$$arity=0),a&&"example_group_chain"}(u.base,u.get("BaseTextFormatter"))}(u.base)}(u.base)}($.base)},Opal.modules["rspec/core/formatters/html_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var a=(e.top,e),i=e.nil,o=(e.breaker,e.slice,e.module),s=e.klass,l=e.hash2;return e.add_stubs(["$require_rspec_core","$register","$new","$print_html_start","$flush","$+","$==","$example_group_number","$print_example_group_end","$print_example_group_start","$description","$group","$size","$parent_groups","$move_progress","$percent_done","$print_example_passed","$example","$run_time","$execution_result","$<<","$make_header_red","$make_example_group_header_red","$exception","$message","$join","$formatted_backtrace","$extra_failure_content","$print_example_failed","$pending_fixed","$make_header_yellow","$make_example_group_header_yellow","$print_example_pending","$pending_message","$print_summary","$duration","$example_count","$failure_count","$pending_count","$private","$>","$to_f","$/","$to_i","$*","$example_number","$map","$backtrace_line","$backtrace_formatter","$configuration","$backtrace","$compact!","$snippet"]),a.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),a.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/html_printer"),function(a){var u,c=u=o(a,"RSpec"),_=(c.$$proto,c.$$scope);!function(a){var u,c=u=o(a,"Core"),_=(c.$$proto,c.$$scope);!function(a){var u,c=u=o(a,"Formatters"),_=(c.$$proto,c.$$scope);!function(a,$super){function o(){}var u,c,_,p,f,d,h,g,m,y,v,b,x,w=o=s(a,$super,"HtmlFormatter",o),k=w.$$proto,S=w.$$scope;
return k.printer=k.example_group_number=k.example_number=k.failed_examples=k.header_red=k.example_group_red=k.example_count=k.snippet_extractor=i,S.get("Formatters").$register(w,"start","example_group_started","start_dump","example_started","example_passed","example_failed","example_pending","dump_summary"),e.defn(w,"$initialize",u=function(t){var r,n,$=this;u.$$p;return u.$$p=null,(n=$,r=e.find_super_dispatcher($,"initialize",u,!1),r.$$p=null,r).call(n,t),$.failed_examples=[],$.example_group_number=0,$.example_number=0,$.header_red=i,$.printer=S.get("HtmlPrinter").$new(t)},u.$$arity=1),e.defn(w,"$start",c=function(){var t,r,n=this,$=c.$$p,a=i,o=i;for(c.$$p=null,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return(r=n,t=e.find_super_dispatcher(n,"start",c,!1),t.$$p=$,t).apply(r,a),n.printer.$print_html_start(),n.printer.$flush()},c.$$arity=1),e.defn(w,"$example_group_started",_=function(r){var n,$,a=this,o=_.$$p,s=i,l=i;for(_.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return($=a,n=e.find_super_dispatcher(a,"example_group_started",_,!1),n.$$p=o,n).apply($,s),a.example_group_red=!1,a.example_group_number=t(a.example_group_number,1),a.$example_group_number()["$=="](1)||a.printer.$print_example_group_end(),a.printer.$print_example_group_start(a.$example_group_number(),r.$group().$description(),r.$group().$parent_groups().$size()),a.printer.$flush()},_.$$arity=1),e.defn(w,"$start_dump",p=function(){var e=this;return e.printer.$print_example_group_end(),e.printer.$flush()},p.$$arity=1),e.defn(w,"$example_started",f=function(){var e=this;return e.example_number=t(e.example_number,1)},f.$$arity=1),e.defn(w,"$example_passed",d=function(e){var t=this;return t.printer.$move_progress(t.$percent_done()),t.printer.$print_example_passed(e.$example().$description(),e.$example().$execution_result().$run_time()),t.printer.$flush()},d.$$arity=1),e.defn(w,"$example_failed",h=function(e){var t,r=this,n=i,$=i,a=i,o=i;return r.failed_examples["$<<"](e.$example()),((t=r.header_red)===i||null==t||t.$$is_boolean&&1!=t)&&(r.header_red=!0,r.printer.$make_header_red()),((t=r.example_group_red)===i||null==t||t.$$is_boolean&&1!=t)&&(r.example_group_red=!0,r.printer.$make_example_group_header_red(r.$example_group_number())),r.printer.$move_progress(r.$percent_done()),n=e.$example(),$=e.$exception(),a=function(){return $!==!1&&$!==i&&null!=$?l(["message","backtrace"],{message:$.$message(),backtrace:e.$formatted_backtrace().$join("\n")}):!1}(),o=r.$extra_failure_content(e),r.printer.$print_example_failed(n.$execution_result().$pending_fixed(),n.$description(),n.$execution_result().$run_time(),r.failed_examples.$size(),a,function(){return(t=o["$=="](""))===i||null==t||t.$$is_boolean&&1!=t?o:!1}(),!0),r.printer.$flush()},h.$$arity=1),e.defn(w,"$example_pending",g=function(e){var t,r=this,n=i;return n=e.$example(),((t=r.header_red)===i||null==t||t.$$is_boolean&&1!=t)&&r.printer.$make_header_yellow(),((t=r.example_group_red)===i||null==t||t.$$is_boolean&&1!=t)&&r.printer.$make_example_group_header_yellow(r.$example_group_number()),r.printer.$move_progress(r.$percent_done()),r.printer.$print_example_pending(n.$description(),n.$execution_result().$pending_message()),r.printer.$flush()},g.$$arity=1),e.defn(w,"$dump_summary",m=function(e){var t=this;return t.printer.$print_summary(e.$duration(),e.$example_count(),e.$failure_count(),e.$pending_count()),t.printer.$flush()},m.$$arity=1),w.$private(),e.defn(w,"$example_group_number",y=function(){var e=this;return e.example_group_number},y.$$arity=0),e.defn(w,"$example_number",v=function(){var e=this;return e.example_number},v.$$arity=0),e.defn(w,"$percent_done",b=function(){var e,t=this,a=i;return a=100,(e=r(t.example_count,0))===i||null==e||e.$$is_boolean&&1!=e||(a=n($(n(t.$example_number().$to_f(),t.example_count.$to_f()),1e3).$to_i(),10).$to_f()),a},b.$$arity=0),e.defn(w,"$extra_failure_content",x=function(e){var t,r,n,$=this,a=i;return S.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/snippet_extractor"),a=(t=(r=e.$exception().$backtrace()).$map,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=i),S.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(e)},n.$$s=$,n.$$arity=1,n),t).call(r),a["$compact!"](),(t=$.snippet_extractor)!==!1&&t!==i&&null!=t?t:$.snippet_extractor=S.get("SnippetExtractor").$new(),'    <pre class="ruby"><code>'+$.snippet_extractor.$snippet(a)+"</code></pre>"},x.$$arity=1),i&&"extra_failure_content"}(_.base,_.get("BaseFormatter"))}(_.base)}(_.base)}(a.base)},Opal.modules["rspec/core/formatters/progress_formatter"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_core","$register","$print","$output","$wrap","$puts"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_text_formatter"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Formatters"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l=n=$(t,$super,"ProgressFormatter",n),u=(l.$$proto,l.$$scope);return u.get("Formatters").$register(l,"example_passed","example_pending","example_failed","start_dump"),e.defn(l,"$example_passed",a=function(){var e=this;return e.$output().$print(u.get("ConsoleCodes").$wrap(".","success"))},a.$$arity=1),e.defn(l,"$example_pending",i=function(){var e=this;return e.$output().$print(u.get("ConsoleCodes").$wrap("*","pending"))},i.$$arity=1),e.defn(l,"$example_failed",o=function(){var e=this;return e.$output().$print(u.get("ConsoleCodes").$wrap("F","failure"))},o.$$arity=1),e.defn(l,"$start_dump",s=function(){var e=this;return e.$output().$puts()},s.$$arity=1),r&&"start_dump"}(o.base,o.get("BaseTextFormatter"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/formatters/profile_formatter"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_core","$register","$attr_reader","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$private","$puts","$size","$slowest_examples","$format_seconds","$slow_duration","$percentage","$each","$full_description","$bold","$run_time","$execution_result","$format_caller","$location","$empty?","$slowest_groups","$[]","$pluralize","$backtrace_line","$backtrace_formatter","$configuration","$first","$split","$to_s","$wrap"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/console_codes"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Formatters"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c=n=$(t,$super,"ProfileFormatter",n),_=c.$$proto,p=c.$$scope;return _.output=r,p.get("Formatters").$register(c,"dump_profile"),e.defn(c,"$initialize",a=function(e){var t=this;return t.output=e},a.$$arity=1),c.$attr_reader("output"),e.defn(c,"$dump_profile",i=function(e){var t=this;return t.$dump_profile_slowest_examples(e),t.$dump_profile_slowest_example_groups(e)},i.$$arity=1),c.$private(),e.defn(c,"$dump_profile_slowest_examples",o=function(e){var t,n,$,a=this;return a.output.$puts("\nTop "+e.$slowest_examples().$size()+" slowest examples ("+p.get("Helpers").$format_seconds(e.$slow_duration())+" seconds, "+e.$percentage()+"% of total time):\n"),(t=(n=e.$slowest_examples()).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==t.output&&(t.output=r),null==e&&(e=r),t.output.$puts("  "+e.$full_description()),t.output.$puts("    "+t.$bold(p.get("Helpers").$format_seconds(e.$execution_result().$run_time()))+" "+t.$bold("seconds")+" "+t.$format_caller(e.$location()))},$.$$s=a,$.$$arity=1,$),t).call(n)},o.$$arity=1),e.defn(c,"$dump_profile_slowest_example_groups",s=function(e){var t,n,$,a=this;return(t=e.$slowest_groups()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?(a.output.$puts("\nTop "+e.$slowest_groups().$size()+" slowest example groups:"),(t=(n=e.$slowest_groups()).$each,t.$$p=($=function(e,t){var n=$.$$s||this,a=r,i=r,o=r;return null==n.output&&(n.output=r),null==e&&(e=r),null==t&&(t=r),a=""+n.$bold(p.get("Helpers").$format_seconds(t["$[]"]("average")))+" "+n.$bold("seconds")+" average",i=""+p.get("Helpers").$format_seconds(t["$[]"]("total_time"))+" seconds",o=p.get("Helpers").$pluralize(t["$[]"]("count"),"example"),n.output.$puts("  "+t["$[]"]("description")),n.output.$puts("    "+a+" ("+i+" / "+o+") "+e)},$.$$s=a,$.$$arity=2,$),t).call(n)):r},s.$$arity=1),e.defn(c,"$format_caller",l=function(e){return p.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(e.$to_s().$split(":in `block").$first())},l.$$arity=1),e.defn(c,"$bold",u=function(e){return p.get("ConsoleCodes").$wrap(e,"bold")},u.$$arity=1),r&&"bold"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/formatters/json_formatter"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2,o=e.gvars;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$<<","$[]","$[]=","$message","$duration","$example_count","$failure_count","$pending_count","$totals_line","$map","$tap","$exception","$name","$class","$backtrace","$format_example","$examples","$write","$output","$to_json","$===","$!=","$close","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$slowest_examples","$run_time","$execution_result","$slow_duration","$update","$slowest_groups","$private","$description","$full_description","$to_s","$status","$metadata"]),r.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_formatter"),t.$require("json"),function(t){var r,s=r=$(t,"RSpec"),l=(s.$$proto,s.$$scope);!function(t){var r,s=r=$(t,"Core"),l=(s.$$proto,s.$$scope);!function(t){var r,s=r=$(t,"Formatters"),l=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var $,s,l,u,c,_,p,f,d,h=r=a(t,$super,"JsonFormatter",r),g=h.$$proto,m=h.$$scope;return g.output_hash=n,m.get("Formatters").$register(h,"message","dump_summary","dump_profile","stop","close"),h.$attr_reader("output_hash"),e.defn(h,"$initialize",$=function(){var t,r,a=this,o=$.$$p,s=n,l=n;for($.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=a,t=e.find_super_dispatcher(a,"initialize",$,!1),t.$$p=o,t).apply(r,s),a.output_hash=i([],{})},$.$$arity=1),e.defn(h,"$message",s=function(e){var t,r,$,a=this;return(t="messages",r=a.output_hash,($=r["$[]"](t))!==!1&&$!==n&&null!=$?$:r["$[]="](t,[]))["$<<"](e.$message())},s.$$arity=1),e.defn(h,"$dump_summary",l=function(e){var t=this;return t.output_hash["$[]="]("summary",i(["duration","example_count","failure_count","pending_count"],{duration:e.$duration(),example_count:e.$example_count(),failure_count:e.$failure_count(),pending_count:e.$pending_count()})),t.output_hash["$[]="]("summary_line",e.$totals_line())},l.$$arity=1),e.defn(h,"$stop",u=function(e){var t,r,$,a=this;return a.output_hash["$[]="]("examples",(t=(r=e.$examples()).$map,t.$$p=($=function(e){var t,r,a,o=$.$$s||this;return null==e&&(e=n),(t=(r=o.$format_example(e)).$tap,t.$$p=(a=function(t){var r=(a.$$s||this,n);return null==t&&(t=n),r=e.$exception(),r!==!1&&r!==n&&null!=r?t["$[]="]("exception",i(["class","message","backtrace"],{"class":r.$class().$name(),message:r.$message(),backtrace:r.$backtrace()})):n},a.$$s=o,a.$$arity=1,a),t).call(r)},$.$$s=a,$.$$arity=1,$),t).call(r))},u.$$arity=1),e.defn(h,"$close",c=function(){var e,t,r=this;return null==o.stdout&&(o.stdout=n),r.$output().$write(r.output_hash.$to_json()),t=m.get("IO")["$==="](r.$output()),(e=t!==!1&&t!==n&&null!=t?r.$output()["$!="](o.stdout):t)===n||null==e||e.$$is_boolean&&1!=e?n:r.$output().$close()},c.$$arity=1),e.defn(h,"$dump_profile",_=function(e){var t=this;return t.output_hash["$[]="]("profile",i([],{})),t.$dump_profile_slowest_examples(e),t.$dump_profile_slowest_example_groups(e)},_.$$arity=1),e.defn(h,"$dump_profile_slowest_examples",p=function(e){var t,r,$,a=this,o=n;return a.output_hash["$[]="]("profile",i([],{})),o=e.$slowest_examples(),a.output_hash["$[]"]("profile")["$[]="]("examples",(t=(r=o).$map,t.$$p=($=function(e){var t,r,a,i=$.$$s||this;return null==e&&(e=n),(t=(r=i.$format_example(e)).$tap,t.$$p=(a=function(t){a.$$s||this;return null==t&&(t=n),t["$[]="]("run_time",e.$execution_result().$run_time())},a.$$s=i,a.$$arity=1,a),t).call(r)},$.$$s=a,$.$$arity=1,$),t).call(r)),a.output_hash["$[]"]("profile")["$[]="]("slowest",e.$slow_duration()),a.output_hash["$[]"]("profile")["$[]="]("total",e.$duration())},p.$$arity=1),e.defn(h,"$dump_profile_slowest_example_groups",f=function(e){var t,r,$,a,o=this;return t="profile",r=o.output_hash,($=r["$[]"](t))!==!1&&$!==n&&null!=$?$:r["$[]="](t,i([],{})),o.output_hash["$[]"]("profile")["$[]="]("groups",(t=(r=e.$slowest_groups()).$map,t.$$p=(a=function(e,t){a.$$s||this;return null==e&&(e=n),null==t&&(t=n),t.$update(i(["location"],{location:e}))},a.$$s=o,a.$$arity=2,a),t).call(r))},f.$$arity=1),h.$private(),e.defn(h,"$format_example",d=function(e){return i(["description","full_description","status","file_path","line_number","run_time"],{description:e.$description(),full_description:e.$full_description(),status:e.$execution_result().$status().$to_s(),file_path:e.$metadata()["$[]"]("file_path"),line_number:e.$metadata()["$[]"]("line_number"),run_time:e.$execution_result().$run_time()})},d.$$arity=1),n&&"format_example"}(l.base,l.get("BaseFormatter"))}(l.base)}(l.base)}(r.base)},Opal.modules["rspec/core/formatters"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$require_rspec_support","$autoload","$[]=","$formatters","$default_formatter=","$attr_reader","$attr_accessor","$empty?","$add","$default_formatter","$any?","$===","$profile_examples?","$configuration","$!","$existing_formatter_implements?","$find_formatter","$map","$respond_to?","$file_at","$nil?","$[]","$new","$register_listener","$notifications_for","$load_formatter","$notifications","$first_non_rspec_line","$warn_deprecation","$gsub","$duplicate_formatter_exists?","$<<","$private","$built_in_formatter","$custom_formatter","$raise","$class","$==","$output","$registered_listeners","$to_s","$inject","$+","$fetch","$ancestors","$string_const?","$const_get","$split","$require","$path_for","$retry","$is_a?","$=~","$underscore_with_fix_for_non_standard_rspec_naming","$sub","$underscore","$dup","$gsub!","$tr!","$downcase!","$mkdir_p","$dirname"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("directory_maker"),function(r){var o,s,l=o=$(r,"Formatters"),u=(l.$$proto,l.$$scope);l.$autoload("DocumentationFormatter","rspec/core/formatters/documentation_formatter"),l.$autoload("HtmlFormatter","rspec/core/formatters/html_formatter"),l.$autoload("ProgressFormatter","rspec/core/formatters/progress_formatter"),l.$autoload("ProfileFormatter","rspec/core/formatters/profile_formatter"),l.$autoload("JsonFormatter","rspec/core/formatters/json_formatter"),e.defs(l,"$register",s=function(e){var t,r=arguments.length,n=r-1;0>n&&(n=0),t=new Array(n);for(var $=1;r>$;$++)t[$-1]=arguments[$];return u.get("Loader").$formatters()["$[]="](e,t)},s.$$arity=-2),function(r,$super){function $(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=$=a(r,$super,"Loader",$),w=x.$$proto,k=x.$$scope;return w.formatters=w.reporter=n,e.defs(x,"$formatters",o=function(){var e,t=this;return null==t.formatters&&(t.formatters=n),(e=t.formatters)!==!1&&e!==n&&null!=e?e:t.formatters=i([],{})},o.$$arity=0),e.defn(x,"$initialize",s=function(e){var t,r,n=this;return n.formatters=[],n.reporter=e,t=["progress"],r=n,r["$default_formatter="].apply(r,t),t[t.length-1]},s.$$arity=1),x.$attr_reader("formatters"),x.$attr_reader("reporter"),x.$attr_accessor("default_formatter"),e.defn(x,"$setup_default",l=function(e,t){var r,$,a,i,o=this;return(r=o.formatters["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r||o.$add(o.$default_formatter(),e),((r=($=(a=o.formatters)["$any?"],$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=n),k.get("DeprecationFormatter")["$==="](e)},i.$$s=o,i.$$arity=1,i),$).call(a))===n||null==r||r.$$is_boolean&&1!=r)&&o.$add(k.get("DeprecationFormatter"),t,e),$=k.get("RSpec").$configuration()["$profile_examples?"](),(r=$!==!1&&$!==n&&null!=$?o["$existing_formatter_implements?"]("dump_profile")["$!"]():$)===n||null==r||r.$$is_boolean&&1!=r?n:o.$add(k.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ProfileFormatter"),e)},l.$$arity=2),e.defn(x,"$add",u=function(t){var r,$,a,i,o,s,l,u,c=this,_=n,p=n,f=n,d=n,h=n,g=arguments.length,m=g-1;0>m&&(m=0),u=new Array(m);for(var y=1;g>y;y++)u[y-1]=arguments[y];if(_=c.$find_formatter(t),p=(r=($=u).$map,r.$$p=(a=function(e){var t,r=a.$$s||this;return null==e&&(e=n),(t=e["$respond_to?"]("puts"))===n||null==t||t.$$is_boolean&&1!=t?r.$file_at(e):e},a.$$s=c,a.$$arity=1,a),r).call($),(r=k.get("Loader").$formatters()["$[]"](_)["$nil?"]()["$!"]())===n||null==r||r.$$is_boolean&&1!=r){if((o=function(){try{return null!=k.get("RSpec").$$scope.get("LegacyFormatters")?"constant":n}catch(t){if(t.$$class===e.NameError)return n;throw t}}())===n||null==o||o.$$is_boolean&&1!=o)return d=e.get("RSpec").$$scope.get("CallerFilter").$first_non_rspec_line(),h=d!==!1&&d!==n&&null!=d?"Formatter added at: "+d:"The formatter was added via command line flag or your `.rspec` file.",k.get("RSpec").$warn_deprecation(("          |The "+_+" formatter uses the deprecated formatter\n          |interface not supported directly by RSpec 3.\n          |\n          |To continue to use this formatter you must install the\n          |`rspec-legacy_formatters` gem, which provides support\n          |for legacy formatters or upgrade the formatter to a\n          |compatible version.\n          |\n          |"+h+"\n").$gsub(/\s*\|/," ")),n;f=(o=k.get("RSpec").$$scope.get("LegacyFormatters")).$load_formatter.apply(o,[_].concat(e.to_a(p))),(s=c.reporter).$register_listener.apply(s,[f].concat(e.to_a(f.$notifications())))}else f=(r=_).$new.apply(r,e.to_a(p)),(i=c.reporter).$register_listener.apply(i,[f].concat(e.to_a(c.$notifications_for(_))));return((l=c["$duplicate_formatter_exists?"](f))===n||null==l||l.$$is_boolean&&1!=l)&&c.formatters["$<<"](f),f},u.$$arity=-2),x.$private(),e.defn(x,"$find_formatter",c=function(e){var t,r,$=this;return(t=(r=$.$built_in_formatter(e))!==!1&&r!==n&&null!=r?r:$.$custom_formatter(e))!==!1&&t!==n&&null!=t?t:$.$raise(k.get("ArgumentError"),"Formatter '"+e+"' unknown - maybe you meant 'documentation' or 'progress'?.")},c.$$arity=1),e.defn(x,"$duplicate_formatter_exists?",_=function(e){var t,r,$,a=this;return(t=(r=a.formatters)["$any?"],t.$$p=($=function(t){var r;$.$$s||this;return null==t&&(t=n),r=t.$class()["$==="](e),r!==!1&&r!==n&&null!=r?t.$output()["$=="](e.$output()):r},$.$$s=a,$.$$arity=1,$),t).call(r)},_.$$arity=1),e.defn(x,"$existing_formatter_implements?",p=function(e){var t=this;return t.reporter.$registered_listeners(e)["$any?"]()},p.$$arity=1),e.defn(x,"$built_in_formatter",f=function(e){var t=n;return function(){return t=e.$to_s(),"d"["$==="](t)||"doc"["$==="](t)||"documentation"["$==="](t)?k.get("DocumentationFormatter"):"h"["$==="](t)||"html"["$==="](t)?k.get("HtmlFormatter"):"p"["$==="](t)||"progress"["$==="](t)?k.get("ProgressFormatter"):"j"["$==="](t)||"json"["$==="](t)?k.get("JsonFormatter"):n}()},f.$$arity=1),e.defn(x,"$notifications_for",d=function(e){var r,$,a,i=this;return(r=($=e.$ancestors()).$inject,r.$$p=(a=function(e,r){var $,i,o,s=a.$$s||this;return null==e&&(e=n),null==r&&(r=n),t(e,($=(i=k.get("Loader").$formatters()).$fetch,$.$$p=(o=function(){o.$$s||this;return k.get("Set").$new()},o.$$s=s,o.$$arity=0,o),$).call(i,r))},a.$$s=i,a.$$arity=2,a),r).call($,k.get("Set").$new())},d.$$arity=1),e.defn(x,"$custom_formatter",h=function(t){var r,$,a,i=this;if(!((r=k.get("Class")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r))return t;if((r=i["$string_const?"](t))===n||null==r||r.$$is_boolean&&1!=r)return n;try{return(r=($=t.$gsub(/^::/,"").$split("::")).$inject,r.$$p=(a=function(e,t){a.$$s||this;return null==e&&(e=n),null==t&&(t=n),e.$const_get(t)},a.$$s=i,a.$$arity=2,a),r).call($,k.get("Object"))}catch(o){if(!e.rescue(o,[k.get("NameError")]))throw o;try{return(r=i.$require(i.$path_for(t)))===n||null==r||r.$$is_boolean&&1!=r?i.$raise():i.$retry()}finally{e.pop_exception()}}},h.$$arity=1),e.defn(x,"$string_const?",g=function(e){var t;return t=e["$is_a?"](k.get("String")),t!==!1&&t!==n&&null!=t?/\A[A-Z][a-zA-Z0-9_:]*\z/["$=~"](e):t},g.$$arity=1),e.defn(x,"$path_for",m=function(e){var t=this;return t.$underscore_with_fix_for_non_standard_rspec_naming(e)},m.$$arity=1),e.defn(x,"$underscore_with_fix_for_non_standard_rspec_naming",y=function(e){var t=this;return t.$underscore(e).$sub(/(^|\/)r_spec($|\/)/,"\\1rspec\\2")},y.$$arity=1),e.defn(x,"$underscore",v=function(e){var t=n;return t=e.$to_s().$dup(),t["$gsub!"](/::/,"/"),t["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),t["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),t["$tr!"]("-","_"),t["$downcase!"](),t},v.$$arity=1),e.defn(x,"$file_at",b=function(e){return k.get("RSpec").$$scope.get("Support").$$scope.get("DirectoryMaker").$mkdir_p(k.get("File").$dirname(e)),k.get("File").$new(e,"w")},b.$$arity=1),n&&"file_at"}(u.base,null)}(r.get("RSpec").$$scope.get("Core"))},Opal.modules.stringio=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var a=(e.top,e),i=e.nil,o=(e.breaker,e.slice,e.klass),s=e.range;return e.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(a,$super){function l(){}var u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A=l=o(a,$super,"StringIO",l),O=A.$$proto,M=A.$$scope;return O.position=O.string=O.closed=i,A.$include(M.get("IO").$$scope.get("Readable")),A.$include(M.get("IO").$$scope.get("Writable")),e.defs(A,"$open",u=function(e,t){var r=this,n=u.$$p,$=n||i,a=i,o=i;return null==e&&(e=""),null==t&&(t=i),u.$$p=null,a=r.$new(e,t),o=$.$call(a),a.$close(),o},u.$$arity=-1),A.$attr_accessor("string"),e.defn(A,"$initialize",c=function(e,t){var r,n,$=this;return null==e&&(e=""),null==t&&(t="rw"),$.string=e,$.position=e.$length(),n=t["$include?"]("r"),(r=n!==!1&&n!==i&&null!=n?t["$include?"]("w")["$!"]():n)===i||null==r||r.$$is_boolean&&1!=r?(n=t["$include?"]("w"),(r=n!==!1&&n!==i&&null!=n?t["$include?"]("r")["$!"]():n)===i||null==r||r.$$is_boolean&&1!=r?i:$.closed="read"):$.closed="write"},c.$$arity=-1),e.defn(A,"$eof?",_=function(){var e=this;return e.$check_readable(),e.position["$=="](e.string.$length())},_.$$arity=0),e.alias(A,"eof","eof?"),e.defn(A,"$seek",p=function(e,a){var o,s=this,l=i;return null==a&&(a=M.get("IO").$$scope.get("SEEK_SET")),l=a,M.get("IO").$$scope.get("SEEK_SET")["$==="](l)?(((o=t(e,0))===i||null==o||o.$$is_boolean&&1!=o)&&s.$raise(M.get("Errno").$$scope.get("EINVAL")),s.position=e):M.get("IO").$$scope.get("SEEK_CUR")["$==="](l)?(o=r(n(s.position,e),s.string.$length()))===i||null==o||o.$$is_boolean&&1!=o?s.position=n(s.position,e):s.position=s.string.$length():M.get("IO").$$scope.get("SEEK_END")["$==="](l)&&((o=r(e,s.string.$length()))===i||null==o||o.$$is_boolean&&1!=o?s.position=$(s.position,e):s.position=0),0},p.$$arity=-2),e.defn(A,"$tell",f=function(){var e=this;return e.position},f.$$arity=0),e.alias(A,"pos","tell"),e.alias(A,"pos=","seek"),e.defn(A,"$rewind",d=function(){var e=this;return e.$seek(0)},d.$$arity=0),e.defn(A,"$each_byte",h=function(){var e,t=this,r=h.$$p,$=r||i,a=i;if(h.$$p=null,$===!1||$===i||null==$)return t.$enum_for("each_byte");for(t.$check_readable(),a=t.position;(e=t["$eof?"]())===i||null==e||e.$$is_boolean&&1!=e;)$.$call(t.string["$[]"](a).$ord()),a=n(a,1);return t},h.$$arity=0),e.defn(A,"$each_char",g=function(){var e,t=this,r=g.$$p,$=r||i,a=i;if(g.$$p=null,$===!1||$===i||null==$)return t.$enum_for("each_char");for(t.$check_readable(),a=t.position;(e=t["$eof?"]())===i||null==e||e.$$is_boolean&&1!=e;)$.$call(t.string["$[]"](a)),a=n(a,1);return t},g.$$arity=0),e.defn(A,"$write",m=function(e){var t=this,r=i,a=i;return t.$check_writable(),e=t.$String(e),t.string.$length()["$=="](t.position)?(t.string=n(t.string,e),t.position=n(t.position,e.$length())):(r=t.string["$[]"](s(0,$(t.position,1),!1)),a=t.string["$[]"](s(n(t.position,e.$length()),-1,!1)),t.string=n(n(r,e),a),t.position=n(t.position,e.$length()))},m.$$arity=1),e.defn(A,"$read",y=function(e,t){var r,$=this,a=i,o=i;return null==e&&(e=i),null==t&&(t=i),$.$check_readable(),(r=$["$eof?"]())===i||null==r||r.$$is_boolean&&1!=r?(a=function(){return e!==!1&&e!==i&&null!=e?(o=$.string["$[]"]($.position,e),$.position=n($.position,e),o):(o=$.string["$[]"](s($.position,-1,!1)),$.position=$.string.$length(),o)}(),t!==!1&&t!==i&&null!=t?t.$write(a):a):i},y.$$arity=-1),e.defn(A,"$close",v=function(){var e=this;return e.closed="both"},v.$$arity=0),e.defn(A,"$close_read",b=function(){var e=this;return e.closed["$=="]("write")?e.closed="both":e.closed="read"},b.$$arity=0),e.defn(A,"$close_write",x=function(){var e=this;return e.closed["$=="]("read")?e.closed="both":e.closed="write"},x.$$arity=0),e.defn(A,"$closed?",w=function(){var e=this;return e.closed["$=="]("both")},w.$$arity=0),e.defn(A,"$closed_read?",k=function(){var e,t=this;return(e=t.closed["$=="]("read"))!==!1&&e!==i&&null!=e?e:t.closed["$=="]("both")},k.$$arity=0),e.defn(A,"$closed_write?",S=function(){var e,t=this;return(e=t.closed["$=="]("write"))!==!1&&e!==i&&null!=e?e:t.closed["$=="]("both")},S.$$arity=0),e.defn(A,"$check_writable",E=function(){var e,t=this;return(e=t["$closed_write?"]())===i||null==e||e.$$is_boolean&&1!=e?i:t.$raise(M.get("IOError"),"not opened for writing")},E.$$arity=0),e.defn(A,"$check_readable",R=function(){var e,t=this;return(e=t["$closed_read?"]())===i||null==e||e.$$is_boolean&&1!=e?i:t.$raise(M.get("IOError"),"not opened for reading")},R.$$arity=0),i&&"check_readable"}(a.base,a.get("IO"))},Opal.modules["rspec/core/formatters/base_formatter"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_accessor","$attr_reader","$new","$start_sync_output","$count","$group","$restore_sync_output","$private","$output_supports_sync","$sync","$output","$sync=","$!","$closed?","$respond_to?"]),r.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),t.$require("stringio"),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Formatters"),o=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var $,i,o,s,l,u,c,_=r=a(t,$super,"BaseFormatter",r),p=_.$$proto,f=_.$$scope;return p.old_sync=n,f.get("Formatters").$register(_,"start","example_group_started","close"),_.$attr_accessor("example_group"),_.$attr_reader("output"),e.defn(_,"$initialize",$=function(e){var t,r=this;return r.output=(t=e)!==!1&&t!==n&&null!=t?t:f.get("StringIO").$new(),r.example_group=n},$.$$arity=1),e.defn(_,"$start",i=function(e){var t=this;return t.$start_sync_output(),t.example_count=e.$count()},i.$$arity=1),e.defn(_,"$example_group_started",o=function(e){var t=this;return t.example_group=e.$group()},o.$$arity=1),e.defn(_,"$close",s=function(){var e=this;return e.$restore_sync_output()},s.$$arity=1),_.$private(),e.defn(_,"$start_sync_output",l=function(){var e,t=this;return(e=t.$output_supports_sync())===n||null==e||e.$$is_boolean&&1!=e?n:(e=[t.$output().$sync(),!0],t.old_sync=e[0],t.$output()["$sync="](e[1]),e)},l.$$arity=0),e.defn(_,"$restore_sync_output",u=function(){var e,t,r=this;return t=r.$output_supports_sync(),(e=t!==!1&&t!==n&&null!=t?r.$output()["$closed?"]()["$!"]():t)===n||null==e||e.$$is_boolean&&1!=e?n:(e=[r.old_sync],t=r.$output(),t["$sync="].apply(t,e),e[e.length-1])},u.$$arity=0),e.defn(_,"$output_supports_sync",c=function(){var e=this;return e.$output()["$respond_to?"]("sync=")},c.$$arity=0),n&&"output_supports_sync"}(o.base,null)}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/core/formatters/base_text_formatter"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.gvars;return e.add_stubs(["$require_rspec_core","$register","$puts","$output","$message","$empty?","$failure_notifications","$fully_formatted_failed_examples","$fully_formatted","$pending_examples","$fully_formatted_pending_examples","$seed_used?","$===","$closed?","$==","$close"]),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/base_formatter"),t.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/console_codes"),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Formatters"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_=n=$(t,$super,"BaseTextFormatter",n),p=(_.$$proto,_.$$scope);return p.get("Formatters").$register(_,"message","dump_summary","dump_failures","dump_pending","seed"),e.defn(_,"$message",i=function(e){var t=this;return t.$output().$puts(e.$message())},i.$$arity=1),e.defn(_,"$dump_failures",o=function(e){var t,n=this;return(t=e.$failure_notifications()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?n.$output().$puts(e.$fully_formatted_failed_examples()):r},o.$$arity=1),e.defn(_,"$dump_summary",s=function(e){var t=this;return t.$output().$puts(e.$fully_formatted())},s.$$arity=1),e.defn(_,"$dump_pending",l=function(e){var t,n=this;return(t=e.$pending_examples()["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?n.$output().$puts(e.$fully_formatted_pending_examples()):r},l.$$arity=1),e.defn(_,"$seed",u=function(e){var t,n=this;return(t=e["$seed_used?"]())===r||null==t||t.$$is_boolean&&1!=t?r:n.$output().$puts(e.$fully_formatted())},u.$$arity=1),e.defn(_,"$close",c=function(){var e,t,n=this;return null==a.stdout&&(a.stdout=r),(e=p.get("IO")["$==="](n.$output()))===r||null==e||e.$$is_boolean&&1!=e?r:(e=(t=n.$output()["$closed?"]())!==!1&&t!==r&&null!=t?t:n.$output()["$=="](a.stdout))===r||null==e||e.$$is_boolean&&1!=e?n.$output().$close():r},c.$$arity=1),r&&"close"}(s.base,s.get("BaseFormatter"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/formatters/console_codes"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$invert","$module_function","$respond_to?","$configuration","$to_s","$console_code_for","$configuration_color","$key?","$fetch","$color_enabled?","$__send__"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Formatters"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s,l=a=n(t,"ConsoleCodes"),u=(l.$$proto,l.$$scope);e.cdecl(u,"VT100_CODES",$(["black","red","green","yellow","blue","magenta","cyan","white","bold"],{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,bold:1})),e.cdecl(u,"VT100_CODE_VALUES",u.get("VT100_CODES").$invert()),l.$module_function(),e.defn(l,"$console_code_for",i=function(e){var t,n,$,a=this;return(t=u.get("RSpec").$configuration()["$respond_to?"](""+e.$to_s()+"_color"))===r||null==t||t.$$is_boolean&&1!=t?(t=u.get("VT100_CODE_VALUES")["$key?"](e))===r||null==t||t.$$is_boolean&&1!=t?(t=(n=u.get("VT100_CODES")).$fetch,t.$$p=($=function(){var e=$.$$s||this;return e.$console_code_for("white")},$.$$s=a,$.$$arity=0,$),t).call(n,e):e:a.$console_code_for(a.$configuration_color(e))},i.$$arity=1),e.defn(l,"$wrap",o=function(e,t){var n,$=this;return(n=u.get("RSpec").$configuration()["$color_enabled?"]())===r||null==n||n.$$is_boolean&&1!=n?e:"e["+$.$console_code_for(t)+"m"+e+"e[0m"},o.$$arity=2),e.defn(l,"$configuration_color",s=function(e){return u.get("RSpec").$configuration().$__send__(""+e.$to_s()+"_color")},s.$$arity=1)}(o.base)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var a=e.top,i=e,o=e.nil,s=(e.breaker,e.slice,e.module),l=e.klass;return e.add_stubs(["$require_rspec_core","$require","$register","$attr_reader","$new","$deprecation_stream","$===","$summary_stream","$include?","$+","$print_deprecation_message","$printer","$<<","$deprecation_summary","$message","$gsub","$deprecation_type_for","$output_formatted","$private","$>","$count","$lines","$*","$chomp","$deprecated","$replacement","$call_site","$type","$deprecation_message_for","$deprecation_formatter","$puts","$to_s","$zero?","$summarize","$[]=","$[]","$stash_deprecation_message","$<","$==","$too_many_warnings_message","$any?","$print_deferred_deprecation_warnings","$pluralize","$each","$sort_by","$to_proc","$keys","$raise","$sync=","$path"]),
i.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),a.$require("set"),function(a){var i,u=i=s(a,"RSpec"),c=(u.$$proto,u.$$scope);!function(a){var i,u=i=s(a,"Core"),c=(u.$$proto,u.$$scope);!function(a){var i,u=i=s(a,"Formatters"),c=(u.$$proto,u.$$scope);!function(a,$super){function i(){}var s,u,c,_,p,f,d,h,g,m,y=i=l(a,$super,"DeprecationFormatter",i),v=y.$$proto,b=y.$$scope;return v.printer=v.seen_deprecations=v.count=o,b.get("Formatters").$register(y,"deprecation","deprecation_summary"),y.$attr_reader("count","deprecation_stream","summary_stream"),e.defn(y,"$initialize",s=function(e,t){var r=this;return r.deprecation_stream=e,r.summary_stream=t,r.seen_deprecations=b.get("Set").$new(),r.count=0},s.$$arity=2),e.alias(y,"output","deprecation_stream"),e.defn(y,"$printer",u=function(){var e,t=this,r=o;return(e=t.printer)!==!1&&e!==o&&null!=e?e:t.printer=function(){return r=t.$deprecation_stream(),b.get("File")["$==="](r)?b.get("ImmediatePrinter").$new(b.get("FileStream").$new(t.$deprecation_stream()),t.$summary_stream(),t):b.get("RaiseErrorStream")["$==="](r)?b.get("ImmediatePrinter").$new(t.$deprecation_stream(),t.$summary_stream(),t):b.get("DelayedPrinter").$new(t.$deprecation_stream(),t.$summary_stream(),t)}()},u.$$arity=0),e.defn(y,"$deprecation",c=function(e){var r,n=this;return(r=n.seen_deprecations["$include?"](e))===o||null==r||r.$$is_boolean&&1!=r?(n.count=t(n.count,1),n.$printer().$print_deprecation_message(e),n.seen_deprecations["$<<"](e)):o},c.$$arity=1),e.defn(y,"$deprecation_summary",_=function(){var e=this;return e.$printer().$deprecation_summary()},_.$$arity=1),e.defn(y,"$deprecation_message_for",p=function(e){var t;return(t=e.$message())===o||null==t||t.$$is_boolean&&1!=t?b.get("GeneratedDeprecationMessage").$new(e):b.get("SpecifiedDeprecationMessage").$new(e)},p.$$arity=1),e.cdecl(b,"RAISE_ERROR_CONFIG_NOTICE","          |\n          |If you need more of the backtrace for any of these deprecations to\n          |identify where to make the necessary changes, you can configure\n          |`config.raise_errors_for_deprecations!`, and it will turn the\n          |deprecation warnings into errors, giving you the full backtrace.\n".$gsub(/^\s+\|/,"")),e.cdecl(b,"DEPRECATION_STREAM_NOTICE","Pass `--deprecation-out` or set `config.deprecation_stream` to a file for full output."),e.cdecl(b,"SpecifiedDeprecationMessage",(f=(d=b.get("Struct")).$new,f.$$p=(h=function(){var t,$,a,i,s,l=h.$$s||this;return e.def(l,"$initialize",t=function(r){var n,$,a=this;t.$$p;return t.$$p=null,a.message=r.$message(),($=a,n=e.find_super_dispatcher(a,"initialize",t,!1),n.$$p=null,n).call($,a.$deprecation_type_for(r))},t.$$arity=1),e.def(l,"$to_s",$=function(){var e=this;return null==e.message&&(e.message=o),e.$output_formatted(e.message)},$.$$arity=0),e.def(l,"$too_many_warnings_message",a=function(){var e=o;return e="Too many similar deprecation messages reported, disregarding further reports. ",e["$<<"](b.get("DEPRECATION_STREAM_NOTICE")),e},a.$$arity=0),l.$private(),e.def(l,"$output_formatted",i=function(e){var t,$=o;return(t=r(e.$lines().$count(),1))===o||null==t||t.$$is_boolean&&1!=t?e:($=""+n("-",80),""+$+"\n"+e.$chomp()+"\n"+$)},i.$$arity=1),e.def(l,"$deprecation_type_for",s=function(e){return e.$message().$gsub(/(\w+\/)+\w+\.rb:\d+/,"")},s.$$arity=1),o&&"deprecation_type_for"},h.$$s=y,h.$$arity=0,h),f).call(d,"type")),e.cdecl(b,"GeneratedDeprecationMessage",(f=(g=b.get("Struct")).$new,f.$$p=(m=function(){var t,r,n,$=m.$$s||this;return e.def($,"$initialize",t=function(r){var n,$,a=this;t.$$p;return t.$$p=null,a.data=r,($=a,n=e.find_super_dispatcher(a,"initialize",t,!1),n.$$p=null,n).call($,r.$deprecated())},t.$$arity=1),e.def($,"$to_s",r=function(){var e,t=this,r=o;return null==t.data&&(t.data=o),r=""+t.data.$deprecated()+" is deprecated.",(e=t.data.$replacement())===o||null==e||e.$$is_boolean&&1!=e||r["$<<"](" Use "+t.data.$replacement()+" instead."),(e=t.data.$call_site())===o||null==e||e.$$is_boolean&&1!=e||r["$<<"](" Called from "+t.data.$call_site()+"."),r},r.$$arity=0),e.def($,"$too_many_warnings_message",n=function(){var e=this,t=o;return t="Too many uses of deprecated '"+e.$type()+"'. ",t["$<<"](b.get("DEPRECATION_STREAM_NOTICE")),t},n.$$arity=0),o&&"too_many_warnings_message"},m.$$s=y,m.$$arity=0,m),f).call(g,"type")),function(t,$super){function r(){}var n,$,a,i=r=l(t,$super,"ImmediatePrinter",r);i.$$proto,i.$$scope;return i.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(i,"$initialize",n=function(e,t,r){var n=this;return n.deprecation_stream=e,n.summary_stream=t,n.deprecation_formatter=r},n.$$arity=3),e.defn(i,"$print_deprecation_message",$=function(e){var t=this,r=o;return r=t.$deprecation_formatter().$deprecation_message_for(e),t.$deprecation_stream().$puts(r.$to_s())},$.$$arity=1),e.defn(i,"$deprecation_summary",a=function(){var e,t=this;return(e=t.$deprecation_formatter().$count()["$zero?"]())===o||null==e||e.$$is_boolean&&1!=e?t.$deprecation_stream().$summarize(t.$summary_stream(),t.$deprecation_formatter().$count()):o},a.$$arity=0),o&&"deprecation_summary"}(b.base,null),function(r,$super){function n(){}var a,i,s,u,c,_=n=l(r,$super,"DelayedPrinter",n),p=_.$$proto,f=_.$$scope;return p.seen_deprecations=p.deprecation_messages=o,e.cdecl(f,"TOO_MANY_USES_LIMIT",4),_.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),e.defn(_,"$initialize",a=function(e,t,r){var n,$,a,i,s,l=this;return l.deprecation_stream=e,l.summary_stream=t,l.deprecation_formatter=r,l.seen_deprecations=(n=($=f.get("Hash")).$new,n.$$p=(a=function(){a.$$s||this;return 0},a.$$s=l,a.$$arity=0,a),n).call($),l.deprecation_messages=(n=(i=f.get("Hash")).$new,n.$$p=(s=function(e,t){s.$$s||this;return null==e&&(e=o),null==t&&(t=o),e["$[]="](t,[])},s.$$s=l,s.$$arity=2,s),n).call(i)},a.$$arity=3),e.defn(_,"$print_deprecation_message",i=function(e){var r,n,$=this,a=o;return a=$.$deprecation_formatter().$deprecation_message_for(e),r=a,n=$.seen_deprecations,n["$[]="](r,t(n["$[]"](r),1)),$.$stash_deprecation_message(a)},i.$$arity=1),e.defn(_,"$stash_deprecation_message",s=function(e){var t,r=this;return(t=$(r.seen_deprecations["$[]"](e),f.get("TOO_MANY_USES_LIMIT")))===o||null==t||t.$$is_boolean&&1!=t?r.seen_deprecations["$[]"](e)["$=="](f.get("TOO_MANY_USES_LIMIT"))?r.deprecation_messages["$[]"](e)["$<<"](e.$too_many_warnings_message()):o:r.deprecation_messages["$[]"](e)["$<<"](e.$to_s())},s.$$arity=1),e.defn(_,"$deprecation_summary",u=function(){var e,t=this;return(e=t.deprecation_messages["$any?"]())===o||null==e||e.$$is_boolean&&1!=e?o:(t.$print_deferred_deprecation_warnings(),t.$deprecation_stream().$puts(f.get("RAISE_ERROR_CONFIG_NOTICE")),t.$summary_stream().$puts("\n"+f.get("Helpers").$pluralize(t.$deprecation_formatter().$count(),"deprecation warning")+" total"))},u.$$arity=0),e.defn(_,"$print_deferred_deprecation_warnings",c=function(){var e,t,r,n,$,a=this;return a.$deprecation_stream().$puts("\nDeprecation Warnings:\n\n"),(e=(t=(n=($=a.deprecation_messages.$keys()).$sort_by,n.$$p="type".$to_proc(),n).call($)).$each,e.$$p=(r=function(e){var t,n,$,a=r.$$s||this,i=o;return null==a.deprecation_messages&&(a.deprecation_messages=o),null==e&&(e=o),i=a.deprecation_messages["$[]"](e),(t=(n=i).$each,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=o),t.$deprecation_stream().$puts(e)},$.$$s=a,$.$$arity=1,$),t).call(n),a.$deprecation_stream().$puts()},r.$$s=a,r.$$arity=1,r),e).call(t)},c.$$arity=0),o&&"print_deferred_deprecation_warnings"}(b.base,null),function(t,$super){function r(){}var n,$,a=r=l(t,$super,"RaiseErrorStream",r),i=(a.$$proto,a.$$scope);return e.defn(a,"$puts",n=function(e){var t=this;return t.$raise(i.get("DeprecationError"),e)},n.$$arity=1),e.defn(a,"$summarize",$=function(e,t){return e.$puts("\n"+i.get("Helpers").$pluralize(t,"deprecation")+" found.")},$.$$arity=2),o&&"summarize"}(b.base,null),function(t,$super){function r(){}var n,$,a,i=r=l(t,$super,"FileStream",r),s=i.$$proto,u=i.$$scope;return s.file=o,e.defn(i,"$initialize",n=function(e){var t,r,n=this;return n.file=e,t=[!0],r=n.file,r["$sync="].apply(r,t),t[t.length-1]},n.$$arity=1),e.defn(i,"$puts",$=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n.file).$puts.apply(t,e.to_a(r))},$.$$arity=-1),e.defn(i,"$summarize",a=function(e,t){var r=this;return e.$puts("\n"+u.get("Helpers").$pluralize(t,"deprecation")+" logged to "+r.file.$path()),r.$puts(u.get("RAISE_ERROR_CONFIG_NOTICE"))},a.$$arity=2),o&&"summarize"}(b.base,null)}(c.base,null)}(c.base),e.cdecl(c,"DeprecationError",c.get("Class").$new(c.get("StandardError")))}(c.base)}(i.base)},Opal.modules["rspec/core/formatters/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var i=(e.top,e),o=e.nil,s=(e.breaker,e.slice,e.module);return e.add_stubs(["$<","$>","$to_i","$/","$-","$*","$pluralize","$format_seconds","$%","$strip_trailing_zeroes","$sub","$empty?","$private_class_method","$==","$to_f"]),function(i){var l,u=l=s(i,"RSpec"),c=(u.$$proto,u.$$scope);!function(i){var l,u=l=s(i,"Core"),c=(u.$$proto,u.$$scope);!function(i){var l,u=l=s(i,"Formatters"),c=(u.$$proto,u.$$scope);!function(i){var l,u,c,_,p,f=l=s(i,"Helpers"),d=(f.$$proto,f.$$scope);e.cdecl(d,"SUB_SECOND_PRECISION",5),e.cdecl(d,"DEFAULT_PRECISION",2),e.defs(f,"$format_duration",u=function(e){var i,s=this,l=o,u=o,c=o;return l=function(){return(i=t(e,1))===o||null==i||i.$$is_boolean&&1!=i?(i=t(e,120))===o||null==i||i.$$is_boolean&&1!=i?(i=t(e,300))===o||null==i||i.$$is_boolean&&1!=i?0:1:d.get("DEFAULT_PRECISION"):d.get("SUB_SECOND_PRECISION")}(),(i=r(e,60))===o||null==i||i.$$is_boolean&&1!=i?s.$pluralize(s.$format_seconds(e,l),"second"):(u=n(e.$to_i(),60).$to_i(),c=$(e,a(u,60)),""+s.$pluralize(u,"minute")+" "+s.$pluralize(s.$format_seconds(c,l),"second"))},u.$$arity=1),e.defs(f,"$format_seconds",c=function(e,r){var n,$,a=this,i=o;return null==r&&(r=o),(n=r)!==!1&&n!==o&&null!=n?n:r=function(){return($=t(e,1))===o||null==$||$.$$is_boolean&&1!=$?d.get("DEFAULT_PRECISION"):d.get("SUB_SECOND_PRECISION")}(),i=("%."+r+"f")["$%"](e),a.$strip_trailing_zeroes(i)},c.$$arity=-2),e.defs(f,"$strip_trailing_zeroes",_=function(e){var t,r=o;return r=e.$sub(/[^1-9]+$/,""),(t=r["$empty?"]())===o||null==t||t.$$is_boolean&&1!=t?r:"0"},_.$$arity=1),f.$private_class_method("strip_trailing_zeroes"),e.defs(f,"$pluralize",p=function(e,t){return""+e+" "+t+function(){return e.$to_f()["$=="](1)?o:"s"}()},p.$$arity=2)}(c.base)}(c.base)}(c.base)}(i.base)},Opal.modules["rspec/core/formatters/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,a=e,i=e.nil,o=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$require","$include","$puts","$indentation_style","$h","$%","$[]","$==","$<<","$>","$flush","$private","$*","$-"]),$.$require("erb"),function($){var a,l=a=o($,"RSpec"),u=(l.$$proto,l.$$scope);!function($){var a,l=a=o($,"Core"),u=(l.$$proto,l.$$scope);!function($){var a,l=a=o($,"Formatters"),u=(l.$$proto,l.$$scope);!function($,$super){function a(){}var o,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=a=s($,$super,"HtmlPrinter",a),k=w.$$proto,S=w.$$scope;return k.output=i,w.$include(S.get("ERB").$$scope.get("Util")),e.defn(w,"$initialize",o=function(e){var t=this;return t.output=e},o.$$arity=1),e.defn(w,"$print_html_start",l=function(){var e=this;return e.output.$puts(S.get("HTML_HEADER")),e.output.$puts(S.get("REPORT_HEADER"))},l.$$arity=0),e.defn(w,"$print_example_group_end",u=function(){var e=this;return e.output.$puts("  </dl>"),e.output.$puts("</div>")},u.$$arity=0),e.defn(w,"$print_example_group_start",c=function(e,t,r){var n=this;return n.output.$puts('<div id="div_group_'+e+'" class="example_group passed">'),n.output.$puts("  <dl "+n.$indentation_style(r)+">"),n.output.$puts('  <dt id="example_group_'+e+'" class="passed">'+n.$h(t)+"</dt>")},c.$$arity=3),e.defn(w,"$print_example_passed",_=function(e,t){var r=this,n=i;return n="%.5f"["$%"](t),r.output.$puts('    <dd class="example passed"><span class="passed_spec_name">'+r.$h(e)+"</span><span class='duration'>"+n+"s</span></dd>")},_.$$arity=2),e.defn(w,"$print_example_failed",p=function(e,t,r,n,$,a,o){var s=this,l=i;return null==o&&(o=!1),l="%.5f"["$%"](r),s.output.$puts('    <dd class="example '+function(){return e!==!1&&e!==i&&null!=e?"pending_fixed":"failed"}()+'">'),s.output.$puts('      <span class="failed_spec_name">'+s.$h(t)+"</span>"),s.output.$puts('      <span class="duration">'+l+"s</span>"),s.output.$puts('      <div class="failure" id="failure_'+n+'">'),$!==!1&&$!==i&&null!=$&&(s.output.$puts('        <div class="message"><pre>'+s.$h($["$[]"]("message"))+"</pre></div>"),o!==!1&&o!==i&&null!=o?s.output.$puts('        <div class="backtrace"><pre>'+s.$h($["$[]"]("backtrace"))+"</pre></div>"):s.output.$puts('        <div class="backtrace"><pre>'+$["$[]"]("backtrace")+"</pre></div>")),a!==!1&&a!==i&&null!=a&&s.output.$puts(a),s.output.$puts("      </div>"),s.output.$puts("    </dd>")},p.$$arity=-7),e.defn(w,"$print_example_pending",f=function(e,t){var r=this;return r.output.$puts('    <dd class="example not_implemented"><span class="not_implemented_spec_name">'+r.$h(e)+" (PENDING: "+r.$h(t)+")</span></dd>")},f.$$arity=2),e.defn(w,"$print_summary",d=function(e,r,n,$){var a,o=this,s=i,l=i;return s=""+r+" example"+function(){return r["$=="](1)?i:"s"}()+", ",s["$<<"](""+n+" failure"+function(){return n["$=="](1)?i:"s"}()),(a=t($,0))===i||null==a||a.$$is_boolean&&1!=a||s["$<<"](", "+$+" pending"),l="%.5f"["$%"](e),o.output.$puts('<script type="text/javascript">document.getElementById(\'duration\').innerHTML = "Finished in <strong>'+l+' seconds</strong>";</script>'),o.output.$puts('<script type="text/javascript">document.getElementById(\'totals\').innerHTML = "'+s+'";</script>'),o.output.$puts("</div>"),o.output.$puts("</div>"),o.output.$puts("</body>"),o.output.$puts("</html>")},d.$$arity=4),e.defn(w,"$flush",h=function(){var e=this;return e.output.$flush()},h.$$arity=0),e.defn(w,"$move_progress",g=function(e){var t=this;return t.output.$puts('    <script type="text/javascript">moveProgressBar(\''+e+"');</script>"),t.output.$flush()},g.$$arity=1),e.defn(w,"$make_header_red",m=function(){var e=this;return e.output.$puts("    <script type=\"text/javascript\">makeRed('rspec-header');</script>")},m.$$arity=0),e.defn(w,"$make_header_yellow",y=function(){var e=this;return e.output.$puts("    <script type=\"text/javascript\">makeYellow('rspec-header');</script>")},y.$$arity=0),e.defn(w,"$make_example_group_header_red",v=function(e){var t=this;return t.output.$puts('    <script type="text/javascript">makeRed(\'div_group_'+e+"');</script>"),t.output.$puts('    <script type="text/javascript">makeRed(\'example_group_'+e+"');</script>")},v.$$arity=1),e.defn(w,"$make_example_group_header_yellow",b=function(e){var t=this;return t.output.$puts('    <script type="text/javascript">makeYellow(\'div_group_'+e+"');</script>"),t.output.$puts('    <script type="text/javascript">makeYellow(\'example_group_'+e+"');</script>")},b.$$arity=1),w.$private(),e.defn(w,"$indentation_style",x=function(e){return'style="margin-left: '+r(n(e,1),15)+'px;"'},x.$$arity=1),e.cdecl(S,"REPORT_HEADER",'<div class="rspec-report">\n\n<div id="rspec-header">\n  <div id="label">\n    <h1>RSpec Code Examples</h1>\n  </div>\n\n  <div id="display-filters">\n    <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>\n    <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>\n    <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>\n  </div>\n\n  <div id="summary">\n    <p id="totals">&#160;</p>\n    <p id="duration">&#160;</p>\n  </div>\n</div>\n\n\n<div class="results">\n'),e.cdecl(S,"GLOBAL_SCRIPTS","\nfunction addClass(element_id, classname) {\n  document.getElementById(element_id).className += (\" \" + classname);\n}\n\nfunction removeClass(element_id, classname) {\n  var elem = document.getElementById(element_id);\n  var classlist = elem.className.replace(classname,'');\n  elem.className = classlist;\n}\n\nfunction moveProgressBar(percentDone) {\n  document.getElementById(\"rspec-header\").style.width = percentDone +\"%\";\n}\n\nfunction makeRed(element_id) {\n  removeClass(element_id, 'passed');\n  removeClass(element_id, 'not_implemented');\n  addClass(element_id,'failed');\n}\n\nfunction makeYellow(element_id) {\n  var elem = document.getElementById(element_id);\n  if (elem.className.indexOf(\"failed\") == -1) {  // class doesn't includes failed\n    if (elem.className.indexOf(\"not_implemented\") == -1) { // class doesn't include not_implemented\n      removeClass(element_id, 'passed');\n      addClass(element_id,'not_implemented');\n    }\n  }\n}\n\nfunction apply_filters() {\n  var passed_filter = document.getElementById('passed_checkbox').checked;\n  var failed_filter = document.getElementById('failed_checkbox').checked;\n  var pending_filter = document.getElementById('pending_checkbox').checked;\n\n  assign_display_style(\"example passed\", passed_filter);\n  assign_display_style(\"example failed\", failed_filter);\n  assign_display_style(\"example not_implemented\", pending_filter);\n\n  assign_display_style_for_group(\"example_group passed\", passed_filter);\n  assign_display_style_for_group(\"example_group not_implemented\", pending_filter, pending_filter || passed_filter);\n  assign_display_style_for_group(\"example_group failed\", failed_filter, failed_filter || pending_filter || passed_filter);\n}\n\nfunction get_display_style(display_flag) {\n  var style_mode = 'none';\n  if (display_flag == true) {\n    style_mode = 'block';\n  }\n  return style_mode;\n}\n\nfunction assign_display_style(classname, display_flag) {\n  var style_mode = get_display_style(display_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    elems[i].style.display = style_mode;\n  }\n}\n\nfunction assign_display_style_for_group(classname, display_flag, subgroup_flag) {\n  var display_style_mode = get_display_style(display_flag);\n  var subgroup_style_mode = get_display_style(subgroup_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    var style_mode = display_style_mode;\n    if ((display_flag != subgroup_flag) && (elems[i].getElementsByTagName('dt')[0].innerHTML.indexOf(\", \") != -1)) {\n      elems[i].style.display = subgroup_style_mode;\n    } else {\n      elems[i].style.display = display_style_mode;\n    }\n  }\n}\n"),e.cdecl(S,"GLOBAL_STYLES",'#rspec-header {\n  background: #65C400; color: #fff; height: 4em;\n}\n\n.rspec-report h1 {\n  margin: 0px 10px 0px 10px;\n  padding: 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  font-size: 1.8em;\n  position: absolute;\n}\n\n#label {\n  float:left;\n}\n\n#display-filters {\n  float:left;\n  padding: 28px 0 0 40%;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n}\n\n#summary {\n  float:right;\n  padding: 5px 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  text-align: right;\n}\n\n#summary p {\n  margin: 0 0 0 2px;\n}\n\n#summary #totals {\n  font-size: 1.2em;\n}\n\n.example_group {\n  margin: 0 10px 5px;\n  background: #fff;\n}\n\ndl {\n  margin: 0; padding: 0 0 5px;\n  font: normal 11px "Lucida Grande", Helvetica, sans-serif;\n}\n\ndt {\n  padding: 3px;\n  background: #65C400;\n  color: #fff;\n  font-weight: bold;\n}\n\ndd {\n  margin: 5px 0 5px 5px;\n  padding: 3px 3px 3px 18px;\n}\n\ndd .duration {\n  padding-left: 5px;\n  text-align: right;\n  right: 0px;\n  float:right;\n}\n\ndd.example.passed {\n  border-left: 5px solid #65C400;\n  border-bottom: 1px solid #65C400;\n  background: #DBFFB4; color: #3D7700;\n}\n\ndd.example.not_implemented {\n  border-left: 5px solid #FAF834;\n  border-bottom: 1px solid #FAF834;\n  background: #FCFB98; color: #131313;\n}\n\ndd.example.pending_fixed {\n  border-left: 5px solid #0000C2;\n  border-bottom: 1px solid #0000C2;\n  color: #0000C2; background: #D3FBFF;\n}\n\ndd.example.failed {\n  border-left: 5px solid #C20000;\n  border-bottom: 1px solid #C20000;\n  color: #C20000; background: #FFFBD3;\n}\n\n\ndt.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\ndt.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\ndt.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n#rspec-header.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\n#rspec-header.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n#rspec-header.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n.backtrace {\n  color: #000;\n  font-size: 12px;\n}\n\na {\n  color: #BE5C00;\n}\n\n/* Ruby code, style similar to vibrant ink */\n.ruby {\n  font-size: 12px;\n  font-family: monospace;\n  color: white;\n  background-color: black;\n  padding: 0.1em 0 0.2em 0;\n}\n\n.ruby .keyword { color: #FF6600; }\n.ruby .constant { color: #339999; }\n.ruby .attribute { color: white; }\n.ruby .global { color: white; }\n.ruby .module { color: white; }\n.ruby .class { color: white; }\n.ruby .string { color: #66FF00; }\n.ruby .ident { color: white; }\n.ruby .method { color: #FFCC00; }\n.ruby .number { color: white; }\n.ruby .char { color: white; }\n.ruby .comment { color: #9933CC; }\n.ruby .symbol { color: white; }\n.ruby .regex { color: #44B4CC; }\n.ruby .punct { color: white; }\n.ruby .escape { color: white; }\n.ruby .interp { color: white; }\n.ruby .expr { color: white; }\n\n.ruby .offending { background-color: gray; }\n.ruby .linenum {\n  width: 75px;\n  padding: 0.1em 1em 0.2em 0;\n  color: #000000;\n  background-color: #FFFBD3;\n}\n'),e.cdecl(S,"HTML_HEADER",'<!DOCTYPE html>\n<html lang=\'en\'>\n<head>\n  <title>RSpec results</title>\n  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n  <meta http-equiv="Expires" content="-1" />\n  <meta http-equiv="Pragma" content="no-cache" />\n  <style type="text/css">\n  body {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    font-size: 80%;\n  }\n  </style>\n  <script type="text/javascript">\n    // <![CDATA[\n'+S.get("GLOBAL_SCRIPTS")+'\n    // ]]>\n  </script>\n  <style type="text/css">\n'+S.get("GLOBAL_STYLES")+"\n  </style>\n</head>\n<body>\n")}(u.base,null)}(u.base)}(u.base)}(a.base)},Opal.modules["rspec/core/hooks"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$register","$to_proc","$hooks","$alias_method","$new","$private","$attr_reader","$all_apply?","$options","$instance_exec","$block","$instance_exec_with_rescue","$message","$reporter","$configuration","$class","$first","$backtrace","$executed?","$mark_skipped!","$hook_description","$method_defined?","$relative_path","$join","$source_location","$each","$define_method","$__send__","$public_instance_methods","$protected","$with","$select","$options_apply?","$run","$call","$inject","$wrap","$execute_with","$empty?","$shift","$[]","$process","$for","$flat_map","$parent_groups","$scope_and_options_from","$dry_run?","$find_hook","$[]=","$==","$any?","$include?","$<<","$extract_scope_from","$build_hash_from","$known_scope?","$normalized_scope_for","$is_a?","$keys","$raise","$===","$before_context_hooks_for","$after_context_hooks_for","$around_example_hooks_for","$before_example_hooks_for","$after_example_hooks_for","$reverse"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t){var i,o,s,l,u,c,_,p=i=n(t,"Hooks"),f=(p.$$proto,p.$$scope);e.defn(p,"$before",o=function(){var t,n,$,a=this,i=o.$$p,s=i||r,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return o.$$p=null,(t=(n=a.$hooks()).$register,t.$$p=s.$to_proc(),t).apply(n,["append","before"].concat(e.to_a($)))},o.$$arity=-1),p.$alias_method("append_before","before"),e.defn(p,"$prepend_before",s=function(){var t,n,$,a=this,i=s.$$p,o=i||r,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return s.$$p=null,(t=(n=a.$hooks()).$register,t.$$p=o.$to_proc(),t).apply(n,["prepend","before"].concat(e.to_a($)))},s.$$arity=-1),e.defn(p,"$after",l=function(){var t,n,$,a=this,i=l.$$p,o=i||r,s=arguments.length,u=s-0;0>u&&(u=0),$=new Array(u);for(var c=0;s>c;c++)$[c-0]=arguments[c];return l.$$p=null,(t=(n=a.$hooks()).$register,t.$$p=o.$to_proc(),t).apply(n,["prepend","after"].concat(e.to_a($)))},l.$$arity=-1),p.$alias_method("prepend_after","after"),e.defn(p,"$append_after",u=function(){var t,n,$,a=this,i=u.$$p,o=i||r,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var c=0;s>c;c++)$[c-0]=arguments[c];return u.$$p=null,(t=(n=a.$hooks()).$register,t.$$p=o.$to_proc(),t).apply(n,["append","after"].concat(e.to_a($)))},u.$$arity=-1),e.defn(p,"$around",c=function(){var t,n,$,a=this,i=c.$$p,o=i||r,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var u=0;s>u;u++)$[u-0]=arguments[u];return c.$$p=null,(t=(n=a.$hooks()).$register,t.$$p=o.$to_proc(),t).apply(n,["prepend","around"].concat(e.to_a($)))},c.$$arity=-1),e.defn(p,"$hooks",_=function(){var e,t=this;return null==t.hooks&&(t.hooks=r),(e=t.hooks)!==!1&&e!==r&&null!=e?e:t.hooks=f.get("HookCollections").$new(t,$(["around","before","after"],{around:$(["example"],{example:f.get("AroundHookCollection").$new()}),before:$(["example","context","suite"],{example:f.get("HookCollection").$new(),context:f.get("HookCollection").$new(),suite:f.get("HookCollection").$new()}),after:$(["example","context","suite"],{example:f.get("HookCollection").$new(),context:f.get("HookCollection").$new(),suite:f.get("HookCollection").$new()})}))},_.$$arity=0),p.$private(),function(t,$super){function n(){}var $,i,o=n=a(t,$super,"Hook",n);o.$$proto,o.$$scope;return o.$attr_reader("block","options"),e.defn(o,"$initialize",$=function(e,t){var r=this;return r.block=e,r.options=t},$.$$arity=2),e.defn(o,"$options_apply?",i=function(e){var t=this;return e["$all_apply?"](t.$options())},i.$$arity=1),r&&"options_apply?"}(f.base,null),function(t,$super){function n(){}var $,i=n=a(t,$super,"BeforeHook",n);i.$$proto,i.$$scope;return e.defn(i,"$run",$=function(e){var t,r,n=this;return(t=(r=e).$instance_exec,t.$$p=n.$block().$to_proc(),t).call(r,e)},$.$$arity=1),r&&"run"}(f.base,f.get("Hook")),function(t,$super){function n(){}var $,i=n=a(t,$super,"AfterHook",n);i.$$proto,i.$$scope;return e.defn(i,"$run",$=function(e){var t,r,n=this;return(t=(r=e).$instance_exec_with_rescue,t.$$p=n.$block().$to_proc(),t).call(r,"in an after hook")},$.$$arity=1),r&&"run"}(f.base,f.get("Hook")),function(t,$super){function n(){}var $,i=n=a(t,$super,"AfterContextHook",n),o=(i.$$proto,i.$$scope);return e.defn(i,"$run",$=function(t){var n,$,a=this,i=r;try{return(n=($=t).$instance_exec,n.$$p=a.$block().$to_proc(),n).call($,t)}catch(s){if(!e.rescue(s,[o.get("Exception")]))throw s;i=s;try{return o.get("RSpec").$configuration().$reporter().$message("\nAn error occurred in an `after(:context)` hook.\n  "+i.$class()+": "+i.$message()+"\n  occurred at "+i.$backtrace().$first()+"\n\n")}finally{e.pop_exception()}}},$.$$arity=1),r&&"run"}(f.base,f.get("Hook")),function(t,$super){function n(){}var $,i,o,s,l=n=a(t,$super,"AroundHook",n),u=(l.$$proto,l.$$scope);return e.defn(l,"$execute_with",$=function(e,t){var n,$,a=this;return(n=($=e).$instance_exec,n.$$p=a.$block().$to_proc(),n).call($,t),(n=t["$executed?"]())===r||null==n||n.$$is_boolean&&1!=n?u.get("Pending")["$mark_skipped!"](e,""+a.$hook_description()+" did not execute the example"):r},$.$$arity=2),(i=u.get("Proc")["$method_defined?"]("source_location"))===r||null==i||i.$$is_boolean&&1!=i?(e.defn(l,"$hook_description",s=function(){return"around hook"},s.$$arity=0),r&&"hook_description"):(e.defn(l,"$hook_description",o=function(){var e=this;return"around hook at "+u.get("Metadata").$relative_path(e.$block().$source_location().$join(":"))},o.$$arity=0),r&&"hook_description")}(f.base,f.get("Hook")),function(t,$super){function n(){}var $,i,o,s,l=n=a(t,$super,"BaseHookCollection",n),u=(l.$$proto,l.$$scope);return($=(i=u.get("Array").$public_instance_methods(!1)).$each,$.$$p=(o=function(t){var n,$,a,i=o.$$s||this;return null==t&&(t=r),(n=($=i).$define_method,n.$$p=(a=function(){var n,$,i,o,s=a.$$s||this;n=a.$$p||r,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(i=(o=s.$hooks()).$__send__,i.$$p=n.$to_proc(),i).apply(o,[t].concat(e.to_a($)))},a.$$s=i,a.$$arity=-1,a),n).call($,t)},o.$$s=l,o.$$arity=1,o),$).call(i),l.$attr_reader("hooks"),l.$protected("hooks"),e.alias(l,"append","push"),e.alias(l,"prepend","unshift"),e.defn(l,"$initialize",s=function(e){var t=this;return null==e&&(e=[]),t.hooks=e},s.$$arity=-1),r&&"initialize"}(f.base,null),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"HookCollection",n);s.$$proto,s.$$scope;return e.defn(s,"$for",$=function(e){var t,n,$,a=this;return a.$class().$new((t=(n=a.$hooks()).$select,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t["$options_apply?"](e)},$.$$s=a,$.$$arity=1,$),t).call(n)).$with(e)},$.$$arity=1),e.defn(s,"$with",i=function(e){var t=this;return t.example=e,t},i.$$arity=1),e.defn(s,"$run",o=function(){var e,t,n,$=this;return(e=(t=$.$hooks()).$each,e.$$p=(n=function(e){var t=n.$$s||this;return null==t.example&&(t.example=r),null==e&&(e=r),e.$run(t.example)},n.$$s=$,n.$$arity=1,n),e).call(t)},o.$$arity=0),r&&"run"}(f.base,f.get("BaseHookCollection")),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"AroundHookCollection",n),l=s.$$proto;s.$$scope;return l.initial_procsy=r,e.defn(s,"$for",$=function(e,t){var n,$,a,i=this;return null==t&&(t=r),i.$class().$new((n=($=i.$hooks()).$select,n.$$p=(a=function(t){a.$$s||this;return null==t&&(t=r),t["$options_apply?"](e)},a.$$s=i,a.$$arity=1,a),n).call($)).$with(e,t)},$.$$arity=-2),e.defn(s,"$with",i=function(e,t){var r=this;return r.example=e,r.initial_procsy=t,r},i.$$arity=2),e.defn(s,"$run",o=function(){var e,t,n,$=this;return(e=(t=$.$hooks()).$inject,e.$$p=(n=function(e,t){var $,a,i,o=n.$$s||this;return null==e&&(e=r),null==t&&(t=r),($=(a=e).$wrap,$.$$p=(i=function(){var n=i.$$s||this;return null==n.example&&(n.example=r),t.$execute_with(n.example,e)},i.$$s=o,i.$$arity=0,i),$).call(a)},n.$$s=$,n.$$arity=2,n),e).call(t,$.initial_procsy).$call()},o.$$arity=0),r&&"run"}(f.base,f.get("BaseHookCollection")),function(t,$super){function n(){}var $,i,o=n=a(t,$super,"GroupHookCollection",n),s=o.$$proto;o.$$scope;return s.group=r,e.defn(o,"$for",$=function(e){var t=this;return t.group=e,t},$.$$arity=1),e.defn(o,"$run",i=function(){var e,t=this;return function(){for(;(e=t.$hooks()["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e;)t.$hooks().$shift().$run(t.group);return r}()},i.$$arity=0),r&&"run"}(f.base,f.get("BaseHookCollection")),function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O=n=a(t,$super,"HookCollections",n),M=O.$$proto,T=O.$$scope;return M.data=M.owner=r,e.defn(O,"$initialize",i=function(e,t){var r=this;return r.owner=e,r.data=t},i.$$arity=2),e.defn(O,"$[]",o=function(e){var t=this;return t.data["$[]"](e)},o.$$arity=1),e.defn(O,"$register_globals",s=function(e,t){var r=this;return r.$process(e,t,"before","example"),r.$process(e,t,"after","example"),r.$process(e,t,"around","example"),r.$process(e,t,"before","context"),r.$process(e,t,"after","context")},s.$$arity=2),e.defn(O,"$around_example_hooks_for",l=function(e,t){var n,$,a,i=this;return null==t&&(t=r),T.get("AroundHookCollection").$new((n=($=T.get("FlatMap")).$flat_map,n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=r),e.$hooks()["$[]"]("around")["$[]"]("example")},a.$$s=i,a.$$arity=1,a),n).call($,i.owner.$parent_groups())).$for(e,t)},l.$$arity=-2),e.defn(O,"$register",u=function(t,n){var $,a,i,o,s=this,l=u.$$p,c=l||r,_=r,p=r,f=arguments.length,d=f-2;0>d&&(d=0),o=new Array(d);for(var h=2;f>h;h++)o[h-2]=arguments[h];return u.$$p=null,a=(i=s).$scope_and_options_from.apply(i,e.to_a(o)),
$=e.to_ary(a),_=null==$[0]?r:$[0],p=null==$[1]?r:$[1],a,s["$[]"](n)["$[]"](_).$__send__(t,T.get("HOOK_TYPES")["$[]"](n)["$[]"](_).$new(c,p))},u.$$arity=-3),e.defn(O,"$run",c=function(e,t,n,$){var a,i=this;return null==$&&($=r),(a=T.get("RSpec").$configuration()["$dry_run?"]())===r||null==a||a.$$is_boolean&&1!=a?i.$find_hook(e,t,n,$).$run():r},c.$$arity=-4),e.cdecl(T,"SCOPES",["example","context","suite"]),e.cdecl(T,"SCOPE_ALIASES",$(["each","all"],{each:"example",all:"context"})),e.cdecl(T,"HOOK_TYPES",$(["before","after","around"],{before:(_=(p=T.get("Hash")).$new,_.$$p=(f=function(){f.$$s||this;return T.get("BeforeHook")},f.$$s=O,f.$$arity=0,f),_).call(p),after:(_=(d=T.get("Hash")).$new,_.$$p=(h=function(){h.$$s||this;return T.get("AfterHook")},h.$$s=O,h.$$arity=0,h),_).call(d),around:(_=(g=T.get("Hash")).$new,_.$$p=(m=function(){m.$$s||this;return T.get("AroundHook")},m.$$s=O,m.$$arity=0,m),_).call(g)})),T.get("HOOK_TYPES")["$[]"]("after")["$[]="]("context",T.get("AfterContextHook")),O.$private(),e.defn(O,"$process",y=function(e,t,n,$){var a,i,o,s=this;return(a=(i=t["$[]"](n)["$[]"]($)).$each,a.$$p=(o=function(t){var a,i,s,l,u=o.$$s||this;return null==t&&(t=r),(a=(i=$["$=="]("example"))!==!1&&i!==r&&null!=i?i:t["$options_apply?"](e))===r||null==a||a.$$is_boolean&&1!=a?r:(a=(i=(s=e.$parent_groups())["$any?"],i.$$p=(l=function(e){l.$$s||this;return null==e&&(e=r),e.$hooks()["$[]"](n)["$[]"]($)["$include?"](t)},l.$$s=u,l.$$arity=1,l),i).call(s))===r||null==a||a.$$is_boolean&&1!=a?u["$[]"](n)["$[]"]($)["$<<"](t):r},o.$$s=s,o.$$arity=1,o),a).call(i)},y.$$arity=4),e.defn(O,"$scope_and_options_from",v=function(){var e,t=this,n=r,$=r,a=arguments.length,i=a-0;0>i&&(i=0),e=new Array(i);for(var o=0;a>o;o++)e[o-0]=arguments[o];return n=t.$extract_scope_from(e),$=T.get("Metadata").$build_hash_from(e,"warn_about_example_group_filtering"),[n,$]},v.$$arity=-1),e.defn(O,"$extract_scope_from",b=function(e){var t,n,$,a,i=this,o=r;return(t=i["$known_scope?"](e.$first()))===r||null==t||t.$$is_boolean&&1!=t?(t=(n=($=e)["$any?"],n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=r),e["$is_a?"](T.get("Symbol"))},a.$$s=i,a.$$arity=1,a),n).call($))===r||null==t||t.$$is_boolean&&1!=t?"example":(o="You must explicitly give a scope ("+T.get("SCOPES").$join(", ")+") or scope alias ("+T.get("SCOPE_ALIASES").$keys().$join(", ")+") when using symbols as metadata for a hook.",i.$raise(T.get("ArgumentError").$new(o))):i.$normalized_scope_for(e.$shift())},b.$$arity=1),e.defn(O,"$known_scope?",x=function(e){var t;return(t=T.get("SCOPES")["$include?"](e))!==!1&&t!==r&&null!=t?t:T.get("SCOPE_ALIASES").$keys()["$include?"](e)},x.$$arity=1),e.defn(O,"$normalized_scope_for",w=function(e){var t;return(t=T.get("SCOPE_ALIASES")["$[]"](e))!==!1&&t!==r&&null!=t?t:e},w.$$arity=1),e.defn(O,"$find_hook",k=function(e,t,n,$){var a=this,i=r;return function(){return i=[e,t],["before","context"]["$==="](i)?a.$before_context_hooks_for(n):["after","context"]["$==="](i)?a.$after_context_hooks_for(n):["around","example"]["$==="](i)?a.$around_example_hooks_for(n,$):["before","example"]["$==="](i)?a.$before_example_hooks_for(n):["after","example"]["$==="](i)?a.$after_example_hooks_for(n):["before","suite"]["$==="](i)||["after","suite"]["$==="](i)?a["$[]"](e)["$[]"]("suite").$with(n):r}()},k.$$arity=4),e.defn(O,"$before_context_hooks_for",S=function(e){var t=this;return T.get("GroupHookCollection").$new(t["$[]"]("before")["$[]"]("context")).$for(e)},S.$$arity=1),e.defn(O,"$after_context_hooks_for",E=function(e){var t=this;return T.get("GroupHookCollection").$new(t["$[]"]("after")["$[]"]("context")).$for(e)},E.$$arity=1),e.defn(O,"$before_example_hooks_for",R=function(e){var t,n,$,a=this;return T.get("HookCollection").$new((t=(n=T.get("FlatMap")).$flat_map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),e.$hooks()["$[]"]("before")["$[]"]("example")},$.$$s=a,$.$$arity=1,$),t).call(n,a.owner.$parent_groups().$reverse())).$for(e)},R.$$arity=1),e.defn(O,"$after_example_hooks_for",A=function(e){var t,n,$,a=this;return T.get("HookCollection").$new((t=(n=T.get("FlatMap")).$flat_map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),e.$hooks()["$[]"]("after")["$[]"]("example")},$.$$s=a,$.$$arity=1,$),t).call(n,a.owner.$parent_groups())).$for(e)},A.$$arity=1),r&&"after_example_hooks_for"}(f.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/memoized_helpers"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$fetch","$[]=","$__memoized","$described_class","$first","$metadata","$class","$===","$new","$handle_matcher","$subject","$expect","$private","$instance_exec","$==","$raise","$article","$hook_expression","$first_non_rspec_line","$hook_intention","$nil?","$__send__","$to_proc","$module_for","$arity","$define_method","$current_example","$let","$before","$alias_method","$get_constant_or_yield","$include","$const_set","$method","$const_defined?","$const_get"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t){var i,o,s,l,u,c,_,p,f,d,h=i=n(t,"MemoizedHelpers"),g=(h.$$proto,h.$$scope);e.defn(h,"$subject",o=function(){var e,t,n,$=this;return(e=(t=$.$__memoized()).$fetch,e.$$p=(n=function(){var e,t=n.$$s||this,$=r;return t.$__memoized()["$[]="]("subject",function(){return $=(e=t.$described_class())!==!1&&e!==r&&null!=e?e:t.$class().$metadata().$fetch("description_args").$first(),(e=g.get("Class")["$==="]($))===r||null==e||e.$$is_boolean&&1!=e?$:$.$new()}())},n.$$s=$,n.$$arity=0,n),e).call(t,"subject")},o.$$arity=0),e.defn(h,"$should",s=function(e,t){var n=this;return null==e&&(e=r),null==t&&(t=r),g.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler").$handle_matcher(n.$subject(),e,t)},s.$$arity=-1),e.defn(h,"$should_not",l=function(e,t){var n=this;return null==e&&(e=r),null==t&&(t=r),g.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler").$handle_matcher(n.$subject(),e,t)},l.$$arity=-1),e.defn(h,"$is_expected",u=function(){var e=this;return e.$expect(e.$subject())},u.$$arity=0),h.$private(),e.defn(h,"$__memoized",c=function(){var e,t=this;return null==t.__memoized&&(t.__memoized=r),(e=t.__memoized)!==!1&&e!==r&&null!=e?e:t.__memoized=$([],{})},c.$$arity=0),function(t,$super){function n(){}var $,i,o=n=a(t,$super,"ContextHookMemoizedHash",n),s=(o.$$proto,o.$$scope);return e.defs(o,"$isolate_for_context_hook",$=function(t){var n,a,i,o=this,s=$.$$p,l=s||r,u=r;return $.$$p=null,u=o,(n=(a=t).$instance_exec,n.$$p=(i=function(){var t=i.$$s||this;t.__memoized=u;try{return e.yieldX(l,[])}finally{t.__memoized=r}},i.$$s=o,i.$$arity=0,i),n).call(a)},$.$$arity=1),e.defs(o,"$fetch",i=function(e){var t=this,n=(i.$$p,r);return i.$$p=null,n=function(){return e["$=="]("subject")?"subject":"let declaration `"+e+"`"}(),t.$raise(""+n+" accessed in "+t.$article()+" "+t.$hook_expression()+" hook at:\n  "+s.get("CallerFilter").$first_non_rspec_line()+"\n\n`let` and `subject` declarations are not intended to be called\nin "+t.$article()+" "+t.$hook_expression()+" hook, as they exist to define state that\nis reset between each example, while "+t.$hook_expression()+" exists to\n"+t.$hook_intention()+".\n")},i.$$arity=1),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"Before",n);s.$$proto,s.$$scope;return e.defs(s,"$hook_expression",$=function(){return"`before(:context)`"},$.$$arity=0),e.defs(s,"$article",i=function(){return"a"},i.$$arity=0),e.defs(s,"$hook_intention",o=function(){return"define state that is shared across examples in an example group"},o.$$arity=0),r&&"hook_intention"}(s.base,o),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"After",n);s.$$proto,s.$$scope;return e.defs(s,"$hook_expression",$=function(){return"`after(:context)`"},$.$$arity=0),e.defs(s,"$article",i=function(){return"an"},i.$$arity=0),e.defs(s,"$hook_intention",o=function(){return"cleanup state that is shared across examples in an example group"},o.$$arity=0),r&&"hook_intention"}(s.base,o)}(g.base,null),function(t){var $,a,i,o,s,l=$=n(t,"ClassMethods"),u=(l.$$proto,l.$$scope);e.defn(l,"$let",a=function(t){var n,$,i,o,s,l,c=this,_=a.$$p,p=_||r;return a.$$p=null,(n=p["$nil?"]())===r||null==n||n.$$is_boolean&&1!=n||c.$raise("#let or #subject called without a block"),(n=($=u.get("MemoizedHelpers").$module_for(c)).$__send__,n.$$p=p.$to_proc(),n).call($,"define_method",t),p.$arity()["$=="](1)?(n=(i=c).$define_method,n.$$p=(o=function(){var n,$,i,s=o.$$s||this;return(n=($=s.$__memoized()).$fetch,n.$$p=(i=function(t){var n,$,s=i.$$s||this;return null==t&&(t=r),s.$__memoized()["$[]="](t,($=s,n=e.find_iter_super_dispatcher(s,"let",i.$$def||o.$$def||a,!1,!1),n.$$p=r.$to_proc(),n).call($,u.get("RSpec").$current_example()))},i.$$s=s,i.$$arity=1,i),n).call($,t)},o.$$s=c,o.$$arity=0,o),n).call(i,t):(n=(s=c).$define_method,n.$$p=(l=function(){var n,$,i,o=l.$$s||this;return(n=($=o.$__memoized()).$fetch,n.$$p=(i=function(t){var n,$,o=i.$$s||this;return null==t&&(t=r),o.$__memoized()["$[]="](t,($=o,n=e.find_iter_super_dispatcher(o,"let",i.$$def||l.$$def||a,!1,!1),n.$$p=r.$to_proc(),n).call($))},i.$$s=o,i.$$arity=1,i),n).call($,t)},l.$$s=c,l.$$arity=0,l),n).call(s,t)},a.$$arity=1),e.defn(l,"$let!",i=function(e){var t,n,$,a,o=this,s=i.$$p,l=s||r;return i.$$p=null,(t=(n=o).$let,t.$$p=l.$to_proc(),t).call(n,e),(t=($=o).$before,t.$$p=(a=function(){var t=a.$$s||this;return t.$__send__(e)},a.$$s=o,a.$$arity=0,a),t).call($)},i.$$arity=1),e.defn(l,"$subject",o=function(e){var t,n,$,a,i,s=this,l=o.$$p,c=l||r;return null==e&&(e=r),o.$$p=null,e!==!1&&e!==r&&null!=e?((t=(n=s).$let,t.$$p=c.$to_proc(),t).call(n,e),s.$alias_method("subject",e),(t=($=s.$$scope.get("NamedSubjectPreventSuper")).$__send__,t.$$p=(a=function(){var e=a.$$s||this;return e.$raise(u.get("NotImplementedError"),"`super` in named subjects is not supported")},a.$$s=s,a.$$arity=0,a),t).call($,"define_method",e)):(t=(i=s).$let,t.$$p=c.$to_proc(),t).call(i,"subject")},o.$$arity=-1),e.defn(l,"$subject!",s=function(e){var t,n,$,a,i=this,o=s.$$p,l=o||r;return null==e&&(e=r),s.$$p=null,(t=(n=i).$subject,t.$$p=l.$to_proc(),t).call(n,e),(t=($=i).$before,t.$$p=(a=function(){var e=a.$$s||this;return e.$subject()},a.$$s=i,a.$$arity=0,a),t).call($)},s.$$arity=-1)}(g.base),e.defs(h,"$module_for",_=function(e){var t,n,$,a=this;return(t=(n=a).$get_constant_or_yield,t.$$p=($=function(){var t,n,a,i=$.$$s||this,o=r;return o=(t=(n=g.get("Module")).$new,t.$$p=(a=function(){var t,r,n,$=a.$$s||this;return $.$include((t=(r=g.get("Module")).$new,t.$$p=(n=function(){var t=n.$$s||this;return e.$const_set("NamedSubjectPreventSuper",t)},n.$$s=$,n.$$arity=0,n),t).call(r))},a.$$s=i,a.$$arity=0,a),t).call(n),e.$const_set("LetDefinitions",o),o},$.$$s=a,$.$$arity=0,$),t).call(n,e,"LetDefinitions")},_.$$arity=1),e.defs(h,"$define_helpers_on",p=function(e){var t=this;return e.$__send__("include",t.$module_for(e))},p.$$arity=1),g.get("Module").$method("const_defined?").$arity()["$=="](1)?e.defs(h,"$get_constant_or_yield",f=function(t,n){var $,a=f.$$p,i=a||r;return f.$$p=null,($=t["$const_defined?"](n))===r||null==$||$.$$is_boolean&&1!=$?e.yieldX(i,[]):t.$const_get(n)},f.$$arity=2):e.defs(h,"$get_constant_or_yield",d=function(t,n){var $,a=d.$$p,i=a||r,o=r;return d.$$p=null,($=t["$const_defined?"](n,o=!1))===r||null==$||$.$$is_boolean&&1!=$?e.yieldX(i,[]):t.$const_get(n,o)},d.$$arity=2)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/core/metadata"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.hash2,s=e.klass;return e.add_stubs(["$expand_path","$sub","$==","$is_a?","$last","$pop","$[]=","$key?","$deprecate","$respond_to?","$caller","$join","$source_location","$attr_reader","$ensure_valid_user_keys","$metadata","$new","$block","$description_args","$build_description_from","$[]","$full_description","$described_class","$populate_location_attributes","$update","$user_metadata","$apply_derived_metadata_to","$configuration","$private","$delete","$file_path_and_line_number_from","$relative_path","$to_i","$find","$!~","$first","$captures","$match","$=~","$to_s","$description_separator","$+","$each","$raise","$gsub","$*","$first_non_rspec_line","$dup","$to_proc","$backwards_compatibility_default_proc","$compact","$populate","$hash_with_backwards_compatibility_default_proc","$===","$thread_local_metadata","$call","$extend","$extra_hash_attributes","$__send__","$hash_attribute_names","$class","$include?","$to_sym","$define_method","$issue_deprecation","$hash_for_delegation","$instance_variable_defined?","$tap","$directly_supports_attribute?","$set_value","$-","$public_instance_methods","$get_value","$to_h","$concat","$include","$fetch","$merge","$!="]),function($){var l,u=l=i($,"RSpec"),c=(u.$$proto,u.$$scope);!function($){var l,u=l=i($,"Core"),c=(u.$$proto,u.$$scope);!function(n){var $,l,u,c,_=$=i(n,"Metadata"),p=(_.$$proto,_.$$scope);e.defs(_,"$relative_path",l=function(t){var r=a;try{return r=new RegExp("(\\A|\\s)"+p.get("File").$expand_path(".")+"("+p.get("File").$$scope.get("SEPARATOR")+"|\\s|\\Z)"),t=t.$sub(r,"\\1.\\2"),t=t.$sub(/\A([^:]+:\d+)$/,"\\1"),t["$=="]("-e:1")?a:t}catch(n){if(!e.rescue(n,[p.get("SecurityError")]))throw n;try{return a}finally{e.pop_exception()}}},l.$$arity=1),e.defs(_,"$build_hash_from",u=function(e,t){var r,n,$=a;for(null==t&&(t=!1),$=function(){return(r=e.$last()["$is_a?"](p.get("Hash")))===a||null==r||r.$$is_boolean&&1!=r?o([],{}):e.$pop()}();(n=e.$last()["$is_a?"](p.get("Symbol")))!==a&&null!=n&&(!n.$$is_boolean||1==n);)$["$[]="](e.$pop(),!0);return(r=(n=t!==!1&&t!==a&&null!=t)?$["$key?"]("example_group"):t)===a||null==r||r.$$is_boolean&&1!=r||p.get("RSpec").$deprecate("Filtering by an `:example_group` subhash",o(["replacement"],{replacement:"the subhash to filter directly"})),$},u.$$arity=-2),e.defs(_,"$backtrace_from",c=function(e){var t,r=this;return(t=e["$respond_to?"]("source_location"))===a||null==t||t.$$is_boolean&&1!=t?r.$caller():[e.$source_location().$join(":")]},c.$$arity=1),function(n,$super){function $(){}var i,o,l,u,c,_,p,f=$=s(n,$super,"HashPopulator",$),d=(f.$$proto,f.$$scope);return f.$attr_reader("metadata","user_metadata","description_args","block"),e.defn(f,"$initialize",i=function(e,t,r,n){var $=this;return $.metadata=e,$.user_metadata=t,$.description_args=r,$.block=n},i.$$arity=4),e.defn(f,"$populate",o=function(){var t,r=this;return r.$ensure_valid_user_keys(),r.$metadata()["$[]="]("execution_result",d.get("Example").$$scope.get("ExecutionResult").$new()),r.$metadata()["$[]="]("block",r.$block()),r.$metadata()["$[]="]("description_args",r.$description_args()),r.$metadata()["$[]="]("description",(t=r).$build_description_from.apply(t,e.to_a(r.$metadata()["$[]"]("description_args")))),r.$metadata()["$[]="]("full_description",r.$full_description()),r.$metadata()["$[]="]("described_class",r.$described_class()),r.$populate_location_attributes(),r.$metadata().$update(r.$user_metadata()),d.get("RSpec").$configuration().$apply_derived_metadata_to(r.$metadata())},o.$$arity=0),f.$private(),e.defn(f,"$populate_location_attributes",l=function(){var t,r,n,$=this,i=a,o=a,s=a;return i=$.$user_metadata().$delete("caller"),r=function(){return i!==!1&&i!==a&&null!=i?$.$file_path_and_line_number_from(i):(n=$.$block()["$respond_to?"]("source_location"))===a||null==n||n.$$is_boolean&&1!=n?$.$file_path_and_line_number_from($.$caller()):$.$block().$source_location()}(),t=e.to_ary(r),o=null==t[0]?a:t[0],s=null==t[1]?a:t[1],r,o=d.get("Metadata").$relative_path(o),$.$metadata()["$[]="]("file_path",o),$.$metadata()["$[]="]("line_number",s.$to_i()),$.$metadata()["$[]="]("location",""+o+":"+s)},l.$$arity=0),e.defn(f,"$file_path_and_line_number_from",u=function(e){var t,r,n,$=this,i=a;return i=(t=(r=e).$find,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=a),e["$!~"](d.get("CallerFilter").$$scope.get("LIB_REGEX"))},n.$$s=$,n.$$arity=1,n),t).call(r),(t=i)!==!1&&t!==a&&null!=t?t:i=e.$first(),/(.+?):(\d+)(?:|:\d+)/.$match(i).$captures()},u.$$arity=1),e.defn(f,"$description_separator",c=function(e,t){var r,n;return n=e["$is_a?"](d.get("Module")),(r=n!==!1&&n!==a&&null!=n?t["$=~"](/^(#|::|\.)/):n)===a||null==r||r.$$is_boolean&&1!=r?" ":""},c.$$arity=2),e.defn(f,"$build_description_from",_=function(e,r){var n=this,$=a;return null==e&&(e=a),null==r&&(r=a),r===!1||r===a||null==r?e.$to_s():($=n.$description_separator(e,r),t(t(e.$to_s(),$),r.$to_s()))},_.$$arity=-1),e.defn(f,"$ensure_valid_user_keys",p=function(){var e,t,n,$=this;return(e=(t=d.get("RESERVED_KEYS")).$each,e.$$p=(n=function(e){var t,$=n.$$s||this;return null==e&&(e=a),(t=$.$user_metadata()["$key?"](e))===a||null==t||t.$$is_boolean&&1!=t?a:$.$raise(("              |"+r("*",50)+"\n              |:"+e+" is not allowed\n              |\n              |RSpec reserves some hash keys for its own internal use,\n              |including :"+e+", which is used on:\n              |\n              |  "+d.get("CallerFilter").$first_non_rspec_line()+".\n              |\n              |Here are all of RSpec's reserved hash keys:\n              |\n              |  "+d.get("RESERVED_KEYS").$join("\n  ")+"\n              |"+r("*",50)+"\n").$gsub(/^\s+\|/,""))},n.$$s=$,n.$$arity=1,n),e).call(t)},p.$$arity=0),a&&"ensure_valid_user_keys"}(p.base,null),function(t,$super){function r(){}var n,$,i,o=r=s(t,$super,"ExampleHash",r),l=(o.$$proto,o.$$scope);return e.defs(o,"$create",n=function(e,t,r,n){var $,i,o,s,u,c=this,_=a,p=a;return _=e.$dup(),e=($=(i=l.get("Hash")).$new,$.$$p=(o=(s=l.get("ExampleGroupHash")).$backwards_compatibility_default_proc,o.$$p=(u=function(e){u.$$s||this;return null==e&&(e=a),e["$[]"]("parent_example_group")},u.$$s=c,u.$$arity=1,u),o).call(s).$to_proc(),$).call(i),e.$update(_),_["$[]="]("example_group",e),_.$delete("parent_example_group"),p=c.$new(_,t,[r].$compact(),n),p.$populate(),p.$metadata()},n.$$arity=4),o.$private(),e.defn(o,"$described_class",$=function(){var e=this;return e.$metadata()["$[]"]("example_group")["$[]"]("described_class")},$.$$arity=0),e.defn(o,"$full_description",i=function(){var e=this;return e.$build_description_from(e.$metadata()["$[]"]("example_group")["$[]"]("full_description"),e.$metadata()["$[]"]("description"))},i.$$arity=0),a&&"full_description"}(p.base,p.get("HashPopulator")),function(r,$super){function n(){}var $,i,l,u,c,_=n=s(r,$super,"ExampleGroupHash",n),p=(_.$$proto,_.$$scope);return e.defs(_,"$create",$=function(e,t){var r,n=this,i=$.$$p,o=i||a,s=a,l=a,u=arguments.length,c=u-2;0>c&&(c=0),r=new Array(c);for(var _=2;u>_;_++)r[_-2]=arguments[_];return $.$$p=null,s=n.$hash_with_backwards_compatibility_default_proc(),e!==!1&&e!==a&&null!=e&&(s.$update(e),s["$[]="]("parent_example_group",e)),l=n.$new(s,t,r,o),l.$populate(),l.$metadata()},$.$$arity=-3),e.defs(_,"$hash_with_backwards_compatibility_default_proc",i=function(){var e,t,r,n,$,i=this;return(e=(t=p.get("Hash")).$new,e.$$p=(r=(n=i).$backwards_compatibility_default_proc,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=a),e},$.$$s=i,$.$$arity=1,$),r).call(n).$to_proc(),e).call(t)},i.$$arity=0),e.defs(_,"$backwards_compatibility_default_proc",l=function(){var e,t,r,n=this,$=l.$$p,i=$||a;return l.$$p=null,(e=(t=p.get("Proc")).$new,e.$$p=(r=function(e,t){var n,$=(r.$$s||this,a),s=a;return null==e&&(e=a),null==t&&(t=a),function(){return $=t,"example_group"["$==="]($)?(((n=p.get("RSpec").$thread_local_metadata()["$[]"]("silence_metadata_example_group_deprecations"))===a||null==n||n.$$is_boolean&&1!=n)&&p.get("RSpec").$deprecate("The `:example_group` key in an example group's metadata hash",o(["replacement"],{replacement:"the example group's hash directly for the computed keys and `:parent_example_group` to access the parent example group metadata"})),s=i.$call(e),s!==!1&&s!==a&&null!=s?p.get("LegacyExampleGroupHash").$new(s):a):"example_group_block"["$==="]($)?(p.get("RSpec").$deprecate("`metadata[:example_group_block]`",o(["replacement"],{replacement:"`metadata[:block]`"})),e["$[]"]("block")):"describes"["$==="]($)?(p.get("RSpec").$deprecate("`metadata[:describes]`",o(["replacement"],{replacement:"`metadata[:described_class]`"})),e["$[]"]("described_class")):a}()},r.$$s=n,r.$$arity=2,r),e).call(t)},l.$$arity=0),_.$private(),e.defn(_,"$described_class",u=function(){var e,t,r=this,n=a,$=a;return n=r.$metadata()["$[]"]("description_args").$first(),(e=(t=p.get("NilClass")["$==="](n))!==!1&&t!==a&&null!=t?t:p.get("String")["$==="](n))===a||null==e||e.$$is_boolean&&1!=e?n:($=r.$metadata()["$[]"]("parent_example_group"),(e=$!==!1&&$!==a&&null!=$)?$["$[]"]("described_class"):$)},u.$$arity=0),e.defn(_,"$full_description",c=function(){var e=this,r=a,n=a,$=a,i=a;return r=e.$metadata()["$[]"]("description"),n=e.$metadata()["$[]"]("parent_example_group"),n===!1||n===a||null==n?r:($=n["$[]"]("full_description"),i=e.$description_separator(n["$[]"]("description_args").$last(),e.$metadata()["$[]"]("description_args").$first()),t(t($,i),r))},c.$$arity=0),a&&"full_description"}(p.base,p.get("HashPopulator")),e.cdecl(p,"RESERVED_KEYS",["description","example_group","parent_example_group","execution_result","file_path","full_description","line_number","location","block"])}(c.base),function(t){var r,$,s,l,u,c,_,p,f,d,h,g,m,y,v=r=i(t,"HashImitatable"),b=(v.$$proto,v.$$scope);e.defs(v,"$included",$=function(e){return e.$extend(b.get("ClassMethods"))},$.$$arity=1),e.defn(v,"$to_h",s=function(){var e,t,r,n=this,$=a;return $=n.$extra_hash_attributes().$dup(),(e=(t=n.$class().$hash_attribute_names()).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=a),$["$[]="](e,t.$__send__(e))},r.$$s=n,r.$$arity=1,r),e).call(t),$},s.$$arity=0),(l=(u=n(b.get("Hash").$public_instance_methods(),b.get("Object").$public_instance_methods())).$each,l.$$p=(c=function(t){var r,n,$,i=c.$$s||this;return null==t&&(t=a),(r=["[]","[]=","to_h"]["$include?"](t.$to_sym()))===a||null==r||r.$$is_boolean&&1!=r?(r=(n=i).$define_method,r.$$p=($=function(){var r,n,i,o,s,l,u,c,_,p,f=$.$$s||this,d=a;r=$.$$p||a,$.$$p=null;var h=arguments.length,g=h-0;0>g&&(g=0),n=new Array(g);for(var m=0;h>m;m++)n[m-0]=arguments[m];return(i=f).$issue_deprecation.apply(i,[t].concat(e.to_a(n))),d=f.$hash_for_delegation(),(o=(s=f.$class().$hash_attribute_names()).$each,o.$$p=(l=function(e){var t,r=l.$$s||this;return null==e&&(e=a),(t=r["$instance_variable_defined?"]("@"+e.$to_s()))===a||null==t||t.$$is_boolean&&1!=t?d.$delete(e):a},l.$$s=f,l.$$arity=1,l),o).call(s),(o=(u=(_=(p=d).$__send__,_.$$p=r.$to_proc(),_).apply(p,[t].concat(e.to_a(n)))).$tap,o.$$p=(c=function(){var e,t,r,n=c.$$s||this;return(e=(t=d).$each,e.$$p=(r=function(e,t){var n,$=r.$$s||this;return null==e&&(e=a),null==t&&(t=a),(n=$["$directly_supports_attribute?"](e))===a||null==n||n.$$is_boolean&&1!=n?$.$extra_hash_attributes()["$[]="](e,t):$.$set_value(e,t)},r.$$s=n,r.$$arity=2,r),e).call(t)},c.$$s=f,c.$$arity=0,c),o).call(u)},$.$$s=i,$.$$arity=-1,$),r).call(n,t):a},c.$$s=v,c.$$arity=1,c),l).call(u),e.defn(v,"$[]",_=function(e){var t,r=this;return r.$issue_deprecation("[]",e),(t=r["$directly_supports_attribute?"](e))===a||null==t||t.$$is_boolean&&1!=t?r.$extra_hash_attributes()["$[]"](e):r.$get_value(e)},_.$$arity=1),e.defn(v,"$[]=",p=function(e,t){var r,n=this;return n.$issue_deprecation("[]=",e,t),(r=n["$directly_supports_attribute?"](e))===a||null==r||r.$$is_boolean&&1!=r?n.$extra_hash_attributes()["$[]="](e,t):n.$set_value(e,t)},p.$$arity=2),v.$private(),e.defn(v,"$extra_hash_attributes",f=function(){var e,t=this;return null==t.extra_hash_attributes&&(t.extra_hash_attributes=a),(e=t.extra_hash_attributes)!==!1&&e!==a&&null!=e?e:t.extra_hash_attributes=o([],{})},f.$$arity=0),e.defn(v,"$directly_supports_attribute?",d=function(e){var t=this;return t.$class().$hash_attribute_names()["$include?"](e)},d.$$arity=1),e.defn(v,"$get_value",h=function(e){var t=this;return t.$__send__(e)},h.$$arity=1),e.defn(v,"$set_value",g=function(e,t){var r=this;return r.$__send__(""+e.$to_s()+"=",t)},g.$$arity=2),e.defn(v,"$hash_for_delegation",m=function(){var e=this;return e.$to_h()},m.$$arity=0),e.defn(v,"$issue_deprecation",y=function(){var e,t=arguments.length,r=t-1;0>r&&(r=0),e=new Array(r);for(var n=1;t>n;n++)e[n-1]=arguments[n];return a},y.$$arity=-2),function(t){var r,n,$,o=r=i(t,"ClassMethods");o.$$proto,o.$$scope;e.defn(o,"$hash_attribute_names",n=function(){var e,t=this;return null==t.hash_attribute_names&&(t.hash_attribute_names=a),(e=t.hash_attribute_names)!==!1&&e!==a&&null!=e?e:t.hash_attribute_names=[]},n.$$arity=0),e.defn(o,"$attr_accessor",$=function(){var t,r,n,i=this,o=$.$$p,s=a,l=a,u=arguments.length,c=u-0;0>c&&(c=0),n=new Array(c);for(var _=0;u>_;_++)n[_-0]=arguments[_];for($.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return i.$hash_attribute_names().$concat(n),(r=i,t=e.find_super_dispatcher(i,"attr_accessor",$,!1),t.$$p=o,t).apply(r,s)},$.$$arity=-1)}(b.base)}(c.base),function(t,$super){function r(){}var n,$,i,l,u,c=r=s(t,$super,"LegacyExampleGroupHash",r),_=c.$$proto,p=c.$$scope;return _.metadata=a,c.$include(p.get("HashImitatable")),e.defn(c,"$initialize",n=function(e){var t,r,n,$=this,i=a;return $.metadata=e,i=(t=(r=e).$fetch,t.$$p=(n=function(){n.$$s||this;return o([],{})},n.$$s=$,n.$$arity=0,n),t).call(r,"parent_example_group")["$[]"]("example_group"),i!==!1&&i!==a&&null!=i?$["$[]="]("example_group",i):a},n.$$arity=1),e.defn(c,"$to_h",$=function(){var t,r,n=this,i=$.$$p,o=a,s=a;for($.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=n,t=e.find_super_dispatcher(n,"to_h",$,!1),t.$$p=i,t).apply(r,o).$merge(n.metadata)},$.$$arity=0),c.$private(),e.defn(c,"$directly_supports_attribute?",i=function(e){return e["$!="]("example_group")},i.$$arity=1),e.defn(c,"$get_value",l=function(e){var t=this;return t.metadata["$[]"](e)},l.$$arity=1),e.defn(c,"$set_value",u=function(e,t){var r=this;return r.metadata["$[]="](e,t)},u.$$arity=2),a&&"set_value"}(c.base,null)}(c.base)}($.base)},Opal.modules["rspec/core/metadata_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.hash;return e.add_stubs(["$any?","$filter_applies?","$all?","$silence_metadata_example_group_deprecations","$===","$[]","$!","$filter_applies_to_any_value?","$==","$location_filter_applies?","$filters_apply?","$key?","$=~","$arity","$call","$to_s","$private","$example_group_declaration_line","$line_number_filter_applies?","$map","$preceding_declaration_line","$world","$empty?","$&","$relevant_line_numbers","$+","$compact","$parent_of","$expand_path","$[]=","$thread_local_metadata","$delete"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Core"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"MetadataFilter");o.$$proto,o.$$scope;!function(r){var $,i,o,s,l,u,c,_,p,f,d,h=r.$$scope;r.$$proto;return e.defn(r,"$any_apply?",$=function(e,t){var r,$,a,i=this;return(r=($=e)["$any?"],r.$$p=(a=function(e,r){var $=a.$$s||this;return null==e&&(e=n),null==r&&(r=n),$["$filter_applies?"](e,r,t)},a.$$s=i,a.$$arity=2,a),r).call($)},$.$$arity=2),e.defn(r,"$all_apply?",i=function(e,t){var r,$,a,i=this;return(r=($=e)["$all?"],r.$$p=(a=function(e,r){var $=a.$$s||this;return null==e&&(e=n),null==r&&(r=n),$["$filter_applies?"](e,r,t)},a.$$s=i,a.$$arity=2,a),r).call($)},i.$$arity=2),e.defn(r,"$filter_applies?",o=function(t,r,$){try{var a,i,o,s=this;return(a=(i=s).$silence_metadata_example_group_deprecations,a.$$p=(o=function(){var a,i,s=o.$$s||this,l=n;return i=h.get("Array")["$==="]($["$[]"](t)),(a=i!==!1&&i!==n&&null!=i?h.get("Proc")["$==="](r)["$!"]():i)===n||null==a||a.$$is_boolean&&1!=a||e.ret(s["$filter_applies_to_any_value?"](t,r,$)),t["$=="]("locations")&&e.ret(s["$location_filter_applies?"](r,$)),(a=h.get("Hash")["$==="](r))===n||null==a||a.$$is_boolean&&1!=a||e.ret(s["$filters_apply?"](t,r,$)),((a=$["$key?"](t))===n||null==a||a.$$is_boolean&&1!=a)&&e.ret(!1),function(){return l=r,h.get("Regexp")["$==="](l)?$["$[]"](t)["$=~"](r):h.get("Proc")["$==="](l)?function(){return l=r.$arity(),0["$==="](l)?r.$call():2["$==="](l)?r.$call($["$[]"](t),$):r.$call($["$[]"](t))}():$["$[]"](t).$to_s()["$=="](r.$to_s())}()},o.$$s=s,o.$$arity=0,o),a).call(i)}catch(l){if(l===e.returner)return l.$v;throw l}},o.$$arity=3),r.$private(),e.defn(r,"$filter_applies_to_any_value?",s=function(e,t,r){var $,i,o,s=this;return($=(i=r["$[]"](e))["$any?"],$.$$p=(o=function(r){var $=o.$$s||this;return null==r&&(r=n),$["$filter_applies?"](e,r,a(e,t))},o.$$s=s,o.$$arity=1,o),$).call(i)},s.$$arity=3),e.defn(r,"$location_filter_applies?",l=function(e,t){var r=this,$=n;return $=r.$example_group_declaration_line(e,t),$!==!1&&$!==n&&null!=$?r["$line_number_filter_applies?"]($,t):!0},l.$$arity=2),e.defn(r,"$line_number_filter_applies?",u=function(e,t){var r,$,a,i=this,o=n;return o=(r=($=e).$map,r.$$p=(a=function(e){a.$$s||this;return null==e&&(e=n),h.get("RSpec").$world().$preceding_declaration_line(e)},a.$$s=i,a.$$arity=1,a),r).call($),i.$relevant_line_numbers(t)["$&"](o)["$empty?"]()["$!"]()},u.$$arity=2),e.defn(r,"$relevant_line_numbers",c=function(e){var r=this;return e===!1||e===n||null==e?[]:t([e["$[]"]("line_number")].$compact(),r.$relevant_line_numbers(r.$parent_of(e)))},c.$$arity=1),e.defn(r,"$example_group_declaration_line",_=function(e,t){var r=this,$=n;return $=r.$parent_of(t),$===!1||$===n||null==$?n:e["$[]"](h.get("File").$expand_path($["$[]"]("file_path")))},_.$$arity=2),e.defn(r,"$filters_apply?",p=function(e,t,r){var $,a,i,o=this,s=n;return s=r["$[]"](e),($=(a=h.get("Hash")["$==="](s))!==!1&&a!==n&&null!=a?a:h.get("HashImitatable")["$==="](s))===n||null==$||$.$$is_boolean&&1!=$?!1:($=(a=t)["$all?"],$.$$p=(i=function(e,t){var r=i.$$s||this;return null==e&&(e=n),null==t&&(t=n),r["$filter_applies?"](e,t,s)},i.$$s=o,i.$$arity=2,i),$).call(a)},p.$$arity=3),e.defn(r,"$parent_of",f=function(e){var t;return(t=e["$key?"]("example_group"))===n||null==t||t.$$is_boolean&&1!=t?e["$[]"]("parent_example_group"):e["$[]"]("example_group")},f.$$arity=1),e.defn(r,"$silence_metadata_example_group_deprecations",d=function(){var t=d.$$p,r=t||n;d.$$p=null;try{return h.get("RSpec").$thread_local_metadata()["$[]="]("silence_metadata_example_group_deprecations",!0),e.yieldX(r,[])}finally{h.get("RSpec").$thread_local_metadata().$delete("silence_metadata_example_group_deprecations")}},d.$$arity=0),n&&"silence_metadata_example_group_deprecations"}(e.get_singleton_class(o))}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/mocks/any_instance"]=function(e){var t,r,n,$=e.top,a=e,i=e.nil;e.breaker,e.slice;return e.add_stubs(["$each","$require_rspec_mocks"]),(t=(r=["any_instance/chain","any_instance/stub_chain","any_instance/stub_chain_chain","any_instance/expect_chain_chain","any_instance/expectation_chain","any_instance/message_chains","any_instance/recorder","any_instance/proxy"]).$each,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=i),a.get("RSpec").$$scope.get("Support").$require_rspec_mocks(e)},n.$$s=$,n.$$arity=1,n),t).call(r)},Opal.modules["rspec/mocks/message_chain"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$format_chain","$to_proc","$>","$length","$chain","$find_matching_stub","$shift","$chain_on","$invoke","$find_matching_expectation","$invoke_without_incrementing_received_count","$new","$expectation","$object","$private","$raise","$initialize","$setup_chain","$===","$last","$pop","$each","$<<","$split","$join","$__send__","$proxy_for","$space","$to_sym","$first","$expect_message","$allow_message"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Mocks"),l=(s.$$proto,s.$$scope);!function(r,$super){function $(){}var i,o,s,l,u,c,_,p=$=a(r,$super,"MessageChain",$),f=p.$$proto,d=p.$$scope;return f.block=n,p.$attr_reader("object","chain","block"),e.defn(p,"$initialize",i=function(t){var r,$,a,o,s,l=this,u=i.$$p,c=u||n,_=arguments.length,p=_-1;0>p&&(p=0),s=new Array(p);for(var f=1;_>f;f++)s[f-1]=arguments[f];return i.$$p=null,l.object=t,$=(a=(o=l).$format_chain,a.$$p=c.$to_proc(),a).apply(o,e.to_a(s)),r=e.to_ary($),l.chain=null==r[0]?n:r[0],l.block=null==r[1]?n:r[1],$},i.$$arity=-2),e.defn(p,"$setup_chain",o=function(){var r,$,a,i,o,s,l,u=this,c=n,_=n,p=n;return(r=t(u.$chain().$length(),1))===n||null==r||r.$$is_boolean&&1!=r?(r=(l=u).$expectation,r.$$p=u.block.$to_proc(),r).call(l,u.$object(),u.$chain().$shift()):(r=c=u.$find_matching_stub())===n||null==r||r.$$is_boolean&&1!=r?(r=_=u.$find_matching_expectation())===n||null==r||r.$$is_boolean&&1!=r?(p=d.get("Double").$new(),
(r=(i=u).$expectation,r.$$p=(o=function(){o.$$s||this;return p},o.$$s=u,o.$$arity=0,o),r).call(i,u.$object(),u.$chain().$shift()),(r=(s=u).$chain_on,r.$$p=u.block.$to_proc(),r).apply(s,[p].concat(e.to_a(u.$chain())))):(u.$chain().$shift(),(r=(a=u).$chain_on,r.$$p=u.block.$to_proc(),r).apply(a,[_.$invoke_without_incrementing_received_count(n)].concat(e.to_a(u.$chain())))):(u.$chain().$shift(),(r=($=u).$chain_on,r.$$p=u.block.$to_proc(),r).apply($,[c.$invoke(n)].concat(e.to_a(u.$chain()))))},o.$$arity=0),p.$private(),e.defn(p,"$expectation",s=function(){var e=this;s.$$p;return s.$$p=null,e.$raise(d.get("NotImplementedError"))},s.$$arity=2),e.defn(p,"$chain_on",l=function(t){var r,$,a,i=this,o=l.$$p,s=o||n,u=arguments.length,c=u-1;0>c&&(c=0),a=new Array(c);for(var _=1;u>_;_++)a[_-1]=arguments[_];return l.$$p=null,(r=($=i).$initialize,r.$$p=s.$to_proc(),r).apply($,[t].concat(e.to_a(a))),i.$setup_chain()},l.$$arity=-2),e.defn(p,"$format_chain",u=function(){var e,t,r,$,a=this,i=u.$$p,o=i||n,s=n,l=arguments.length,c=l-0;0>c&&(c=0),$=new Array(c);for(var _=0;l>_;_++)$[_-0]=arguments[_];return u.$$p=null,(e=d.get("Hash")["$==="]($.$last()))===n||null==e||e.$$is_boolean&&1!=e||(s=$.$pop(),(e=(t=s).$each,e.$$p=(r=function(e,t){var a,i,s,l=r.$$s||this;return null==e&&(e=n),null==t&&(t=n),$["$<<"](e),o=(a=(i=d.get("Proc")).$new,a.$$p=(s=function(){s.$$s||this;return t},s.$$s=l,s.$$arity=0,s),a).call(i)},r.$$s=a,r.$$arity=2,r),e).call(t)),[$.$join(".").$split("."),o]},u.$$arity=-1),e.defn(p,"$find_matching_stub",c=function(){var t=this;return e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_method_stub",t.$chain().$first().$to_sym())},c.$$arity=0),e.defn(p,"$find_matching_expectation",_=function(){var t=this;return e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t.$object()).$__send__("find_matching_expectation",t.$chain().$first().$to_sym())},_.$$arity=0),n&&"find_matching_expectation"}(l.base,null),function(t,$super){function r(){}var $,o,s=r=a(t,$super,"ExpectChain",r);s.$$proto,s.$$scope;return e.defs(s,"$expect_chain_on",$=function(t){var r,a,i,o=this,s=$.$$p,l=s||n,u=arguments.length,c=u-1;0>c&&(c=0),i=new Array(c);for(var _=1;u>_;_++)i[_-1]=arguments[_];return $.$$p=null,(r=(a=o).$new,r.$$p=l.$to_proc(),r).apply(a,[t].concat(e.to_a(i))).$setup_chain()},$.$$arity=-2),s.$private(),e.defn(s,"$expectation",o=function(t,r){var $,a,s=o.$$p,l=s||n;return o.$$p=null,($=(a=e.get("RSpec").$$scope.get("Mocks")).$expect_message,$.$$p=l.$to_proc(),$).call(a,t,r,i([],{}))},o.$$arity=2),n&&"expectation"}(l.base,l.get("MessageChain")),function(t,$super){function r(){}var $,o,s=r=a(t,$super,"StubChain",r);s.$$proto,s.$$scope;return e.defs(s,"$stub_chain_on",$=function(t){var r,a,i,o=this,s=$.$$p,l=s||n,u=arguments.length,c=u-1;0>c&&(c=0),i=new Array(c);for(var _=1;u>_;_++)i[_-1]=arguments[_];return $.$$p=null,(r=(a=o).$new,r.$$p=l.$to_proc(),r).apply(a,[t].concat(e.to_a(i))).$setup_chain()},$.$$arity=-2),s.$private(),e.defn(s,"$expectation",o=function(t,r){var $,a,s=o.$$p,l=s||n;return o.$$p=null,($=(a=e.get("RSpec").$$scope.get("Mocks")).$allow_message,$.$$p=l.$to_proc(),$).call(a,t,r,i([],{}))},o.$$arity=2),n&&"expectation"}(l.base,l.get("MessageChain"))}(l.base)}(r.base)},Opal.modules["rspec/mocks/marshal_extension"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$respond_to?","$instance_eval","$!","$registered?","$space","$===","$dump_without_rspec_mocks","$dup","$alias_method","$undef_method"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o=n=$(t,$super,"MarshalExtension",n),s=(o.$$proto,o.$$scope);return e.defs(o,"$patch!",a=function(){var t,n,$,a=this;return(t=s.get("Marshal")["$respond_to?"]("dump_with_rspec_mocks"))===r||null==t||t.$$is_boolean&&1!=t?(t=(n=s.get("Marshal")).$instance_eval,t.$$p=($=function(){var t=$.$$s||this;return function(t){var n,$=t.$$scope;t.$$proto;return e.defn(t,"$dump_with_rspec_mocks",n=function(t){var n,a,i,o=this,s=arguments.length,l=s-1;0>l&&(l=0),i=new Array(l);for(var u=1;s>u;u++)i[u-1]=arguments[u];return(n=(a=e.get("RSpec").$$scope.get("Mocks").$space()["$registered?"](t)["$!"]())!==!1&&a!==r&&null!=a?a:$.get("NilClass")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n?(a=o).$dump_without_rspec_mocks.apply(a,[t.$dup()].concat(e.to_a(i))):(n=o).$dump_without_rspec_mocks.apply(n,[t].concat(e.to_a(i)))},n.$$arity=-2),t.$alias_method("dump_without_rspec_mocks","dump"),t.$undef_method("dump"),t.$alias_method("dump","dump_with_rspec_mocks")}(e.get_singleton_class(t))},$.$$s=a,$.$$arity=0,$),t).call(n):r},a.$$arity=0),e.defs(o,"$unpatch!",i=function(){var t,n,$,a=this;return(t=s.get("Marshal")["$respond_to?"]("dump_with_rspec_mocks"))===r||null==t||t.$$is_boolean&&1!=t?r:(t=(n=s.get("Marshal")).$instance_eval,t.$$p=($=function(){var t=$.$$s||this;return function(e){e.$$scope,e.$$proto;return e.$undef_method("dump_with_rspec_mocks"),e.$undef_method("dump"),e.$alias_method("dump","dump_without_rspec_mocks"),e.$undef_method("dump_without_rspec_mocks")}(e.get_singleton_class(t))},$.$$s=a,$.$$arity=0,$),t).call(n)},i.$$arity=0),r&&"unpatch!"}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/mocks/matchers/have_received"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$+","$expect","$ensure_implemented","$mock_proxy","$expected_messages_received_in_order?","$ensure_count_unconstrained","$never","$generate_failure_message","$description","$each","$define_method","$<<","$disallow","$private","$raise","$build_expectation","$apply_constraints_to","$send","$count_constraint","$find","$include?","$map","$to_proc","$check_for_unexpected_arguments","$generate_error","$message","$replay_received_message_on","$expected_messages_received?","$ensure_expected_ordering_received!","$proxy_for","$space"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Mocks"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Matchers"),s=(o.$$proto,o.$$scope);!function(r,$super){function $(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R=$=a(r,$super,"HaveReceived",$),A=R.$$proto,O=R.$$scope;return A.block=A.method_name=A.expectation=A.constraints=A.subject=n,e.cdecl(O,"COUNT_CONSTRAINTS",["exactly","at_least","at_most","times","once","twice","thrice"]),e.cdecl(O,"ARGS_CONSTRAINTS",["with"]),e.cdecl(O,"CONSTRAINTS",t(t(O.get("COUNT_CONSTRAINTS"),O.get("ARGS_CONSTRAINTS")),["ordered"])),e.defn(R,"$initialize",i=function(e){var t=this,r=i.$$p,$=r||n;return i.$$p=null,t.method_name=e,t.block=$,t.constraints=[],t.subject=n},i.$$arity=1),e.defn(R,"$name",o=function(){return"have_received"},o.$$arity=0),e.defn(R,"$matches?",s=function(e){var t,r=this,$=s.$$p,a=$||n;return s.$$p=null,(t=r.block)!==!1&&t!==n&&null!=t?t:r.block=a,r.subject=e,r.expectation=r.$expect(),r.$mock_proxy().$ensure_implemented(r.method_name),r["$expected_messages_received_in_order?"]()},s.$$arity=1),e.defn(R,"$does_not_match?",l=function(e){var t=this;return t.subject=e,t.$ensure_count_unconstrained(),t.expectation=t.$expect().$never(),t.$mock_proxy().$ensure_implemented(t.method_name),t["$expected_messages_received_in_order?"]()},l.$$arity=1),e.defn(R,"$failure_message",u=function(){var e=this;return e.$generate_failure_message()},u.$$arity=0),e.defn(R,"$failure_message_when_negated",c=function(){var e=this;return e.$generate_failure_message()},c.$$arity=0),e.defn(R,"$description",_=function(){var e=this;return e.$expect().$description()},_.$$arity=0),(p=(f=O.get("CONSTRAINTS")).$each,p.$$p=(d=function(t){var r,$,a,i=d.$$s||this;return null==t&&(t=n),(r=($=i).$define_method,r.$$p=(a=function(){var r,$=a.$$s||this;null==$.constraints&&($.constraints=n);var i=arguments.length,o=i-0;0>o&&(o=0),r=new Array(o);for(var s=0;i>s;s++)r[s-0]=arguments[s];return $.constraints["$<<"]([t].concat(e.to_a(r))),$},a.$$s=i,a.$$arity=-1,a),r).call($,t)},d.$$s=R,d.$$arity=1,d),p).call(f),e.defn(R,"$setup_allowance",h=function(){var e=this;h.$$p;return h.$$p=null,e.$disallow("allow"," as it would have no effect")},h.$$arity=1),e.defn(R,"$setup_any_instance_allowance",g=function(){var e=this;g.$$p;return g.$$p=null,e.$disallow("allow_any_instance_of")},g.$$arity=1),e.defn(R,"$setup_any_instance_expectation",m=function(){var e=this;m.$$p;return m.$$p=null,e.$disallow("expect_any_instance_of")},m.$$arity=1),R.$private(),e.defn(R,"$disallow",y=function(e,t){var r=this;return null==t&&(t=""),r.$raise(O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Using "+e+"(...) with the `have_received` "+("matcher is not supported"+t+"."))},y.$$arity=-2),e.defn(R,"$expect",v=function(){var e,t=this,r=n;return(e=t.expectation)!==!1&&e!==n&&null!=e?e:t.expectation=function(){return r=t.$mock_proxy().$build_expectation(t.method_name),t.$apply_constraints_to(r),r}()},v.$$arity=0),e.defn(R,"$apply_constraints_to",b=function(t){var r,$,a,i=this;return(r=($=i.constraints).$each,r.$$p=(a=function(r){var $;a.$$s||this;return null==r&&(r=n),($=t).$send.apply($,e.to_a(r))},a.$$s=i,a.$$arity=1,a),r).call($)},b.$$arity=1),e.defn(R,"$ensure_count_unconstrained",x=function(){var e,t=this;return(e=t.$count_constraint())===n||null==e||e.$$is_boolean&&1!=e?n:t.$raise(O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"can't use "+t.$count_constraint()+" when negative")},x.$$arity=0),e.defn(R,"$count_constraint",w=function(){var e,t,r,$,a,i=this;return(e=(t=($=(a=i.constraints).$map,$.$$p="first".$to_proc(),$).call(a)).$find,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),O.get("COUNT_CONSTRAINTS")["$include?"](e)},r.$$s=i,r.$$arity=1,r),e).call(t)},w.$$arity=0),e.defn(R,"$generate_failure_message",k=function(){var t=this,r=n;try{return t.$mock_proxy().$check_for_unexpected_arguments(t.expectation),t.expectation.$generate_error()}catch($){if(!e.rescue($,[O.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError")]))throw $;r=$;try{return r.$message()}finally{e.pop_exception()}}},k.$$arity=0),e.defn(R,"$expected_messages_received_in_order?",S=function(){var e,t,r=this;return(e=(t=r.$mock_proxy()).$replay_received_message_on,e.$$p=r.block.$to_proc(),e).call(t,r.expectation),e=r.expectation["$expected_messages_received?"](),e!==!1&&e!==n&&null!=e?r.expectation["$ensure_expected_ordering_received!"]():e},S.$$arity=0),e.defn(R,"$mock_proxy",E=function(){var e=this;return O.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(e.subject)},E.$$arity=0),n&&"mock_proxy"}(s.base,null)}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/mocks/matchers/receive"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_mocks","$warn_if_any_instance","$setup_mock_proxy_method_substitute","$unshift","$new","$setup_expectation","$to_proc","$setup_any_instance_method_substitute","$each","$method_defined?","$define_method","$<<","$public_instance_methods","$private","$===","$warning","$klass","$proxy_for","$space","$setup_method_substitute","$any_instance_proxy_for","$to_sym","$move_block_to_last_customization","$__send__","$playback_onto","$last","$block","$block="]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("matchers/expectation_customization"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b=n=$(t,$super,"Receive",n),x=b.$$proto,w=b.$$scope;return x.recorded_customizations=x.message=x.block=r,e.defn(b,"$initialize",a=function(e,t){var r=this;return r.message=e,r.block=t,r.recorded_customizations=[]},a.$$arity=2),e.defn(b,"$name",i=function(){return"receive"},i.$$arity=0),e.defn(b,"$setup_expectation",o=function(e){var t=this,n=o.$$p,$=n||r;return o.$$p=null,t.$warn_if_any_instance("expect",e),t.$setup_mock_proxy_method_substitute(e,"add_message_expectation",$)},o.$$arity=1),e.alias(b,"matches?","setup_expectation"),e.defn(b,"$setup_negative_expectation",s=function(e){var t,n,$=this,a=s.$$p,i=a||r;return s.$$p=null,$.recorded_customizations.$unshift(w.get("ExpectationCustomization").$new("never",[],r)),$.$warn_if_any_instance("expect",e),(t=(n=$).$setup_expectation,t.$$p=i.$to_proc(),t).call(n,e)},s.$$arity=1),e.alias(b,"does_not_match?","setup_negative_expectation"),e.defn(b,"$setup_allowance",l=function(e){var t=this,n=l.$$p,$=n||r;return l.$$p=null,t.$warn_if_any_instance("allow",e),t.$setup_mock_proxy_method_substitute(e,"add_stub",$)},l.$$arity=1),e.defn(b,"$setup_any_instance_expectation",u=function(e){var t=this,n=u.$$p,$=n||r;return u.$$p=null,t.$setup_any_instance_method_substitute(e,"should_receive",$)},u.$$arity=1),e.defn(b,"$setup_any_instance_negative_expectation",c=function(e){var t=this,n=c.$$p,$=n||r;return c.$$p=null,t.$setup_any_instance_method_substitute(e,"should_not_receive",$)},c.$$arity=1),e.defn(b,"$setup_any_instance_allowance",_=function(e){var t=this,n=_.$$p,$=n||r;return _.$$p=null,t.$setup_any_instance_method_substitute(e,"stub",$)},_.$$arity=1),(p=(f=w.get("MessageExpectation").$public_instance_methods(!1)).$each,p.$$p=(d=function(e){var t,n,$,a=d.$$s||this;return null==e&&(e=r),(t=a["$method_defined?"](e))===r||null==t||t.$$is_boolean&&1!=t?(t=(n=a).$define_method,t.$$p=($=function(){var t,n,a=$.$$s||this;null==a.recorded_customizations&&(a.recorded_customizations=r),t=$.$$p||r,$.$$p=null;var i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return a.recorded_customizations["$<<"](w.get("ExpectationCustomization").$new(e,n,t)),a},$.$$s=a,$.$$arity=-1,$),t).call(n,e):r},d.$$s=b,d.$$arity=1,d),p).call(f),b.$private(),e.defn(b,"$warn_if_any_instance",h=function(e,t){var n;return(n=w.get("AnyInstance").$$scope.get("Proxy")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n?r:w.get("RSpec").$warning("`"+e+"("+t.$klass()+".any_instance).to` is probably not what you meant, it does not operate on "+("any instance of `"+t.$klass()+"`. ")+("Use `"+e+"_any_instance_of("+t.$klass()+").to` instead."))},h.$$arity=2),e.defn(b,"$setup_mock_proxy_method_substitute",g=function(t,n,$){var a=this,i=r;return i=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),a.$setup_method_substitute(i,n,$)},g.$$arity=3),e.defn(b,"$setup_any_instance_method_substitute",m=function(t,n,$){var a=this,i=r;return i=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),a.$setup_method_substitute(i,n,$)},m.$$arity=3),e.defn(b,"$setup_method_substitute",y=function(t,n,$){var a,i,o,s,l,u=this,c=r,_=arguments.length,p=_-3;0>p&&(p=0),l=new Array(p);for(var f=3;_>f;f++)l[f-3]=arguments[f];return l["$<<"](u.message.$to_sym()),$=u.$move_block_to_last_customization($),c=(a=(i=t).$__send__,a.$$p=((o=u.block)!==!1&&o!==r&&null!=o?o:$).$to_proc(),a).apply(i,[n].concat(e.to_a(l))),(a=(o=u.recorded_customizations).$each,a.$$p=(s=function(e){s.$$s||this;return null==e&&(e=r),e.$playback_onto(c)},s.$$s=u,s.$$arity=1,s),a).call(o),c},y.$$arity=-4),e.defn(b,"$move_block_to_last_customization",v=function(e){var t,n,$=this,a=r;return a=$.recorded_customizations.$last(),a===!1||a===r||null==a?e:(t=a,(n=t.$block())!==!1&&n!==r&&null!=n?n:t["$block="](e),r)},v.$$arity=1),r&&"move_block_to_last_customization"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/matchers/receive_message_chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_mocks","$each","$define_method","$<<","$new","$stub_chain_on","$to_proc","$replay_customizations","$any_instance_proxy_for","$space","$stub_chain","$expect_chain","$expect_chain_on","$raise","$private","$playback_onto"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("matchers/expectation_customization"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"ReceiveMessageChain",n),g=h.$$proto,m=h.$$scope;return g.block=g.chain=g.recorded_customizations=r,e.defn(h,"$initialize",a=function(e){var t=this,n=a.$$p,$=n||r;return a.$$p=null,t.chain=e,t.block=$,t.recorded_customizations=[]},a.$$arity=1),(i=(o=["with","and_return","and_throw","and_raise","and_yield","and_call_original"]).$each,i.$$p=(s=function(e){var t,n,$,a=s.$$s||this;return null==e&&(e=r),(t=(n=a).$define_method,t.$$p=($=function(){var t,n,a=$.$$s||this;null==a.recorded_customizations&&(a.recorded_customizations=r),t=$.$$p||r,$.$$p=null;var i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return a.recorded_customizations["$<<"](m.get("ExpectationCustomization").$new(e,n,t)),a},$.$$s=a,$.$$arity=-1,$),t).call(n,e)},s.$$s=h,s.$$arity=1,s),i).call(o),e.defn(h,"$name",l=function(){return"receive_message_chain"},l.$$arity=0),e.defn(h,"$setup_allowance",u=function(t){var n,$,a,i=this,o=u.$$p,s=o||r,l=r;return u.$$p=null,l=(n=($=m.get("StubChain")).$stub_chain_on,n.$$p=((a=i.block)!==!1&&a!==r&&null!=a?a:s).$to_proc(),n).apply($,[t].concat(e.to_a(i.chain))),i.$replay_customizations(l)},u.$$arity=1),e.defn(h,"$setup_any_instance_allowance",c=function(t){var n,$,a,i=this,o=c.$$p,s=o||r,l=r,u=r;return c.$$p=null,l=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),u=(n=($=l).$stub_chain,n.$$p=((a=i.block)!==!1&&a!==r&&null!=a?a:s).$to_proc(),n).apply($,e.to_a(i.chain)),i.$replay_customizations(u)},c.$$arity=1),e.defn(h,"$setup_any_instance_expectation",_=function(t){var n,$,a,i=this,o=_.$$p,s=o||r,l=r,u=r;return _.$$p=null,l=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t),u=(n=($=l).$expect_chain,n.$$p=((a=i.block)!==!1&&a!==r&&null!=a?a:s).$to_proc(),n).apply($,e.to_a(i.chain)),i.$replay_customizations(u)},_.$$arity=1),e.defn(h,"$setup_expectation",p=function(t){var n,$,a,i=this,o=p.$$p,s=o||r,l=r;return p.$$p=null,l=(n=($=m.get("ExpectChain")).$expect_chain_on,n.$$p=((a=i.block)!==!1&&a!==r&&null!=a?a:s).$to_proc(),n).apply($,[t].concat(e.to_a(i.chain))),i.$replay_customizations(l)},p.$$arity=1),e.defn(h,"$setup_negative_expectation",f=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$raise(m.get("NegationUnsupportedError"),"`expect(...).not_to receive_message_chain` is not supported since it doesn't really make sense. What would it even mean?")},f.$$arity=-1),e.alias(h,"matches?","setup_expectation"),e.alias(h,"does_not_match?","setup_negative_expectation"),h.$private(),e.defn(h,"$replay_customizations",d=function(e){var t,n,$,a=this;return(t=(n=a.recorded_customizations).$each,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t.$playback_onto(e)},$.$$s=a,$.$$arity=1,$),t).call(n)},d.$$arity=1),r&&"replay_customizations"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/matchers/receive_messages"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$first_non_rspec_line","$warn_about_block","$each_message_on","$add_simple_expectation","$proxy_on","$raise","$add_simple_stub","$and_return","$should_receive","$any_instance_of","$stub","$private","$proxy_for","$space","$any_instance_proxy_for","$each"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"ReceiveMessages",n),g=h.$$proto,m=h.$$scope;return g.message_return_value_hash=r,e.defn(h,"$initialize",a=function(e){var t=this;return t.message_return_value_hash=e,t.backtrace_line=m.get("CallerFilter").$first_non_rspec_line()},a.$$arity=1),e.defn(h,"$name",i=function(){return"receive_messages"},i.$$arity=0),e.defn(h,"$setup_expectation",o=function(e){var t,n,$,a=this,i=o.$$p,s=i||r;return o.$$p=null,s!==r&&a.$warn_about_block(),(t=(n=a).$each_message_on,t.$$p=($=function(e,t,n){var a=$.$$s||this;return null==a.backtrace_line&&(a.backtrace_line=r),null==e&&(e=r),null==t&&(t=r),null==n&&(n=r),e.$add_simple_expectation(t,n,a.backtrace_line)},$.$$s=a,$.$$arity=3,$),t).call(n,a.$proxy_on(e))},o.$$arity=1),e.alias(h,"matches?","setup_expectation"),e.defn(h,"$setup_negative_expectation",s=function(){var e=this;return e.$raise(m.get("NegationUnsupportedError"),"`expect(...).to_not receive_messages` is not supported since it doesn't really make sense. What would it even mean?")},s.$$arity=1),e.alias(h,"does_not_match?","setup_negative_expectation"),e.defn(h,"$setup_allowance",l=function(e){var t,n,$,a=this,i=l.$$p,o=i||r;return l.$$p=null,o!==r&&a.$warn_about_block(),(t=(n=a).$each_message_on,t.$$p=($=function(e,t,n){$.$$s||this;return null==e&&(e=r),null==t&&(t=r),null==n&&(n=r),e.$add_simple_stub(t,n)},$.$$s=a,$.$$arity=3,$),t).call(n,a.$proxy_on(e))},l.$$arity=1),e.defn(h,"$setup_any_instance_expectation",u=function(e){var t,n,$,a=this,i=u.$$p,o=i||r;return u.$$p=null,o!==r&&a.$warn_about_block(),(t=(n=a).$each_message_on,t.$$p=($=function(e,t,n){$.$$s||this;return null==e&&(e=r),null==t&&(t=r),null==n&&(n=r),e.$should_receive(t).$and_return(n)},$.$$s=a,$.$$arity=3,$),t).call(n,a.$any_instance_of(e))},u.$$arity=1),e.defn(h,"$setup_any_instance_allowance",c=function(e){var t=this,n=c.$$p,$=n||r;return c.$$p=null,$!==r&&t.$warn_about_block(),t.$any_instance_of(e).$stub(t.message_return_value_hash)},c.$$arity=1),e.defn(h,"$warn_about_block",_=function(){var e=this;return e.$raise("Implementation blocks aren't supported with `receive_messages`")},_.$$arity=0),h.$private(),e.defn(h,"$proxy_on",p=function(t){return e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t)},p.$$arity=1),e.defn(h,"$any_instance_of",f=function(t){return e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t)},f.$$arity=1),e.defn(h,"$each_message_on",d=function(t){var n,$,a,i=this,o=d.$$p,s=o||r;return d.$$p=null,(n=($=i.message_return_value_hash).$each,n.$$p=(a=function(n,$){a.$$s||this;return null==n&&(n=r),null==$&&($=r),e.yieldX(s,[t,n,$])},a.$$s=i,a.$$arity=2,a),n).call($)},d.$$arity=1),r&&"each_message_on"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks"]=function(e){var t,r,n,$,a,i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.module),u=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$define_optimized_require_for_rspec","$each","$require_rspec_mocks","$<<","$new_scope","$space","$verify_all","$reset_all","$pop","$last","$add_stub","$to_proc","$proxy_for","$add_message_expectation","$setup","$verify","$teardown","$attr_reader","$new","$autoload"]),i.$require("rspec/support"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("warnings"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("ruby_features"),(t=(r=o.get("RSpec").$$scope.get("Support")).$define_optimized_require_for_rspec,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=s),t.$require("rspec/mocks/../"+e)},n.$$s=i,n.$$arity=1,n),t).call(r,"mocks"),(t=($=["instance_method_stasher","method_double","argument_matchers","example_methods","proxy","test_double","argument_list_matcher","message_expectation","order_group","error_generator","space","mutate_const","targets","syntax","configuration","verifying_double","version"]).$each,t.$$p=(a=function(e){a.$$s||this;return null==e&&(e=s),o.get("RSpec").$$scope.get("Support").$require_rspec_mocks(e)},a.$$s=i,a.$$arity=1,a),t).call($),function(t){var r,n=r=l(t,"RSpec"),$=(n.$$proto,n.$$scope);!function(t){var r,n,$,a,i,o,c,_=r=l(t,"Mocks"),p=(_.$$proto,_.$$scope);e.defs(_,"$setup",n=function(){var e=this;return null==e.space_stack&&(e.space_stack=s),e.space_stack["$<<"](e.space=e.$space().$new_scope())},n.$$arity=0),e.defs(_,"$verify",$=function(){var e=this;return e.$space().$verify_all()},$.$$arity=0),e.defs(_,"$teardown",a=function(){var e,t=this;return null==t.space_stack&&(t.space_stack=s),null==t.root_space&&(t.root_space=s),t.$space().$reset_all(),t.space_stack.$pop(),t.space=(e=t.space_stack.$last())!==!1&&e!==s&&null!=e?e:t.root_space},a.$$arity=0),e.defs(_,"$allow_message",i=function(e,t,r){var n,$,a=this,o=i.$$p,l=o||s;return null==r&&(r=u([],{})),i.$$p=null,(n=($=a.$space().$proxy_for(e)).$add_stub,n.$$p=l.$to_proc(),n).call($,t,r)},i.$$arity=-3),e.defs(_,"$expect_message",o=function(e,t,r){var n,$,a=this,i=o.$$p,l=i||s;return null==r&&(r=u([],{})),o.$$p=null,(n=($=a.$space().$proxy_for(e)).$add_message_expectation,n.$$p=l.$to_proc(),n).call($,t,r)},o.$$arity=-3),e.defs(_,"$with_temporary_scope",c=function(){var t=this,r=c.$$p,n=r||s;c.$$p=null,t.$setup();try{return e.yieldX(n,[]),t.$verify()}finally{t.$teardown()}},c.$$arity=0),function(e){e.$$scope,e.$$proto;return e.$attr_reader("space")}(e.get_singleton_class(_)),_.space_stack=[],_.root_space=_.space=p.get("RSpec").$$scope.get("Mocks").$$scope.get("RootSpace").$new(),e.cdecl(p,"IGNORED_BACKTRACE_LINE","this backtrace line is ignored"),_.$autoload("AnyInstance","rspec/mocks/any_instance"),_.$autoload("ExpectChain","rspec/mocks/message_chain"),_.$autoload("StubChain","rspec/mocks/message_chain"),_.$autoload("MarshalExtension","rspec/mocks/marshal_extension"),function(e){var t,r=t=l(e,"Matchers");r.$$proto,r.$$scope;r.$autoload("HaveReceived","rspec/mocks/matchers/have_received"),r.$autoload("Receive","rspec/mocks/matchers/receive"),r.$autoload("ReceiveMessageChain","rspec/mocks/matchers/receive_message_chain"),r.$autoload("ReceiveMessages","rspec/mocks/matchers/receive_messages")}(p.base)}($.base)}(o.base)},Opal.modules["rspec/core/mocking_adapters/rspec"]=function(e){var t=e.top,r=e,n=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require","$include","$configuration","$setup","$verify","$teardown"]),t.$require("rspec/mocks"),function(t){var r,$=r=n(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var r,$=r=n(t,"Core"),a=($.$$proto,$.$$scope);!function(t){var r,$=r=n(t,"MockingAdapters"),a=($.$$proto,$.$$scope);!function(t){var r,$,a,i,o,s,l=r=n(t,"RSpec");l.$$proto,l.$$scope;l.$include(e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods")),e.defs(l,"$framework_name",$=function(){return"rspec"},$.$$arity=0),e.defs(l,"$configuration",a=function(){return e.get("RSpec").$$scope.get("Mocks").$configuration()},a.$$arity=0),e.defn(l,"$setup_mocks_for_rspec",i=function(){return e.get("RSpec").$$scope.get("Mocks").$setup()},i.$$arity=0),e.defn(l,"$verify_mocks_for_rspec",o=function(){return e.get("RSpec").$$scope.get("Mocks").$verify()},o.$$arity=0),e.defn(l,"$teardown_mocks_for_rspec",s=function(){return e.get("RSpec").$$scope.get("Mocks").$teardown()},s.$$arity=0)}(a.base)}(a.base)}(a.base)}(r.base)},Opal.modules["rspec/core/notifications"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var o=(e.top,e),s=e.nil,l=(e.breaker,e.slice,e.module),u=e.klass,c=e.range,_=e.hash2;return e.add_stubs(["$require_rspec_core","$require_rspec_support","$module_function","$new","$pending_fixed?","$execution_result","$==","$status","$private_class_method","$examples","$failed_examples","$pending_examples","$format_examples","$each_with_index","$<<","$fully_formatted","$next","$failure_notifications","$each","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$private","$map","$for","$public_class_method","$exception","$example","$add_shared_group_line","$failure_lines","$failure_color","$format_backtrace","$backtrace","$metadata","$detail_color","$formatted_backtrace","$description","$encoding_of","$colorized_message_lines","$colorized_formatted_backtrace","$method_defined?","$encoding","$to_s","$name","$class","$strip","$read_failed_line","$=~","$exception_class_name","$message","$split","$shared_group_line","$default_color","$find","$[]","$group_and_parent_groups","$shared_group","$+","$parent_groups","$example_group","$find_failed_line","$match","$exist?","$readlines","$-","$to_i","$expand_path","$file_path","$downcase","$fixed_color","$message_lines","$!","$used","$seed","$size","$pluralize","$example_count","$failure_count","$>","$pending_count","$totals_line","$pending_color","$success_color","$join","$format_duration","$duration","$load_time","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$colorized_rerun_commands","$first","$sort_by","$-@","$run_time","$number_of_examples","$inject","$slowest_examples","$/","$slow_duration","$%","$*","$nan?","$calculate_slowest_groups","$last","$[]=","$key?","$top_level_description","$<=","$length","$keys","$each_value","$to_f"]),o.get("RSpec").$$scope.get("Support").$require_rspec_core("formatters/helpers"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("encoded_string"),function(o){var p,f=p=l(o,"Core"),d=(f.$$proto,f.$$scope);!function(o){var p,f,d,h,g,m,y,v,b,x,w,k,S=p=l(o,"Notifications"),E=(S.$$proto,S.$$scope);!function(t){var r,n,$=r=l(t,"NullColorizer");$.$$proto,$.$$scope;$.$module_function(),e.defn($,"$wrap",n=function(e){return e},n.$$arity=2)}(E.base),e.cdecl(E,"StartNotification",E.get("Struct").$new("count","load_time")),e.cdecl(E,"ExampleNotification",(f=(d=E.get("Struct")).$new,f.$$p=(h=function(){var t,r=h.$$s||this;return e.defs(r,"$for",t=function(e){var t,r=this;return(t=e.$execution_result()["$pending_fixed?"]())===s||null==t||t.$$is_boolean&&1!=t?e.$execution_result().$status()["$=="]("failed")?E.get("FailedExampleNotification").$new(e):r.$new(e):E.get("PendingExampleFixedNotification").$new(e)},t.$$arity=1),r.$private_class_method("new")},h.$$s=S,h.$$arity=0,h),f).call(d,"example")),function(t,$super){function r(){}var n,$,a,i,o,l,c,_,p,f=r=u(t,$super,"ExamplesNotification",r),d=f.$$proto,h=f.$$scope;return d.reporter=d.notifications=d.failed_notifications=s,e.defn(f,"$initialize",n=function(e){var t=this;return t.reporter=e},n.$$arity=1),e.defn(f,"$examples",$=function(){var e=this;return e.reporter.$examples()},$.$$arity=0),e.defn(f,"$failed_examples",a=function(){var e=this;return e.reporter.$failed_examples()},a.$$arity=0),e.defn(f,"$pending_examples",i=function(){var e=this;return e.reporter.$pending_examples()},i.$$arity=0),e.defn(f,"$notifications",o=function(){var e,t=this;return(e=t.notifications)!==!1&&e!==s&&null!=e?e:t.notifications=t.$format_examples(t.$examples())},o.$$arity=0),e.defn(f,"$failure_notifications",l=function(){var e,t=this;return(e=t.failed_notifications)!==!1&&e!==s&&null!=e?e:t.failed_notifications=t.$format_examples(t.$failed_examples())},l.$$arity=0),e.defn(f,"$fully_formatted_failed_examples",c=function(t){var r,n,$,a=this,i=s;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),i="\nFailures:\n",(r=(n=a.$failure_notifications()).$each_with_index,r.$$p=($=function(e,r){$.$$s||this;return null==e&&(e=s),null==r&&(r=s),i["$<<"](e.$fully_formatted(r.$next(),t))},$.$$s=a,$.$$arity=2,$),r).call(n),i},c.$$arity=-1),e.defn(f,"$fully_formatted_pending_examples",_=function(t){var r,n,$,a=this,i=s;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),i="\nPending:\n",(r=(n=a.$pending_examples()).$each,r.$$p=($=function(e){var r=($.$$s||this,s);return null==e&&(e=s),r=h.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(e.$location()),i["$<<"]("  "+t.$wrap(e.$full_description(),"pending")+"\n"+("    # "+t.$wrap(e.$execution_result().$pending_message(),"detail")+"\n")+("    # "+t.$wrap(r,"detail")+"\n"))},$.$$s=a,$.$$arity=1,$),r).call(n),i},_.$$arity=-1),f.$private(),e.defn(f,"$format_examples",p=function(e){var t,r,n,$=this;return(t=(r=e).$map,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=s),h.get("ExampleNotification").$for(e)},n.$$s=$,n.$$arity=1,n),t).call(r)},p.$$arity=1),s&&"format_examples"}(E.base,null),function(n,$super){function $(){}var a,i,o,l,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R=$=u(n,$super,"FailedExampleNotification",$),A=R.$$proto,O=R.$$scope;
return A.failure_lines=A.shared_group=A.shared_group_line=s,R.$public_class_method("new"),e.defn(R,"$exception",a=function(){var e=this;return e.$example().$execution_result().$exception()},a.$$arity=0),e.defn(R,"$description",i=function(){var e=this;return e.$example().$full_description()},i.$$arity=0),e.defn(R,"$message_lines",o=function(){var e=this;return e.$add_shared_group_line(e.$failure_lines(),O.get("NullColorizer"))},o.$$arity=0),e.defn(R,"$colorized_message_lines",l=function(t){var r,n,$,a=this;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),(r=(n=a.$add_shared_group_line(a.$failure_lines(),t)).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=s),t.$wrap(e,O.get("RSpec").$configuration().$failure_color())},$.$$s=a,$.$$arity=1,$),r).call(n)},l.$$arity=-1),e.defn(R,"$formatted_backtrace",_=function(){var e=this;return e.$backtrace_formatter().$format_backtrace(e.$exception().$backtrace(),e.$example().$metadata())},_.$$arity=0),e.defn(R,"$colorized_formatted_backtrace",p=function(t){var r,n,$,a=this;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),(r=(n=a.$formatted_backtrace()).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=s),t.$wrap("# "+e,O.get("RSpec").$configuration().$detail_color())},$.$$s=a,$.$$arity=1,$),r).call(n)},p.$$arity=-1),e.defn(R,"$fully_formatted",f=function(t,r){var n,$,a,i,o,l=this,u=s;return null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),u="\n  "+t+") "+l.$description()+"\n",(n=($=l.$colorized_message_lines(r)).$each,n.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=s),u["$<<"](O.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+e+"\n",t.$encoding_of(u)))},a.$$s=l,a.$$arity=1,a),n).call($),(n=(i=l.$colorized_formatted_backtrace(r)).$each,n.$$p=(o=function(e){var t=o.$$s||this;return null==e&&(e=s),u["$<<"](O.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+e+"\n",t.$encoding_of(u)))},o.$$s=l,o.$$arity=1,o),n).call(i),u},f.$$arity=-2),R.$private(),(d=O.get("String")["$method_defined?"]("encoding"))===s||null==d||d.$$is_boolean&&1!=d?e.defn(R,"$encoding_of",g=function(){return s},g.$$arity=1):e.defn(R,"$encoding_of",h=function(e){return e.$encoding()},h.$$arity=1),e.defn(R,"$backtrace_formatter",m=function(){return O.get("RSpec").$configuration().$backtrace_formatter()},m.$$arity=0),e.defn(R,"$exception_class_name",y=function(){var e=this,t=s;return t=e.$exception().$class().$name().$to_s(),t["$=="]("")&&(t="(anonymous error class)"),t},y.$$arity=0),e.defn(R,"$failure_lines",v=function(){var e,t,r,n,$=this,a=s;return(e=$.failure_lines)!==!1&&e!==s&&null!=e?e:$.failure_lines=function(){return a=["Failure/Error: "+$.$read_failed_line().$strip()],((t=$.$exception_class_name()["$=~"](/RSpec/))===s||null==t||t.$$is_boolean&&1!=t)&&a["$<<"](""+$.$exception_class_name()+":"),(t=(r=$.$exception().$message().$to_s().$split("\n")).$each,t.$$p=(n=function(e){var t,r=n.$$s||this;return null==e&&(e=s),(t=r.$exception().$message())===s||null==t||t.$$is_boolean&&1!=t?s:a["$<<"]("  "+e)},n.$$s=$,n.$$arity=1,n),t).call(r),a}()},v.$$arity=0),e.defn(R,"$add_shared_group_line",b=function(e,t){var r=this;return r.$shared_group_line()["$=="]("")||e["$<<"](t.$wrap(r.$shared_group_line(),O.get("RSpec").$configuration().$default_color())),e},b.$$arity=2),e.defn(R,"$shared_group",x=function(){var e,t,r,n,$=this;return(e=$.shared_group)!==!1&&e!==s&&null!=e?e:$.shared_group=(t=(r=$.$group_and_parent_groups()).$find,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=s),e.$metadata()["$[]"]("shared_group_name")},n.$$s=$,n.$$arity=1,n),t).call(r)},x.$$arity=0),e.defn(R,"$shared_group_line",w=function(){var e,t,r=this;return(e=r.shared_group_line)!==!1&&e!==s&&null!=e?e:r.shared_group_line=function(){return(t=r.$shared_group())===s||null==t||t.$$is_boolean&&1!=t?"":'Shared Example Group: "'+r.$shared_group().$metadata()["$[]"]("shared_group_name")+'" called from '+r.$backtrace_formatter().$backtrace_line(r.$shared_group().$location())}()},w.$$arity=0),e.defn(R,"$group_and_parent_groups",k=function(){var e=this;return t(e.$example().$example_group().$parent_groups(),[e.$example().$example_group()])},k.$$arity=0),e.defn(R,"$read_failed_line",S=function(){var t,n,$=this,a=s,i=s,o=s;try{return a=$.$find_failed_line(),a===!1||a===s||null==a?"Unable to find matching line from backtrace":(n=a.$match(/(.+?):(\d+)(|:\d+)/)["$[]"](c(1,2,!1)),t=e.to_ary(n),i=null==t[0]?s:t[0],o=null==t[1]?s:t[1],n,(t=O.get("File")["$exist?"](i))===s||null==t||t.$$is_boolean&&1!=t?"Unable to find "+i+" to read failed line":(t=O.get("File").$readlines(i)["$[]"](r(o.$to_i(),1)))!==!1&&t!==s&&null!=t?t:"Unable to find matching line in "+i)}catch(l){if(!e.rescue(l,[O.get("SecurityError")]))throw l;try{return"Unable to read failed line"}finally{e.pop_exception()}}},S.$$arity=0),e.defn(R,"$find_failed_line",E=function(){var e,t,r,n=this,$=s;return $=O.get("File").$expand_path(n.$example().$file_path()),(e=(t=n.$exception().$backtrace()).$find,e.$$p=(r=function(e){var t,n=(r.$$s||this,s);return null==e&&(e=s),n=e.$match(/(.+?):(\d+)(|:\d+)/),(t=n!==!1&&n!==s&&null!=n)?n["$[]"](1).$downcase()["$=="]($.$downcase()):n},r.$$s=n,r.$$arity=1,r),e).call(t)},E.$$arity=0),s&&"find_failed_line"}(E.base,E.get("ExampleNotification")),function(t,$super){function r(){}var n,$,a,i=r=u(t,$super,"PendingExampleFixedNotification",r),o=(i.$$proto,i.$$scope);return i.$public_class_method("new"),e.defn(i,"$description",n=function(){var e=this;return""+e.$example().$full_description()+" FIXED"},n.$$arity=0),e.defn(i,"$message_lines",$=function(){var e=this;return["Expected pending '"+e.$example().$execution_result().$pending_message()+"' to fail. No Error was raised."]},$.$$arity=0),e.defn(i,"$colorized_message_lines",a=function(t){var r,n,$,a=this;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),(r=(n=a.$message_lines()).$map,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=s),t.$wrap(e,o.get("RSpec").$configuration().$fixed_color())},$.$$s=a,$.$$arity=1,$),r).call(n)},a.$$arity=-1),s&&"colorized_message_lines"}(E.base,E.get("FailedExampleNotification")),e.cdecl(E,"GroupNotification",E.get("Struct").$new("group")),e.cdecl(E,"MessageNotification",E.get("Struct").$new("message")),e.cdecl(E,"SeedNotification",(f=(g=E.get("Struct")).$new,f.$$p=(m=function(){var t,r,n=m.$$s||this;return e.def(n,"$seed_used?",t=function(){var e=this;return e.$used()["$!"]()["$!"]()},t.$$arity=0),n.$private("used"),e.def(n,"$fully_formatted",r=function(){var e=this;return"\nRandomized with seed "+e.$seed()+"\n\n"},r.$$arity=0),s&&"fully_formatted"},m.$$s=S,m.$$arity=0,m),f).call(g,"seed","used")),e.cdecl(E,"SummaryNotification",(f=(y=E.get("Struct")).$new,f.$$p=(v=function(){var r,$,a,i,o,l,u,c,_,p=v.$$s||this;return e.def(p,"$example_count",r=function(){var e,t=this;return null==t.example_count&&(t.example_count=s),(e=t.example_count)!==!1&&e!==s&&null!=e?e:t.example_count=t.$examples().$size()},r.$$arity=0),e.def(p,"$failure_count",$=function(){var e,t=this;return null==t.failure_count&&(t.failure_count=s),(e=t.failure_count)!==!1&&e!==s&&null!=e?e:t.failure_count=t.$failed_examples().$size()},$.$$arity=0),e.def(p,"$pending_count",a=function(){var e,t=this;return null==t.pending_count&&(t.pending_count=s),(e=t.pending_count)!==!1&&e!==s&&null!=e?e:t.pending_count=t.$pending_examples().$size()},a.$$arity=0),e.def(p,"$totals_line",i=function(){var e,t=this,r=s;return r=E.get("Formatters").$$scope.get("Helpers").$pluralize(t.$example_count(),"example"),r["$<<"](", ")["$<<"](E.get("Formatters").$$scope.get("Helpers").$pluralize(t.$failure_count(),"failure")),(e=n(t.$pending_count(),0))===s||null==e||e.$$is_boolean&&1!=e||r["$<<"](", "+t.$pending_count()+" pending"),r},i.$$arity=0),e.def(p,"$colorized_totals_line",o=function(t){var r,$=this;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),(r=n($.$failure_count(),0))===s||null==r||r.$$is_boolean&&1!=r?(r=n($.$pending_count(),0))===s||null==r||r.$$is_boolean&&1!=r?t.$wrap($.$totals_line(),E.get("RSpec").$configuration().$success_color()):t.$wrap($.$totals_line(),E.get("RSpec").$configuration().$pending_color()):t.$wrap($.$totals_line(),E.get("RSpec").$configuration().$failure_color())},o.$$arity=-1),e.def(p,"$colorized_rerun_commands",l=function(r){var n,$,a,i=this;return null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),t("\nFailed examples:\n\n",(n=($=i.$failed_examples()).$map,n.$$p=(a=function(e){a.$$s||this;return null==e&&(e=s),t(t(r.$wrap("rspec "+e.$location(),E.get("RSpec").$configuration().$failure_color())," "),r.$wrap("# "+e.$full_description(),E.get("RSpec").$configuration().$detail_color()))},a.$$s=i,a.$$arity=1,a),n).call($).$join("\n"))},l.$$arity=-1),e.def(p,"$formatted_duration",u=function(){var e=this;return E.get("Formatters").$$scope.get("Helpers").$format_duration(e.$duration())},u.$$arity=0),e.def(p,"$formatted_load_time",c=function(){var e=this;return E.get("Formatters").$$scope.get("Helpers").$format_duration(e.$load_time())},c.$$arity=0),e.def(p,"$fully_formatted",_=function(t){var r,n=this,$=s;return null==t&&(t=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),$="\nFinished in "+n.$formatted_duration()+" "+("(files took "+n.$formatted_load_time()+" to load)\n")+(""+n.$colorized_totals_line(t)+"\n"),((r=n.$failed_examples()["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r)&&$["$<<"](n.$colorized_rerun_commands(t))["$<<"]("\n"),$},_.$$arity=-1),s&&"fully_formatted"},v.$$s=S,v.$$arity=0,v),f).call(y,"duration","examples","failed_examples","pending_examples","load_time")),e.cdecl(E,"ProfileNotification",(f=(b=E.get("Struct")).$new,f.$$p=(x=function(){var r,n,o,l,u,c=x.$$s||this;return e.def(c,"$slowest_examples",r=function(){var e,t,r,n,$=this;return null==$.slowest_examples&&($.slowest_examples=s),(e=$.slowest_examples)!==!1&&e!==s&&null!=e?e:$.slowest_examples=(t=(r=$.$examples()).$sort_by,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=s),e.$execution_result().$run_time()["$-@"]()},n.$$s=$,n.$$arity=1,n),t).call(r).$first($.$number_of_examples())},r.$$arity=0),e.def(c,"$slow_duration",n=function(){var e,r,n,$,a=this;return null==a.slow_duration&&(a.slow_duration=s),(e=a.slow_duration)!==!1&&e!==s&&null!=e?e:a.slow_duration=(r=(n=a.$slowest_examples()).$inject,r.$$p=($=function(e,r){$.$$s||this;return null==e&&(e=s),null==r&&(r=s),t(e,r.$execution_result().$run_time())},$.$$s=a,$.$$arity=2,$),r).call(n,0)},n.$$arity=0),e.def(c,"$percentage",o=function(){var e,t,r=this,n=s;return null==r.percentage&&(r.percentage=s),(e=r.percentage)!==!1&&e!==s&&null!=e?e:r.percentage=function(){return n=$(r.$slow_duration(),r.$duration()),"%.1f"["$%"](a(function(){return(t=n["$nan?"]())===s||null==t||t.$$is_boolean&&1!=t?n:0}(),100))}()},o.$$arity=0),e.def(c,"$slowest_groups",l=function(){var e,t=this;return null==t.slowest_groups&&(t.slowest_groups=s),(e=t.slowest_groups)!==!1&&e!==s&&null!=e?e:t.slowest_groups=t.$calculate_slowest_groups()},l.$$arity=0),c.$private(),e.def(c,"$calculate_slowest_groups",u=function(){var e,r,n,a,o,l,u,c=this,p=s;return p=_([],{}),(e=(r=c.$examples()).$each,e.$$p=(n=function(e){var r,$,a,i=(n.$$s||this,s),o=s;return null==e&&(e=s),i=e.$example_group().$parent_groups().$last().$metadata()["$[]"]("location"),r=i,$=p,o=(a=$["$[]"](r))!==!1&&a!==s&&null!=a?a:$["$[]="](r,E.get("Hash").$new(0)),r="total_time",$=o,$["$[]="](r,t($["$[]"](r),e.$execution_result().$run_time())),r="count",$=o,$["$[]="](r,t($["$[]"](r),1)),(r=o["$key?"]("description"))===s||null==r||r.$$is_boolean&&1!=r?o["$[]="]("description",e.$example_group().$top_level_description()):s},n.$$s=c,n.$$arity=1,n),e).call(r),(e=i(p.$keys().$length(),1))===s||null==e||e.$$is_boolean&&1!=e?((e=(a=p).$each_value,e.$$p=(o=function(e){o.$$s||this;return null==e&&(e=s),e["$[]="]("average",$(e["$[]"]("total_time").$to_f(),e["$[]"]("count")))},o.$$s=c,o.$$arity=1,o),e).call(a),(e=(l=p).$sort_by,e.$$p=(u=function(e,t){u.$$s||this;return null==e&&(e=s),null==t&&(t=s),t["$[]"]("average")["$-@"]()},u.$$s=c,u.$$arity=2,u),e).call(l).$first(c.$number_of_examples())):_([],{})},u.$$arity=0),s&&"calculate_slowest_groups"},x.$$s=S,x.$$arity=0,x),f).call(b,"duration","examples","number_of_examples")),e.cdecl(E,"DeprecationNotification",(f=(w=E.get("Struct")).$new,f.$$p=(k=function(){var t,r=k.$$s||this;return r.$private_class_method("new"),e.defs(r,"$from_hash",t=function(e){var t=this;return t.$new(e["$[]"]("deprecated"),e["$[]"]("message"),e["$[]"]("replacement"),e["$[]"]("call_site"))},t.$$arity=1),s&&"from_hash"},k.$$s=S,k.$$arity=0,k),f).call(w,"deprecated","message","replacement","call_site")),function(e,$super){function t(){}var r=t=u(e,$super,"NullNotification",t);r.$$proto,r.$$scope;return s}(E.base,null)}(d.base)}(o.get("RSpec"))},Opal.modules["rspec/core/option_parser"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2,o=e.gvars,s=e.range;return e.add_stubs(["$require","$parse","$new","$empty?","$delete","$parse!","$parser","$abort","$message","$banner=","$on","$[]","$[]=","$<<","$to_i","$require_rspec_core","$run","$exit","$separator","$last","$nil?","$==","$Integer","$warning","$compile","$escape","$=~","$split","$gsub","$to_sym","$===","$Float","$puts","$on_tail","$to_s","$join","$each","$raise"]),t.$require("optparse"),function(t){var r,l=r=$(t,"Core"),u=(l.$$proto,l.$$scope);!function(t,$super){function r(){}var $,l,u,c=r=a(t,$super,"Parser",r),_=(c.$$proto,c.$$scope);return e.defs(c,"$parse",$=function(e){var t=this;return t.$new().$parse(e)},$.$$arity=1),e.defn(c,"$parse",l=function(t){var r,$=this,a=n,o=n;if((r=t["$empty?"]())!==n&&null!=r&&(!r.$$is_boolean||1==r))return i([],{});a=function(){return(r=t.$delete("--tty"))===n||null==r||r.$$is_boolean&&1!=r?i([],{}):i(["tty"],{tty:!0})}();try{$.$parser(a)["$parse!"](t)}catch(s){if(!e.rescue(s,[_.get("OptionParser").$$scope.get("InvalidOption")]))throw s;o=s;try{$.$abort(""+o.$message()+"\n\nPlease use --help for a listing of valid options")}finally{e.pop_exception()}}return a},l.$$arity=1),e.defn(c,"$parser",u=function(t){var r,$,a,l=this;return(r=($=_.get("OptionParser")).$new,r.$$p=(a=function(r){var $,l,u,c,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le,ue=a.$$s||this,ce=n;return null==r&&(r=n),$=["Usage: rspec [options] [files or directories]\n\n"],l=r,l["$banner="].apply(l,$),$[$.length-1],($=(l=r).$on,$.$$p=(u=function(e){var r,$,a;u.$$s||this;return null==e&&(e=n),r="libs",$=t,(a=$["$[]"](r))!==!1&&a!==n&&null!=a?a:$["$[]="](r,[]),t["$[]"]("libs")["$<<"](e)},u.$$s=ue,u.$$arity=1,u),$).call(l,"-I PATH","Specify PATH to add to $LOAD_PATH (may be used more than once)."),($=(c=r).$on,$.$$p=(p=function(e){var r,$,a;p.$$s||this;return null==e&&(e=n),r="requires",$=t,(a=$["$[]"](r))!==!1&&a!==n&&null!=a?a:$["$[]="](r,[]),t["$[]"]("requires")["$<<"](e)},p.$$s=ue,p.$$arity=1,p),$).call(c,"-r","--require PATH","Require a file."),($=(f=r).$on,$.$$p=(d=function(e){d.$$s||this;return null==e&&(e=n),t["$[]="]("custom_options_file",e)},d.$$s=ue,d.$$arity=1,d),$).call(f,"-O","--options PATH","Specify the path to a custom options file."),($=(h=r).$on,$.$$p=(g=function(e){g.$$s||this;return null==e&&(e=n),t["$[]="]("order",e)},g.$$s=ue,g.$$arity=1,g),$).call(h,"--order TYPE[:SEED]","Run examples by the specified order type.","  [defined] examples and groups are run in the order they are defined","  [rand]    randomize the order of groups and examples","  [random]  alias for rand","  [random:SEED] e.g. --order random:123"),($=(m=r).$on,$.$$p=(y=function(e){y.$$s||this;return null==e&&(e=n),t["$[]="]("order","rand:"+e)},y.$$s=ue,y.$$arity=1,y),$).call(m,"--seed SEED",_.get("Integer"),"Equivalent of --order rand:SEED."),($=(v=r).$on,$.$$p=(b=function(e){b.$$s||this;return null==e&&(e=n),t["$[]="]("fail_fast",!0)},b.$$s=ue,b.$$arity=1,b),$).call(v,"--fail-fast","Abort the run on first failure."),($=(x=r).$on,$.$$p=(w=function(e){w.$$s||this;return null==e&&(e=n),t["$[]="]("fail_fast",!1)},w.$$s=ue,w.$$arity=1,w),$).call(x,"--no-fail-fast","Do not abort the run on first failure."),($=(k=r).$on,$.$$p=(S=function(e){S.$$s||this;return null==e&&(e=n),t["$[]="]("failure_exit_code",e)},S.$$s=ue,S.$$arity=1,S),$).call(k,"--failure-exit-code CODE",_.get("Integer"),"Override the exit code used when there are failing specs."),($=(E=r).$on,$.$$p=(R=function(e){R.$$s||this;return null==e&&(e=n),t["$[]="]("dry_run",!0)},R.$$s=ue,R.$$arity=1,R),$).call(E,"--dry-run","Print the formatter output of your suite without","  running any examples or hooks"),($=(A=r).$on,$.$$p=(O=function(e){O.$$s||this;return null==e&&(e=n),t["$[]="]("drb",e)},O.$$s=ue,O.$$arity=1,O),$).call(A,"-X","--[no-]drb","Run examples via DRb."),($=(M=r).$on,$.$$p=(T=function(e){T.$$s||this;return null==e&&(e=n),t["$[]="]("drb_port",e.$to_i())},T.$$s=ue,T.$$arity=1,T),$).call(M,"--drb-port PORT","Port to connect to the DRb server."),($=(C=r).$on,$.$$p=(I=function(e){var t=I.$$s||this;return null==e&&(e=n),_.get("RSpec").$$scope.get("Support").$require_rspec_core("project_initializer"),_.get("ProjectInitializer").$new().$run(),t.$exit()},I.$$s=ue,I.$$arity=1,I),$).call(C,"--init","Initialize your project with RSpec."),r.$separator("\n  **** Output ****\n\n"),($=(z=r).$on,$.$$p=(j=function(e){var r,$,a;j.$$s||this;return null==e&&(e=n),r="formatters",$=t,(a=$["$[]"](r))!==!1&&a!==n&&null!=a?a:$["$[]="](r,[]),t["$[]"]("formatters")["$<<"]([e])},j.$$s=ue,j.$$arity=1,j),$).call(z,"-f","--format FORMATTER","Choose a formatter.","  [p]rogress (default - dots)","  [d]ocumentation (group and example names)","  [h]tml","  [j]son","  custom formatter class name"),($=(q=r).$on,$.$$p=(N=function(e){var r,$,a;N.$$s||this;return null==e&&(e=n),r="formatters",$=t,(a=$["$[]"](r))!==!1&&a!==n&&null!=a?a:$["$[]="](r,[["progress"]]),t["$[]"]("formatters").$last()["$<<"](e)},N.$$s=ue,N.$$arity=1,N),$).call(q,"-o","--out FILE","Write output to a file instead of $stdout. This option applies","  to the previously specified --format, or the default format","  if no format is specified."),($=(P=r).$on,$.$$p=(F=function(e){F.$$s||this;return null==e&&(e=n),t["$[]="]("deprecation_stream",e)},F.$$s=ue,F.$$arity=1,F),$).call(P,"--deprecation-out FILE","Write deprecation warnings to a file instead of $stderr."),($=(D=r).$on,$.$$p=(B=function(e){B.$$s||this;return null==e&&(e=n),t["$[]="]("full_backtrace",!0)},B.$$s=ue,B.$$arity=1,B),$).call(D,"-b","--backtrace","Enable full backtrace."),($=(H=r).$on,$.$$p=(L=function(e){L.$$s||this;return null==e&&(e=n),t["$[]="]("color",e)},L.$$s=ue,L.$$arity=1,L),$).call(H,"-c","--[no-]color","--[no-]colour","Enable color in the output."),($=(U=r).$on,$.$$p=(G=function(r){var $,a=G.$$s||this;return null==r&&(r=n),t["$[]="]("profile_examples",function(){if(!(($=r["$nil?"]())===n||null==$||$.$$is_boolean&&1!=$))return!0;if(r["$=="](!1))return!1;try{return a.$Integer(r)}catch(t){if(!e.rescue(t,[_.get("ArgumentError")]))throw t;try{return _.get("RSpec").$warning("Non integer specified as profile count, seperate your path from options with -- e.g. "+("`rspec --profile -- "+r+"`"),i(["call_site"],{call_site:n})),!0}finally{e.pop_exception()}}return n}())},G.$$s=ue,G.$$arity=1,G),$).call(U,"-p","--[no-]profile [COUNT]","Enable profiling of examples and list the slowest examples (default: 10)."),($=(Y=r).$on,$.$$p=(V=function(){V.$$s||this;return o.VERBOSE=!0},V.$$s=ue,V.$$arity=0,V),$).call(Y,"-w","--warnings","Enable ruby warnings"),r.$separator("\n  **** Filtering/tags ****\n\n    In addition to the following options for selecting specific files, groups,\n    or examples, you can select a single example by appending the line number to\n    the filename:\n\n      rspec path/to/a_spec.rb:37\n\n"),($=(X=r).$on,$.$$p=(K=function(e){K.$$s||this;return null==e&&(e=n),t["$[]="]("pattern",e)},K.$$s=ue,K.$$arity=1,K),$).call(X,"-P","--pattern PATTERN",'Load files matching pattern (default: "spec/**/*_spec.rb").'),($=(W=r).$on,$.$$p=(Z=function(e){Z.$$s||this;return null==e&&(e=n),t["$[]="]("exclude_pattern",e)},Z.$$s=ue,Z.$$arity=1,Z),$).call(W,"--exclude-pattern PATTERN","Load files except those matching pattern. Opposite effect of --pattern."),($=(J=r).$on,$.$$p=(Q=function(e){var r,$,a;Q.$$s||this;return null==e&&(e=n),(r="full_description",$=t,(a=$["$[]"](r))!==!1&&a!==n&&null!=a?a:$["$[]="](r,[]))["$<<"](_.get("Regexp").$compile(_.get("Regexp").$escape(e)))},Q.$$s=ue,Q.$$arity=1,Q),$).call(J,"-e","--example STRING","Run examples whose full nested names include STRING (may be","  used more than once)"),($=(ee=r).$on,$.$$p=(te=function(r){var $,a,o,l=te.$$s||this,u=n,c=n,_=n,p=n;return null==r&&(r=n),u=function(){return($=r["$=~"](/^~/))===n||null==$||$.$$is_boolean&&1!=$?"inclusion_filter":"exclusion_filter"}(),a=r.$gsub(/^(~@|~|@)/,"").$split(":",2),$=e.to_ary(a),c=null==$[0]?n:$[0],_=null==$[1]?n:$[1],a,c=c.$to_sym(),$=u,a=t,(o=a["$[]"]($))!==!1&&o!==n&&null!=o?o:a["$[]="]($,i([],{})),t["$[]"](u)["$[]="](c,function(){return p=_,n["$==="](p)?!0:"true"["$==="](p)?!0:"false"["$==="](p)?!1:"nil"["$==="](p)?n:/^:/["$==="](p)?_["$[]"](s(1,-1,!1)).$to_sym():/^\d+$/["$==="](p)?l.$Integer(_):/^\d+.\d+$/["$==="](p)?l.$Float(_):_}())},te.$$s=ue,te.$$arity=1,te),$).call(ee,"-t","--tag TAG[:VALUE]","Run examples with the specified tag, or exclude examples","by adding ~ before the tag.","  - e.g. ~slow","  - TAG is always converted to a symbol"),($=(re=r).$on,$.$$p=(ne=function(e){ne.$$s||this;return null==e&&(e=n),t["$[]="]("default_path",e)},ne.$$s=ue,ne.$$arity=1,ne),$).call(re,"--default-path PATH","Set the default path where RSpec looks for examples (can","  be a path to a file or a directory)."),r.$separator("\n  **** Utility ****\n\n"),($=($e=r).$on,$.$$p=(ae=function(){var e=ae.$$s||this;return e.$puts(_.get("RSpec").$$scope.get("Core").$$scope.get("Version").$$scope.get("STRING")),e.$exit()},ae.$$s=ue,ae.$$arity=0,ae),$).call($e,"-v","--version","Display the version."),ce=["-d","--I"],($=(ie=r).$on_tail,$.$$p=(oe=function(){var e=oe.$$s||this;return e.$puts(r.$to_s().$gsub(new RegExp("^\\s+("+ce.$join("|")+")\\s*$\\n"),"")),e.$exit()},oe.$$s=ue,oe.$$arity=0,oe),$).call(ie,"-h","--help","You're looking at it."),($=(se=ce).$each,$.$$p=(le=function(e){var t,$,a,i=le.$$s||this;return null==e&&(e=n),(t=($=r).$on,t.$$p=(a=function(){var e=a.$$s||this;return e.$raise(_.get("OptionParser").$$scope.get("InvalidOption").$new())},a.$$s=i,a.$$arity=0,a),t).call($,e)},le.$$s=ue,le.$$arity=1,le),$).call(se)},a.$$s=l,a.$$arity=1,a),r).call($)},u.$$arity=1),n&&"parser"}(u.base,null)}(r.get("RSpec"))},Opal.modules["rspec/core/ordering"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass,s=e.hash2;return e.add_stubs(["$require_rspec_core","$new","$seed","$shuffle","$>","$dup","$times","$+","$rand","$-","$size","$==","$[]","$[]=","$call","$register","$fetch","$to_proc","$used?","$attr_reader","$used_random_seed?","$ordering_registry","$register_ordering","$to_i","$split","$to_s","$include?","$key?","$seed=","$order="]),function($){var l,u=l=i($,"RSpec"),c=(u.$$proto,u.$$scope);!function($){var l,u,c=l=i($,"Core"),_=(c.$$proto,c.$$scope);(u=null==e.Object.$$scope.Random?a:"constant")===a||null==u||u.$$is_boolean&&1!=u?(_.get("RSpec").$$scope.get("Support").$require_rspec_core("backport_random"),e.cdecl(_,"RandomNumberGenerator",_.get("RSpec").$$scope.get("Core").$$scope.get("Backports").$$scope.get("Random"))):e.cdecl(_,"RandomNumberGenerator",e.get("Random")),function($){var l,u=l=i($,"Ordering"),c=(u.$$proto,u.$$scope);!function(t,$super){function r(){}var n,$=r=o(t,$super,"Identity",r);$.$$proto,$.$$scope;return e.defn($,"$order",n=function(e){return e},n.$$arity=1),a&&"order"}(c.base,null),function($,$super){function i(){}var l,u,c,_,p,f,d=i=o($,$super,"Random",i),h=d.$$proto,g=d.$$scope;return h.used=h.configuration=a,e.defn(d,"$initialize",l=function(e){var t=this;return t.configuration=e,t.used=!1},l.$$arity=1),e.defn(d,"$used?",u=function(){var e=this;return e.used},u.$$arity=0),e.defn(d,"$order",c=function(e){var t=this,r=a;return t.used=!0,r=g.get("RandomNumberGenerator").$new(t.configuration.$seed()),t.$shuffle(e,r)},c.$$arity=1),(_=t(g.get("RUBY_VERSION"),"1.9.3"))===a||null==_||_.$$is_boolean&&1!=_?(e.defn(d,"$shuffle",f=function(e,t){var $,i,o,s=this,l=a;return l=e.$dup(),($=(i=l.$size()).$times,$.$$p=(o=function(e){var $,i=(o.$$s||this,a);return null==e&&(e=a),i=r(e,t.$rand(n(l.$size(),e))),e["$=="](i)?a:($=[l["$[]"](i),l["$[]"](e)],l["$[]="](e,$[0]),l["$[]="](i,$[1]),$)},o.$$s=s,o.$$arity=1,o),$).call(i),l},f.$$arity=2),a&&"shuffle"):(e.defn(d,"$shuffle",p=function(e,t){return e.$shuffle(s(["random"],{random:t}))},p.$$arity=2),a&&"shuffle")}(c.base,null),function(t,$super){function r(){}var n,$,i=r=o(t,$super,"Custom",r),s=i.$$proto;i.$$scope;return s.callable=a,e.defn(i,"$initialize",n=function(e){var t=this;return t.callable=e},n.$$arity=1),e.defn(i,"$order",$=function(e){var t=this;return t.callable.$call(e)},$.$$arity=1),a&&"order"}(c.base,null),function(t,$super){function r(){}var n,$,i,l,u=r=o(t,$super,"Registry",r),c=u.$$proto,_=u.$$scope;return c.strategies=a,e.defn(u,"$initialize",n=function(e){var t=this,r=a;return t.configuration=e,t.strategies=s([],{}),t.$register("random",_.get("Random").$new(e)),r=_.get("Identity").$new(),t.$register("defined",r),t.$register("global",r)},n.$$arity=1),e.defn(u,"$fetch",$=function(e){var t,r,n=this,i=$.$$p,o=i||a;return $.$$p=null,(t=(r=n.strategies).$fetch,t.$$p=o.$to_proc(),t).call(r,e)},$.$$arity=1),e.defn(u,"$register",i=function(e,t){var r=this;return r.strategies["$[]="](e,t)},i.$$arity=2),e.defn(u,"$used_random_seed?",l=function(){var e=this;return e.strategies["$[]"]("random")["$used?"]()},l.$$arity=0),a&&"used_random_seed?"}(c.base,null),function(t,$super){function r(){}var n,$,i,s,l,u,c=r=o(t,$super,"ConfigurationManager",r),_=c.$$proto,p=c.$$scope;return _.seed_forced=_.order_forced=a,c.$attr_reader("seed","ordering_registry"),e.defn(c,"$initialize",n=function(){var e=this;return e.ordering_registry=p.get("Registry").$new(e),e.seed=e.$rand(65535),e.seed_forced=!1,e.order_forced=!1},n.$$arity=0),e.defn(c,"$seed_used?",$=function(){var e=this;return e.$ordering_registry()["$used_random_seed?"]()},$.$$arity=0),e.defn(c,"$seed=",i=function(e){var t,r=this;return(t=r.seed_forced)===a||null==t||t.$$is_boolean&&1!=t?(r.$register_ordering("global",r.$ordering_registry().$fetch("random")),r.seed=e.$to_i()):a},i.$$arity=1),e.defn(c,"$order=",s=function(t){var r,n,$=this,i=a,o=a,s=a;return n=t.$to_s().$split(":"),r=e.to_ary(n),i=null==r[0]?a:r[0],o=null==r[1]?a:r[1],n,o!==!1&&o!==a&&null!=o&&($.seed=o.$to_i()),s=function(){return(r=i["$include?"]("rand"))===a||null==r||r.$$is_boolean&&1!=r?i["$=="]("defined")?"defined":a:"random"}(),s!==!1&&s!==a&&null!=s?$.$register_ordering("global",$.$ordering_registry().$fetch(s)):a},s.$$arity=1),e.defn(c,"$force",l=function(e){var t,r,n=this;return(t=e["$key?"]("seed"))===a||null==t||t.$$is_boolean&&1!=t?(t=e["$key?"]("order"))===a||null==t||t.$$is_boolean&&1!=t?a:(t=[e["$[]"]("order")],r=n,r["$order="].apply(r,t),t[t.length-1],n.order_forced=!0):(t=[e["$[]"]("seed")],r=n,r["$seed="].apply(r,t),t[t.length-1],n.seed_forced=!0,n.order_forced=!0)},l.$$arity=1),e.defn(c,"$register_ordering",u=function(t,r){var n,$,i,o=this,s=u.$$p,l=s||a;return null==r&&(r=p.get("Custom").$new((n=($=p.get("Proc")).$new,n.$$p=(i=function(t){i.$$s||this;return null==t&&(t=a),e.yield1(l,t)},i.$$s=o,i.$$arity=1,i),n).call($))),u.$$p=null,$=o.order_forced,(n=$!==!1&&$!==a&&null!=$?t["$=="]("global"):$)===a||null==n||n.$$is_boolean&&1!=n?o.$ordering_registry().$register(t,r):a},u.$$arity=-2),a&&"register_ordering"}(c.base,null)}(_.base)}(c.base)}($.base)},Opal.modules["rspec/core/pending"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$attr_reader","$current_example","$raise","$gsub","$first_non_rspec_line","$mark_pending!","$mark_skipped!","$new","$[]=","$metadata","$!","$===","$pending_message=","$execution_result","$pending_fixed="]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s,l,u,c=a=n(t,"Pending"),_=(c.$$proto,c.$$scope);!function(t,$super){function n(){}var a,i=n=$(t,$super,"SkipDeclaredInExample",n);i.$$proto,i.$$scope;return i.$attr_reader("argument"),e.defn(i,"$initialize",a=function(e){var t=this;return t.argument=e},a.$$arity=1),r&&"initialize"}(_.base,_.get("StandardError"));try{!function(e,$super){function t(){}var n=t=$(e,$super,"PendingExampleFixedError",t);n.$$proto,n.$$scope;return r}(_.base,_.get("Test").$$scope.get("Unit").$$scope.get("AssertionFailedError"))}catch(p){if(!e.rescue(p,[_.get("StandardError")]))throw p;try{!function(e,$super){function t(){}var n=t=$(e,$super,"PendingExampleFixedError",t);n.$$proto,n.$$scope;return r}(_.base,_.get("StandardError"))}finally{e.pop_exception()}}e.cdecl(_,"NO_REASON_GIVEN","No reason given"),e.cdecl(_,"NOT_YET_IMPLEMENTED","Not yet implemented"),e.defn(c,"$pending",i=function(e){var t=this,n=i.$$p,$=n||r,a=r;return null==e&&(e=r),i.$$p=null,a=_.get("RSpec").$current_example(),$!==r?t.$raise(_.get("ArgumentError"),("            |The semantics of `RSpec::Core::Pending#pending` have changed in\n            |RSpec 3.  In RSpec 2.x, it caused the example to be skipped. In\n            |RSpec 3, the rest of the example is still run but is expected to\n            |fail, and will be marked as a failure (rather than as pending) if\n            |the example passes.\n            |\n            |Passing a block within an example is now deprecated. Marking the\n            |example as pending provides the same behavior in RSpec 3 which was\n            |provided only by the block in RSpec 2.x.\n            |\n            |Move the code in the block provided to `pending` into the rest of\n            |the example body.\n            |\n            |Called from "+_.get("CallerFilter").$first_non_rspec_line()+".\n            |\n").$gsub(/^\s+\|/,"")):a!==!1&&a!==r&&null!=a?_.get("Pending")["$mark_pending!"](a,e):t.$raise("`pending` may not be used outside of examples, such as in before(:context). Maybe you want `skip`?")},i.$$arity=-1),e.defn(c,"$skip",o=function(e){var t=this,n=r;return null==e&&(e=r),n=_.get("RSpec").$current_example(),n!==!1&&n!==r&&null!=n&&_.get("Pending")["$mark_skipped!"](n,e),t.$raise(_.get("SkipDeclaredInExample").$new(e))},o.$$arity=-1),e.defs(c,"$mark_skipped!",s=function(e,t){return _.get("Pending")["$mark_pending!"](e,t),e.$metadata()["$[]="]("skip",!0)},s.$$arity=2),e.defs(c,"$mark_pending!",l=function(e,t){var n,$,a=r;return a=function(){return(n=($=t["$!"]())!==!1&&$!==r&&null!=$?$:_.get("String")["$==="](t)["$!"]())===r||null==n||n.$$is_boolean&&1!=n?t:_.get("NO_REASON_GIVEN")}(),e.$metadata()["$[]="]("pending",!0),n=[a],$=e.$execution_result(),$["$pending_message="].apply($,n),n[n.length-1],n=[!1],$=e.$execution_result(),$["$pending_fixed="].apply($,n),n[n.length-1]},l.$$arity=2),e.defs(c,"$mark_fixed!",u=function(e){var t,r;return t=[!0],r=e.$execution_result(),r["$pending_fixed="].apply(r,t),t[t.length-1]},u.$$arity=1)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/core/reporter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$new","$[]=","$attr_reader","$each","$<<","$[]","$to_sym","$to_a","$start","$finish","$to_f","$-","$start_time","$notify","$now","$empty?","$descendant_filtered_examples","$for","$from_hash","$stop","$mute_profile_output?","$profile_examples","$seed","$seed_used?","$__send__","$registered_listeners","$private","$!","$profile_examples?","$fail_fast?","$>","$size"]),function(n){var o,s=o=a(n,"Core"),l=(s.$$proto,s.$$scope);!function(n,$super){function a(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S=a=i(n,$super,"Reporter",a),E=S.$$proto,R=S.$$scope;return E.listeners=E.start=E.configuration=E.load_time=E.examples=E.failed_examples=E.pending_examples=E.duration=$,e.defn(S,"$initialize",o=function(e){
var t,r,n,a=this;return a.configuration=e,a.listeners=(t=(r=R.get("Hash")).$new,t.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=$),null==t&&(t=$),e["$[]="](t,R.get("Set").$new())},n.$$s=a,n.$$arity=2,n),t).call(r),a.examples=[],a.failed_examples=[],a.pending_examples=[],a.duration=a.start=a.load_time=$},o.$$arity=1),S.$attr_reader("examples","failed_examples","pending_examples"),e.defn(S,"$register_listener",s=function(e){var t,r,n,a,i=this,o=arguments.length,s=o-1;0>s&&(s=0),a=new Array(s);for(var l=1;o>l;l++)a[l-1]=arguments[l];return(t=(r=a).$each,t.$$p=(n=function(t){var r=n.$$s||this;return null==r.listeners&&(r.listeners=$),null==t&&(t=$),r.listeners["$[]"](t.$to_sym())["$<<"](e)},n.$$s=i,n.$$arity=1,n),t).call(r),!0},s.$$arity=-2),e.defn(S,"$registered_listeners",l=function(e){var t=this;return t.listeners["$[]"](e).$to_a()},l.$$arity=1),e.defn(S,"$report",u=function(t){var r=this,n=u.$$p,a=n||$;u.$$p=null,r.$start(t);try{return e.yield1(a,r)}finally{r.$finish()}},u.$$arity=1),e.defn(S,"$start",c=function(e,r){var n=this;return null==r&&(r=R.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now()),n.start=r,n.load_time=t(n.start,n.configuration.$start_time()).$to_f(),n.$notify("start",R.get("Notifications").$$scope.get("StartNotification").$new(e,n.load_time))},c.$$arity=-2),e.defn(S,"$message",_=function(e){var t=this;return t.$notify("message",R.get("Notifications").$$scope.get("MessageNotification").$new(e))},_.$$arity=1),e.defn(S,"$example_group_started",p=function(e){var t,r=this;return(t=e.$descendant_filtered_examples()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$notify("example_group_started",R.get("Notifications").$$scope.get("GroupNotification").$new(e)):$},p.$$arity=1),e.defn(S,"$example_group_finished",f=function(e){var t,r=this;return(t=e.$descendant_filtered_examples()["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?r.$notify("example_group_finished",R.get("Notifications").$$scope.get("GroupNotification").$new(e)):$},f.$$arity=1),e.defn(S,"$example_started",d=function(e){var t=this;return t.examples["$<<"](e),t.$notify("example_started",R.get("Notifications").$$scope.get("ExampleNotification").$for(e))},d.$$arity=1),e.defn(S,"$example_passed",h=function(e){var t=this;return t.$notify("example_passed",R.get("Notifications").$$scope.get("ExampleNotification").$for(e))},h.$$arity=1),e.defn(S,"$example_failed",g=function(e){var t=this;return t.failed_examples["$<<"](e),t.$notify("example_failed",R.get("Notifications").$$scope.get("ExampleNotification").$for(e))},g.$$arity=1),e.defn(S,"$example_pending",m=function(e){var t=this;return t.pending_examples["$<<"](e),t.$notify("example_pending",R.get("Notifications").$$scope.get("ExampleNotification").$for(e))},m.$$arity=1),e.defn(S,"$deprecation",y=function(e){var t=this;return t.$notify("deprecation",R.get("Notifications").$$scope.get("DeprecationNotification").$from_hash(e))},y.$$arity=1),e.defn(S,"$finish",v=function(){var e,t=this;try{return t.$stop(),t.$notify("start_dump",R.get("Notifications").$$scope.get("NullNotification")),t.$notify("dump_pending",R.get("Notifications").$$scope.get("ExamplesNotification").$new(t)),t.$notify("dump_failures",R.get("Notifications").$$scope.get("ExamplesNotification").$new(t)),t.$notify("deprecation_summary",R.get("Notifications").$$scope.get("NullNotification")),t.$notify("dump_summary",R.get("Notifications").$$scope.get("SummaryNotification").$new(t.duration,t.examples,t.failed_examples,t.pending_examples,t.load_time)),((e=t["$mute_profile_output?"]())===$||null==e||e.$$is_boolean&&1!=e)&&t.$notify("dump_profile",R.get("Notifications").$$scope.get("ProfileNotification").$new(t.duration,t.examples,t.configuration.$profile_examples())),t.$notify("seed",R.get("Notifications").$$scope.get("SeedNotification").$new(t.configuration.$seed(),t["$seed_used?"]()))}finally{t.$notify("close",R.get("Notifications").$$scope.get("NullNotification"))}},v.$$arity=0),e.defn(S,"$stop",b=function(){var e,r=this;return(e=r.start)===$||null==e||e.$$is_boolean&&1!=e||(r.duration=t(R.get("RSpec").$$scope.get("Core").$$scope.get("Time").$now(),r.start).$to_f()),r.$notify("stop",R.get("Notifications").$$scope.get("ExamplesNotification").$new(r))},b.$$arity=0),e.defn(S,"$notify",x=function(e,t){var r,n,a,i=this;return(r=(n=i.$registered_listeners(e)).$each,r.$$p=(a=function(r){a.$$s||this;return null==r&&(r=$),r.$__send__(e,t)},a.$$s=i,a.$$arity=1,a),r).call(n)},x.$$arity=2),S.$private(),e.defn(S,"$mute_profile_output?",w=function(){var e,t,n=this;return(e=n.configuration["$profile_examples?"]()["$!"]())!==!1&&e!==$&&null!=e?e:(t=n.configuration["$fail_fast?"](),t!==!1&&t!==$&&null!=t?r(n.failed_examples.$size(),0):t)},w.$$arity=0),e.defn(S,"$seed_used?",k=function(){var e,t=this;return e=t.configuration.$seed(),e!==!1&&e!==$&&null!=e?t.configuration["$seed_used?"]():e},k.$$arity=0),$&&"seed_used?"}(l.base,null)}(n.get("RSpec"))},Opal.modules["rspec/core/ruby_project"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.gvars;return e.add_stubs(["$require","$map","$add_dir_to_load_path","$join","$root","$include?","$unshift","$determine_root","$find_first_parent_containing","$ascend_until","$exist?","$ascend","$Pathname","$expand_path","$module_function"]),t.$require("pathname"),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Core"),o=(i.$$proto,i.$$scope);!function(t){var r,i,o,s,l,u,c,_=r=$(t,"RubyProject"),p=(_.$$proto,_.$$scope);e.defn(_,"$add_to_load_path",i=function(){var e,t,r,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=$).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=n),t.$add_dir_to_load_path(p.get("File").$join(t.$root(),e))},r.$$s=a,r.$$arity=1,r),e).call(t)},i.$$arity=-1),e.defn(_,"$add_dir_to_load_path",o=function(e){var t;return null==a.LOAD_PATH&&(a.LOAD_PATH=n),(t=a.LOAD_PATH["$include?"](e))===n||null==t||t.$$is_boolean&&1!=t?a.LOAD_PATH.$unshift(e):n},o.$$arity=1),e.defn(_,"$root",s=function(){var e,t=this;return null==t.project_root&&(t.project_root=n),(e=t.project_root)!==!1&&e!==n&&null!=e?e:t.project_root=t.$determine_root()},s.$$arity=0),e.defn(_,"$determine_root",l=function(){var e,t=this;return(e=t.$find_first_parent_containing("spec"))!==!1&&e!==n&&null!=e?e:"."},l.$$arity=0),e.defn(_,"$find_first_parent_containing",u=function(e){var t,r,$,a=this;return(t=(r=a).$ascend_until,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),p.get("File")["$exist?"](p.get("File").$join(t,e))},$.$$s=a,$.$$arity=1,$),t).call(r)},u.$$arity=1),e.defn(_,"$ascend_until",c=function(){try{var t,r,$,a=this,i=c.$$p,o=i||n;return c.$$p=null,(t=(r=a.$Pathname(p.get("File").$expand_path("."))).$ascend,t.$$p=($=function(t){var r;$.$$s||this;return null==t&&(t=n),(r=e.yield1(o,t))===n||null==r||r.$$is_boolean&&1!=r?n:void e.ret(t)},$.$$s=a,$.$$arity=1,$),t).call(r)}catch(s){if(s===e.returner)return s.$v;throw s}},c.$$arity=0),_.$module_function("add_to_load_path"),_.$module_function("add_dir_to_load_path"),_.$module_function("root"),_.$module_function("determine_root"),_.$module_function("find_first_parent_containing"),_.$module_function("ascend_until")}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/core/drb"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require","$configuration","$[]","$options","$start_service","$new_with_uri","$drb_port","$run","$drb_argv","$configure_filter_manager","$filter_manager","$new","$<<","$add_failure_exit_code","$add_full_description","$add_filter","$inclusions","$exclusions","$add_formatters","$add_libs","$add_requires","$+","$to_s","$each","$delete","$source","$empty?","$each_pair","$include?","$==","$is_a?"]),r.$require("drb/drb"),function(r){var n,o=n=a(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var n,o=n=a(r,"Core"),s=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var n,a,o,s,l=r=i(t,$super,"DRbRunner",r),u=l.$$proto,c=l.$$scope;return u.options=u.drb_argv=u.configuration=$,e.defn(l,"$initialize",n=function(e,t){var r=this;return null==t&&(t=c.get("RSpec").$configuration()),r.options=e,r.configuration=t},n.$$arity=-2),e.defn(l,"$drb_port",a=function(){var e,t,r=this;return(e=(t=r.options.$options()["$[]"]("drb_port"))!==!1&&t!==$&&null!=t?t:c.get("ENV")["$[]"]("RSPEC_DRB"))!==!1&&e!==$&&null!=e?e:8989},a.$$arity=0),e.defn(l,"$run",o=function(t,r){var n=this,a=$;try{c.get("DRb").$start_service("druby://localhost:0")}catch(i){if(!e.rescue(i,[c.get("SocketError"),c.get("Errno").$$scope.get("EADDRNOTAVAIL")]))throw i;try{c.get("DRb").$start_service("druby://:0")}finally{e.pop_exception()}}return a=c.get("DRbObject").$new_with_uri("druby://127.0.0.1:"+n.$drb_port()),a.$run(n.$drb_argv(),t,r)},o.$$arity=2),e.defn(l,"$drb_argv",s=function(){var e,t=this;return(e=t.drb_argv)!==!1&&e!==$&&null!=e?e:t.drb_argv=function(){return t.options.$configure_filter_manager(t.configuration.$filter_manager()),c.get("DRbOptions").$new(t.options.$options(),t.configuration.$filter_manager()).$options()}()},s.$$arity=0),$&&"drb_argv"}(s.base,null),function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f=n=i(r,$super,"DRbOptions",n),d=f.$$proto,h=f.$$scope;return d.submitted_options=d.filter_manager=$,e.defn(f,"$initialize",a=function(e,t){var r=this;return r.submitted_options=e,r.filter_manager=t},a.$$arity=2),e.defn(f,"$options",o=function(){var e,r=this,n=$;return n=[],(e=r.submitted_options["$[]"]("color"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--color"),(e=r.submitted_options["$[]"]("profile_examples"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--profile"),(e=r.submitted_options["$[]"]("full_backtrace"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--backtrace"),(e=r.submitted_options["$[]"]("tty"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--tty"),(e=r.submitted_options["$[]"]("fail_fast"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--fail-fast"),(e=r.submitted_options["$[]"]("custom_options_file"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--options")["$<<"](r.submitted_options["$[]"]("custom_options_file")),(e=r.submitted_options["$[]"]("order"))===$||null==e||e.$$is_boolean&&1!=e||n["$<<"]("--order")["$<<"](r.submitted_options["$[]"]("order")),r.$add_failure_exit_code(n),r.$add_full_description(n),r.$add_filter(n,"inclusion",r.filter_manager.$inclusions()),r.$add_filter(n,"exclusion",r.filter_manager.$exclusions()),r.$add_formatters(n),r.$add_libs(n),r.$add_requires(n),t(n,r.submitted_options["$[]"]("files_or_directories_to_run"))},o.$$arity=0),e.defn(f,"$add_failure_exit_code",s=function(e){var t,r=this;return(t=r.submitted_options["$[]"]("failure_exit_code"))===$||null==t||t.$$is_boolean&&1!=t?$:e["$<<"]("--failure-exit-code")["$<<"](r.submitted_options["$[]"]("failure_exit_code").$to_s())},s.$$arity=1),e.defn(f,"$add_full_description",l=function(e){var t,r,n,a=this;return(t=a.submitted_options["$[]"]("full_description"))===$||null==t||t.$$is_boolean&&1!=t?$:(t=(r=a.submitted_options["$[]"]("full_description")).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),e["$<<"]("--example")["$<<"](t.$source().$delete("\\"))},n.$$s=a,n.$$arity=1,n),t).call(r)},l.$$arity=1),e.cdecl(h,"CONDITIONAL_FILTERS",["if","unless"]),e.defn(f,"$add_filter",u=function(e,t,r){var n,a,i,o=this;return(n=r["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n?(n=(a=r).$each_pair,n.$$p=(i=function(r,n){var a,o=(i.$$s||this,$);return null==r&&(r=$),null==n&&(n=$),(a=h.get("CONDITIONAL_FILTERS")["$include?"](r))===$||null==a||a.$$is_boolean&&1!=a?(o=function(){return t["$=="]("inclusion")?r.$to_s():"~"+r}(),(a=n["$is_a?"](h.get("String")))===$||null==a||a.$$is_boolean&&1!=a||o["$<<"](":"+n),e["$<<"]("--tag")["$<<"](o)):$},i.$$s=o,i.$$arity=2,i),n).call(a):$},u.$$arity=3),e.defn(f,"$add_formatters",c=function(e){var t,r,n,a=this;return(t=a.submitted_options["$[]"]("formatters"))===$||null==t||t.$$is_boolean&&1!=t?$:(t=(r=a.submitted_options["$[]"]("formatters")).$each,t.$$p=(n=function(t){var r;n.$$s||this;return null==t&&(t=$),e["$<<"]("--format")["$<<"](t["$[]"](0)),(r=t["$[]"](1))===$||null==r||r.$$is_boolean&&1!=r?$:e["$<<"]("--out")["$<<"](t["$[]"](1))},n.$$s=a,n.$$arity=1,n),t).call(r)},c.$$arity=1),e.defn(f,"$add_libs",_=function(e){var t,r,n,a=this;return(t=a.submitted_options["$[]"]("libs"))===$||null==t||t.$$is_boolean&&1!=t?$:(t=(r=a.submitted_options["$[]"]("libs")).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),e["$<<"]("-I")["$<<"](t)},n.$$s=a,n.$$arity=1,n),t).call(r)},_.$$arity=1),e.defn(f,"$add_requires",p=function(e){var t,r,n,a=this;return(t=a.submitted_options["$[]"]("requires"))===$||null==t||t.$$is_boolean&&1!=t?$:(t=(r=a.submitted_options["$[]"]("requires")).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),e["$<<"]("--require")["$<<"](t)},n.$$s=a,n.$$arity=1,n),t).call(r)},p.$$arity=1),$&&"add_requires"}(s.base,null)}(s.base)}(n.base)},Opal.modules["rspec/core/runner"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.gvars;return e.add_stubs(["$autorun_disabled?","$deprecate","$installed_at_exit?","$running_in_drb?","$at_exit","$nil?","$is_a?","$invoke","$disable_autorun!","$to_i","$run","$!=","$exit","$trap_interrupt","$new","$[]","$options","$require","$puts","$configuration","$world","$setup","$run_specs","$ordered_example_groups","$error_stream=","$==","$output_stream","$output_stream=","$configure","$load_spec_files","$announce_filters","$report","$hooks","$all?","$map","$failure_exit_code","$reporter","$example_count","$current_server","$getaddress","$gethostname","$any?","$host","$URI","$uri","$trap","$wants_to_quit","$exit!","$wants_to_quit="]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m=n=$(t,$super,"Runner",n),y=m.$$proto,v=m.$$scope;return y.world=y.configuration=y.options=r,e.defs(m,"$autorun",i=function(){var e,t,n,$=this;return(e=$["$autorun_disabled?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=(t=$["$installed_at_exit?"]())!==!1&&t!==r&&null!=t?t:$["$running_in_drb?"]())===r||null==e||e.$$is_boolean&&1!=e?((e=(t=$).$at_exit,e.$$p=(n=function(){var e,t,$=n.$$s||this;return null==a["!"]&&(a["!"]=r),(e=(t=a["!"]["$nil?"]())!==!1&&t!==r&&null!=t?t:a["!"]["$is_a?"](v.get("SystemExit")))===r||null==e||e.$$is_boolean&&1!=e?r:$.$invoke()},n.$$s=$,n.$$arity=0,n),e).call(t),$.installed_at_exit=!0):r:(v.get("RSpec").$deprecate("Requiring `rspec/autorun` when running RSpec via the `rspec` command"),r)},i.$$arity=0),e.defs(m,"$invoke",o=function(){var e,t=this,n=r;return null==a.stderr&&(a.stderr=r),null==a.stdout&&(a.stdout=r),t["$disable_autorun!"](),n=t.$run(v.get("ARGV"),a.stderr,a.stdout).$to_i(),(e=n["$!="](0))===r||null==e||e.$$is_boolean&&1!=e?r:t.$exit(n)},o.$$arity=0),e.defs(m,"$run",s=function(t,n,$){var i,o=this,s=r;if(null==a.stderr&&(a.stderr=r),null==a.stdout&&(a.stdout=r),null==n&&(n=a.stderr),null==$&&($=a.stdout),o.$trap_interrupt(),s=v.get("ConfigurationOptions").$new(t),(i=s.$options()["$[]"]("drb"))===r||null==i||i.$$is_boolean&&1!=i)return o.$new(s).$run(n,$);o.$require("rspec/core/drb");try{return v.get("DRbRunner").$new(s).$run(n,$)}catch(l){if(!e.rescue(l,[v.get("DRb").$$scope.get("DRbConnError")]))throw l;try{return n.$puts("No DRb server is running. Running in local process instead ..."),o.$new(s).$run(n,$)}finally{e.pop_exception()}}},s.$$arity=-2),e.defn(m,"$initialize",l=function(e,t,r){var n=this;return null==t&&(t=v.get("RSpec").$configuration()),null==r&&(r=v.get("RSpec").$world()),n.options=e,n.configuration=t,n.world=r},l.$$arity=-2),e.defn(m,"$run",u=function(e,t){var r=this;return r.$setup(e,t),r.$run_specs(r.world.$ordered_example_groups())},u.$$arity=2),e.defn(m,"$setup",c=function(e,t){var n,$,i=this;return null==a.stdout&&(a.stdout=r),n=[e],$=i.configuration,$["$error_stream="].apply($,n),n[n.length-1],i.configuration.$output_stream()["$=="](a.stdout)&&(n=[t],$=i.configuration,$["$output_stream="].apply($,n),n[n.length-1]),i.options.$configure(i.configuration),i.configuration.$load_spec_files(),i.world.$announce_filters()},c.$$arity=2),e.defn(m,"$run_specs",_=function(e){var t,n,$,a=this;return(t=(n=a.configuration.$reporter()).$report,t.$$p=($=function(t){var n,a,i,o,s=$.$$s||this,l=r;null==s.configuration&&(s.configuration=r),null==t&&(t=r);try{return l=v.get("SuiteHookContext").$new(),s.configuration.$hooks().$run("before","suite",l),(n=(a=(i=e).$map,a.$$p=(o=function(e){o.$$s||this;return null==e&&(e=r),e.$run(t)},o.$$s=s,o.$$arity=1,o),a).call(i)["$all?"]())===r||null==n||n.$$is_boolean&&1!=n?s.configuration.$failure_exit_code():0}finally{s.configuration.$hooks().$run("after","suite",l)}},$.$$s=a,$.$$arity=1,$),t).call(n,a.world.$example_count(e))},_.$$arity=1),e.defs(m,"$disable_autorun!",p=function(){var e=this;return e.autorun_disabled=!0},p.$$arity=0),e.defs(m,"$autorun_disabled?",f=function(){var e,t=this;return null==t.autorun_disabled&&(t.autorun_disabled=r),(e=t.autorun_disabled)!==!1&&e!==r&&null!=e?e:t.autorun_disabled=!1},f.$$arity=0),e.defs(m,"$installed_at_exit?",d=function(){var e,t=this;return null==t.installed_at_exit&&(t.installed_at_exit=r),(e=t.installed_at_exit)!==!1&&e!==r&&null!=e?e:t.installed_at_exit=!1},d.$$arity=0),e.defs(m,"$running_in_drb?",h=function(){var t,n,$,a=this,i=r,o=r;try{try{return n=null!=v.DRb,(t=n!==!1&&n!==r&&null!=n?v.get("DRb").$current_server():n)===r||null==t||t.$$is_boolean&&1!=t?r:(a.$require("socket"),a.$require("uri"),i=v.get("IPSocket").$getaddress(v.get("Socket").$gethostname()),o=(t=(n=["127.0.0.1","localhost",i])["$any?"],t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),e["$=="](t.$URI(v.get("DRb").$current_server().$uri()).$host())},$.$$s=a,$.$$arity=1,$),t).call(n))}catch(s){if(!e.rescue(s,[v.get("DRb").$$scope.get("DRbServerNotFound")]))throw s;try{return r}finally{e.pop_exception()}}}finally{return(t=o)!==!1&&t!==r&&null!=t?t:!1}},h.$$arity=0),e.defs(m,"$trap_interrupt",g=function(){var e,t,n,$=this;return(e=(t=$).$trap,e.$$p=(n=function(){var e,t,$=n.$$s||this;return(e=v.get("RSpec").$world().$wants_to_quit())===r||null==e||e.$$is_boolean&&1!=e||$["$exit!"](1),e=[!0],t=v.get("RSpec").$world(),t["$wants_to_quit="].apply(t,e),e[e.length-1],v.get("STDERR").$puts("\nExiting... Interrupt again to exit immediately.")},n.$$s=$,n.$$arity=0,n),e).call(t,"INT")},g.$$arity=0),r&&"trap_interrupt"}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/core/shared_example_group"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$==","$[]","$thread_local_metadata","$raise","$add","$to_proc","$shared_example_group_registry","$world","$proc","$exposed_globally?","$change_global_dsl","$definitions","$ensure_block_has_source_location","$first_non_rspec_line","$valid_name?","$warn_if_key_taken","$[]=","$shared_example_groups","$unshift","$empty?","$new","$__send__","$class_exec","$include","$configuration","$each","$private","$===","$warn_with","$gsub","$formatted_location","$join","$source_location","$method_defined?","$split","$extend","$define_method","$instance_exec"]),function(t){var i,o,s,l=i=n(t,"RSpec"),u=(l.$$proto,l.$$scope);!function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t){var i,o,s=i=n(t,"SharedExampleGroup"),l=(s.$$proto,s.$$scope);e.defn(s,"$shared_examples",o=function(t){var n,$,a,i=this,s=o.$$p,u=s||r,c=r,_=arguments.length,p=_-1;0>p&&(p=0),a=new Array(p);for(var f=1;_>f;f++)a[f-1]=arguments[f];return o.$$p=null,c=i["$=="](l.get("ExampleGroup")),(n=($=c!==!1&&c!==r&&null!=c)?l.get("RSpec").$thread_local_metadata()["$[]"]("in_example_group"):c)===r||null==n||n.$$is_boolean&&1!=n||i.$raise("Creating isolated shared examples from within a context is not allowed. Remove `RSpec.` prefix or move this to a top-level scope."),(n=($=l.get("RSpec").$world().$shared_example_group_registry()).$add,n.$$p=u.$to_proc(),n).apply($,[i,t].concat(e.to_a(a)))},o.$$arity=-2),e.alias(s,"shared_context","shared_examples"),e.alias(s,"shared_examples_for","shared_examples"),function(t){var $,a,i,o,s,l=$=n(t,"TopLevelDSL"),u=(l.$$proto,l.$$scope);e.defs(l,"$definitions",a=function(){var t,n,$,a=this;return(t=(n=a).$proc,t.$$p=($=function(){var t,n=$.$$s||this;return e.def(n,"$shared_examples",t=function(n){var $,a,i,o=t.$$p,s=o||r,l=arguments.length,c=l-1;0>c&&(c=0),i=new Array(c);for(var _=1;l>_;_++)i[_-1]=arguments[_];return t.$$p=null,($=(a=u.get("RSpec").$world().$shared_example_group_registry()).$add,$.$$p=s.$to_proc(),$).apply(a,["main",n].concat(e.to_a(i)))},t.$$arity=-2),e.alias(n,"shared_context","shared_examples"),e.alias(n,"shared_examples_for","shared_examples")},$.$$s=a,$.$$arity=0,$),t).call(n)},a.$$arity=0),e.defs(l,"$exposed_globally?",i=function(){var e,t=this;return null==t.exposed_globally&&(t.exposed_globally=r),(e=t.exposed_globally)!==!1&&e!==r&&null!=e?e:t.exposed_globally=!1},i.$$arity=0),e.defs(l,"$expose_globally!",o=function(){var e,t,n=this;return(e=n["$exposed_globally?"]())===r||null==e||e.$$is_boolean&&1!=e?((e=(t=u.get("Core").$$scope.get("DSL")).$change_global_dsl,e.$$p=n.$definitions().$to_proc(),e).call(t),n.exposed_globally=!0):r},o.$$arity=0),e.defs(l,"$remove_globally!",s=function(){var t,n,$,a=this;return(t=a["$exposed_globally?"]())===r||null==t||t.$$is_boolean&&1!=t?r:((t=(n=u.get("Core").$$scope.get("DSL")).$change_global_dsl,t.$$p=($=function(){var t=$.$$s||this;return e.udef(t,"$shared_examples"),e.udef(t,"$shared_context"),e.udef(t,"$shared_examples_for")},$.$$s=a,$.$$arity=0,$),t).call(n),a.exposed_globally=!1)},s.$$arity=0)}(l.base),function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d=n=$(t,$super,"Registry",n),h=d.$$proto,g=d.$$scope;return h.shared_example_groups=r,e.defn(d,"$add",i=function(t,n){var $,a,o,s,l,u,c=this,_=i.$$p,p=_||r,f=r,d=arguments.length,h=d-2;0>h&&(h=0),u=new Array(h);for(var m=2;d>m;m++)u[m-2]=arguments[m];return i.$$p=null,($=(a=c).$ensure_block_has_source_location,$.$$p=(o=function(){o.$$s||this;return g.get("CallerFilter").$first_non_rspec_line()},o.$$s=c,o.$$arity=0,o),$).call(a,p),($=c["$valid_name?"](n))===r||null==$||$.$$is_boolean&&1!=$?u.$unshift(n):(c.$warn_if_key_taken(t,n,p),c.$shared_example_groups()["$[]"](t)["$[]="](n,p)),($=u["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$?(f=g.get("Module").$new(),($=(s=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(f))).$__send__,$.$$p=(l=function(e){var t,n;l.$$s||this;return null==e&&(e=r),(t=(n=e).$class_exec,t.$$p=p.$to_proc(),t).call(n)},l.$$s=c,l.$$arity=1,l),$).call(s,"define_method","included"),($=g.get("RSpec").$configuration()).$include.apply($,[f].concat(e.to_a(u)))):r},i.$$arity=-3),e.defn(d,"$find",o=function(t,n){try{var $,a,i,o=this;return($=(a=t).$each,$.$$p=(i=function(t){var $=i.$$s||this,a=r;return null==t&&(t=r),a=$.$shared_example_groups()["$[]"](t)["$[]"](n),a===!1||a===r||null==a?r:void e.ret(a)},i.$$s=o,i.$$arity=1,i),$).call(a),o.$shared_example_groups()["$[]"]("main")["$[]"](n)}catch(s){if(s===e.returner)return s.$v;throw s}},o.$$arity=2),d.$private(),e.defn(d,"$shared_example_groups",s=function(){var e,t,n,$,i=this;return(e=i.shared_example_groups)!==!1&&e!==r&&null!=e?e:i.shared_example_groups=(t=(n=g.get("Hash")).$new,t.$$p=($=function(e,t){$.$$s||this;return null==e&&(e=r),null==t&&(t=r),e["$[]="](t,a([],{}))},$.$$s=i,$.$$arity=2,$),t).call(n)},s.$$arity=0),e.defn(d,"$valid_name?",l=function(e){var t=r;return function(){return t=e,!!(g.get("String")["$==="](t)||g.get("Symbol")["$==="](t)||g.get("Module")["$==="](t))}()},l.$$arity=1),e.defn(d,"$warn_if_key_taken",u=function(e,t,n){var $=this,i=r;return i=$.$shared_example_groups()["$[]"](e)["$[]"](t),i===!1||i===r||null==i?r:g.get("RSpec").$warn_with(("            |WARNING: Shared example group '"+t+"' has been previously defined at:\n            |  "+$.$formatted_location(i)+"\n            |...and you are now defining it at:\n            |  "+$.$formatted_location(n)+"\n            |The new definition will overwrite the original one.\n").$gsub(/^ +\|/,""),a(["call_site"],{call_site:r}))},u.$$arity=3),e.defn(d,"$formatted_location",c=function(e){return e.$source_location().$join(":")},c.$$arity=1),(_=g.get("Proc")["$method_defined?"]("source_location"))===r||null==_||_.$$is_boolean&&1!=_?(e.defn(d,"$ensure_block_has_source_location",f=function(t){var n,$,a,i=this,o=f.$$p,s=o||r,l=r;return f.$$p=null,l=e.yieldX(s,[]).$split(":"),t.$extend((n=($=g.get("Module")).$new,n.$$p=(a=function(){var e,t,r,n=a.$$s||this;return(e=(t=n).$define_method,e.$$p=(r=function(){r.$$s||this;return l},r.$$s=n,r.$$arity=0,r),e).call(t,"source_location")},a.$$s=i,a.$$arity=0,a),n).call($))},f.$$arity=1),r&&"ensure_block_has_source_location"):(e.defn(d,"$ensure_block_has_source_location",p=function(){return r},p.$$arity=1),r&&"ensure_block_has_source_location")}(l.base,null)}(s.base)}(u.base),(o=(s=l).$instance_exec,o.$$p=u.get("Core").$$scope.get("SharedExampleGroup").$$scope.get("TopLevelDSL").$definitions().$to_proc(),o).call(s)}(t.base)},Opal.modules["rspec/core/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Core"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Version"),a=($.$$proto,$.$$scope);e.cdecl(a,"STRING","3.1.7")}(a.base)}(a.base)}(t.base)},Opal.modules["rspec/support/warnings"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.hash2;return e.add_stubs(["$require","$require_rspec_support","$warn_with","$fetch","$first_non_rspec_line","$[]","$<<","$warn","$extend"]),t.$require("rspec/support"),r.get("RSpec").$$scope.get("Support").$require_rspec_support("caller_filter"),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Support"),o=(i.$$proto,i.$$scope);!function(t){var r,i,o,s,l,u=r=$(t,"Warnings"),c=(u.$$proto,u.$$scope);e.defn(u,"$deprecate",i=function(e,t){var r=this;return null==t&&(t=a([],{})),r.$warn_with("DEPRECATION: "+e+" is deprecated.",t)},i.$$arity=-2),e.defn(u,"$warn_deprecation",o=function(e,t){var r=this;return null==t&&(t=a([],{})),r.$warn_with("DEPRECATION: \n "+e,t)},o.$$arity=-2),e.defn(u,"$warning",s=function(e,t){var r=this;return null==t&&(t=a([],{})),r.$warn_with("WARNING: "+e+".",t)},s.$$arity=-2),e.defn(u,"$warn_with",l=function(t,r){var $,i,o,s=this,l=n;return null==r&&(r=a([],{})),l=($=(i=r).$fetch,$.$$p=(o=function(){o.$$s||this;return c.get("CallerFilter").$first_non_rspec_line()},o.$$s=s,o.$$arity=0,o),$).call(i,"call_site"),($=r["$[]"]("replacement"))===n||null==$||$.$$is_boolean&&1!=$||t["$<<"](" Use "+r["$[]"]("replacement")+" instead."),l!==!1&&l!==n&&null!=l&&t["$<<"](" Called from "+l+"."),e.get("Kernel").$warn(t)},l.$$arity=-2)}(o.base)}(o.base),i.$extend(o.get("RSpec").$$scope.get("Support").$$scope.get("Warnings"))}(r.base)},Opal.modules["rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.hash2;return e.add_stubs(["$require","$deprecation","$reporter","$configuration","$merge","$first_non_rspec_line","$[]","$end_with?","$+","$current_example","$location"]),r.$require("rspec/support/warnings"),function(r){var n,o=n=a(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var n,o=n=a(r,"Core"),s=(o.$$proto,o.$$scope);!function(r){var n,o,s,l,u=n=a(r,"Warnings"),c=(u.$$proto,u.$$scope);e.defn(u,"$deprecate",o=function(e,t){return null==t&&(t=i([],{})),c.get("RSpec").$configuration().$reporter().$deprecation(i(["deprecated","call_site"],{deprecated:e,call_site:c.get("CallerFilter").$first_non_rspec_line()}).$merge(t))},o.$$arity=-2),e.defn(u,"$warn_deprecation",s=function(e,t){return null==t&&(t=i([],{})),c.get("RSpec").$configuration().$reporter().$deprecation(t.$merge(i(["message"],{message:e})))},s.$$arity=-2),e.defn(u,"$warn_with",l=function(r,n){var a,o,s=this;l.$$p;return null==n&&(n=i([],{})),l.$$p=null,(a=n["$[]"]("use_spec_location_as_call_site"))===$||null==a||a.$$is_boolean&&1!=a||(((a=r["$end_with?"]("."))===$||null==a||a.$$is_boolean&&1!=a)&&(r=t(r,".")),(a=c.get("RSpec").$current_example())===$||null==a||a.$$is_boolean&&1!=a||(r=t(r," Warning generated from spec at `"+c.get("RSpec").$current_example().$location()+"`."))),(o=s,a=e.find_super_dispatcher(s,"warn_with",l,!1),a.$$p=null,a).call(o,r,n)},l.$$arity=-2)}(s.base)}(s.base)}(n.base)},Opal.modules["rspec/core/world"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}var n=e.top,$=e,a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$require","$include","$attr_reader","$attr_accessor","$new","$[]=","$dup","$examples","$prune","$filter_manager","$uniq!","$configuration","$clear","$example_groups","$=~","$[]","$fetch","$ordering_registry","$order","$<<","$inclusion_filter","$exclusion_filter","$configure_group","$inject","$+","$size","$filtered_examples","$flat_map","$descendants","$<=","$sort","$declaration_line_numbers","$reporter","$announce_inclusion_filter","$announce_exclusion_filter","$empty?","$==","$length","$message","$join","$run_all_when_everything_filtered?","$zero?","$example_count","$everything_filtered_message","$description","$private"]),n.$require("rbconfig"),function(n){var $,s=$=i(n,"RSpec"),l=(s.$$proto,s.$$scope);!function(n){var $,s=$=i(n,"Core"),l=(s.$$proto,s.$$scope);!function(n,$super){function $(){}var i,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E=$=o(n,$super,"World",$),R=E.$$proto,A=E.$$scope;return R.configuration=R.example_groups=R.shared_example_group_registry=R.line_numbers=a,E.$include(A.get("RSpec").$$scope.get("Core").$$scope.get("Hooks")),E.$attr_reader("example_groups","filtered_examples"),E.$attr_accessor("wants_to_quit"),e.defn(E,"$initialize",i=function(e){var t,r,n,$=this;return null==e&&(e=A.get("RSpec").$configuration()),$.configuration=e,$.example_groups=[],$.filtered_examples=(t=(r=A.get("Hash")).$new,t.$$p=(n=function(e,t){var r=n.$$s||this,$=a;return null==e&&(e=a),null==t&&(t=a),e["$[]="](t,function(){return $=t.$examples().$dup(),$=r.$filter_manager().$prune($),$["$uniq!"](),$}())},n.$$s=$,n.$$arity=2,n),t).call(r)},i.$$arity=-1),e.defn(E,"$clear_remaining_example_groups",s=function(){var e=this;return e.$example_groups().$clear()},s.$$arity=0),e.defn(E,"$windows_os?",l=function(){return A.get("RbConfig").$$scope.get("CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},l.$$arity=0),e.defn(E,"$ordered_example_groups",u=function(){var e=this,t=a;return t=e.configuration.$ordering_registry().$fetch("global"),t.$order(e.example_groups)},u.$$arity=0),e.defn(E,"$reset",c=function(){var e=this;return e.$example_groups().$clear(),e.shared_example_group_registry=a},c.$$arity=0),e.defn(E,"$filter_manager",_=function(){var e=this;return e.configuration.$filter_manager()},_.$$arity=0),e.defn(E,"$register",p=function(e){var t=this;return t.$example_groups()["$<<"](e),e},p.$$arity=1),e.defn(E,"$shared_example_group_registry",f=function(){var e,t=this;return(e=t.shared_example_group_registry)!==!1&&e!==a&&null!=e?e:t.shared_example_group_registry=A.get("SharedExampleGroup").$$scope.get("Registry").$new()},f.$$arity=0),e.defn(E,"$inclusion_filter",d=function(){var e=this;return e.configuration.$inclusion_filter()},d.$$arity=0),e.defn(E,"$exclusion_filter",h=function(){var e=this;return e.configuration.$exclusion_filter()},h.$$arity=0),e.defn(E,"$configure_group",g=function(e){var t=this;return t.configuration.$configure_group(e)},g.$$arity=1),e.defn(E,"$example_count",m=function(e){var r,n,$,i,o,s,l=this;return null==e&&(e=l.$example_groups()),(r=(n=(i=(o=A.get("FlatMap")).$flat_map,i.$$p=(s=function(e){s.$$s||this;return null==e&&(e=a),e.$descendants()},s.$$s=l,s.$$arity=1,s),i).call(o,e)).$inject,r.$$p=($=function(e,r){$.$$s||this;return null==e&&(e=a),null==r&&(r=a),t(e,r.$filtered_examples().$size())},$.$$s=l,$.$$arity=2,$),r).call(n,0)},m.$$arity=-1),e.defn(E,"$preceding_declaration_line",y=function(e){var t,n,$,i=this;return(t=(n=i.$declaration_line_numbers().$sort()).$inject,t.$$p=($=function(t,n){var i;$.$$s||this;return null==t&&(t=a),null==n&&(n=a),(i=r(n,e))===a||null==i||i.$$is_boolean&&1!=i?t:n},$.$$s=i,$.$$arity=2,$),t).call(n,a)},y.$$arity=1),e.defn(E,"$reporter",v=function(){var e=this;return e.configuration.$reporter()},v.$$arity=0),e.defn(E,"$announce_filters",b=function(){var e,t,r=this,n=a,$=a;return n=[],r.$announce_inclusion_filter(n),r.$announce_exclusion_filter(n),
((e=r.$filter_manager()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e)&&(n.$length()["$=="](1)?r.$reporter().$message("Run options: "+n["$[]"](0)):r.$reporter().$message("Run options:\n  "+n.$join("\n  "))),t=r.configuration["$run_all_when_everything_filtered?"](),(e=t!==!1&&t!==a&&null!=t?r.$example_count()["$zero?"]():t)===a||null==e||e.$$is_boolean&&1!=e||(r.$reporter().$message(""+r.$everything_filtered_message()+"; ignoring "+r.$inclusion_filter().$description()),r.$filtered_examples().$clear(),r.$inclusion_filter().$clear()),(e=r.$example_count()["$zero?"]())===a||null==e||e.$$is_boolean&&1!=e?a:(r.$example_groups().$clear(),(e=r.$filter_manager()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e?(e=r.$exclusion_filter()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e?(e=r.$inclusion_filter()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e?a:r.$reporter().$message(r.$everything_filtered_message()):($=r.$everything_filtered_message(),(e=r.configuration["$run_all_when_everything_filtered?"]())===a||null==e||e.$$is_boolean&&1!=e||$["$<<"]("; ignoring "+r.$inclusion_filter().$description()),r.$reporter().$message($)):r.$reporter().$message("No examples found."))},b.$$arity=0),e.defn(E,"$everything_filtered_message",x=function(){return"\nAll examples were filtered out"},x.$$arity=0),e.defn(E,"$announce_inclusion_filter",w=function(e){var t,r=this;return(t=r.$inclusion_filter()["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?e["$<<"]("include "+r.$inclusion_filter().$description()):a},w.$$arity=1),e.defn(E,"$announce_exclusion_filter",k=function(e){var t,r=this;return(t=r.$exclusion_filter()["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?e["$<<"]("exclude "+r.$exclusion_filter().$description()):a},k.$$arity=1),E.$private(),e.defn(E,"$declaration_line_numbers",S=function(){var e,r,n,$,i=this;return(e=i.line_numbers)!==!1&&e!==a&&null!=e?e:i.line_numbers=(r=(n=i.$example_groups()).$inject,r.$$p=($=function(e,r){$.$$s||this;return null==e&&(e=a),null==r&&(r=a),t(e,r.$declaration_line_numbers())},$.$$s=i,$.$$arity=2,$),r).call(n,[])},S.$$arity=0),a&&"declaration_line_numbers"}(l.base,null)}(l.base)}($.base)},Opal.modules["rspec/expectations/configuration"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_expectations","$include?","$Array","$enable_expect","$disable_expect","$enable_should","$disable_should","$should_enabled?","$<<","$expect_enabled?","$respond_to?","$color_enabled?","$configuration","$attr_writer","$each","$backtrace_formatter","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default"]),t.get("RSpec").$$scope.get("Support").$require_rspec_expectations("syntax"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o=a=n(t,"Expectations"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"Configuration",n),g=h.$$proto,m=h.$$scope;return g.color=g.backtrace_formatter=g.include_chain_clauses_in_custom_matcher_descriptions=r,e.defn(h,"$syntax=",a=function(e){var t,n=this;return(t=n.$Array(e)["$include?"]("expect"))===r||null==t||t.$$is_boolean&&1!=t?m.get("Expectations").$$scope.get("Syntax").$disable_expect():m.get("Expectations").$$scope.get("Syntax").$enable_expect(),(t=n.$Array(e)["$include?"]("should"))===r||null==t||t.$$is_boolean&&1!=t?m.get("Expectations").$$scope.get("Syntax").$disable_should():m.get("Expectations").$$scope.get("Syntax").$enable_should()},a.$$arity=1),e.defn(h,"$syntax",i=function(){var e,t=r;return t=[],(e=m.get("Expectations").$$scope.get("Syntax")["$should_enabled?"]())===r||null==e||e.$$is_boolean&&1!=e||t["$<<"]("should"),(e=m.get("Expectations").$$scope.get("Syntax")["$expect_enabled?"]())===r||null==e||e.$$is_boolean&&1!=e||t["$<<"]("expect"),t},i.$$arity=0),(o=e.get("RSpec")["$respond_to?"]("configuration"))===r||null==o||o.$$is_boolean&&1!=o?(h.$attr_writer("color"),e.defn(h,"$color?",l=function(){var e=this;return e.color},l.$$arity=0)):e.defn(h,"$color?",s=function(){return e.get("RSpec").$configuration()["$color_enabled?"]()},s.$$arity=0),e.defn(h,"$add_should_and_should_not_to",u=function(){var e,t,n,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=$).$each,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),m.get("Expectations").$$scope.get("Syntax").$enable_should(e)},n.$$s=a,n.$$arity=1,n),e).call(t)},u.$$arity=-1),h.$attr_writer("backtrace_formatter"),e.defn(h,"$backtrace_formatter",c=function(){var t,n,$,a=this;return(t=a.backtrace_formatter)!==!1&&t!==r&&null!=t?t:a.backtrace_formatter=function(){return(n=($=e.get("RSpec").$configuration().$backtrace_formatter)&&!$.$$stub||e.get("RSpec").$configuration()["$respond_to_missing?"]("backtrace_formatter")?"method":r)===r||null==n||n.$$is_boolean&&1!=n?m.get("NullBacktraceFormatter"):e.get("RSpec").$configuration().$backtrace_formatter()}()},c.$$arity=0),h.$attr_writer("include_chain_clauses_in_custom_matcher_descriptions"),e.defn(h,"$include_chain_clauses_in_custom_matcher_descriptions?",_=function(){var e,t=this;return(e=t.include_chain_clauses_in_custom_matcher_descriptions)!==!1&&e!==r&&null!=e?e:t.include_chain_clauses_in_custom_matcher_descriptions=!1},_.$$arity=0),e.defn(h,"$reset_syntaxes_to_default",p=function(){var e,t,r=this;return e=[["should","expect"]],t=r,t["$syntax="].apply(t,e),e[e.length-1],m.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax")["$warn_about_should!"]()},p.$$arity=0),e.cdecl(m,"NullBacktraceFormatter",(o=(f=m.get("Module")).$new,o.$$p=(d=function(){var t,n=d.$$s||this;return e.defs(n,"$format_backtrace",t=function(e){return e},t.$$arity=1),r&&"format_backtrace"},d.$$s=h,d.$$arity=0,d),o).call(f))}(s.base,null),e.defs(o,"$configuration",i=function(){var e,t=this;return null==t.configuration&&(t.configuration=r),(e=t.configuration)!==!1&&e!==r&&null!=e?e:t.configuration=s.get("Configuration").$new()},i.$$arity=0),o.$configuration().$reset_syntaxes_to_default()}(o.base)}(t.base)},Opal.modules["rspec/expectations/expectation_target"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$new","$equal?","$raise","$prevent_operator_matchers","$handle_matcher","$to_proc","$private","$enforce_block_expectation","$supports_block_expectations?","$description_of","$description","$inspect"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Expectations"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"ExpectationTarget",n),c=u.$$proto,_=u.$$scope;return c.target=r,e.cdecl(_,"UndefinedValue",_.get("Module").$new()),e.defn(u,"$initialize",a=function(e){var t=this;return t.target=e},a.$$arity=1),e.defs(u,"$for",i=function(e,t){var n,$=this;return(n=_.get("UndefinedValue")["$equal?"](e))===r||null==n||n.$$is_boolean&&1!=n?t!==!1&&t!==r&&null!=t?$.$raise(_.get("ArgumentError"),"You cannot pass both an argument and a block to `expect`."):$.$new(e):(t!==!1&&t!==r&&null!=t||$.$raise(_.get("ArgumentError"),"You must pass either an argument or a block to `expect`."),_.get("BlockExpectationTarget").$new(t))},i.$$arity=2),e.defn(u,"$to",o=function(e,t){var n,$,a=this,i=o.$$p,s=i||r;return null==e&&(e=r),null==t&&(t=r),o.$$p=null,e!==!1&&e!==r&&null!=e||a.$prevent_operator_matchers("to"),(n=($=_.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler")).$handle_matcher,n.$$p=s.$to_proc(),n).call($,a.target,e,t)},o.$$arity=-1),e.defn(u,"$not_to",s=function(e,t){var n,$,a=this,i=s.$$p,o=i||r;return null==e&&(e=r),null==t&&(t=r),s.$$p=null,e!==!1&&e!==r&&null!=e||a.$prevent_operator_matchers("not_to"),(n=($=_.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler")).$handle_matcher,n.$$p=o.$to_proc(),n).call($,a.target,e,t)},s.$$arity=-1),e.alias(u,"to_not","not_to"),u.$private(),e.defn(u,"$prevent_operator_matchers",l=function(e){var t=this;return t.$raise(_.get("ArgumentError"),"The expect syntax does not support operator matchers, "+("so you must pass a matcher to `#"+e+"`."))},l.$$arity=1),r&&"prevent_operator_matchers"}(o.base,null),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"BlockExpectationTarget",n),c=(u.$$proto,u.$$scope);return e.defn(u,"$to",a=function(t,n){var $,i,o=this,s=a.$$p,l=r,u=r;for(null==n&&(n=r),a.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o.$enforce_block_expectation(t),(i=o,$=e.find_super_dispatcher(o,"to",a,!1),$.$$p=s,$).apply(i,l)},a.$$arity=-2),e.defn(u,"$not_to",i=function(t,n){var $,a,o=this,s=i.$$p,l=r,u=r;for(null==n&&(n=r),i.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o.$enforce_block_expectation(t),(a=o,$=e.find_super_dispatcher(o,"not_to",i,!1),$.$$p=s,$).apply(a,l)},i.$$arity=-2),e.alias(u,"to_not","not_to"),u.$private(),e.defn(u,"$enforce_block_expectation",o=function(e){var t,n=this;return(t=n["$supports_block_expectations?"](e))===r||null==t||t.$$is_boolean&&1!=t?n.$raise(c.get("ExpectationNotMetError"),"You must pass an argument rather than "+("a block to use the provided matcher ("+n.$description_of(e)+"), or ")+"the matcher must implement `supports_block_expectations?`."):r},o.$$arity=1),e.defn(u,"$supports_block_expectations?",s=function(t){try{return t["$supports_block_expectations?"]()}catch(r){if(!e.rescue(r,[c.get("NoMethodError")]))throw r;try{return!1}finally{e.pop_exception()}}},s.$$arity=1),e.defn(u,"$description_of",l=function(t){try{return t.$description()}catch(r){if(!e.rescue(r,[c.get("NoMethodError")]))throw r;try{return t.$inspect()}finally{e.pop_exception()}}},l.$$arity=1),r&&"description_of"}(o.base,o.get("ExpectationTarget"))}(o.base)}(t.base)},Opal.modules["rspec/expectations/fail_with"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$require_rspec_support","$new","$lambda","$surface_descriptions_in","$color?","$configuration","$raise","$diff","$differ","$empty?"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("differ"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Expectations");i.$$proto,i.$$scope;!function(t){var n,a,i=t.$$scope;t.$$proto;return e.defn(t,"$differ",n=function(){var e,t,n,a=this;return i.get("RSpec").$$scope.get("Support").$$scope.get("Differ").$new($(["object_preparer","color"],{object_preparer:(e=(t=a).$lambda,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),i.get("RSpec").$$scope.get("Matchers").$$scope.get("Composable").$surface_descriptions_in(e)},n.$$s=a,n.$$arity=1,n),e).call(t),color:i.get("RSpec").$$scope.get("Matchers").$configuration()["$color?"]()}))},n.$$arity=0),e.defn(t,"$fail_with",a=function(e,t,n){var $,a=this,o=r;return null==t&&(t=r),null==n&&(n=r),e!==!1&&e!==r&&null!=e||a.$raise(i.get("ArgumentError"),"Failure message is nil. Does your matcher define the appropriate failure_message[_when_negated] method to return a string?"),o=a.$differ().$diff(n,t),(($=o["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$)&&(e=""+e+"\nDiff:"+o),a.$raise(i.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError"),e)},a.$$arity=-2),r&&"fail_with"}(e.get_singleton_class(i))}(o.base)}(t.base)},Opal.modules["rspec/expectations/handler"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$nil?","$respond_to?","$warn","$join","$inspect","$wrap","$check_message","$last_expectation_handler=","$last_matcher=","$modern_matcher_from","$call","$__send__","$diffable?","$fail_with","$expected","$actual","$setup","$new","$matches?","$to_proc","$handle_failure","$!","$does_not_match?","$warn_deprecation","$gsub","$name","$class","$first_non_rspec_line","$interface_matches?","$failure_message_for_should","$base_matcher","$failure_message_for_should_not","$failure_message","$negative_failure_message"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Expectations"),s=(o.$$proto,o.$$scope);!function(t){var $,a,i,o,s,l=$=n(t,"ExpectationHelper"),u=(l.$$proto,l.$$scope);e.defs(l,"$check_message",a=function(t){var n,$,a;return(n=($=(a=t["$nil?"]())!==!1&&a!==r&&null!=a?a:t["$respond_to?"]("to_str"))!==!1&&$!==r&&null!=$?$:t["$respond_to?"]("call"))===r||null==n||n.$$is_boolean&&1!=n?e.get("Kernel").$warn(["WARNING: ignoring the provided expectation message argument (",t.$inspect(),") since it is not a string or a proc."].$join()):r},a.$$arity=1),e.defs(l,"$modern_matcher_from",i=function(e){var t,n;return(t=(n=u.get("LegacyMatcherAdapter").$$scope.get("RSpec2").$wrap(e))!==!1&&n!==r&&null!=n?n:u.get("LegacyMatcherAdapter").$$scope.get("RSpec1").$wrap(e))!==!1&&t!==r&&null!=t?t:e},i.$$arity=1),e.defs(l,"$setup",o=function(t,r,n){var $,a,i=this;return i.$check_message(n),$=[t],a=e.get("RSpec").$$scope.get("Matchers"),a["$last_expectation_handler="].apply(a,$),$[$.length-1],$=[i.$modern_matcher_from(r)],a=e.get("RSpec").$$scope.get("Matchers"),a["$last_matcher="].apply(a,$),$[$.length-1]},o.$$arity=3),e.defs(l,"$handle_failure",s=function(t,n,$){var a,i;return(a=n["$respond_to?"]("call"))===r||null==a||a.$$is_boolean&&1!=a||(n=n.$call()),(a=n)!==!1&&a!==r&&null!=a?a:n=t.$__send__($),i=t["$respond_to?"]("diffable?"),(a=i!==!1&&i!==r&&null!=i?t["$diffable?"]():i)===r||null==a||a.$$is_boolean&&1!=a?e.get("RSpec").$$scope.get("Expectations").$fail_with(n):e.get("RSpec").$$scope.get("Expectations").$fail_with(n,t.$expected(),t.$actual())},s.$$arity=3)}(s.base),function(t,$super){function n(){}var a,i,o,s,l=n=$(t,$super,"PositiveExpectationHandler",n),u=(l.$$proto,l.$$scope);return e.defs(l,"$handle_matcher",a=function(t,n,$){var i,o,s,l=this,c=a.$$p,_=c||r,p=r;return null==$&&($=r),a.$$p=null,p=u.get("ExpectationHelper").$setup(l,n,$),n===!1||n===r||null==n?e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("PositiveOperatorMatcher").$new(t):(i=(o=(s=p)["$matches?"],o.$$p=_.$to_proc(),o).call(s,t))!==!1&&i!==r&&null!=i?i:u.get("ExpectationHelper").$handle_failure(p,$,"failure_message")},a.$$arity=-3),e.defs(l,"$verb",i=function(){return"should"},i.$$arity=0),e.defs(l,"$should_method",o=function(){return"should"},o.$$arity=0),e.defs(l,"$opposite_should_method",s=function(){return"should_not"},s.$$arity=0),r&&"opposite_should_method"}(s.base,null),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"NegativeExpectationHandler",n),c=(u.$$proto,u.$$scope);return e.defs(u,"$handle_matcher",a=function(t,n,$){var i,o,s,l=this,u=a.$$p,_=u||r,p=r;return null==$&&($=r),a.$$p=null,p=c.get("ExpectationHelper").$setup(l,n,$),n===!1||n===r||null==n?e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn").$$scope.get("NegativeOperatorMatcher").$new(t):((i=(o=(s=l)["$does_not_match?"],o.$$p=_.$to_proc(),o).call(s,p,t))!==!1&&i!==r&&null!=i?i:c.get("ExpectationHelper").$handle_failure(p,$,"failure_message_when_negated"))["$!"]()},a.$$arity=-3),e.defs(u,"$does_not_match?",i=function(e,t){var n,$,a,o=i.$$p,s=o||r;return i.$$p=null,(n=e["$respond_to?"]("does_not_match?"))===r||null==n||n.$$is_boolean&&1!=n?(n=(a=e)["$matches?"],n.$$p=s.$to_proc(),n).call(a,t)["$!"]():(n=($=e)["$does_not_match?"],n.$$p=s.$to_proc(),n).call($,t)},i.$$arity=2),e.defs(u,"$verb",o=function(){return"should not"},o.$$arity=0),e.defs(u,"$should_method",s=function(){return"should_not"},s.$$arity=0),e.defs(u,"$opposite_should_method",l=function(){return"should"},l.$$arity=0),r&&"opposite_should_method"}(s.base,null),function(t,$super){function n(){}var i,o,s=n=$(t,$super,"LegacyMatcherAdapter",n),l=(s.$$proto,s.$$scope);return e.defn(s,"$initialize",i=function(t){var n,$,o=this,s=i.$$p,u=r,c=r;for(i.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return($=o,n=e.find_super_dispatcher(o,"initialize",i,!1),n.$$p=s,n).apply($,u),e.get("RSpec").$warn_deprecation(("          |"+((n=t.$class().$name())!==!1&&n!==r&&null!=n?n:t.$inspect())+" implements a legacy RSpec matcher\n          |protocol. For the current protocol you should expose the failure messages\n          |via the `failure_message` and `failure_message_when_negated` methods.\n          |(Used from "+l.get("CallerFilter").$first_non_rspec_line()+")\n").$gsub(/^\s+\|/,""),a(["type"],{type:"legacy_matcher"}))},i.$$arity=1),e.defs(s,"$wrap",o=function(e){var t,n=this;return(t=n["$interface_matches?"](e))===r||null==t||t.$$is_boolean&&1!=t?r:n.$new(e)},o.$$arity=1),function(t,$super){function n(){}var a,i,o,s=n=$(t,$super,"RSpec2",n);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",a=function(){var e=this;return e.$base_matcher().$failure_message_for_should()},a.$$arity=0),e.defn(s,"$failure_message_when_negated",i=function(){var e=this;return e.$base_matcher().$failure_message_for_should_not()},i.$$arity=0),e.defs(s,"$interface_matches?",o=function(e){var t,n;return n=e["$respond_to?"]("failure_message")["$!"](),(t=n!==!1&&n!==r&&null!=n?e["$respond_to?"]("failure_message_for_should"):n)!==!1&&t!==r&&null!=t?t:(n=e["$respond_to?"]("failure_message_when_negated")["$!"](),n!==!1&&n!==r&&null!=n?e["$respond_to?"]("failure_message_for_should_not"):n)},o.$$arity=1),r&&"interface_matches?"}(l.base,s),function(t,$super){function n(){}var a,i,o,s=n=$(t,$super,"RSpec1",n);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",a=function(){var e=this;return e.$base_matcher().$failure_message()},a.$$arity=0),e.defn(s,"$failure_message_when_negated",i=function(){var e=this;return e.$base_matcher().$negative_failure_message()},i.$$arity=0),e.defs(s,"$interface_matches?",o=function(e){var t;return t=e["$respond_to?"]("failure_message_when_negated")["$!"](),t!==!1&&t!==r&&null!=t?e["$respond_to?"]("negative_failure_message"):t},o.$$arity=1),r&&"interface_matches?"}(l.base,s)}(s.base,s.get("Matchers").$$scope.get("MatcherDelegator")),e.cdecl(s,"LegacyMacherAdapter",s.get("LegacyMatcherAdapter"))}(s.base)}(t.base)},Opal.modules["rspec/expectations/syntax"]=function(e){var t,r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.hash2,i=e.klass;return e.add_stubs(["$module_function","$last","$ancestors","$deprecate","$==","$default_should_host","$should_enabled?","$module_exec","$warn_about_should_unless_configured","$handle_matcher","$to_proc","$expect_enabled?","$for","$method_defined?"]),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Expectations"),o=(i.$$proto,i.$$scope);!function(t){var r,i,o,s,l,u,c,_,p,f,d=r=$(t,"Syntax"),h=(d.$$proto,d.$$scope);d.$module_function(),e.defn(d,"$default_should_host",i=function(){var t,r=this;return null==r.default_should_host&&(r.default_should_host=n),(t=r.default_should_host)!==!1&&t!==n&&null!=t?t:r.default_should_host=e.get("Object").$ancestors().$last()},i.$$arity=0),e.defn(d,"$warn_about_should!",o=function(){var e=this;return e.warn_about_should=!0},o.$$arity=0),e.defn(d,"$warn_about_should_unless_configured",s=function(e){var t,r=this;return null==r.warn_about_should&&(r.warn_about_should=n),(t=r.warn_about_should)===n||null==t||t.$$is_boolean&&1!=t?n:(h.get("RSpec").$deprecate("Using `"+e+"` from rspec-expectations' old `:should` syntax without explicitly enabling the syntax",a(["replacement"],{replacement:"the new `:expect` syntax or explicitly enable `:should`"})),r.warn_about_should=!1)},s.$$arity=1),e.defn(d,"$enable_should",l=function(t){var r,$,a,i=this;return null==t&&(t=i.$default_should_host()),t["$=="](i.$default_should_host())&&(i.warn_about_should=!1),(r=i["$should_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?(r=($=t).$module_exec,r.$$p=(a=function(){var t,r,$=a.$$s||this;return e.def($,"$should",t=function(r,$){var a,i,o=this,s=t.$$p,l=s||n;return null==r&&(r=n),null==$&&($=n),t.$$p=null,e.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax").$warn_about_should_unless_configured("should"),(a=(i=e.get("RSpec").$$scope.get("Expectations").$$scope.get("PositiveExpectationHandler")).$handle_matcher,a.$$p=l.$to_proc(),a).call(i,o,r,$)},t.$$arity=-1),e.def($,"$should_not",r=function(t,$){var a,i,o=this,s=r.$$p,l=s||n;return null==t&&(t=n),null==$&&($=n),r.$$p=null,e.get("RSpec").$$scope.get("Expectations").$$scope.get("Syntax").$warn_about_should_unless_configured("should_not"),(a=(i=e.get("RSpec").$$scope.get("Expectations").$$scope.get("NegativeExpectationHandler")).$handle_matcher,a.$$p=l.$to_proc(),a).call(i,o,t,$)},r.$$arity=-1),n&&"should_not"},a.$$s=i,a.$$arity=0,a),r).call($):n},l.$$arity=-1),e.defn(d,"$disable_should",u=function(t){var r,$,a,i=this;return null==t&&(t=i.$default_should_host()),(r=i["$should_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:(r=($=t).$module_exec,r.$$p=(a=function(){var t=a.$$s||this;return e.udef(t,"$should"),e.udef(t,"$should_not")},a.$$s=i,a.$$arity=0,a),r).call($)},u.$$arity=-1),e.defn(d,"$enable_expect",c=function(t){var r,$,a,i=this;return null==t&&(t=e.get("RSpec").$$scope.get("Matchers")),(r=i["$expect_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?(r=($=t).$module_exec,r.$$p=(a=function(){var t,r=a.$$s||this;return e.def(r,"$expect",t=function(r){var $=t.$$p,a=$||n;return null==r&&(r=e.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationTarget").$$scope.get("UndefinedValue")),t.$$p=null,e.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationTarget").$for(r,a)},t.$$arity=-1),n&&"expect"},a.$$s=i,a.$$arity=0,a),r).call($):n},c.$$arity=-1),e.defn(d,"$disable_expect",_=function(t){var r,$,a,i=this;return null==t&&(t=e.get("RSpec").$$scope.get("Matchers")),(r=i["$expect_enabled?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:(r=($=t).$module_exec,r.$$p=(a=function(){var t=a.$$s||this;return e.udef(t,"$expect")},a.$$s=i,a.$$arity=0,a),r).call($)},_.$$arity=-1),e.defn(d,"$should_enabled?",p=function(e){var t=this;return null==e&&(e=t.$default_should_host()),e["$method_defined?"]("should")},p.$$arity=-1),e.defn(d,"$expect_enabled?",f=function(t){return null==t&&(t=e.get("RSpec").$$scope.get("Matchers")),t["$method_defined?"]("expect")},f.$$arity=-1)}(o.base)}(o.base)}(r.base),(t=null!=r.BasicObject)===n||null==t||t.$$is_boolean&&1!=t?n:function(e,$super){function t(){}var r=t=i(e,$super,"BasicObject",t);r.$$proto,r.$$scope;return n}(r.base,null)},Opal.modules["rspec/expectations/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Expectations"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Version"),a=($.$$proto,$.$$scope);e.cdecl(a,"STRING","3.1.2")}(a.base)}(a.base)}(t.base)},Opal.modules["rspec/matchers/aliased_matcher"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$is_a_matcher?","$new","$class","$call","$respond_to?","$does_not_match?","$to_proc","$!","$matches?","$optimal_failure_message","$private","$has_default_failure_messages?","$__send__","$!="]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"AliasedMatcher",n),c=u.$$proto,_=u.$$scope;return c.description_block=r,e.defn(u,"$initialize",a=function(t,r){var n,$,i=this;a.$$p;return a.$$p=null,i.description_block=r,($=i,n=e.find_super_dispatcher(i,"initialize",a,!1),n.$$p=null,n).call($,t)},a.$$arity=2),e.defn(u,"$method_missing",i=function(){var t,n,$=this,a=i.$$p,o=r,s=r,l=r;for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o=(n=$,t=e.find_super_dispatcher($,"method_missing",i,!1),t.$$p=a,t).apply(n,s),(t=_.get("RSpec").$$scope.get("Matchers")["$is_a_matcher?"](o))===r||null==t||t.$$is_boolean&&1!=t?o:$.$class().$new(o,$.description_block)},i.$$arity=-1),e.defn(u,"$description",o=function(){var t,n,$=this,a=o.$$p,i=r,s=r;for(o.$$p=null,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return $.description_block.$call((n=$,t=e.find_super_dispatcher($,"description",o,!1),t.$$p=a,t).apply(n,i))},o.$$arity=0),e.defn(u,"$failure_message",s=function(){var t,n,$=this,a=s.$$p,i=r,o=r;for(s.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $.description_block.$call((n=$,t=e.find_super_dispatcher($,"failure_message",s,!1),t.$$p=a,t).apply(n,i))},s.$$arity=0),e.defn(u,"$failure_message_when_negated",l=function(){var t,n,$=this,a=l.$$p,i=r,o=r;for(l.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $.description_block.$call((n=$,t=e.find_super_dispatcher($,"failure_message_when_negated",l,!1),t.$$p=a,t).apply(n,i))},l.$$arity=0),r&&"failure_message_when_negated"}(o.base,o.get("MatcherDelegator")),function(t,$super){function r(){}var n=r=$(t,$super,"AliasedMatcherWithOperatorSupport",r);n.$$proto,n.$$scope;return e.udef(n,"$=="),e.udef(n,"$===")}(o.base,o.get("AliasedMatcher")),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"AliasedNegatedMatcher",n),c=u.$$proto,_=u.$$scope;return c.base_matcher=c.description_block=r,e.defn(u,"$matches?",a=function(){var t,n,$,i,o=this,s=a.$$p,l=s||r,u=r,c=r,_=arguments.length,p=_-0;0>p&&(p=0),i=new Array(p);for(var f=0;_>f;f++)i[f-0]=arguments[f];for(a.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=o.base_matcher["$respond_to?"]("does_not_match?"))===r||null==t||t.$$is_boolean&&1!=t?($=o,t=e.find_super_dispatcher(o,"matches?",a,!1),t.$$p=s,t).apply($,u)["$!"]():(t=(n=o.base_matcher)["$does_not_match?"],t.$$p=l.$to_proc(),t).apply(n,e.to_a(i))},a.$$arity=-1),e.defn(u,"$does_not_match?",i=function(){var t,n,$,a=this,o=i.$$p,s=o||r,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return i.$$p=null,(t=(n=a.base_matcher)["$matches?"],t.$$p=s.$to_proc(),t).apply(n,e.to_a($))},i.$$arity=-1),e.defn(u,"$failure_message",o=function(){var e=this;return e.$optimal_failure_message("failure_message","failure_message_when_negated")},o.$$arity=0),e.defn(u,"$failure_message_when_negated",s=function(){var e=this;return e.$optimal_failure_message("failure_message_when_negated","failure_message")},s.$$arity=0),u.$private(),e.cdecl(_,"DefaultFailureMessages",_.get("BuiltIn").$$scope.get("BaseMatcher").$$scope.get("DefaultFailureMessages")),e.defn(u,"$optimal_failure_message",l=function(e,t){var n,$=this,a=r,i=r;return(n=_.get("DefaultFailureMessages")["$has_default_failure_messages?"]($.base_matcher))===r||null==n||n.$$is_boolean&&1!=n||(a=$.base_matcher.$__send__(e),i=$.description_block.$call(a),(n=i["$!="](a))===r||null==n||n.$$is_boolean&&1!=n)?$.base_matcher.$__send__(t):i},l.$$arity=2),r&&"optimal_failure_message"}(o.base,o.get("AliasedMatcher"))}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_kind_of"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$private","$kind_of?"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i=n=$(t,$super,"BeAKindOf",n);i.$$proto,i.$$scope;return i.$private(),e.defn(i,"$match",a=function(e,t){return t["$kind_of?"](e)},a.$$arity=2),r&&"match"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_instance_of"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$expected","$private","$instance_of?"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o=n=$(t,$super,"BeAnInstanceOf",n);o.$$proto,o.$$scope;return e.defn(o,"$description",a=function(){var e=this;return"be an instance of "+e.$expected()},a.$$arity=0),o.$private(),e.defn(o,"$match",i=function(e,t){return t["$instance_of?"](e)},i.$$arity=2),r&&"match"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be_between"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$inclusive","$comparable?","$compare","$not_comparable_clause","$inspect","$private","$respond_to?","$__send__"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f=n=$(t,$super,"BeBetween",n),d=f.$$proto,h=f.$$scope;return d.min=d.max=d.mode=d.actual=d.less_than_operator=d.greater_than_operator=r,e.defn(f,"$initialize",a=function(e,t){var r,n=this;return r=[e,t],n.min=r[0],n.max=r[1],r,n.$inclusive()},a.$$arity=2),e.defn(f,"$inclusive",i=function(){var e=this;return e.less_than_operator="<=",e.greater_than_operator=">=",e.mode="inclusive",e},i.$$arity=0),e.defn(f,"$exclusive",o=function(){var e=this;return e.less_than_operator="<",e.greater_than_operator=">",e.mode="exclusive",e},o.$$arity=0),e.defn(f,"$matches?",s=function(t){var n,$=this;try{return $.actual=t,n=$["$comparable?"](),n!==!1&&n!==r&&null!=n?$.$compare():n}catch(a){if(!e.rescue(a,[h.get("ArgumentError")]))throw a;try{return!1}finally{e.pop_exception()}}},s.$$arity=1),e.defn(f,"$failure_message",l=function(){var t,n,$=this,a=l.$$p,i=r,o=r;for(l.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return""+(n=$,t=e.find_super_dispatcher($,"failure_message",l,!1),t.$$p=a,t).apply(n,i)+$.$not_comparable_clause()},l.$$arity=0),e.defn(f,"$description",u=function(){var e=this;return"be between "+e.min.$inspect()+" and "+e.max.$inspect()+" ("+e.mode+")"},u.$$arity=0),f.$private(),e.defn(f,"$comparable?",c=function(){var e,t=this;return e=t.actual["$respond_to?"](t.less_than_operator),e!==!1&&e!==r&&null!=e?t.actual["$respond_to?"](t.greater_than_operator):e},c.$$arity=0),e.defn(f,"$not_comparable_clause",_=function(){var e,t=this;return(e=t["$comparable?"]())===r||null==e||e.$$is_boolean&&1!=e?", but it does not respond to `"+t.less_than_operator+"` and `"+t.greater_than_operator+"`":r},_.$$arity=0),e.defn(f,"$compare",p=function(){var e,t=this;return e=t.actual.$__send__(t.greater_than_operator,t.min),e!==!1&&e!==r&&null!=e?t.actual.$__send__(t.less_than_operator,t.max):e},p.$$arity=0),r&&"compare"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/be"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$inspect","$actual","$private","$!","$nil?","$empty?","$parenthesize","$join","$inspected_args","$map","$split_words","$to_sentence","$include","$each","$define_method","$new","$__send__","$gsub","$to_s","$include?","$+","$expected_to_sentence","$args_to_sentence","$parse_expected","$shift","$predicate_accessible?","$predicate_matches?","$failure_message_expecting","$prefix_to_sentence","$private_predicate?","$predicate_exists?","$===","$first","$methods","$private_methods","$predicate","$respond_to?","$present_tense_predicate","$to_proc","$prefix_and_expected","$compact","$captures","$match","$validity_message","$args_to_s"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Matchers"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var $,i,o,s=r=a(t,$super,"BeTruthy",r);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",$=function(){var e=this;return"expected: truthy value\n     got: "+e.$actual().$inspect()},$.$$arity=0),e.defn(s,"$failure_message_when_negated",i=function(){var e=this;return"expected: falsey value\n     got: "+e.$actual().$inspect()},i.$$arity=0),s.$private(),e.defn(s,"$match",o=function(e,t){return t["$!"]()["$!"]()},o.$$arity=2),n&&"match"}(s.base,s.get("BaseMatcher")),function(t,$super){function r(){}var $,i,o,s=r=a(t,$super,"BeFalsey",r);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",$=function(){var e=this;return"expected: falsey value\n     got: "+e.$actual().$inspect()},$.$$arity=0),e.defn(s,"$failure_message_when_negated",i=function(){var e=this;return"expected: truthy value\n     got: "+e.$actual().$inspect()},i.$$arity=0),s.$private(),e.defn(s,"$match",o=function(e,t){return t["$!"]()},o.$$arity=2),n&&"match"}(s.base,s.get("BaseMatcher")),function(t,$super){function r(){}var $,i,o,s=r=a(t,$super,"BeNil",r);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",$=function(){var e=this;return"expected: nil\n     got: "+e.$actual().$inspect()},$.$$arity=0),e.defn(s,"$failure_message_when_negated",i=function(){return"expected: not nil\n     got: nil"},i.$$arity=0),s.$private(),e.defn(s,"$match",o=function(e,t){
return t["$nil?"]()},o.$$arity=2),n&&"match"}(s.base,s.get("BaseMatcher")),function(t){var r,a,i,o,s,l,u=r=$(t,"BeHelpers");u.$$proto,u.$$scope;u.$private(),e.defn(u,"$args_to_s",a=function(){var e,t=this;return null==t.args&&(t.args=n),(e=t.args["$empty?"]())===n||null==e||e.$$is_boolean&&1!=e?t.$parenthesize(t.$inspected_args().$join(", ")):""},a.$$arity=0),e.defn(u,"$parenthesize",i=function(e){return"("+e+")"},i.$$arity=1),e.defn(u,"$inspected_args",o=function(){var e,t,r,$=this;return null==$.args&&($.args=n),(e=(t=$.args).$map,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),e.$inspect()},r.$$s=$,r.$$arity=1,r),e).call(t)},o.$$arity=0),e.defn(u,"$expected_to_sentence",s=function(){var e=this;return null==e.expected&&(e.expected=n),e.$split_words(e.expected)},s.$$arity=0),e.defn(u,"$args_to_sentence",l=function(){var e=this;return null==e.args&&(e.args=n),e.$to_sentence(e.args)},l.$$arity=0)}(s.base),function(t,$super){function r(){}var $,i,o,s,l,u,c,_=r=a(t,$super,"Be",r),p=_.$$proto,f=_.$$scope;return p.actual=n,_.$include(f.get("BeHelpers")),e.defn(_,"$initialize",$=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.args=e},$.$$arity=-1),e.defn(_,"$failure_message",i=function(){var e=this;return"expected "+e.actual.$inspect()+" to evaluate to true"},i.$$arity=0),e.defn(_,"$failure_message_when_negated",o=function(){var e=this;return"expected "+e.actual.$inspect()+" to evaluate to false"},o.$$arity=0),(s=(l=["==","<","<=",">=",">","===","=~"]).$each,s.$$p=(u=function(e){var t,r,$,a=u.$$s||this;return null==e&&(e=n),(t=(r=a).$define_method,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),f.get("BeComparedTo").$new(t,e)},$.$$s=a,$.$$arity=1,$),t).call(r,e)},u.$$s=_,u.$$arity=1,u),s).call(l),_.$private(),e.defn(_,"$match",c=function(e,t){return t["$!"]()["$!"]()},c.$$arity=2),n&&"match"}(s.base,s.get("BaseMatcher")),function(r,$super){function $(){}var i,o,s,l,u,c=$=a(r,$super,"BeComparedTo",$),_=c.$$proto,p=c.$$scope;return _.actual=_.operator=_.expected=n,c.$include(p.get("BeHelpers")),e.defn(c,"$initialize",i=function(e,t){var r,n=this;return r=[e,t],n.expected=r[0],n.operator=r[1],r,n.args=[]},i.$$arity=2),e.defn(c,"$matches?",o=function(e){var t=this;return t.actual=e,t.actual.$__send__(t.operator,t.expected)},o.$$arity=1),e.defn(c,"$failure_message",s=function(){var e=this;return"expected: "+e.operator+" "+e.expected.$inspect()+"\n     got: "+e.operator.$to_s().$gsub(/./," ")+" "+e.actual.$inspect()},s.$$arity=0),e.defn(c,"$failure_message_when_negated",l=function(){var e,r=this,$=n;return $="`expect("+r.actual.$inspect()+").not_to be "+r.operator+" "+r.expected.$inspect()+"`",(e=["<",">","<=",">="]["$include?"](r.operator))===n||null==e||e.$$is_boolean&&1!=e?$:t($," not only FAILED, it is a bit confusing.")},l.$$arity=0),e.defn(c,"$description",u=function(){var e=this;return"be "+e.operator+" "+e.$expected_to_sentence()+e.$args_to_sentence()},u.$$arity=0),n&&"description"}(s.base,s.get("BaseMatcher")),function(t,$super){function r(){}var $,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k=r=a(t,$super,"BePredicate",r),S=k.$$proto,E=k.$$scope;return S.block=S.actual=S.args=S.expected=S.prefix=S.predicate_matches=n,k.$include(E.get("BeHelpers")),e.defn(k,"$initialize",$=function(){var e,t=this,r=$.$$p,a=r||n,i=arguments.length,o=i-0;0>o&&(o=0),e=new Array(o);for(var s=0;i>s;s++)e[s-0]=arguments[s];return $.$$p=null,t.expected=t.$parse_expected(e.$shift()),t.args=e,t.block=a},$.$$arity=-1),e.defn(k,"$matches?",i=function(e){var t,r=this,$=i.$$p,a=$||n;return i.$$p=null,r.actual=e,(t=r.block)!==!1&&t!==n&&null!=t?t:r.block=a,t=r["$predicate_accessible?"](),t!==!1&&t!==n&&null!=t?r["$predicate_matches?"]():t},i.$$arity=1),e.defn(k,"$does_not_match?",o=function(e){var t,r=this,$=o.$$p,a=$||n;return o.$$p=null,r.actual=e,(t=r.block)!==!1&&t!==n&&null!=t?t:r.block=a,t=r["$predicate_accessible?"](),t!==!1&&t!==n&&null!=t?r["$predicate_matches?"]()["$!"]():t},o.$$arity=1),e.defn(k,"$failure_message",s=function(){var e=this;return e.$failure_message_expecting(!0)},s.$$arity=0),e.defn(k,"$failure_message_when_negated",l=function(){var e=this;return e.$failure_message_expecting(!1)},l.$$arity=0),e.defn(k,"$description",u=function(){var e=this;return""+e.$prefix_to_sentence()+e.$expected_to_sentence()+e.$args_to_sentence()},u.$$arity=0),k.$private(),e.defn(k,"$predicate_accessible?",c=function(){var e,t=this;return e=t["$private_predicate?"]()["$!"](),e!==!1&&e!==n&&null!=e?t["$predicate_exists?"]():e},c.$$arity=0),(_=E.get("String")["$==="](k.$methods().$first()))===n||null==_||_.$$is_boolean&&1!=_?e.defn(k,"$private_predicate?",f=function(){var e=this;return e.actual.$private_methods()["$include?"](e.$predicate())},f.$$arity=0):e.defn(k,"$private_predicate?",p=function(){var e=this;return e.actual.$private_methods()["$include?"](e.$predicate().$to_s())},p.$$arity=0),e.defn(k,"$predicate_exists?",d=function(){var e,t=this;return(e=t.$actual()["$respond_to?"](t.$predicate()))!==!1&&e!==n&&null!=e?e:t.$actual()["$respond_to?"](t.$present_tense_predicate())},d.$$arity=0),e.defn(k,"$predicate_matches?",h=function(){var t,r,$=this,a=n;return a=function(){return(t=$.$actual()["$respond_to?"]($.$predicate()))===n||null==t||t.$$is_boolean&&1!=t?$.$present_tense_predicate():$.$predicate()}(),$.predicate_matches=(t=(r=$.$actual()).$__send__,t.$$p=$.block.$to_proc(),t).apply(r,[a].concat(e.to_a($.args)))},h.$$arity=0),e.defn(k,"$predicate",g=function(){var e=this;return""+e.expected.$to_s()+"?"},g.$$arity=0),e.defn(k,"$present_tense_predicate",m=function(){var e=this;return""+e.expected.$to_s()+"s?"},m.$$arity=0),e.defn(k,"$parse_expected",y=function(t){var r,$,a=this;return $=a.$prefix_and_expected(t),r=e.to_ary($),a.prefix=null==r[0]?n:r[0],t=null==r[1]?n:r[1],$,t},y.$$arity=1),e.defn(k,"$prefix_and_expected",v=function(e){return E.get("Matchers").$$scope.get("BE_PREDICATE_REGEX").$match(e.$to_s()).$captures().$compact()},v.$$arity=1),e.defn(k,"$prefix_to_sentence",b=function(){var e=this;return e.$split_words(e.prefix)},b.$$arity=0),e.defn(k,"$failure_message_expecting",x=function(e){var t,r=this;return(t=r.$validity_message())!==!1&&t!==n&&null!=t?t:"expected `"+r.actual.$inspect()+"."+r.$predicate()+r.$args_to_s()+"` to return "+e+", got "+r.predicate_matches.$inspect()},x.$$arity=1),e.defn(k,"$validity_message",w=function(){var e,t=this;return(e=t["$private_predicate?"]())===n||null==e||e.$$is_boolean&&1!=e?(e=t["$predicate_exists?"]()["$!"]())===n||null==e||e.$$is_boolean&&1!=e?n:"expected "+t.actual+" to respond to `"+t.$predicate()+"`":"expected "+t.actual+" to respond to `"+t.$predicate()+"` but `"+t.$predicate()+"` is a private method"},w.$$arity=0),n&&"validity_message"}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/matchers/built_in/be_within"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var a=(e.top,e),i=e.nil,o=(e.breaker,e.slice,e.module),s=e.klass;return e.add_stubs(["$/","$*","$abs","$raise","$needs_expected","$numeric?","$<=","$-","$inspect","$description","$not_numeric_clause","$private","$respond_to?","$new"]),function(a){var l,u=l=o(a,"RSpec"),c=(u.$$proto,u.$$scope);!function(a){var l,u=l=o(a,"Matchers"),c=(u.$$proto,u.$$scope);!function(a){var l,u=l=o(a,"BuiltIn"),c=(u.$$proto,u.$$scope);!function(a,$super){function o(){}var l,u,c,_,p,f,d,h,g,m,y=o=s(a,$super,"BeWithin",o),v=y.$$proto,b=y.$$scope;return v.delta=v.expected=v.actual=v.tolerance=v.unit=i,e.defn(y,"$initialize",l=function(e){var t=this;return t.delta=e},l.$$arity=1),e.defn(y,"$of",u=function(e){var t=this;return t.expected=e,t.tolerance=t.delta,t.unit="",t},u.$$arity=1),e.defn(y,"$percent_of",c=function(e){var n=this;return n.expected=e,n.tolerance=t(r(n.delta,n.expected.$abs()),100),n.unit="%",n},c.$$arity=1),e.defn(y,"$matches?",_=function(e){var t,r,a=this;return a.actual=e,r=a.expected,((t=null!=r&&r!==i?"instance-variable":i)===i||null==t||t.$$is_boolean&&1!=t)&&a.$raise(a.$needs_expected()),t=a["$numeric?"](),t!==!1&&t!==i&&null!=t?n($(a.actual,a.expected).$abs(),a.tolerance):t},_.$$arity=1),e.defn(y,"$failure_message",p=function(){var e=this;return"expected "+e.actual.$inspect()+" to "+e.$description()+e.$not_numeric_clause()},p.$$arity=0),e.defn(y,"$failure_message_when_negated",f=function(){var e=this;return"expected "+e.actual.$inspect()+" not to "+e.$description()},f.$$arity=0),e.defn(y,"$description",d=function(){var e=this;return"be within "+e.delta+e.unit+" of "+e.expected},d.$$arity=0),y.$private(),e.defn(y,"$numeric?",h=function(){var e=this;return e.actual["$respond_to?"]("-")},h.$$arity=0),e.defn(y,"$needs_expected",g=function(){var e=this;return b.get("ArgumentError").$new("You must set an expected value using #of: be_within("+e.delta+").of(expected_value)")},g.$$arity=0),e.defn(y,"$not_numeric_clause",m=function(){var e,t=this;return(e=t["$numeric?"]())===i||null==e||e.$$is_boolean&&1!=e?", but it could not be treated as a numeric value":i},m.$$arity=0),i&&"not_numeric_clause"}(c.base,c.get("BaseMatcher"))}(c.base)}(c.base)}(a.base)},Opal.modules["rspec/matchers/built_in/change"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$new","$values_match?","$>=","$<=","$===","$raise_block_syntax_error","$perform_change","$changed?","$!","$matches?","$message","$positive_failure_reason","$negative_failure_reason","$private","$to_proc","$raise","$description_of","$actual_before","$actual_after","$gsub","$to_s","$failure_reason","$call","$actual_delta","$last","$ancestors","$matches_before?","$matches_after?","$change_description","$not_given_a_block_failure","$before_value_failure","$did_not_change_failure","$after_value_failure","$did_change_failure","$attr_reader","$lambda","$__send__","$evaluate_value_proc","$!=","$-","$dup"]),function($){var s,l=s=i($,"RSpec"),u=(l.$$proto,l.$$scope);!function($){var s,l=s=i($,"Matchers"),u=(l.$$proto,l.$$scope);!function($){var s,l=s=i($,"BuiltIn"),u=(l.$$proto,l.$$scope);!function(n,$super){function $(){}var i,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=$=o(n,$super,"Change",$),w=x.$$proto,k=x.$$scope;return w.change_details=w.event_proc=a,e.defn(x,"$by",i=function(e){var t,r,n,$=this;return(t=(r=k.get("ChangeRelatively")).$new,t.$$p=(n=function(t){var r=n.$$s||this;return null==t&&(t=a),r["$values_match?"](e,t)},n.$$s=$,n.$$arity=1,n),t).call(r,$.change_details,e,"by")},i.$$arity=1),e.defn(x,"$by_at_least",s=function(e){var r,n,$,i=this;return(r=(n=k.get("ChangeRelatively")).$new,r.$$p=($=function(r){$.$$s||this;return null==r&&(r=a),t(r,e)},$.$$s=i,$.$$arity=1,$),r).call(n,i.change_details,e,"by_at_least")},s.$$arity=1),e.defn(x,"$by_at_most",l=function(e){var t,n,$,i=this;return(t=(n=k.get("ChangeRelatively")).$new,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=a),r(t,e)},$.$$s=i,$.$$arity=1,$),t).call(n,i.change_details,e,"by_at_most")},l.$$arity=1),e.defn(x,"$to",u=function(e){var t=this;return k.get("ChangeToValue").$new(t.change_details,e)},u.$$arity=1),e.defn(x,"$from",c=function(e){var t=this;return k.get("ChangeFromValue").$new(t.change_details,e)},c.$$arity=1),e.defn(x,"$matches?",_=function(e){var t,r=this,n=_.$$p,$=n||a;return _.$$p=null,r.event_proc=e,(t=k.get("Proc")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?!1:($!==a&&r.$raise_block_syntax_error(),r.change_details.$perform_change(e),r.change_details["$changed?"]())},_.$$arity=1),e.defn(x,"$does_not_match?",p=function(e){var t,r=this,n=p.$$p,$=n||a;return p.$$p=null,$!==a&&r.$raise_block_syntax_error(),t=r["$matches?"](e)["$!"](),t!==!1&&t!==a&&null!=t?k.get("Proc")["$==="](e):t},p.$$arity=1),e.defn(x,"$failure_message",f=function(){var e=this;return"expected "+e.change_details.$message()+" to have changed, but "+e.$positive_failure_reason()},f.$$arity=0),e.defn(x,"$failure_message_when_negated",d=function(){var e=this;return"expected "+e.change_details.$message()+" not to have changed, but "+e.$negative_failure_reason()},d.$$arity=0),e.defn(x,"$description",h=function(){var e=this;return"change "+e.change_details.$message()},h.$$arity=0),e.defn(x,"$supports_block_expectations?",g=function(){return!0},g.$$arity=0),x.$private(),e.defn(x,"$initialize",m=function(e,t){var r,n,$=this,i=m.$$p,o=i||a;return null==e&&(e=a),null==t&&(t=a),m.$$p=null,$.change_details=(r=(n=k.get("ChangeDetails")).$new,r.$$p=o.$to_proc(),r).call(n,e,t)},m.$$arity=-1),e.defn(x,"$raise_block_syntax_error",y=function(){var e=this;return e.$raise(k.get("SyntaxError"),"The block passed to the `change` matcher must use `{ ... }` instead of do/end")},y.$$arity=0),e.defn(x,"$positive_failure_reason",v=function(){var e,t=this;return(e=k.get("Proc")["$==="](t.event_proc))===a||null==e||e.$$is_boolean&&1!=e?"was not given a block":"is still "+t.$description_of(t.change_details.$actual_before())},v.$$arity=0),e.defn(x,"$negative_failure_reason",b=function(){var e,t=this;return(e=k.get("Proc")["$==="](t.event_proc))===a||null==e||e.$$is_boolean&&1!=e?"was not given a block":"did change from "+t.$description_of(t.change_details.$actual_before())+" to "+t.$description_of(t.change_details.$actual_after())},b.$$arity=0),a&&"negative_failure_reason"}(u.base,u.get("BaseMatcher")),function(t,$super){function r(){}var n,$,i,s,l,u,c,_=r=o(t,$super,"ChangeRelatively",r),p=_.$$proto,f=_.$$scope;return p.change_details=p.relativity=p.expected_delta=p.comparer=p.event_proc=a,e.defn(_,"$initialize",n=function(e,t,r){var $=this,i=n.$$p,o=i||a;return n.$$p=null,$.change_details=e,$.expected_delta=t,$.relativity=r,$.comparer=o},n.$$arity=3),e.defn(_,"$failure_message",$=function(){var e=this;return"expected "+e.change_details.$message()+" to have changed "+e.relativity.$to_s().$gsub("_"," ")+" "+e.$description_of(e.expected_delta)+", but "+e.$failure_reason()},$.$$arity=0),e.defn(_,"$matches?",i=function(e){var t,r=this;return r.event_proc=e,(t=f.get("Proc")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?!1:(r.change_details.$perform_change(e),r.comparer.$call(r.change_details.$actual_delta()))},i.$$arity=1),e.defn(_,"$does_not_match?",s=function(){var e=this;return e.$raise(f.get("NotImplementedError"),"`expect { }.not_to change { }."+e.relativity+"()` is not supported")},s.$$arity=1),e.defn(_,"$description",l=function(){var e=this;return"change "+e.change_details.$message()+" "+e.relativity.$to_s().$gsub("_"," ")+" "+e.$description_of(e.expected_delta)},l.$$arity=0),e.defn(_,"$supports_block_expectations?",u=function(){return!0},u.$$arity=0),_.$private(),e.defn(_,"$failure_reason",c=function(){var e,t=this;return(e=f.get("Proc")["$==="](t.event_proc))===a||null==e||e.$$is_boolean&&1!=e?"was not given a block":"was changed by "+t.$description_of(t.change_details.$actual_delta())},c.$$arity=0),a&&"failure_reason"}(u.base,u.get("BaseMatcher")),function(t,$super){function r(){}var n,$,i,s,l,u,c,_,p,f,d,h,g=r=o(t,$super,"SpecificValuesChange",r),m=g.$$proto,y=g.$$scope;return m.change_details=m.event_proc=m.expected_before=m.expected_after=a,e.cdecl(y,"MATCH_ANYTHING",e.get("Object").$ancestors().$last()),e.defn(g,"$initialize",n=function(e,t,r){var n=this;return n.change_details=e,n.expected_before=t,n.expected_after=r},n.$$arity=3),e.defn(g,"$matches?",$=function(e){var t,r,n=this;return n.event_proc=e,(t=y.get("Proc")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?!1:(n.change_details.$perform_change(e),r=n.change_details["$changed?"](),t=r!==!1&&r!==a&&null!=r?n["$matches_before?"]():r,t!==!1&&t!==a&&null!=t?n["$matches_after?"]():t)},$.$$arity=1),e.defn(g,"$description",i=function(){var e=this;return"change "+e.change_details.$message()+" "+e.$change_description()},i.$$arity=0),e.defn(g,"$failure_message",s=function(){var e,t=this;return(e=y.get("Proc")["$==="](t.event_proc))===a||null==e||e.$$is_boolean&&1!=e?t.$not_given_a_block_failure():(e=t["$matches_before?"]())===a||null==e||e.$$is_boolean&&1!=e?t.$before_value_failure():(e=t.change_details["$changed?"]())===a||null==e||e.$$is_boolean&&1!=e?t.$did_not_change_failure():t.$after_value_failure()},s.$$arity=0),e.defn(g,"$supports_block_expectations?",l=function(){return!0},l.$$arity=0),g.$private(),e.defn(g,"$matches_before?",u=function(){var e=this;return e["$values_match?"](e.expected_before,e.change_details.$actual_before())},u.$$arity=0),e.defn(g,"$matches_after?",c=function(){var e=this;return e["$values_match?"](e.expected_after,e.change_details.$actual_after())},c.$$arity=0),e.defn(g,"$before_value_failure",_=function(){var e=this;return"expected "+e.change_details.$message()+" to have initially been "+e.$description_of(e.expected_before)+", but was "+e.$description_of(e.change_details.$actual_before())},_.$$arity=0),e.defn(g,"$after_value_failure",p=function(){var e=this;return"expected "+e.change_details.$message()+" to have changed to "+e.$description_of(e.expected_after)+", but is now "+e.$description_of(e.change_details.$actual_after())},p.$$arity=0),e.defn(g,"$did_not_change_failure",f=function(){var e=this;return"expected "+e.change_details.$message()+" to have changed "+e.$change_description()+", but did not change"},f.$$arity=0),e.defn(g,"$did_change_failure",d=function(){var e=this;return"expected "+e.change_details.$message()+" not to have changed, but did change from "+e.$description_of(e.change_details.$actual_before())+" to "+e.$description_of(e.change_details.$actual_after())},d.$$arity=0),e.defn(g,"$not_given_a_block_failure",h=function(){var e=this;return"expected "+e.change_details.$message()+" to have changed "+e.$change_description()+", but was not given a block"},h.$$arity=0),a&&"not_given_a_block_failure"}(u.base,u.get("BaseMatcher")),function(t,$super){function r(){}var n,$,i,s,l,u=r=o(t,$super,"ChangeFromValue",r),c=u.$$proto,_=u.$$scope;return c.description_suffix=c.change_details=c.event_proc=c.expected_before=a,e.defn(u,"$initialize",n=function(t,r){var $,i,o=this;n.$$p;return n.$$p=null,o.description_suffix=a,(i=o,$=e.find_super_dispatcher(o,"initialize",n,!1),$.$$p=null,$).call(i,t,r,_.get("MATCH_ANYTHING"))},n.$$arity=2),e.defn(u,"$to",$=function(e){var t=this;return t.expected_after=e,t.description_suffix=" to "+t.$description_of(e),t},$.$$arity=1),e.defn(u,"$does_not_match?",i=function(e){var t,r=this;return(t=r.description_suffix)===a||null==t||t.$$is_boolean&&1!=t||r.$raise(_.get("NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported"),r.event_proc=e,(t=_.get("Proc")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t?!1:(r.change_details.$perform_change(e),t=r.change_details["$changed?"]()["$!"](),t!==!1&&t!==a&&null!=t?r["$matches_before?"]():t)},i.$$arity=1),e.defn(u,"$failure_message_when_negated",s=function(){var e,t=this;return(e=_.get("Proc")["$==="](t.event_proc))===a||null==e||e.$$is_boolean&&1!=e?t.$not_given_a_block_failure():(e=t["$matches_before?"]())===a||null==e||e.$$is_boolean&&1!=e?t.$before_value_failure():t.$did_change_failure()},s.$$arity=0),u.$private(),e.defn(u,"$change_description",l=function(){var e=this;return"from "+e.$description_of(e.expected_before)+e.description_suffix},l.$$arity=0),a&&"change_description"}(u.base,u.get("SpecificValuesChange")),function(t,$super){function r(){}var n,$,i,s,l=r=o(t,$super,"ChangeToValue",r),u=l.$$proto,c=l.$$scope;return u.expected_after=u.description_suffix=a,e.defn(l,"$initialize",n=function(t,r){var $,i,o=this;n.$$p;return n.$$p=null,o.description_suffix=a,(i=o,$=e.find_super_dispatcher(o,"initialize",n,!1),$.$$p=null,$).call(i,t,c.get("MATCH_ANYTHING"),r)},n.$$arity=2),e.defn(l,"$from",$=function(e){var t=this;return t.expected_before=e,t.description_suffix=" from "+t.$description_of(e),t},$.$$arity=1),e.defn(l,"$does_not_match?",i=function(){var e=this;return e.$raise(c.get("NotImplementedError"),"`expect { }.not_to change { }.to()` is not supported")},i.$$arity=1),l.$private(),e.defn(l,"$change_description",s=function(){var e=this;return"to "+e.$description_of(e.expected_after)+e.description_suffix},s.$$arity=0),a&&"change_description"}(u.base,u.get("SpecificValuesChange")),function(t,$super){function r(){}var $,i,s,l,u,c=r=o(t,$super,"ChangeDetails",r),_=c.$$proto,p=c.$$scope;return _.actual_before=_.actual_after=_.value_proc=a,c.$attr_reader("message","actual_before","actual_after"),e.defn(c,"$initialize",$=function(e,t){var r,n,i,o,s=this,l=$.$$p,u=l||a;return null==e&&(e=a),null==t&&(t=a),$.$$p=null,(r=(n=e!==!1&&e!==a&&null!=e)?t["$!"]():e)===a||null==r||r.$$is_boolean&&1!=r||s.$raise(p.get("ArgumentError"),"`change` requires either an object and message (`change(obj, :msg)`) or a block (`change { }`). You passed an object but no message."),s.message=function(){return t!==!1&&t!==a&&null!=t?"#"+t:"result"}(),s.value_proc=(r=u)!==!1&&r!==a&&null!=r?r:(n=(i=s).$lambda,n.$$p=(o=function(){o.$$s||this;return e.$__send__(t)},o.$$s=s,o.$$arity=0,o),n).call(i)},$.$$arity=-1),e.defn(c,"$perform_change",i=function(e){var t=this;return t.actual_before=t.$evaluate_value_proc(),e.$call(),t.actual_after=t.$evaluate_value_proc()},i.$$arity=1),e.defn(c,"$changed?",s=function(){var e=this;return e.actual_before["$!="](e.actual_after)},s.$$arity=0),e.defn(c,"$actual_delta",l=function(){var e=this;return n(e.actual_after,e.actual_before)},l.$$arity=0),c.$private(),e.defn(c,"$evaluate_value_proc",u=function(){var e=this,t=a,r=a;return function(){return t=r=e.value_proc.$call(),p.get("IO")["$==="](t)?r:p.get("Enumerable")["$==="](t)||p.get("String")["$==="](t)?r.$dup():r}()},u.$$arity=0),a&&"evaluate_value_proc"}(u.base,null)}(u.base)}(u.base)}($.base)},Opal.modules["rspec/matchers/built_in/compound"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass,o=e.hash2;return e.add_stubs(["$attr_reader","$raise","$conjunction","$singleline_message","$description","$matcher_1","$matcher_2","$matcher_supports_block_expectations?","$matcher_expects_call_stack_jump?","$private","$clone","$supports_block_expectations?","$===","$new","$join","$map","$=~","$+","$lines","$failure_message","$multiline?","$multiline_message","$indent_multiline_message","$sub","$>","$count","$matcher_matches?","$matches?","$order_block_matchers","$[]=","$inner_matcher_block","$fetch","$empty?","$call","$class","$expects_call_stack_jump?","$matcher_1_matches?","$matcher_2_matches?","$compound_failure_message"]),function(n){var s,l=s=a(n,"RSpec"),u=(l.$$proto,l.$$scope);!function(n){var s,l=s=a(n,"Matchers"),u=(l.$$proto,l.$$scope);!function(n){var s,l=s=a(n,"BuiltIn"),u=(l.$$proto,l.$$scope);!function(n,$super){function a(){}var s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=a=i(n,$super,"Compound",a),k=w.$$proto,S=w.$$scope;return k.matcher_1=k.matcher_2=k.evaluator=$,w.$attr_reader("matcher_1","matcher_2"),e.defn(w,"$initialize",s=function(e,t){var r=this;return r.matcher_1=e,r.matcher_2=t},s.$$arity=2),e.defn(w,"$does_not_match?",l=function(){var e=this;return e.$raise(S.get("NotImplementedError"),"`expect(...).not_to matcher."+e.$conjunction()+" matcher` is not supported, since it creates a bit of an ambiguity. Instead, define negated versions of whatever matchers you wish to negate with `RSpec::Matchers.define_negated_matcher` and "+("use `expect(...).to matcher."+e.$conjunction()+" matcher`."))},l.$$arity=1),e.defn(w,"$description",u=function(){var e=this;return e.$singleline_message(e.$matcher_1().$description(),e.$matcher_2().$description())},u.$$arity=0),e.defn(w,"$supports_block_expectations?",c=function(){var e,t=this;return e=t["$matcher_supports_block_expectations?"](t.$matcher_1()),e!==!1&&e!==$&&null!=e?t["$matcher_supports_block_expectations?"](t.$matcher_2()):e},c.$$arity=0),e.defn(w,"$expects_call_stack_jump?",_=function(){var e,t=this;return(e=S.get("NestedEvaluator")["$matcher_expects_call_stack_jump?"](t.$matcher_1()))!==!1&&e!==$&&null!=e?e:S.get("NestedEvaluator")["$matcher_expects_call_stack_jump?"](t.$matcher_2())},_.$$arity=0),w.$private(),e.defn(w,"$initialize_copy",p=function(){var t,r,n=this,a=p.$$p,i=$,o=$;for(p.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.matcher_1=n.matcher_1.$clone(),n.matcher_2=n.matcher_2.$clone(),(r=n,t=e.find_super_dispatcher(n,"initialize_copy",p,!1),t.$$p=a,t).apply(r,i)},p.$$arity=1),e.defn(w,"$match",f=function(e,t){var r,n,a=this,i=$;return i=function(){return n=a["$supports_block_expectations?"](),(r=n!==!1&&n!==$&&null!=n?S.get("Proc")["$==="](t):n)===$||null==r||r.$$is_boolean&&1!=r?S.get("SequentialEvaluator"):S.get("NestedEvaluator")}(),a.evaluator=i.$new(t,a.$matcher_1(),a.$matcher_2())},f.$$arity=2),e.defn(w,"$indent_multiline_message",d=function(e){var r,n,a,i=this;return(r=(n=e.$lines()).$map,r.$$p=(a=function(e){var r;a.$$s||this;return null==e&&(e=$),(r=e["$=~"](/\S/))===$||null==r||r.$$is_boolean&&1!=r?e:t("   ",e)},a.$$s=i,a.$$arity=1,a),r).call(n).$join()},d.$$arity=1),e.defn(w,"$compound_failure_message",h=function(){var e,t,r=this,n=$,a=$;return n=r.$matcher_1().$failure_message(),a=r.$matcher_2().$failure_message(),(e=(t=r["$multiline?"](n))!==!1&&t!==$&&null!=t?t:r["$multiline?"](a))===$||null==e||e.$$is_boolean&&1!=e?r.$singleline_message(n,a):r.$multiline_message(n,a)},h.$$arity=0),e.defn(w,"$multiline_message",g=function(e,t){var r=this;return[r.$indent_multiline_message(e.$sub(/\n+\z/,"")),"..."+r.$conjunction()+":",r.$indent_multiline_message(t.$sub(/\A\n+/,""))].$join("\n\n")},g.$$arity=2),e.defn(w,"$multiline?",m=function(e){return r(e.$lines().$count(),1)},m.$$arity=1),e.defn(w,"$singleline_message",y=function(e,t){var r=this;return[e,r.$conjunction(),t].$join(" ")},y.$$arity=2),e.defn(w,"$matcher_1_matches?",v=function(){var e=this;return e.evaluator["$matcher_matches?"](e.$matcher_1())},v.$$arity=0),e.defn(w,"$matcher_2_matches?",b=function(){var e=this;return e.evaluator["$matcher_matches?"](e.$matcher_2())},b.$$arity=0),e.defn(w,"$matcher_supports_block_expectations?",x=function(t){try{return t["$supports_block_expectations?"]()}catch(r){if(!e.rescue(r,[S.get("NoMethodError")]))throw r;try{return!1}finally{e.pop_exception()}}},x.$$arity=1),function(t,$super){function r(){}var n,a,o=r=i(t,$super,"SequentialEvaluator",r),s=o.$$proto;o.$$scope;return s.actual=$,e.defn(o,"$initialize",n=function(e){var t=this;return t.actual=e},n.$$arity=-2),e.defn(o,"$matcher_matches?",a=function(e){var t=this;return e["$matches?"](t.actual)},a.$$arity=1),$&&"matcher_matches?"}(S.base,null),function(t,$super){function r(){}var n,a,s,l,u,c=r=i(t,$super,"NestedEvaluator",r),_=c.$$proto,p=c.$$scope;return _.match_results=_.actual=_.matcher_2=_.matcher_1=$,e.defn(c,"$initialize",n=function(t,r,n){var a,i,s,l=this,u=$,c=$;return l.actual=t,l.matcher_1=r,l.matcher_2=n,l.match_results=o([],{}),i=l.$order_block_matchers(),a=e.to_ary(i),u=null==a[0]?$:a[0],c=null==a[1]?$:a[1],i,l.match_results["$[]="](c,c["$matches?"]((a=(i=p.get("Proc")).$new,a.$$p=(s=function(){var e,t=s.$$s||this;null==t.match_results&&(t.match_results=$);var r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var a=0;r>a;a++)e[a-0]=arguments[a];return t.match_results["$[]="](u,u["$matches?"](t.$inner_matcher_block(e)))},s.$$s=l,s.$$arity=-1,s),a).call(i)))},n.$$arity=3),e.defn(c,"$matcher_matches?",a=function(e){var t=this;return t.match_results.$fetch(e)},a.$$arity=1),c.$private(),e.defn(c,"$inner_matcher_block",s=function(t){var r,n,a,i=this;return(r=t["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?(r=(n=p.get("Proc")).$new,r.$$p=(a=function(){var r,n,i=a.$$s||this;null==i.matcher_1&&(i.matcher_1=$),null==i.matcher_2&&(i.matcher_2=$),null==i.actual&&(i.actual=$);var o=arguments.length,s=o-0;0>s&&(s=0),r=new Array(s);for(var l=0;o>l;l++)r[l-0]=arguments[l];return((n=r["$empty?"]())===$||null==n||n.$$is_boolean&&1!=n)&&i.$raise(p.get("ArgumentError"),"("+i.matcher_1.$description()+") and "+("("+i.matcher_2.$description()+") cannot be combined in a compound expectation ")+"since both matchers pass arguments to the block."),(n=i.actual).$call.apply(n,e.to_a(t))},a.$$s=i,a.$$arity=-1,a),r).call(n):i.actual},s.$$arity=1),e.defn(c,"$order_block_matchers",l=function(){var e,t=this;return(e=t.$class()["$matcher_expects_call_stack_jump?"](t.matcher_2))===$||null==e||e.$$is_boolean&&1!=e?[t.matcher_1,t.matcher_2]:(e=t.$class()["$matcher_expects_call_stack_jump?"](t.matcher_1))===$||null==e||e.$$is_boolean&&1!=e?[t.matcher_2,t.matcher_1]:t.$raise(p.get("ArgumentError"),"("+t.matcher_1.$description()+") and "+("("+t.matcher_2.$description()+") cannot be combined in a compound expectation ")+"because they both expect a call stack jump.")},l.$$arity=0),e.defs(c,"$matcher_expects_call_stack_jump?",u=function(t){try{return t["$expects_call_stack_jump?"]()}catch(r){if(!e.rescue(r,[p.get("NoMethodError")]))throw r;try{return!1}finally{e.pop_exception()}}},u.$$arity=1),$&&"matcher_expects_call_stack_jump?"}(S.base,null),function(t,$super){function r(){}var n,a,o,s=r=i(t,$super,"And",r);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",n=function(){var e,t=this;return(e=t["$matcher_1_matches?"]())===$||null==e||e.$$is_boolean&&1!=e?(e=t["$matcher_2_matches?"]())===$||null==e||e.$$is_boolean&&1!=e?t.$compound_failure_message():t.$matcher_1().$failure_message():t.$matcher_2().$failure_message()},n.$$arity=0),s.$private(),e.defn(s,"$match",a=function(){var t,r,n=this,i=a.$$p,o=$,s=$;for(a.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=n,t=e.find_super_dispatcher(n,"match",a,!1),t.$$p=i,t).apply(r,o),t=n["$matcher_1_matches?"](),t!==!1&&t!==$&&null!=t?n["$matcher_2_matches?"]():t},a.$$arity=-1),e.defn(s,"$conjunction",o=function(){return"and"},o.$$arity=0),$&&"conjunction"}(S.base,w),function(t,$super){function r(){}var n,a,o,s=r=i(t,$super,"Or",r);s.$$proto,s.$$scope;return e.defn(s,"$failure_message",n=function(){var e=this;return e.$compound_failure_message()},n.$$arity=0),s.$private(),e.defn(s,"$match",a=function(){var t,r,n=this,i=a.$$p,o=$,s=$;for(a.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=n,t=e.find_super_dispatcher(n,"match",a,!1),t.$$p=i,t).apply(r,o),(t=n["$matcher_1_matches?"]())!==!1&&t!==$&&null!=t?t:n["$matcher_2_matches?"]()},a.$$arity=-1),e.defn(s,"$conjunction",o=function(){return"or"},o.$$arity=0),$&&"conjunction"}(S.base,w)}(u.base,u.get("BaseMatcher"))}(u.base)}(u.base)}(n.base)},Opal.modules["rspec/matchers/built_in/contain_exactly"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass,s=e.hash2;return e.add_stubs(["$===","$actual","$inspect","$safe_sort","$surface_descriptions_in","$expected","$+","$empty?","$missing_items","$extra_items","$to_sentence","$private","$convert_actual_to_an_array","$match_when_sorted?","$values_match?","$respond_to?","$to_ary","$enumerable?","$to_a","$sort","$map","$[]","$unmatched_expected_indexes","$best_solution","$unmatched_actual_indexes","$find_best_solution","$pairings_maximizer","$new","$size","$each_with_index","$<<","$>","$unmatched_item_count","$indeterminate_expected_indexes","$indeterminate_actual_indexes","$candidate?","$count","$class","$attr_reader","$categorize_indexes","$solution","$first","$expected_to_actual_matched_indexes","$each","$best_solution_for_pairing","$ideal?","$worse_than?","$each_pair","$!","$reciprocal_single_match?","$one?","$==","$apply_pairing_to","$delete","$actual_to_expected_matched_indexes","$inject","$[]=","$-"]),function($){var l,u=l=i($,"RSpec"),c=(u.$$proto,u.$$scope);!function($){var l,u=l=i($,"Matchers"),c=(u.$$proto,u.$$scope);!function($){var l,u=l=i($,"BuiltIn"),c=(u.$$proto,u.$$scope);!function($,$super){function i(){}var l,u,c,_,p,f,d,h,g,m,y,v=i=o($,$super,"ContainExactly",i),b=v.$$proto,x=v.$$scope;return b.missing_items=b.extra_items=b.best_solution=b.pairings_maximizer=a,e.defn(v,"$failure_message",l=function(){var e,r=this,n=a;return(e=x.get("Array")["$==="](r.$actual()))===a||null==e||e.$$is_boolean&&1!=e?"expected a collection that can be converted to an array with `#to_ary` or `#to_a`, but got "+r.$actual().$inspect():(n="expected collection contained:  "+r.$safe_sort(r.$surface_descriptions_in(r.$expected())).$inspect()+"\n",
n=t(n,"actual collection contained:    "+r.$safe_sort(r.$actual()).$inspect()+"\n"),((e=r.$missing_items()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e)&&(n=t(n,"the missing elements were:      "+r.$safe_sort(r.$surface_descriptions_in(r.$missing_items())).$inspect()+"\n")),((e=r.$extra_items()["$empty?"]())===a||null==e||e.$$is_boolean&&1!=e)&&(n=t(n,"the extra elements were:        "+r.$safe_sort(r.$extra_items()).$inspect()+"\n")),n)},l.$$arity=0),e.defn(v,"$failure_message_when_negated",u=function(){var e=this;return"expected "+e.$actual().$inspect()+" not to contain exactly"+e.$to_sentence(e.$surface_descriptions_in(e.$expected()))},u.$$arity=0),e.defn(v,"$description",c=function(){var e=this;return"contain exactly"+e.$to_sentence(e.$surface_descriptions_in(e.$expected()))},c.$$arity=0),v.$private(),e.defn(v,"$match",_=function(){var e,t,r=this;return(e=r.$convert_actual_to_an_array())===a||null==e||e.$$is_boolean&&1!=e?!1:(e=r["$match_when_sorted?"]())!==!1&&e!==a&&null!=e?e:(t=r.$extra_items()["$empty?"](),t!==!1&&t!==a&&null!=t?r.$missing_items()["$empty?"]():t)},_.$$arity=2),e.defn(v,"$match_when_sorted?",p=function(){var e=this;return e["$values_match?"](e.$safe_sort(e.$expected()),e.$safe_sort(e.$actual()))},p.$$arity=0),e.defn(v,"$convert_actual_to_an_array",f=function(){var e,t,r=this;return(e=r.$actual()["$respond_to?"]("to_ary"))===a||null==e||e.$$is_boolean&&1!=e?(t=r["$enumerable?"](r.$actual()),(e=t!==!1&&t!==a&&null!=t?r.$actual()["$respond_to?"]("to_a"):t)===a||null==e||e.$$is_boolean&&1!=e?!1:r.actual=r.$actual().$to_a()):r.actual=r.$actual().$to_ary()},f.$$arity=0),e.defn(v,"$safe_sort",d=function(t){try{return t.$sort()}catch(r){if(e.rescue(r,[x.get("StandardError")]))return t;throw r}},d.$$arity=1),e.defn(v,"$missing_items",h=function(){var e,t,r,n,$=this;return(e=$.missing_items)!==!1&&e!==a&&null!=e?e:$.missing_items=(t=(r=$.$best_solution().$unmatched_expected_indexes()).$map,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=a),t.$expected()["$[]"](e)},n.$$s=$,n.$$arity=1,n),t).call(r)},h.$$arity=0),e.defn(v,"$extra_items",g=function(){var e,t,r,n,$=this;return(e=$.extra_items)!==!1&&e!==a&&null!=e?e:$.extra_items=(t=(r=$.$best_solution().$unmatched_actual_indexes()).$map,t.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=a),t.$actual()["$[]"](e)},n.$$s=$,n.$$arity=1,n),t).call(r)},g.$$arity=0),e.defn(v,"$best_solution",m=function(){var e,t=this;return(e=t.best_solution)!==!1&&e!==a&&null!=e?e:t.best_solution=t.$pairings_maximizer().$find_best_solution()},m.$$arity=0),e.defn(v,"$pairings_maximizer",y=function(){var e,t,r,n,$,i,o,s,l=this,u=a,c=a;return(e=l.pairings_maximizer)!==!1&&e!==a&&null!=e?e:l.pairings_maximizer=function(){return u=x.get("Hash")["$[]"]((t=(r=x.get("Array")).$new,t.$$p=(n=function(e){n.$$s||this;return null==e&&(e=a),[e,[]]},n.$$s=l,n.$$arity=1,n),t).call(r,l.$expected().$size())),c=x.get("Hash")["$[]"]((t=($=x.get("Array")).$new,t.$$p=(i=function(e){i.$$s||this;return null==e&&(e=a),[e,[]]},i.$$s=l,i.$$arity=1,i),t).call($,l.$actual().$size())),(t=(o=l.$expected()).$each_with_index,t.$$p=(s=function(e,t){var r,n,$,i=s.$$s||this;return null==e&&(e=a),null==t&&(t=a),(r=(n=i.$actual()).$each_with_index,r.$$p=($=function(r,n){var i,o=$.$$s||this;return null==r&&(r=a),null==n&&(n=a),(i=o["$values_match?"](e,r))===a||null==i||i.$$is_boolean&&1!=i?a:(u["$[]"](t)["$<<"](n),c["$[]"](n)["$<<"](t))},$.$$s=i,$.$$arity=2,$),r).call(n)},s.$$s=l,s.$$arity=2,s),t).call(o),x.get("PairingsMaximizer").$new(u,c)}()},y.$$arity=0),function($,$super){function i(){}var l,u,c,_,p,f,d,h,g,m,y,v=i=o($,$super,"PairingsMaximizer",i),b=(v.$$proto,v.$$scope);return e.cdecl(b,"Solution",(l=(u=b.get("Struct")).$new,l.$$p=(c=function(){var n,$,i,o,s,l=c.$$s||this;return e.def(l,"$worse_than?",n=function(e){var t=this;return r(t.$unmatched_item_count(),e.$unmatched_item_count())},n.$$arity=1),e.def(l,"$candidate?",$=function(){var e,t=this;return e=t.$indeterminate_expected_indexes()["$empty?"](),e!==!1&&e!==a&&null!=e?t.$indeterminate_actual_indexes()["$empty?"]():e},$.$$arity=0),e.def(l,"$ideal?",i=function(){var e,t,r=this;return e=r["$candidate?"](),e!==!1&&e!==a&&null!=e?(t=r.$unmatched_expected_indexes()["$empty?"]())!==!1&&t!==a&&null!=t?t:r.$unmatched_actual_indexes()["$empty?"]():e},i.$$arity=0),e.def(l,"$unmatched_item_count",o=function(){var e=this;return t(e.$unmatched_expected_indexes().$count(),e.$unmatched_actual_indexes().$count())},o.$$arity=0),e.def(l,"$+",s=function(e){var r=this;return r.$class().$new(t(r.$unmatched_expected_indexes(),e.$unmatched_expected_indexes()),t(r.$unmatched_actual_indexes(),e.$unmatched_actual_indexes()),[],[])},s.$$arity=1),a&&"+"},c.$$s=v,c.$$arity=0,c),l).call(u,"unmatched_expected_indexes","unmatched_actual_indexes","indeterminate_expected_indexes","indeterminate_actual_indexes")),v.$attr_reader("expected_to_actual_matched_indexes","actual_to_expected_matched_indexes","solution"),e.defn(v,"$initialize",_=function(t,r){var n,$,i=this,o=a,s=a,l=a,u=a;return i.expected_to_actual_matched_indexes=t,i.actual_to_expected_matched_indexes=r,$=i.$categorize_indexes(t,r),n=e.to_ary($),o=null==n[0]?a:n[0],s=null==n[1]?a:n[1],$,$=i.$categorize_indexes(r,t),n=e.to_ary($),l=null==n[0]?a:n[0],u=null==n[1]?a:n[1],$,i.solution=b.get("Solution").$new(o,l,s,u)},_.$$arity=2),e.defn(v,"$find_best_solution",p=function(){try{var t,r,n,$=this,i=a,o=a,s=a;return(t=$.$solution()["$candidate?"]())===a||null==t||t.$$is_boolean&&1!=t?(i=b.get("NullSolution"),o=$.$solution().$indeterminate_expected_indexes().$first(),s=$.$expected_to_actual_matched_indexes()["$[]"](o),(t=(r=s).$each,t.$$p=(n=function(t){var r,$=n.$$s||this,s=a;return null==t&&(t=a),s=$.$best_solution_for_pairing(o,t),(r=s["$ideal?"]())===a||null==r||r.$$is_boolean&&1!=r||e.ret(s),(r=i["$worse_than?"](s))===a||null==r||r.$$is_boolean&&1!=r?a:i=s},n.$$s=$,n.$$arity=1,n),t).call(r),i):$.$solution()}catch(l){if(l===e.returner)return l.$v;throw l}},p.$$arity=0),v.$private(),e.cdecl(b,"NullSolution",(l=(f=b.get("Class")).$new,l.$$p=(d=function(){var t,r=d.$$s||this;return e.defs(r,"$worse_than?",t=function(){return!0},t.$$arity=1),a&&"worse_than?"},d.$$s=v,d.$$arity=0,d),l).call(f)),e.defn(v,"$categorize_indexes",h=function(e,t){var r,n,$,i=this,o=a,s=a;return o=[],s=[],(r=(n=e).$each_pair,r.$$p=($=function(e,r){var n,i=$.$$s||this;return null==e&&(e=a),null==r&&(r=a),(n=r["$empty?"]())===a||null==n||n.$$is_boolean&&1!=n?(n=i["$reciprocal_single_match?"](r,e,t)["$!"]())===a||null==n||n.$$is_boolean&&1!=n?a:s["$<<"](e):o["$<<"](e)},$.$$s=i,$.$$arity=2,$),r).call(n),[o,s]},h.$$arity=2),e.defn(v,"$reciprocal_single_match?",g=function(e,t,r){var n;return(n=e["$one?"]())===a||null==n||n.$$is_boolean&&1!=n?!1:r["$[]"](e.$first())["$=="]([t])},g.$$arity=3),e.defn(v,"$best_solution_for_pairing",m=function(e,r){var n=this,$=a,i=a;return $=n.$apply_pairing_to(n.$solution().$indeterminate_expected_indexes(),n.$expected_to_actual_matched_indexes(),r),$.$delete(e),i=n.$apply_pairing_to(n.$solution().$indeterminate_actual_indexes(),n.$actual_to_expected_matched_indexes(),e),i.$delete(r),t(n.$solution(),n.$class().$new($,i).$find_best_solution())},m.$$arity=2),e.defn(v,"$apply_pairing_to",y=function(e,t,r){var $,i,o,l=this;return($=(i=e).$inject,$.$$p=(o=function(e,$){o.$$s||this;return null==e&&(e=a),null==$&&($=a),e["$[]="]($,n(t["$[]"]($),[r])),e},o.$$s=l,o.$$arity=2,o),$).call(i,s([],{}))},y.$$arity=3),a&&"apply_pairing_to"}(x.base,null)}(c.base,c.get("BaseMatcher"))}(c.base)}(c.base)}($.base)},Opal.modules["rspec/matchers/built_in/cover"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$all?","$cover?","$none?","$expected"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s=n=$(t,$super,"Cover",n),l=s.$$proto;s.$$scope;return l.expected=r,e.defn(s,"$initialize",a=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.expected=e},a.$$arity=-1),e.defn(s,"$matches?",i=function(e){var t,n,$,a=this;return a.actual=e,(t=(n=a.expected)["$all?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),e["$cover?"](t)},$.$$s=a,$.$$arity=1,$),t).call(n)},i.$$arity=1),e.defn(s,"$does_not_match?",o=function(e){var t,n,$,a=this;return a.actual=e,(t=(n=a.$expected())["$none?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),e["$cover?"](t)},$.$$s=a,$.$$arity=1,$),t).call(n)},o.$$arity=1),r&&"does_not_match?"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/start_and_end_with"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$==","$length","$first","$tap","$<<","$!","$respond_to?","$actual","$===","$expected","$name_to_sentence","$inspect","$surface_descriptions_in","$private","$subset_matches?","$element_matches?","$new","$values_match?","$[]","$-@"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"StartAndEndWith",n),c=(u.$$proto,u.$$scope);return e.defn(u,"$initialize",a=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.actual_does_not_have_ordered_elements=!1,t.expected=function(){return e.$length()["$=="](1)?e.$first():e}()},a.$$arity=-1),e.defn(u,"$failure_message",i=function(){var t,n,$,a,o,s=this,l=i.$$p,u=r,c=r;for(i.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(n=(o=s,a=e.find_super_dispatcher(s,"failure_message",i,!1),a.$$p=l,a).apply(o,u)).$tap,t.$$p=($=function(e){var t,n=$.$$s||this;return null==n.actual_does_not_have_ordered_elements&&(n.actual_does_not_have_ordered_elements=r),null==e&&(e=r),(t=n.actual_does_not_have_ordered_elements)===r||null==t||t.$$is_boolean&&1!=t?(t=n.$actual()["$respond_to?"]("[]")["$!"]())===r||null==t||t.$$is_boolean&&1!=t?r:e["$<<"](", but it cannot be indexed using #[]"):e["$<<"](", but it does not have ordered elements")},$.$$s=s,$.$$arity=1,$),t).call(n)},i.$$arity=0),e.defn(u,"$description",o=function(){var t,n,$=this,a=o.$$p,i=r,s=r;for(o.$$p=null,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(t=c.get("Hash")["$==="]($.$expected()))===r||null==t||t.$$is_boolean&&1!=t?(n=$,t=e.find_super_dispatcher($,"description",o,!1),t.$$p=a,t).apply(n,i):""+$.$name_to_sentence()+" "+$.$surface_descriptions_in($.$expected()).$inspect()},o.$$arity=0),u.$private(),e.defn(u,"$match",s=function(t,n){var $,a,i=this;if(($=n["$respond_to?"]("[]"))===r||null==$||$.$$is_boolean&&1!=$)return!1;try{return a=c.get("Struct")["$==="](t)["$!"](),($=a!==!1&&a!==r&&null!=a?t["$respond_to?"]("length"):a)===r||null==$||$.$$is_boolean&&1!=$?i["$element_matches?"]():i["$subset_matches?"]()}catch(o){if(!e.rescue(o,[c.get("ArgumentError")]))throw o;try{return i.actual_does_not_have_ordered_elements=!0,!1}finally{e.pop_exception()}}},s.$$arity=2),e.defn(u,"$actual_is_unordered",l=function(){var e=this;return c.get("ArgumentError").$new(""+e.$actual().$inspect()+" does not have ordered elements")},l.$$arity=0),r&&"actual_is_unordered"}(o.base,o.get("BaseMatcher")),function(t,$super){function n(){}var a,i,o=n=$(t,$super,"StartWith",n);o.$$proto,o.$$scope;return o.$private(),e.defn(o,"$subset_matches?",a=function(){var e=this;return e["$values_match?"](e.$expected(),e.$actual()["$[]"](0,e.$expected().$length()))},a.$$arity=0),e.defn(o,"$element_matches?",i=function(){var e=this;return e["$values_match?"](e.$expected(),e.$actual()["$[]"](0))},i.$$arity=0),r&&"element_matches?"}(o.base,o.get("StartAndEndWith")),function(t,$super){function n(){}var a,i,o=n=$(t,$super,"EndWith",n);o.$$proto,o.$$scope;return o.$private(),e.defn(o,"$subset_matches?",a=function(){var e=this;return e["$values_match?"](e.$expected(),e.$actual()["$[]"](e.$expected().$length()["$-@"](),e.$expected().$length()))},a.$$arity=0),e.defn(o,"$element_matches?",i=function(){var e=this;return e["$values_match?"](e.$expected(),e.$actual()["$[]"](-1))},i.$$arity=0),r&&"element_matches?"}(o.base,o.get("StartAndEndWith"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/eq"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$format_object","$expected","$actual","$name_to_sentence","$inspect","$private","$==","$===","$format_time","$format_date_time","$to_s","$method_defined?","$strftime","$%","$nsec","$usec"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d=n=$(t,$super,"Eq",n),h=d.$$proto,g=d.$$scope;return h.expected=r,e.defn(d,"$failure_message",a=function(){var e=this;return"\nexpected: "+e.$format_object(e.$expected())+"\n     got: "+e.$format_object(e.$actual())+"\n\n(compared using ==)\n"},a.$$arity=0),e.defn(d,"$failure_message_when_negated",i=function(){var e=this;return"\nexpected: value != "+e.$format_object(e.$expected())+"\n     got: "+e.$format_object(e.$actual())+"\n\n(compared using ==)\n"},i.$$arity=0),e.defn(d,"$description",o=function(){var e=this;return""+e.$name_to_sentence()+" "+e.expected.$inspect()},o.$$arity=0),e.defn(d,"$diffable?",s=function(){return!0},s.$$arity=0),d.$private(),e.defn(d,"$match",l=function(e,t){return t["$=="](e)},l.$$arity=2),e.defn(d,"$format_object",u=function(e){var t,n,$=this;return(t=g.get("Time")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?(n=null!=g.DateTime,(t=n!==!1&&n!==r&&null!=n?g.get("DateTime")["$==="](e):n)===r||null==t||t.$$is_boolean&&1!=t?(n=null!=g.BigDecimal,(t=n!==!1&&n!==r&&null!=n?g.get("BigDecimal")["$==="](e):n)===r||null==t||t.$$is_boolean&&1!=t?e.$inspect():""+e.$to_s("F")+" ("+e.$inspect()+")"):$.$format_date_time(e)):$.$format_time(e)},u.$$arity=1),e.cdecl(g,"TIME_FORMAT","%Y-%m-%d %H:%M:%S"),(c=g.get("Time")["$method_defined?"]("nsec"))===r||null==c||c.$$is_boolean&&1!=c?e.defn(d,"$format_time",p=function(e){return e.$strftime(""+g.get("TIME_FORMAT")+"."+"%06d"["$%"](e.$usec())+" %z")},p.$$arity=1):e.defn(d,"$format_time",_=function(e){return e.$strftime(""+g.get("TIME_FORMAT")+"."+"%09d"["$%"](e.$nsec())+" %z")},_.$$arity=1),e.cdecl(g,"DATE_TIME_FORMAT","%a, %d %b %Y %H:%M:%S.%N %z"),e.defn(d,"$format_date_time",f=function(e){var t;return(t=null!=g.ActiveSupport)===r||null==t||t.$$is_boolean&&1!=t?e.$inspect():e.$strftime(g.get("DATE_TIME_FORMAT"))},f.$$arity=1),r&&"format_date_time"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/eql"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$inspect","$expected","$actual","$private","$eql?"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l=n=$(t,$super,"Eql",n);l.$$proto,l.$$scope;return e.defn(l,"$failure_message",a=function(){var e=this;return"\nexpected: "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using eql?)\n"},a.$$arity=0),e.defn(l,"$failure_message_when_negated",i=function(){var e=this;return"\nexpected: value != "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using eql?)\n"},i.$$arity=0),e.defn(l,"$diffable?",o=function(){return!0},o.$$arity=0),l.$private(),e.defn(l,"$match",s=function(e,t){return t["$eql?"](e)},s.$$arity=2),r&&"match"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/equal"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$expected_is_a_literal_singleton?","$simple_failure_message","$detailed_failure_message","$inspect_object","$actual","$expected","$!","$private","$equal?","$include?","$inspect","$actual_inspected","$class","$object_id"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f=n=$(t,$super,"Equal",n),d=(f.$$proto,f.$$scope);return e.defn(f,"$failure_message",a=function(){var e,t=this;return(e=t["$expected_is_a_literal_singleton?"]())===r||null==e||e.$$is_boolean&&1!=e?t.$detailed_failure_message():t.$simple_failure_message()},a.$$arity=0),e.defn(f,"$failure_message_when_negated",i=function(){var e=this;return"\nexpected not "+e.$inspect_object(e.$actual())+"\n         got "+e.$inspect_object(e.$expected())+"\n\nCompared using equal?, which compares object identity.\n\n"},i.$$arity=0),e.defn(f,"$diffable?",o=function(){var e=this;return e["$expected_is_a_literal_singleton?"]()["$!"]()},o.$$arity=0),f.$private(),e.defn(f,"$match",s=function(e,t){return t["$equal?"](e)},s.$$arity=2),e.cdecl(d,"LITERAL_SINGLETONS",[!0,!1,r]),e.defn(f,"$expected_is_a_literal_singleton?",l=function(){var e=this;return d.get("LITERAL_SINGLETONS")["$include?"](e.$expected())},l.$$arity=0),e.defn(f,"$actual_inspected",u=function(){var e,t=this;return(e=d.get("LITERAL_SINGLETONS")["$include?"](t.$actual()))===r||null==e||e.$$is_boolean&&1!=e?t.$inspect_object(t.$actual()):t.$actual().$inspect()},u.$$arity=0),e.defn(f,"$simple_failure_message",c=function(){var e=this;return"\nexpected "+e.$expected().$inspect()+"\n     got "+e.$actual_inspected()+"\n"},c.$$arity=0),e.defn(f,"$detailed_failure_message",_=function(){var e=this;return"\nexpected "+e.$inspect_object(e.$expected())+"\n     got "+e.$inspect_object(e.$actual())+"\n\nCompared using equal?, which compares object identity,\nbut expected and actual are not the same object. Use\n`expect(actual).to eq(expected)` if you don't care about\nobject identity in this example.\n\n"},_.$$arity=0),e.defn(f,"$inspect_object",p=function(e){return"#<"+e.$class()+":"+e.$object_id()+"> => "+e.$inspect()},p.$$arity=1),r&&"inspect_object"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/exist"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$new","$valid_test?","$actual_exists?","$!","$inspect","$validity_message","$==","$size","$uniq_truthy_values","$first","$existence_values","$===","$last","$private","$uniq","$map","$__send__","$actual","$expected","$predicates","$select","$respond_to?"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"Exist",n),c=u.$$proto,_=u.$$scope;return c.actual=c.expected=c.test=r,e.defn(u,"$initialize",a=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.expected=e},a.$$arity=-1),e.defn(u,"$matches?",i=function(e){var t,n=this;return n.actual=e,n.test=_.get("ExistenceTest").$new(n.actual,n.expected),t=n.test["$valid_test?"](),t!==!1&&t!==r&&null!=t?n.test["$actual_exists?"]():t},i.$$arity=1),e.defn(u,"$does_not_match?",o=function(e){var t,n=this;return n.actual=e,n.test=_.get("ExistenceTest").$new(n.actual,n.expected),t=n.test["$valid_test?"](),t!==!1&&t!==r&&null!=t?n.test["$actual_exists?"]()["$!"]():t},o.$$arity=1),e.defn(u,"$failure_message",s=function(){var e=this;return"expected "+e.actual.$inspect()+" to exist"+e.test.$validity_message()},s.$$arity=0),e.defn(u,"$failure_message_when_negated",l=function(){var e=this;return"expected "+e.actual.$inspect()+" not to exist"+e.test.$validity_message()},l.$$arity=0),function(t,$super){function n(){}var a,i,o,s,l,u,c=n=$(t,$super,"ExistenceTest",n),_=c.$$proto;c.$$scope;return _.uniq_truthy_values=_.existence_values=_.predicates=r,e.defn(c,"$valid_test?",a=function(){var e=this;return e.$uniq_truthy_values().$size()["$=="](1)},a.$$arity=0),e.defn(c,"$actual_exists?",i=function(){var e=this;return e.$existence_values().$first()},i.$$arity=0),e.defn(c,"$validity_message",o=function(){var e=this,t=r;return function(){return t=e.$uniq_truthy_values().$size(),0["$==="](t)?" but it does not respond to either `exist?` or `exists?`":2["$==="](t)?" but `exist?` and `exists?` returned different values:\n\n"+(" exist?: "+e.$existence_values().$first()+"\n")+("exists?: "+e.$existence_values().$last()):r}()},o.$$arity=0),c.$private(),e.defn(c,"$uniq_truthy_values",s=function(){var e,t,n,$,a=this;return(e=a.uniq_truthy_values)!==!1&&e!==r&&null!=e?e:a.uniq_truthy_values=(t=(n=a.$existence_values()).$map,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),e["$!"]()["$!"]()},$.$$s=a,$.$$arity=1,$),t).call(n).$uniq()},s.$$arity=0),e.defn(c,"$existence_values",l=function(){var t,n,$,a,i=this;return(t=i.existence_values)!==!1&&t!==r&&null!=t?t:i.existence_values=(n=($=i.$predicates()).$map,n.$$p=(a=function(t){var n,$=a.$$s||this;return null==t&&(t=r),(n=$.$actual()).$__send__.apply(n,[t].concat(e.to_a($.$expected())))},a.$$s=i,a.$$arity=1,a),n).call($)},l.$$arity=0),e.defn(c,"$predicates",u=function(){var e,t,n,$,a=this;return(e=a.predicates)!==!1&&e!==r&&null!=e?e:a.predicates=(t=(n=["exist?","exists?"]).$select,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$actual()["$respond_to?"](e)},$.$$s=a,$.$$arity=1,$),t).call(n)},u.$$arity=0),r&&"predicates"}(_.base,_.get("Struct").$new("actual","expected"))}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/has"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$predicate_accessible?","$predicate_matches?","$!","$validity_message","$predicate","$failure_message_args_description","$join","$compact","$method_description","$args_description","$private","$private_predicate?","$predicate_exists?","$===","$first","$methods","$include?","$private_methods","$to_s","$respond_to?","$__send__","$to_proc","$captures","$match","$gsub","$empty?","$map","$inspect"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=n=$(t,$super,"Has",n),w=x.$$proto,k=x.$$scope;return w.block=w.actual=w.args=w.predicate=w.method_name=r,e.defn(x,"$initialize",a=function(e){var t,n,$=this,i=a.$$p,o=i||r,s=arguments.length,l=s-1;0>l&&(l=0),n=new Array(l);for(var u=1;s>u;u++)n[u-1]=arguments[u];return a.$$p=null,t=[e,n,o],$.method_name=t[0],$.args=t[1],$.block=t[2],t},a.$$arity=-2),e.defn(x,"$matches?",i=function(e){var t,n=this,$=i.$$p,a=$||r;return i.$$p=null,n.actual=e,(t=n.block)!==!1&&t!==r&&null!=t?t:n.block=a,t=n["$predicate_accessible?"](),t!==!1&&t!==r&&null!=t?n["$predicate_matches?"]():t},i.$$arity=1),e.defn(x,"$does_not_match?",o=function(e){var t,n=this,$=o.$$p,a=$||r;return o.$$p=null,n.actual=e,(t=n.block)!==!1&&t!==r&&null!=t?t:n.block=a,t=n["$predicate_accessible?"](),t!==!1&&t!==r&&null!=t?n["$predicate_matches?"]()["$!"]():t},o.$$arity=1),e.defn(x,"$failure_message",s=function(){var e,t=this;return(e=t.$validity_message())!==!1&&e!==r&&null!=e?e:"expected #"+t.$predicate()+t.$failure_message_args_description()+" to return true, got false"},s.$$arity=0),e.defn(x,"$failure_message_when_negated",l=function(){var e,t=this;return(e=t.$validity_message())!==!1&&e!==r&&null!=e?e:"expected #"+t.$predicate()+t.$failure_message_args_description()+" to return false, got true"},l.$$arity=0),e.defn(x,"$description",u=function(){var e=this;return[e.$method_description(),e.$args_description()].$compact().$join(" ")},u.$$arity=0),x.$private(),e.defn(x,"$predicate_accessible?",c=function(){var e,t=this;return e=t["$private_predicate?"]()["$!"](),e!==!1&&e!==r&&null!=e?t["$predicate_exists?"]():e},c.$$arity=0),(_=k.get("String")["$==="](x.$methods().$first()))===r||null==_||_.$$is_boolean&&1!=_?e.defn(x,"$private_predicate?",f=function(){var e=this;return e.actual.$private_methods()["$include?"](e.$predicate())},f.$$arity=0):e.defn(x,"$private_predicate?",p=function(){var e=this;return e.actual.$private_methods()["$include?"](e.$predicate().$to_s())},p.$$arity=0),e.defn(x,"$predicate_exists?",d=function(){var e=this;return e.actual["$respond_to?"](e.$predicate())},d.$$arity=0),e.defn(x,"$predicate_matches?",h=function(){var t,r,n=this;return(t=(r=n.actual).$__send__,t.$$p=n.block.$to_proc(),t).apply(r,[n.$predicate()].concat(e.to_a(n.args)))},h.$$arity=0),e.defn(x,"$predicate",g=function(){var e,t=this;return(e=t.predicate)!==!1&&e!==r&&null!=e?e:t.predicate="has_"+k.get("Matchers").$$scope.get("HAS_REGEX").$match(t.method_name.$to_s()).$captures().$first().$to_s()+"?"},g.$$arity=0),e.defn(x,"$method_description",m=function(){var e=this;return e.method_name.$to_s().$gsub("_"," ")},m.$$arity=0),e.defn(x,"$args_description",y=function(){var e,t,n,$=this;return(e=$.args["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=(t=$.args).$map,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),e.$inspect()},n.$$s=$,n.$$arity=1,n),e).call(t).$join(", "):r},y.$$arity=0),e.defn(x,"$failure_message_args_description",v=function(){var e=this,t=r;return t=e.$args_description(),t!==!1&&t!==r&&null!=t?"("+t+")":r},v.$$arity=0),e.defn(x,"$validity_message",b=function(){var e,t=this;return(e=t["$private_predicate?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=t["$predicate_exists?"]()["$!"]())===r||null==e||e.$$is_boolean&&1!=e?r:"expected "+t.actual+" to respond to `"+t.$predicate()+"`":"expected "+t.actual+" to respond to `"+t.$predicate()+"` but `"+t.$predicate()+"` is a private method"},b.$$arity=0),r&&"validity_message"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/have_attributes"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$attr_reader","$respond_to_attributes?","$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$inspect","$respond_to_failure_message_or","$private","$__send__","$actual_has_attribute?","$actual","$values_match?","$matches?","$respond_to_matcher","$!","$arguments","$with","$new","$keys","$respond_to_failed","$failure_message"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"HaveAttributes",n),g=h.$$proto,m=h.$$scope;return g.respond_to_matcher=r,h.$attr_reader("respond_to_failed"),e.defn(h,"$initialize",a=function(e){var t=this;return t.expected=e,t.respond_to_failed=!1},a.$$arity=1),e.defn(h,"$matches?",i=function(e){var t,n=this;return n.actual=e,(t=n["$respond_to_attributes?"]())===r||null==t||t.$$is_boolean&&1!=t?!1:n.$perform_match("all?")},i.$$arity=1),e.defn(h,"$does_not_match?",o=function(e){var t,n=this;return n.actual=e,(t=n["$respond_to_attributes?"]())===r||null==t||t.$$is_boolean&&1!=t?!1:n.$perform_match("none?")},o.$$arity=1),e.defn(h,"$description",s=function(){var e=this,t=r;return t=e.$surface_descriptions_in(e.$expected()),e.$improve_hash_formatting("have attributes "+t.$inspect())},s.$$arity=0),e.defn(h,"$failure_message",l=function(){var t,n,$,a=this,i=l.$$p,o=r,s=r;for(l.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=(n=a).$respond_to_failure_message_or,t.$$p=($=function(){var t,r,n=$.$$s||this;return(r=n,t=e.find_iter_super_dispatcher(n,"failure_message",$.$$def||l,!1,!0),t.$$p=i,t).apply(r,o)},$.$$s=a,$.$$arity=0,$),t).call(n)},l.$$arity=0),e.defn(h,"$failure_message_when_negated",u=function(){var t,n,$,a=this,i=u.$$p,o=r,s=r;for(u.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=(n=a).$respond_to_failure_message_or,t.$$p=($=function(){var t,r,n=$.$$s||this;return(r=n,t=e.find_iter_super_dispatcher(n,"failure_message_when_negated",$.$$def||u,!1,!0),t.$$p=i,t).apply(r,o)},$.$$s=a,$.$$arity=0,$),t).call(n)},u.$$arity=0),h.$private(),e.defn(h,"$perform_match",c=function(e){var t,n,$,a=this;return(t=(n=a.$expected()).$__send__,t.$$p=($=function(e,t){var n=$.$$s||this;return null==e&&(e=r),null==t&&(t=r),n["$actual_has_attribute?"](e,t)},$.$$s=a,$.$$arity=2,$),t).call(n,e)},c.$$arity=1),e.defn(h,"$actual_has_attribute?",_=function(e,t){var n=this,$=r;return $=n.$actual().$__send__(e),n["$values_match?"](t,$)},_.$$arity=2),e.defn(h,"$respond_to_attributes?",p=function(){var e=this,t=r;return t=e.$respond_to_matcher()["$matches?"](e.$actual()),e.respond_to_failed=t["$!"](),t},p.$$arity=0),e.defn(h,"$respond_to_matcher",f=function(){var t,n,$=this;return(t=$.respond_to_matcher)!==!1&&t!==r&&null!=t?t:$.respond_to_matcher=(n=m.get("RespondTo")).$new.apply(n,e.to_a($.$expected().$keys())).$with(0).$arguments()},f.$$arity=0),e.defn(h,"$respond_to_failure_message_or",d=function(){var t,n=this,$=d.$$p,a=$||r;return d.$$p=null,(t=n.$respond_to_failed())===r||null==t||t.$$is_boolean&&1!=t?n.$improve_hash_formatting(e.yieldX(a,[])):n.$respond_to_matcher().$failure_message()},d.$$arity=0),r&&"respond_to_failure_message_or"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/include"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$perform_match","$surface_descriptions_in","$expected","$improve_hash_formatting","$to_sentence","$+","$invalid_type_message","$private","$respond_to?","$actual","$__send__","$comparing_hash_to_a_subset?","$actual_hash_includes?","$comparing_hash_keys?","$actual_hash_has_key?","$actual_collection_includes?","$is_a?","$fetch","$values_match?","$!","$key?","$any?","$keys","$include?"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Matchers"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(r,$super){function $(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v=$=a(r,$super,"Include",$),b=(v.$$proto,v.$$scope);return e.defn(v,"$initialize",i=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.expected=e},i.$$arity=-1),e.defn(v,"$matches?",o=function(e){var t=this;return t.actual=e,t.$perform_match("all?","all?")},o.$$arity=1),e.defn(v,"$does_not_match?",s=function(e){var t=this;return t.actual=e,t.$perform_match("none?","any?")},s.$$arity=1),e.defn(v,"$description",l=function(){var e=this,t=n;return t=e.$surface_descriptions_in(e.$expected()),e.$improve_hash_formatting("include"+e.$to_sentence(t))},l.$$arity=0),e.defn(v,"$failure_message",u=function(){var r,$,a=this,i=u.$$p,o=n,s=n;for(u.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(a.$improve_hash_formatting(($=a,r=e.find_super_dispatcher(a,"failure_message",u,!1),r.$$p=i,r).apply($,o)),a.$invalid_type_message())},u.$$arity=0),e.defn(v,"$failure_message_when_negated",c=function(){var r,$,a=this,i=c.$$p,o=n,s=n;for(c.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(a.$improve_hash_formatting(($=a,r=e.find_super_dispatcher(a,"failure_message_when_negated",c,!1),r.$$p=i,r).apply($,o)),a.$invalid_type_message())},c.$$arity=0),e.defn(v,"$diffable?",_=function(){return!0},_.$$arity=0),v.$private(),e.defn(v,"$invalid_type_message",p=function(){var e,t=this;return(e=t.$actual()["$respond_to?"]("include?"))===n||null==e||e.$$is_boolean&&1!=e?", but it does not respond to `include?`":""},p.$$arity=0),e.defn(v,"$perform_match",f=function(t,r){var $,a,i,o=this;return($=o.$actual()["$respond_to?"]("include?"))===n||null==$||$.$$is_boolean&&1!=$?!1:($=(a=o.$expected()).$__send__,$.$$p=(i=function(t){var $,a,o,s=i.$$s||this;return null==t&&(t=n),($=s["$comparing_hash_to_a_subset?"](t))===n||null==$||$.$$is_boolean&&1!=$?($=s["$comparing_hash_keys?"](t))===n||null==$||$.$$is_boolean&&1!=$?s["$actual_collection_includes?"](t):s["$actual_hash_has_key?"](t):($=(a=t).$__send__,$.$$p=(o=function(t){var r,$,a,i=o.$$s||this;return null==t&&(t=n),t=e.to_ary(t),r=e.slice.call(t,0,t.length),$=r.splice(0,1)[0],null==$&&($=n),a=r.splice(0,1)[0],null==a&&(a=n),i["$actual_hash_includes?"]($,a)},o.$$s=s,
o.$$arity=1,o.$$has_top_level_mlhs_arg=!0,o),$).call(a,r)},i.$$s=o,i.$$arity=1,i),$).call(a,t)},f.$$arity=2),e.defn(v,"$comparing_hash_to_a_subset?",d=function(e){var t,r=this;return t=r.$actual()["$is_a?"](b.get("Hash")),t!==!1&&t!==n&&null!=t?e["$is_a?"](b.get("Hash")):t},d.$$arity=1),e.defn(v,"$actual_hash_includes?",h=function(t,r){try{var $,a,i,o=this,s=n;return s=($=(a=o.$actual()).$fetch,$.$$p=(i=function(){i.$$s||this;e.ret(!1)},i.$$s=o,i.$$arity=0,i),$).call(a,t),o["$values_match?"](r,s)}catch(l){if(l===e.returner)return l.$v;throw l}},h.$$arity=2),e.defn(v,"$comparing_hash_keys?",g=function(e){var t,r=this;return t=r.$actual()["$is_a?"](b.get("Hash")),t!==!1&&t!==n&&null!=t?e["$is_a?"](b.get("Hash"))["$!"]():t},g.$$arity=1),e.defn(v,"$actual_hash_has_key?",m=function(e){var t,r,$,a,i=this;return(t=i.$actual()["$key?"](e))!==!1&&t!==n&&null!=t?t:(r=($=i.$actual().$keys())["$any?"],r.$$p=(a=function(t){var r=a.$$s||this;return null==t&&(t=n),r["$values_match?"](e,t)},a.$$s=i,a.$$arity=1,a),r).call($)},m.$$arity=1),e.defn(v,"$actual_collection_includes?",y=function(e){var t,r,$,a=this;return(t=a.$actual()["$include?"](e))===n||null==t||t.$$is_boolean&&1!=t?(t=a.$actual()["$respond_to?"]("any?"))===n||null==t||t.$$is_boolean&&1!=t?!1:(t=(r=a.$actual())["$any?"],t.$$p=($=function(t){var r=$.$$s||this;return null==t&&(t=n),r["$values_match?"](e,t)},$.$$s=a,$.$$arity=1,$),t).call(r):!0},y.$$arity=1),n&&"actual_collection_includes?"}(s.base,s.get("BaseMatcher"))}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$raise","$iterable?","$improve_hash_formatting","$each","$<<","$failure_message_for_item","$failed_objects","$join","$description_of","$matcher","$private","$index_failed_objects","$empty?","$each_with_index","$clone","$matches?","$[]=","$failure_message","$actual","$indent_multiline_message","$add_new_line_if_needed","$start_with?","$sub","$map","$=~","$+","$lines","$respond_to?"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Matchers"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"BuiltIn"),l=(s.$$proto,s.$$scope);!function(r,$super){function $(){}var o,s,l,u,c,_,p,f,d,h,g,m=$=a(r,$super,"All",$),y=m.$$proto,v=m.$$scope;return y.matcher=y.actual=n,m.$attr_reader("matcher","failed_objects"),e.defn(m,"$initialize",o=function(e){var t=this;return t.matcher=e,t.failed_objects=i([],{})},o.$$arity=1),e.defn(m,"$does_not_match?",s=function(){var e=this;return e.$raise(v.get("NotImplementedError"),"`expect().not_to all( matcher )` is not supported.")},s.$$arity=1),e.defn(m,"$failure_message",l=function(){var t,r,$,a,i,o=this,s=l.$$p,u=n,c=n,_=n;for(l.$$p=null,c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];return(t=o["$iterable?"]())===n||null==t||t.$$is_boolean&&1!=t?""+o.$improve_hash_formatting((r=o,t=e.find_super_dispatcher(o,"failure_message",l,!1),t.$$p=s,t).apply(r,c))+", but was not iterable":(u=[o.$improve_hash_formatting(($=o,t=e.find_super_dispatcher(o,"failure_message",l,!1),t.$$p=s,t).apply($,c))],(t=(a=o.$failed_objects()).$each,t.$$p=(i=function(e,t){var r=i.$$s||this;return null==e&&(e=n),null==t&&(t=n),u["$<<"](r.$failure_message_for_item(e,t))},i.$$s=o,i.$$arity=2,i),t).call(a),u.$join("\n\n"))},l.$$arity=0),e.defn(m,"$description",u=function(){var e=this;return e.$improve_hash_formatting("all "+e.$description_of(e.$matcher()))},u.$$arity=0),m.$private(),e.defn(m,"$match",c=function(){var e,t=this;return(e=t["$iterable?"]())===n||null==e||e.$$is_boolean&&1!=e?!1:(t.$index_failed_objects(),t.$failed_objects()["$empty?"]())},c.$$arity=2),e.defn(m,"$index_failed_objects",_=function(){var e,t,r,$=this;return(e=(t=$.$actual()).$each_with_index,e.$$p=(r=function(e,t){var $=r.$$s||this,a=n,i=n;return null==e&&(e=n),null==t&&(t=n),a=$.$matcher().$clone(),i=a["$matches?"](e),i!==!1&&i!==n&&null!=i?n:$.$failed_objects()["$[]="](t,a.$failure_message())},r.$$s=$,r.$$arity=2,r),e).call(t)},_.$$arity=0),e.defn(m,"$failure_message_for_item",p=function(e,t){var r=this;return t=r.$indent_multiline_message(r.$add_new_line_if_needed(t)),r.$indent_multiline_message("object at index "+e+" failed to match:"+t)},p.$$arity=2),e.defn(m,"$add_new_line_if_needed",f=function(e){var t;return(t=e["$start_with?"]("\n"))===n||null==t||t.$$is_boolean&&1!=t?"\n"+e:e},f.$$arity=1),e.defn(m,"$indent_multiline_message",d=function(e){var r,$,a,i=this;return e=e.$sub(/\n+\z/,""),(r=($=e.$lines()).$map,r.$$p=(a=function(e){var r;a.$$s||this;return null==e&&(e=n),(r=e["$=~"](/\S/))===n||null==r||r.$$is_boolean&&1!=r?e:t("   ",e)},a.$$s=i,a.$$arity=1,a),r).call($).$join()},d.$$arity=1),e.defn(m,"$initialize_copy",h=function(){var t,r,$=this,a=h.$$p,i=n,o=n;for(h.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $.matcher=$.matcher.$clone(),(r=$,t=e.find_super_dispatcher($,"initialize_copy",h,!1),t.$$p=a,t).apply(r,i)},h.$$arity=1),e.defn(m,"$iterable?",g=function(){var e=this;return e.actual["$respond_to?"]("each_with_index")},g.$$arity=0),n&&"iterable?"}(l.base,l.get("BaseMatcher"))}(l.base)}(l.base)}(r.base)},Opal.modules["rspec/matchers/built_in/match"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$inspect","$surface_descriptions_in","$expected","$private","$values_match?","$respond_to?","$match"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s=n=$(t,$super,"Match",n);s.$$proto,s.$$scope;return e.defn(s,"$description",a=function(){var e=this;return"match "+e.$surface_descriptions_in(e.$expected()).$inspect()},a.$$arity=0),e.defn(s,"$diffable?",i=function(){return!0},i.$$arity=0),s.$private(),e.defn(s,"$match",o=function(e,t){var n,$=this;return(n=$["$values_match?"](e,t))===r||null==n||n.$$is_boolean&&1!=n?(n=t["$respond_to?"]("match"))===r||null==n||n.$$is_boolean&&1!=n?r:t.$match(e):!0},o.$$arity=2),r&&"match"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/operators"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$require","$registry","$[]","$[]=","$delete","$each","$ancestors","$register","$define_method","$!","$has_non_generic_implementation_of?","$get","$class","$__send__","$should_method","$last_expectation_handler","$new","$eval_match","$sub","$!=","$respond_to?","$opposite_should_method","$raise","$use_custom_matcher_or_delegate","$fail_with","$inspect","$private","$owner","$method_handle_for","$last_matcher=","$__delegate_operator","$include?","$fail_with_message","$gsub"]),t.$require("rspec/support"),function(t){var r,o=r=$(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var r,o=r=$(t,"Matchers"),s=(o.$$proto,o.$$scope);!function(t){var r,o=r=$(t,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var $,o,s,l,u,c,_,p,f,d=r=a(t,$super,"OperatorMatcher",r),h=d.$$proto,g=d.$$scope;return h.expected=h.actual=h.operator=n,function(t){var r,$,a,o;t.$$scope,t.$$proto;return e.defn(t,"$registry",r=function(){var e,t=this;return null==t.registry&&(t.registry=n),(e=t.registry)!==!1&&e!==n&&null!=e?e:t.registry=i([],{})},r.$$arity=0),e.defn(t,"$register",$=function(e,t,r){var $,a,o,s=this;return $=e,a=s.$registry(),(o=a["$[]"]($))!==!1&&o!==n&&null!=o?o:a["$[]="]($,i([],{})),s.$registry()["$[]"](e)["$[]="](t,r)},$.$$arity=3),e.defn(t,"$unregister",a=function(e,t){var r,$=this;return r=$.$registry()["$[]"](e),r!==!1&&r!==n&&null!=r?$.$registry()["$[]"](e).$delete(t):r},a.$$arity=2),e.defn(t,"$get",o=function(t,r){try{var $,a,i,o=this;return($=(a=t.$ancestors()).$each,$.$$p=(i=function(t){var $,a=i.$$s||this,o=n;return null==t&&(t=n),$=a.$registry()["$[]"](t),o=$!==!1&&$!==n&&null!=$?a.$registry()["$[]"](t)["$[]"](r):$,o===!1||o===n||null==o?n:void e.ret(o)},i.$$s=o,i.$$arity=1,i),$).call(a),n}catch(s){if(s===e.returner)return s.$v;throw s}},o.$$arity=2),n&&"get"}(e.get_singleton_class(d)),d.$register(g.get("Enumerable"),"=~",g.get("BuiltIn").$$scope.get("ContainExactly")),e.defn(d,"$initialize",$=function(e){var t=this;return t.actual=e},$.$$arity=1),e.defs(d,"$use_custom_matcher_or_delegate",o=function(t){var r,$,a,i,o,s=this,l=n;return(r=($=s).$define_method,r.$$p=(a=function(r){var $,i,o=a.$$s||this,s=n;return null==o.actual&&(o.actual=n),null==r&&(r=n),i=o["$has_non_generic_implementation_of?"](t)["$!"](),($=i!==!1&&i!==n&&null!=i?s=g.get("OperatorMatcher").$get(o.actual.$class(),t):i)===n||null==$||$.$$is_boolean&&1!=$?o.$eval_match(o.actual,t,r):o.actual.$__send__(e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$should_method(),s.$new(r))},a.$$s=s,a.$$arity=1,a),r).call($,t),l=t.$sub(/^=/,"!"),i=l["$!="](t),(r=i!==!1&&i!==n&&null!=i?s["$respond_to?"](l):i)===n||null==r||r.$$is_boolean&&1!=r?n:(r=(i=s).$define_method,r.$$p=(o=function(r){var $=o.$$s||this,a=n;return null==r&&(r=n),a=e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$opposite_should_method(),$.$raise("RSpec does not support `"+e.get("RSpec").$$scope.get("Matchers").$last_expectation_handler().$should_method()+" "+l+" expected`.  "+("Use `"+a+" "+t+" expected` instead."))},o.$$s=s,o.$$arity=1,o),r).call(i,l)},o.$$arity=1),(s=(l=["==","===","=~",">",">=","<","<="]).$each,s.$$p=(u=function(e){var t=u.$$s||this;return null==e&&(e=n),t.$use_custom_matcher_or_delegate(e)},u.$$s=d,u.$$arity=1,u),s).call(l),e.defn(d,"$fail_with_message",c=function(e){var t=this;return g.get("RSpec").$$scope.get("Expectations").$fail_with(e,t.expected,t.actual)},c.$$arity=1),e.defn(d,"$description",_=function(){var e=this;return""+e.operator+" "+e.expected.$inspect()},_.$$arity=0),d.$private(),e.defn(d,"$has_non_generic_implementation_of?",p=function(t){var r=this;try{return g.get("Support").$method_handle_for(r.actual,t).$owner()["$!="](e.get("Kernel"))}catch(n){if(!e.rescue(n,[g.get("NameError")]))throw n;try{return!1}finally{e.pop_exception()}}},p.$$arity=1),e.defn(d,"$eval_match",f=function(t,r,n){var $,a,i=this;return $=[i],a=e.get("RSpec").$$scope.get("Matchers"),a["$last_matcher="].apply(a,$),$[$.length-1],$=[r,n],i.operator=$[0],i.expected=$[1],$,i.$__delegate_operator(t,r,n)},f.$$arity=3),n&&"eval_match"}(s.base,null),function(t,$super){function r(){}var $,i=r=a(t,$super,"PositiveOperatorMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$__delegate_operator",$=function(e,t,r){var $,a=this;return($=e.$__send__(t,r))===n||null==$||$.$$is_boolean&&1!=$?($=["==","===","=~"]["$include?"](t))===n||null==$||$.$$is_boolean&&1!=$?a.$fail_with_message("expected: "+t+" "+r.$inspect()+"\n     got: "+t.$gsub(/./," ")+" "+e.$inspect()):a.$fail_with_message("expected: "+r.$inspect()+"\n     got: "+e.$inspect()+" (using "+t+")"):!0},$.$$arity=3),n&&"__delegate_operator"}(s.base,s.get("OperatorMatcher")),function(t,$super){function r(){}var $,i=r=a(t,$super,"NegativeOperatorMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$__delegate_operator",$=function(e,t,r){var $,a=this;return($=e.$__send__(t,r))===n||null==$||$.$$is_boolean&&1!=$?!1:a.$fail_with_message("expected not: "+t+" "+r.$inspect()+"\n         got: "+t.$gsub(/./," ")+" "+e.$inspect())},$.$$arity=3),n&&"__delegate_operator"}(s.base,s.get("OperatorMatcher"))}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/matchers/built_in/output"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass,o=e.gvars;return e.add_stubs(["$require","$===","$capture","$values_match?","$captured?","$!","$matches?","$description","$positive_failure_reason","$negative_failure_reason","$description_of","$name","$private","$>","$length","$actual_output_description","$inspect","$raise","$new","$call","$string"]),r.$require("stringio"),function(r){var n,s=n=a(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var n,s=n=a(r,"Matchers"),l=(s.$$proto,s.$$scope);!function(r){var n,s=n=a(r,"BuiltIn"),l=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f,d,h,g,m,y,v=n=i(r,$super,"Output",n),b=v.$$proto,x=v.$$scope;return b.stream_capturer=b.expected=b.actual=b.block=$,e.defn(v,"$initialize",a=function(e){var t=this;return t.expected=e,t.actual="",t.block=$,t.stream_capturer=x.get("NullCapture")},a.$$arity=1),e.defn(v,"$matches?",o=function(e){var t,r=this;return r.block=e,(t=x.get("Proc")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t?!1:(r.actual=r.stream_capturer.$capture(e),(t=r.expected)===$||null==t||t.$$is_boolean&&1!=t?r["$captured?"]():r["$values_match?"](r.expected,r.actual))},o.$$arity=1),e.defn(v,"$does_not_match?",s=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==$&&null!=t?x.get("Proc")["$==="](e):t},s.$$arity=1),e.defn(v,"$to_stdout",l=function(){var e=this;return e.stream_capturer=x.get("CaptureStdout"),e},l.$$arity=0),e.defn(v,"$to_stderr",u=function(){var e=this;return e.stream_capturer=x.get("CaptureStderr"),e},u.$$arity=0),e.defn(v,"$failure_message",c=function(){var e=this;return"expected block to "+e.$description()+", but "+e.$positive_failure_reason()},c.$$arity=0),e.defn(v,"$failure_message_when_negated",_=function(){var e=this;return"expected block to not "+e.$description()+", but "+e.$negative_failure_reason()},_.$$arity=0),e.defn(v,"$description",p=function(){var e,t=this;return(e=t.expected)===$||null==e||e.$$is_boolean&&1!=e?"output to "+t.stream_capturer.$name():"output "+t.$description_of(t.expected)+" to "+t.stream_capturer.$name()},p.$$arity=0),e.defn(v,"$diffable?",f=function(){return!0},f.$$arity=0),e.defn(v,"$supports_block_expectations?",d=function(){return!0},d.$$arity=0),v.$private(),e.defn(v,"$captured?",h=function(){var e=this;return t(e.actual.$length(),0)},h.$$arity=0),e.defn(v,"$positive_failure_reason",g=function(){var e,t=this;return(e=x.get("Proc")["$==="](t.block))===$||null==e||e.$$is_boolean&&1!=e?"was not a block":(e=t.expected)===$||null==e||e.$$is_boolean&&1!=e?"did not":"output "+t.$actual_output_description()},g.$$arity=0),e.defn(v,"$negative_failure_reason",m=function(){var e,t=this;return(e=x.get("Proc")["$==="](t.block))===$||null==e||e.$$is_boolean&&1!=e?"was not a block":"output "+t.$actual_output_description()},m.$$arity=0),e.defn(v,"$actual_output_description",y=function(){var e,t=this;return(e=t["$captured?"]())===$||null==e||e.$$is_boolean&&1!=e?"nothing":t.actual.$inspect()},y.$$arity=0),$&&"actual_output_description"}(l.base,l.get("BaseMatcher")),function(t){var r,n,$,i=r=a(t,"NullCapture");i.$$proto,i.$$scope;e.defs(i,"$name",n=function(){return"some stream"},n.$$arity=0),e.defs(i,"$capture",$=function(){var e=this;return e.$raise("You must chain `to_stdout` or `to_stderr` off of the `output(...)` matcher.")},$.$$arity=1)}(l.base),function(t){var r,n,i,s=r=a(t,"CaptureStdout"),l=(s.$$proto,s.$$scope);e.defs(s,"$name",n=function(){return"stdout"},n.$$arity=0),e.defs(s,"$capture",i=function(e){var t=$,r=$;null==o.stdout&&(o.stdout=$);try{return t=l.get("StringIO").$new(),r=o.stdout,o.stdout=t,e.$call(),t.$string()}finally{o.stdout=r}},i.$$arity=1)}(l.base),function(t){var r,n,i,s=r=a(t,"CaptureStderr"),l=(s.$$proto,s.$$scope);e.defs(s,"$name",n=function(){return"stderr"},n.$$arity=0),e.defs(s,"$capture",i=function(e){var t=$,r=$;null==o.stderr&&(o.stderr=$);try{return t=l.get("StringIO").$new(),r=o.stderr,o.stderr=t,e.$call(),t.$string()}finally{o.stderr=r}},i.$$arity=1)}(l.base)}(l.base)}(l.base)}(n.base)},Opal.modules["rspec/matchers/built_in/raise_error"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$include","$===","$raise_message_already_set","$call","$values_match?","$verify_message","$eval_block","$expectation_matched?","$prevent_invalid_expectations","$!","$matches?","$message","$expected_error","$given_error","$private","$error_and_message_match?","$block_matches?","$[]","$nil?","$expecting_specific_exception?","$new","$raise","$description_of","$inspect","$backtrace_formatter","$configuration","$format_backtrace","$backtrace","$join","$!="]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S=n=$(t,$super,"RaiseError",n),E=S.$$proto,R=S.$$scope;return E.expected_message=E.block=E.expected_error=E.actual_error=E.raised_expected_error=E.with_expected_message=E.eval_block=E.eval_block_passed=E.given_proc=r,S.$include(R.get("Composable")),e.defn(S,"$initialize",a=function(e,t){var n,$=this,i=a.$$p,o=i||r,s=r;return null==e&&(e=R.get("Exception")),null==t&&(t=r),a.$$p=null,$.block=o,$.actual_error=r,function(){return s=e,R.get("String")["$==="](s)||R.get("Regexp")["$==="](s)?(n=[R.get("Exception"),e],$.expected_error=n[0],$.expected_message=n[1],n):(n=[e,t],$.expected_error=n[0],$.expected_message=n[1],n)}()},a.$$arity=-1),e.defn(S,"$with_message",i=function(e){var t,n=this;return(t=n.expected_message)===r||null==t||t.$$is_boolean&&1!=t||n.$raise_message_already_set(),n.expected_message=e,n},i.$$arity=1),e.defn(S,"$matches?",o=function(t,n){var $,a,i,s=this,l=o.$$p,u=l||r;if(null==n&&(n=!1),o.$$p=null,s.given_proc=t,($=s.block)!==!1&&$!==r&&null!=$?$:s.block=u,s.raised_expected_error=!1,s.with_expected_message=!1,s.eval_block=!1,s.eval_block_passed=!1,($=R.get("Proc")["$==="](t))===r||null==$||$.$$is_boolean&&1!=$)return!1;try{t.$call()}catch(c){if(!e.rescue(c,[R.get("Exception")]))throw c;s.actual_error=c;try{($=s["$values_match?"](s.expected_error,s.actual_error))===r||null==$||$.$$is_boolean&&1!=$||(s.raised_expected_error=!0,s.with_expected_message=s.$verify_message())}finally{e.pop_exception()}}return n!==!1&&n!==r&&null!=n||(i=s.raised_expected_error,a=i!==!1&&i!==r&&null!=i?s.with_expected_message:i,($=a!==!1&&a!==r&&null!=a?s.block:a)===r||null==$||$.$$is_boolean&&1!=$||s.$eval_block()),s["$expectation_matched?"]()},o.$$arity=-2),e.defn(S,"$does_not_match?",s=function(e){var t,n=this;return n.$prevent_invalid_expectations(),t=n["$matches?"](e,"negative_expectation")["$!"](),t!==!1&&t!==r&&null!=t?R.get("Proc")["$==="](e):t},s.$$arity=1),e.defn(S,"$supports_block_expectations?",l=function(){return!0},l.$$arity=0),e.defn(S,"$expects_call_stack_jump?",u=function(){return!0},u.$$arity=0),e.defn(S,"$failure_message",c=function(){var e,t=this;return(e=t.eval_block)===r||null==e||e.$$is_boolean&&1!=e?"expected "+t.$expected_error()+t.$given_error():t.actual_error.$message()},c.$$arity=0),e.defn(S,"$failure_message_when_negated",_=function(){var e=this;return"expected no "+e.$expected_error()+e.$given_error()},_.$$arity=0),e.defn(S,"$description",p=function(){var e=this;return"raise "+e.$expected_error()},p.$$arity=0),S.$private(),e.defn(S,"$expectation_matched?",f=function(){var e,t=this;return e=t["$error_and_message_match?"](),e!==!1&&e!==r&&null!=e?t["$block_matches?"]():e},f.$$arity=0),e.defn(S,"$error_and_message_match?",d=function(){var e,t=this;return e=t.raised_expected_error,e!==!1&&e!==r&&null!=e?t.with_expected_message:e},d.$$arity=0),e.defn(S,"$block_matches?",h=function(){var e,t=this;return(e=t.eval_block)===r||null==e||e.$$is_boolean&&1!=e?!0:t.eval_block_passed},h.$$arity=0),e.defn(S,"$eval_block",g=function(){var t=this,n=r;t.eval_block=!0;try{return t.block["$[]"](t.actual_error),t.eval_block_passed=!0}catch($){if(!e.rescue($,[R.get("Exception")]))throw $;n=$;try{return t.actual_error=n}finally{e.pop_exception()}}},g.$$arity=0),e.defn(S,"$verify_message",m=function(){var e,t=this;return(e=t.expected_message["$nil?"]())===r||null==e||e.$$is_boolean&&1!=e?t["$values_match?"](t.expected_message,t.actual_error.$message()):!0},m.$$arity=0),e.defn(S,"$prevent_invalid_expectations",y=function(){var e,t,n=this,$=r,a=r;return $=function(){return t=n["$expecting_specific_exception?"](),(e=t!==!1&&t!==r&&null!=t?n.expected_message:t)===r||null==e||e.$$is_boolean&&1!=e?(e=n["$expecting_specific_exception?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=n.expected_message)===r||null==e||e.$$is_boolean&&1!=e?r:"`expect { }.not_to raise_error(message)`":"`expect { }.not_to raise_error(SpecificErrorClass)`":"`expect { }.not_to raise_error(SpecificErrorClass, message)`"}(),$===!1||$===r||null==$?r:(a=R.get("ArgumentError").$new(""+$+" is not valid, use `expect { }.not_to raise_error` (with no args) instead"),n.$raise(a))},y.$$arity=0),e.defn(S,"$expected_error",v=function(){var e=this,t=r;return function(){return t=e.expected_message,r["$==="](t)?e.$description_of(e.expected_error):R.get("Regexp")["$==="](t)?""+e.expected_error+" with message matching "+e.expected_message.$inspect():""+e.expected_error+" with "+e.$description_of(e.expected_message)}()},v.$$arity=0),e.defn(S,"$format_backtrace",b=function(e){var t=r;return t=R.get("Matchers").$configuration().$backtrace_formatter(),t.$format_backtrace(e)},b.$$arity=1),e.defn(S,"$given_error",x=function(){var t,n=this,$=r;return(t=R.get("Proc")["$==="](n.given_proc))===r||null==t||t.$$is_boolean&&1!=t?" but was not given a block":(t=n.actual_error)===r||null==t||t.$$is_boolean&&1!=t?" but nothing was raised":($=n.$format_backtrace(n.actual_error.$backtrace()),[", got "+n.actual_error.$inspect()+" with backtrace:"].concat(e.to_a($)).$join("\n  # "))},x.$$arity=0),e.defn(S,"$expecting_specific_exception?",w=function(){var e=this;return e.expected_error["$!="](R.get("Exception"))},w.$$arity=0),e.defn(S,"$raise_message_already_set",k=function(){var e=this;return e.$raise("`expect { }.to raise_error(message).with_message(message)` is not valid. The matcher only allows the expected message to be specified once")},k.$$arity=0),r&&"raise_message_already_set"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/respond_to"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_support","$empty?","$find_failing_method_names","$inspect","$join","$map","$with_arity","$sub","$failure_message","$pp_names","$private","$__send__","$respond_to?","$matches_arity?","$new","$method","$valid?","$==","$length","$first"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h,g=n=$(t,$super,"RespondTo",n),m=g.$$proto,y=g.$$scope;return m.actual=m.failing_method_names=m.names=m.expected_arity=r,e.defn(g,"$initialize",a=function(){var e,t=this,n=arguments.length,$=n-0;0>$&&($=0),e=new Array($);for(var a=0;n>a;a++)e[a-0]=arguments[a];return t.names=e,t.expected_arity=r},a.$$arity=-1),e.defn(g,"$with",i=function(e){var t=this;return t.expected_arity=e,t},i.$$arity=1),e.defn(g,"$argument",o=function(){var e=this;return e},o.$$arity=0),e.alias(g,"arguments","argument"),e.defn(g,"$matches?",s=function(e){var t=this;return t.$find_failing_method_names(e,"reject")["$empty?"]()},s.$$arity=1),e.defn(g,"$does_not_match?",l=function(e){var t=this;return t.$find_failing_method_names(e,"select")["$empty?"]()},l.$$arity=1),e.defn(g,"$failure_message",u=function(){var e,t,n,$=this;return"expected "+$.actual.$inspect()+" to respond to "+(e=(t=$.failing_method_names).$map,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),e.$inspect()},n.$$s=$,n.$$arity=1,n),e).call(t).$join(", ")+$.$with_arity()},u.$$arity=0),e.defn(g,"$failure_message_when_negated",c=function(){var e=this;return e.$failure_message().$sub(/to respond to/,"not to respond to")},c.$$arity=0),e.defn(g,"$description",_=function(){var e=this;return"respond to "+e.$pp_names()+e.$with_arity()},_.$$arity=0),g.$private(),e.defn(g,"$find_failing_method_names",p=function(e,t){var n,$,a,i=this;return i.actual=e,i.failing_method_names=(n=($=i.names).$__send__,n.$$p=(a=function(t){var n,$=a.$$s||this;return null==$.actual&&($.actual=r),null==t&&(t=r),n=$.actual["$respond_to?"](t),n!==!1&&n!==r&&null!=n?$["$matches_arity?"](e,t):n},a.$$s=i,a.$$arity=1,a),n).call($,t)},p.$$arity=2),e.defn(g,"$matches_arity?",f=function(e,t){var n,$=this,a=r;return(n=$.expected_arity)===r||null==n||n.$$is_boolean&&1!=n?!0:(a=y.get("Support").$$scope.get("MethodSignature").$new(e.$method(t)),y.get("Support").$$scope.get("StrictSignatureVerifier").$new(a,y.get("Array").$new($.expected_arity))["$valid?"]())},f.$$arity=2),e.defn(g,"$with_arity",d=function(){var e,t=this;return(e=t.expected_arity)===r||null==e||e.$$is_boolean&&1!=e?"":" with "+t.expected_arity+" argument"+function(){return t.expected_arity["$=="](1)?"":"s"}()},d.$$arity=0),e.defn(g,"$pp_names",h=function(){var e=this;return e.names.$length()["$=="](1)?"#"+e.names.$first():e.names.$inspect()},h.$$arity=0),r&&"pp_names"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/satisfy"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$call"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"BuiltIn"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"Satisfy",n),c=u.$$proto;u.$$scope;return c.block=c.actual=r,e.defn(u,"$initialize",a=function(){var e=this,t=a.$$p,n=t||r;return a.$$p=null,e.block=n},a.$$arity=0),e.defn(u,"$matches?",i=function(e){var t=this,n=i.$$p,$=n||r;return i.$$p=null,$!==!1&&$!==r&&null!=$&&(t.block=$),t.actual=e,t.block.$call(e)},i.$$arity=1),e.defn(u,"$failure_message",o=function(){var e=this;return"expected "+e.actual+" to satisfy block"},o.$$arity=0),e.defn(u,"$failure_message_when_negated",s=function(){var e=this;return"expected "+e.actual+" not to satisfy block"},s.$$arity=0),e.defn(u,"$description",l=function(){return"satisfy block"},l.$$arity=0),r&&"description"}(o.base,o.get("BaseMatcher"))}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/matchers/built_in/throw_symbol"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$include","$===","$nil?","$call","$catch","$throw","$==","$match","$message","$raise","$to_sym","$[]","$captures","$!","$values_match?","$matches?","$expected","$actual_result","$private","$caught","$throw_description","$is_a?","$inspect","$description_of","$+"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Matchers"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(r,$super){function $(){}var i,o,s,l,u,c,_,p,f,d,h,g,m=$=a(r,$super,"ThrowSymbol",$),y=m.$$proto,v=m.$$scope;return y.expected_symbol=y.caught_arg=y.caught_symbol=y.expected_arg=y.block=n,m.$include(v.get("Composable")),e.defn(m,"$initialize",i=function(e,t){var r=this;return null==e&&(e=n),null==t&&(t=n),r.expected_symbol=e,r.expected_arg=t,r.caught_symbol=r.caught_arg=n},i.$$arity=-1),e.defn(m,"$matches?",o=function(t){var r,$,a,i=this,o=n,s=n,l=n;if(i.block=t,(r=v.get("Proc")["$==="](t))===n||null==r||r.$$is_boolean&&1!=r)return!1;try{try{return(r=i.expected_symbol["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?(i.caught_arg=(r=($=i).$catch,r.$$p=(a=function(){var e,r,$,i=a.$$s||this;return null==i.expected_symbol&&(i.expected_symbol=n),(e=(r=i).$catch,e.$$p=($=function(){var e=$.$$s||this;return t.$call(),e.$throw("proc_did_not_throw_anything","nothing_thrown")},$.$$s=i,$.$$arity=0,$),e).call(r,i.expected_symbol)},a.$$s=i,a.$$arity=0,a),r).call($,"proc_did_not_throw_anything"),i.caught_arg["$=="]("nothing_thrown")?i.caught_arg=n:i.caught_symbol=i.expected_symbol):t.$call()}catch(u){if(e.rescue(u,[v.get("NameError"),v.get("ArgumentError")])){o=u;try{return((r=s=o.$message().$match(/uncaught throw (`|\:)([a-zA-Z0-9_]*)(')?/))===n||null==r||r.$$is_boolean&&1!=r)&&(l=o,i.$raise()),i.caught_symbol=s.$captures()["$[]"](1).$to_sym()}finally{e.pop_exception()}}else{if(!e.rescue(u,[v.get("StandardError")]))throw u;l=u;try{i.$raise()}finally{e.pop_exception()}}}}finally{if(l===!1||l===n||null==l)return(r=i.expected_symbol["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?(r=i.expected_arg["$nil?"]())===n||null==r||r.$$is_boolean&&1!=r?(r=i.caught_symbol["$=="](i.expected_symbol),r!==!1&&r!==n&&null!=r?i["$values_match?"](i.expected_arg,i.caught_arg):r):i.caught_symbol["$=="](i.expected_symbol):i.caught_symbol["$!"]()["$!"]()}},o.$$arity=1),e.defn(m,"$does_not_match?",s=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==n&&null!=t?v.get("Proc")["$==="](e):t},s.$$arity=1),e.defn(m,"$failure_message",l=function(){var e=this;return"expected "+e.$expected()+" to be thrown, "+e.$actual_result()},l.$$arity=0),e.defn(m,"$failure_message_when_negated",u=function(){var e,t=this;return"expected "+t.$expected("no Symbol")+function(){return(e=t.expected_symbol)===n||null==e||e.$$is_boolean&&1!=e?n:" not"}()+" to be thrown, "+t.$actual_result()},u.$$arity=0),e.defn(m,"$description",c=function(){var e=this;return"throw "+e.$expected()},c.$$arity=0),e.defn(m,"$supports_block_expectations?",_=function(){return!0},_.$$arity=0),e.defn(m,"$expects_call_stack_jump?",p=function(){return!0},p.$$arity=0),m.$private(),e.defn(m,"$actual_result",f=function(){var e,t=this;return(e=v.get("Proc")["$==="](t.block))===n||null==e||e.$$is_boolean&&1!=e?"but was not a block":"got "+t.$caught()},f.$$arity=0),e.defn(m,"$expected",d=function(e){var t,r=this;return null==e&&(e="a Symbol"),r.$throw_description((t=r.expected_symbol)!==!1&&t!==n&&null!=t?t:e,r.expected_arg)},d.$$arity=-1),e.defn(m,"$caught",h=function(){var e,t=this;return t.$throw_description((e=t.caught_symbol)!==!1&&e!==n&&null!=e?e:"nothing",t.caught_arg)},h.$$arity=0),e.defn(m,"$throw_description",g=function(e,r){var $,a,i=this,o=n,s=n;return o=function(){return($=e["$is_a?"](v.get("String")))===n||null==$||$.$$is_boolean&&1!=$?e.$inspect():e}(),s=function(){return r!==!1&&r!==n&&null!=r?" with "+i.$description_of(r):(a=i.expected_arg,($=a!==!1&&a!==n&&null!=a?i.caught_symbol["$=="](i.expected_symbol):a)===n||null==$||$.$$is_boolean&&1!=$?"":" with no argument")}(),t(o,s)},g.$$arity=2),n&&"throw_description"}(s.base,null)}(s.base)}(s.base)}(r.base)},Opal.modules["rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require_rspec_support","$new","$has_block?","$assert_valid_expect_block!","$call","$assert_used!","$attr_accessor","$num_yields=","$yielded_args=","$===","$+","$num_yields","$<<","$yielded_args","$first","$raise","$map","$==","$size","$>","$to_f","$valid?","$exactly","$set_expected_yields_count","$probe","$__send__","$yielded_once?","$!","$matches?","$failure_reason","$private","$human_readable_expecation_type","$human_readable_count","$empty?","$single_yield_args","$positive_failure_reason","$negative_failure_reason","$zero?","$inspect","$args_match?","$expected_arg_description","$join","$description_of","$all_args_match?","$surface_descriptions_in","$values_match?","$successive_yield_args"]),n.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(n){var o,s=o=a(n,"RSpec"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"Matchers"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"BuiltIn"),l=(s.$$proto,s.$$scope);!function(n,$super){function a(){}var o,s,l,u,c,_,p,f,d,h,g,m=a=i(n,$super,"YieldProbe",a),y=m.$$proto,v=m.$$scope;return y.block=y.used=$,e.defs(m,"$probe",o=function(e){var t,r=this,n=$;return n=r.$new(e),(t=n["$has_block?"]())===$||null==t||t.$$is_boolean&&1!=t?n:(n["$assert_valid_expect_block!"](),e.$call(n),n["$assert_used!"](),n)},o.$$arity=1),m.$attr_accessor("num_yields","yielded_args"),e.defn(m,"$initialize",s=function(e){var t,r=this;return r.block=e,r.used=!1,t=[0,[]],r["$num_yields="](t[0]),r["$yielded_args="](t[1]),t},s.$$arity=1),e.defn(m,"$has_block?",l=function(){var e=this;return v.get("Proc")["$==="](e.block)},l.$$arity=0),e.defn(m,"$to_proc",u=function(){var e,r,n,a=this,i=$;return a.used=!0,i=a,(e=(r=v.get("Proc")).$new,e.$$p=(n=function(){var e,r,a=(n.$$s||this,arguments.length),o=a-0;0>o&&(o=0),
e=new Array(o);for(var s=0;a>s;s++)e[s-0]=arguments[s];return r=i,r["$num_yields="](t(r.$num_yields(),1)),i.$yielded_args()["$<<"](e),$},n.$$s=a,n.$$arity=-1,n),e).call(r)},u.$$arity=0),e.defn(m,"$single_yield_args",c=function(){var e=this;return e.$yielded_args().$first()},c.$$arity=0),e.defn(m,"$yielded_once?",_=function(e){var t=this,r=$;return function(){return r=t.$num_yields(),1["$==="](r)?!0:0["$==="](r)?!1:t.$raise("The "+e+" matcher is not designed to be used with a method that yields multiple times. Use the yield_successive_args matcher for that case.")}()},_.$$arity=1),e.defn(m,"$successive_yield_args",p=function(){var e,t,r,n=this;return(e=(t=n.$yielded_args()).$map,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=$),e.$size()["$=="](1)?e.$first():e},r.$$s=n,r.$$arity=1,r),e).call(t)},p.$$arity=0),e.defn(m,"$assert_used!",f=function(){var e,t=this;return(e=t.used)===$||null==e||e.$$is_boolean&&1!=e?t.$raise("You must pass the argument yielded to your expect block on to the method-under-test as a block. It acts as a probe that allows the matcher to detect whether or not the method-under-test yields, and, if so, how many times, and what the yielded arguments are."):$},f.$$arity=0),(d=r(v.get("RUBY_VERSION").$to_f(),1.8))===$||null==d||d.$$is_boolean&&1!=d?(e.defn(m,"$assert_valid_expect_block!",g=function(){return $},g.$$arity=0),$&&"assert_valid_expect_block!"):(e.defn(m,"$assert_valid_expect_block!",h=function(){var e,t=this,r=$;return r=v.get("RSpec").$$scope.get("Support").$$scope.get("BlockSignature").$new(t.block),(e=v.get("RSpec").$$scope.get("Support").$$scope.get("StrictSignatureVerifier").$new(r,[t])["$valid?"]())===$||null==e||e.$$is_boolean&&1!=e?t.$raise("Your expect block must accept an argument to be used with this matcher. Pass the argument as a block on to the method you are testing."):$},h.$$arity=0),$&&"assert_valid_expect_block!")}(l.base,null),function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=n=i(r,$super,"YieldControl",n),k=w.$$proto,S=w.$$scope;return k.probe=k.expectation_type=k.expected_yields_count=$,e.defn(w,"$initialize",a=function(){var e=this;return e.expectation_type=$,e.expected_yields_count=$},a.$$arity=0),e.defn(w,"$once",o=function(){var e=this;return e.$exactly(1),e},o.$$arity=0),e.defn(w,"$twice",s=function(){var e=this;return e.$exactly(2),e},s.$$arity=0),e.defn(w,"$thrice",l=function(){var e=this;return e.$exactly(3),e},l.$$arity=0),e.defn(w,"$exactly",u=function(e){var t=this;return t.$set_expected_yields_count("==",e),t},u.$$arity=1),e.defn(w,"$at_most",c=function(e){var t=this;return t.$set_expected_yields_count("<=",e),t},c.$$arity=1),e.defn(w,"$at_least",_=function(e){var t=this;return t.$set_expected_yields_count(">=",e),t},_.$$arity=1),e.defn(w,"$times",p=function(){var e=this;return e},p.$$arity=0),e.defn(w,"$matches?",f=function(e){var t,r=this;return r.probe=S.get("YieldProbe").$probe(e),(t=r.probe["$has_block?"]())===$||null==t||t.$$is_boolean&&1!=t?!1:(t=r.expectation_type)===$||null==t||t.$$is_boolean&&1!=t?r.probe["$yielded_once?"]("yield_control"):r.probe.$num_yields().$__send__(r.expectation_type,r.expected_yields_count)},f.$$arity=1),e.defn(w,"$does_not_match?",d=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==$&&null!=t?r.probe["$has_block?"]():t},d.$$arity=1),e.defn(w,"$failure_message",h=function(){var e=this;return t("expected given block to yield control",e.$failure_reason())},h.$$arity=0),e.defn(w,"$failure_message_when_negated",g=function(){var e=this;return t("expected given block not to yield control",e.$failure_reason())},g.$$arity=0),e.defn(w,"$supports_block_expectations?",m=function(){return!0},m.$$arity=0),w.$private(),e.defn(w,"$set_expected_yields_count",y=function(e,t){var r=this,n=$;return r.expectation_type=e,r.expected_yields_count=function(){return n=t,S.get("Numeric")["$==="](n)?t:"once"["$==="](n)?1:"twice"["$==="](n)?2:"thrice"["$==="](n)?3:$}()},y.$$arity=2),e.defn(w,"$failure_reason",v=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?" but was not a block":(e=t.expected_yields_count)===$||null==e||e.$$is_boolean&&1!=e?"":" "+t.$human_readable_expecation_type()+t.$human_readable_count()},v.$$arity=0),e.defn(w,"$human_readable_expecation_type",b=function(){var e=this,t=$;return function(){return t=e.expectation_type,"<="["$==="](t)?"at most ":">="["$==="](t)?"at least ":""}()},b.$$arity=0),e.defn(w,"$human_readable_count",x=function(){var e=this,t=$;return function(){return t=e.expected_yields_count,1["$==="](t)?"once":2["$==="](t)?"twice":""+e.expected_yields_count+" times"}()},x.$$arity=0),$&&"human_readable_count"}(l.base,l.get("BaseMatcher")),function(t,$super){function r(){}var n,a,o,s,l,u,c,_=r=i(t,$super,"YieldWithNoArgs",r),p=_.$$proto,f=_.$$scope;return p.probe=$,e.defn(_,"$matches?",n=function(e){var t,r=this;return r.probe=f.get("YieldProbe").$probe(e),(t=r.probe["$has_block?"]())===$||null==t||t.$$is_boolean&&1!=t?!1:(t=r.probe["$yielded_once?"]("yield_with_no_args"),t!==!1&&t!==$&&null!=t?r.probe.$single_yield_args()["$empty?"]():t)},n.$$arity=1),e.defn(_,"$does_not_match?",a=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==$&&null!=t?r.probe["$has_block?"]():t},a.$$arity=1),e.defn(_,"$failure_message",o=function(){var e=this;return"expected given block to yield with no arguments, but "+e.$positive_failure_reason()},o.$$arity=0),e.defn(_,"$failure_message_when_negated",s=function(){var e=this;return"expected given block not to yield with no arguments, but "+e.$negative_failure_reason()},s.$$arity=0),e.defn(_,"$supports_block_expectations?",l=function(){return!0},l.$$arity=0),_.$private(),e.defn(_,"$positive_failure_reason",u=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?"was not a block":(e=t.probe.$num_yields()["$zero?"]())===$||null==e||e.$$is_boolean&&1!=e?"yielded with arguments: "+t.probe.$single_yield_args().$inspect():"did not yield"},u.$$arity=0),e.defn(_,"$negative_failure_reason",c=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?"was not a block":"did"},c.$$arity=0),$&&"negative_failure_reason"}(l.base,l.get("BaseMatcher")),function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f,d,h,g,m=n=i(r,$super,"YieldWithArgs",n),y=m.$$proto,v=m.$$scope;return y.probe=y.expected=y.positive_args_failure=y.actual=$,e.defn(m,"$initialize",a=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.expected=e},a.$$arity=-1),e.defn(m,"$matches?",o=function(e){var t,r=this;return r.probe=v.get("YieldProbe").$probe(e),(t=r.probe["$has_block?"]())===$||null==t||t.$$is_boolean&&1!=t?!1:(r.actual=r.probe.$single_yield_args(),t=r.probe["$yielded_once?"]("yield_with_args"),t!==!1&&t!==$&&null!=t?r["$args_match?"]():t)},o.$$arity=1),e.defn(m,"$does_not_match?",s=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==$&&null!=t?r.probe["$has_block?"]():t},s.$$arity=1),e.defn(m,"$failure_message",l=function(){var e=this;return"expected given block to yield with arguments, but "+e.$positive_failure_reason()},l.$$arity=0),e.defn(m,"$failure_message_when_negated",u=function(){var e=this;return"expected given block not to yield with arguments, but "+e.$negative_failure_reason()},u.$$arity=0),e.defn(m,"$description",c=function(){var e,t=this,r=$;return r="yield with args",((e=t.expected["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e)&&r["$<<"]("("+t.$expected_arg_description()+")"),r},c.$$arity=0),e.defn(m,"$supports_block_expectations?",_=function(){return!0},_.$$arity=0),m.$private(),e.defn(m,"$positive_failure_reason",p=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?"was not a block":(e=t.probe.$num_yields()["$zero?"]())===$||null==e||e.$$is_boolean&&1!=e?t.positive_args_failure:"did not yield"},p.$$arity=0),e.defn(m,"$expected_arg_description",f=function(){var e,t,r,n=this;return(e=(t=n.expected).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=$),t.$description_of(e)},r.$$s=n,r.$$arity=1,r),e).call(t).$join(", ")},f.$$arity=0),e.defn(m,"$negative_failure_reason",d=function(){var e,r=this;return(e=r.probe["$has_block?"]()["$!"]())===$||null==e||e.$$is_boolean&&1!=e?(e=r["$all_args_match?"]())===$||null==e||e.$$is_boolean&&1!=e?"did":t("yielded with expected arguments\nexpected not: "+r.$surface_descriptions_in(r.expected).$inspect(),"\n         got: "+r.actual.$inspect()):"was not a block"},d.$$arity=0),e.defn(m,"$args_match?",h=function(){var e,r=this,n=$;return(e=r.expected["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e?(((e=n=r["$all_args_match?"]())===$||null==e||e.$$is_boolean&&1!=e)&&(r.positive_args_failure=t("yielded with unexpected arguments\nexpected: "+r.$surface_descriptions_in(r.expected).$inspect(),"\n     got: "+r.actual.$inspect())),n):((e=r.actual["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e||(r.positive_args_failure="yielded with no arguments"),r.actual["$empty?"]()["$!"]())},h.$$arity=0),e.defn(m,"$all_args_match?",g=function(){var e=this;return e["$values_match?"](e.expected,e.actual)},g.$$arity=0),$&&"all_args_match?"}(l.base,l.get("BaseMatcher")),function(t,$super){function r(){}var n,a,o,s,l,u,c,_,p,f,d,h=r=i(t,$super,"YieldSuccessiveArgs",r),g=h.$$proto,m=h.$$scope;return g.probe=g.expected=g.actual=$,e.defn(h,"$initialize",n=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.expected=e},n.$$arity=-1),e.defn(h,"$matches?",a=function(e){var t,r=this;return r.probe=m.get("YieldProbe").$probe(e),(t=r.probe["$has_block?"]())===$||null==t||t.$$is_boolean&&1!=t?!1:(r.actual=r.probe.$successive_yield_args(),r["$args_match?"]())},a.$$arity=1),e.defn(h,"$does_not_match?",o=function(e){var t,r=this;return t=r["$matches?"](e)["$!"](),t!==!1&&t!==$&&null!=t?r.probe["$has_block?"]():t},o.$$arity=1),e.defn(h,"$failure_message",s=function(){var e=this;return"expected given block to yield successively with arguments, but "+e.$positive_failure_reason()},s.$$arity=0),e.defn(h,"$failure_message_when_negated",l=function(){var e=this;return"expected given block not to yield successively with arguments, but "+e.$negative_failure_reason()},l.$$arity=0),e.defn(h,"$description",u=function(){var e=this,t=$;return t="yield successive args",t["$<<"]("("+e.$expected_arg_description()+")"),t},u.$$arity=0),e.defn(h,"$supports_block_expectations?",c=function(){return!0},c.$$arity=0),h.$private(),e.defn(h,"$args_match?",_=function(){var e=this;return e["$values_match?"](e.expected,e.actual)},_.$$arity=0),e.defn(h,"$expected_arg_description",p=function(){var e,t,r,n=this;return(e=(t=n.expected).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=$),t.$description_of(e)},r.$$s=n,r.$$arity=1,r),e).call(t).$join(", ")},p.$$arity=0),e.defn(h,"$positive_failure_reason",f=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?"was not a block":"yielded with unexpected arguments\nexpected: "+t.$surface_descriptions_in(t.expected).$inspect()+("\n     got: "+t.actual.$inspect())},f.$$arity=0),e.defn(h,"$negative_failure_reason",d=function(){var e,t=this;return(e=t.probe["$has_block?"]())===$||null==e||e.$$is_boolean&&1!=e?"was not a block":"yielded with expected arguments\nexpected not: "+t.$surface_descriptions_in(t.expected).$inspect()+("\n         got: "+t.actual.$inspect())},d.$$arity=0),$&&"negative_failure_reason"}(l.base,l.get("BaseMatcher"))}(l.base)}(l.base)}(n.base)},Opal.modules["rspec/matchers/built_in"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$require_rspec_matchers","$autoload"]),t.get("RSpec").$$scope.get("Support").$require_rspec_matchers("built_in/base_matcher"),function(e){var t,n=t=r(e,"RSpec"),$=(n.$$proto,n.$$scope);!function(e){var t,n=t=r(e,"Matchers"),$=(n.$$proto,n.$$scope);!function(e){var t,n=t=r(e,"BuiltIn");n.$$proto,n.$$scope;n.$autoload("BeAKindOf","rspec/matchers/built_in/be_kind_of"),n.$autoload("BeAnInstanceOf","rspec/matchers/built_in/be_instance_of"),n.$autoload("BeBetween","rspec/matchers/built_in/be_between"),n.$autoload("Be","rspec/matchers/built_in/be"),n.$autoload("BeComparedTo","rspec/matchers/built_in/be"),n.$autoload("BeFalsey","rspec/matchers/built_in/be"),n.$autoload("BeNil","rspec/matchers/built_in/be"),n.$autoload("BePredicate","rspec/matchers/built_in/be"),n.$autoload("BeTruthy","rspec/matchers/built_in/be"),n.$autoload("BeWithin","rspec/matchers/built_in/be_within"),n.$autoload("Change","rspec/matchers/built_in/change"),n.$autoload("Compound","rspec/matchers/built_in/compound"),n.$autoload("ContainExactly","rspec/matchers/built_in/contain_exactly"),n.$autoload("Cover","rspec/matchers/built_in/cover"),n.$autoload("EndWith","rspec/matchers/built_in/start_and_end_with"),n.$autoload("Eq","rspec/matchers/built_in/eq"),n.$autoload("Eql","rspec/matchers/built_in/eql"),n.$autoload("Equal","rspec/matchers/built_in/equal"),n.$autoload("Exist","rspec/matchers/built_in/exist"),n.$autoload("Has","rspec/matchers/built_in/has"),n.$autoload("HaveAttributes","rspec/matchers/built_in/have_attributes"),n.$autoload("Include","rspec/matchers/built_in/include"),n.$autoload("All","rspec/matchers/built_in/all"),n.$autoload("Match","rspec/matchers/built_in/match"),n.$autoload("NegativeOperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("OperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("Output","rspec/matchers/built_in/output"),n.$autoload("PositiveOperatorMatcher","rspec/matchers/built_in/operators"),n.$autoload("RaiseError","rspec/matchers/built_in/raise_error"),n.$autoload("RespondTo","rspec/matchers/built_in/respond_to"),n.$autoload("Satisfy","rspec/matchers/built_in/satisfy"),n.$autoload("StartWith","rspec/matchers/built_in/start_and_end_with"),n.$autoload("ThrowSymbol","rspec/matchers/built_in/throw_symbol"),n.$autoload("YieldControl","rspec/matchers/built_in/yield"),n.$autoload("YieldSuccessiveArgs","rspec/matchers/built_in/yield"),n.$autoload("YieldWithArgs","rspec/matchers/built_in/yield"),n.$autoload("YieldWithNoArgs","rspec/matchers/built_in/yield")}($.base)}($.base)}(t.base)},Opal.modules["rspec/matchers/built_in/base_matcher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$include","$freeze","$new","$attr_reader","$equal?","$match","$expected","$empty?","$unshift","$name_to_sentence","$to_sentence","$private","$any?","$-","$present_ivars","$raise","$name","$class","$<","$to_f","$map","$to_sym","$instance_variables","$inspect","$actual","$description","$==","$owner","$method"]),function(n){var o,s=o=a(n,"RSpec"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"Matchers"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"BuiltIn"),l=(s.$$proto,s.$$scope);!function(n,$super){function o(){}var s,l,u,c,_,p,f,d,h,g,m=o=i(n,$super,"BaseMatcher",o),y=m.$$proto,v=m.$$scope;return y.expected=$,m.$include(v.get("RSpec").$$scope.get("Matchers").$$scope.get("Pretty")),m.$include(v.get("RSpec").$$scope.get("Matchers").$$scope.get("Composable")),e.cdecl(v,"UNDEFINED",v.get("Object").$new().$freeze()),m.$attr_reader("actual","expected","rescued_exception"),e.defn(m,"$initialize",s=function(e){var t,r=this;return null==e&&(e=v.get("UNDEFINED")),(t=v.get("UNDEFINED")["$equal?"](e))===$||null==t||t.$$is_boolean&&1!=t?r.expected=e:$},s.$$arity=-1),e.defn(m,"$matches?",l=function(e){var t=this;return t.actual=e,t.$match(t.$expected(),e)},l.$$arity=1),e.defn(m,"$match_unless_raises",u=function(){var t,r,n=this,a=u.$$p,i=a||$,o=arguments.length,s=o-0;0>s&&(s=0),r=new Array(s);for(var l=0;o>l;l++)r[l-0]=arguments[l];u.$$p=null,(t=r["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t||r.$unshift(v.get("Exception"));try{return e.yieldX(i,[]),!0}catch(c){if(!e.rescue(c,[r]))throw c;n.rescued_exception=c;try{return!1}finally{e.pop_exception()}}},u.$$arity=-1),e.defn(m,"$description",c=function(){var e,t,r=this;return t=r.expected,(e=null!=t&&t!==$?"instance-variable":$)===$||null==e||e.$$is_boolean&&1!=e?r.$name_to_sentence():""+r.$name_to_sentence()+r.$to_sentence(r.expected)},c.$$arity=0),e.defn(m,"$diffable?",_=function(){return!1},_.$$arity=0),e.defn(m,"$supports_block_expectations?",p=function(){return!1},p.$$arity=0),e.defn(m,"$expects_call_stack_jump?",f=function(){return!1},f.$$arity=0),m.$private(),e.defn(m,"$assert_ivars",d=function(){var e,r,n=this,a=arguments.length,i=a-0;0>i&&(i=0),r=new Array(i);for(var o=0;a>o;o++)r[o-0]=arguments[o];return(e=t(r,n.$present_ivars())["$any?"]())===$||null==e||e.$$is_boolean&&1!=e?$:n.$raise(""+n.$class().$name()+" needs to supply"+n.$to_sentence(r))},d.$$arity=-1),(h=r(v.get("RUBY_VERSION").$to_f(),1.9))===$||null==h||h.$$is_boolean&&1!=h?e.alias(m,"present_ivars","instance_variables"):e.defn(m,"$present_ivars",g=function(){var e,t,r,n=this;return(e=(t=n.$instance_variables()).$map,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=$),e.$to_sym()},r.$$s=n,r.$$arity=1,r),e).call(t)},g.$$arity=0),function(t){var r,n,$,i,o=r=a(t,"DefaultFailureMessages"),s=(o.$$proto,o.$$scope);e.defn(o,"$failure_message",n=function(){var e=this;return"expected "+e.$actual().$inspect()+" to "+e.$description()},n.$$arity=0),e.defn(o,"$failure_message_when_negated",$=function(){var e=this;return"expected "+e.$actual().$inspect()+" not to "+e.$description()},$.$$arity=0),e.defs(o,"$has_default_failure_messages?",i=function(t){var r,n=this;try{return(r=t.$method("failure_message").$owner()["$=="](n))?t.$method("failure_message_when_negated").$owner()["$=="](n):t.$method("failure_message").$owner()["$=="](n)}catch($){if(!e.rescue($,[s.get("NameError")]))throw $;try{return!1}finally{e.pop_exception()}}},i.$$arity=1)}(v.base),m.$include(v.get("DefaultFailureMessages"))}(l.base,null)}(l.base)}(l.base)}(n.base)},Opal.modules["rspec/matchers/composable"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$require_rspec_support","$new","$matches?","$private","$with_matchers_cloned","$values_match?","$is_a_describable_matcher?","$description","$inspect","$===","$[]","$surface_descriptions_in","$to_a","$enumerable?","$map","$is_a_matcher?","$clone","$include?","$ancestors","$module_function","$item","$text"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("fuzzy_matcher"),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a=$=n(t,"Matchers"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s,l,u,c,_,p,f,d,h,g=$=n(t,"Composable"),m=(g.$$proto,g.$$scope);e.defn(g,"$and",a=function(e){var t=this;return m.get("BuiltIn").$$scope.get("Compound").$$scope.get("And").$new(t,e)},a.$$arity=1),e.alias(g,"&","and"),e.defn(g,"$or",i=function(e){var t=this;return m.get("BuiltIn").$$scope.get("Compound").$$scope.get("Or").$new(t,e)},i.$$arity=1),e.alias(g,"|","or"),e.defn(g,"$===",o=function(e){var t=this;return t["$matches?"](e)},o.$$arity=1),g.$private(),e.defn(g,"$values_match?",s=function(e,t){var r=this;return e=r.$with_matchers_cloned(e),m.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](e,t)},s.$$arity=2),e.defn(g,"$description_of",l=function(e){var t;return(t=m.get("Matchers")["$is_a_describable_matcher?"](e))===r||null==t||t.$$is_boolean&&1!=t?e.$inspect():e.$description()},l.$$arity=1),e.defn(g,"$surface_descriptions_in",u=function(t){var n,$,a,i=this;if(!((n=m.get("Matchers")["$is_a_describable_matcher?"](t))===r||null==n||n.$$is_boolean&&1!=n))return m.get("DescribableItem").$new(t);if(!((n=m.get("Hash")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n))return m.get("Hash")["$[]"](i.$surface_descriptions_in(t.$to_a()));if(!((n=m.get("Struct")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n))return t.$inspect();if((n=i["$enumerable?"](t))===r||null==n||n.$$is_boolean&&1!=n)return t;try{return(n=($=t).$map,n.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=r),t.$surface_descriptions_in(e)},a.$$s=i,a.$$arity=1,a),n).call($)}catch(o){if(!e.rescue(o,[m.get("IOError")]))throw o;try{return t.$inspect()}finally{e.pop_exception()}}},u.$$arity=1),e.defn(g,"$with_matchers_cloned",c=function(t){var n,$,a,i=this;if(!((n=m.get("Matchers")["$is_a_matcher?"](t))===r||null==n||n.$$is_boolean&&1!=n))return t.$clone();if(!((n=m.get("Hash")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n))return m.get("Hash")["$[]"](i.$with_matchers_cloned(t.$to_a()));if(!((n=m.get("Struct")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n))return t;if((n=i["$enumerable?"](t))===r||null==n||n.$$is_boolean&&1!=n)return t;try{return(n=($=t).$map,n.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=r),t.$with_matchers_cloned(e)},a.$$s=i,a.$$arity=1,a),n).call($)}catch(o){if(!e.rescue(o,[m.get("IOError")]))throw o;try{return t}finally{e.pop_exception()}}},c.$$arity=1),(_=m.get("String").$ancestors()["$include?"](m.get("Enumerable")))===r||null==_||_.$$is_boolean&&1!=_?e.defn(g,"$enumerable?",f=function(e){return m.get("Enumerable")["$==="](e)},f.$$arity=1):e.defn(g,"$enumerable?",p=function(e){var t;return(t=m.get("String")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?m.get("Enumerable")["$==="](e):!1},p.$$arity=1),g.$module_function("surface_descriptions_in","enumerable?"),e.cdecl(m,"DescribableItem",(_=(d=m.get("Struct")).$new,_.$$p=(h=function(){var t,n,$=h.$$s||this;return e.def($,"$inspect",t=function(){var e=this;return"("+e.$item().$description()+")"},t.$$arity=0),e.def($,"$pretty_print",n=function(e){var t=this;return e.$text("("+t.$item().$description()+")")},n.$$arity=1),r&&"pretty_print"},h.$$s=g,h.$$arity=0,h),_).call(d,"item"))}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/matchers/dsl"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.hash2,i=e.klass;return e.add_stubs(["$define_method","$new","$alias_method","$respond_to?","$configure","$extend","$define_user_override","$actual_arg_for","$to_proc","$push","$private","$__send__","$lambda","$deprecate","$match","$match_when_negated","$failure_message","$failure_message_when_negated","$include","$name_to_sentence","$to_sentence","$expected","$chained_method_clause_sentences","$include_chain_clauses_in_custom_matcher_descriptions?","$configuration","$join","$map","$split_words","$attr_reader","$class_exec","$==","$size","$expected_as_array","$[]","$name","$class","$>=","$to_f","$zero?","$arity"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Matchers"),l=(s.$$proto,s.$$scope);!function(r){var o,s,l,u,c,_=o=$(r,"DSL"),p=(_.$$proto,_.$$scope);e.defn(_,"$define",s=function(t){var r,$,a,i=this,o=s.$$p,l=o||n;return s.$$p=null,(r=($=i).$define_method,r.$$p=(a=function(){var r,n,$=a.$$s||this,i=arguments.length,o=i-0;0>o&&(o=0),r=new Array(o);for(var s=0;i>s;s++)r[s-0]=arguments[s];return(n=p.get("RSpec").$$scope.get("Matchers").$$scope.get("DSL").$$scope.get("Matcher")).$new.apply(n,[t,l,$].concat(e.to_a(r)))},a.$$s=i,a.$$arity=-1,a),r).call($,t)},s.$$arity=1),_.$alias_method("matcher","define"),(l=p.get("RSpec")["$respond_to?"]("configure"))===n||null==l||l.$$is_boolean&&1!=l||(l=(u=p.get("RSpec")).$configure,l.$$p=(c=function(e){var t=c.$$s||this;return null==e&&(e=n),e.$extend(t)},c.$$s=_,c.$$arity=1,c),l).call(u),function(t){var r,i,o,s,l,u,c,_,p,f,d,h=r=$(t,"Macros"),g=(h.$$proto,h.$$scope);e.defn(h,"$match",i=function(){var t,r,$,a=this,o=i.$$p,s=o||n;return i.$$p=null,(t=(r=a).$define_user_override,t.$$p=($=function(t){var r,a,o=$.$$s||this;null==t&&(t=n);try{return o.actual=t,(a=o,r=e.find_iter_super_dispatcher(o,"match",$.$$def||i,!1,!1),r.$$p=null,r).apply(a,e.to_a(o.$actual_arg_for(s)))}catch(l){if(!e.rescue(l,[g.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError")]))throw l;try{return!1}finally{e.pop_exception()}}},$.$$s=a,$.$$arity=1,$),t).call(r,"matches?",s)},i.$$arity=0),e.defn(h,"$match_when_negated",o=function(){var t,r,$,a=this,i=o.$$p,s=i||n;return o.$$p=null,(t=(r=a).$define_user_override,t.$$p=($=function(t){var r,a,i=$.$$s||this;return null==t&&(t=n),i.actual=t,(a=i,r=e.find_iter_super_dispatcher(i,"match_when_negated",$.$$def||o,!1,!1),r.$$p=null,r).apply(a,e.to_a(i.$actual_arg_for(s)))},$.$$s=a,$.$$arity=1,$),t).call(r,"does_not_match?",s)},o.$$arity=0),e.defn(h,"$match_unless_raises",s=function(t){var r,$,a,i=this,o=s.$$p,l=o||n;return null==t&&(t=g.get("Exception")),s.$$p=null,(r=($=i).$define_user_override,r.$$p=(a=function(r){var $,i,o=a.$$s||this;null==r&&(r=n),o.actual=r;var u=!0;try{return(i=o,$=e.find_iter_super_dispatcher(o,"match_unless_raises",a.$$def||s,!1,!1),$.$$p=null,$).apply(i,e.to_a(o.$actual_arg_for(l)))}catch(c){if(u=!1,!e.rescue(c,[t]))throw c;o.rescued_exception=c;try{return!1}finally{e.pop_exception()}}finally{if(u)return function(){return!0}()}},a.$$s=i,a.$$arity=1,a),r).call($,"matches?",l)},s.$$arity=-1),e.defn(h,"$failure_message",l=function(){var e=this,t=l.$$p,r=t||n;return l.$$p=null,e.$define_user_override("failure_message",r)},l.$$arity=0),e.defn(h,"$failure_message_when_negated",u=function(){var e=this,t=u.$$p,r=t||n;return u.$$p=null,e.$define_user_override("failure_message_when_negated",r)},u.$$arity=0),e.defn(h,"$description",c=function(){var e=this,t=c.$$p,r=t||n;return c.$$p=null,e.$define_user_override("description",r)},c.$$arity=0),e.defn(h,"$diffable",_=function(){var e,t,r,n=this;return(e=(t=n).$define_method,e.$$p=(r=function(){r.$$s||this;return!0},r.$$s=n,r.$$arity=0,r),e).call(t,"diffable?")},_.$$arity=0),e.defn(h,"$supports_block_expectations",p=function(){var e,t,r,n=this;return(e=(t=n).$define_method,e.$$p=(r=function(){r.$$s||this;return!0},r.$$s=n,r.$$arity=0,r),e).call(t,"supports_block_expectations?")},p.$$arity=0),e.defn(h,"$chain",f=function(t){var r,$,a,i=this,o=f.$$p,s=o||n;return f.$$p=null,(r=($=i).$define_user_override,r.$$p=(a=function(){var r,$,i,o,s=a.$$s||this;null==s.chained_method_clauses&&(s.chained_method_clauses=n),r=a.$$p||n,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(o=s,i=e.find_iter_super_dispatcher(s,"chain",a.$$def||f,!1,!1),i.$$p=r.$to_proc(),i).apply(o,e.to_a($)),s.chained_method_clauses.$push([t,$]),s},a.$$s=i,a.$$arity=-1,a),r).call($,t,s)},f.$$arity=1),h.$private(),e.defn(h,"$define_user_override",d=function(t,r){var $,a,i,o,s,l=this,u=d.$$p,c=u||n;return null==l.user_method_defs&&(l.user_method_defs=n),d.$$p=null,($=(a=l.user_method_defs).$__send__,$.$$p=r.$to_proc(),$).call(a,"define_method",t),($=c)!==!1&&$!==n&&null!=$?$:c=(i=(o=l).$lambda,i.$$p=(s=function(){var t,n,$=s.$$s||this;return(n=$,t=e.find_iter_super_dispatcher($,"define_user_override",s.$$def||d,!1,!1),t.$$p=null,t).apply(n,e.to_a($.$actual_arg_for(r)))},s.$$s=l,s.$$arity=0,s),i).call(o),($=(i=l).$define_method,$.$$p=c.$to_proc(),$).call(i,t)},d.$$arity=2),function(t){var r,i,o,s,l,u=r=$(t,"Deprecated"),c=(u.$$proto,u.$$scope);e.defn(u,"$match_for_should",i=function(){var e,t,r=this,$=i.$$p,o=$||n;return i.$$p=null,c.get("RSpec").$deprecate("`match_for_should`",a(["replacement"],{replacement:"`match`"})),(e=(t=r).$match,e.$$p=o.$to_proc(),e).call(t)},i.$$arity=0),e.defn(u,"$match_for_should_not",o=function(){var e,t,r=this,$=o.$$p,i=$||n;return o.$$p=null,c.get("RSpec").$deprecate("`match_for_should_not`",a(["replacement"],{replacement:"`match_when_negated`"})),(e=(t=r).$match_when_negated,e.$$p=i.$to_proc(),e).call(t)},o.$$arity=0),e.defn(u,"$failure_message_for_should",s=function(){var e,t,r=this,$=s.$$p,i=$||n;return s.$$p=null,c.get("RSpec").$deprecate("`failure_message_for_should`",a(["replacement"],{replacement:"`failure_message`"})),(e=(t=r).$failure_message,e.$$p=i.$to_proc(),e).call(t)},s.$$arity=0),e.defn(u,"$failure_message_for_should_not",l=function(){var e,t,r=this,$=l.$$p,i=$||n;return l.$$p=null,c.get("RSpec").$deprecate("`failure_message_for_should_not`",a(["replacement"],{replacement:"`failure_message_when_negated`"})),(e=(t=r).$failure_message_when_negated,e.$$p=i.$to_proc(),e).call(t)},l.$$arity=0)}(g.base)}(p.base),function(t){var r,a,i,o,s,l,u=r=$(t,"DefaultImplementations"),c=(u.$$proto,u.$$scope);u.$include(c.get("BuiltIn").$$scope.get("BaseMatcher").$$scope.get("DefaultFailureMessages")),e.defn(u,"$diffable?",a=function(){return!1},a.$$arity=0),e.defn(u,"$description",i=function(){var e=this;return""+e.$name_to_sentence()+e.$to_sentence(e.$expected())+e.$chained_method_clause_sentences()},i.$$arity=0),e.defn(u,"$supports_block_expectations?",o=function(){return!1},o.$$arity=0),e.defn(u,"$expects_call_stack_jump?",s=function(){return!1},s.$$arity=0),u.$private(),e.defn(u,"$chained_method_clause_sentences",l=function(){var t,r,$,a=this;return null==a.chained_method_clauses&&(a.chained_method_clauses=n),(t=c.get("Expectations").$configuration()["$include_chain_clauses_in_custom_matcher_descriptions?"]())===n||null==t||t.$$is_boolean&&1!=t?"":(t=(r=a.chained_method_clauses).$map,t.$$p=($=function(t){var r,a,i,o=$.$$s||this;return null==t&&(t=n),t=e.to_ary(t),r=e.slice.call(t,0,t.length),a=r.splice(0,1)[0],null==a&&(a=n),i=r.splice(0,1)[0],null==i&&(i=n)," "+o.$split_words(a)+o.$to_sentence(i)},$.$$s=a,$.$$arity=1,$.$$has_top_level_mlhs_arg=!0,$),t).call(r).$join()},l.$$arity=0)}(p.base),function(r,$super){function $(){}var a,o,s,l,u,c,_,p,f=$=i(r,$super,"Matcher",$),d=f.$$proto,h=f.$$scope;return d.matcher_execution_context=d.actual=n,f.$include(h.get("DefaultImplementations")),f.$include(h.get("RSpec").$$scope.get("Matchers")),f.$include(h.get("RSpec").$$scope.get("Matchers").$$scope.get("Pretty")),f.$include(h.get("Composable")),f.$extend(h.get("Macros")),f.$extend(h.get("Macros").$$scope.get("Deprecated")),f.$attr_reader("actual"),f.$attr_reader("rescued_exception"),e.defn(f,"$initialize",a=function(t,r,$){var a,i,o,s=this,l=arguments.length,u=l-3;0>u&&(u=0),o=new Array(u);for(var c=3;l>c;c++)o[c-3]=arguments[c];return s.name=t,s.actual=n,s.expected_as_array=o,s.matcher_execution_context=$,s.chained_method_clauses=[],(a=(i=function(e){var t=e.$$scope;e.$$proto;return e.$include(e.user_method_defs=t.get("Module").$new()),e}(e.get_singleton_class(s))).$class_exec,a.$$p=r.$to_proc(),a).apply(i,e.to_a(o))},a.$$arity=-4),e.defn(f,"$expected",o=function(){var e=this;return e.$expected_as_array().$size()["$=="](1)?e.$expected_as_array()["$[]"](0):e.$expected_as_array()},o.$$arity=0),f.$attr_reader("expected_as_array"),e.defn(f,"$inspect",s=function(){var e=this;return"#<"+e.$class().$name()+" "+e.$name()+">"},s.$$arity=0),(l=t(h.get("RUBY_VERSION").$to_f(),1.9))===n||null==l||l.$$is_boolean&&1!=l?e.defn(f,"$respond_to?",c=function(t,r){var $,a,i,o=this,s=c.$$p,l=n,u=n;for(null==r&&(r=!1),c.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return($=(i=o,a=e.find_super_dispatcher(o,"respond_to?",c,!1),a.$$p=s,a).apply(i,l))!==!1&&$!==n&&null!=$?$:o.matcher_execution_context["$respond_to?"](t,r)},c.$$arity=-2):e.defn(f,"$respond_to_missing?",u=function(t,r){var $,a,i,o=this,s=u.$$p,l=n,c=n;for(null==r&&(r=!1),u.$$p=null,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return($=(i=o,a=e.find_super_dispatcher(o,"respond_to_missing?",u,!1),a.$$p=s,a).apply(i,l))!==!1&&$!==n&&null!=$?$:o.matcher_execution_context["$respond_to?"](t,r)},u.$$arity=-2),f.$private(),e.defn(f,"$actual_arg_for",_=function(e){var t,r=this;return(t=e.$arity()["$zero?"]())===n||null==t||t.$$is_boolean&&1!=t?[r.actual]:[]},_.$$arity=1),e.defn(f,"$method_missing",p=function(t){var r,$,a,i,o=this,s=p.$$p,l=s||n,u=arguments.length,c=u-1;0>c&&(c=0),i=new Array(c);for(var _=1;u>_;_++)i[_-1]=arguments[_];return p.$$p=null,(r=o.matcher_execution_context["$respond_to?"](t))===n||null==r||r.$$is_boolean&&1!=r?(a=o,r=e.find_super_dispatcher(o,"method_missing",p,!1),r.$$p=l.$to_proc(),r).apply(a,[t].concat(e.to_a(i))):(r=($=o.matcher_execution_context).$__send__,r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i)))},p.$$arity=-2),n&&"method_missing"}(p.base,null)}(l.base)}(l.base)}(r.base),r.get("RSpec").$$scope.get("Matchers").$extend(r.get("RSpec").$$scope.get("Matchers").$$scope.get("DSL"))},Opal.modules["rspec/matchers/generated_descriptions"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$attr_accessor","$last_matcher=","$last_expectation_handler=","$nil?","$last_expectation_handler","$verb","$last_description","$private","$respond_to?","$last_matcher","$description"]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s=$=n(t,"Matchers");
s.$$proto,s.$$scope;!function(e){e.$$scope,e.$$proto;return e.$attr_accessor("last_matcher","last_expectation_handler")}(e.get_singleton_class(s)),e.defs(s,"$clear_generated_description",a=function(){var e,t,n=this;return e=[r],t=n,t["$last_matcher="].apply(t,e),e[e.length-1],e=[r],t=n,t["$last_expectation_handler="].apply(t,e),e[e.length-1]},a.$$arity=0),e.defs(s,"$generated_description",i=function(){var e,t=this;return(e=t.$last_expectation_handler()["$nil?"]())===r||null==e||e.$$is_boolean&&1!=e?""+t.$last_expectation_handler().$verb()+" "+t.$last_description():r},i.$$arity=0),s.$private(),e.defs(s,"$last_description",o=function(){var e,t=this;return(e=t.$last_matcher()["$respond_to?"]("description"))===r||null==e||e.$$is_boolean&&1!=e?"When you call a matcher in an example without a String, like this:\n\nspecify { expect(object).to matcher }\n\nor this:\n\nit { is_expected.to matcher }\n\nRSpec expects the matcher to have a #description method. You should either\nadd a String to the example this matcher is being used in, or give it a\ndescription method. Then you won't have to suffer this lengthy warning again.\n":t.$last_matcher().$description()},o.$$arity=0)}(i.base)}(t.base)},Opal.modules["rspec/matchers/matcher_delegator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$include","$attr_reader","$__send__","$to_proc","$base_matcher","$>","$to_f","$respond_to?","$clone"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Matchers"),s=(o.$$proto,o.$$scope);!function(r,$super){function $(){}var i,o,s,l,u,c,_=$=a(r,$super,"MatcherDelegator",$),p=_.$$proto,f=_.$$scope;return p.base_matcher=n,_.$include(f.get("Composable")),_.$attr_reader("base_matcher"),e.defn(_,"$initialize",i=function(e){var t=this;return t.base_matcher=e},i.$$arity=1),e.defn(_,"$method_missing",o=function(){var t,r,$,a=this,i=o.$$p,s=i||n,l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return o.$$p=null,(t=(r=a.$base_matcher()).$__send__,t.$$p=s.$to_proc(),t).apply(r,e.to_a($))},o.$$arity=-1),(s=t(e.get("RUBY_VERSION").$to_f(),1.8))===n||null==s||s.$$is_boolean&&1!=s?e.defn(_,"$respond_to?",u=function(t,r){var $,a,i,o=this,s=u.$$p,l=n,c=n;for(null==r&&(r=!1),u.$$p=null,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return($=(i=o,a=e.find_super_dispatcher(o,"respond_to?",u,!1),a.$$p=s,a).apply(i,l))!==!1&&$!==n&&null!=$?$:o.$base_matcher()["$respond_to?"](t,r)},u.$$arity=-2):e.defn(_,"$respond_to_missing?",l=function(t,r){var $,a,i,o=this,s=l.$$p,u=n,c=n;for(null==r&&(r=!1),l.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return($=(i=o,a=e.find_super_dispatcher(o,"respond_to_missing?",l,!1),a.$$p=s,a).apply(i,u))!==!1&&$!==n&&null!=$?$:o.$base_matcher()["$respond_to?"](t,r)},l.$$arity=-2),e.defn(_,"$initialize_copy",c=function(){var t,r,$=this,a=c.$$p,i=n,o=n;for(c.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $.base_matcher=$.base_matcher.$clone(),(r=$,t=e.find_super_dispatcher($,"initialize_copy",c,!1),t.$$p=a,t).apply(r,i)},c.$$arity=1),n&&"initialize_copy"}(s.base,null)}(s.base)}(r.base)},Opal.modules["rspec/matchers/pretty"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.range;return e.add_stubs(["$gsub","$to_s","$module_function","$!","$===","$inspect","$map","$to_word","$Array","$length","$[]","$join","$is_matcher_with_description?","$description","$split_words","$name","$underscore","$last","$split","$class","$dup","$gsub!","$tr!","$downcase!","$private","$is_a_matcher?","$respond_to?"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s,l,u,c,_,p,f=a=n(t,"Pretty"),d=(f.$$proto,f.$$scope);e.defn(f,"$split_words",i=function(e){return e.$to_s().$gsub(/_/," ")},i.$$arity=1),f.$module_function("split_words"),e.defn(f,"$to_sentence",o=function(e){var t,n,a,i=this,o=r;return(t=(n=e["$!"]())!==!1&&n!==r&&null!=n?n:d.get("Struct")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?(e=(t=(n=i.$Array(e)).$map,t.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=r),t.$to_word(e)},a.$$s=i,a.$$arity=1,a),t).call(n),function(){return o=e.$length(),0["$==="](o)?"":1["$==="](o)?" "+e["$[]"](0):2["$==="](o)?" "+e["$[]"](0)+" and "+e["$[]"](1):" "+e["$[]"]($(0,-1,!0)).$join(", ")+", and "+e["$[]"](-1)}()):" "+e.$inspect()},o.$$arity=1),e.defn(f,"$to_word",s=function(e){var t,n=this;return(t=n["$is_matcher_with_description?"](e))===r||null==t||t.$$is_boolean&&1!=t?e.$inspect():e.$description()},s.$$arity=1),e.defn(f,"$name_to_sentence",l=function(){var e=this;return e.$split_words(e.$name())},l.$$arity=0),e.defn(f,"$name",u=function(){var e,t,n=this;return null==n.name&&(n.name=r),t=n.name,(e=null!=t&&t!==r?"instance-variable":r)===r||null==e||e.$$is_boolean&&1!=e?n.$underscore(n.$class().$name().$split("::").$last()):n.name},u.$$arity=0),e.defn(f,"$underscore",c=function(e){var t=r;return t=e.$to_s().$dup(),t["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),t["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),t["$tr!"]("-","_"),t["$downcase!"](),t},c.$$arity=1),f.$private(),e.defn(f,"$is_matcher_with_description?",_=function(e){var t;return t=d.get("RSpec").$$scope.get("Matchers")["$is_a_matcher?"](e),t!==!1&&t!==r&&null!=t?e["$respond_to?"]("description"):t},_.$$arity=1),e.defn(f,"$improve_hash_formatting",p=function(e){return e.$gsub(/(\S)=>(\S)/,"\\1 => \\2")},p.$$arity=1)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$define_method","$record","$to_proc","$include","$create_message_expectation_on","$inject","$__send__","$last","$first","$messages","$any?","$==","$args_match?","$negated?","$raise_double_negation_error","$new","$private","$empty?","$verify_invocation_order","$<<","$unshift"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"AnyInstance"),o=(i.$$proto,i.$$scope);!function(t,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h,g=a=$(t,$super,"Chain",a),m=g.$$proto,y=g.$$scope;return m.argument_list_matcher=m.messages=r,e.defn(g,"$initialize",i=function(e){var t,n=this,$=i.$$p,a=$||r,o=arguments.length,s=o-1;0>s&&(s=0),t=new Array(s);for(var l=1;o>l;l++)t[l-1]=arguments[l];return i.$$p=null,n.recorder=e,n.expectation_args=t,n.expectation_block=a,n.argument_list_matcher=y.get("ArgumentListMatcher").$$scope.get("MATCH_ALL")},i.$$arity=-2),function(t){var $,a,i=$=n(t,"Customizations");i.$$proto,i.$$scope;e.defs(i,"$record",a=function(t){var n,$,a,i=this;return(n=($=i).$define_method,n.$$p=(a=function(){var n,$,i,o,s=a.$$s||this;n=a.$$p||r,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(i=(o=s).$record,i.$$p=n.$to_proc(),i).apply(o,[t].concat(e.to_a($)))},a.$$s=i,a.$$arity=-1,a),n).call($,t)},a.$$arity=1),i.$record("and_return"),i.$record("and_raise"),i.$record("and_throw"),i.$record("and_yield"),i.$record("and_call_original"),i.$record("with"),i.$record("once"),i.$record("twice"),i.$record("thrice"),i.$record("exactly"),i.$record("times"),i.$record("never"),i.$record("at_least"),i.$record("at_most")}(y.base),g.$include(y.get("Customizations")),e.defn(g,"$playback!",o=function(t){var n,$,a,i=this,o=r;return o=i.$create_message_expectation_on(t),(n=($=i.$messages()).$inject,n.$$p=(a=function(t,n){var $,i;a.$$s||this;return null==t&&(t=r),null==n&&(n=r),($=(i=t).$__send__,$.$$p=n.$last().$to_proc(),$).apply(i,e.to_a(n.$first()))},a.$$s=i,a.$$arity=2,a),n).call($,o)},o.$$arity=1),e.defn(g,"$constrained_to_any_of?",s=function(){var e,t,n,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=$)["$any?"],e.$$p=(n=function(e){var t,$,a,i=n.$$s||this;return null==e&&(e=r),(t=($=i.$messages())["$any?"],t.$$p=(a=function(t){a.$$s||this;return null==t&&(t=r),t.$first().$first()["$=="](e)},a.$$s=i,a.$$arity=1,a),t).call($)},n.$$s=a,n.$$arity=1,n),e).call(t)},s.$$arity=-1),e.defn(g,"$matches_args?",l=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n.argument_list_matcher)["$args_match?"].apply(t,e.to_a(r))},l.$$arity=-1),e.defn(g,"$expectation_fulfilled!",u=function(){var e=this;return e.expectation_fulfilled=!0},u.$$arity=0),e.defn(g,"$never",c=function(){var t,n,$=this,a=c.$$p,i=r,o=r;for(c.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(t=$["$negated?"]())===r||null==t||t.$$is_boolean&&1!=t||y.get("ErrorGenerator").$raise_double_negation_error("expect_any_instance_of(MyClass)"),(n=$,t=e.find_super_dispatcher($,"never",c,!1),t.$$p=a,t).apply(n,i)},c.$$arity=0),e.defn(g,"$with",_=function(){var t,n,$,a,i=this,o=_.$$p,s=r,l=r,u=arguments.length,c=u-0;0>c&&(c=0),a=new Array(c);for(var p=0;u>p;p++)a[p-0]=arguments[p];for(_.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return i.argument_list_matcher=(t=y.get("ArgumentListMatcher")).$new.apply(t,e.to_a(a)),($=i,n=e.find_super_dispatcher(i,"with",_,!1),n.$$p=o,n).apply($,s)},_.$$arity=-1),g.$private(),e.defn(g,"$negated?",p=function(){var t,n,$,a=this;return(t=(n=a.$messages())["$any?"],t.$$p=($=function(t,n){var a,i,n;$.$$s||this;return null==t&&(t=r),t=e.to_ary(t),a=e.slice.call(t,0,t.length),i=a.splice(0,1)[0],null==i&&(i=r),n=0<a.length?a.splice(0,a.length-0):[],null==n&&(n=r),i["$=="]("never")},$.$$s=a,$.$$arity=2,$.$$has_top_level_mlhs_arg=!0,$),t).call(n)},p.$$arity=0),e.defn(g,"$messages",f=function(){var e,t=this;return(e=t.messages)!==!1&&e!==r&&null!=e?e:t.messages=[]},f.$$arity=0),e.defn(g,"$last_message",d=function(){var e,t=this;return(e=t.$messages()["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e?t.$messages().$last().$first().$first():r},d.$$arity=0),e.defn(g,"$record",h=function(t){var n,$,a,i=this,o=h.$$p,s=o||r,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var c=1;l>c;c++)a[c-1]=arguments[c];return h.$$p=null,(n=($=i).$verify_invocation_order,n.$$p=s.$to_proc(),n).apply($,[t].concat(e.to_a(a))),i.$messages()["$<<"]([a.$unshift(t),s]),i},h.$$arity=-2),r&&"record"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/expect_chain_chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$tap","$private","$expect_chain_on","$to_proc"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"AnyInstance"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c=n=$(t,$super,"ExpectChainChain",n),_=c.$$proto;c.$$scope;return _.expectation_fulfilled=_.expectation_block=_.expectation_args=_.invocation_order=r,e.defn(c,"$initialize",i=function(){var t,n,$,a=this,o=i.$$p,s=r,l=r,u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(n=a,t=e.find_super_dispatcher(a,"initialize",i,!1),t.$$p=o,t).apply(n,s),a.expectation_fulfilled=!1},i.$$arity=-1),e.defn(c,"$expectation_fulfilled?",o=function(){var e=this;return e.expectation_fulfilled},o.$$arity=0),e.defn(c,"$playback!",s=function(){var t,n,$,a,i,o=this,l=s.$$p,u=r,c=r;for(s.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(t=(n=(i=o,a=e.find_super_dispatcher(o,"playback!",s,!1),a.$$p=l,a).apply(i,u)).$tap,t.$$p=($=function(){var e=$.$$s||this;return e.expectation_fulfilled=!0},$.$$s=o,$.$$arity=0,$),t).call(n)},s.$$arity=1),c.$private(),e.defn(c,"$create_message_expectation_on",l=function(t){var r,n,$=this;return(r=(n=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExpectChain")).$expect_chain_on,r.$$p=$.expectation_block.$to_proc(),r).apply(n,[t].concat(e.to_a($.expectation_args)))},l.$$arity=1),e.defn(c,"$invocation_order",u=function(){var e,t=this;return(e=t.invocation_order)!==!1&&e!==r&&null!=e?e:t.invocation_order=a(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},u.$$arity=0),r&&"invocation_order"}(s.base,s.get("StubChain"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/expectation_chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$constrained_to_any_of?","$private","$proxy_for","$space","$merge","$add_message_expectation","$to_proc","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"AnyInstance"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var a,i,o,s=n=$(t,$super,"ExpectationChain",n),l=s.$$proto;s.$$scope;return l.expectation_fulfilled=r,e.defn(s,"$expectation_fulfilled?",a=function(){var e,t=this;return(e=t.expectation_fulfilled)!==!1&&e!==r&&null!=e?e:t["$constrained_to_any_of?"]("never")},a.$$arity=0),e.defn(s,"$initialize",i=function(){var t,n,$,a=this,o=i.$$p,s=r,l=r,u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a.expectation_fulfilled=!1,(n=a,t=e.find_super_dispatcher(a,"initialize",i,!1),t.$$p=o,t).apply(n,s)},i.$$arity=-1),s.$private(),e.defn(s,"$verify_invocation_order",o=function(){var e,t=(o.$$p,arguments.length),n=t-1;0>n&&(n=0),e=new Array(n);for(var $=1;t>$;$++)e[$-1]=arguments[$];return o.$$p=null,r},o.$$arity=-2),r&&"verify_invocation_order"}(s.base,s.get("Chain")),function(t,$super){function n(){}var i,o,s=n=$(t,$super,"PositiveExpectationChain",n),l=s.$$proto,u=s.$$scope;return l.expectation_args=l.expectation_block=l.invocation_order=r,s.$private(),e.defn(s,"$create_message_expectation_on",i=function(t){var n,$,i=this,o=r,s=r,l=r,c=r;return o=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),$=i.expectation_args,n=e.to_ary($),s=null==n[0]?r:n[0],l=null==n[1]?r:n[1],$,l=((n=l)!==!1&&n!==r&&null!=n?n:a([],{})).$merge(a(["expected_form"],{expected_form:u.get("IGNORED_BACKTRACE_LINE")})),c=(n=($=o).$add_message_expectation,n.$$p=i.expectation_block.$to_proc(),n).call($,s,l),(n=u.get("RSpec").$$scope.get("Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===r||null==n||n.$$is_boolean&&1!=n||c.$and_yield_receiver_to_implementation(),c},i.$$arity=1),e.defn(s,"$invocation_order",o=function(){var e,t=this;return(e=t.invocation_order)!==!1&&e!==r&&null!=e?e:t.invocation_order=a(["with","and_return","and_raise"],{"with":[r],and_return:["with",r],and_raise:["with",r]})},o.$$arity=0),r&&"invocation_order"}(s.base,s.get("ExpectationChain"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/message_chains"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$new","$[]=","$[]","$<<","$reject!","$===","$find","$each","$!","$expectation_fulfilled?","$matches_args?","$all?","$compact","$map","$last","$to_s","$expectation_fulfilled!","$raise_if_second_instance_to_receive_message","$playback!","$private","$equal?","$raise","$join","$sort","$unfulfilled_expectations"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"AnyInstance"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"MessageChains",n),g=h.$$proto,m=h.$$scope;return g.chains_by_method_name=g.instance_with_expectation=r,e.defn(h,"$initialize",a=function(){var e,t,n,$=this;return $.chains_by_method_name=(e=(t=m.get("Hash")).$new,e.$$p=(n=function(e,t){n.$$s||this;return null==e&&(e=r),null==t&&(t=r),e["$[]="](t,[])},n.$$s=$,n.$$arity=2,n),e).call(t)},a.$$arity=0),e.defn(h,"$[]",i=function(e){var t=this;return t.chains_by_method_name["$[]"](e)},i.$$arity=1),e.defn(h,"$add",o=function(e,t){var r=this;return r.chains_by_method_name["$[]"](e)["$<<"](t),t},o.$$arity=2),e.defn(h,"$remove_stub_chains_for!",s=function(e){var t,n,$,a=this;return(t=(n=a.chains_by_method_name["$[]"](e))["$reject!"],t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),m.get("StubChain")["$==="](e)},$.$$s=a,$.$$arity=1,$),t).call(n)},s.$$arity=1),e.defn(h,"$has_expectation?",l=function(e){var t,n,$,a=this;return(t=(n=a.chains_by_method_name["$[]"](e)).$find,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),m.get("ExpectationChain")["$==="](e)},$.$$s=a,$.$$arity=1,$),t).call(n)},l.$$arity=1),e.defn(h,"$each_unfulfilled_expectation_matching",u=function(t){var n,$,a,i,o=this,s=u.$$p,l=s||r,c=arguments.length,_=c-1;0>_&&(_=0),i=new Array(_);for(var p=1;c>p;p++)i[p-1]=arguments[p];return u.$$p=null,(n=($=o.chains_by_method_name["$[]"](t)).$each,n.$$p=(a=function(t){var n,$,o;a.$$s||this;return null==t&&(t=r),$=t["$expectation_fulfilled?"]()["$!"](),(n=$!==!1&&$!==r&&null!=$?(o=t)["$matches_args?"].apply(o,e.to_a(i)):$)===r||null==n||n.$$is_boolean&&1!=n?r:e.yield1(l,t)},a.$$s=o,a.$$arity=1,a),n).call($)},u.$$arity=-2),e.defn(h,"$all_expectations_fulfilled?",c=function(){var e,t,n,$=this;return(e=(t=$.chains_by_method_name)["$all?"],e.$$p=(n=function(e,t){var $,a,i,o=n.$$s||this;return null==e&&(e=r),null==t&&(t=r),($=(a=t)["$all?"],$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=r),e["$expectation_fulfilled?"]()},i.$$s=o,i.$$arity=1,i),$).call(a)},n.$$s=$,n.$$arity=2,n),e).call(t)},c.$$arity=0),e.defn(h,"$unfulfilled_expectations",_=function(){var e,t,n,$=this;return(e=(t=$.chains_by_method_name).$map,e.$$p=(n=function(e,t){var $;n.$$s||this;return null==e&&(e=r),null==t&&(t=r),($=t.$last()["$expectation_fulfilled?"]())===r||null==$||$.$$is_boolean&&1!=$?($=m.get("ExpectationChain")["$==="](t.$last()))===r||null==$||$.$$is_boolean&&1!=$?r:e.$to_s():r},n.$$s=$,n.$$arity=2,n),e).call(t).$compact()},_.$$arity=0),e.defn(h,"$received_expected_message!",p=function(e){var t,n,$,a=this;return(t=(n=a.chains_by_method_name["$[]"](e)).$each,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),e["$expectation_fulfilled!"]()},$.$$s=a,$.$$arity=1,$),t).call(n)},p.$$arity=1),e.defn(h,"$playback!",f=function(e,t){var n,$,a,i=this;return i.$raise_if_second_instance_to_receive_message(e),(n=($=i.chains_by_method_name["$[]"](t)).$each,n.$$p=(a=function(t){a.$$s||this;return null==t&&(t=r),t["$playback!"](e)},a.$$s=i,a.$$arity=1,a),n).call($)},f.$$arity=2),h.$private(),e.defn(h,"$raise_if_second_instance_to_receive_message",d=function(e){var t,n=this;return(t=m.get("ExpectationChain")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t||((t=n.instance_with_expectation)!==!1&&t!==r&&null!=t?t:n.instance_with_expectation=e),(t=m.get("ExpectationChain")["$==="](e))===r||null==t||t.$$is_boolean&&1!=t?r:(t=n.instance_with_expectation["$equal?"](e))===r||null==t||t.$$is_boolean&&1!=t?n.$raise(m.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+n.$unfulfilled_expectations().$sort().$join(", ")):r},d.$$arity=1),r&&"raise_if_second_instance_to_receive_message"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/proxy"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$klass","$===","$each","$and_return","$stub","$perform_proxying","$add_stub","$to_proc","$remove_stub_if_present","$stub_chain_on","$object","$expect_chain_on","$never","$add_message_expectation","$private","$__send__","$map","$new","$+","$>","$to_f","$respond_to?","$first"]),function(n){var o,s=o=a(n,"RSpec"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"Mocks"),l=(s.$$proto,s.$$scope);!function(n){var o,s=o=a(n,"AnyInstance"),l=(s.$$proto,s.$$scope);!function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f,d=n=i(r,$super,"Proxy",n),h=d.$$proto,g=d.$$scope;return h.recorder=h.target_proxies=$,e.defn(d,"$initialize",a=function(e,t){var r=this;return r.recorder=e,r.target_proxies=t},a.$$arity=2),e.defn(d,"$klass",o=function(){var e=this;return e.recorder.$klass()},o.$$arity=0),e.defn(d,"$stub",s=function(e){var t,r,n,a,i,o=this,l=s.$$p,u=l||$;return s.$$p=null,(t=g.get("Hash")["$==="](e))===$||null==t||t.$$is_boolean&&1!=t?(t=(a=o).$perform_proxying,t.$$p=(i=function(t){var r,n;i.$$s||this;return null==t&&(t=$),(r=(n=t).$add_stub,r.$$p=u.$to_proc(),r).call(n,e)},i.$$s=o,i.$$arity=1,i),t).call(a,"stub",[e],u):(t=(r=e).$each,t.$$p=(n=function(e,t){var r=n.$$s||this;return null==e&&(e=$),null==t&&(t=$),r.$stub(e).$and_return(t)},n.$$s=o,n.$$arity=2,n),t).call(r)},s.$$arity=1),e.defn(d,"$unstub",l=function(e){var t,r,n,a=this;return(t=(r=a).$perform_proxying,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),t.$remove_stub_if_present(e)},n.$$s=a,n.$$arity=1,n),t).call(r,"unstub",[e],$)},l.$$arity=1),e.defn(d,"$stub_chain",u=function(){var t,r,n,a,i=this,o=u.$$p,s=o||$,l=arguments.length,c=l-0;0>c&&(c=0),a=new Array(c);for(var _=0;l>_;_++)a[_-0]=arguments[_];return u.$$p=null,(t=(r=i).$perform_proxying,t.$$p=(n=function(t){var r,i;n.$$s||this;return null==t&&(t=$),(r=(i=g.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,r.$$p=s.$to_proc(),r).apply(i,[t.$object()].concat(e.to_a(a)))},n.$$s=i,n.$$arity=1,n),t).call(r,"stub_chain",a,s)},u.$$arity=-1),e.defn(d,"$expect_chain",c=function(){var t,r,n,a,i=this,o=c.$$p,s=o||$,l=arguments.length,u=l-0;0>u&&(u=0),a=new Array(u);for(var _=0;l>_;_++)a[_-0]=arguments[_];return c.$$p=null,(t=(r=i).$perform_proxying,t.$$p=(n=function(t){var r,i;n.$$s||this;return null==t&&(t=$),(r=(i=g.get("Mocks").$$scope.get("ExpectChain")).$expect_chain_on,r.$$p=s.$to_proc(),r).apply(i,[t.$object()].concat(e.to_a(a)))},n.$$s=i,n.$$arity=1,n),t).call(r,"expect_chain",a,s)},c.$$arity=-1),e.defn(d,"$should_receive",_=function(e){var t,r,n,a=this,i=_.$$p,o=i||$;return _.$$p=null,(t=(r=a).$perform_proxying,t.$$p=(n=function(t){var r,a;n.$$s||this;return null==t&&(t=$),(r=(a=t).$add_stub,r.$$p=o.$to_proc(),r).call(a,e)},n.$$s=a,n.$$arity=1,n),t).call(r,"should_receive",[e],o)},_.$$arity=1),e.defn(d,"$should_not_receive",p=function(e){var t,r,n,a=this,i=p.$$p,o=i||$;return p.$$p=null,(t=(r=a).$perform_proxying,t.$$p=(n=function(t){var r,a;n.$$s||this;return null==t&&(t=$),(r=(a=t).$add_message_expectation,r.$$p=o.$to_proc(),r).call(a,e).$never()},n.$$s=a,n.$$arity=1,n),t).call(r,"should_not_receive",[e],o)},p.$$arity=1),d.$private(),e.defn(d,"$perform_proxying",f=function(r,n,a){var i,o,s,l=this,u=f.$$p,c=u||$,_=$,p=$;return f.$$p=null,_=(i=(o=l.recorder).$__send__,i.$$p=a.$to_proc(),i).apply(o,[r].concat(e.to_a(n))),p=(i=(s=l.target_proxies).$map,i.$$p=c.$to_proc(),i).call(s),g.get("FluentInterfaceProxy").$new(t([_],p))},f.$$arity=3),$&&"perform_proxying"}(l.base,null),function(t,$super){function n(){}var a,o,s,l,u,c=n=i(t,$super,"FluentInterfaceProxy",n),_=c.$$proto,p=c.$$scope;return _.targets=$,e.defn(c,"$initialize",a=function(e){var t=this;return t.targets=e},a.$$arity=1),(o=r(p.get("RUBY_VERSION").$to_f(),1.8))===$||null==o||o.$$is_boolean&&1!=o?e.defn(c,"$respond_to?",l=function(t,r){var n,a,i,o=this,s=l.$$p,u=$,c=$;for(null==r&&(r=!1),l.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(n=(i=o,a=e.find_super_dispatcher(o,"respond_to?",l,!1),a.$$p=s,a).apply(i,u))!==!1&&n!==$&&null!=n?n:o.targets.$first()["$respond_to?"](t,r)},l.$$arity=-2):e.defn(c,"$respond_to_missing?",s=function(t,r){var n,a,i,o=this,l=s.$$p,u=$,c=$;for(null==r&&(r=!1),s.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return(n=(i=o,a=e.find_super_dispatcher(o,"respond_to_missing?",s,!1),a.$$p=l,a).apply(i,u))!==!1&&n!==$&&null!=n?n:o.targets.$first()["$respond_to?"](t,r)},s.$$arity=-2),e.defn(c,"$method_missing",u=function(){var t,r,n,a,i=this,o=u.$$p,s=o||$,l=$,c=arguments.length,_=c-0;0>_&&(_=0),a=new Array(_);for(var f=0;c>f;f++)a[f-0]=arguments[f];return u.$$p=null,l=(t=(r=i.targets).$map,t.$$p=(n=function(t){var r,i;n.$$s||this;return null==t&&(t=$),(r=(i=t).$__send__,r.$$p=s.$to_proc(),r).apply(i,e.to_a(a))},n.$$s=i,n.$$arity=1,n),t).call(r),p.get("FluentInterfaceProxy").$new(l)},u.$$arity=-1),$&&"method_missing"}(l.base,null)}(l.base)}(l.base)}(n.base)},Opal.modules["rspec/mocks/any_instance/recorder"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$attr_reader","$new","$[]=","$observe!","$add","$message_chains","$to_proc","$normalize_chain","$never","$should_receive","$include?","$to_sym","$raise","$remove_stub_chains_for!","$clear","$[]","$stubs","$has_expectation?","$stop_observing!","$all_expectations_fulfilled?","$join","$sort","$unfulfilled_expectations","$each","$restore_method!","$ensure_registered","$space","$playback!","$received_expected_message!","$super_class_observing?","$each_unfulfilled_expectation_matching","$expectation_fulfilled!","$mark_invoked!","$protected","$delete","$any_instance_recorder_for","$super_class_observers_for","$private","$lambda","$==","$already_observing?","$select","$ancestor_is_an_observer?","$ancestors","$any?","$unshift","$reverse","$map","$split","$to_s","$shift","$first","$public_protected_or_private_method_defined?","$build_alias_method_name","$restore_original_method!","$remove_dummy_method!","$owner","$instance_method","$class_exec","$remove_method","$alias_method","$method_defined_at_any_visibility?","$allow_no_prepended_module_definition_of","$verify_partial_doubles?","$configuration","$<<","$backup_method!","$__send__","$instance_that_received","$class","$object_id","$instance_variable_get","$instance_variables","$module_prepends_supported?","$prepended_modules_of","$find","$method_defined?"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"AnyInstance"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q=n=$(t,$super,"Recorder",n),N=q.$$proto,P=q.$$scope;return N.observed_methods=N.expectation_set=N.played_methods=N.klass=r,q.$attr_reader("message_chains","stubs","klass"),e.defn(q,"$initialize",i=function(e){var t,n,$,i=this;return i.message_chains=P.get("MessageChains").$new(),i.stubs=(t=(n=P.get("Hash")).$new,t.$$p=($=function(e,t){$.$$s||this;return null==e&&(e=r),null==t&&(t=r),e["$[]="](t,[])},$.$$s=i,$.$$arity=2,$),t).call(n),i.observed_methods=[],i.played_methods=a([],{}),i.klass=e,i.expectation_set=!1},i.$$arity=1),e.defn(q,"$stub",o=function(e){var t,n,$=this,a=o.$$p,i=a||r;return o.$$p=null,$["$observe!"](e),$.$message_chains().$add(e,(t=(n=P.get("StubChain")).$new,t.$$p=i.$to_proc(),t).call(n,$,e))},o.$$arity=1),e.defn(q,"$stub_chain",s=function(){var t,n,$,a,i=this,o=s.$$p,l=o||r,u=arguments.length,c=u-0;0>c&&(c=0),a=new Array(c);for(var _=0;u>_;_++)a[_-0]=arguments[_];return s.$$p=null,(t=(n=i).$normalize_chain,t.$$p=($=function(t,n){var a,i,o=$.$$s||this;return null==t&&(t=r),null==n&&(n=r),o["$observe!"](t),o.$message_chains().$add(t,(a=(i=P.get("StubChainChain")).$new,a.$$p=l.$to_proc(),a).apply(i,[o].concat(e.to_a(n))))},$.$$s=i,$.$$arity=2,$),t).apply(n,e.to_a(a))},s.$$arity=-1),e.defn(q,"$expect_chain",l=function(){var t,n,$,a,i=this,o=l.$$p,s=o||r,u=arguments.length,c=u-0;0>c&&(c=0),a=new Array(c);for(var _=0;u>_;_++)a[_-0]=arguments[_];return l.$$p=null,i.expectation_set=!0,(t=(n=i).$normalize_chain,t.$$p=($=function(t,n){var a,i,o=$.$$s||this;return null==t&&(t=r),null==n&&(n=r),o["$observe!"](t),o.$message_chains().$add(t,(a=(i=P.get("ExpectChainChain")).$new,a.$$p=s.$to_proc(),a).apply(i,[o].concat(e.to_a(n))))},$.$$s=i,$.$$arity=2,$),t).apply(n,e.to_a(a))},l.$$arity=-1),e.defn(q,"$should_receive",u=function(e){var t,n,$=this,a=u.$$p,i=a||r;return u.$$p=null,$.expectation_set=!0,$["$observe!"](e),$.$message_chains().$add(e,(t=(n=P.get("PositiveExpectationChain")).$new,t.$$p=i.$to_proc(),t).call(n,$,e))},u.$$arity=1),e.defn(q,"$should_not_receive",c=function(e){var t,n,$=this,a=c.$$p,i=a||r;return c.$$p=null,(t=(n=$).$should_receive,t.$$p=i.$to_proc(),t).call(n,e).$never()},c.$$arity=1),e.defn(q,"$unstub",_=function(e){var t,n=this;return((t=n.observed_methods["$include?"](e.$to_sym()))===r||null==t||t.$$is_boolean&&1!=t)&&n.$raise(P.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"The method `"+e+"` was not stubbed or was already unstubbed"),n.$message_chains()["$remove_stub_chains_for!"](e),n.$stubs()["$[]"](e).$clear(),(t=n.$message_chains()["$has_expectation?"](e))===r||null==t||t.$$is_boolean&&1!=t?n["$stop_observing!"](e):r},_.$$arity=1),e.defn(q,"$verify",p=function(){var e,t=this;return(e=t.expectation_set)===r||null==e||e.$$is_boolean&&1!=e?r:(e=t.$message_chains()["$all_expectations_fulfilled?"]())===r||null==e||e.$$is_boolean&&1!=e?t.$raise(P.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Exactly one instance should have received the following message(s) but didn't: "+t.$message_chains().$unfulfilled_expectations().$sort().$join(", ")):r},p.$$arity=0),e.defn(q,"$stop_all_observation!",f=function(){var e,t,n,$=this;return(e=(t=$.observed_methods).$each,e.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=r),t["$restore_method!"](e)},n.$$s=$,n.$$arity=1,n),e).call(t)},f.$$arity=0),e.defn(q,"$playback!",d=function(e,t){var n,$=this;return P.get("RSpec").$$scope.get("Mocks").$space().$ensure_registered(e),$.$message_chains()["$playback!"](e,t),$.played_methods["$[]="](t,e),(n=$.$message_chains()["$has_expectation?"](t))===r||null==n||n.$$is_boolean&&1!=n?r:$["$received_expected_message!"](t)},d.$$arity=2),e.defn(q,"$instance_that_received",h=function(e){var t=this;return t.played_methods["$[]"](e)},h.$$arity=1),e.defn(q,"$build_alias_method_name",g=function(e){return"__"+e+"_without_any_instance__"},g.$$arity=1),e.defn(q,"$already_observing?",m=function(e){var t,n=this;return(t=n.observed_methods["$include?"](e))!==!1&&t!==r&&null!=t?t:n["$super_class_observing?"](e)},m.$$arity=1),e.defn(q,"$notify_received_message",y=function(t,n,$){var a,i,o,s=this,l=r;return l=!1,(a=(i=s.$message_chains()).$each_unfulfilled_expectation_matching,a.$$p=(o=function(e){o.$$s||this;return null==e&&(e=r),l=!0,e["$expectation_fulfilled!"]()},o.$$s=s,o.$$arity=1,o),a).apply(i,[n].concat(e.to_a($))),l===!1||l===r||null==l?r:(s["$restore_method!"](n),s["$mark_invoked!"](n))},y.$$arity=4),q.$protected(),e.defn(q,"$stop_observing!",v=function(t){var n,$,a,i=this;return i["$restore_method!"](t),i.observed_methods.$delete(t),(n=($=i.$super_class_observers_for(t)).$each,n.$$p=(a=function(n){a.$$s||this;return null==n&&(n=r),e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(n)["$stop_observing!"](t)},a.$$s=i,a.$$arity=1,a),n).call($)},v.$$arity=1),q.$private(),e.defn(q,"$ancestor_is_an_observer?",b=function(t){var n,$,a,i=this;return(n=($=i).$lambda,n.$$p=(a=function(n){var $=a.$$s||this;return null==$.klass&&($.klass=r),null==n&&(n=r),n["$=="]($.klass)?r:e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(n)["$already_observing?"](t)},a.$$s=i,a.$$arity=1,a),n).call($)},b.$$arity=1),e.defn(q,"$super_class_observers_for",x=function(e){var t,r,n=this;return(t=(r=n.klass.$ancestors()).$select,t.$$p=n["$ancestor_is_an_observer?"](e).$to_proc(),t).call(r)},x.$$arity=1),e.defn(q,"$super_class_observing?",w=function(e){var t,r,n=this;return(t=(r=n.klass.$ancestors())["$any?"],t.$$p=n["$ancestor_is_an_observer?"](e).$to_proc(),t).call(r)},w.$$arity=1),e.defn(q,"$normalize_chain",k=function(){var t,n,$,a,i,o,s,l=this,u=k.$$p,c=u||r,_=arguments.length,p=_-0;0>p&&(p=0),s=new Array(p);for(var f=0;_>f;f++)s[f-0]=arguments[f];return k.$$p=null,(t=(n=(a=(i=s.$shift().$to_s().$split(".")).$map,a.$$p=(o=function(e){o.$$s||this;return null==e&&(e=r),e.$to_sym()},o.$$s=l,o.$$arity=1,o),a).call(i).$reverse()).$each,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),s.$unshift(e)},$.$$s=l,$.$$arity=1,$),t).call(n),e.yieldX(c,[s.$first(),s])},k.$$arity=-1),e.defn(q,"$received_expected_message!",S=function(e){var t=this;return t.$message_chains()["$received_expected_message!"](e),t["$restore_method!"](e),t["$mark_invoked!"](e)},S.$$arity=1),e.defn(q,"$restore_method!",E=function(e){var t,n=this;return(t=n["$public_protected_or_private_method_defined?"](n.$build_alias_method_name(e)))===r||null==t||t.$$is_boolean&&1!=t?n["$remove_dummy_method!"](e):n["$restore_original_method!"](e);
},E.$$arity=1),e.defn(q,"$restore_original_method!",R=function(e){var t,n,$,a=this,i=r;return a.klass.$instance_method(e).$owner()["$=="](a.klass)?(i=a.$build_alias_method_name(e),(t=(n=a.klass).$class_exec,t.$$p=($=function(){var t=$.$$s||this;return t.$remove_method(e),t.$alias_method(e,i),t.$remove_method(i)},$.$$s=a,$.$$arity=0,$),t).call(n)):r},R.$$arity=1),e.defn(q,"$remove_dummy_method!",A=function(e){var t,r,n,$=this;return(t=(r=$.klass).$class_exec,t.$$p=(n=function(){var t=n.$$s||this;return t.$remove_method(e)},n.$$s=$,n.$$arity=0,n),t).call(r)},A.$$arity=1),e.defn(q,"$backup_method!",O=function(e){var t,n,$,a=this,i=r;return i=a.$build_alias_method_name(e),(t=a["$public_protected_or_private_method_defined?"](e))===r||null==t||t.$$is_boolean&&1!=t?r:(t=(n=a.klass).$class_exec,t.$$p=($=function(){var t=$.$$s||this;return t.$alias_method(i,e)},$.$$s=a,$.$$arity=0,$),t).call(n)},O.$$arity=1),e.defn(q,"$public_protected_or_private_method_defined?",M=function(e){var t=this;return P.get("MethodReference")["$method_defined_at_any_visibility?"](t.klass,e)},M.$$arity=1),e.defn(q,"$observe!",T=function(t){var n,$,a,i=this,o=r;return i.$allow_no_prepended_module_definition_of(t),(n=P.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==n||n.$$is_boolean&&1!=n||((n=i["$public_protected_or_private_method_defined?"](t))===r||null==n||n.$$is_boolean&&1!=n)&&i.$raise(P.get("MockExpectationError"),""+i.klass+" does not implement #"+t),(n=i["$already_observing?"](t))===r||null==n||n.$$is_boolean&&1!=n||i["$stop_observing!"](t),i.observed_methods["$<<"](t),i["$backup_method!"](t),o=i,(n=($=i.klass).$__send__,n.$$p=(a=function(){var n,$,i,s,l=a.$$s||this;n=a.$$p||r,a.$$p=null;var u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];return o["$playback!"](l,t),(i=(s=l).$__send__,i.$$p=n.$to_proc(),i).apply(s,[t].concat(e.to_a($)))},a.$$s=i,a.$$arity=-1,a),n).call($,"define_method",t)},T.$$arity=1),e.defn(q,"$mark_invoked!",C=function(e){var t,n,$,a=this,i=r;return a["$backup_method!"](e),i=a,(t=(n=a.klass).$__send__,t.$$p=($=function(){var t,n,a,o,s,l=$.$$s||this,u=r,c=r;t=$.$$p||r,$.$$p=null;var _=arguments.length,p=_-0;0>p&&(p=0),n=new Array(p);for(var f=0;_>f;f++)n[f-0]=arguments[f];return u=i.$instance_that_received(e),c="#<"+l.$class()+":"+l.$object_id()+" "+(a=(o=l.$instance_variables()).$map,a.$$p=(s=function(e){var t=s.$$s||this;return null==e&&(e=r),""+e+"="+t.$instance_variable_get(e)},s.$$s=l,s.$$arity=1,s),a).call(o).$join(", ")+">",l.$raise(P.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"The message '"+e+"' was received by "+c+" but has already been received by "+u)},$.$$s=a,$.$$arity=-1,$),t).call(n,"define_method",e)},C.$$arity=1),(I=P.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==I||I.$$is_boolean&&1!=I?(e.defn(q,"$allow_no_prepended_module_definition_of",j=function(){return r},j.$$arity=1),r&&"allow_no_prepended_module_definition_of"):(e.defn(q,"$allow_no_prepended_module_definition_of",z=function(e){var t,n,$,a=this,i=r,o=r;return i=P.get("RSpec").$$scope.get("Mocks").$$scope.get("Proxy").$prepended_modules_of(a.klass),o=(t=(n=i).$find,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t["$method_defined?"](e)},$.$$s=a,$.$$arity=1,$),t).call(n),o===!1||o===r||null==o?r:a.$raise(P.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),"Using `any_instance` to stub a method ("+e+") that has been "+("defined on a prepended module ("+o+") is not supported."))},z.$$arity=1),r&&"allow_no_prepended_module_definition_of")}(s.base,null)}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/stub_chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$private","$proxy_for","$space","$merge","$add_stub","$to_proc","$<<","$[]","$stubs","$message","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation","$include?","$invocation_order","$last_message","$raise"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"AnyInstance"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u=n=$(t,$super,"StubChain",n),c=u.$$proto,_=u.$$scope;return c.expectation_args=c.expectation_block=c.recorder=c.invocation_order=r,e.defn(u,"$expectation_fulfilled?",i=function(){return!0},i.$$arity=0),u.$private(),e.defn(u,"$create_message_expectation_on",o=function(t){var n,$,i=this,o=r,s=r,l=r,u=r;return o=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t),$=i.expectation_args,n=e.to_ary($),s=null==n[0]?r:n[0],l=null==n[1]?r:n[1],$,l=((n=l)!==!1&&n!==r&&null!=n?n:a([],{})).$merge(a(["expected_form"],{expected_form:_.get("IGNORED_BACKTRACE_LINE")})),u=(n=($=o).$add_stub,n.$$p=i.expectation_block.$to_proc(),n).call($,s,l),i.recorder.$stubs()["$[]"](u.$message())["$<<"](u),(n=_.get("RSpec").$$scope.get("Mocks").$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===r||null==n||n.$$is_boolean&&1!=n||u.$and_yield_receiver_to_implementation(),u},o.$$arity=1),e.defn(u,"$invocation_order",s=function(){var e,t=this;return(e=t.invocation_order)!==!1&&e!==r&&null!=e?e:t.invocation_order=a(["with","and_return","and_raise","and_yield","and_call_original"],{"with":[r],and_return:["with",r],and_raise:["with",r],and_yield:["with",r],and_call_original:["with",r]})},s.$$arity=0),e.defn(u,"$verify_invocation_order",l=function(e){var t,n,$=this,a=(l.$$p,arguments.length),i=a-1;0>i&&(i=0),n=new Array(i);for(var o=1;a>o;o++)n[o-1]=arguments[o];return l.$$p=null,(t=$.$invocation_order()["$[]"](e)["$include?"]($.$last_message()))===r||null==t||t.$$is_boolean&&1!=t?$.$raise(_.get("NoMethodError"),"Undefined method "+e):r},l.$$arity=-2),r&&"verify_invocation_order"}(s.base,s.get("Chain"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/mocks/any_instance/stub_chain_chain"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$private","$stub_chain_on","$to_proc"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"AnyInstance"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l=n=$(t,$super,"StubChainChain",n),u=l.$$proto;l.$$scope;return u.expectation_block=u.expectation_args=u.invocation_order=r,e.defn(l,"$initialize",i=function(){var t,n,$,a=this,o=i.$$p,s=r,l=r,u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(n=a,t=e.find_super_dispatcher(a,"initialize",i,!1),t.$$p=o,t).apply(n,s),a.expectation_fulfilled=!1},i.$$arity=-1),l.$private(),e.defn(l,"$create_message_expectation_on",o=function(t){var r,n,$=this;return(r=(n=e.get("RSpec").$$scope.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,r.$$p=$.expectation_block.$to_proc(),r).apply(n,[t].concat(e.to_a($.expectation_args)))},o.$$arity=1),e.defn(l,"$invocation_order",s=function(){var e,t=this;return(e=t.invocation_order)!==!1&&e!==r&&null!=e?e:t.invocation_order=a(["and_return","and_raise","and_yield"],{and_return:[r],and_raise:[r],and_yield:[r]})},s.$$arity=0),r&&"invocation_order"}(s.base,s.get("StubChain"))}(s.base)}(s.base)}(t.base)},Opal.modules["rspec/support/matcher_definition"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$<<","$matcher_definitions","$delete","$any?","$call"]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s,l=$=n(t,"Support");l.$$proto,l.$$scope;e.defs(l,"$matcher_definitions",a=function(){var e,t=this;return null==t.matcher_definitions&&(t.matcher_definitions=r),(e=t.matcher_definitions)!==!1&&e!==r&&null!=e?e:t.matcher_definitions=[]},a.$$arity=0),e.defs(l,"$register_matcher_definition",i=function(){var e=this,t=i.$$p,n=t||r;return i.$$p=null,e.$matcher_definitions()["$<<"](n)},i.$$arity=0),e.defs(l,"$deregister_matcher_definition",o=function(){var e=this,t=o.$$p,n=t||r;return o.$$p=null,e.$matcher_definitions().$delete(n)},o.$$arity=0),e.defs(l,"$is_a_matcher?",s=function(e){var t,n,$,a=this;return(t=(n=a.$matcher_definitions())["$any?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t.$call(e)},$.$$s=a,$.$$arity=1,$),t).call(n)},s.$$arity=1)}(i.base)}(t.base)},Opal.modules["rspec/mocks/argument_matchers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.hash2,o=e.klass;return e.add_stubs(["$require","$new","$anythingize_lonely_keys","$===","$first","$==","$count","$alias_method","$class","$last","$delete_at","$each","$[]=","$__send__","$key?","$values_match?","$[]","$sub","$inspect","$superset?","$join","$all?","$respond_to?","$map","$to_proc","$instance_of?","$name","$kind_of?","$+","$register_matcher_definition","$include?"]),r.$require("rspec/support/matcher_definition"),function(r){var n,s=n=a(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var n,s=n=a(r,"Mocks"),l=(s.$$proto,s.$$scope);!function(r){var n,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=n=a(r,"ArgumentMatchers"),w=(x.$$proto,x.$$scope),k=$;e.defn(x,"$any_args",s=function(){return w.get("AnyArgsMatcher").$new()},s.$$arity=0),e.defn(x,"$anything",l=function(){return w.get("AnyArgMatcher").$new()},l.$$arity=0),e.defn(x,"$no_args",u=function(){return w.get("NoArgsMatcher").$new()},u.$$arity=0),e.defn(x,"$duck_type",c=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=w.get("DuckTypeMatcher")).$new.apply(t,e.to_a(r))},c.$$arity=-1),e.defn(x,"$boolean",_=function(){return w.get("BooleanMatcher").$new()},_.$$arity=0),e.defn(x,"$hash_including",p=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return w.get("HashIncludingMatcher").$new((t=w.get("ArgumentMatchers")).$anythingize_lonely_keys.apply(t,e.to_a(r)))},p.$$arity=-1),e.defn(x,"$array_including",f=function(){var e,t,r,n=$,a=arguments.length,i=a-0;0>i&&(i=0),r=new Array(i);for(var o=0;a>o;o++)r[o-0]=arguments[o];return n=function(){return t=w.get("Array")["$==="](r.$first()),(e=t!==!1&&t!==$&&null!=t?r.$count()["$=="](1):t)===$||null==e||e.$$is_boolean&&1!=e?r:r.$first()}(),w.get("ArrayIncludingMatcher").$new(n)},f.$$arity=-1),e.defn(x,"$hash_excluding",d=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return w.get("HashExcludingMatcher").$new((t=w.get("ArgumentMatchers")).$anythingize_lonely_keys.apply(t,e.to_a(r)))},d.$$arity=-1),x.$alias_method("hash_not_including","hash_excluding"),e.defn(x,"$instance_of",h=function(e){return w.get("InstanceOf").$new(e)},h.$$arity=1),x.$alias_method("an_instance_of","instance_of"),e.defn(x,"$kind_of",g=function(e){return w.get("KindOf").$new(e)},g.$$arity=1),x.$alias_method("a_kind_of","kind_of"),e.defs(x,"$anythingize_lonely_keys",m=function(){var e,t,r,n,a=this,o=$,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return o=function(){return n.$last().$class()["$=="](w.get("Hash"))?n.$delete_at(-1):i([],{})}(),(e=(t=n).$each,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=$),o["$[]="](e,w.get("AnyArgMatcher").$new())},r.$$s=a,r.$$arity=1,r),e).call(t),o},m.$$arity=-1),function(t,$super){function r(){}var n,a=r=o(t,$super,"AnyArgsMatcher",r);a.$$proto,a.$$scope;return e.defn(a,"$description",n=function(){return"any args"},n.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i=r=o(t,$super,"AnyArgMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$===",n=function(){return!0},n.$$arity=1),e.defn(i,"$description",a=function(){return"anything"},a.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a=r=o(t,$super,"NoArgsMatcher",r);a.$$proto,a.$$scope;return e.defn(a,"$description",n=function(){return"no args"},n.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i=r=o(t,$super,"BooleanMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$===",n=function(e){var t;return(t=(!0)["$=="](e))!==!1&&t!==$&&null!=t?t:(!1)["$=="](e)},n.$$arity=1),e.defn(i,"$description",a=function(){return"boolean"},a.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i,s=r=o(t,$super,"BaseHashMatcher",r),l=s.$$proto,u=s.$$scope;return l.expected=$,e.defn(s,"$initialize",n=function(e){var t=this;return t.expected=e},n.$$arity=1),e.defn(s,"$===",a=function(t,r){var n,a,i,o=this;try{return(n=(a=o.expected).$__send__,n.$$p=(i=function(e,t){var n;i.$$s||this;return null==e&&(e=$),null==t&&(t=$),n=r["$key?"](e),n!==!1&&n!==$&&null!=n?u.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](t,r["$[]"](e)):n},i.$$s=o,i.$$arity=2,i),n).call(a,t)}catch(s){if(!e.rescue(s,[u.get("NoMethodError")]))throw s;try{return!1}finally{e.pop_exception()}}},a.$$arity=2),e.defn(s,"$description",i=function(e){var t=this;return""+e+"("+t.expected.$inspect().$sub(/^\{/,"").$sub(/\}$/,"")+")"},i.$$arity=1),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i=r=o(t,$super,"HashIncludingMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$===",n=function(t){var r,$,a=this;n.$$p;return n.$$p=null,($=a,r=e.find_super_dispatcher(a,"===",n,!1),r.$$p=null,r).call($,"all?",t)},n.$$arity=1),e.defn(i,"$description",a=function(){var t,r,n=this;a.$$p;return a.$$p=null,(r=n,t=e.find_super_dispatcher(n,"description",a,!1),t.$$p=null,t).call(r,"hash_including")},a.$$arity=0),$&&"description"}(w.base,w.get("BaseHashMatcher")),function(t,$super){function r(){}var n,a,i=r=o(t,$super,"HashExcludingMatcher",r);i.$$proto,i.$$scope;return e.defn(i,"$===",n=function(t){var r,$,a=this;n.$$p;return n.$$p=null,($=a,r=e.find_super_dispatcher(a,"===",n,!1),r.$$p=null,r).call($,"none?",t)},n.$$arity=1),e.defn(i,"$description",a=function(){var t,r,n=this;a.$$p;return a.$$p=null,(r=n,t=e.find_super_dispatcher(n,"description",a,!1),t.$$p=null,t).call(r,"hash_not_including")},a.$$arity=0),$&&"description"}(w.base,w.get("BaseHashMatcher")),function(t,$super){function r(){}var n,a,i,s=r=o(t,$super,"ArrayIncludingMatcher",r),l=s.$$proto,u=s.$$scope;return l.expected=$,e.defn(s,"$initialize",n=function(e){var t=this;return t.expected=e},n.$$arity=1),e.defn(s,"$===",a=function(e){var t=this;return u.get("Set").$new(e)["$superset?"](u.get("Set").$new(t.expected))},a.$$arity=1),e.defn(s,"$description",i=function(){var e=this;return"array_including("+e.expected.$join(", ")+")"},i.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i,s=r=o(t,$super,"DuckTypeMatcher",r),l=s.$$proto;s.$$scope;return l.methods_to_respond_to=$,e.defn(s,"$initialize",n=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.methods_to_respond_to=e},n.$$arity=-1),e.defn(s,"$===",a=function(e){var t,r,n,a=this;return(t=(r=a.methods_to_respond_to)["$all?"],t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=$),e["$respond_to?"](t)},n.$$s=a,n.$$arity=1,n),t).call(r)},a.$$arity=1),e.defn(s,"$description",i=function(){var e,t,r=this;return"duck_type("+(e=(t=r.methods_to_respond_to).$map,e.$$p="inspect".$to_proc(),e).call(t).$join(", ")+")"},i.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i,s=r=o(t,$super,"InstanceOf",r),l=s.$$proto;s.$$scope;return l.klass=$,e.defn(s,"$initialize",n=function(e){var t=this;return t.klass=e},n.$$arity=1),e.defn(s,"$===",a=function(e){var t=this;return e["$instance_of?"](t.klass)},a.$$arity=1),e.defn(s,"$description",i=function(){var e=this;return"an_instance_of("+e.klass.$name()+")"},i.$$arity=0),$&&"description"}(w.base,null),function(t,$super){function r(){}var n,a,i,s=r=o(t,$super,"KindOf",r),l=s.$$proto;s.$$scope;return l.klass=$,e.defn(s,"$initialize",n=function(e){var t=this;return t.klass=e},n.$$arity=1),e.defn(s,"$===",a=function(e){var t=this;return e["$kind_of?"](t.klass)},a.$$arity=1),e.defn(s,"$description",i=function(){var e=this;return"kind of "+e.klass.$name()},i.$$arity=0),$&&"description"}(w.base,null),k=t(x.$name(),"::"),(y=(v=e.get("RSpec").$$scope.get("Support")).$register_matcher_definition,y.$$p=(b=function(t){b.$$s||this;null==t&&(t=$);try{return t.$class().$name()["$include?"](k)}catch(r){if(!e.rescue(r,[w.get("NoMethodError")]))throw r;try{return!1}finally{e.pop_exception()}}},b.$$s=x,b.$$arity=1,b),y).call(v)}(l.base)}(l.base)}(n.base)},Opal.modules["rspec/support/fuzzy_matcher"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$!","$arrays_match?","$to_a","$hashes_match?","$==","$!=","$size","$all?","$values_match?","$zip","$fetch","$private_class_method"]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a=$=n(t,"Support"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s=$=n(t,"FuzzyMatcher"),l=(s.$$proto,s.$$scope);e.defs(s,"$values_match?",a=function(t,n){var $,a,i,o=this;if(i=l.get("Array")["$==="](t),a=i!==!1&&i!==r&&null!=i?l.get("Enumerable")["$==="](n):i,!(($=a!==!1&&a!==r&&null!=a?l.get("Struct")["$==="](n)["$!"]():a)===r||null==$||$.$$is_boolean&&1!=$))return o["$arrays_match?"](t,n.$to_a());if(a=l.get("Hash")["$==="](t),!(($=a!==!1&&a!==r&&null!=a?l.get("Hash")["$==="](n):a)===r||null==$||$.$$is_boolean&&1!=$))return o["$hashes_match?"](t,n);if(n["$=="](t))return!0;try{return t["$==="](n)}catch(s){if(!e.rescue(s,[l.get("ArgumentError")]))throw s;try{return!1}finally{e.pop_exception()}}},a.$$arity=2),e.defs(s,"$arrays_match?",i=function(e,t){var n,$,a,i=this;return(n=e.$size()["$!="](t.$size()))===r||null==n||n.$$is_boolean&&1!=n?(n=($=e.$zip(t))["$all?"],n.$$p=(a=function(e,t){var n=a.$$s||this;return null==e&&(e=r),null==t&&(t=r),n["$values_match?"](e,t)},a.$$s=i,a.$$arity=2,a),n).call($):!1},i.$$arity=2),e.defs(s,"$hashes_match?",o=function(t,n){try{var $,a,i,o=this;return($=t.$size()["$!="](n.$size()))===r||null==$||$.$$is_boolean&&1!=$?($=(a=t)["$all?"],$.$$p=(i=function(t,$){var a,o,s,l=i.$$s||this,u=r;return null==t&&(t=r),null==$&&($=r),u=(a=(o=n).$fetch,a.$$p=(s=function(){s.$$s||this;e.ret(!1)},s.$$s=l,s.$$arity=0,s),a).call(o,t),l["$values_match?"]($,u)},i.$$s=o,i.$$arity=2,i),$).call(a):!1}catch(s){if(s===e.returner)return s.$v;throw s}},o.$$arity=2),s.$private_class_method("arrays_match?","hashes_match?")}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/mocks/argument_list_matcher"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require","$attr_reader","$first","$===","$values_match?","$new"]),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/support/fuzzy_matcher"),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var $,i,o=r=a(t,$super,"ArgumentListMatcher",r),s=o.$$proto,l=o.$$scope;return s.matchers=n,o.$attr_reader("expected_args"),e.defn(o,"$initialize",$=function(){var e,t=this,r=n,$=arguments.length,a=$-0;0>a&&(a=0),e=new Array(a);for(var i=0;$>i;i++)e[i-0]=arguments[i];return t.expected_args=e,t.matchers=function(){return r=e.$first(),l.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](r)?l.get("Array"):l.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](r)?[]:e}()},$.$$arity=-1),e.defn(o,"$args_match?",i=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return l.get("Support").$$scope.get("FuzzyMatcher")["$values_match?"](t.matchers,e)},i.$$arity=-1),e.cdecl(l,"MATCH_ALL",o.$new(l.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher").$new()))}(o.base,null)}(o.base)}(r.base)},Opal.modules["rspec/mocks/configuration"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$attr_writer","$each","$enable_should","$flatten","$include?","$enable_expect","$disable_expect","$disable_should","$should_enabled?","$<<","$expect_enabled?","$!","$patch!","$unpatch!","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default","$configuration"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o=a=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_,p,f,d,h=n=$(t,$super,"Configuration",n),g=h.$$proto,m=h.$$scope;return g.yield_receiver_to_any_instance_implementation_blocks=g.verify_doubled_constant_names=g.transfer_nested_constants=g.verify_partial_doubles=r,e.defn(h,"$initialize",a=function(){var e=this;return e.yield_receiver_to_any_instance_implementation_blocks=!0,e.verify_doubled_constant_names=!1,e.transfer_nested_constants=!1,e.verify_partial_doubles=!1},a.$$arity=0),e.defn(h,"$yield_receiver_to_any_instance_implementation_blocks?",i=function(){var e=this;return e.yield_receiver_to_any_instance_implementation_blocks},i.$$arity=0),h.$attr_writer("yield_receiver_to_any_instance_implementation_blocks"),e.defn(h,"$add_stub_and_should_receive_to",o=function(){var e,t,n,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=$).$each,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),m.get("Syntax").$enable_should(e)},n.$$s=a,n.$$arity=1,n),e).call(t)},o.$$arity=-1),e.defn(h,"$syntax=",s=function(){var e,t,n=r,$=arguments.length,a=$-0;0>a&&(a=0),t=new Array(a);for(var i=0;$>i;i++)t[i-0]=arguments[i];return n=t.$flatten(),(e=n["$include?"]("expect"))===r||null==e||e.$$is_boolean&&1!=e?m.get("Syntax").$disable_expect():m.get("Syntax").$enable_expect(),(e=n["$include?"]("should"))===r||null==e||e.$$is_boolean&&1!=e?m.get("Syntax").$disable_should():m.get("Syntax").$enable_should()},s.$$arity=-1),e.defn(h,"$syntax",l=function(){var e,t=r;return t=[],(e=m.get("Syntax")["$should_enabled?"]())===r||null==e||e.$$is_boolean&&1!=e||t["$<<"]("should"),(e=m.get("Syntax")["$expect_enabled?"]())===r||null==e||e.$$is_boolean&&1!=e||t["$<<"]("expect"),t},l.$$arity=0),e.defn(h,"$verify_doubled_constant_names?",u=function(){var e=this;return e.verify_doubled_constant_names["$!"]()["$!"]()},u.$$arity=0),h.$attr_writer("verify_doubled_constant_names"),e.defn(h,"$transfer_nested_constants?",c=function(){var e=this;return e.transfer_nested_constants["$!"]()["$!"]()},c.$$arity=0),h.$attr_writer("transfer_nested_constants"),e.defn(h,"$verify_partial_doubles=",_=function(e){var t=this;return t.verify_partial_doubles=e["$!"]()["$!"]()},_.$$arity=1),e.defn(h,"$verify_partial_doubles?",p=function(){var e=this;return e.verify_partial_doubles},p.$$arity=0),e.defn(h,"$patch_marshal_to_support_partial_doubles=",f=function(e){return e!==!1&&e!==r&&null!=e?m.get("RSpec").$$scope.get("Mocks").$$scope.get("MarshalExtension")["$patch!"]():m.get("RSpec").$$scope.get("Mocks").$$scope.get("MarshalExtension")["$unpatch!"]()},f.$$arity=1),e.defn(h,"$reset_syntaxes_to_default",d=function(){var e,t,r=this;return e=[["should","expect"]],t=r,t["$syntax="].apply(t,e),e[e.length-1],m.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax")["$warn_about_should!"]()},d.$$arity=0),r&&"reset_syntaxes_to_default"}(s.base,null),e.defs(o,"$configuration",i=function(){var e,t=this;return null==t.configuration&&(t.configuration=r),(e=t.configuration)!==!1&&e!==r&&null!=e?e:t.configuration=s.get("Configuration").$new()},i.$$arity=0),o.$configuration().$reset_syntaxes_to_default()}(o.base)}(t.base)},Opal.modules["rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass,s=e.hash2;return e.add_stubs(["$new","$attr_writer","$__raise","$intro","$arg_message","$format_args","$expected_args","$format_received_args","$inspect","$message","$join","$map","$expected_part_of_expectation_error","$received_part_of_expectation_error","$%","$description","$raise","$error_message","$+","$count_message","$actual_method_call_args_description","$expected_method_call_args_description","$method_call_args_description","$>","$length","$gsub","$first","$===","$arg_list","$private","$nil?","$[]","$opts","$empty?","$arg_has_valid_description","$respond_to?","$!","$received_arg_list","$to_proc","$<","$==","$times","$abs"]),function($){var l,u=l=i($,"RSpec"),c=(u.$$proto,u.$$scope);!function($){var l,u=l=i($,"Mocks"),c=(u.$$proto,u.$$scope);e.cdecl(c,"MockExpectationError",c.get("Class").$new(c.get("Exception"))),e.cdecl(c,"ExpiredTestDoubleError",c.get("Class").$new(c.get("MockExpectationError"))),e.cdecl(c,"OutsideOfExampleError",c.get("Class").$new(c.get("StandardError"))),e.cdecl(c,"UnsupportedMatcherError",c.get("Class").$new(c.get("StandardError"))),e.cdecl(c,"NegationUnsupportedError",c.get("Class").$new(c.get("StandardError"))),e.cdecl(c,"VerifyingDoubleNotDefinedError",c.get("Class").$new(c.get("StandardError"))),function($,$super){function i(){}var l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U=i=o($,$super,"ErrorGenerator",i),G=U.$$proto,Y=U.$$scope;return G.opts=G.name=G.target=a,U.$attr_writer("opts"),e.defn(U,"$initialize",l=function(e,t){var r=this;return r.target=e,r.name=t},l.$$arity=2),e.defn(U,"$opts",u=function(){var e,t=this;return(e=t.opts)!==!1&&e!==a&&null!=e?e:t.opts=s([],{})},u.$$arity=0),e.defn(U,"$raise_unexpected_message_error",c=function(t){var r,n,$=this,a=arguments.length,i=a-1;0>i&&(i=0),n=new Array(i);for(var o=1;a>o;o++)n[o-1]=arguments[o];return $.$__raise(""+$.$intro()+" received unexpected message :"+t+(r=$).$arg_message.apply(r,e.to_a(n)))},c.$$arity=-2),e.defn(U,"$raise_unexpected_message_args_error",_=function(t){var r,n,$,i=this,o=a,s=a,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return o=(r=i).$format_args.apply(r,e.to_a(t.$expected_args())),s=(n=i).$format_received_args.apply(n,e.to_a($)),i.$__raise(""+i.$intro()+" received "+t.$message().$inspect()+" with "+("unexpected arguments\n  expected: "+o+"\n")+("       got: "+s))},_.$$arity=-2),e.defn(U,"$raise_missing_default_stub_error",p=function(t){var r,n,$,i=this,o=a,s=a,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return o=(r=i).$format_args.apply(r,e.to_a(t.$expected_args())),s=(n=i).$format_received_args.apply(n,e.to_a($)),i.$__raise(""+i.$intro()+" received "+t.$message().$inspect()+" with "+("unexpected arguments\n  expected: "+o+"\n")+("       got: "+s+"\n Please stub a default value ")+"first if message might be received with other args as well. \n")},p.$$arity=-2),e.defn(U,"$raise_similar_message_args_error",f=function(t){var r,n,$,i,o,s=this,l=a,u=a,c=arguments.length,_=c-1;0>_&&(_=0),o=new Array(_);for(var p=1;c>p;p++)o[p-1]=arguments[p];return l=(r=s).$format_args.apply(r,e.to_a(t.$expected_args())),u=(n=($=o).$map,n.$$p=(i=function(t){var r,n=i.$$s||this;return null==t&&(t=a),(r=n).$format_received_args.apply(r,e.to_a(t))},i.$$s=s,i.$$arity=1,i),n).call($).$join(", "),s.$__raise(""+s.$intro()+" received "+t.$message().$inspect()+" with "+("unexpected arguments\n  expected: "+l+"\n")+("       got: "+u))},f.$$arity=-2),e.defn(U,"$raise_expectation_error",d=function(t,r,n,$,i){var o,s,l,u=this,c=a,_=a,p=arguments.length,f=p-5;0>f&&(f=0),l=new Array(f);for(var d=5;p>d;d++)l[d-5]=arguments[d];return c=u.$expected_part_of_expectation_error(r,i,n),_=(o=u).$received_part_of_expectation_error.apply(o,[$].concat(e.to_a(l))),u.$__raise("("+u.$intro()+")."+t+(s=u).$format_args.apply(s,e.to_a(l))+"\n    "+c+"\n    "+_)},d.$$arity=-6),e.defn(U,"$raise_unimplemented_error",h=function(e,t){var r=this;return r.$__raise("%s does not implement: %s"["$%"]([e.$description(),t]))},h.$$arity=2),e.defn(U,"$raise_non_public_error",g=function(e,t){var r=this;return r.$raise(Y.get("NoMethodError"),"%s method `%s' called on %s"["$%"]([t,e,r.$intro()]))},g.$$arity=2),e.defn(U,"$raise_invalid_arguments_error",m=function(e){var t=this;return t.$__raise(e.$error_message())},m.$$arity=1),e.defn(U,"$raise_expired_test_double_error",y=function(){var e=this;return e.$raise(Y.get("ExpiredTestDoubleError"),""+e.$intro()+" was originally created in one example but has leaked into another example and can no longer be used. rspec-mocks' doubles are designed to only last for one example, and you need to create a new one in each example you wish to use it for.")},y.$$arity=0),e.defn(U,"$received_part_of_expectation_error",v=function(e){var r,n=this,$=arguments.length,a=$-1;0>a&&(a=0),r=new Array(a);for(var i=1;$>i;i++)r[i-1]=arguments[i];return t("received: "+n.$count_message(e),n.$actual_method_call_args_description(e,r))},v.$$arity=-2),e.defn(U,"$expected_part_of_expectation_error",b=function(e,r,n){var $=this;return t("expected: "+$.$count_message(e,r),$.$expected_method_call_args_description(n.$expected_args()))},b.$$arity=3),e.defn(U,"$actual_method_call_args_description",x=function(e,t){var n,$,i,o=this;return(n=o.$method_call_args_description(t))!==!1&&n!==a&&null!=n?n:function(){return i=r(e,0),($=i!==!1&&i!==a&&null!=i?r(t.$length(),0):i)===a||null==$||$.$$is_boolean&&1!=$?"":" with arguments: "+t.$inspect().$gsub(/\A\[(.+)\]\z/,"(\\1)")}()},x.$$arity=2),e.defn(U,"$expected_method_call_args_description",w=function(t){var n,$,i=this;return(n=i.$method_call_args_description(t))!==!1&&n!==a&&null!=n?n:function(){return($=r(t.$length(),0))===a||null==$||$.$$is_boolean&&1!=$?"":" with arguments: "+($=i).$format_args.apply($,e.to_a(t))}()},w.$$arity=1),e.defn(U,"$method_call_args_description",k=function(e){var t=a;return function(){return t=e.$first(),Y.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](t)?" with any arguments":Y.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](t)?" with no arguments":a}()},k.$$arity=1),e.defn(U,"$describe_expectation",S=function(t,r){var n,$,a=this,i=arguments.length,o=i-3;0>o&&(o=0),$=new Array(o);for(var s=3;i>s;s++)$[s-3]=arguments[s];return"have received "+t+(n=a).$format_args.apply(n,e.to_a($))+" "+a.$count_message(r)},S.$$arity=-4),e.defn(U,"$raise_out_of_order_error",E=function(e){var t=this;return t.$__raise(""+t.$intro()+" received :"+e+" out of order")},E.$$arity=1),e.defn(U,"$raise_block_failed_error",R=function(e,t){var r=this;return r.$__raise(""+r.$intro()+" received :"+e+" but passed block failed with: "+t)},R.$$arity=2),e.defn(U,"$raise_missing_block_error",A=function(t){var r,n=this;return n.$__raise(""+n.$intro()+" asked to yield |"+(r=n).$arg_list.apply(r,e.to_a(t))+"| but no block was passed")},A.$$arity=1),e.defn(U,"$raise_wrong_arity_error",O=function(t,r){var n,$=this;return $.$__raise(""+$.$intro()+" yielded |"+(n=$).$arg_list.apply(n,e.to_a(t))+"| to block with "+r.$description())},O.$$arity=2),e.defn(U,"$raise_only_valid_on_a_partial_double",M=function(e){var t=this;return t.$__raise(""+t.$intro()+" is a pure test double. `"+e+"` is only available on a partial double.")},M.$$arity=1),e.defn(U,"$raise_expectation_on_unstubbed_method",T=function(e){var t=this;return t.$__raise(""+t.$intro()+" expected to have received "+e+", but that object is not a spy or method has not been stubbed.")},T.$$arity=1),e.defn(U,"$raise_expectation_on_mocked_method",C=function(e){var t=this;return t.$__raise(""+t.$intro()+" expected to have received "+e+", but that method has been mocked instead of stubbed or spied.")},C.$$arity=1),e.defs(U,"$raise_double_negation_error",I=function(e){var t=this;return t.$raise("Isn't life confusing enough? You've already set a negative message expectation and now you are trying to negate it again with `never`. What does an expression like "+("`"+e+".not_to receive(:msg).never` even mean?"))},I.$$arity=1),U.$private(),e.defn(U,"$intro",z=function(){var e,t=this;return(e=t.name)===a||null==e||e.$$is_boolean&&1!=e?(e=Y.get("TestDouble")["$==="](t.target))===a||null==e||e.$$is_boolean&&1!=e?(e=Y.get("Class")["$==="](t.target))===a||null==e||e.$$is_boolean&&1!=e?(e=t.target)===a||null==e||e.$$is_boolean&&1!=e?"nil":t.target:"<"+t.target.$inspect()+" (class)>":"Double":"Double "+t.name.$inspect()},z.$$arity=0),e.defn(U,"$__raise",j=function(e){var t,r=this;return((t=r.$opts()["$[]"]("message")["$nil?"]())===a||null==t||t.$$is_boolean&&1!=t)&&(e=r.$opts()["$[]"]("message")),Y.get("Kernel").$raise(Y.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError"),e);
},j.$$arity=1),e.defn(U,"$arg_message",q=function(){var r,n,$=this,a=arguments.length,i=a-0;0>i&&(i=0),n=new Array(i);for(var o=0;a>o;o++)n[o-0]=arguments[o];return t(" with ",(r=$).$format_args.apply(r,e.to_a(n)))},q.$$arity=-1),e.defn(U,"$format_args",N=function(){var r,n,$=this,i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return(r=n["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?t(t("(",(r=$).$arg_list.apply(r,e.to_a(n))),")"):"(no args)"},N.$$arity=-1),e.defn(U,"$arg_list",P=function(){var e,t,r,n,$=this,i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return(e=(t=n).$map,e.$$p=(r=function(e){var t,n=r.$$s||this;return null==e&&(e=a),(t=n.$arg_has_valid_description(e))===a||null==t||t.$$is_boolean&&1!=t?e.$inspect():e.$description()},r.$$s=$,r.$$arity=1,r),e).call(t).$join(", ")},P.$$arity=-1),e.defn(U,"$arg_has_valid_description",F=function(e){var t;return(t=e["$respond_to?"]("description"))===a||null==t||t.$$is_boolean&&1!=t?!1:(t=e.$description()["$nil?"]()["$!"](),t!==!1&&t!==a&&null!=t?e.$description()["$empty?"]()["$!"]():t)},F.$$arity=1),e.defn(U,"$format_received_args",D=function(){var r,n,$=this,i=arguments.length,o=i-0;0>o&&(o=0),n=new Array(o);for(var s=0;i>s;s++)n[s-0]=arguments[s];return(r=n["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?t(t("(",(r=$).$received_arg_list.apply(r,e.to_a(n))),")"):"(no args)"},D.$$arity=-1),e.defn(U,"$received_arg_list",B=function(){var e,t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(e=(t=r).$map,e.$$p="inspect".$to_proc(),e).call(t).$join(", ")},B.$$arity=-1),e.defn(U,"$count_message",H=function(e,t){var r,$,i=this;return null==t&&(t=a),(r=($=n(e,0))!==!1&&$!==a&&null!=$?$:t["$=="]("at_least"))===a||null==r||r.$$is_boolean&&1!=r?t["$=="]("at_most")?"at most "+i.$times(e):i.$times(e):"at least "+i.$times(e.$abs())},H.$$arity=-2),e.defn(U,"$times",L=function(e){return""+e+" time"+function(){return e["$=="](1)?"":"s"}()},L.$$arity=1),a&&"times"}(c.base,null)}(c.base)}($.base)},Opal.modules["rspec/mocks/example_methods"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$require_rspec_mocks","$include","$declare_double","$for","$declare_verifying_double","$as_null_object","$double","$instance_double","$object_double","$class_double","$warn_about_expectations=","$proxy_for","$space","$stub","$hide","$new","$to_proc","$class_exec","$method_defined?","$verify_doubled_constant_names?","$configuration","$!","$defined?","$raise","$description","$===","$last","$<<"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("object_reference"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b=a=n(t,"ExampleMethods"),x=(b.$$proto,b.$$scope);b.$include(x.get("RSpec").$$scope.get("Mocks").$$scope.get("ArgumentMatchers")),e.defn(b,"$double",i=function(){var t,r,n=arguments.length,$=n-0;0>$&&($=0),r=new Array($);for(var a=0;n>a;a++)r[a-0]=arguments[a];return(t=x.get("ExampleMethods")).$declare_double.apply(t,[x.get("Double")].concat(e.to_a(r)))},i.$$arity=-1),e.defn(b,"$instance_double",o=function(t){var n,$,a=r,i=arguments.length,o=i-1;0>o&&(o=0),$=new Array(o);for(var s=1;i>s;s++)$[s-1]=arguments[s];return a=x.get("ObjectReference").$for(t),(n=x.get("ExampleMethods")).$declare_verifying_double.apply(n,[x.get("InstanceVerifyingDouble"),a].concat(e.to_a($)))},o.$$arity=-2),e.defn(b,"$class_double",s=function(t){var n,$,a=r,i=arguments.length,o=i-1;0>o&&(o=0),$=new Array(o);for(var s=1;i>s;s++)$[s-1]=arguments[s];return a=x.get("ObjectReference").$for(t),(n=x.get("ExampleMethods")).$declare_verifying_double.apply(n,[x.get("ClassVerifyingDouble"),a].concat(e.to_a($)))},s.$$arity=-2),e.defn(b,"$object_double",l=function(t){var n,$,a=r,i=arguments.length,o=i-1;0>o&&(o=0),$=new Array(o);for(var s=1;i>s;s++)$[s-1]=arguments[s];return a=x.get("ObjectReference").$for(t,"allow_direct_object_refs"),(n=x.get("ExampleMethods")).$declare_verifying_double.apply(n,[x.get("ObjectVerifyingDouble"),a].concat(e.to_a($)))},l.$$arity=-2),e.defn(b,"$spy",u=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$double.apply(t,e.to_a(r)).$as_null_object()},u.$$arity=-1),e.defn(b,"$instance_spy",c=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$instance_double.apply(t,e.to_a(r)).$as_null_object()},c.$$arity=-1),e.defn(b,"$object_spy",_=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$object_double.apply(t,e.to_a(r)).$as_null_object()},_.$$arity=-1),e.defn(b,"$class_spy",p=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n).$class_double.apply(t,e.to_a(r)).$as_null_object()},p.$$arity=-1),e.defn(b,"$allow_message_expectations_on_nil",f=function(){var e,t;return e=[!1],t=x.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(r),t["$warn_about_expectations="].apply(t,e),e[e.length-1]},f.$$arity=0),e.defn(b,"$stub_const",d=function(e,t,r){return null==r&&(r=$([],{})),x.get("ConstantMutator").$stub(e,t,r)},d.$$arity=-3),e.defn(b,"$hide_const",h=function(e){return x.get("ConstantMutator").$hide(e)},h.$$arity=1),e.defn(b,"$have_received",g=function(e){var t,n,$=g.$$p,a=$||r;return g.$$p=null,(t=(n=x.get("Matchers").$$scope.get("HaveReceived")).$new,t.$$p=a.$to_proc(),t).call(n,e)},g.$$arity=1),e.defs(b,"$included",m=function(e){var t,n,$,a=this;return(t=(n=e).$class_exec,t.$$p=($=function(){var e,t=$.$$s||this;return(e=t["$method_defined?"]("expect"))===r||null==e||e.$$is_boolean&&1!=e?t.$include(x.get("ExpectHost")):r},$.$$s=a,$.$$arity=0,$),t).call(n)},m.$$arity=1),e.defs(b,"$declare_verifying_double",y=function(t,n){var $,a,i,o=this,s=arguments.length,l=s-2;0>l&&(l=0),i=new Array(l);for(var u=2;s>u;u++)i[u-2]=arguments[u];return a=x.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_doubled_constant_names?"](),($=a!==!1&&a!==r&&null!=a?n["$defined?"]()["$!"]():a)===r||null==$||$.$$is_boolean&&1!=$||o.$raise(x.get("VerifyingDoubleNotDefinedError"),""+n.$description()+" is not a defined constant. Perhaps you misspelt it? Disable check with verify_doubled_constant_names configuration option."),($=o).$declare_double.apply($,[t,n].concat(e.to_a(i)))},y.$$arity=-3),e.defs(b,"$declare_double",v=function(t){var n,a,i=arguments.length,o=i-1;0>o&&(o=0),a=new Array(o);for(var s=1;i>s;s++)a[s-1]=arguments[s];return((n=x.get("Hash")["$==="](a.$last()))===r||null==n||n.$$is_boolean&&1!=n)&&a["$<<"]($([],{})),(n=t).$new.apply(n,e.to_a(a))},v.$$arity=-2),function(e){var t,r=t=n(e,"ExpectHost");r.$$proto,r.$$scope}(x.base)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/instance_method_stasher"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$<","$to_f","$!","$method_defined_directly_on_klass?","$__send__","$stashed_method_name","$private","$method_handle_for","$handle_restoration_failures","$include?","$warn_with","$inspect","$method_defined_on_klass?","$method_owned_by_klass?","$method_defined_at_any_visibility?","$owner","$instance_method","$===","$class","$=="]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Mocks"),l=(s.$$proto,s.$$scope);!function(r,$super){function $(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=$=a(r,$super,"InstanceMethodStasher",$),w=x.$$proto,k=x.$$scope;return w.method_is_stashed=w.klass=w.method=w.original_method=w.object=n,e.defn(x,"$initialize",o=function(t,r){var $=this;return $.object=t,$.method=r,$.klass=function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t)),$.original_method=n,$.method_is_stashed=!1},o.$$arity=2),x.$attr_reader("original_method"),(s=t(k.get("RUBY_VERSION").$to_f(),1.9))===n||null==s||s.$$is_boolean&&1!=s?(e.defn(x,"$method_is_stashed?",p=function(){var e=this;return e.original_method["$!"]()["$!"]()},p.$$arity=0),e.defn(x,"$stash",f=function(){var t,r=this;return(t=r["$method_defined_directly_on_klass?"]())===n||null==t||t.$$is_boolean&&1!=t?n:(t=r.original_method)!==!1&&t!==n&&null!=t?t:r.original_method=e.get("RSpec").$$scope.get("Support").$method_handle_for(r.object,r.method)},f.$$arity=0),e.defn(x,"$restore",d=function(){var e,t,r,$=this;return(e=$.original_method)===n||null==e||e.$$is_boolean&&1!=e?n:((e=$.klass.$__send__("method_defined?",$.method))===n||null==e||e.$$is_boolean&&1!=e||$.klass.$__send__("undef_method",$.method),(e=(t=$).$handle_restoration_failures,e.$$p=(r=function(){var e=r.$$s||this;return null==e.klass&&(e.klass=n),null==e.method&&(e.method=n),null==e.original_method&&(e.original_method=n),e.klass.$__send__("define_method",e.method,e.original_method)},r.$$s=$,r.$$arity=0,r),e).call(t),$.original_method=n)},d.$$arity=0)):(e.defn(x,"$method_is_stashed?",l=function(){var e=this;return e.method_is_stashed},l.$$arity=0),e.defn(x,"$stash",u=function(){var e,t,r=this;return(e=(t=r["$method_defined_directly_on_klass?"]()["$!"]())!==!1&&t!==n&&null!=t?t:r.method_is_stashed)===n||null==e||e.$$is_boolean&&1!=e?(r.klass.$__send__("alias_method",r.$stashed_method_name(),r.method),r.method_is_stashed=!0):n},u.$$arity=0),e.defn(x,"$stashed_method_name",c=function(){var e=this;return"obfuscated_by_rspec_mocks__"+e.method},c.$$arity=0),x.$private("stashed_method_name"),e.defn(x,"$restore",_=function(){var e,t=this;return(e=t.method_is_stashed)===n||null==e||e.$$is_boolean&&1!=e?n:((e=t.klass.$__send__("method_defined?",t.method))===n||null==e||e.$$is_boolean&&1!=e||t.klass.$__send__("undef_method",t.method),t.klass.$__send__("alias_method",t.method,t.$stashed_method_name()),t.klass.$__send__("remove_method",t.$stashed_method_name()),t.method_is_stashed=!1)},_.$$arity=0)),(s=(h=k.get("RUBY_DESCRIPTION")["$include?"]("2.0.0p247"))!==!1&&h!==n&&null!=h?h:k.get("RUBY_DESCRIPTION")["$include?"]("2.0.0p195"))===n||null==s||s.$$is_boolean&&1!=s?e.defn(x,"$handle_restoration_failures",m=function(){var t=m.$$p,r=t||n;return m.$$p=null,e.yieldX(r,[])},m.$$arity=0):e.defn(x,"$handle_restoration_failures",g=function(){var t=this,r=g.$$p,$=r||n;g.$$p=null;try{return e.yieldX($,[])}catch(a){if(!e.rescue(a,[k.get("TypeError")]))throw a;try{return k.get("RSpec").$warn_with("RSpec failed to properly restore a partial double ("+t.object.$inspect()+") to its original state due to a known bug in MRI 2.0.0-p195 & p247 (https://bugs.ruby-lang.org/issues/8686). This object may remain screwed up for the rest of this process. Please upgrade to 2.0.0-p353 or above.",i(["call_site","use_spec_location_as_call_site"],{call_site:n,use_spec_location_as_call_site:!0}))}finally{e.pop_exception()}}},g.$$arity=0),x.$private(),e.defn(x,"$method_defined_directly_on_klass?",y=function(){var e,t=this;return e=t["$method_defined_on_klass?"](),e!==!1&&e!==n&&null!=e?t["$method_owned_by_klass?"]():e},y.$$arity=0),e.defn(x,"$method_defined_on_klass?",v=function(e){var t=this;return null==e&&(e=t.klass),k.get("MethodReference")["$method_defined_at_any_visibility?"](e,t.method)},v.$$arity=-1),e.defn(x,"$method_owned_by_klass?",b=function(){var e,t=this,r=n;return r=t.klass.$instance_method(t.method).$owner(),((e=k.get("Module")["$==="](r))===n||null==e||e.$$is_boolean&&1!=e)&&(r=r.$class()),(e=r["$=="](t.klass))!==!1&&e!==n&&null!=e?e:t["$method_defined_on_klass?"](r)["$!"]()},b.$$arity=0),n&&"method_owned_by_klass?"}(l.base,null)}(l.base)}(r.base)},Opal.modules["rspec/mocks/matchers/expectation_customization"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$attr_accessor","$__send__","$to_proc"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Matchers"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o=n=$(t,$super,"ExpectationCustomization",n),s=o.$$proto;o.$$scope;return s.block=s.method_name=s.args=r,o.$attr_accessor("block"),e.defn(o,"$initialize",a=function(e,t,r){var n=this;return n.method_name=e,n.args=t,n.block=r},a.$$arity=3),e.defn(o,"$playback_onto",i=function(t){var r,n,$=this;return(r=(n=t).$__send__,r.$$p=$.block.$to_proc(),r).apply(n,[$.method_name].concat(e.to_a($.args)))},i.$$arity=1),r&&"playback_onto"}(o.base,null)}(o.base)}(o.base)}(t.base)},Opal.modules["rspec/mocks/message_expectation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var i=(e.top,e),o=e.nil,s=(e.breaker,e.slice,e.module),l=e.klass,u=e.hash2;return e.add_stubs(["$to_sym","$==","$line","$raise_expectation_error","$attr_accessor","$attr_reader","$attr_writer","$protected","$opts=","$object","$method_name","$register","$new","$inner_implementation_action=","$expected_args","$negative?","$raise","$unshift","$ignoring_args?","$max","$size","$terminal_implementation_action=","$and_wrap_original","$call","$to_proc","$===","$raise_only_valid_on_a_partial_double","$inner_action","$implementation","$warn_about_stub_override","$original_method","$respond_to?","$exception","$throw","$<<","$initial_implementation_action=","$args_match?","$invoke_incrementing_actual_calls_by","$!","$!=","$>","$>=","$expected_messages_received?","$failed_fast?","$generate_error","$matches_exact_count?","$matches_at_least_count?","$matches_at_most_count?","$verify_invocation_order","$<=","$similar_messages","$empty?","$expectation_count_type","$raise_similar_message_args_error","$describe_expectation","$raise_out_of_order_error","$set_expected_received_count","$raise_double_negation_error","$times","$additional_expected_calls","$-","$+","$private","$yield_receiver_to_implementation_block?","$orig_object","$handle_order_constraint","$present?","$invoke","$initial_action=","$inner_action=","$terminal_action=","$warning","$first_non_rspec_line","$nil?","$raise_missing_block_error","$each","$valid?","$raise_wrong_arity_error","$instance_exec","$shift","$first","$last","$map","$actions","$any?","$compact","$initial_action","$terminal_action","$cannot_modify_further_error","$insert","$backtrace"]),function(i){var c,_=c=s(i,"RSpec"),p=(_.$$proto,_.$$scope);!function(i){var c,_=c=s(i,"Mocks"),p=(_.$$proto,_.$$scope);!function(t,$super){function r(){}var n,$,a,i,s,u=r=l(t,$super,"SimpleMessageExpectation",r),c=u.$$proto,_=u.$$scope;return c.response=c.message=c.backtrace_line=o,e.defn(u,"$initialize",n=function(e,t,r,n){var $,a=this;return null==n&&(n=o),$=[e.$to_sym(),t,r,n],a.message=$[0],a.response=$[1],a.error_generator=$[2],a.backtrace_line=$[3],$,a.received=!1},n.$$arity=-4),e.defn(u,"$invoke",$=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.received=!0,t.response},$.$$arity=-1),e.defn(u,"$matches?",a=function(e){var t,r=this,n=arguments.length,$=n-1;0>$&&($=0),t=new Array($);for(var a=1;n>a;a++)t[a-1]=arguments[a];return r.message["$=="](e.$to_sym())},a.$$arity=-2),e.defn(u,"$called_max_times?",i=function(){return!1},i.$$arity=0),e.defn(u,"$verify_messages_received",s=function(){var e,t,r,n=this;return(e=(t=_.get("InsertOntoBacktrace")).$line,e.$$p=(r=function(){var e,t=r.$$s||this;return null==t.received&&(t.received=o),null==t.error_generator&&(t.error_generator=o),null==t.message&&(t.message=o),(e=t.received)===o||null==e||e.$$is_boolean&&1!=e?t.error_generator.$raise_expectation_error(t.message,1,_.get("ArgumentListMatcher").$$scope.get("MATCH_ALL"),0,o):o},r.$$s=n,r.$$arity=0,r),e).call(t,n.backtrace_line)},s.$$arity=0),o&&"verify_messages_received"}(p.base,null),function(i,$super){function s(){}var c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B,H,L,U,G,Y,V,X,K,W,Z,J,Q,ee,te,re,ne,$e,ae,ie,oe,se,le=s=l(i,$super,"MessageExpectation",s),ue=le.$$proto,ce=le.$$scope;return ue.error_generator=ue.method_double=ue.order_group=ue.argument_list_matcher=ue.expected_received_count=ue.at_least=ue.yield_receiver_to_implementation_block=ue.args_to_yield=ue.eval_context=ue.message=ue.actual_received_count=ue.expected_from=ue.ordered=ue.at_most=ue.similar_messages=ue.expectation_type=ue.exactly=ue.failed_fast=o,le.$attr_accessor("error_generator","implementation"),le.$attr_reader("message"),le.$attr_reader("orig_object"),le.$attr_writer("expected_received_count","expected_from","argument_list_matcher"),le.$protected("expected_received_count=","expected_from=","error_generator","error_generator=","implementation="),e.defn(le,"$initialize",c=function(e,t,r,n,$,a){var i,s,l=this,_=c.$$p,p=_||o;return null==$&&($="expectation"),null==a&&(a=u([],{})),c.$$p=null,l.error_generator=e,i=[a],s=l.error_generator,s["$opts="].apply(s,i),i[i.length-1],l.expected_from=r,l.method_double=n,l.orig_object=l.method_double.$object(),l.message=l.method_double.$method_name(),l.actual_received_count=0,l.expected_received_count=function(){return $["$=="]("expectation")?1:"any"}(),l.argument_list_matcher=ce.get("ArgumentListMatcher").$$scope.get("MATCH_ALL"),l.order_group=t,$["$=="]("stub")||l.order_group.$register(l),l.expectation_type=$,l.ordered=!1,l.at_least=l.at_most=l.exactly=o,l.args_to_yield=[],l.failed_fast=o,l.eval_context=o,l.yield_receiver_to_implementation_block=!1,l.implementation=ce.get("Implementation").$new(),i=[p],s=l,s["$inner_implementation_action="].apply(s,i),i[i.length-1]},c.$$arity=-5),e.defn(le,"$expected_args",_=function(){var e=this;return e.argument_list_matcher.$expected_args()},_.$$arity=0),e.defn(le,"$and_return",p=function(e){var t,r,n,$,a=this,i=p.$$p,s=i||o,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return p.$$p=null,(t=a["$negative?"]())===o||null==t||t.$$is_boolean&&1!=t||a.$raise("`and_return` is not supported with negative message expectations"),s!==o&&a.$raise(ce.get("ArgumentError"),"Implementation blocks aren't supported with `and_return`"),$.$unshift(e),((t=(r=a["$ignoring_args?"]())!==!1&&r!==o&&null!=r?r:(n=a.expected_received_count["$=="](0))?a.at_least:a.expected_received_count["$=="](0))===o||null==t||t.$$is_boolean&&1!=t)&&(a.expected_received_count=[a.expected_received_count,$.$size()].$max()),t=[ce.get("AndReturnImplementation").$new($)],r=a,r["$terminal_implementation_action="].apply(r,t),t[t.length-1],o},p.$$arity=-2),e.defn(le,"$and_yield_receiver_to_implementation",f=function(){var e=this;return e.yield_receiver_to_implementation_block=!0,e},f.$$arity=0),e.defn(le,"$yield_receiver_to_implementation_block?",d=function(){var e=this;return e.yield_receiver_to_implementation_block},d.$$arity=0),e.defn(le,"$and_call_original",h=function(){var t,r,n,$=this;return(t=(r=$).$and_wrap_original,t.$$p=(n=function(t){var r,$,a,i;n.$$s||this;r=n.$$p||o,n.$$p=null;var s=arguments.length,l=s-1;0>l&&(l=0),$=new Array(l);for(var u=1;s>u;u++)$[u-1]=arguments[u];return null==t&&(t=o),(a=(i=t).$call,a.$$p=r.$to_proc(),a).apply(i,e.to_a($))},n.$$s=$,n.$$arity=-2,n),t).call(r)},h.$$arity=0),e.defn(le,"$and_wrap_original",g=function(){var e,t=this,r=g.$$p,n=r||o;return g.$$p=null,(e=ce.get("RSpec").$$scope.get("Mocks").$$scope.get("TestDouble")["$==="](t.method_double.$object()))===o||null==e||e.$$is_boolean&&1!=e?((e=t.$implementation().$inner_action())===o||null==e||e.$$is_boolean&&1!=e||t.$warn_about_stub_override(),t.implementation=ce.get("AndWrapOriginalImplementation").$new(t.method_double.$original_method(),n),t.yield_receiver_to_implementation_block=!1):t.error_generator.$raise_only_valid_on_a_partial_double("and_call_original")},g.$$arity=0),e.defn(le,"$and_raise",m=function(e,t){var r,n,$,a,i,s=this;return null==e&&(e=ce.get("RuntimeError")),null==t&&(t=o),(r=e["$respond_to?"]("exception"))===o||null==r||r.$$is_boolean&&1!=r||(e=function(){return t!==!1&&t!==o&&null!=t?e.$exception(t):e.$exception()}()),r=[($=(a=ce.get("Proc")).$new,$.$$p=(i=function(){var t=i.$$s||this;return t.$raise(e)},i.$$s=s,i.$$arity=0,i),$).call(a)],n=s,n["$terminal_implementation_action="].apply(n,r),r[r.length-1],o},m.$$arity=-1),e.defn(le,"$and_throw",y=function(){var t,r,n,$,a,i,s=this,l=arguments.length,u=l-0;0>u&&(u=0),i=new Array(u);for(var c=0;l>c;c++)i[c-0]=arguments[c];return t=[(n=($=ce.get("Proc")).$new,n.$$p=(a=function(){var t,r=a.$$s||this;return(t=r).$throw.apply(t,e.to_a(i))},a.$$s=s,a.$$arity=0,a),n).call($)],r=s,r["$terminal_implementation_action="].apply(r,t),t[t.length-1],o},y.$$arity=-1),e.defn(le,"$and_yield",v=function(){var t,r,n,$=this,a=v.$$p,i=a||o,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return v.$$p=null,i!==!1&&i!==o&&null!=i&&e.yield1(i,$.eval_context=ce.get("Object").$new()),$.args_to_yield["$<<"](n),t=[ce.get("AndYieldImplementation").$new($.args_to_yield,$.eval_context,$.error_generator)],r=$,r["$initial_implementation_action="].apply(r,t),t[t.length-1],$},v.$$arity=-1),e.defn(le,"$matches?",b=function(t){var r,n,$,a=this,i=arguments.length,o=i-1;0>o&&(o=0),$=new Array(o);for(var s=1;i>s;s++)$[s-1]=arguments[s];return(r=a.message["$=="](t))?(n=a.argument_list_matcher)["$args_match?"].apply(n,e.to_a($)):a.message["$=="](t)},b.$$arity=-2),e.defn(le,"$safe_invoke",x=function(t){var r,n,$,a=this,i=x.$$p,s=i||o,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return x.$$p=null,(r=(n=a).$invoke_incrementing_actual_calls_by,r.$$p=s.$to_proc(),r).apply(n,[1,!1,t].concat(e.to_a($)))},x.$$arity=-2),e.defn(le,"$invoke",w=function(t){var r,n,$,a=this,i=w.$$p,s=i||o,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return w.$$p=null,(r=(n=a).$invoke_incrementing_actual_calls_by,r.$$p=s.$to_proc(),r).apply(n,[1,!0,t].concat(e.to_a($)))},w.$$arity=-2),e.defn(le,"$invoke_without_incrementing_received_count",k=function(t){var r,n,$,a=this,i=k.$$p,s=i||o,l=arguments.length,u=l-1;0>u&&(u=0),$=new Array(u);for(var c=1;l>c;c++)$[c-1]=arguments[c];return k.$$p=null,(r=(n=a).$invoke_incrementing_actual_calls_by,r.$$p=s.$to_proc(),r).apply(n,[0,!0,t].concat(e.to_a($)))},k.$$arity=-2),e.defn(le,"$negative?",S=function(){var e,t=this;return(e=t.expected_received_count["$=="](0))?t.at_least["$!"]():t.expected_received_count["$=="](0)},S.$$arity=0),e.defn(le,"$called_max_times?",E=function(){var e,n,$,a=this;return $=a.expected_received_count["$!="]("any"),n=$!==!1&&$!==o&&null!=$?a.at_least["$!"]():$,e=n!==!1&&n!==o&&null!=n?t(a.expected_received_count,0):n,e!==!1&&e!==o&&null!=e?r(a.actual_received_count,a.expected_received_count):e},E.$$arity=0),e.defn(le,"$matches_name_but_not_args",R=function(t){var r,n,$,a=this,i=arguments.length,o=i-1;0>o&&(o=0),$=new Array(o);for(var s=1;i>s;s++)$[s-1]=arguments[s];return(r=a.message["$=="](t))?(n=a.argument_list_matcher)["$args_match?"].apply(n,e.to_a($))["$!"]():a.message["$=="](t)},R.$$arity=-2),e.defn(le,"$verify_messages_received",A=function(){var e,t,r,n=this;return(e=(t=ce.get("InsertOntoBacktrace")).$line,e.$$p=(r=function(){var e,t,n=r.$$s||this;return(e=(t=n["$expected_messages_received?"]())!==!1&&t!==o&&null!=t?t:n["$failed_fast?"]())===o||null==e||e.$$is_boolean&&1!=e?n.$generate_error():o},r.$$s=n,r.$$arity=0,r),e).call(t,n.expected_from)},A.$$arity=0),e.defn(le,"$expected_messages_received?",O=function(){var e,t,r,n=this;return(e=(t=(r=n["$ignoring_args?"]())!==!1&&r!==o&&null!=r?r:n["$matches_exact_count?"]())!==!1&&t!==o&&null!=t?t:n["$matches_at_least_count?"]())!==!1&&e!==o&&null!=e?e:n["$matches_at_most_count?"]()},O.$$arity=0),e.defn(le,"$ensure_expected_ordering_received!",M=function(){var e,t=this;return(e=t.ordered)===o||null==e||e.$$is_boolean&&1!=e||t.order_group.$verify_invocation_order(t),!0},M.$$arity=0),e.defn(le,"$ignoring_args?",T=function(){var e=this;return e.expected_received_count["$=="]("any")},T.$$arity=0),e.defn(le,"$matches_at_least_count?",C=function(){var e,t=this;return e=t.at_least,e!==!1&&e!==o&&null!=e?r(t.actual_received_count,t.expected_received_count):e},C.$$arity=0),e.defn(le,"$matches_at_most_count?",I=function(){var e,t=this;return e=t.at_most,e!==!1&&e!==o&&null!=e?n(t.actual_received_count,t.expected_received_count):e},I.$$arity=0),e.defn(le,"$matches_exact_count?",z=function(){var e=this;return e.expected_received_count["$=="](e.actual_received_count)},z.$$arity=0),e.defn(le,"$similar_messages",j=function(){var e,t=this;return(e=t.similar_messages)!==!1&&e!==o&&null!=e?e:t.similar_messages=[]},j.$$arity=0),e.defn(le,"$advise",q=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$similar_messages()["$<<"](e)},q.$$arity=-1),e.defn(le,"$generate_error",N=function(){var t,r,n=this;return(t=n.$similar_messages()["$empty?"]())===o||null==t||t.$$is_boolean&&1!=t?(r=n.error_generator).$raise_similar_message_args_error.apply(r,[n].concat(e.to_a(n.similar_messages))):(t=n.error_generator).$raise_expectation_error.apply(t,[n.message,n.expected_received_count,n.argument_list_matcher,n.actual_received_count,n.$expectation_count_type()].concat(e.to_a(n.$expected_args())))},N.$$arity=0),e.defn(le,"$expectation_count_type",P=function(){var e,t=this;return(e=t.at_least)===o||null==e||e.$$is_boolean&&1!=e?(e=t.at_most)===o||null==e||e.$$is_boolean&&1!=e?o:"at_most":"at_least"},P.$$arity=0),e.defn(le,"$description",F=function(){var t,r=this;return(t=r.error_generator).$describe_expectation.apply(t,[r.message,r.expected_received_count,r.actual_received_count].concat(e.to_a(r.$expected_args())))},F.$$arity=0),e.defn(le,"$raise_out_of_order_error",D=function(){var e=this;return e.error_generator.$raise_out_of_order_error(e.message)},D.$$arity=0),e.defn(le,"$with",B=function(){var t,r,n,$=this,a=B.$$p,i=a||o,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return B.$$p=null,(t=n["$empty?"]())===o||null==t||t.$$is_boolean&&1!=t||$.$raise(ce.get("ArgumentError"),"`with` must have at least one argument. Use `no_args` matcher to set the expectation of receiving no arguments."),t=[i],r=$,r["$inner_implementation_action="].apply(r,t),t[t.length-1],$.argument_list_matcher=(t=ce.get("ArgumentListMatcher")).$new.apply(t,e.to_a(n)),$},B.$$arity=-1),e.defn(le,"$exactly",H=function(e){var t,r,n=this,$=H.$$p,a=$||o;return H.$$p=null,t=[a],r=n,r["$inner_implementation_action="].apply(r,t),t[t.length-1],n.$set_expected_received_count("exactly",e),n},H.$$arity=1),e.defn(le,"$at_least",L=function(e){var t,r,n=this,$=L.$$p,a=$||o;return L.$$p=null,n.$set_expected_received_count("at_least",e),e["$=="](0)&&n.$raise("at_least(0) has been removed, use allow(...).to receive(:message) instead"),t=[a],r=n,r["$inner_implementation_action="].apply(r,t),t[t.length-1],n},L.$$arity=1),e.defn(le,"$at_most",U=function(e){var t,r,n=this,$=U.$$p,a=$||o;return U.$$p=null,t=[a],r=n,r["$inner_implementation_action="].apply(r,t),t[t.length-1],n.$set_expected_received_count("at_most",e),n},U.$$arity=1),e.defn(le,"$times",G=function(){var e,t,r=this,n=G.$$p,$=n||o;return G.$$p=null,e=[$],t=r,t["$inner_implementation_action="].apply(t,e),e[e.length-1],r},G.$$arity=0),e.defn(le,"$never",Y=function(){var e,t=this;return(e=t["$negative?"]())===o||null==e||e.$$is_boolean&&1!=e||ce.get("ErrorGenerator").$raise_double_negation_error("expect(obj)"),t.expected_received_count=0,t},Y.$$arity=0),e.defn(le,"$once",V=function(){var e,t,r=this,n=V.$$p,$=n||o;return V.$$p=null,e=[$],t=r,t["$inner_implementation_action="].apply(t,e),e[e.length-1],r.$set_expected_received_count("exactly",1),r},V.$$arity=0),e.defn(le,"$twice",X=function(){var e,t,r=this,n=X.$$p,$=n||o;return X.$$p=null,e=[$],t=r,t["$inner_implementation_action="].apply(t,e),e[e.length-1],r.$set_expected_received_count("exactly",2),r},X.$$arity=0),e.defn(le,"$thrice",K=function(){var e,t,r=this,n=K.$$p,$=n||o;return K.$$p=null,e=[$],t=r,t["$inner_implementation_action="].apply(t,e),e[e.length-1],r.$set_expected_received_count("exactly",3),r},K.$$arity=0),e.defn(le,"$ordered",W=function(){var e,t,r,n=this,$=W.$$p,a=$||o;return W.$$p=null,e=[a],t=n,t["$inner_implementation_action="].apply(t,e),e[e.length-1],(e=(t=n.$additional_expected_calls()).$times,e.$$p=(r=function(){var e=r.$$s||this;return null==e.order_group&&(e.order_group=o),e.order_group.$register(e)},r.$$s=n,r.$$arity=0,r),e).call(t),n.ordered=!0,n},W.$$arity=0),e.defn(le,"$additional_expected_calls",Z=function(){var e,t,r=this;return(e=(t=r.expectation_type["$=="]("stub"))!==!1&&t!==o&&null!=t?t:r.exactly["$!"]())===o||null==e||e.$$is_boolean&&1!=e?$(r.expected_received_count,1):0},Z.$$arity=0),e.defn(le,"$ordered?",J=function(){var e=this;return e.ordered},J.$$arity=0),e.defn(le,"$negative_expectation_for?",Q=function(e){var t,r=this;return(t=r.message["$=="](e))?r["$negative?"]():r.message["$=="](e)},Q.$$arity=1),e.defn(le,"$actual_received_count_matters?",ee=function(){var e,t,r=this;return(e=(t=r.at_least)!==!1&&t!==o&&null!=t?t:r.at_most)!==!1&&e!==o&&null!=e?e:r.exactly},ee.$$arity=0),e.defn(le,"$increase_actual_received_count!",te=function(){var e=this;return e.actual_received_count=a(e.actual_received_count,1)},te.$$arity=0),le.$private(),e.defn(le,"$invoke_incrementing_actual_calls_by",re=function(t,r,n){var $,i,s,l,u,c,_=this,p=re.$$p,f=p||o,d=arguments.length,h=d-3;0>h&&(h=0),c=new Array(h);for(var g=3;d>g;g++)c[g-3]=arguments[g];re.$$p=null,($=_["$yield_receiver_to_implementation_block?"]())===o||null==$||$.$$is_boolean&&1!=$||c.$unshift(_.$orig_object()),($=(i=_["$negative?"]())!==!1&&i!==o&&null!=i?i:(s=(l=r!==!1&&r!==o&&null!=r)?(u=_.exactly)!==!1&&u!==o&&null!=u?u:_.at_most:r,s!==!1&&s!==o&&null!=s?_.actual_received_count["$=="](_.expected_received_count):s))===o||null==$||$.$$is_boolean&&1!=$||(_.actual_received_count=a(_.actual_received_count,t),_.failed_fast=!0,($=_.error_generator).$raise_expectation_error.apply($,[_.message,_.expected_received_count,_.argument_list_matcher,_.actual_received_count,_.$expectation_count_type()].concat(e.to_a(c)))),_.order_group.$handle_order_constraint(_);try{return(i=_.$implementation()["$present?"]())===o||null==i||i.$$is_boolean&&1!=i?n!==!1&&n!==o&&null!=n?(i=(l=n).$invoke,i.$$p=f.$to_proc(),i).apply(l,[o].concat(e.to_a(c))):o:(i=(s=_.$implementation()).$call,i.$$p=f.$to_proc(),i).apply(s,e.to_a(c))}finally{_.actual_received_count=a(_.actual_received_count,t)}},re.$$arity=-4),e.defn(le,"$failed_fast?",ne=function(){var e=this;return e.failed_fast},ne.$$arity=0),e.defn(le,"$set_expected_received_count",$e=function(e,t){var r=this,n=o;return r.at_least=e["$=="]("at_least"),r.at_most=e["$=="]("at_most"),r.exactly=e["$=="]("exactly"),r.expected_received_count=function(){return n=t,ce.get("Numeric")["$==="](n)?t:"once"["$==="](n)?1:"twice"["$==="](n)?2:"thrice"["$==="](n)?3:o}()},$e.$$arity=2),e.defn(le,"$initial_implementation_action=",ae=function(e){var t,r,n=this;return t=[e],r=n.$implementation(),r["$initial_action="].apply(r,t),t[t.length-1]},ae.$$arity=1),e.defn(le,"$inner_implementation_action=",ie=function(e){var t,r,n=this;return e===!1||e===o||null==e?o:((t=n.$implementation().$inner_action())===o||null==t||t.$$is_boolean&&1!=t||n.$warn_about_stub_override(),t=[e],r=n.$implementation(),r["$inner_action="].apply(r,t),t[t.length-1])},ie.$$arity=1),e.defn(le,"$terminal_implementation_action=",oe=function(e){var t,r,n=this;return t=[e],r=n.$implementation(),r["$terminal_action="].apply(r,t),t[t.length-1]},oe.$$arity=1),e.defn(le,"$warn_about_stub_override",se=function(){var e=this;return ce.get("RSpec").$warning("You're overriding a previous stub implementation of `"+e.message+"`. "+("Called from "+ce.get("CallerFilter").$first_non_rspec_line()+"."))},se.$$arity=0),o&&"warn_about_stub_override"}(p.base,null),function(t,$super){function r(){}var n,$,a=r=l(t,$super,"AndYieldImplementation",r),i=a.$$proto,s=a.$$scope;return i.args_to_yield=i.eval_context=i.error_generator=o,e.defn(a,"$initialize",n=function(e,t,r){var n=this;return n.args_to_yield=e,n.eval_context=t,n.error_generator=r},n.$$arity=3),e.defn(a,"$call",$=function(){var t,r,n,a,i=this,l=$.$$p,u=l||o,c=o,_=o,p=arguments.length,f=p-0;0>f&&(f=0),a=new Array(f);for(var d=0;p>d;d++)a[d-0]=arguments[d];return $.$$p=null,r=i.args_to_yield["$empty?"](),
(t=r!==!1&&r!==o&&null!=r?i.eval_context["$nil?"]():r)===o||null==t||t.$$is_boolean&&1!=t?(u!==!1&&u!==o&&null!=u||i.error_generator.$raise_missing_block_error(i.args_to_yield),c=o,_=s.get("Support").$$scope.get("BlockSignature").$new(u),(t=(r=i.args_to_yield).$each,t.$$p=(n=function(t){var r,$,a=n.$$s||this;return null==a.error_generator&&(a.error_generator=o),null==a.eval_context&&(a.eval_context=o),null==t&&(t=o),((r=s.get("Support").$$scope.get("StrictSignatureVerifier").$new(_,t)["$valid?"]())===o||null==r||r.$$is_boolean&&1!=r)&&a.error_generator.$raise_wrong_arity_error(t,_),c=function(){return(r=a.eval_context)===o||null==r||r.$$is_boolean&&1!=r?(r=u).$call.apply(r,e.to_a(t)):(r=($=a.eval_context).$instance_exec,r.$$p=u.$to_proc(),r).apply($,e.to_a(t))}()},n.$$s=i,n.$$arity=1,n),t).call(r),c):o},$.$$arity=-1),o&&"call"}(p.base,null),function(r,$super){function n(){}var $,a,i=n=l(r,$super,"AndReturnImplementation",n),s=i.$$proto;i.$$scope;return s.values_to_return=o,e.defn(i,"$initialize",$=function(e){var t=this;return t.values_to_return=e},$.$$arity=1),e.defn(i,"$call",a=function(){var e,r,n=this,$=(a.$$p,arguments.length),i=$-0;0>i&&(i=0),r=new Array(i);for(var s=0;$>s;s++)r[s-0]=arguments[s];return a.$$p=null,(e=t(n.values_to_return.$size(),1))===o||null==e||e.$$is_boolean&&1!=e?n.values_to_return.$first():n.values_to_return.$shift()},a.$$arity=-1),o&&"call"}(p.base,null),function(t,$super){function r(){}var n,$,a,i=r=l(t,$super,"Implementation",r);i.$$proto,i.$$scope;return i.$attr_accessor("initial_action","inner_action","terminal_action"),e.defn(i,"$call",n=function(){var t,r,$,a,i=this,s=n.$$p,l=s||o,u=arguments.length,c=u-0;0>c&&(c=0),a=new Array(c);for(var _=0;u>_;_++)a[_-0]=arguments[_];return n.$$p=null,(t=(r=i.$actions()).$map,t.$$p=($=function(t){var r,n;$.$$s||this;return null==t&&(t=o),(r=(n=t).$call,r.$$p=l.$to_proc(),r).apply(n,e.to_a(a))},$.$$s=i,$.$$arity=1,$),t).call(r).$last()},n.$$arity=-1),e.defn(i,"$present?",$=function(){var e=this;return e.$actions()["$any?"]()},$.$$arity=0),i.$private(),e.defn(i,"$actions",a=function(){var e=this;return[e.$initial_action(),e.$inner_action(),e.$terminal_action()].$compact()},a.$$arity=0),o&&"actions"}(p.base,null),function(t,$super){function r(){}var n,$,a,i,s,u,c,_,p=r=l(t,$super,"AndWrapOriginalImplementation",r),f=p.$$proto,d=p.$$scope;return f.block=f.method=o,e.defn(p,"$initialize",n=function(e,t){var r=this;return r.method=e,r.block=t},n.$$arity=2),e.cdecl(d,"CannotModifyFurtherError",d.get("Class").$new(d.get("StandardError"))),e.defn(p,"$initial_action=",$=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},$.$$arity=1),e.defn(p,"$inner_action=",a=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},a.$$arity=1),e.defn(p,"$terminal_action=",i=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},i.$$arity=1),e.defn(p,"$present?",s=function(){return!0},s.$$arity=0),e.defn(p,"$inner_action",u=function(){return!0},u.$$arity=0),e.defn(p,"$call",c=function(){var t,r,n,$=this,a=c.$$p,i=a||o,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return c.$$p=null,(t=(r=$.block).$call,t.$$p=i.$to_proc(),t).apply(r,[$.method].concat(e.to_a(n)))},c.$$arity=-1),p.$private(),e.defn(p,"$cannot_modify_further_error",_=function(){return d.get("CannotModifyFurtherError").$new("This method has already been configured to call the original implementation, and cannot be modified further.")},_.$$arity=0),o&&"cannot_modify_further_error"}(p.base,null),function(t,$super){function r(){}var n,$=r=l(t,$super,"InsertOntoBacktrace",r),a=($.$$proto,$.$$scope);return e.defs($,"$line",n=function(t){var r=n.$$p,$=r||o,i=o;n.$$p=null;try{return e.yieldX($,[])}catch(s){if(!e.rescue(s,[a.get("RSpec").$$scope.get("Mocks").$$scope.get("MockExpectationError")]))throw s;i=s;try{return i.$backtrace().$insert(0,t),a.get("Kernel").$raise(i)}finally{e.pop_exception()}}},n.$$arity=1),o&&"line"}(p.base,null)}(p.base)}(i.base)},Opal.modules["rspec/mocks/method_double"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$attr_reader","$new","$original_method","$original_method_handle_for","$method_name","$__send__","$to_proc","$alias_method","$visibility_for","$visibility","$stash","$define_proxy_method","$save_original_method!","$class_exec","$define_method","$proxy_method_invoked","$definition_target","$message_received","$frozen?","$object_singleton_class","$show_frozen_warning","$method_is_stashed?","$restore","$restore_original_visibility","$warn_with","$inspect","$method_defined_at_any_visibility?","$each","$verify_messages_received","$expectations","$restore_original_method","$clear","$stubs","$configure_method","$message_expectation_class","$<<","$unshift","$setup_simple_method_double","$any?","$add_stub","$empty?","$raise_method_not_stubbed_error","$remove_stub_if_present","$reset","$raise","$module_prepends_supported?","$private","$usable_rspec_prepended_module","$===","$method_defined?","$new_rspec_prepended_module","$prepended_modules_of_singleton_class","$tap"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j=n=$(t,$super,"MethodDouble",n),q=j.$$proto,N=j.$$scope;return q.original_method=q.method_stasher=q.proxy=q.method_name=q.object=q.method_is_proxied=q.original_visibility=q.definition_target=r,j.$attr_reader("method_name","object","expectations","stubs"),e.defn(j,"$initialize",i=function(e,t,n){var $=this;return $.method_name=t,$.object=e,$.proxy=n,$.original_visibility=r,$.method_stasher=N.get("InstanceMethodStasher").$new(e,t),$.method_is_proxied=!1,$.expectations=[],$.stubs=[]},i.$$arity=3),e.defn(j,"$original_method",o=function(){var t,n,$,a,i,o=this;return(t=o.original_method)!==!1&&t!==r&&null!=t?t:o.original_method=(n=($=o.method_stasher.$original_method())!==!1&&$!==r&&null!=$?$:o.proxy.$original_method_handle_for(o.$method_name()))!==!1&&n!==r&&null!=n?n:($=(a=N.get("Proc")).$new,$.$$p=(i=function(){var t,n,$,a,o=i.$$s||this;null==o.object&&(o.object=r),null==o.method_name&&(o.method_name=r),t=i.$$p||r,i.$$p=null;var s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return($=(a=o.object).$__send__,$.$$p=t.$to_proc(),$).apply(a,["method_missing",o.method_name].concat(e.to_a(n)))},i.$$s=o,i.$$arity=-1,i),$).call(a)},o.$$arity=0),j.$alias_method("save_original_method!","original_method"),e.defn(j,"$visibility",s=function(){var e=this;return e.proxy.$visibility_for(e.method_name)},s.$$arity=0),e.defn(j,"$object_singleton_class",l=function(){var t=this;return function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t.object))},l.$$arity=0),e.defn(j,"$configure_method",u=function(){var e,t=this;return t.original_visibility=[t.$visibility(),t.$method_name()],((e=t.method_is_proxied)===r||null==e||e.$$is_boolean&&1!=e)&&t.method_stasher.$stash(),t.$define_proxy_method()},u.$$arity=0),e.defn(j,"$define_proxy_method",c=function(){var t,n,$,a=this;return(t=a.method_is_proxied)===r||null==t||t.$$is_boolean&&1!=t?(a["$save_original_method!"](),(t=(n=a.$definition_target()).$class_exec,t.$$p=($=function(t,n,a){var i,o,s,l=$.$$s||this;return null==t&&(t=r),null==n&&(n=r),null==a&&(a=r),(i=(o=l).$define_method,i.$$p=(s=function(){var n,$,a,i,o=s.$$s||this;n=s.$$p||r,s.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(a=(i=t).$proxy_method_invoked,a.$$p=n.$to_proc(),a).apply(i,[o].concat(e.to_a($)))},s.$$s=l,s.$$arity=-1,s),i).call(o,n),l.$__send__(a,n)},$.$$s=a,$.$$arity=3,$),t).call(n,a,a.$method_name(),a.$visibility()),a.method_is_proxied=!0):r},c.$$arity=0),e.defn(j,"$proxy_method_invoked",_=function(){var t,n,$,a=this,i=_.$$p,o=i||r,s=arguments.length,l=s-1;0>l&&(l=0),$=new Array(l);for(var u=1;s>u;u++)$[u-1]=arguments[u];return _.$$p=null,(t=(n=a.proxy).$message_received,t.$$p=o.$to_proc(),t).apply(n,[a.$method_name()].concat(e.to_a($)))},_.$$arity=-2),e.defn(j,"$restore_original_method",p=function(){var e,t=this;return(e=t.$object_singleton_class()["$frozen?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=t.method_is_proxied)===r||null==e||e.$$is_boolean&&1!=e?r:(t.$definition_target().$__send__("remove_method",t.method_name),(e=t.method_stasher["$method_is_stashed?"]())===r||null==e||e.$$is_boolean&&1!=e||t.method_stasher.$restore(),t.$restore_original_visibility(),t.method_is_proxied=!1):t.$show_frozen_warning()},p.$$arity=0),e.defn(j,"$show_frozen_warning",f=function(){var e=this;return N.get("RSpec").$warn_with("WARNING: rspec-mocks was unable to restore the original `"+e.method_name+"` "+("method on "+e.object.$inspect()+" because it has been frozen.  If you reuse this ")+("object, `"+e.method_name+"` will continue to respond with its stub implementation."),a(["call_site","use_spec_location_as_call_site"],{call_site:r,use_spec_location_as_call_site:!0}))},f.$$arity=0),e.defn(j,"$restore_original_visibility",d=function(){var t,n,$=this;return n=$.original_visibility,(t=n!==!1&&n!==r&&null!=n?N.get("MethodReference")["$method_defined_at_any_visibility?"]($.$object_singleton_class(),$.method_name):n)===r||null==t||t.$$is_boolean&&1!=t?r:(t=$.$object_singleton_class()).$__send__.apply(t,e.to_a($.original_visibility))},d.$$arity=0),e.defn(j,"$verify",h=function(){var e,t,n,$=this;return(e=(t=$.$expectations()).$each,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),e.$verify_messages_received()},n.$$s=$,n.$$arity=1,n),e).call(t)},h.$$arity=0),e.defn(j,"$reset",g=function(){var e=this;return e.$restore_original_method(),e.$clear()},g.$$arity=0),e.defn(j,"$clear",m=function(){var e=this;return e.$expectations().$clear(),e.$stubs().$clear()},m.$$arity=0),e.defn(j,"$message_expectation_class",y=function(){return N.get("MessageExpectation")},y.$$arity=0),e.defn(j,"$add_expectation",v=function(e,t,n,$){var a,i,o=this,s=v.$$p,l=s||r,u=r;return v.$$p=null,o.$configure_method(),u=(a=(i=o.$message_expectation_class()).$new,a.$$p=l.$to_proc(),a).call(i,e,t,n,o,"expectation",$),o.$expectations()["$<<"](u),u},v.$$arity=4),e.defn(j,"$build_expectation",b=function(e,t){var n=this,$=r;return $=N.get("IGNORED_BACKTRACE_LINE"),n.$message_expectation_class().$new(e,t,$,n)},b.$$arity=2),e.defn(j,"$add_stub",x=function(e,t,n,$){var i,o,s=this,l=x.$$p,u=l||r,c=r;return null==$&&($=a([],{})),x.$$p=null,s.$configure_method(),c=(i=(o=s.$message_expectation_class()).$new,i.$$p=u.$to_proc(),i).call(o,e,t,n,s,"stub",$),s.$stubs().$unshift(c),c},x.$$arity=-4),e.defn(j,"$add_simple_stub",w=function(e,t){var r=this;return r.$setup_simple_method_double(e,t,r.$stubs())},w.$$arity=2),e.defn(j,"$add_simple_expectation",k=function(e,t,r,n){var $=this;return $.$setup_simple_method_double(e,t,$.$expectations(),r,n)},k.$$arity=4),e.defn(j,"$setup_simple_method_double",S=function(e,t,n,$,a){var i=this,o=r;return null==$&&($=r),null==a&&(a=r),i.$define_proxy_method(),o=N.get("SimpleMessageExpectation").$new(e,t,$,a),n.$unshift(o),o},S.$$arity=-4),e.defn(j,"$add_default_stub",E=function(){var t,n,$,a=this,i=E.$$p,o=i||r,s=arguments.length,l=s-0;0>l&&(l=0),$=new Array(l);for(var u=0;s>u;u++)$[u-0]=arguments[u];return E.$$p=null,(t=a.$stubs()["$any?"]())===r||null==t||t.$$is_boolean&&1!=t?(t=(n=a).$add_stub,t.$$p=o.$to_proc(),t).apply(n,e.to_a($)):r},E.$$arity=-1),e.defn(j,"$remove_stub",R=function(){var e,t=this;return(e=t.$stubs()["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e||t.$raise_method_not_stubbed_error(),t.$remove_stub_if_present()},R.$$arity=0),e.defn(j,"$remove_stub_if_present",A=function(){var e,t=this;return(e=t.$expectations()["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e?t.$stubs().$clear():t.$reset()},A.$$arity=0),e.defn(j,"$raise_method_not_stubbed_error",O=function(){var e=this;return e.$raise(N.get("MockExpectationError"),"The method `"+e.$method_name()+"` was not stubbed or was already unstubbed")},O.$$arity=0),(M=N.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==M||M.$$is_boolean&&1!=M?(j.$private(),e.defn(j,"$definition_target",z=function(){var e=this;return e.$object_singleton_class()},z.$$arity=0),r&&"definition_target"):(j.$private(),e.cdecl(N,"RSpecPrependedModule",N.get("Class").$new(N.get("Module"))),e.defn(j,"$definition_target",T=function(){var e,t,n=this;return(e=n.definition_target)!==!1&&e!==r&&null!=e?e:n.definition_target=(t=n.$usable_rspec_prepended_module())!==!1&&t!==r&&null!=t?t:n.$object_singleton_class()},T.$$arity=0),e.defn(j,"$usable_rspec_prepended_module",C=function(){try{var t,n,$,a=this;return(t=(n=a.proxy.$prepended_modules_of_singleton_class()).$each,t.$$p=($=function(t){var n,a=$.$$s||this;return null==t&&(t=r),(n=N.get("RSpecPrependedModule")["$==="](t))===r||null==n||n.$$is_boolean&&1!=n||e.ret(t),(n=t["$method_defined?"](a.$method_name()))===r||null==n||n.$$is_boolean&&1!=n?r:void e.ret(a.$new_rspec_prepended_module())},$.$$s=a,$.$$arity=1,$),t).call(n),r}catch(i){if(i===e.returner)return i.$v;throw i}},C.$$arity=0),e.defn(j,"$new_rspec_prepended_module",I=function(){var e,t,n,$=this;return(e=(t=N.get("RSpecPrependedModule").$new()).$tap,e.$$p=(n=function(e){var t=n.$$s||this;return null==e&&(e=r),t.$object_singleton_class().$__send__("prepend",e)},n.$$s=$,n.$$arity=1,n),e).call(t)},I.$$arity=0),r&&"new_rspec_prepended_module")}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/mocks/method_reference"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$when_loaded","$method_implemented?","$!","$implemented?","$method_defined?","$original_method","$new","$visibility_from","$private","$defined?","$find_method","$public_method_defined?","$private_method_defined?","$protected_method_defined?","$tap","$nil?","$respond_to?","$instance_method_visibility_for","$method_defined_at_any_visibility?","$==","$<","$to_i","$[]","$split","$instance_method","$dup","$method","$method_visibility_for"]),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Mocks"),s=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var $,i,o,s,l,u,c,_,p,f=r=a(t,$super,"MethodReference",r),d=f.$$proto,h=f.$$scope;return d.object_reference=n,e.defn(f,"$initialize",$=function(e,t){var r=this;return r.object_reference=e,r.method_name=t},$.$$arity=2),e.defn(f,"$implemented?",i=function(){var e,t,r,$=this;return(e=(t=$.object_reference).$when_loaded,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=n),t["$method_implemented?"](e)},r.$$s=$,r.$$arity=1,r),e).call(t)},i.$$arity=0),e.defn(f,"$unimplemented?",o=function(){try{var t,r,$,a=this;return(t=(r=a.object_reference).$when_loaded,t.$$p=($=function(t){var r=$.$$s||this;null==t&&(t=n),e.ret(r["$implemented?"]()["$!"]())},$.$$s=a,$.$$arity=1,$),t).call(r),!1}catch(i){if(i===e.returner)return i.$v;throw i}},o.$$arity=0),e.defn(f,"$defined?",s=function(){var e,t,r,$=this;return(e=(t=$.object_reference).$when_loaded,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=n),t["$method_defined?"](e)},r.$$s=$,r.$$arity=1,r),e).call(t)},s.$$arity=0),e.defn(f,"$with_signature",l=function(){var t,r=this,$=l.$$p,a=$||n,i=n;return l.$$p=null,(t=i=r.$original_method())===n||null==t||t.$$is_boolean&&1!=t?n:e.yield1(a,h.get("Support").$$scope.get("MethodSignature").$new(i))},l.$$arity=0),e.defn(f,"$visibility",u=function(){try{var t,r,$,a=this;return(t=(r=a.object_reference).$when_loaded,t.$$p=($=function(t){var r=$.$$s||this;null==t&&(t=n),e.ret(r.$visibility_from(t))},$.$$s=a,$.$$arity=1,$),t).call(r),"public"}catch(i){if(i===e.returner)return i.$v;throw i}},u.$$arity=0),f.$private(),e.defn(f,"$original_method",c=function(){var e,t,r,$=this;return(e=(t=$.object_reference).$when_loaded,e.$$p=(r=function(e){var t,$=r.$$s||this;return null==e&&(e=n),t=$["$defined?"](),t!==!1&&t!==n&&null!=t?$.$find_method(e):t},r.$$s=$,r.$$arity=1,r),e).call(t)},c.$$arity=0),e.defs(f,"$instance_method_visibility_for",_=function(e,t){var r;return(r=e["$public_method_defined?"](t))===n||null==r||r.$$is_boolean&&1!=r?(r=e["$private_method_defined?"](t))===n||null==r||r.$$is_boolean&&1!=r?(r=e["$protected_method_defined?"](t))===n||null==r||r.$$is_boolean&&1!=r?n:"protected":"private":"public"},_.$$arity=2),function(t){t.$$scope,t.$$proto;return e.alias(t,"method_defined_at_any_visibility?","instance_method_visibility_for")}(e.get_singleton_class(f)),e.defs(f,"$method_visibility_for",p=function(t,r){try{var $,a,i,o=this;return($=(a=o.$instance_method_visibility_for(function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t)),r)).$tap,$.$$p=(i=function($){var a,o;i.$$s||this;return null==$&&($=n),o=$["$nil?"](),(a=o!==!1&&o!==n&&null!=o?t["$respond_to?"](r,!1):o)===n||null==a||a.$$is_boolean&&1!=a?n:void e.ret("public")},i.$$s=o,i.$$arity=1,i),$).call(a)}catch(s){if(s===e.returner)return s.$v;throw s}},p.$$arity=2),n&&"method_visibility_for"}(s.base,null),function(r,$super){function $(){}var i,o,s,l,u,c,_=$=a(r,$super,"InstanceMethodReference",$),p=_.$$proto,f=_.$$scope;return p.method_name=n,_.$private(),e.defn(_,"$method_implemented?",i=function(e){var t=this;return f.get("MethodReference")["$method_defined_at_any_visibility?"](e,t.method_name)},i.$$arity=1),e.alias(_,"method_defined?","method_implemented?"),(o=(s=f.get("RUBY_PLATFORM")["$=="]("java"))?t(f.get("JRUBY_VERSION").$split(".")["$[]"](-1).$to_i(),5):f.get("RUBY_PLATFORM")["$=="]("java"))===n||null==o||o.$$is_boolean&&1!=o?e.defn(_,"$find_method",u=function(e){var t=this;return e.$instance_method(t.method_name)},u.$$arity=1):e.defn(_,"$find_method",l=function(e){var t=this;return e.$dup().$instance_method(t.method_name)},l.$$arity=1),e.defn(_,"$visibility_from",c=function(e){var t=this;return f.get("MethodReference").$instance_method_visibility_for(e,t.method_name)},c.$$arity=1),n&&"visibility_from"}(s.base,s.get("MethodReference")),function(t,$super){function r(){}var $,i,o,s,l=r=a(t,$super,"ObjectMethodReference",r),u=l.$$proto,c=l.$$scope;return u.method_name=n,l.$private(),e.defn(l,"$method_implemented?",$=function(e){var t=this;return e["$respond_to?"](t.method_name,!0)},$.$$arity=1),e.defn(l,"$method_defined?",i=function(t){var r=this;return function(e){e.$$scope,e.$$proto;return e}(e.get_singleton_class(t))["$method_defined?"](r.method_name)},i.$$arity=1),e.defn(l,"$find_method",o=function(e){var t=this;return e.$method(t.method_name)},o.$$arity=1),e.defn(l,"$visibility_from",s=function(e){var t=this;return c.get("MethodReference").$method_visibility_for(e,t.method_name)},s.$$arity=1),n&&"visibility_from"}(s.base,s.get("MethodReference"))}(s.base)}(r.base)},Opal.modules["rspec/mocks/mutate_const"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass,o=e.hash2,s=e.hash;return e.add_stubs(["$require_rspec_support","$extend","$attr_reader","$attr_accessor","$attr_writer","$name","$class","$new","$previously_defined=","$recursive_const_defined?","$stubbed=","$hidden=","$previously_defined?","$original_value=","$recursive_const_get","$constant_mutator_for","$space","$to_constant","$unmutated","$to_proc","$raise_on_invalid_const","$mutate","$[]","$include","$normalize_const_name","$split","$pop","$full_constant_name","$original_value","$reset","$join","$get_const_defined_on","$__send__","$const_set","$verify_constants_to_transfer!","$transfer_nested_constants","$each","$should_transfer_nested_constants?","$respond_to?","$raise","$===","$==","$map","$-","$constants_defined_on","$any?","$transfer_nested_constants?","$configuration","$inject","$const_defined_on?","$stub","$name_for","$private","$+","$register_constant_mutator","$lambda"]),n.get("RSpec").$$scope.get("Support").$require_rspec_support("recursive_const_methods"),function(n){var l,u=l=a(n,"RSpec"),c=(u.$$proto,u.$$scope);!function(n){var l,u=l=a(n,"Mocks"),c=(u.$$proto,u.$$scope);!function(t,$super){function r(){}var n,a,o,s,l,u,c,_,p=r=i(t,$super,"Constant",r),f=p.$$proto,d=p.$$scope;return f.previously_defined=f.stubbed=f.hidden=$,p.$extend(d.get("Support").$$scope.get("RecursiveConstMethods")),e.defn(p,"$initialize",n=function(e){var t=this;return t.name=e,t.previously_defined=!1,t.stubbed=!1,t.hidden=!1},n.$$arity=1),p.$attr_reader("name"),p.$attr_accessor("original_value"),p.$attr_writer("previously_defined","stubbed","hidden"),e.defn(p,"$previously_defined?",a=function(){var e=this;return e.previously_defined},a.$$arity=0),e.defn(p,"$mutated?",o=function(){var e,t=this;return(e=t.stubbed)!==!1&&e!==$&&null!=e?e:t.hidden},o.$$arity=0),e.defn(p,"$stubbed?",s=function(){var e=this;return e.stubbed},s.$$arity=0),e.defn(p,"$hidden?",l=function(){var e=this;return e.hidden},l.$$arity=0),e.defn(p,"$to_s",u=function(){var e=this;return"#<"+e.$class().$name()+" "+e.$name()+">"},u.$$arity=0),e.alias(p,"inspect","to_s"),e.defs(p,"$unmutated",c=function(e){var t,r,n=this,a=$;return a=n.$new(e),t=[n["$recursive_const_defined?"](e)],r=a,r["$previously_defined="].apply(r,t),t[t.length-1],t=[!1],r=a,r["$stubbed="].apply(r,t),t[t.length-1],t=[!1],r=a,r["$hidden="].apply(r,t),t[t.length-1],(t=a["$previously_defined?"]())===$||null==t||t.$$is_boolean&&1!=t||(t=[n.$recursive_const_get(e)],r=a,r["$original_value="].apply(r,t),t[t.length-1]),a},c.$$arity=1),e.defs(p,"$original",_=function(t){var r=this,n=$;return n=e.get("RSpec").$$scope.get("Mocks").$space().$constant_mutator_for(t),n!==!1&&n!==$&&null!=n?n.$to_constant():r.$unmutated(t)},_.$$arity=1),$&&"original"}(c.base,null),function(n,$super){function a(){}var l,u,c,_,p=a=i(n,$super,"ConstantMutator",a),f=(p.$$proto,p.$$scope);return p.$extend(f.get("Support").$$scope.get("RecursiveConstMethods")),e.defs(p,"$stub",l=function(e,t,r){var n,a,i,s=this,l=$;return null==r&&(r=o([],{})),l=function(){return(n=(a=(i=s)["$recursive_const_defined?"],a.$$p=s.$raise_on_invalid_const().$to_proc(),a).call(i,e))===$||null==n||n.$$is_boolean&&1!=n?f.get("UndefinedConstantSetter"):f.get("DefinedConstantReplacer")}(),s.$mutate(l.$new(e,t,r["$[]"]("transfer_nested_constants"))),t},l.$$arity=-3),e.defs(p,"$hide",u=function(e){var t=this;return t.$mutate(f.get("ConstantHider").$new(e,$,o([],{}))),$},u.$$arity=1),function(t,$super){function r(){}var n,a,o,s=r=i(t,$super,"BaseMutator",r),l=s.$$proto,u=s.$$scope;return l.full_constant_name=l.context_parts=l.reset_performed=$,s.$include(u.get("Support").$$scope.get("RecursiveConstMethods")),s.$attr_reader("original_value","full_constant_name"),e.defn(s,"$initialize",n=function(e,t,r){var n=this;return n.full_constant_name=n.$normalize_const_name(e),n.mutated_value=t,n.transfer_nested_constants=r,n.context_parts=n.full_constant_name.$split("::"),n.const_name=n.context_parts.$pop(),n.reset_performed=!1},n.$$arity=3),e.defn(s,"$to_constant",a=function(){var e,t,r=this,n=$;return n=u.get("Constant").$new(r.$full_constant_name()),e=[r.$original_value()],t=n,t["$original_value="].apply(t,e),e[e.length-1],n},a.$$arity=0),e.defn(s,"$idempotently_reset",o=function(){var e,t=this;return((e=t.reset_performed)===$||null==e||e.$$is_boolean&&1!=e)&&t.$reset(),t.reset_performed=!0},o.$$arity=0),$&&"idempotently_reset"}(f.base,null),function(t,$super){function r(){}var n,a,o,s=r=i(t,$super,"ConstantHider",r),l=s.$$proto,u=s.$$scope;return l.context_parts=l.context=l.const_name=l.defined=l.original_value=$,e.defn(s,"$mutate",n=function(){var e,t=this;return(e=t.defined=t["$recursive_const_defined?"](t.$full_constant_name()))===$||null==e||e.$$is_boolean&&1!=e?$:(t.context=t.$recursive_const_get(t.context_parts.$join("::")),t.original_value=t.$get_const_defined_on(t.context,t.const_name),t.context.$__send__("remove_const",t.const_name))},n.$$arity=0),e.defn(s,"$to_constant",a=function(){var t,r,n,i=this,o=a.$$p,s=$,l=$,c=$;for(a.$$p=null,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return(t=i.defined)===$||null==t||t.$$is_boolean&&1!=t?u.get("Constant").$unmutated(i.$full_constant_name()):(s=(r=i,t=e.find_super_dispatcher(i,"to_constant",a,!1),t.$$p=o,t).apply(r,l),t=[!0],n=s,n["$hidden="].apply(n,t),t[t.length-1],t=[!0],n=s,n["$previously_defined="].apply(n,t),t[t.length-1],s)},a.$$arity=0),e.defn(s,"$reset",o=function(){var e,t=this;return(e=t.defined)===$||null==e||e.$$is_boolean&&1!=e?$:t.context.$const_set(t.const_name,t.original_value)},o.$$arity=0),$&&"reset"}(f.base,f.get("BaseMutator")),function(r,$super){function n(){}var a,o,l,u,c,_,p,f=n=i(r,$super,"DefinedConstantReplacer",n),d=f.$$proto,h=f.$$scope;return d.context_parts=d.context=d.const_name=d.mutated_value=d.constants_to_transfer=d.original_value=d.transfer_nested_constants=d.full_constant_name=$,e.defn(f,"$initialize",a=function(){var t,r,n,i=this,o=a.$$p,s=$,l=$,u=arguments.length,c=u-0;0>c&&(c=0),n=new Array(c);for(var _=0;u>_;_++)n[_-0]=arguments[_];for(a.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=i,t=e.find_super_dispatcher(i,"initialize",a,!1),t.$$p=o,t).apply(r,s),i.constants_to_transfer=[]},a.$$arity=-1),e.defn(f,"$mutate",o=function(){var e=this;return e.context=e.$recursive_const_get(e.context_parts.$join("::")),e.original_value=e.$get_const_defined_on(e.context,e.const_name),e.constants_to_transfer=e["$verify_constants_to_transfer!"](),e.context.$__send__("remove_const",e.const_name),e.context.$const_set(e.const_name,e.mutated_value),e.$transfer_nested_constants()},o.$$arity=0),e.defn(f,"$to_constant",l=function(){var t,r,n,a=this,i=l.$$p,o=$,s=$,u=$;for(l.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return o=(r=a,t=e.find_super_dispatcher(a,"to_constant",l,!1),t.$$p=i,t).apply(r,s),t=[!0],n=o,n["$stubbed="].apply(n,t),t[t.length-1],t=[!0],n=o,n["$previously_defined="].apply(n,t),t[t.length-1],o},l.$$arity=0),e.defn(f,"$reset",u=function(){var e,t,r,n=this;return(e=(t=n.constants_to_transfer).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==t.mutated_value&&(t.mutated_value=$),null==e&&(e=$),t.mutated_value.$__send__("remove_const",e)},r.$$s=n,r.$$arity=1,r),e).call(t),n.context.$__send__("remove_const",n.const_name),n.context.$const_set(n.const_name,n.original_value)},u.$$arity=0),e.defn(f,"$transfer_nested_constants",c=function(){var e,t,r,n=this;return(e=(t=n.constants_to_transfer).$each,e.$$p=(r=function(e){var t=r.$$s||this;return null==t.mutated_value&&(t.mutated_value=$),null==e&&(e=$),t.mutated_value.$const_set(e,t.$get_const_defined_on(t.$original_value(),e))},r.$$s=n,r.$$arity=1,r),e).call(t)},c.$$arity=0),e.defn(f,"$verify_constants_to_transfer!",_=function(){var e,r,n,a,i=this,o=$,l=$;return(e=i["$should_transfer_nested_constants?"]())===$||null==e||e.$$is_boolean&&1!=e?[]:((e=(r=s(i.original_value,"the original value",i.mutated_value,"the stubbed value")).$each,e.$$p=(n=function(e,t){var r,a=n.$$s||this;return null==a.full_constant_name&&(a.full_constant_name=$),null==e&&(e=$),null==t&&(t=$),(r=e["$respond_to?"]("constants"))===$||null==r||r.$$is_boolean&&1!=r?a.$raise(h.get("ArgumentError"),"Cannot transfer nested constants for "+a.full_constant_name+" "+("since "+t+" is not a class or module and only classes ")+"and modules support nested constants."):$},n.$$s=i,n.$$arity=2,n),e).call(r),(e=h.get("Array")["$==="](i.transfer_nested_constants))===$||null==e||e.$$is_boolean&&1!=e?i.$constants_defined_on(i.original_value):(h.get("RUBY_VERSION")["$=="]("1.8.7")&&(i.transfer_nested_constants=(e=(a=i.transfer_nested_constants).$map,e.$$p="to_s".$to_proc(),e).call(a)),o=t(i.transfer_nested_constants,i.$constants_defined_on(i.original_value)),(e=o["$any?"]())===$||null==e||e.$$is_boolean&&1!=e||(l=t(i.$constants_defined_on(i.original_value),i.transfer_nested_constants),i.$raise(h.get("ArgumentError"),"Cannot transfer nested constant(s) "+o.$join(" and ")+" "+("for "+i.full_constant_name+" since they are not defined. Did you mean ")+(""+l.$join(" or ")+"?"))),i.transfer_nested_constants))},_.$$arity=0),e.defn(f,"$should_transfer_nested_constants?",p=function(){var e,t=this;return(e=t.transfer_nested_constants)===$||null==e||e.$$is_boolean&&1!=e?(e=h.get("RSpec").$$scope.get("Mocks").$configuration()["$transfer_nested_constants?"]())===$||null==e||e.$$is_boolean&&1!=e?!1:(e=t.original_value["$respond_to?"]("constants"),e!==!1&&e!==$&&null!=e?t.mutated_value["$respond_to?"]("constants"):e):!0},p.$$arity=0),$&&"should_transfer_nested_constants?"}(f.base,f.get("BaseMutator")),function(t,$super){function n(){}var a,o,s,l,u=n=i(t,$super,"UndefinedConstantSetter",n),c=u.$$proto,_=u.$$scope;return c.context_parts=c.parent=c.const_name=c.mutated_value=$,e.defn(u,"$mutate",a=function(){var e,t,r,n=this;return n.parent=(e=(t=n.context_parts).$inject,e.$$p=(r=function(e,t){var n,a=r.$$s||this;return null==e&&(e=$),null==t&&(t=$),(n=a["$const_defined_on?"](e,t))===$||null==n||n.$$is_boolean&&1!=n?_.get("ConstantMutator").$stub(a.$name_for(e,t),_.get("Module").$new()):a.$get_const_defined_on(e,t)},r.$$s=n,r.$$arity=2,r),e).call(t,_.get("Object")),n.parent.$const_set(n.const_name,n.mutated_value)},a.$$arity=0),e.defn(u,"$to_constant",o=function(){var t,r,n,a=this,i=o.$$p,s=$,l=$,u=$;for(o.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return s=(r=a,t=e.find_super_dispatcher(a,"to_constant",o,!1),t.$$p=i,t).apply(r,l),t=[!0],n=s,n["$stubbed="].apply(n,t),t[t.length-1],t=[!1],n=s,n["$previously_defined="].apply(n,t),t[t.length-1],s},o.$$arity=0),e.defn(u,"$reset",s=function(){var e=this;return e.parent.$__send__("remove_const",e.const_name)},s.$$arity=0),u.$private(),e.defn(u,"$name_for",l=function(e,t){var n=$;return n=function(){return e["$=="](_.get("Object"))?"":e.$name()}(),r(r(n,"::"),t)},l.$$arity=2),$&&"name_for"}(f.base,f.get("BaseMutator")),e.defs(p,"$mutate",c=function(t){return e.get("RSpec").$$scope.get("Mocks").$space().$register_constant_mutator(t),t.$mutate()},c.$$arity=1),e.defs(p,"$raise_on_invalid_const",_=function(){var e,t,r,n=this;return(e=(t=n).$lambda,e.$$p=(r=function(e,t){var n=r.$$s||this;return null==e&&(e=$),null==t&&(t=$),n.$raise("Cannot stub constant "+t+" on "+e+" "+("since "+e+" is not a module."))},r.$$s=n,r.$$arity=2,r),e).call(t)},_.$$arity=0),$&&"raise_on_invalid_const"}(c.base,null)}(c.base)}(n.base)},Opal.modules["rspec/mocks/object_reference"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$===","$new","$raise","$inspect","$name","$!","$object","$private","$original_value","$original"]),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Mocks"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i=n=$(t,$super,"ObjectReference",n),o=(i.$$proto,i.$$scope);return e.defs(i,"$for",a=function(e,t){var n=this,$=r;return null==t&&(t=!1),function(){return $=e,o.get("Module")["$==="]($)?o.get("DirectModuleReference").$new(e):o.get("String")["$==="]($)?o.get("NamedObjectReference").$new(e):t!==!1&&t!==r&&null!=t?o.get("DirectObjectReference").$new(e):n.$raise(o.get("ArgumentError"),"Module or String expected, got "+e.$inspect())}()},a.$$arity=-2),r&&"for"}(o.base,null),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"DirectObjectReference",n),c=u.$$proto,_=u.$$scope;return c.object=r,e.defn(u,"$initialize",a=function(e){var t=this;return t.object=e},a.$$arity=1),e.defn(u,"$description",i=function(){var e=this;return e.object.$inspect()},i.$$arity=0),e.defn(u,"$const_to_replace",o=function(){var e=this;return e.$raise(_.get("ArgumentError"),"Can not perform constant replacement with an object.")},o.$$arity=0),e.defn(u,"$defined?",s=function(){return!0},s.$$arity=0),e.defn(u,"$when_loaded",l=function(){var t=this,n=l.$$p,$=n||r;return l.$$p=null,e.yield1($,t.object)},l.$$arity=0),r&&"when_loaded"}(o.base,null),function(t,$super){function n(){}var a,i=n=$(t,$super,"DirectModuleReference",n),o=i.$$proto;i.$$scope;return o.object=r,e.defn(i,"$const_to_replace",a=function(){var e=this;return e.object.$name()},a.$$arity=0),e.alias(i,"description","const_to_replace")}(o.base,o.get("DirectObjectReference")),function(t,$super){function n(){}var a,i,o,s,l,u=n=$(t,$super,"NamedObjectReference",n),c=u.$$proto,_=u.$$scope;return c.const_name=c.object=r,e.defn(u,"$initialize",a=function(e){var t=this;return t.const_name=e},a.$$arity=1),e.defn(u,"$defined?",i=function(){var e=this;return e.$object()["$!"]()["$!"]()},i.$$arity=0),e.defn(u,"$const_to_replace",o=function(){var e=this;return e.const_name},o.$$arity=0),e.alias(u,"description","const_to_replace"),e.defn(u,"$when_loaded",s=function(){
var t,n=this,$=s.$$p,a=$||r;return s.$$p=null,(t=n.$object())===r||null==t||t.$$is_boolean&&1!=t?r:e.yield1(a,n.$object())},s.$$arity=0),u.$private(),e.defn(u,"$object",l=function(){var e,t=this;return(e=t.object)!==!1&&e!==r&&null!=e?e:t.object=_.get("Constant").$original(t.const_name).$original_value()},l.$$arity=0),r&&"object"}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/mocks/order_group"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.range;return e.add_stubs(["$<<","$==","$find","$to_proc","$remaining_expectations","$each_with_index","$ordered?","$+","$include?","$ready_for?","$consume","$raise_out_of_order_error","$expectations_invoked_in_order?","$clear","$empty?","$private","$[]","$invoked_expectations","$expected_invocations","$select","$compact","$map","$expectation_for"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Mocks"),l=(s.$$proto,s.$$scope);!function(r,$super){function $(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b=$=a(r,$super,"OrderGroup",$),x=b.$$proto;b.$$scope;return x.expectations=x.invocation_order=x.index=n,e.defn(b,"$initialize",o=function(){var e=this;return e.expectations=[],e.invocation_order=[],e.index=0},o.$$arity=0),e.defn(b,"$register",s=function(e){var t=this;return t.expectations["$<<"](e)},s.$$arity=1),e.defn(b,"$invoked",l=function(e){var t=this;return t.invocation_order["$<<"](e)},l.$$arity=1),e.defn(b,"$ready_for?",u=function(e){var t,r,n=this;return(t=(r=n.$remaining_expectations()).$find,t.$$p="ordered?".$to_proc(),t).call(r)["$=="](e)},u.$$arity=1),e.defn(b,"$consume",c=function(){try{var r,$,a,i=this;return(r=($=i.$remaining_expectations()).$each_with_index,r.$$p=(a=function(r,$){var i,o=a.$$s||this;return null==o.index&&(o.index=n),null==r&&(r=n),null==$&&($=n),(i=r["$ordered?"]())===n||null==i||i.$$is_boolean&&1!=i?n:(o.index=t(o.index,t($,1)),void e.ret(r))},a.$$s=i,a.$$arity=2,a),r).call($),n}catch(o){if(o===e.returner)return o.$v;throw o}},c.$$arity=0),e.defn(b,"$handle_order_constraint",_=function(e){var t,r,$=this;return r=e["$ordered?"](),(t=r!==!1&&r!==n&&null!=r?$.$remaining_expectations()["$include?"](e):r)===n||null==t||t.$$is_boolean&&1!=t?n:(t=$["$ready_for?"](e))===n||null==t||t.$$is_boolean&&1!=t?e.$raise_out_of_order_error():$.$consume()},_.$$arity=1),e.defn(b,"$verify_invocation_order",p=function(e){var t,r=this;return((t=r["$expectations_invoked_in_order?"]())===n||null==t||t.$$is_boolean&&1!=t)&&e.$raise_out_of_order_error(),!0},p.$$arity=1),e.defn(b,"$clear",f=function(){var e=this;return e.index=0,e.invocation_order.$clear(),e.expectations.$clear()},f.$$arity=0),e.defn(b,"$empty?",d=function(){var e=this;return e.expectations["$empty?"]()},d.$$arity=0),b.$private(),e.defn(b,"$remaining_expectations",h=function(){var e,t=this;return(e=t.expectations["$[]"](i(t.index,-1,!1)))!==!1&&e!==n&&null!=e?e:[]},h.$$arity=0),e.defn(b,"$expectations_invoked_in_order?",g=function(){var e=this;return e.$invoked_expectations()["$=="](e.$expected_invocations())},g.$$arity=0),e.defn(b,"$invoked_expectations",m=function(){var e,t,r,$=this;return(e=(t=$.expectations).$select,e.$$p=(r=function(e){var t,$=r.$$s||this;return null==$.invocation_order&&($.invocation_order=n),null==e&&(e=n),t=e["$ordered?"](),t!==!1&&t!==n&&null!=t?$.invocation_order["$include?"](e):t},r.$$s=$,r.$$arity=1,r),e).call(t)},m.$$arity=0),e.defn(b,"$expected_invocations",y=function(){var e,t,r,$=this;return(e=(t=$.invocation_order).$map,e.$$p=(r=function(e){var t=r.$$s||this;return null==e&&(e=n),t.$expectation_for(e)},r.$$s=$,r.$$arity=1,r),e).call(t).$compact()},y.$$arity=0),e.defn(b,"$expectation_for",v=function(e){var t,r,$,a=this;return(t=(r=a.expectations).$find,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),e["$=="](t)},$.$$s=a,$.$$arity=1,$),t).call(r)},v.$$arity=1),n&&"expectation_for"}(l.base,null)}(l.base)}(r.base)},Opal.modules["rspec/mocks/proxy"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$new","$==","$orig_object","$object","$matches?","$message","$args","$[]=","$attr_reader","$fetch","$first_non_rspec_line","$method_double_for","$null_object?","$!","$add_default_stub","$add_expectation","$to_proc","$add_simple_expectation","$build_expectation","$any?","$expectations","$raise_expectation_on_mocked_method","$stubs","$raise_expectation_on_unstubbed_method","$each","$safe_invoke","$call","$matches_name_but_not_args","$raise_unexpected_message_args_error","$add_stub","$add_simple_stub","$remove_stub","$remove_stub_if_present","$each_value","$verify","$clear","$find","$negative_expectation_for?","$invoked","$<<","$record_message_received","$find_matching_expectation","$find_matching_method_stub","$called_max_times?","$actual_received_count_matters?","$increase_actual_received_count!","$find_almost_matching_expectation","$expected_messages_received?","$advise","$invoke","$has_negative_expectation?","$find_almost_matching_stub","$raise_missing_default_stub_error","$===","$__send__","$superclass","$raise_unexpected_message_error","$module_prepends_supported?","$ancestors","$index","$[]","$prepended_modules_of","$singleton_class","$private","$to_sym","$find_best_matching_expectation_for","$__disallow_further_usage!","$any_instance_class_recorder_observing_method?","$class","$build_alias_method_name","$any_instance_recorder_for","$space","$method_handle_for","$configure_method","$method_visibility_for","$reset","$notify_received_message","$any_instance_recorders_from_ancestry_of","$already_observing?","$nil?","$superclass_proxy","$original_unbound_method_handle_from_ancestor_for","$bind","$protected","$unbind","$original_method","$proxy_for","$include","$attr_accessor","$warn_about_expectations?","$warn"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P,F,D,B=n=$(t,$super,"Proxy",n),H=B.$$proto,L=B.$$scope;return H.null_object=H.object=H.error_generator=H.order_group=H.messages_received=H.method_doubles=H.prepended_modules_of_singleton_class=r,e.cdecl(L,"SpecificMessage",(i=(o=L.get("Struct")).$new,i.$$p=(s=function(){var t,n=s.$$s||this;return e.def(n,"$==",t=function(t){var r,n,$=this;return(r=t.$orig_object()["$=="]($.$object()))?(n=t)["$matches?"].apply(n,[$.$message()].concat(e.to_a($.$args()))):t.$orig_object()["$=="]($.$object())},t.$$arity=1),r&&"=="},s.$$s=B,s.$$arity=0,s),i).call(o,"object","message","args")),e.defn(B,"$ensure_implemented",l=function(){var e,t=arguments.length,n=t-0;0>n&&(n=0),e=new Array(n);for(var $=0;t>$;$++)e[$-0]=arguments[$];return r},l.$$arity=-1),e.defn(B,"$initialize",u=function(e,t,n,$){var i,o,s,l=this;return null==n&&(n=r),null==$&&($=a([],{})),l.object=e,l.order_group=t,l.name=n,l.error_generator=L.get("ErrorGenerator").$new(e,n),l.messages_received=[],l.options=$,l.null_object=!1,l.method_doubles=(i=(o=L.get("Hash")).$new,i.$$p=(s=function(e,t){var n=s.$$s||this;return null==n.object&&(n.object=r),null==e&&(e=r),null==t&&(t=r),e["$[]="](t,L.get("MethodDouble").$new(n.object,t,n))},s.$$s=l,s.$$arity=2,s),i).call(o)},u.$$arity=-3),B.$attr_reader("object"),e.defn(B,"$null_object?",c=function(){var e=this;return e.null_object},c.$$arity=0),e.defn(B,"$as_null_object",_=function(){var e=this;return e.null_object=!0,e.object},_.$$arity=0),e.defn(B,"$original_method_handle_for",p=function(){return r},p.$$arity=1),e.defn(B,"$add_message_expectation",f=function(e,t){var n,$,i,o,s,l,u=this,c=f.$$p,_=c||r,p=r,d=r;return null==t&&(t=a([],{})),f.$$p=null,p=(n=($=t).$fetch,n.$$p=(i=function(){i.$$s||this;return L.get("CallerFilter").$first_non_rspec_line()},i.$$s=u,i.$$arity=0,i),n).call($,"expected_from"),d=u.$method_double_for(e),o=u["$null_object?"](),(n=o!==!1&&o!==r&&null!=o?_["$!"]():o)===r||null==n||n.$$is_boolean&&1!=n||(n=(o=d).$add_default_stub,n.$$p=(s=function(){var e=s.$$s||this;return null==e.object&&(e.object=r),e.object},s.$$s=u,s.$$arity=0,s),n).call(o,u.error_generator,u.order_group,p,t),(n=(l=d).$add_expectation,n.$$p=_.$to_proc(),n).call(l,u.error_generator,u.order_group,p,t)},f.$$arity=-2),e.defn(B,"$add_simple_expectation",d=function(e,t,r){var n=this;return n.$method_double_for(e).$add_simple_expectation(e,t,n.error_generator,r)},d.$$arity=3),e.defn(B,"$build_expectation",h=function(e){var t=this,n=r;return n=t.$method_double_for(e),n.$build_expectation(t.error_generator,t.order_group)},h.$$arity=1),e.defn(B,"$replay_received_message_on",g=function(t){var n,$,a,i=this,o=g.$$p,s=o||r,l=r,u=r;return g.$$p=null,l=t.$message(),u=i.$method_double_for(l),(n=u.$expectations()["$any?"]())===r||null==n||n.$$is_boolean&&1!=n||i.error_generator.$raise_expectation_on_mocked_method(l),((n=($=i["$null_object?"]())!==!1&&$!==r&&null!=$?$:u.$stubs()["$any?"]())===r||null==n||n.$$is_boolean&&1!=n)&&i.error_generator.$raise_expectation_on_unstubbed_method(l),(n=($=i.messages_received).$each,n.$$p=(a=function(n){var $,i,o,l,u,c;a.$$s||this;return null==n&&(n=r),n=e.to_ary(n),$=e.slice.call(n,0,n.length),i=$.splice(0,1)[0],null==i&&(i=r),o=$.splice(0,1)[0],null==o&&(o=r),l=$.splice(0,1)[0],null==l&&(l=r),(u=(c=t)["$matches?"].apply(c,[i].concat(e.to_a(o))))===r||null==u||u.$$is_boolean&&1!=u?r:(t.$safe_invoke(r),s!==!1&&s!==r&&null!=s?(u=s).$call.apply(u,e.to_a(o)):r)},a.$$s=i,a.$$arity=1,a.$$has_top_level_mlhs_arg=!0,a),n).call($)},g.$$arity=1),e.defn(B,"$check_for_unexpected_arguments",m=function(t){var n,$,a,i=this;return(n=($=i.messages_received).$each,n.$$p=(a=function(n){var $,i,o,s,l,u,c=a.$$s||this;return null==n&&(n=r),n=e.to_ary(n),$=e.slice.call(n,0,n.length),i=$.splice(0,1)[0],null==i&&(i=r),o=$.splice(0,1)[0],null==o&&(o=r),s=$.splice(0,1)[0],null==s&&(s=r),(l=(u=t).$matches_name_but_not_args.apply(u,[i].concat(e.to_a(o))))===r||null==l||l.$$is_boolean&&1!=l?r:(l=c).$raise_unexpected_message_args_error.apply(l,[t].concat(e.to_a(o)))},a.$$s=i,a.$$arity=1,a.$$has_top_level_mlhs_arg=!0,a),n).call($)},m.$$arity=1),e.defn(B,"$add_stub",y=function(e,t){var n,$,i,o,s=this,l=y.$$p,u=l||r,c=r;return null==t&&(t=a([],{})),y.$$p=null,c=(n=($=t).$fetch,n.$$p=(i=function(){i.$$s||this;return L.get("CallerFilter").$first_non_rspec_line()},i.$$s=s,i.$$arity=0,i),n).call($,"expected_from"),(n=(o=s.$method_double_for(e)).$add_stub,n.$$p=u.$to_proc(),n).call(o,s.error_generator,s.order_group,c,t)},y.$$arity=-2),e.defn(B,"$add_simple_stub",v=function(e,t){var r=this;return r.$method_double_for(e).$add_simple_stub(e,t)},v.$$arity=2),e.defn(B,"$remove_stub",b=function(e){var t=this;return t.$method_double_for(e).$remove_stub()},b.$$arity=1),e.defn(B,"$remove_stub_if_present",x=function(e){var t=this;return t.$method_double_for(e).$remove_stub_if_present()},x.$$arity=1),e.defn(B,"$verify",w=function(){var e,t,n,$=this;return(e=(t=$.method_doubles).$each_value,e.$$p=(n=function(e){n.$$s||this;return null==e&&(e=r),e.$verify()},n.$$s=$,n.$$arity=1,n),e).call(t)},w.$$arity=0),e.defn(B,"$reset",k=function(){var e=this;return e.messages_received.$clear()},k.$$arity=0),e.defn(B,"$received_message?",S=function(e){var t,n,$,a,i=this,o=S.$$p,s=o||r,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var c=1;l>c;c++)a[c-1]=arguments[c];return S.$$p=null,(t=(n=i.messages_received)["$any?"],t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t["$=="]([e,a,s])},$.$$s=i,$.$$arity=1,$),t).call(n)},S.$$arity=-2),e.defn(B,"$has_negative_expectation?",E=function(e){var t,n,$,a=this;return(t=(n=a.$method_double_for(e).$expectations()).$find,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=r),t["$negative_expectation_for?"](e)},$.$$s=a,$.$$arity=1,$),t).call(n)},E.$$arity=1),e.defn(B,"$record_message_received",R=function(e){var t,n=this,$=R.$$p,a=$||r,i=arguments.length,o=i-1;0>o&&(o=0),t=new Array(o);for(var s=1;i>s;s++)t[s-1]=arguments[s];return R.$$p=null,n.order_group.$invoked(L.get("SpecificMessage").$new(n.$object(),e,t)),n.messages_received["$<<"]([e,t,a])},R.$$arity=-2),e.defn(B,"$message_received",A=function(t){var n,$,a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v=this,b=A.$$p,x=b||r,w=r,k=r,S=arguments.length,E=S-1;0>E&&(E=0),y=new Array(E);for(var R=1;S>R;R++)y[R-1]=arguments[R];return A.$$p=null,(n=($=v).$record_message_received,n.$$p=x.$to_proc(),n).apply($,[t].concat(e.to_a(y))),w=(n=v).$find_matching_expectation.apply(n,[t].concat(e.to_a(y))),k=(a=v).$find_matching_method_stub.apply(a,[t].concat(e.to_a(y))),s=(l=k!==!1&&k!==r&&null!=k)?w:k,(i=(o=s!==!1&&s!==r&&null!=s?w["$called_max_times?"]():s)!==!1&&o!==r&&null!=o?o:(s=k!==!1&&k!==r&&null!=k)?w["$!"]():k)===r||null==i||i.$$is_boolean&&1!=i?w!==!1&&w!==r&&null!=w?(s=(u=w).$invoke,s.$$p=x.$to_proc(),s).apply(u,[k].concat(e.to_a(y))):(s=w=(c=v).$find_almost_matching_expectation.apply(c,[t].concat(e.to_a(y))))===r||null==s||s.$$is_boolean&&1!=s?(p=k=(f=v).$find_almost_matching_stub.apply(f,[t].concat(e.to_a(y))))===r||null==p||p.$$is_boolean&&1!=p?(h=L.get("Class")["$==="](v.object))===r||null==h||h.$$is_boolean&&1!=h?(h=(m=v.object).$__send__,h.$$p=x.$to_proc(),h).apply(m,["method_missing",t].concat(e.to_a(y))):(h=(g=v.object.$superclass()).$__send__,h.$$p=x.$to_proc(),h).apply(g,[t].concat(e.to_a(y))):((p=k).$advise.apply(p,e.to_a(y)),(d=v).$raise_missing_default_stub_error.apply(d,[k].concat(e.to_a(y)))):(((s=w["$expected_messages_received?"]())===r||null==s||s.$$is_boolean&&1!=s)&&((s=v["$null_object?"]())===r||null==s||s.$$is_boolean&&1!=s||(s=w).$advise.apply(s,e.to_a(y))),(_=(p=v["$null_object?"]())!==!1&&p!==r&&null!=p?p:v["$has_negative_expectation?"](t)["$!"]())===r||null==_||_.$$is_boolean&&1!=_?r:(_=v).$raise_unexpected_message_args_error.apply(_,[w].concat(e.to_a(y)))):((i=(o=w!==!1&&w!==r&&null!=w)?w["$actual_received_count_matters?"]():w)===r||null==i||i.$$is_boolean&&1!=i||w["$increase_actual_received_count!"](),(i=w=(o=v).$find_almost_matching_expectation.apply(o,[t].concat(e.to_a(y))))===r||null==i||i.$$is_boolean&&1!=i||((i=w["$expected_messages_received?"]())===r||null==i||i.$$is_boolean&&1!=i)&&(i=w).$advise.apply(i,e.to_a(y)),(s=(l=k).$invoke,s.$$p=x.$to_proc(),s).apply(l,[r].concat(e.to_a(y))))},A.$$arity=-2),e.defn(B,"$raise_unexpected_message_error",O=function(t){var r,n,$=this,a=arguments.length,i=a-1;0>i&&(i=0),n=new Array(i);for(var o=1;a>o;o++)n[o-1]=arguments[o];return(r=$.error_generator).$raise_unexpected_message_error.apply(r,[t].concat(e.to_a(n)))},O.$$arity=-2),e.defn(B,"$raise_unexpected_message_args_error",M=function(t){var r,n,$=this,a=arguments.length,i=a-1;0>i&&(i=0),n=new Array(i);for(var o=1;a>o;o++)n[o-1]=arguments[o];return(r=$.error_generator).$raise_unexpected_message_args_error.apply(r,[t].concat(e.to_a(n)))},M.$$arity=-2),e.defn(B,"$raise_missing_default_stub_error",T=function(t){var r,n,$=this,a=arguments.length,i=a-1;0>i&&(i=0),n=new Array(i);for(var o=1;a>o;o++)n[o-1]=arguments[o];return(r=$.error_generator).$raise_missing_default_stub_error.apply(r,[t].concat(e.to_a(n)))},T.$$arity=-2),e.defn(B,"$visibility_for",C=function(){return"public"},C.$$arity=1),(i=L.get("Support").$$scope.get("RubyFeatures")["$module_prepends_supported?"]())===r||null==i||i.$$is_boolean&&1!=i||(e.defs(B,"$prepended_modules_of",I=function(e){var t,n=r,$=r;return n=e.$ancestors(),$=(t=n.$index(e))!==!1&&t!==r&&null!=t?t:0,n["$[]"](0,$)},I.$$arity=1),e.defn(B,"$prepended_modules_of_singleton_class",z=function(){var e,t=this;return(e=t.prepended_modules_of_singleton_class)!==!1&&e!==r&&null!=e?e:t.prepended_modules_of_singleton_class=L.get("RSpec").$$scope.get("Mocks").$$scope.get("Proxy").$prepended_modules_of(t.object.$singleton_class())},z.$$arity=0)),B.$private(),e.defn(B,"$method_double_for",j=function(e){var t=this;return t.method_doubles["$[]"](e.$to_sym())},j.$$arity=1),e.defn(B,"$find_matching_expectation",q=function(t){var n,$,a,i,o=this,s=arguments.length,l=s-1;0>l&&(l=0),i=new Array(l);for(var u=1;s>u;u++)i[u-1]=arguments[u];return(n=($=o).$find_best_matching_expectation_for,n.$$p=(a=function(n){var $;a.$$s||this;return null==n&&(n=r),($=n)["$matches?"].apply($,[t].concat(e.to_a(i)))},a.$$s=o,a.$$arity=1,a),n).call($,t)},q.$$arity=-2),e.defn(B,"$find_almost_matching_expectation",N=function(t){var n,$,a,i,o=this,s=arguments.length,l=s-1;0>l&&(l=0),i=new Array(l);for(var u=1;s>u;u++)i[u-1]=arguments[u];return(n=($=o).$find_best_matching_expectation_for,n.$$p=(a=function(n){var $;a.$$s||this;return null==n&&(n=r),($=n).$matches_name_but_not_args.apply($,[t].concat(e.to_a(i)))},a.$$s=o,a.$$arity=1,a),n).call($,t)},N.$$arity=-2),e.defn(B,"$find_best_matching_expectation_for",P=function(t){try{var n,$,a,i=this,o=P.$$p,s=o||r,l=r;return P.$$p=null,l=r,(n=($=i.$method_double_for(t).$expectations()).$each,n.$$p=(a=function(t){var n;a.$$s||this;return null==t&&(t=r),(n=e.yield1(s,t))===r||null==n||n.$$is_boolean&&1!=n?r:(((n=t["$called_max_times?"]())===r||null==n||n.$$is_boolean&&1!=n)&&e.ret(t),(n=l)!==!1&&n!==r&&null!=n?n:l=t)},a.$$s=i,a.$$arity=1,a),n).call($),l}catch(u){if(u===e.returner)return u.$v;throw u}},P.$$arity=1),e.defn(B,"$find_matching_method_stub",F=function(t){var n,$,a,i,o=this,s=arguments.length,l=s-1;0>l&&(l=0),i=new Array(l);for(var u=1;s>u;u++)i[u-1]=arguments[u];return(n=($=o.$method_double_for(t).$stubs()).$find,n.$$p=(a=function(n){var $;a.$$s||this;return null==n&&(n=r),($=n)["$matches?"].apply($,[t].concat(e.to_a(i)))},a.$$s=o,a.$$arity=1,a),n).call($)},F.$$arity=-2),e.defn(B,"$find_almost_matching_stub",D=function(t){var n,$,a,i,o=this,s=arguments.length,l=s-1;0>l&&(l=0),i=new Array(l);for(var u=1;s>u;u++)i[u-1]=arguments[u];return(n=($=o.$method_double_for(t).$stubs()).$find,n.$$p=(a=function(n){var $;a.$$s||this;return null==n&&(n=r),($=n).$matches_name_but_not_args.apply($,[t].concat(e.to_a(i)))},a.$$s=o,a.$$arity=1,a),n).call($)},D.$$arity=-2),r&&"find_almost_matching_stub"}(s.base,null),function(t,$super){function n(){}var a,i=n=$(t,$super,"TestDoubleProxy",n),o=i.$$proto;i.$$scope;return o.method_doubles=r,e.defn(i,"$reset",a=function(){var t,n,$=this,i=a.$$p,o=r,s=r;for(a.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return $.method_doubles.$clear(),$.$object()["$__disallow_further_usage!"](),(n=$,t=e.find_super_dispatcher($,"reset",a,!1),t.$$p=i,t).apply(n,o)},a.$$arity=0),r&&"reset"}(s.base,s.get("Proxy")),function(t,$super){function n(){}var a,i,o,s,l,u,c,_=n=$(t,$super,"PartialDoubleProxy",n),p=_.$$proto,f=_.$$scope;return p.object=p.method_doubles=r,e.defn(_,"$original_method_handle_for",a=function(t){var n,$=this;try{return(n=$["$any_instance_class_recorder_observing_method?"]($.object.$class(),t))===r||null==n||n.$$is_boolean&&1!=n||(t=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for($.object.$class()).$build_alias_method_name(t)),e.get("RSpec").$$scope.get("Support").$method_handle_for($.object,t)}catch(a){if(!e.rescue(a,[f.get("NameError")]))throw a;try{return r}finally{e.pop_exception()}}},a.$$arity=1),e.defn(_,"$add_simple_expectation",i=function(t){var n,$,a=this,o=i.$$p,s=r,l=r;for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a.$method_double_for(t).$configure_method(),($=a,n=e.find_super_dispatcher(a,"add_simple_expectation",i,!1),n.$$p=o,n).apply($,s)},i.$$arity=3),e.defn(_,"$add_simple_stub",o=function(t){var n,$,a=this,i=o.$$p,s=r,l=r;for(o.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a.$method_double_for(t).$configure_method(),($=a,n=e.find_super_dispatcher(a,"add_simple_stub",o,!1),n.$$p=i,n).apply($,s)},o.$$arity=2),e.defn(_,"$visibility_for",s=function(e){var t,n=this;return(t=f.get("MethodReference").$method_visibility_for(n.object,e))!==!1&&t!==r&&null!=t?t:"public"},s.$$arity=1),e.defn(_,"$reset",l=function(){var t,n,$,a,i=this,o=l.$$p,s=r,u=r;for(l.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(t=(n=i.method_doubles).$each_value,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=r),e.$reset()},$.$$s=i,$.$$arity=1,$),t).call(n),(a=i,t=e.find_super_dispatcher(i,"reset",l,!1),t.$$p=o,t).apply(a,s)},l.$$arity=0),e.defn(_,"$message_received",u=function(t){var n,$,a,i,o,s=this,l=u.$$p,c=l||r,_=r,p=r,d=arguments.length,h=d-1;0>h&&(h=0),o=new Array(h);for(var g=1;d>g;g++)o[g-1]=arguments[g];for(u.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return(n=($=f.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorders_from_ancestry_of(s.$object())).$each,n.$$p=(a=function(e){var n=a.$$s||this;return null==e&&(e=r),e.$notify_received_message(n.$object(),t,o,c)},a.$$s=s,a.$$arity=1,a),n).call($),(i=s,n=e.find_super_dispatcher(s,"message_received",u,!1),n.$$p=l,n).apply(i,_)},u.$$arity=-2),_.$private(),e.defn(_,"$any_instance_class_recorder_observing_method?",c=function(t,n){var $,a,i=this,o=r,s=r,l=r;return o=!0,s=e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_recorder_for(t,o),($=(a=s!==!1&&s!==r&&null!=s)?s["$already_observing?"](n):s)===r||null==$||$.$$is_boolean&&1!=$?(l=t.$superclass(),($=l["$nil?"]())===r||null==$||$.$$is_boolean&&1!=$?i["$any_instance_class_recorder_observing_method?"](l,n):!1):!0},c.$$arity=2),r&&"any_instance_class_recorder_observing_method?"}(s.base,s.get("Proxy")),function(t){var $,a,i,o,s,l=$=n(t,"PartialClassDoubleProxyMethods");l.$$proto,l.$$scope;e.defn(l,"$initialize",a=function(t){var r,n,$,i=this,o=(a.$$p,arguments.length),s=o-1;0>s&&(s=0),$=new Array(s);for(var l=1;o>l;l++)$[l-1]=arguments[l];return a.$$p=null,i.source_space=t,(n=i,r=e.find_super_dispatcher(i,"initialize",a,!1),r.$$p=null,r).apply(n,e.to_a($))},a.$$arity=-2),e.defn(l,"$original_method_handle_for",i=function(t){var n,$,a=this,o=i.$$p,s=r,l=r,u=r;for(i.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return n=a.$superclass_proxy(),s=n!==!1&&n!==r&&null!=n?a.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t.$to_sym()):n,s===!1||s===r||null==s?($=a,n=e.find_super_dispatcher(a,"original_method_handle_for",i,!1),n.$$p=o,n).apply($,l):s.$bind(a.$object())},i.$$arity=1),l.$protected(),e.defn(l,"$original_unbound_method_handle_from_ancestor_for",o=function(t){try{var n,$,a,i=this,o=r;return null==i.method_doubles&&(i.method_doubles=r),o=(n=($=i.method_doubles).$fetch,n.$$p=(a=function(){var n,$=a.$$s||this;e.ret((n=$.$superclass_proxy(),n!==!1&&n!==r&&null!=n?$.$superclass_proxy().$original_unbound_method_handle_from_ancestor_for(t):n))},a.$$s=i,a.$$arity=0,a),n).call($,t),o.$original_method().$unbind()}catch(s){if(s===e.returner)return s.$v;throw s}},o.$$arity=1),e.defn(l,"$superclass_proxy",s=function(){var e,t,n=this,$=r;return null==n.superclass_proxy&&(n.superclass_proxy=r),null==n.source_space&&(n.source_space=r),t=n.superclass_proxy,(e=null!=t&&t!==r?"instance-variable":r)===r||null==e||e.$$is_boolean&&1!=e?(e=$=n.$object().$superclass())===r||null==e||e.$$is_boolean&&1!=e?n.superclass_proxy=r:n.superclass_proxy=n.source_space.$proxy_for($):n.superclass_proxy},s.$$arity=0)}(s.base),function(e,$super){function t(){}var r=t=$(e,$super,"PartialClassDoubleProxy",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("PartialClassDoubleProxyMethods"))}(s.base,s.get("PartialDoubleProxy")),function(t,$super){function n(){}var i,o,s,l,u,c=n=$(t,$super,"ProxyForNil",n),_=(c.$$proto,c.$$scope);return e.defn(c,"$initialize",i=function(t){var n,$,a=this;i.$$p;return i.$$p=null,a.warn_about_expectations=!0,($=a,n=e.find_super_dispatcher(a,"initialize",i,!1),n.$$p=null,n).call($,r,t)},i.$$arity=1),c.$attr_accessor("warn_about_expectations"),e.alias(c,"warn_about_expectations?","warn_about_expectations"),e.defn(c,"$add_message_expectation",o=function(t,n){var $,i,s=this,l=o.$$p,u=r,c=r;for(null==n&&(n=a([],{})),o.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return($=s["$warn_about_expectations?"]())===r||null==$||$.$$is_boolean&&1!=$||s.$warn(t),(i=s,$=e.find_super_dispatcher(s,"add_message_expectation",o,!1),$.$$p=l,$).apply(i,u)},o.$$arity=-2),e.defn(c,"$add_negative_message_expectation",s=function(t,n){var $,a,i=this,o=s.$$p,l=r,u=r;for(s.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return($=i["$warn_about_expectations?"]())===r||null==$||$.$$is_boolean&&1!=$||i.$warn(n),(a=i,$=e.find_super_dispatcher(i,"add_negative_message_expectation",s,!1),$.$$p=o,$).apply(a,l)},s.$$arity=2),e.defn(c,"$add_stub",l=function(t,n){var $,i,o=this,s=l.$$p,u=r,c=r;for(null==n&&(n=a([],{})),l.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return($=o["$warn_about_expectations?"]())===r||null==$||$.$$is_boolean&&1!=$||o.$warn(t),(i=o,$=e.find_super_dispatcher(o,"add_stub",l,!1),$.$$p=s,$).apply(i,u)},l.$$arity=-2),c.$private(),e.defn(c,"$warn",u=function(e){var t=r;return t=_.get("CallerFilter").$first_non_rspec_line(),_.get("Kernel").$warn("An expectation of :"+e+" was set on nil. Called from "+t+". Use allow_message_expectations_on_nil to disable warnings.")},u.$$arity=1),r&&"warn"}(s.base,s.get("PartialDoubleProxy"))}(s.base)}(t.base)},Opal.modules.securerandom=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$gsub"]),function(t){var $,a,i=$=n(t,"SecureRandom");i.$$proto,i.$$scope;e.defs(i,"$uuid",a=function(){var e,t,n,$=this;return(e=(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").$gsub,e.$$p=(n=function(e){n.$$s||this;null==e&&(e=r);var t=16*Math.random()|0,$="x"==e?t:3&t|8;return $.toString(16)},n.$$s=$,n.$$arity=1,n.$$has_trailing_comma_in_args=!0,n),e).call(t,/[xy]/)},a.$$arity=0)}(t.base)},Opal.modules["rspec/mocks/space"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$raise_lifecycle_message","$new","$private","$raise","$attr_reader","$new_mutex","$each","$verify","$values","$proxies","$each_value","$any_instance_recorders","$reset","$idempotently_reset","$reverse","$stop_all_observation!","$clear","$<<","$find","$==","$full_constant_name","$synchronize","$__id__","$fetch","$any_instance_recorder_not_found_for","$any_instance_mutex","$any_instance_recorder_for","$proxies_of","$select","$===","$object","$id_for","$proxy_not_found_for","$proxy_mutex","$key?","$empty?","$compact","$map","$[]","$ancestors","$[]=","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration","$!","$method_defined?","$require","$equal?","$_id2ref","$instance_exec","$uuid","$+","$constant_mutator_for","$registered?"]),function(r){var o,s=o=$(r,"RSpec"),l=(s.$$proto,s.$$scope);!function(r){var o,s=o=$(r,"Mocks"),l=(s.$$proto,s.$$scope);!function(t,$super){function r(){}var $,i,o,s,l,u,c,_,p,f,d=r=a(t,$super,"RootSpace",r),h=(d.$$proto,d.$$scope);return e.defn(d,"$proxy_for",$=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$raise_lifecycle_message()},$.$$arity=-1),e.defn(d,"$any_instance_recorder_for",i=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$raise_lifecycle_message()},i.$$arity=-1),e.defn(d,"$any_instance_proxy_for",o=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$raise_lifecycle_message()},o.$$arity=-1),e.defn(d,"$register_constant_mutator",s=function(){var e=this;return e.$raise_lifecycle_message()},s.$$arity=1),e.defn(d,"$any_instance_recorders_from_ancestry_of",l=function(){var e=this;return e.$raise_lifecycle_message()},l.$$arity=1),e.defn(d,"$reset_all",u=function(){return n},u.$$arity=0),e.defn(d,"$verify_all",c=function(){return n},c.$$arity=0),e.defn(d,"$registered?",_=function(){return!1},_.$$arity=1),e.defn(d,"$new_scope",p=function(){return h.get("Space").$new()},p.$$arity=0),d.$private(),e.defn(d,"$raise_lifecycle_message",f=function(){var e=this;return e.$raise(h.get("OutsideOfExampleError"),"The use of doubles or partial doubles from rspec-mocks outside of the per-test lifecycle is not supported.")},f.$$arity=0),n&&"raise_lifecycle_message"}(l.base,null),function(t,$super){function r(){}var o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E=r=a(t,$super,"Space",r),R=E.$$proto,A=E.$$scope;return R.constant_mutators=R.expectation_ordering=n,E.$attr_reader("proxies","any_instance_recorders","proxy_mutex","any_instance_mutex"),e.defn(E,"$initialize",o=function(){var e=this;return e.proxies=i([],{}),e.any_instance_recorders=i([],{}),e.constant_mutators=[],e.expectation_ordering=A.get("OrderGroup").$new(),e.proxy_mutex=e.$new_mutex(),e.any_instance_mutex=e.$new_mutex()},o.$$arity=0),e.defn(E,"$new_scope",s=function(){var e=this;return A.get("NestedSpace").$new(e)},s.$$arity=0),e.defn(E,"$verify_all",l=function(){var e,t,r,$,a,i=this;return(e=(t=i.$proxies().$values()).$each,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),e.$verify()},r.$$s=i,r.$$arity=1,r),e).call(t),(e=($=i.$any_instance_recorders()).$each_value,e.$$p=(a=function(e){a.$$s||this;return null==e&&(e=n),e.$verify()},a.$$s=i,a.$$arity=1,a),e).call($)},l.$$arity=0),e.defn(E,"$reset_all",u=function(){var e,t,r,$,a,i,o,s=this;return(e=(t=s.$proxies()).$each_value,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),e.$reset()},r.$$s=s,r.$$arity=1,r),e).call(t),(e=($=s.constant_mutators.$reverse()).$each,e.$$p=(a=function(e){a.$$s||this;return null==e&&(e=n),e.$idempotently_reset()},a.$$s=s,a.$$arity=1,a),e).call($),(e=(i=s.$any_instance_recorders()).$each_value,e.$$p=(o=function(e){o.$$s||this;return null==e&&(e=n),e["$stop_all_observation!"]()},o.$$s=s,o.$$arity=1,o),e).call(i),s.$any_instance_recorders().$clear()},u.$$arity=0),e.defn(E,"$register_constant_mutator",c=function(e){var t=this;return t.constant_mutators["$<<"](e)},c.$$arity=1),e.defn(E,"$constant_mutator_for",_=function(e){var t,r,$,a=this;return(t=(r=a.constant_mutators).$find,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),t.$full_constant_name()["$=="](e)},$.$$s=a,$.$$arity=1,$),t).call(r)},_.$$arity=1),e.defn(E,"$any_instance_recorder_for",p=function(t,r){try{var $,a,i,o=this;return null==r&&(r=!1),($=(a=o.$any_instance_mutex()).$synchronize,$.$$p=(i=function(){var $,a,o,s=i.$$s||this,l=n;return l=t.$__id__(),($=(a=s.$any_instance_recorders()).$fetch,$.$$p=(o=function(){var $=o.$$s||this;return r!==!1&&r!==n&&null!=r&&e.ret(n),$.$any_instance_recorder_not_found_for(l,t)},o.$$s=s,o.$$arity=0,o),$).call(a,l)},i.$$s=o,i.$$arity=0,i),$).call(a)}catch(s){if(s===e.returner)return s.$v;throw s}},p.$$arity=-2),e.defn(E,"$any_instance_proxy_for",f=function(e){var t=this;return A.get("AnyInstance").$$scope.get("Proxy").$new(t.$any_instance_recorder_for(e),t.$proxies_of(e))},f.$$arity=1),e.defn(E,"$proxies_of",d=function(e){var t,r,$,a=this;return(t=(r=a.$proxies().$values()).$select,t.$$p=($=function(t){$.$$s||this;return null==t&&(t=n),e["$==="](t.$object())},$.$$s=a,$.$$arity=1,$),t).call(r)},d.$$arity=1),e.defn(E,"$proxy_for",h=function(e){var t,r,$,a=this;return(t=(r=a.$proxy_mutex()).$synchronize,t.$$p=($=function(){var t,r,a,i=$.$$s||this,o=n;return o=i.$id_for(e),(t=(r=i.$proxies()).$fetch,t.$$p=(a=function(){var t=a.$$s||this;return t.$proxy_not_found_for(o,e)},a.$$s=i,a.$$arity=0,a),t).call(r,o)},$.$$s=a,$.$$arity=0,$),t).call(r)},h.$$arity=1),e.alias(E,"ensure_registered","proxy_for"),e.defn(E,"$registered?",g=function(e){var t=this;return t.$proxies()["$key?"](t.$id_for(e))},g.$$arity=1),e.defn(E,"$any_instance_recorders_from_ancestry_of",m=function(t){var r,$,a,i=this;return(r=i.$any_instance_recorders()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(r=($=function(e){e.$$scope,e.$$proto;return e.$ancestors()}(e.get_singleton_class(t))).$map,r.$$p=(a=function(e){var t=a.$$s||this;return null==e&&(e=n),t.$any_instance_recorders()["$[]"](e.$__id__())},a.$$s=i,a.$$arity=1,a),r).call($).$compact():[]},m.$$arity=1),E.$private(),e.defn(E,"$new_mutex",y=function(){var t;return(t=null==e.Object.$$scope.Mutex?n:"constant")===n||null==t||t.$$is_boolean&&1!=t?A.get("FakeMutex"):e.get("Mutex").$new()},y.$$arity=0),function(t){var r,a,i=r=$(t,"FakeMutex");i.$$proto,i.$$scope;e.defs(i,"$synchronize",a=function(){var t=a.$$p,r=t||n;return a.$$p=null,e.yieldX(r,[])},a.$$arity=0)}(A.base),e.defn(E,"$proxy_not_found_for",v=function(e,t){var r,$=this,a=n;return $.$proxies()["$[]="](e,function(){return a=t,A.get("NilClass")["$==="](a)?A.get("ProxyForNil").$new($.expectation_ordering):A.get("TestDouble")["$==="](a)?t.$__build_mock_proxy_unless_expired($.expectation_ordering):A.get("Class")["$==="](a)?(r=A.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===n||null==r||r.$$is_boolean&&1!=r?A.get("PartialClassDoubleProxy").$new($,t,$.expectation_ordering):A.get("VerifyingPartialClassDoubleProxy").$new($,t,$.expectation_ordering):(r=A.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===n||null==r||r.$$is_boolean&&1!=r?A.get("PartialDoubleProxy").$new(t,$.expectation_ordering):A.get("VerifyingPartialDoubleProxy").$new(t,$.expectation_ordering);
}())},v.$$arity=2),e.defn(E,"$any_instance_recorder_not_found_for",b=function(e,t){var r=this;return r.$any_instance_recorders()["$[]="](e,A.get("AnyInstance").$$scope.get("Recorder").$new(t))},b.$$arity=2),w=null==e.Object.$$scope.BasicObject?n:"constant",(x=w!==!1&&w!==n&&null!=w?e.get("BasicObject")["$method_defined?"]("__id__")["$!"]():w)===n||null==x||x.$$is_boolean&&1!=x?(e.defn(E,"$id_for",S=function(e){return e.$__id__()},S.$$arity=1),n&&"id_for"):(E.$require("securerandom"),e.defn(E,"$id_for",k=function(t){var r,$,a,i=this,o=n;return o=t.$__id__(),(r=t["$equal?"](e.get("ObjectSpace").$_id2ref(o)))===n||null==r||r.$$is_boolean&&1!=r?(r=($=t).$instance_exec,r.$$p=(a=function(){var t,r=a.$$s||this;return null==r.__id_for_rspec_mocks_space&&(r.__id_for_rspec_mocks_space=n),(t=r.__id_for_rspec_mocks_space)!==!1&&t!==n&&null!=t?t:r.__id_for_rspec_mocks_space=e.get("SecureRandom").$uuid()},a.$$s=i,a.$$arity=0,a),r).call($):o},k.$$arity=1),n&&"id_for")}(l.base,null),function(r,$super){function $(){}var i,o,s,l,u,c,_=$=a(r,$super,"NestedSpace",$),p=_.$$proto;_.$$scope;return p.parent=n,e.defn(_,"$initialize",i=function(t){var r,n,$=this;i.$$p;return i.$$p=null,$.parent=t,(n=$,r=e.find_super_dispatcher($,"initialize",i,!1),r.$$p=null,r).call(n)},i.$$arity=1),e.defn(_,"$proxies_of",o=function(r){var $,a,i=this,s=o.$$p,l=n,u=n;for(o.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return t((a=i,$=e.find_super_dispatcher(i,"proxies_of",o,!1),$.$$p=s,$).apply(a,l),i.parent.$proxies_of(r))},o.$$arity=1),e.defn(_,"$constant_mutator_for",s=function(t){var r,$,a,i=this,o=s.$$p,l=n,u=n;for(s.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return(r=(a=i,$=e.find_super_dispatcher(i,"constant_mutator_for",s,!1),$.$$p=o,$).apply(a,l))!==!1&&r!==n&&null!=r?r:i.parent.$constant_mutator_for(t)},s.$$arity=1),e.defn(_,"$registered?",l=function(t){var r,$,a,i=this,o=l.$$p,s=n,u=n;for(l.$$p=null,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(r=(a=i,$=e.find_super_dispatcher(i,"registered?",l,!1),$.$$p=o,$).apply(a,s))!==!1&&r!==n&&null!=r?r:i.parent["$registered?"](t)},l.$$arity=1),_.$private(),e.defn(_,"$proxy_not_found_for",u=function(t){var r,$,a,i=this,o=u.$$p,s=n,l=n;for(u.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=i.parent.$proxies()["$[]"](t))!==!1&&r!==n&&null!=r?r:(a=i,$=e.find_super_dispatcher(i,"proxy_not_found_for",u,!1),$.$$p=o,$).apply(a,s)},u.$$arity=2),e.defn(_,"$any_instance_recorder_not_found_for",c=function(t){var r,$,a,i=this,o=c.$$p,s=n,l=n;for(c.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=i.parent.$any_instance_recorders()["$[]"](t))!==!1&&r!==n&&null!=r?r:(a=i,$=e.find_super_dispatcher(i,"any_instance_recorder_not_found_for",c,!1),$.$$p=o,$).apply(a,s)},c.$$arity=2),n&&"any_instance_recorder_not_found_for"}(l.base,l.get("Space"))}(l.base)}(r.base)},Opal.modules["rspec/mocks/syntax"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r,n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.hash2,o=e.klass;return e.add_stubs(["$deprecate","$==","$default_should_syntax_host","$should_enabled?","$class_exec","$warn_unless_should_configured","$expect_message","$to_proc","$never","$===","$each","$and_return","$stub","$allow_message","$remove_stub","$proxy_for","$space","$stub_chain_on","$as_null_object","$received_message?","$respond_to?","$any_instance_proxy_for","$expect_enabled?","$new","$warn_about_block","$method_defined?","$>","$to_f","$last","$ancestors"]),function(r){var n,o=n=a(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var n,o=n=a(r,"Mocks"),s=(o.$$proto,o.$$scope);!function(r){var n,o,s,l,u,c,_,p,f,d,h=n=a(r,"Syntax"),g=(h.$$proto,h.$$scope);e.defs(h,"$warn_about_should!",o=function(){var e=this;return e.warn_about_should=!0},o.$$arity=0),e.defs(h,"$warn_unless_should_configured",s=function(e,t){var r,n=this;return null==n.warn_about_should&&(n.warn_about_should=$),null==t&&(t="the new `:expect` syntax or explicitly enable `:should`"),(r=n.warn_about_should)===$||null==r||r.$$is_boolean&&1!=r?$:(g.get("RSpec").$deprecate("Using `"+e+"` from rspec-mocks' old `:should` syntax without explicitly enabling the syntax",i(["replacement"],{replacement:t})),n.warn_about_should=!1)},s.$$arity=-2),e.defs(h,"$enable_should",l=function(t){var r,n,a,o=this;return null==t&&(t=o.$default_should_syntax_host()),t["$=="](o.$default_should_syntax_host())&&(o.warn_about_should=!1),(r=o["$should_enabled?"](t))===$||null==r||r.$$is_boolean&&1!=r?(r=(n=t).$class_exec,r.$$p=(a=function(){var t,r,n,o,s,l,u,c,_,p,f,d=a.$$s||this;return e.def(d,"$should_receive",t=function(r,n){var a,o,s=this,l=t.$$p,u=l||$;return null==n&&(n=i([],{})),t.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("should_receive"),(a=(o=e.get("RSpec").$$scope.get("Mocks")).$expect_message,a.$$p=u.$to_proc(),a).call(o,s,r,n)},t.$$arity=-2),e.def(d,"$should_not_receive",r=function(t){var n,a,o=this,s=r.$$p,l=s||$;return r.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("should_not_receive"),(n=(a=e.get("RSpec").$$scope.get("Mocks")).$expect_message,n.$$p=l.$to_proc(),n).call(a,o,t,i([],{})).$never()},r.$$arity=1),e.def(d,"$stub",n=function(t,r){var a,o,s,l,u=this,c=n.$$p,_=c||$;return null==r&&(r=i([],{})),n.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("stub"),(a=e.get("Hash")["$==="](t))===$||null==a||a.$$is_boolean&&1!=a?(a=(l=e.get("RSpec").$$scope.get("Mocks")).$allow_message,a.$$p=_.$to_proc(),a).call(l,u,t,r):(a=(o=t).$each,a.$$p=(s=function(e,t){var r=s.$$s||this;return null==e&&(e=$),null==t&&(t=$),r.$stub(e).$and_return(t)},s.$$s=u,s.$$arity=2,s),a).call(o)},n.$$arity=-2),e.def(d,"$unstub",o=function(t){var r=this;return e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("unstub","`allow(...).to_receive(...).and_call_original` or explicitly enable `:should`"),e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(r).$remove_stub(t)},o.$$arity=1),e.def(d,"$stub_chain",s=function(){var t,r,n,a=this,i=s.$$p,o=i||$,l=arguments.length,u=l-0;0>u&&(u=0),n=new Array(u);for(var c=0;l>c;c++)n[c-0]=arguments[c];return s.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("stub_chain"),(t=(r=e.get("RSpec").$$scope.get("Mocks").$$scope.get("StubChain")).$stub_chain_on,t.$$p=o.$to_proc(),t).apply(r,[a].concat(e.to_a(n)))},s.$$arity=-1),e.def(d,"$as_null_object",l=function(){var t=this;return e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("as_null_object"),t._null_object=!0,e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t).$as_null_object()},l.$$arity=0),e.def(d,"$null_object?",u=function(){var t,r=this;return e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("null_object?"),t=r._null_object,null!=t&&t!==$?"instance-variable":$},u.$$arity=0),e.def(d,"$received_message?",c=function(t){var r,n,a,i=this,o=c.$$p,s=o||$,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var _=1;l>_;_++)a[_-1]=arguments[_];return c.$$p=null,e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("received_message?"),(r=(n=e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(i))["$received_message?"],r.$$p=s.$to_proc(),r).apply(n,[t].concat(e.to_a(a)))},c.$$arity=-2),(_=g.get("Class")["$respond_to?"]("any_instance"))===$||null==_||_.$$is_boolean&&1!=_?(_=(p=g.get("Class")).$class_exec,_.$$p=(f=function(){var t,r=f.$$s||this;return e.def(r,"$any_instance",t=function(){var t=this;return e.get("RSpec").$$scope.get("Mocks").$$scope.get("Syntax").$warn_unless_should_configured("any_instance"),e.get("RSpec").$$scope.get("Mocks").$space().$any_instance_proxy_for(t)},t.$$arity=0),$&&"any_instance"},f.$$s=d,f.$$arity=0,f),_).call(p):$},a.$$s=o,a.$$arity=0,a),r).call(n):$},l.$$arity=-1),e.defs(h,"$disable_should",u=function(t){var r,n,a,i,o,s=this;return null==t&&(t=s.$default_should_syntax_host()),(r=s["$should_enabled?"](t))===$||null==r||r.$$is_boolean&&1!=r?$:((r=(n=t).$class_exec,r.$$p=(a=function(){var t=a.$$s||this;return e.udef(t,"$should_receive"),e.udef(t,"$should_not_receive"),e.udef(t,"$stub"),e.udef(t,"$unstub"),e.udef(t,"$stub_chain"),e.udef(t,"$as_null_object"),e.udef(t,"$null_object?"),e.udef(t,"$received_message?")},a.$$s=s,a.$$arity=0,a),r).call(n),(r=(i=g.get("Class")).$class_exec,r.$$p=(o=function(){var t=o.$$s||this;return e.udef(t,"$any_instance")},o.$$s=s,o.$$arity=0,o),r).call(i))},u.$$arity=-1),e.defs(h,"$enable_expect",c=function(t){var r,n,a,i,o,s=this;return null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods")),(r=s["$expect_enabled?"](t))===$||null==r||r.$$is_boolean&&1!=r?((r=(n=t).$class_exec,r.$$p=(a=function(){var t,r,n,i,o,s,l=a.$$s||this;return e.def(l,"$receive",t=function(e){var r=t.$$p,n=r||$;return t.$$p=null,g.get("Matchers").$$scope.get("Receive").$new(e,n)},t.$$arity=1),e.def(l,"$receive_messages",r=function(e){var t=r.$$p,n=t||$,a=$;return r.$$p=null,a=g.get("Matchers").$$scope.get("ReceiveMessages").$new(e),n!==$&&a.$warn_about_block(),a},r.$$arity=1),e.def(l,"$receive_message_chain",n=function(){var e,t,r,a=n.$$p,i=a||$,o=arguments.length,s=o-0;0>s&&(s=0),r=new Array(s);for(var l=0;o>l;l++)r[l-0]=arguments[l];return n.$$p=null,(e=(t=g.get("Matchers").$$scope.get("ReceiveMessageChain")).$new,e.$$p=i.$to_proc(),e).call(t,r)},n.$$arity=-1),e.def(l,"$allow",i=function(e){return g.get("AllowanceTarget").$new(e)},i.$$arity=1),e.def(l,"$expect_any_instance_of",o=function(e){return g.get("AnyInstanceExpectationTarget").$new(e)},o.$$arity=1),e.def(l,"$allow_any_instance_of",s=function(e){return g.get("AnyInstanceAllowanceTarget").$new(e)},s.$$arity=1),$&&"allow_any_instance_of"},a.$$s=s,a.$$arity=0,a),r).call(n),(r=(i=g.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods").$$scope.get("ExpectHost")).$class_exec,r.$$p=(o=function(){var t,r=o.$$s||this;return e.def(r,"$expect",t=function(e){return g.get("ExpectationTarget").$new(e)},t.$$arity=1),$&&"expect"},o.$$s=s,o.$$arity=0,o),r).call(i)):$},c.$$arity=-1),e.defs(h,"$disable_expect",_=function(t){var r,n,a,i,o,s=this;return null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods")),(r=s["$expect_enabled?"](t))===$||null==r||r.$$is_boolean&&1!=r?$:((r=(n=t).$class_exec,r.$$p=(a=function(){var t=a.$$s||this;return e.udef(t,"$receive"),e.udef(t,"$receive_messages"),e.udef(t,"$receive_message_chain"),e.udef(t,"$allow"),e.udef(t,"$expect_any_instance_of"),e.udef(t,"$allow_any_instance_of")},a.$$s=s,a.$$arity=0,a),r).call(n),(r=(i=g.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods").$$scope.get("ExpectHost")).$class_exec,r.$$p=(o=function(){var t=o.$$s||this;return e.udef(t,"$expect")},o.$$s=s,o.$$arity=0,o),r).call(i))},_.$$arity=-1),e.defs(h,"$should_enabled?",p=function(e){var t=this;return null==e&&(e=t.$default_should_syntax_host()),e["$method_defined?"]("should_receive")},p.$$arity=-1),e.defs(h,"$expect_enabled?",f=function(t){return null==t&&(t=e.get("RSpec").$$scope.get("Mocks").$$scope.get("ExampleMethods")),t["$method_defined?"]("allow")},f.$$arity=-1),e.defs(h,"$default_should_syntax_host",d=function(){var r,n,a;return a=null!=g.JRUBY_VERSION,n=a!==!1&&a!==$&&null!=a?g.get("JRUBY_VERSION")["$=="]("1.7.4"):a,(r=n!==!1&&n!==$&&null!=n?t(g.get("RUBY_VERSION").$to_f(),1.8):n)===$||null==r||r.$$is_boolean&&1!=r?(r=null==e.Object.$$scope.BasicObject?$:"constant")===$||null==r||r.$$is_boolean&&1!=r?g.get("Object"):g.get("Object").$ancestors().$last()["$=="](e.get("BasicObject"))?e.get("BasicObject"):g.get("Object"):e.get("BasicObject")},d.$$arity=0)}(s.base)}(s.base)}(n.base),(r=null!=n.BasicObject)===$||null==r||r.$$is_boolean&&1!=r||!function(e,$super){function t(){}var r=t=o(e,$super,"BasicObject",t);r.$$proto,r.$$scope;return $}(n.base,null),function(e,$super){function t(){}var r=t=o(e,$super,"Class",t);r.$$proto,r.$$scope;return $}(n.base,null)},Opal.modules["rspec/mocks/targets"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$define_method","$matcher_allowed?","$raise_unsupported_matcher","$define_matcher","$to_proc","$fetch","$===","$raise_negation_unsupported","$private","$start_with?","$name","$class","$freeze","$__send__","$raise","$expression","$delegate_to","$disallow_negation","$delegate_not_to"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d=n=$(t,$super,"TargetBase",n),h=d.$$proto,g=d.$$scope;return h.target=r,e.defn(d,"$initialize",i=function(e){var t=this;return t.target=e},i.$$arity=1),e.defs(d,"$delegate_to",o=function(e){var t,n,$,a=this;return(t=(n=a).$define_method,t.$$p=($=function(t){var n,a,i,o=$.$$s||this;return n=$.$$p||r,$.$$p=null,null==t&&(t=r),((a=o["$matcher_allowed?"](t))===r||null==a||a.$$is_boolean&&1!=a)&&o.$raise_unsupported_matcher("to",t),(a=(i=o).$define_matcher,a.$$p=n.$to_proc(),a).call(i,t,e)},$.$$s=a,$.$$arity=1,$),t).call(n,"to")},o.$$arity=1),e.defs(d,"$delegate_not_to",s=function(e,t){var n,$,i,o=this,s=r;return null==t&&(t=a([],{})),s=t.$fetch("from"),(n=($=o).$define_method,n.$$p=(i=function(t){var n,$,a,o=i.$$s||this,l=r;return n=i.$$p||r,i.$$p=null,null==t&&(t=r),function(){return l=t,g.get("Matchers").$$scope.get("Receive")["$==="](l)?($=(a=o).$define_matcher,$.$$p=n.$to_proc(),$).call(a,t,e):g.get("Matchers").$$scope.get("ReceiveMessages")["$==="](l)||g.get("Matchers").$$scope.get("ReceiveMessageChain")["$==="](l)?o.$raise_negation_unsupported(s,t):o.$raise_unsupported_matcher(s,t)}()},i.$$s=o,i.$$arity=1,i),n).call($,s)},s.$$arity=-2),e.defs(d,"$disallow_negation",l=function(e){var t,n,$,a=this;return(t=(n=a).$define_method,t.$$p=($=function(t){var n,a=$.$$s||this,i=arguments.length,o=i-1;0>o&&(o=0),n=new Array(o);for(var s=1;i>s;s++)n[s-1]=arguments[s];return null==t&&(t=r),a.$raise_negation_unsupported(e,t)},$.$$s=a,$.$$arity=-2,$),t).call(n,e)},l.$$arity=1),d.$private(),e.defn(d,"$matcher_allowed?",u=function(e){return e.$class().$name()["$start_with?"]("RSpec::Mocks::Matchers".$freeze())},u.$$arity=1),e.defn(d,"$define_matcher",c=function(e,t){var n,$,a=this,i=c.$$p,o=i||r;return c.$$p=null,(n=($=e).$__send__,n.$$p=o.$to_proc(),n).call($,t,a.target)},c.$$arity=2),e.defn(d,"$raise_unsupported_matcher",_=function(e,t){var r=this;return r.$raise(g.get("UnsupportedMatcherError"),"only the `receive` or `receive_messages` matchers are supported "+("with `"+r.$expression()+"(...)."+e+"`, but you have provided: "+t))},_.$$arity=2),e.defn(d,"$raise_negation_unsupported",p=function(e,t){var r=this;return r.$raise(g.get("NegationUnsupportedError"),"`"+r.$expression()+"(...)."+e+" "+t.$name()+"` is not supported since it doesn't really make sense. What would it even mean?")},p.$$arity=2),e.defn(d,"$expression",f=function(){var e=this;return e.$class().$$scope.get("EXPRESSION")},f.$$arity=0),r&&"expression"}(s.base,null),function(t,$super){function r(){}var n=r=$(t,$super,"AllowanceTarget",r),a=(n.$$proto,n.$$scope);return e.cdecl(a,"EXPRESSION","allow"),n.$delegate_to("setup_allowance"),n.$disallow_negation("not_to"),n.$disallow_negation("to_not")}(s.base,s.get("TargetBase")),function(t,$super){function r(){}var n=r=$(t,$super,"ExpectationTarget",r),i=(n.$$proto,n.$$scope);return e.cdecl(i,"EXPRESSION","expect"),n.$delegate_to("setup_expectation"),n.$delegate_not_to("setup_negative_expectation",a(["from"],{from:"not_to"})),n.$delegate_not_to("setup_negative_expectation",a(["from"],{from:"to_not"}))}(s.base,s.get("TargetBase")),function(t,$super){function r(){}var n=r=$(t,$super,"AnyInstanceAllowanceTarget",r),a=(n.$$proto,n.$$scope);return e.cdecl(a,"EXPRESSION","allow_any_instance_of"),n.$delegate_to("setup_any_instance_allowance"),n.$disallow_negation("not_to"),n.$disallow_negation("to_not")}(s.base,s.get("TargetBase")),function(t,$super){function r(){}var n=r=$(t,$super,"AnyInstanceExpectationTarget",r),i=(n.$$proto,n.$$scope);return e.cdecl(i,"EXPRESSION","expect_any_instance_of"),n.$delegate_to("setup_any_instance_expectation"),n.$delegate_not_to("setup_any_instance_negative_expectation",a(["from"],{from:"not_to"})),n.$delegate_not_to("setup_any_instance_negative_expectation",a(["from"],{from:"to_not"}))}(s.base,s.get("TargetBase"))}(s.base)}(t.base)},Opal.modules["rspec/mocks/test_double"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$===","$empty?","$assign_stubs","$as_null_object","$__mock_proxy","$null_object?","$==","$class","$%","$object_id","$inspect","$gsub","$__raise_expired_error","$__build_mock_proxy","$warn_with","$private","$record_message_received","$to_proc","$to_s","$visibility_for","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error","$each_pair","$add_simple_stub","$proxy_for","$space","$raise_expired_test_double_error","$include"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x=a=n(t,"TestDouble"),w=(x.$$proto,x.$$scope);e.defn(x,"$initialize",i=function(e,t){var n,a,i=this;return null==e&&(e=r),null==t&&(t=$([],{})),i.__expired=!1,a=w.get("Hash")["$==="](e),(n=a!==!1&&a!==r&&null!=a?t["$empty?"]():a)===r||null==n||n.$$is_boolean&&1!=n?i.name=e:(t=e,i.name=r),i.$assign_stubs(t)},i.$$arity=-1),e.defn(x,"$as_null_object",o=function(){var e=this;return e.$__mock_proxy().$as_null_object()},o.$$arity=0),e.defn(x,"$null_object?",s=function(){var e=this;return e.$__mock_proxy()["$null_object?"]()},s.$$arity=0),e.defn(x,"$==",l=function(e){var t=this;return e["$=="](t.$__mock_proxy())},l.$$arity=1),e.defn(x,"$inspect",u=function(){var e=this;return null==e.name&&(e.name=r),"#<"+e.$class()+":"+"0x%x"["$%"](e.$object_id())+" @name="+e.name.$inspect()+">"},u.$$arity=0),e.defn(x,"$to_s",c=function(){var e=this;return e.$inspect().$gsub("<","[").$gsub(">","]")},c.$$arity=0),e.defn(x,"$respond_to?",_=function(t,n){var $,a,i=this,o=_.$$p,s=r,l=r;for(null==n&&(n=!1),_.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return($=i.$__mock_proxy()["$null_object?"]())===r||null==$||$.$$is_boolean&&1!=$?(a=i,$=e.find_super_dispatcher(i,"respond_to?",_,!1),$.$$p=o,$).apply(a,s):!0},_.$$arity=-2),e.defn(x,"$__build_mock_proxy_unless_expired",p=function(e){var t,n=this;return(t=n.$__raise_expired_error())!==!1&&t!==r&&null!=t?t:n.$__build_mock_proxy(e)},p.$$arity=1),e.defn(x,"$__disallow_further_usage!",f=function(){var e=this;return e.__expired=!0},f.$$arity=0),e.defn(x,"$freeze",d=function(){return w.get("RSpec").$warn_with("WARNING: you attempted to freeze a test double. This is explicitly a no-op as freezing doubles can lead to undesired behaviour when resetting tests.")},d.$$arity=0),x.$private(),e.defn(x,"$method_missing",h=function(t){var n,$,a,i,o=this,s=h.$$p,l=s||r,u=r,c=r,_=r;null==o.name&&(o.name=r);var p=arguments.length,f=p-1;0>f&&(f=0),i=new Array(f);for(var d=1;p>d;d++)i[d-1]=arguments[d];return h.$$p=null,u=o.$__mock_proxy(),(n=($=u).$record_message_received,n.$$p=l.$to_proc(),n).apply($,[t].concat(e.to_a(i))),(n=u["$null_object?"]())===r||null==n||n.$$is_boolean&&1!=n?(_=u.$visibility_for(t),(n=(a=_["$=="]("private"))!==!1&&a!==r&&null!=a?a:_["$=="]("protected"))===r||null==n||n.$$is_boolean&&1!=n||w.get("ErrorGenerator").$new(o,o.name).$raise_non_public_error(t,_),(n=["to_a","to_ary"]["$include?"](t))===r||null==n||n.$$is_boolean&&1!=n||o.$raise(w.get("NoMethodError")),(n=u).$raise_unexpected_message_error.apply(n,[t].concat(e.to_a(i)))):(c=t,"to_int"["$==="](c)?0:"to_a"["$==="](c)||"to_ary"["$==="](c)?r:"to_str"["$==="](c)?o.$to_s():o)},h.$$arity=-2),e.defn(x,"$assign_stubs",g=function(e){var t,n,$,a=this;return(t=(n=e).$each_pair,t.$$p=($=function(e,t){var n=$.$$s||this;return null==e&&(e=r),null==t&&(t=r),n.$__mock_proxy().$add_simple_stub(e,t)},$.$$s=a,$.$$arity=2,$),t).call(n)},g.$$arity=1),e.defn(x,"$__mock_proxy",m=function(){var t=this;return e.get("RSpec").$$scope.get("Mocks").$space().$proxy_for(t)},m.$$arity=0),e.defn(x,"$__build_mock_proxy",y=function(e){var t=this;return null==t.name&&(t.name=r),w.get("TestDoubleProxy").$new(t,e,t.name)},y.$$arity=1),e.defn(x,"$__raise_expired_error",v=function(){var e,t=this;return null==t.__expired&&(t.__expired=r),null==t.name&&(t.name=r),(e=t.__expired)===r||null==e||e.$$is_boolean&&1!=e?!1:w.get("ErrorGenerator").$new(t,t.name).$raise_expired_test_double_error()},v.$$arity=0),e.defn(x,"$initialize_copy",b=function(t){var n,$,a=this,i=b.$$p,o=r,s=r;for(b.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(n=t["$null_object?"]())===r||null==n||n.$$is_boolean&&1!=n||a.$as_null_object(),($=a,n=e.find_super_dispatcher(a,"initialize_copy",b,!1),n.$$p=i,n).apply($,o)},b.$$arity=1)}(s.base),function(e,$super){function t(){}var r=t=a(e,$super,"Double",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("TestDouble"))}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/mocks/verifying_double"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.gvars,o=e.klass,s=e.hash2;return e.add_stubs(["$require_rspec_mocks","$require","$null_object?","$[]","$method_reference","$__mock_proxy","$visibility","$===","$<","$to_f","$!","$unimplemented?","$==","$ensure_implemented","$ensure_publicly_implemented","$new","$__send__","$to_proc","$include","$description","$stub","$const_to_replace","$private"]),n.get("RSpec").$$scope.get("Support").$require_rspec_mocks("verifying_proxy"),r.$require("stringio"),function(r){var n,l=n=a(r,"RSpec"),u=(l.$$proto,l.$$scope);!function(r){var n,l=n=a(r,"Mocks"),u=(l.$$proto,l.$$scope);!function(r){var n,o,s,l,u,c,_,p=n=a(r,"VerifyingDouble"),f=(p.$$proto,p.$$scope),d=$;null==i.stderr&&(i.stderr=$),e.defn(p,"$respond_to?",o=function(r,n){var a,i,s=this,l=o.$$p,u=$,c=$,_=$,p=$;for(null==n&&(n=!1),o.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return(a=s["$null_object?"]())===$||null==a||a.$$is_boolean&&1!=a?(i=s,a=e.find_super_dispatcher(s,"respond_to?",o,!1),a.$$p=l,a).apply(i,_):(u=s.$__mock_proxy().$method_reference()["$[]"](r),function(){return c=u.$visibility(),"public"["$==="](c)?!0:"private"["$==="](c)?n:"protected"["$==="](c)?(a=n)!==!1&&a!==$&&null!=a?a:t(f.get("RUBY_VERSION").$to_f(),2):u["$unimplemented?"]()["$!"]()}())},o.$$arity=-2),e.defn(p,"$method_missing",s=function(t){var r,n,a,i=this,o=s.$$p,l=$,u=$;null==i.__sending_message&&(i.__sending_message=$);var c=arguments.length,_=c-1;0>_&&(_=0),a=new Array(_);for(var p=1;c>p;p++)a[p-1]=arguments[p];for(s.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return(r=i["$null_object?"]())===$||null==r||r.$$is_boolean&&1!=r||(i.__sending_message["$=="](t)?i.$__mock_proxy().$ensure_implemented(t):i.$__mock_proxy().$ensure_publicly_implemented(t,i)),(n=i,r=e.find_super_dispatcher(i,"method_missing",s,!1),r.$$p=o,r).apply(n,l)},s.$$arity=-2),l=[i.stderr,f.get("StringIO").$new()],d=l[0],i.stderr=l[1],l,e.defn(p,"$__send__",u=function(t){var r,n,a,i=this,o=u.$$p,s=$,l=$,c=arguments.length,_=c-1;0>_&&(_=0),a=new Array(_);for(var p=1;c>p;p++)a[p-1]=arguments[p];for(u.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return i.__sending_message=t,(n=i,r=e.find_super_dispatcher(i,"__send__",u,!1),r.$$p=o,r).apply(n,s)}finally{i.__sending_message=$}},u.$$arity=-2),i.stderr=d,e.defn(p,"$send",c=function(t){var r,n,a,i=this,o=c.$$p,s=o||$,l=arguments.length,u=l-1;0>u&&(u=0),a=new Array(u);for(var _=1;l>_;_++)a[_-1]=arguments[_];return c.$$p=null,(r=(n=i).$__send__,r.$$p=s.$to_proc(),r).apply(n,[t].concat(e.to_a(a)))},c.$$arity=-2),e.defn(p,"$initialize",_=function(){var t,r,n,a=this,i=_.$$p,o=$,s=$,l=arguments.length,u=l-0;0>u&&(u=0),n=new Array(u);for(var c=0;l>c;c++)n[c-0]=arguments[c];for(_.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=a,t=e.find_super_dispatcher(a,"initialize",_,!1),t.$$p=i,t).apply(r,o),a.__sending_message=$},_.$$arity=-1)}(u.base),function(t,$super){function r(){}var n,a,i=r=o(t,$super,"InstanceVerifyingDouble",r),s=i.$$proto,l=i.$$scope;return s.name=s.doubled_module=$,i.$include(l.get("TestDouble")),i.$include(l.get("VerifyingDouble")),e.defn(i,"$initialize",n=function(t){var r,$,a,i=this,o=(n.$$p,arguments.length),s=o-1;0>s&&(s=0),a=new Array(s);for(var l=1;o>l;l++)a[l-1]=arguments[l];return n.$$p=null,i.doubled_module=t,($=i,r=e.find_super_dispatcher(i,"initialize",n,!1),r.$$p=null,r).apply($,[""+t.$description()+" (instance)"].concat(e.to_a(a)))},n.$$arity=-2),e.defn(i,"$__build_mock_proxy",a=function(e){var t=this;return l.get("VerifyingProxy").$new(t,e,t.name,t.doubled_module,l.get("InstanceMethodReference"))},a.$$arity=1),$&&"__build_mock_proxy"}(u.base,null),function(t){var r,n,i,o,l=r=a(t,"ObjectVerifyingDoubleMethods"),u=(l.$$proto,l.$$scope);l.$include(u.get("TestDouble")),l.$include(u.get("VerifyingDouble")),e.defn(l,"$as_stubbed_const",n=function(e){var t=this;return null==t.doubled_module&&(t.doubled_module=$),null==e&&(e=s([],{})),u.get("ConstantMutator").$stub(t.doubled_module.$const_to_replace(),t,e),t},n.$$arity=-1),l.$private(),e.defn(l,"$initialize",i=function(t){var r,n,$,a=this,o=(i.$$p,arguments.length),s=o-1;0>s&&(s=0),$=new Array(s);for(var l=1;o>l;l++)$[l-1]=arguments[l];return i.$$p=null,a.doubled_module=t,(n=a,r=e.find_super_dispatcher(a,"initialize",i,!1),r.$$p=null,r).apply(n,[t.$description()].concat(e.to_a($)))},i.$$arity=-2),e.defn(l,"$__build_mock_proxy",o=function(e){var t=this;return null==t.name&&(t.name=$),null==t.doubled_module&&(t.doubled_module=$),u.get("VerifyingProxy").$new(t,e,t.name,t.doubled_module,u.get("ObjectMethodReference"))},o.$$arity=1)}(u.base),function(e,$super){function t(){}var r=t=o(e,$super,"ObjectVerifyingDouble",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("ObjectVerifyingDoubleMethods"))}(u.base,null),function(e,$super){function t(){}var r=t=o(e,$super,"ClassVerifyingDouble",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("ObjectVerifyingDoubleMethods"))}(u.base,u.get("Module"))}(u.base)}(n.base)},Opal.modules["rspec/mocks/verifying_message_expecation"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require_rspec_support","$attr_accessor","$===","$first","$>","$length","$validate_expected_arguments!","$private","$nil?","$method_reference","$with_signature","$new","$valid?","$raise_invalid_arguments_error"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("method_signature_verifier"),function(r){var i,o=i=$(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var i,o=i=$(r,"Mocks"),s=(o.$$proto,o.$$scope);!function(r,$super){function $(){}var i,o,s,l=$=a(r,$super,"VerifyingMessageExpectation",$),u=(l.$$proto,l.$$scope);return l.$attr_accessor("method_reference"),e.defn(l,"$initialize",i=function(){var t,r,$,a=this,o=i.$$p,s=n,l=n,u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];for(i.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=a,t=e.find_super_dispatcher(a,"initialize",i,!1),t.$$p=o,t).apply(r,s)},i.$$arity=-1),e.defn(l,"$with",o=function(){var r,$,a,i,s=this,l=o.$$p,c=n,_=n,p=n,f=arguments.length,d=f-0;0>d&&(d=0),i=new Array(d);for(var h=0;f>h;h++)i[h-0]=arguments[h];for(o.$$p=null,_=[],p=0;p<arguments.length;p++)_[p]=arguments[p];return((r=u.get("ArgumentMatchers").$$scope.get("AnyArgsMatcher")["$==="](i.$first()))===n||null==r||r.$$is_boolean&&1!=r)&&(c=function(){return(r=u.get("ArgumentMatchers").$$scope.get("NoArgsMatcher")["$==="](i.$first()))===n||null==r||r.$$is_boolean&&1!=r?(r=t(i.$length(),0))===n||null==r||r.$$is_boolean&&1!=r?($=s,r=e.find_super_dispatcher(s,"with",o,!1),r.$$p=l,r).apply($,_):i:[]}(),s["$validate_expected_arguments!"](c)),(a=s,r=e.find_super_dispatcher(s,"with",o,!1),r.$$p=l,r).apply(a,_)},o.$$arity=-1),l.$private(),e.defn(l,"$validate_expected_arguments!",s=function(e){var t,r,$,a=this;return(t=a.$method_reference()["$nil?"]())===n||null==t||t.$$is_boolean&&1!=t?(t=(r=a.$method_reference()).$with_signature,t.$$p=($=function(t){var r,a=$.$$s||this,i=n;return null==a.error_generator&&(a.error_generator=n),null==t&&(t=n),i=u.get("Support").$$scope.get("LooseSignatureVerifier").$new(t,e),(r=i["$valid?"]())===n||null==r||r.$$is_boolean&&1!=r?(a.failed_fast=!0,a.error_generator.$raise_invalid_arguments_error(i)):n},$.$$s=a,$.$$arity=1,$),t).call(r):n},s.$$arity=1),n&&"validate_expected_arguments!"}(s.base,s.get("MessageExpectation"))}(s.base)}(r.base)},Opal.modules["rspec/mocks/verifying_proxy"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$require_rspec_mocks","$ensure_implemented","$unimplemented?","$[]","$method_reference","$raise_unimplemented_error","$visibility","$==","$raise_non_public_error","$include","$new","$[]=","$tap","$method_reference=","$to_proc","$validate_arguments!","$private","$with_signature","$valid?","$raise","$error_message","$respond_to?","$save_original_method!","$original_method","$!"]),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("verifying_message_expecation"),t.get("RSpec").$$scope.get("Support").$require_rspec_mocks("method_reference"),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Mocks"),s=(o.$$proto,o.$$scope);!function(t){var a,i,o,s,l,u,c=a=n(t,"VerifyingProxyMethods");c.$$proto,c.$$scope;e.defn(c,"$add_stub",i=function(t,n){var a,o,s=this,l=i.$$p,u=r,c=r;for(null==n&&(n=$([],{})),i.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return s.$ensure_implemented(t),(o=s,a=e.find_super_dispatcher(s,"add_stub",i,!1),a.$$p=l,a).apply(o,u)},i.$$arity=-2),e.defn(c,"$add_simple_stub",o=function(t){var n,$,a,i=this,s=o.$$p,l=r,u=r,c=arguments.length,_=c-1;0>_&&(_=0),a=new Array(_);for(var p=1;c>p;p++)a[p-1]=arguments[p];for(o.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return i.$ensure_implemented(t),($=i,n=e.find_super_dispatcher(i,"add_simple_stub",o,!1),n.$$p=s,n).apply($,l)},o.$$arity=-2),e.defn(c,"$add_message_expectation",s=function(t,n){var a,i,o=this,l=s.$$p,u=r,c=r;for(null==n&&(n=$([],{})),s.$$p=null,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return o.$ensure_implemented(t),(i=o,a=e.find_super_dispatcher(o,"add_message_expectation",s,!1),a.$$p=l,a).apply(i,u)},s.$$arity=-2),e.defn(c,"$ensure_implemented",l=function(e){var t,n=this;return null==n.error_generator&&(n.error_generator=r),null==n.doubled_module&&(n.doubled_module=r),(t=n.$method_reference()["$[]"](e)["$unimplemented?"]())===r||null==t||t.$$is_boolean&&1!=t?r:n.error_generator.$raise_unimplemented_error(n.doubled_module,e)},l.$$arity=1),e.defn(c,"$ensure_publicly_implemented",u=function(e){var t=this,n=r;return null==t.error_generator&&(t.error_generator=r),t.$ensure_implemented(e),n=t.$method_reference()["$[]"](e).$visibility(),n["$=="]("public")?r:t.error_generator.$raise_non_public_error(e,n)},u.$$arity=2)}(s.base),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"VerifyingProxy",n),l=s.$$proto,u=s.$$scope;return l.method_reference=r,s.$include(u.get("VerifyingProxyMethods")),e.defn(s,"$initialize",$=function(t,n,a,i,o){var s,l,c,_,p=this;$.$$p;return $.$$p=null,(l=p,s=e.find_super_dispatcher(p,"initialize",$,!1),s.$$p=null,s).call(l,t,n,a),p.object=t,p.doubled_module=i,p.method_reference_class=o,p.method_doubles=(s=(c=u.get("Hash")).$new,s.$$p=(_=function(e,t){var n=_.$$s||this;return null==n.object&&(n.object=r),null==e&&(e=r),null==t&&(t=r),e["$[]="](t,u.get("VerifyingMethodDouble").$new(n.object,t,n,n.$method_reference()["$[]"](t)))},_.$$s=p,_.$$arity=2,_),s).call(c)},$.$$arity=5),e.defn(s,"$method_reference",i=function(){var e,t,n,$,a=this;return(e=a.method_reference)!==!1&&e!==r&&null!=e?e:a.method_reference=(t=(n=u.get("Hash")).$new,t.$$p=($=function(e,t){var n=$.$$s||this;return null==n.method_reference_class&&(n.method_reference_class=r),null==n.doubled_module&&(n.doubled_module=r),null==e&&(e=r),null==t&&(t=r),e["$[]="](t,n.method_reference_class.$new(n.doubled_module,t))},$.$$s=a,$.$$arity=2,$),t).call(n)},i.$$arity=0),e.defn(s,"$visibility_for",o=function(e){var t=this;return t.$method_reference()["$[]"](e).$visibility()},o.$$arity=1),r&&"visibility_for"}(s.base,s.get("TestDoubleProxy")),function(t,$super){function n(){}var $,i,o=n=a(t,$super,"VerifyingPartialDoubleProxy",n),s=o.$$proto,l=o.$$scope;
return s.method_doubles=r,o.$include(l.get("VerifyingProxyMethods")),e.defn(o,"$initialize",$=function(t,n){var a,i,o,s,u=this;$.$$p;return $.$$p=null,(i=u,a=e.find_super_dispatcher(u,"initialize",$,!1),a.$$p=null,a).call(i,t,n),u.doubled_module=l.get("DirectObjectReference").$new(t),u.method_doubles=(a=(o=l.get("Hash")).$new,a.$$p=(s=function(e,n){var $=s.$$s||this;return null==e&&(e=r),null==n&&(n=r),e["$[]="](n,l.get("VerifyingExistingMethodDouble").$new(t,n,$))},s.$$s=u,s.$$arity=2,s),a).call(o)},$.$$arity=2),e.defn(o,"$method_reference",i=function(){var e=this;return e.method_doubles},i.$$arity=0),r&&"method_reference"}(s.base,s.get("PartialDoubleProxy")),function(e,$super){function t(){}var r=t=a(e,$super,"VerifyingPartialClassDoubleProxy",t),n=(r.$$proto,r.$$scope);return r.$include(n.get("PartialClassDoubleProxyMethods"))}(s.base,s.get("VerifyingPartialDoubleProxy")),function(t,$super){function n(){}var $,i,o,s,l,u,c=n=a(t,$super,"VerifyingMethodDouble",n),_=c.$$proto,p=c.$$scope;return _.method_reference=r,e.defn(c,"$initialize",$=function(t,r,n,a){var i,o,s=this;$.$$p;return $.$$p=null,(o=s,i=e.find_super_dispatcher(s,"initialize",$,!1),i.$$p=null,i).call(o,t,r,n),s.method_reference=a},$.$$arity=4),e.defn(c,"$message_expectation_class",i=function(){return p.get("VerifyingMessageExpectation")},i.$$arity=0),e.defn(c,"$add_expectation",o=function(){var t,n,$,a,i,s,l=this,u=o.$$p,c=u||r,_=arguments.length,p=_-0;0>p&&(p=0),s=new Array(p);for(var f=0;_>f;f++)s[f-0]=arguments[f];return o.$$p=null,(t=(n=(i=l,a=e.find_super_dispatcher(l,"add_expectation",o,!1),a.$$p=c.$to_proc(),a).apply(i,e.to_a(s))).$tap,t.$$p=($=function(e){var t,n,a=$.$$s||this;return null==a.method_reference&&(a.method_reference=r),null==e&&(e=r),t=[a.method_reference],n=e,n["$method_reference="].apply(n,t),t[t.length-1]},$.$$s=l,$.$$arity=1,$),t).call(n)},o.$$arity=-1),e.defn(c,"$add_stub",s=function(){var t,n,$,a,i,o,l=this,u=s.$$p,c=u||r,_=arguments.length,p=_-0;0>p&&(p=0),o=new Array(p);for(var f=0;_>f;f++)o[f-0]=arguments[f];return s.$$p=null,(t=(n=(i=l,a=e.find_super_dispatcher(l,"add_stub",s,!1),a.$$p=c.$to_proc(),a).apply(i,e.to_a(o))).$tap,t.$$p=($=function(e){var t,n,a=$.$$s||this;return null==a.method_reference&&(a.method_reference=r),null==e&&(e=r),t=[a.method_reference],n=e,n["$method_reference="].apply(n,t),t[t.length-1]},$.$$s=l,$.$$arity=1,$),t).call(n)},s.$$arity=-1),e.defn(c,"$proxy_method_invoked",l=function(){var t,n,$,a=this,i=l.$$p,o=r,s=r,u=arguments.length,c=u-1;0>c&&(c=0),$=new Array(c);for(var _=1;u>_;_++)$[_-1]=arguments[_];for(l.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a["$validate_arguments!"]($),(n=a,t=e.find_super_dispatcher(a,"proxy_method_invoked",l,!1),t.$$p=i,t).apply(n,o)},l.$$arity=-2),c.$private(),e.defn(c,"$validate_arguments!",u=function(e){var t,n,$,a=this;return(t=(n=a.method_reference).$with_signature,t.$$p=($=function(t){var n,a=$.$$s||this,i=r;return null==t&&(t=r),i=p.get("Support").$$scope.get("StrictSignatureVerifier").$new(t,e),(n=i["$valid?"]())===r||null==n||n.$$is_boolean&&1!=n?a.$raise(p.get("ArgumentError"),i.$error_message()):r},$.$$s=a,$.$$arity=1,$),t).call(n)},u.$$arity=1),r&&"validate_arguments!"}(s.base,s.get("MethodDouble")),function(t,$super){function n(){}var $,i,o,s=n=a(t,$super,"VerifyingExistingMethodDouble",n),l=s.$$proto,u=s.$$scope;return l.valid_method=r,e.defn(s,"$initialize",$=function(t,r,n){var a,i,o=this;$.$$p;return $.$$p=null,(i=o,a=e.find_super_dispatcher(o,"initialize",$,!1),a.$$p=null,a).call(i,t,r,n,o),o.valid_method=t["$respond_to?"](r,!0),o["$save_original_method!"]()},$.$$arity=3),e.defn(s,"$with_signature",i=function(){var t=this,n=i.$$p,$=n||r;return i.$$p=null,e.yield1($,u.get("Support").$$scope.get("MethodSignature").$new(t.$original_method()))},i.$$arity=0),e.defn(s,"$unimplemented?",o=function(){var e=this;return e.valid_method["$!"]()},o.$$arity=0),r&&"unimplemented?"}(s.base,s.get("VerifyingMethodDouble"))}(s.base)}(t.base)},Opal.modules["rspec/mocks/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Mocks"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Version"),a=($.$$proto,$.$$scope);e.cdecl(a,"STRING","3.1.3")}(a.base)}(a.base)}(t.base)},Opal.modules["rspec/support/caller_filter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$join","$+","$union","$>=","$caller","$raise","$find","$!~","$*"]),function($){var s,l=s=i($,"RSpec"),u=(l.$$proto,l.$$scope);!function($,$super){function i(){}var s,l,u,c=i=o($,$super,"CallerFilter",i),_=(c.$$proto,c.$$scope);return e.cdecl(_,"RSPEC_LIBS",["core","mocks","expectations","support","matchers","rails"]),e.cdecl(_,"ADDITIONAL_TOP_LEVEL_FILES",["autorun"]),e.cdecl(_,"LIB_REGEX",new RegExp("/lib/rspec/("+t(_.get("RSPEC_LIBS"),_.get("ADDITIONAL_TOP_LEVEL_FILES")).$join("|")+")(\\.rb|/)")),e.cdecl(_,"IGNORE_REGEX",_.get("Regexp").$union(_.get("LIB_REGEX"),"rubygems/core_ext/kernel_require.rb")),(s=r(_.get("RUBY_VERSION"),"2.0.0"))===a||null==s||s.$$is_boolean&&1!=s?(e.defs(c,"$first_non_rspec_line",u=function(){var e,t,r,n=this;return(e=(t=n.$caller()).$find,e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=a),e["$!~"](_.get("IGNORE_REGEX"))},r.$$s=n,r.$$arity=1,r),e).call(t)},u.$$arity=0),a&&"first_non_rspec_line"):(e.defs(c,"$first_non_rspec_line",l=function(){var e,r,$,i=this,o=a,s=a,l=a,u=a;for(o=5,s=1,l=a;l===!1||l===a||null==l;)u=i.$caller(s,o),u!==!1&&u!==a&&null!=u||i.$raise("No non-lib lines in stack"),l=(e=(r=u).$find,e.$$p=($=function(e){$.$$s||this;return null==e&&(e=a),e["$!~"](_.get("IGNORE_REGEX"))},$.$$s=i,$.$$arity=1,$),e).call(r),s=t(s,o),o=n(o,2);return l},l.$$arity=0),a&&"first_non_rspec_line")}(u.base,null)}($.base)},Opal.modules["rspec/support/differ"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$require_rspec_support","$require","$all_strings?","$any_multiline_strings?","$diff_as_string","$coerce_to_string","$no_procs?","$no_numbers?","$diff_as_object","$to_s","$pick_encoding","$new","$each_cons","$overlaps?","$add_old_hunk_to_hunk","$add_to_output","$diff","$format_type","$hunks","$last","$finalize_output","$color_diff","$handle_encoding_errors","$object_to_string","$attr_reader","$alias_method","$fetch","$lambda","$private","$none?","$===","$safely_flatten","$all?","$any?","$multiline?","$join","$diffably_stringify","$map","$inspect","$gsub","$method_defined?","$include?","$encode","$encoding","$<<","$merge","$==","$flatten","$color","$color?","$chr","$[]","$green","$red","$blue","$normal","$lines","$call","$singleline_pp","$sort_by","$keys","$=~","$pp","$compatible?","$default_external","$!=","$source_encoding"]),r.get("RSpec").$$scope.get("Support").$require_rspec_support("encoded_string"),r.get("RSpec").$$scope.get("Support").$require_rspec_support("hunk_generator"),t.$require("pp"),function(t){var r,o=r=$(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var r,o=r=$(t,"Support"),s=(o.$$proto,o.$$scope);!function(t,$super){function r(){}var $,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j=r=a(t,$super,"Differ",r),q=j.$$proto,N=j.$$scope;return q.encoding=q.hunks=q.actual=q.expected=q.object_preparer=n,e.defn(j,"$diff",$=function(e,t){var r,$,a=this,i=n;return i="",(r=($=e!==!1&&e!==n&&null!=e)?t:e)===n||null==r||r.$$is_boolean&&1!=r||((r=a["$all_strings?"](e,t))===n||null==r||r.$$is_boolean&&1!=r?($=a["$no_procs?"](e,t),(r=$!==!1&&$!==n&&null!=$?a["$no_numbers?"](e,t):$)===n||null==r||r.$$is_boolean&&1!=r||(i=a.$diff_as_object(e,t))):(r=a["$any_multiline_strings?"](e,t))===n||null==r||r.$$is_boolean&&1!=r||(i=a.$diff_as_string(a.$coerce_to_string(e),a.$coerce_to_string(t)))),i.$to_s()},$.$$arity=2),e.defn(j,"$diff_as_string",o=function(t,r){var $,a,i,o=this,s=n;try{return o.encoding=o.$pick_encoding(t,r),o.actual=N.get("EncodedString").$new(t,o.encoding),o.expected=N.get("EncodedString").$new(r,o.encoding),s=N.get("EncodedString").$new("\n",o.encoding),($=(a=o.$hunks()).$each_cons,$.$$p=(i=function(e,t){var r,$=i.$$s||this;null==e&&(e=n),null==t&&(t=n);try{return(r=t["$overlaps?"](e))===n||null==r||r.$$is_boolean&&1!=r?$.$add_to_output(s,e.$diff($.$format_type()).$to_s()):$.$add_old_hunk_to_hunk(t,e)}finally{$.$add_to_output(s,"\n")}},i.$$s=o,i.$$arity=2,i),$).call(a,2),($=o.$hunks().$last())===n||null==$||$.$$is_boolean&&1!=$||o.$finalize_output(s,o.$hunks().$last().$diff(o.$format_type()).$to_s()),o.$color_diff(s)}catch(l){if(!e.rescue(l,[N.get("Encoding").$$scope.get("CompatibilityError")]))throw l;try{return o.$handle_encoding_errors()}finally{e.pop_exception()}}},o.$$arity=2),e.defn(j,"$diff_as_object",s=function(e,t){var r=this,$=n,a=n;return $=r.$object_to_string(e),a=r.$object_to_string(t),r.$diff_as_string($,a)},s.$$arity=2),j.$attr_reader("color"),j.$alias_method("color?","color"),e.defn(j,"$initialize",l=function(e){var t,r,$,a=this;return null==e&&(e=i([],{})),a.color=e.$fetch("color",!1),a.object_preparer=e.$fetch("object_preparer",(t=(r=a).$lambda,t.$$p=($=function(e){$.$$s||this;return null==e&&(e=n),e},$.$$s=a,$.$$arity=1,$),t).call(r))},l.$$arity=-1),j.$private(),e.defn(j,"$no_procs?",u=function(){var e,t,r,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=a.$safely_flatten($))["$none?"],e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),N.get("Proc")["$==="](e)},r.$$s=a,r.$$arity=1,r),e).call(t)},u.$$arity=-1),e.defn(j,"$all_strings?",c=function(){var e,t,r,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=a.$safely_flatten($))["$all?"],e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),N.get("String")["$==="](e)},r.$$s=a,r.$$arity=1,r),e).call(t)},c.$$arity=-1),e.defn(j,"$any_multiline_strings?",_=function(){var t,r,$,a,i,o,s=this,l=arguments.length,u=l-0;0>u&&(u=0),o=new Array(u);for(var c=0;l>c;c++)o[c-0]=arguments[c];return t=(r=s)["$all_strings?"].apply(r,e.to_a(o)),t!==!1&&t!==n&&null!=t?($=(a=s.$safely_flatten(o))["$any?"],$.$$p=(i=function(e){var t=i.$$s||this;return null==e&&(e=n),t["$multiline?"](e)},i.$$s=s,i.$$arity=1,i),$).call(a):t},_.$$arity=-1),e.defn(j,"$no_numbers?",p=function(){var e,t,r,$,a=this,i=arguments.length,o=i-0;0>o&&(o=0),$=new Array(o);for(var s=0;i>s;s++)$[s-0]=arguments[s];return(e=(t=a.$safely_flatten($))["$none?"],e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),N.get("Numeric")["$==="](e)},r.$$s=a,r.$$arity=1,r),e).call(t)},p.$$arity=-1),e.defn(j,"$coerce_to_string",f=function(e){var t,r=this;return(t=N.get("Array")["$==="](e))===n||null==t||t.$$is_boolean&&1!=t?e:r.$diffably_stringify(e).$join("\n")},f.$$arity=1),e.defn(j,"$diffably_stringify",d=function(e){var t,r,$,a=this;return(t=(r=e).$map,t.$$p=($=function(e){var t;$.$$s||this;return null==e&&(e=n),(t=N.get("Array")["$==="](e))===n||null==t||t.$$is_boolean&&1!=t?e.$to_s().$gsub("\n","\\n"):e.$inspect()},$.$$s=a,$.$$arity=1,$),t).call(r)},d.$$arity=1),(h=N.get("String")["$method_defined?"]("encoding"))===n||null==h||h.$$is_boolean&&1!=h?e.defn(j,"$multiline?",m=function(e){return e["$include?"]("\n")},m.$$arity=1):e.defn(j,"$multiline?",g=function(e){return e["$include?"]("\n".$encode(e.$encoding()))},g.$$arity=1),e.defn(j,"$hunks",y=function(){var e,t=this;return(e=t.hunks)!==!1&&e!==n&&null!=e?e:t.hunks=N.get("HunkGenerator").$new(t.actual,t.expected).$hunks()},y.$$arity=0),e.defn(j,"$finalize_output",v=function(e,t){var r=this;return r.$add_to_output(e,t),r.$add_to_output(e,"\n")},v.$$arity=2),e.defn(j,"$add_to_output",b=function(e,t){return e["$<<"](t)},b.$$arity=2),e.defn(j,"$add_old_hunk_to_hunk",x=function(e,t){return e.$merge(t)},x.$$arity=2),e.defn(j,"$safely_flatten",w=function(e){for(var t;(t=e["$=="](e.$flatten(1)))===n||null==t||t.$$is_boolean&&1!=t;)e=e.$flatten(1);return e},w.$$arity=1),e.defn(j,"$format_type",k=function(){return"unified"},k.$$arity=0),e.defn(j,"$color",S=function(e,t){return"e["+t+"m"+e+"e[0m"},S.$$arity=2),e.defn(j,"$red",E=function(e){var t=this;return t.$color(e,31)},E.$$arity=1),e.defn(j,"$green",R=function(e){var t=this;return t.$color(e,32)},R.$$arity=1),e.defn(j,"$blue",A=function(e){var t=this;return t.$color(e,34)},A.$$arity=1),e.defn(j,"$normal",O=function(e){var t=this;return t.$color(e,0)},O.$$arity=1),e.defn(j,"$color_diff",M=function(e){var t,r,$,a=this;return(t=a["$color?"]())===n||null==t||t.$$is_boolean&&1!=t?e:(t=(r=e.$lines()).$map,t.$$p=($=function(e){var t=$.$$s||this,r=n;return null==e&&(e=n),function(){return r=e["$[]"](0).$chr(),"+"["$==="](r)?t.$green(e):"-"["$==="](r)?t.$red(e):"@"["$==="](r)&&e["$[]"](1).$chr()["$=="]("@")?t.$blue(e):t.$normal(e)}()},$.$$s=a,$.$$arity=1,$),t).call(r).$join()},M.$$arity=1),e.defn(j,"$object_to_string",T=function(e){var t,r,$,a,i,o,s=this,l=n;return e=s.object_preparer.$call(e),function(){return l=e,N.get("Hash")["$==="](l)?(t=(r=(a=(i=e.$keys()).$sort_by,a.$$p=(o=function(e){o.$$s||this;return null==e&&(e=n),e.$to_s()},o.$$s=s,o.$$arity=1,o),a).call(i)).$map,t.$$p=($=function(t){var r=($.$$s||this,n),a=n;return null==t&&(t=n),r=N.get("PP").$singleline_pp(t,""),a=N.get("PP").$singleline_pp(e["$[]"](t),""),""+r+" => "+a+","},$.$$s=s,$.$$arity=1,$),t).call(r).$join("\n"):N.get("String")["$==="](l)?(t=e["$=~"](/\n/))===n||null==t||t.$$is_boolean&&1!=t?e.$inspect():e:N.get("PP").$pp(e,"")}()},T.$$arity=1),(h=N.get("String")["$method_defined?"]("encoding"))===n||null==h||h.$$is_boolean&&1!=h?e.defn(j,"$pick_encoding",I=function(){return n},I.$$arity=2):e.defn(j,"$pick_encoding",C=function(e,t){var r;return(r=N.get("Encoding")["$compatible?"](e,t))!==!1&&r!==n&&null!=r?r:N.get("Encoding").$default_external()},C.$$arity=2),e.defn(j,"$handle_encoding_errors",z=function(){var e,t=this;return(e=t.actual.$source_encoding()["$!="](t.expected.$source_encoding()))===n||null==e||e.$$is_boolean&&1!=e?"Could not produce a diff because of the encoding of the string "+("("+t.expected.$source_encoding()+")"):"Could not produce a diff because the encoding of the actual string "+("("+t.actual.$source_encoding()+") differs from the encoding of the expected ")+("string ("+t.expected.$source_encoding()+")")},z.$$arity=0),n&&"handle_encoding_errors"}(s.base,null)}(s.base)}(r.base)},Opal.modules["rspec/support/directory_maker"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$require_rspec_support","$generate_stack","$each","$generate_path","$directory_exists?","$mkdir","$raise","$message","$split","$windows_file_path?","$start_with?","$==","$[]","$join","$exist?","$directory?","$private_class_method"]),t.get("RSpec").$$scope.get("Support").$require_rspec_support("os"),function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"Support"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l,u,c,_=n=$(t,$super,"DirectoryMaker",n),p=(_.$$proto,_.$$scope);return e.defs(_,"$mkdir_p",a=function(t){var n,$,a,i=this,o=r;return o=i.$generate_stack(t),(n=($=t.$split(p.get("File").$$scope.get("SEPARATOR"))).$each,n.$$p=(a=function(t){var n,$=a.$$s||this,i=r;null==t&&(t=r),o=$.$generate_path(o,t);try{return(n=$["$directory_exists?"](o))===r||null==n||n.$$is_boolean&&1!=n?p.get("Dir").$mkdir(o):r}catch(s){if(!e.rescue(s,[p.get("Errno").$$scope.get("ENOTDIR")]))throw s;i=s;try{return $.$raise(p.get("Errno").$$scope.get("EEXIST"),i.$message())}finally{e.pop_exception()}}},a.$$s=i,a.$$arity=1,a),n).call($)},a.$$arity=1),(i=p.get("OS")["$windows_file_path?"]())===r||null==i||i.$$is_boolean&&1!=i?(e.defs(_,"$generate_stack",l=function(e){var t;return(t=e["$start_with?"](p.get("File").$$scope.get("SEPARATOR")))===r||null==t||t.$$is_boolean&&1!=t?".":p.get("File").$$scope.get("SEPARATOR")},l.$$arity=1),e.defs(_,"$generate_path",u=function(e,t){return p.get("File").$join(e,t)},u.$$arity=2)):(e.defs(_,"$generate_stack",o=function(e){var t;return(t=e["$start_with?"](p.get("File").$$scope.get("SEPARATOR")))===r||null==t||t.$$is_boolean&&1!=t?e["$[]"](1)["$=="](":")?"":".":p.get("File").$$scope.get("SEPARATOR")},o.$$arity=1),e.defs(_,"$generate_path",s=function(e,t){return e["$=="]("")?t:e["$=="](p.get("File").$$scope.get("SEPARATOR"))?p.get("File").$join("",t):p.get("File").$join(e,t)},s.$$arity=2)),e.defs(_,"$directory_exists?",c=function(e){var t;return t=p.get("File")["$exist?"](e),t!==!1&&t!==r&&null!=t?p.get("File")["$directory?"](e):t},c.$$arity=1),_.$private_class_method("directory_exists?"),_.$private_class_method("generate_stack"),_.$private_class_method("generate_path")}(o.base,null)}(o.base)}(t.base)},Opal.modules["rspec/support/encoded_string"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$detect_source_encoding","$matching_encoding","$attr_reader","$&","$map","$to_proc","$instance_methods","$each","$define_method","$__send__","$<<","$split","$method_defined?","$private","$encode","$normalize_missing","$force_encoding","$==","$to_s","$gsub","$encoding"]),function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"Support"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y=n=$(t,$super,"EncodedString",n),v=y.$$proto,b=y.$$scope,x=r;return v.string=v.encoding=r,e.cdecl(b,"MRI_UNICODE_UNKOWN_CHARACTER","\xef\xbf\xbd"),e.defn(y,"$initialize",i=function(e,t){var n=this;return null==t&&(t=r),n.encoding=t,n.source_encoding=n.$detect_source_encoding(e),n.string=n.$matching_encoding(e)},i.$$arity=-2),y.$attr_reader("source_encoding"),x=(o=(s=b.get("String").$instance_methods()).$map,o.$$p="to_s".$to_proc(),o).call(s)["$&"](["eql?","lines","==","encoding","empty?"]),(o=(l=x).$each,o.$$p=(u=function(t){var n,$,a,i=u.$$s||this;return null==t&&(t=r),(n=($=i).$define_method,n.$$p=(a=function(){var n,$,i,o,s=a.$$s||this;null==s.string&&(s.string=r),n=a.$$p||r,a.$$p=null;var l=arguments.length,u=l-0;0>u&&(u=0),$=new Array(u);for(var c=0;l>c;c++)$[c-0]=arguments[c];return(i=(o=s.string).$__send__,i.$$p=n.$to_proc(),i).apply(o,[t].concat(e.to_a($)))},a.$$s=i,a.$$arity=-1,a),n).call($,t)},u.$$s=y,u.$$arity=1,u),o).call(l),e.defn(y,"$<<",c=function(e){var t=this;return t.string["$<<"](t.$matching_encoding(e))},c.$$arity=1),e.defn(y,"$split",_=function(e){var t=this;return t.string.$split(t.$matching_encoding(e))},_.$$arity=1),e.defn(y,"$to_s",p=function(){var e=this;return e.string},p.$$arity=0),e.alias(y,"to_str","to_s"),(o=b.get("String")["$method_defined?"]("encoding"))===r||null==o||o.$$is_boolean&&1!=o?(y.$private(),e.defn(y,"$matching_encoding",g=function(e){return e},g.$$arity=1),e.defn(y,"$detect_source_encoding",m=function(){return"US-ASCII"},m.$$arity=1),r&&"detect_source_encoding"):(y.$private(),e.defn(y,"$matching_encoding",f=function(t){var r=this;try{return t.$encode(r.encoding)}catch(n){if(e.rescue(n,[b.get("Encoding").$$scope.get("UndefinedConversionError"),b.get("Encoding").$$scope.get("InvalidByteSequenceError")]))try{return r.$normalize_missing(t.$encode(r.encoding,a(["invalid","undef"],{invalid:"replace",undef:"replace"})))}finally{e.pop_exception()}else{if(!e.rescue(n,[b.get("Encoding").$$scope.get("ConverterNotFoundError")]))throw n;try{r.$normalize_missing(t.$force_encoding(r.encoding).$encode(a(["invalid"],{invalid:"replace"})))}finally{e.pop_exception()}}}},f.$$arity=1),e.defn(y,"$normalize_missing",d=function(e){var t=this;return t.encoding.$to_s()["$=="]("UTF-8")?e.$gsub(b.get("MRI_UNICODE_UNKOWN_CHARACTER").$force_encoding(t.encoding),"?"):e},d.$$arity=1),e.defn(y,"$detect_source_encoding",h=function(e){return e.$encoding()},h.$$arity=1),r&&"detect_source_encoding")}(s.base,null)}(s.base)}(t.base)},Opal.modules["rspec/support/hunk_generator"]=function(e){var t=e.top,r=e,n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$require","$map","$build_hunk","$diffs","$private","$diff","$expected_lines","$actual_lines","$map!","$chomp","$split","$tap","$file_length_difference","$new","$context_lines"]),t.$require("diff/lcs"),t.$require("diff/lcs/hunk"),function(t){var r,i=r=$(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var r,i=r=$(t,"Support"),o=(i.$$proto,i.$$scope);!function(t,$super){function r(){}var $,i,o,s,l,u,c,_=r=a(t,$super,"HunkGenerator",r),p=_.$$proto,f=_.$$scope;return p.hunks=p.expected=p.actual=p.file_length_difference=n,e.defn(_,"$initialize",$=function(e,t){var r=this;return r.actual=e,r.expected=t},$.$$arity=2),e.defn(_,"$hunks",i=function(){var e,t,r,$,a=this;return a.file_length_difference=0,(e=a.hunks)!==!1&&e!==n&&null!=e?e:a.hunks=(t=(r=a.$diffs()).$map,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=n),t.$build_hunk(e)},$.$$s=a,$.$$arity=1,$),t).call(r)},i.$$arity=0),_.$private(),e.defn(_,"$diffs",o=function(){var e=this;return f.get("Diff").$$scope.get("LCS").$diff(e.$expected_lines(),e.$actual_lines())},o.$$arity=0),e.defn(_,"$expected_lines",s=function(){var e,t,r,$=this;return(e=(t=$.expected.$split("\n"))["$map!"],e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),e.$chomp()},r.$$s=$,r.$$arity=1,r),e).call(t)},s.$$arity=0),e.defn(_,"$actual_lines",l=function(){var e,t,r,$=this;return(e=(t=$.actual.$split("\n"))["$map!"],e.$$p=(r=function(e){r.$$s||this;return null==e&&(e=n),e.$chomp()},r.$$s=$,r.$$arity=1,r),e).call(t)},l.$$arity=0),e.defn(_,"$build_hunk",u=function(e){var t,r,$,a=this;return(t=(r=f.get("Diff").$$scope.get("LCS").$$scope.get("Hunk").$new(a.$expected_lines(),a.$actual_lines(),e,a.$context_lines(),a.file_length_difference)).$tap,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=n),t.file_length_difference=e.$file_length_difference()},$.$$s=a,$.$$arity=1,$),t).call(r)},u.$$arity=1),e.defn(_,"$context_lines",c=function(){return 3},c.$$arity=0),n&&"context_lines"}(o.base,null)}(o.base)}(r.base)},Opal.modules["rspec/support/method_signature_verifier"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var i=e.top,o=e,s=e.nil,l=(e.breaker,e.slice,e.module),u=e.klass;return e.add_stubs(["$require","$require_rspec_support","$attr_reader","$classify_parameters","$max_non_kw_args","$===","$min_non_kw_args","$to_s","$<=","$optional_and_splat_args_supported?","$==","$non_kw_args_arity_description","$<<","$any?","$join","$map","$to_proc","$-","$last","$could_contain_kw_args?","$count","$each","$+","$parameters","$arity","$<","$~","$/","$split_args","$empty?","$missing_kw_args","$invalid_kw_args","$valid_non_kw_args?","$%","$!","$length","$non_kw_args","$private","$missing_kw_args_from","$kw_args","$invalid_kw_args_from","$has_kw_args_in?","$keys","$pop","$is_a_matcher?","$new"]),i.$require("rspec/support"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("ruby_features"),o.get("RSpec").$$scope.get("Support").$require_rspec_support("matcher_definition"),function(i){var o,c=o=l(i,"RSpec"),_=(c.$$proto,c.$$scope);!function(i){var o,c=o=l(i,"Support"),_=(c.$$proto,c.$$scope);!function(i,$super){function o(){}var l,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E=o=u(i,$super,"MethodSignature",o),R=E.$$proto,A=E.$$scope;return R.description=R.optional_kw_args=R.required_kw_args=R.allows_any_kw_args=R.allowed_kw_args=R.method=R.min_non_kw_args=s,E.$attr_reader("min_non_kw_args","max_non_kw_args"),e.defn(E,"$initialize",l=function(e){var t=this;return t.method=e,t.$classify_parameters()},l.$$arity=1),e.defn(E,"$non_kw_args_arity_description",c=function(){var e=this,t=s;return function(){return t=e.$max_non_kw_args(),e.$min_non_kw_args()["$==="](t)?e.$min_non_kw_args().$to_s():A.get("INFINITY")["$==="](t)?""+e.$min_non_kw_args()+" or more":""+e.$min_non_kw_args()+" to "+e.$max_non_kw_args()}()},c.$$arity=0),e.defn(E,"$valid_non_kw_args?",_=function(e){var r,n=this;return r=t(n.$min_non_kw_args(),e),r!==!1&&r!==s&&null!=r?t(e,n.$max_non_kw_args()):r},_.$$arity=1),(p=A.get("RubyFeatures")["$optional_and_splat_args_supported?"]())===s||null==p||p.$$is_boolean&&1!=p?(e.defn(E,"$description",v=function(){var e=this;return"arity of "+e.$non_kw_args_arity_description()},v.$$arity=0),e.defn(E,"$missing_kw_args_from",b=function(){return[]},b.$$arity=1),e.defn(E,"$invalid_kw_args_from",x=function(){return[]},x.$$arity=1),e.defn(E,"$has_kw_args_in?",w=function(){return!1},w.$$arity=1),e.defn(E,"$could_contain_kw_args?",k=function(){return!1},k.$$arity=-1),e.defn(E,"$classify_parameters",S=function(){var e,t=this,r=s;return r=t.method.$arity(),(e=$(r,0))===s||null==e||e.$$is_boolean&&1!=e?(t.min_non_kw_args=r,t.max_non_kw_args=r):(t.min_non_kw_args=r["$~"](),t.max_non_kw_args=A.get("INFINITY"))},S.$$arity=0)):(e.defn(E,"$description",f=function(){var e,t,r,n,$=this,a=s;return(e=$.description)!==!1&&e!==s&&null!=e?e:$.description=function(){return a=[],$.$non_kw_args_arity_description()["$=="]("0")||a["$<<"]("arity of "+$.$non_kw_args_arity_description()),(t=$.optional_kw_args["$any?"]())===s||null==t||t.$$is_boolean&&1!=t||a["$<<"]("optional keyword args ("+(t=(r=$.optional_kw_args).$map,t.$$p="inspect".$to_proc(),t).call(r).$join(", ")+")"),(t=$.required_kw_args["$any?"]())===s||null==t||t.$$is_boolean&&1!=t||a["$<<"]("required keyword args ("+(t=(n=$.required_kw_args).$map,t.$$p="inspect".$to_proc(),t).call(n).$join(", ")+")"),(t=$.allows_any_kw_args)===s||null==t||t.$$is_boolean&&1!=t||a["$<<"]("any additional keyword args"),a.$join(" and ")}()},f.$$arity=0),e.defn(E,"$missing_kw_args_from",d=function(e){var t=this;return r(t.required_kw_args,e)},d.$$arity=1),e.defn(E,"$invalid_kw_args_from",h=function(e){var t,n=this;return(t=n.allows_any_kw_args)===s||null==t||t.$$is_boolean&&1!=t?r(e,n.allowed_kw_args):[]},h.$$arity=1),e.defn(E,"$has_kw_args_in?",g=function(e){var t,r=this;return t=A.get("Hash")["$==="](e.$last()),t!==!1&&t!==s&&null!=t?r["$could_contain_kw_args?"](e):t},g.$$arity=1),e.defn(E,"$could_contain_kw_args?",m=function(e){var r,n=this;return(r=t(e.$count(),n.$min_non_kw_args()))===s||null==r||r.$$is_boolean&&1!=r?(r=n.allows_any_kw_args)!==!1&&r!==s&&null!=r?r:n.allowed_kw_args["$any?"]():!1},m.$$arity=1),e.defn(E,"$classify_parameters",y=function(){var t,r,$,a=this,i=s;return i=a.min_non_kw_args=0,t=[[],[]],a.optional_kw_args=t[0],a.required_kw_args=t[1],t,a.allows_any_kw_args=!1,(t=(r=a.method.$parameters()).$each,t.$$p=($=function(t){var r,a,o,l=$.$$s||this,u=s;return null==l.required_kw_args&&(l.required_kw_args=s),null==l.optional_kw_args&&(l.optional_kw_args=s),null==l.min_non_kw_args&&(l.min_non_kw_args=s),null==t&&(t=s),t=e.to_ary(t),r=e.slice.call(t,0,t.length),a=r.splice(0,1)[0],null==a&&(a=s),o=r.splice(0,1)[0],null==o&&(o=s),function(){return u=a,"keyreq"["$==="](u)?l.required_kw_args["$<<"](o):"key"["$==="](u)?l.optional_kw_args["$<<"](o):"keyrest"["$==="](u)?l.allows_any_kw_args=!0:"req"["$==="](u)?l.min_non_kw_args=n(l.min_non_kw_args,1):"opt"["$==="](u)?i=n(i,1):"rest"["$==="](u)?i=A.get("INFINITY"):s}()},$.$$s=a,$.$$arity=1,$.$$has_top_level_mlhs_arg=!0,$),t).call(r),a.max_non_kw_args=n(a.min_non_kw_args,i),a.allowed_kw_args=n(a.required_kw_args,a.optional_kw_args)},y.$$arity=0)),e.cdecl(A,"INFINITY",a(1,0))}(_.base,null),function(t,$super){function r(){}var n,$,a=r=u(t,$super,"BlockSignature",r),i=a.$$proto,o=a.$$scope;return i.max_non_kw_args=s,(n=o.get("RubyFeatures")["$optional_and_splat_args_supported?"]())===s||null==n||n.$$is_boolean&&1!=n?s:(e.defn(a,"$classify_parameters",$=function(){var t,r,n=this,a=$.$$p,i=s,l=s;for($.$$p=null,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return(r=n,t=e.find_super_dispatcher(n,"classify_parameters",$,!1),t.$$p=a,t).apply(r,i),n.max_non_kw_args["$=="](o.get("INFINITY"))?s:n.min_non_kw_args=n.max_non_kw_args},$.$$arity=0),s&&"classify_parameters")}(_.base,_.get("MethodSignature")),function(t,$super){function r(){}var n,$,a,i,o,l,c,_=r=u(t,$super,"MethodSignatureVerifier",r),p=_.$$proto;_.$$scope;return p.signature=s,_.$attr_reader("non_kw_args","kw_args"),e.defn(_,"$initialize",n=function(t,r){var n,$,a,i=this;return i.signature=t,$=(a=i).$split_args.apply(a,e.to_a(r)),n=e.to_ary($),i.non_kw_args=null==n[0]?s:n[0],i.kw_args=null==n[1]?s:n[1],$},n.$$arity=2),e.defn(_,"$valid?",$=function(){var e,t,r=this;return t=r.$missing_kw_args()["$empty?"](),e=t!==!1&&t!==s&&null!=t?r.$invalid_kw_args()["$empty?"]():t,e!==!1&&e!==s&&null!=e?r["$valid_non_kw_args?"]():e},$.$$arity=0),e.defn(_,"$error_message",a=function(){var e,t=this;return(e=t.$missing_kw_args()["$any?"]())===s||null==e||e.$$is_boolean&&1!=e?(e=t.$invalid_kw_args()["$any?"]())===s||null==e||e.$$is_boolean&&1!=e?(e=t["$valid_non_kw_args?"]()["$!"]())===s||null==e||e.$$is_boolean&&1!=e?s:"Wrong number of arguments. Expected %s, got %s."["$%"]([t.signature.$non_kw_args_arity_description(),t.$non_kw_args().$length()]):"Invalid keyword arguments provided: %s"["$%"]([t.$invalid_kw_args().$join(", ")]):"Missing required keyword arguments: %s"["$%"]([t.$missing_kw_args().$join(", ")])},a.$$arity=0),_.$private(),e.defn(_,"$valid_non_kw_args?",i=function(){var e=this;return e.signature["$valid_non_kw_args?"](e.$non_kw_args().$length())},i.$$arity=0),e.defn(_,"$missing_kw_args",o=function(){var e=this;return e.signature.$missing_kw_args_from(e.$kw_args())},o.$$arity=0),e.defn(_,"$invalid_kw_args",l=function(){var e=this;return e.signature.$invalid_kw_args_from(e.$kw_args())},l.$$arity=0),e.defn(_,"$split_args",c=function(){var e,t,r=this,n=s,$=arguments.length,a=$-0;0>a&&(a=0),t=new Array(a);for(var i=0;$>i;i++)t[i-0]=arguments[i];return n=function(){return(e=r.signature["$has_kw_args_in?"](t))===s||null==e||e.$$is_boolean&&1!=e?[]:t.$pop().$keys()}(),[t,n]},c.$$arity=-1),s&&"split_args"}(_.base,null),e.cdecl(_,"StrictSignatureVerifier",_.get("MethodSignatureVerifier")),function(t,$super){function r(){}var n,$=r=u(t,$super,"LooseSignatureVerifier",r),a=$.$$proto,i=$.$$scope;return a.signature=s,$.$private(),e.defn($,"$split_args",n=function(){var t,r,$,a=this,o=(n.$$p,arguments.length),l=o-0;0>l&&(l=0),$=new Array(l);for(var u=0;o>u;u++)$[u-0]=arguments[u];return n.$$p=null,r=i.get("RSpec").$$scope.get("Support")["$is_a_matcher?"]($.$last()),(t=r!==!1&&r!==s&&null!=r?a.signature["$could_contain_kw_args?"]($):r)===s||null==t||t.$$is_boolean&&1!=t||($.$pop(),a.signature=i.get("SignatureWithKeywordArgumentsMatcher").$new(a.signature)),(r=a,t=e.find_super_dispatcher(a,"split_args",n,!1),t.$$p=null,t).apply(r,e.to_a($))},n.$$arity=-1),function(t,$super){function r(){}var n,$,a,i,o,l,c=r=u(t,$super,"SignatureWithKeywordArgumentsMatcher",r),_=c.$$proto;c.$$scope;return _.signature=s,e.defn(c,"$initialize",n=function(e){var t=this;return t.signature=e},n.$$arity=1),e.defn(c,"$missing_kw_args_from",$=function(){return[]},$.$$arity=1),e.defn(c,"$invalid_kw_args_from",a=function(){return[]},a.$$arity=1),e.defn(c,"$non_kw_args_arity_description",i=function(){var e=this;return e.signature.$non_kw_args_arity_description()},i.$$arity=0),e.defn(c,"$valid_non_kw_args?",o=function(){var t,r,n=this,$=arguments.length,a=$-0;0>a&&(a=0),r=new Array(a);for(var i=0;$>i;i++)r[i-0]=arguments[i];return(t=n.signature)["$valid_non_kw_args?"].apply(t,e.to_a(r))},o.$$arity=-1),e.defn(c,"$has_kw_args_in?",l=function(e){var t=this;return t.signature["$has_kw_args_in?"](e)},l.$$arity=1),s&&"has_kw_args_in?"}(i.base,null)}(_.base,_.get("MethodSignatureVerifier"))}(_.base)}(o.base)},Opal.modules["rspec/support/os"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$=~","$[]","$module_function","$=="]),function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Support"),a=($.$$proto,$.$$scope);!function(t){var n,$,a,i=n=r(t,"OS"),o=(i.$$proto,i.$$scope);e.defn(i,"$windows?",$=function(){return o.get("RbConfig").$$scope.get("CONFIG")["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)},$.$$arity=0),i.$module_function("windows?"),e.defn(i,"$windows_file_path?",a=function(){return e.get("File").$$scope.get("ALT_SEPARATOR")["$=="]("\\")},a.$$arity=0),i.$module_function("windows_file_path?")}(a.base)}(a.base)}(t.base)},Opal.modules["rspec/support/recursive_const_methods"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$arity","$method","$const_defined?","$const_defined_on?","$const_get","$raise","$name","$select","$constants","$inject","$get_const_defined_on","$split","$normalize_const_name","$!","$===","$join","$sub"]),
function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a=$=n(t,"Support"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i,o,s,l,u,c,_,p,f=$=n(t,"RecursiveConstMethods"),d=(f.$$proto,f.$$scope);d.get("Module").$method("const_defined?").$arity()["$=="](1)?(e.defn(f,"$const_defined_on?",a=function(e,t){return e["$const_defined?"](t)},a.$$arity=2),e.defn(f,"$get_const_defined_on",i=function(e,t){var n,$=this;return(n=$["$const_defined_on?"](e,t))===r||null==n||n.$$is_boolean&&1!=n?$.$raise(d.get("NameError"),"uninitialized constant "+e.$name()+"::"+t):e.$const_get(t)},i.$$arity=2),e.defn(f,"$constants_defined_on",o=function(e){var t,n,$,a=this;return(t=(n=e.$constants()).$select,t.$$p=($=function(t){var n=$.$$s||this;return null==t&&(t=r),n["$const_defined_on?"](e,t)},$.$$s=a,$.$$arity=1,$),t).call(n)},o.$$arity=1)):(e.defn(f,"$const_defined_on?",s=function(e,t){return e["$const_defined?"](t,!1)},s.$$arity=2),e.defn(f,"$get_const_defined_on",l=function(e,t){return e.$const_get(t,!1)},l.$$arity=2),e.defn(f,"$constants_defined_on",u=function(e){return e.$constants(!1)},u.$$arity=1)),e.defn(f,"$recursive_const_get",c=function(e){var t,n,$,a=this;return(t=(n=a.$normalize_const_name(e).$split("::")).$inject,t.$$p=($=function(e,t){var n=$.$$s||this;return null==e&&(e=r),null==t&&(t=r),n.$get_const_defined_on(e,t)},$.$$s=a,$.$$arity=2,$),t).call(n,d.get("Object"))},c.$$arity=1),e.defn(f,"$recursive_const_defined?",_=function(t){try{var n,$,a,i=this,o=_.$$p,s=o||r,l=r;return _.$$p=null,l=i.$normalize_const_name(t).$split("::"),(n=($=l).$inject,n.$$p=(a=function(t,n){var $,i,o,l,u,c=a.$$s||this;return null==t&&(t=r),t=e.to_ary(t),$=e.slice.call(t,0,t.length),i=$.splice(0,1)[0],null==i&&(i=r),o=$.splice(0,1)[0],null==o&&(o=r),null==n&&(n=r),(l=(u=s!==r)?d.get("Module")["$==="](i)["$!"]():s!==r)===r||null==l||l.$$is_boolean&&1!=l||e.yieldX(s,[o,n]),((l=c["$const_defined_on?"](i,n))===r||null==l||l.$$is_boolean&&1!=l)&&e.ret(!1),[c.$get_const_defined_on(i,n),[i,n].$join("::")]},a.$$s=i,a.$$arity=2,a.$$has_top_level_mlhs_arg=!0,a),n).call($,[d.get("Object"),""])}catch(u){if(u===e.returner)return u.$v;throw u}},_.$$arity=1),e.defn(f,"$normalize_const_name",p=function(e){return e.$sub(/\A::/,"")},p.$$arity=1)}(i.base)}(i.base)}(t.base)},Opal.modules["rspec/support/ruby_features"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$module_function","$method_defined?","$>=","$!=","$private_method_defined?","$to_i"]),function(r){var a,i=a=$(r,"RSpec"),o=(i.$$proto,i.$$scope);!function(r){var a,i=a=$(r,"Support"),o=(i.$$proto,i.$$scope);!function(t){var r,n,a=r=$(t,"Ruby"),i=(a.$$proto,a.$$scope);e.defn(a,"$jruby?",n=function(){return i.get("RUBY_PLATFORM")["$=="]("java")},n.$$arity=0),a.$module_function("jruby?")}(o.base),function(r){var a,i,o,s,l,u,c=a=$(r,"RubyFeatures"),_=(c.$$proto,c.$$scope);e.defn(c,"$optional_and_splat_args_supported?",i=function(){return _.get("Method")["$method_defined?"]("parameters")},i.$$arity=0),c.$module_function("optional_and_splat_args_supported?"),e.defn(c,"$kw_args_supported?",o=function(){var e,r;return r=t(_.get("RUBY_VERSION"),"2.0.0"),e=r!==!1&&r!==n&&null!=r?_.get("RUBY_ENGINE")["$!="]("rbx"):r,e!==!1&&e!==n&&null!=e?_.get("RUBY_ENGINE")["$!="]("jruby"):e},o.$$arity=0),c.$module_function("kw_args_supported?"),e.defn(c,"$required_kw_args_supported?",s=function(){var e,r;return r=t(_.get("RUBY_VERSION"),"2.1.0"),e=r!==!1&&r!==n&&null!=r?_.get("RUBY_ENGINE")["$!="]("rbx"):r,e!==!1&&e!==n&&null!=e?_.get("RUBY_ENGINE")["$!="]("jruby"):e},s.$$arity=0),c.$module_function("required_kw_args_supported?"),e.defn(c,"$module_prepends_supported?",l=function(){var e;return(e=_.get("Module")["$method_defined?"]("prepend"))!==!1&&e!==n&&null!=e?e:_.get("Module")["$private_method_defined?"]("prepend")},l.$$arity=0),c.$module_function("module_prepends_supported?"),e.defn(c,"$supports_rebinding_module_methods?",u=function(){var e,r;return r=t(_.get("RUBY_VERSION").$to_i(),2),e=r!==!1&&r!==n&&null!=r?_.get("RUBY_ENGINE")["$!="]("rbx"):r,e!==!1&&e!==n&&null!=e?_.get("RUBY_ENGINE")["$!="]("jruby"):e},u.$$arity=0),c.$module_function("supports_rebinding_module_methods?")}(o.base)}(o.base)}(r.base)},Opal.modules["rspec/support/version"]=function(e){var t=(e.top,e),r=(e.nil,e.breaker,e.slice,e.module);return function(t){var n,$=n=r(t,"RSpec"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Support"),a=($.$$proto,$.$$scope);!function(t){var n,$=n=r(t,"Version"),a=($.$$proto,$.$$scope);e.cdecl(a,"STRING","3.1.2")}(a.base)}(a.base)}(t.base)},Opal.modules.strscan=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$private"]),function(t,$super){function $(){}var a,i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O=$=n(t,$super,"StringScanner",$),M=O.$$proto;O.$$scope;return M.pos=M.string=M.working=M.matched=M.prev_pos=M.match=r,O.$attr_reader("pos"),O.$attr_reader("matched"),e.defn(O,"$initialize",a=function(e){var t=this;return t.string=e,t.pos=0,t.matched=r,t.working=e,t.match=[]},a.$$arity=1),O.$attr_reader("string"),e.defn(O,"$beginning_of_line?",i=function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)},i.$$arity=0),e.alias(O,"bol?","beginning_of_line?"),e.defn(O,"$scan",o=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?t.matched=r:"object"==typeof n?(t.prev_pos=t.pos,t.pos+=n[0].length,t.working=t.working.substring(n[0].length),t.matched=n[0],t.match=n,n[0]):"string"==typeof n?(t.pos+=n.length,t.working=t.working.substring(n.length),n):r},o.$$arity=1),e.defn(O,"$scan_until",s=function(e){var t=this;e=t.$anchor(e);for(var n,$=t.pos,a=t.working;;){if(n=e.exec(a),$+=1,a=a.substr(1),null!=n)return t.matched=t.string.substr(t.pos,$-t.pos-1+n[0].length),t.prev_pos=$-1,t.pos=$,t.working=a.substr(n[0].length),t.matched;if(0===a.length)return t.matched=r}},s.$$arity=1),e.defn(O,"$[]",l=function(e){var t=this,n=t.match;return 0>e&&(e+=n.length),0>e||e>=n.length?r:null==n[e]?r:n[e]},l.$$arity=1),e.defn(O,"$check",u=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?t.matched=r:t.matched=n[0]},u.$$arity=1),e.defn(O,"$check_until",c=function(e){var t=this,n=t.prev_pos,$=t.pos,a=t.$scan_until(e);return a!==r&&(t.matched=a.substr(-1),t.working=t.string.substr($)),t.prev_pos=n,t.pos=$,a},c.$$arity=1),e.defn(O,"$peek",_=function(e){var t=this;return t.working.substring(0,e)},_.$$arity=1),e.defn(O,"$eos?",p=function(){var e=this;return 0===e.working.length},p.$$arity=0),e.defn(O,"$exist?",f=function(e){var t=this,n=e.exec(t.working);return null==n?r:0==n.index?0:n.index+1},f.$$arity=1),e.defn(O,"$skip",d=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);if(null==n)return t.matched=r;var $=n[0],a=$.length;return t.matched=$,t.prev_pos=t.pos,t.pos+=a,t.working=t.working.substring(a),a},d.$$arity=1),e.defn(O,"$skip_until",h=function(e){var t=this,n=t.$scan_until(e);return n===r?r:(t.matched=n.substr(-1),n.length)},h.$$arity=1),e.defn(O,"$get_byte",g=function(){var e=this,t=r;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=r,t},g.$$arity=0),e.alias(O,"getch","get_byte"),e.defn(O,"$match?",m=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?r:(t.prev_pos=t.pos,n[0].length)},m.$$arity=1),e.defn(O,"$pos=",y=function(e){var t=this;return 0>e&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)},y.$$arity=1),e.defn(O,"$post_match",v=function(){var e=this;return e.matched===r?r:e.string.substr(e.pos)},v.$$arity=0),e.defn(O,"$pre_match",b=function(){var e=this;return e.matched===r?r:e.string.substr(0,e.prev_pos)},b.$$arity=0),e.defn(O,"$reset",x=function(){var e=this;return e.working=e.string,e.matched=r,e.pos=0},x.$$arity=0),e.defn(O,"$rest",w=function(){var e=this;return e.working},w.$$arity=0),e.defn(O,"$rest?",k=function(){var e=this;return 0!==e.working.length},k.$$arity=0),e.defn(O,"$rest_size",S=function(){var e=this;return e.$rest().$size()},S.$$arity=0),e.defn(O,"$terminate",E=function(){var e,t,n=this;return n.match=r,e=[n.string.$length()],t=n,t["$pos="].apply(t,e),e[e.length-1]},E.$$arity=0),e.defn(O,"$unscan",R=function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=r,e.match=r,e},R.$$arity=0),O.$private(),e.defn(O,"$anchor",A=function(e){return new RegExp("^(?:"+e.toString().substr(1,e.toString().length-2)+")")},A.$$arity=1),r&&"anchor"}(t.base,null)},Opal.modules["opal/rspec/requires"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("cgi/util"),t.$require("diff/lcs"),t.$require("diff/lcs/block"),t.$require("diff/lcs/callbacks"),t.$require("diff/lcs/change"),t.$require("diff/lcs/hunk"),t.$require("diff/lcs/internals"),t.$require("erb"),t.$require("json"),t.$require("optparse"),t.$require("pathname"),t.$require("pp"),t.$require("prettyprint"),t.$require("rbconfig"),t.$require("rspec"),t.$require("rspec/core"),t.$require("rspec/core/backport_random"),t.$require("rspec/core/backtrace_formatter"),t.$require("rspec/core/configuration"),t.$require("rspec/core/configuration_options"),t.$require("rspec/core/dsl"),t.$require("rspec/core/example"),t.$require("rspec/core/example_group"),t.$require("rspec/core/filter_manager"),t.$require("rspec/core/flat_map"),t.$require("rspec/core/formatters"),t.$require("rspec/core/formatters/base_formatter"),t.$require("rspec/core/formatters/base_text_formatter"),t.$require("rspec/core/formatters/console_codes"),t.$require("rspec/core/formatters/deprecation_formatter"),t.$require("rspec/core/formatters/documentation_formatter"),t.$require("rspec/core/formatters/helpers"),t.$require("rspec/core/formatters/html_printer"),t.$require("rspec/core/formatters/json_formatter"),t.$require("rspec/core/formatters/progress_formatter"),t.$require("rspec/core/hooks"),t.$require("rspec/core/memoized_helpers"),t.$require("rspec/core/metadata"),t.$require("rspec/core/metadata_filter"),t.$require("rspec/core/mocking_adapters/rspec"),t.$require("rspec/core/notifications"),t.$require("rspec/core/option_parser"),t.$require("rspec/core/ordering"),t.$require("rspec/core/pending"),t.$require("rspec/core/reporter"),t.$require("rspec/core/ruby_project"),t.$require("rspec/core/runner"),t.$require("rspec/core/shared_example_group"),t.$require("rspec/core/version"),t.$require("rspec/core/warnings"),t.$require("rspec/core/world"),t.$require("rspec/expectations"),t.$require("rspec/expectations/configuration"),t.$require("rspec/expectations/expectation_target"),t.$require("rspec/expectations/fail_with"),t.$require("rspec/expectations/handler"),t.$require("rspec/expectations/syntax"),t.$require("rspec/expectations/version"),t.$require("rspec/matchers"),t.$require("rspec/matchers/aliased_matcher"),t.$require("rspec/matchers/built_in"),t.$require("rspec/matchers/built_in/all"),t.$require("rspec/matchers/built_in/base_matcher"),t.$require("rspec/matchers/built_in/be"),t.$require("rspec/matchers/built_in/be_between"),t.$require("rspec/matchers/built_in/be_instance_of"),t.$require("rspec/matchers/built_in/be_kind_of"),t.$require("rspec/matchers/built_in/be_within"),t.$require("rspec/matchers/built_in/change"),t.$require("rspec/matchers/built_in/compound"),t.$require("rspec/matchers/built_in/contain_exactly"),t.$require("rspec/matchers/built_in/cover"),t.$require("rspec/matchers/built_in/eq"),t.$require("rspec/matchers/built_in/eql"),t.$require("rspec/matchers/built_in/equal"),t.$require("rspec/matchers/built_in/exist"),t.$require("rspec/matchers/built_in/has"),t.$require("rspec/matchers/built_in/have_attributes"),t.$require("rspec/matchers/built_in/include"),t.$require("rspec/matchers/built_in/match"),t.$require("rspec/matchers/built_in/operators"),t.$require("rspec/matchers/built_in/output"),t.$require("rspec/matchers/built_in/raise_error"),t.$require("rspec/matchers/built_in/respond_to"),t.$require("rspec/matchers/built_in/satisfy"),t.$require("rspec/matchers/built_in/start_and_end_with"),t.$require("rspec/matchers/built_in/throw_symbol"),t.$require("rspec/matchers/built_in/yield"),t.$require("rspec/matchers/composable"),t.$require("rspec/matchers/dsl"),t.$require("rspec/matchers/generated_descriptions"),t.$require("rspec/matchers/matcher_delegator"),t.$require("rspec/matchers/pretty"),t.$require("rspec/mocks"),t.$require("rspec/mocks/any_instance"),t.$require("rspec/mocks/any_instance/chain"),t.$require("rspec/mocks/any_instance/expect_chain_chain"),t.$require("rspec/mocks/any_instance/expectation_chain"),t.$require("rspec/mocks/any_instance/message_chains"),t.$require("rspec/mocks/any_instance/proxy"),t.$require("rspec/mocks/any_instance/recorder"),t.$require("rspec/mocks/any_instance/stub_chain"),t.$require("rspec/mocks/any_instance/stub_chain_chain"),t.$require("rspec/mocks/argument_list_matcher"),t.$require("rspec/mocks/argument_matchers"),t.$require("rspec/mocks/configuration"),t.$require("rspec/mocks/error_generator"),t.$require("rspec/mocks/example_methods"),t.$require("rspec/mocks/instance_method_stasher"),t.$require("rspec/mocks/matchers/expectation_customization"),t.$require("rspec/mocks/message_expectation"),t.$require("rspec/mocks/method_double"),t.$require("rspec/mocks/method_reference"),t.$require("rspec/mocks/mutate_const"),t.$require("rspec/mocks/object_reference"),t.$require("rspec/mocks/order_group"),t.$require("rspec/mocks/proxy"),t.$require("rspec/mocks/space"),t.$require("rspec/mocks/syntax"),t.$require("rspec/mocks/targets"),t.$require("rspec/mocks/test_double"),t.$require("rspec/mocks/verifying_double"),t.$require("rspec/mocks/verifying_message_expecation"),t.$require("rspec/mocks/verifying_proxy"),t.$require("rspec/mocks/version"),t.$require("rspec/support"),t.$require("rspec/support/caller_filter"),t.$require("rspec/support/differ"),t.$require("rspec/support/directory_maker"),t.$require("rspec/support/encoded_string"),t.$require("rspec/support/fuzzy_matcher"),t.$require("rspec/support/hunk_generator"),t.$require("rspec/support/matcher_definition"),t.$require("rspec/support/method_signature_verifier"),t.$require("rspec/support/os"),t.$require("rspec/support/recursive_const_methods"),t.$require("rspec/support/ruby_features"),t.$require("rspec/support/version"),t.$require("rspec/support/warnings"),t.$require("rspec/version"),t.$require("set"),t.$require("shellwords"),t.$require("stringio"),t.$require("strscan")},Opal.modules.encoding=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$warn"]),t.$warn("DEPRECATION: encoding is now part of the core library, requiring it is deprecated")},Opal.modules.thread=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass),$=e.hash2;return e.add_stubs(["$allocate","$core_initialize!","$current","$fail","$[]","$coerce_key_name","$[]=","$key?","$keys","$private","$coerce_to!","$public","$clear","$empty?","$size","$shift","$push","$each","$to_proc","$locked?","$lock","$unlock"]),function(e,$super){function t(){}var $=t=n(e,$super,"ThreadError",t);$.$$proto,$.$$scope;return r}(t.base,t.get("StandardError")),function(t,$super){function a(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y=a=n(t,$super,"Thread",a),v=y.$$proto,b=y.$$scope;return v.fiber_locals=v.thread_locals=r,e.defs(y,"$current",i=function(){var e,t=this;return null==t.current&&(t.current=r),((e=t.current)===r||null==e||e.$$is_boolean&&1!=e)&&(t.current=t.$allocate(),t.current["$core_initialize!"]()),t.current},i.$$arity=0),e.defs(y,"$list",o=function(){var e=this;return[e.$current()]},o.$$arity=0),e.defn(y,"$initialize",s=function(){var e,t=this,r=arguments.length,n=r-0;0>n&&(n=0),e=new Array(n);for(var $=0;r>$;$++)e[$-0]=arguments[$];return t.$fail(b.get("NotImplementedError"),"Thread creation not available")},s.$$arity=-1),e.defn(y,"$[]",l=function(e){var t=this;return t.fiber_locals["$[]"](t.$coerce_key_name(e))},l.$$arity=1),e.defn(y,"$[]=",u=function(e,t){var r=this;return r.fiber_locals["$[]="](r.$coerce_key_name(e),t)},u.$$arity=2),e.defn(y,"$key?",c=function(e){var t=this;return t.fiber_locals["$key?"](t.$coerce_key_name(e))},c.$$arity=1),e.defn(y,"$keys",_=function(){var e=this;return e.fiber_locals.$keys()},_.$$arity=0),e.defn(y,"$thread_variable_get",p=function(e){var t=this;return t.thread_locals["$[]"](t.$coerce_key_name(e))},p.$$arity=1),e.defn(y,"$thread_variable_set",f=function(e,t){var r=this;return r.thread_locals["$[]="](r.$coerce_key_name(e),t)},f.$$arity=2),e.defn(y,"$thread_variable?",d=function(e){var t=this;return t.thread_locals["$key?"](t.$coerce_key_name(e))},d.$$arity=1),e.defn(y,"$thread_variables",h=function(){var e=this;return e.thread_locals.$keys()},h.$$arity=0),y.$private(),e.defn(y,"$core_initialize!",g=function(){var e=this;return e.thread_locals=$([],{}),e.fiber_locals=$([],{})},g.$$arity=0),e.defn(y,"$coerce_key_name",m=function(e){return b.get("Opal")["$coerce_to!"](e,b.get("String"),"to_s")},m.$$arity=1),y.$public(),function(t,$super){function $(){}var a,i,o,s,l,u,c,_=$=n(t,$super,"Queue",$),p=_.$$proto,f=_.$$scope;return p.storage=r,e.defn(_,"$initialize",a=function(){var e=this;return e.$clear()},a.$$arity=0),e.defn(_,"$clear",i=function(){var e=this;return e.storage=[]},i.$$arity=0),e.defn(_,"$empty?",o=function(){var e=this;return e.storage["$empty?"]()},o.$$arity=0),e.defn(_,"$size",s=function(){var e=this;return e.storage.$size()},s.$$arity=0),e.alias(_,"length","size"),e.defn(_,"$pop",l=function(e){var t,n=this;return null==e&&(e=!1),(t=n["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t||(e!==!1&&e!==r&&null!=e&&n.$fail(f.get("ThreadError"),"Queue empty"),n.$fail(f.get("ThreadError"),"Deadlock")),n.storage.$shift()},l.$$arity=-1),e.alias(_,"shift","pop"),e.alias(_,"deq","pop"),e.defn(_,"$push",u=function(e){var t=this;return t.storage.$push(e)},u.$$arity=1),e.alias(_,"<<","push"),e.alias(_,"enq","push"),e.defn(_,"$each",c=function(){var e,t,n=this,$=c.$$p,a=$||r;return c.$$p=null,(e=(t=n.storage).$each,e.$$p=a.$to_proc(),e).call(t)},c.$$arity=0),r&&"each"}(b.base,null)}(t.base,null),e.cdecl(t,"Queue",t.get("Thread").$$scope.get("Queue")),function(t,$super){function $(){}var a,i,o,s,l,u,c,_=$=n(t,$super,"Mutex",$),p=_.$$proto,f=_.$$scope;return p.locked=r,e.defn(_,"$initialize",a=function(){var e=this;return e.locked=!1},a.$$arity=0),e.defn(_,"$lock",i=function(){var e,t=this;return(e=t.locked)===r||null==e||e.$$is_boolean&&1!=e||t.$fail(f.get("ThreadError"),"Deadlock"),t.locked=!0,t},i.$$arity=0),e.defn(_,"$locked?",o=function(){var e=this;return e.locked},o.$$arity=0),e.defn(_,"$owned?",s=function(){var e=this;return e.locked},s.$$arity=0),e.defn(_,"$try_lock",l=function(){var e,t=this;return(e=t["$locked?"]())===r||null==e||e.$$is_boolean&&1!=e?(t.$lock(),!0):!1},l.$$arity=0),e.defn(_,"$unlock",u=function(){var e,t=this;return((e=t.locked)===r||null==e||e.$$is_boolean&&1!=e)&&t.$fail(f.get("ThreadError"),"Mutex not locked"),t.locked=!1,t},u.$$arity=0),e.defn(_,"$synchronize",c=function(){var t=this,n=c.$$p,$=n||r;c.$$p=null,t.$lock();try{return e.yieldX($,[])}finally{t.$unlock()}},c.$$arity=0),r&&"synchronize"}(t.base,null)},Opal.modules["opal/rspec/fixes/rspec/core/example"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$empty?","$[]","$metadata","$generated_description","$[]=","$+","$set_exception","$clear_generated_description"]),function(r,$super){function a(){}var i,o=a=$(r,$super,"Example",a),s=(o.$$proto,o.$$scope);return e.defn(o,"$assign_generated_description",i=function(){var r,$,a=this,i=n,o=n;try{try{return $=a.$metadata()["$[]"]("description")["$empty?"](),(r=$!==!1&&$!==n&&null!=$?i=s.get("RSpec").$$scope.get("Matchers").$generated_description():$)===n||null==r||r.$$is_boolean&&1!=r?n:(a.$metadata()["$[]="]("description",i),a.$metadata()["$[]="]("full_description",t(a.$metadata()["$[]"]("full_description"),i)))}catch(l){if(!e.rescue(l,[s.get("Exception")]))throw l;o=l;try{return a.$set_exception(o,"while assigning the example description")}finally{e.pop_exception()}}}finally{s.get("RSpec").$$scope.get("Matchers").$clear_generated_description()}},i.$$arity=0),function(t,$super){function r(){}var a,i=r=$(t,$super,"ExecutionResult",r);i.$$proto,i.$$scope;return e.defn(i,"$initialize",a=function(){return n},a.$$arity=0),n&&"initialize"}(s.base,null)}(r.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/backtrace_formatter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass),n=e.hash2;return e.add_stubs(["$alias_method","$original_format_backtrace","$clean_js_backtrace","$select","$match"]),function($,$super){function a(){}var i,o,s,l=a=r($,$super,"BacktraceFormatter",a);l.$$proto,l.$$scope;return e.defn(l,"$backtrace_line",i=function(){return t},i.$$arity=1),l.$alias_method("original_format_backtrace","format_backtrace"),e.defn(l,"$format_backtrace",o=function(e,t){var r=this;return null==t&&(t=n([],{})),r.$original_format_backtrace(r.$clean_js_backtrace(e),t)},o.$$arity=-2),e.defn(l,"$clean_js_backtrace",s=function(e){var r,n,$,a=this,i=t;return i=/\s*at.*/,(r=(n=e).$select,r.$$p=($=function(e){$.$$s||this;return null==e&&(e=t),i.$match(e)},$.$$s=a,$.$$arity=1,$),r).call(n)},s.$$arity=1),t&&"clean_js_backtrace"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/deprecation_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$class_eval","$+","$deprecated","$replacement","$call_site"]),function(r,$super){function a(){}var i,o,s,l,u,c=a=$(r,$super,"DeprecationFormatter",a),_=(c.$$proto,c.$$scope);return(i=(o=_.get("SpecifiedDeprecationMessage")).$class_eval,i.$$p=(s=function(){var r,$=s.$$s||this;return e.def($,"$too_many_warnings_message",r=function(){return t("Too many similar deprecation messages reported, disregarding further reports. ",_.get("DEPRECATION_STREAM_NOTICE"))},r.$$arity=0),n&&"too_many_warnings_message"},s.$$s=c,s.$$arity=0,s),i).call(o),(i=(l=_.get("GeneratedDeprecationMessage")).$class_eval,i.$$p=(u=function(){var r,$=u.$$s||this;return e.def($,"$to_s",r=function(){var e,r=this,$=n;return null==r.data&&(r.data=n),$=""+r.data.$deprecated()+" is deprecated.",(e=r.data.$replacement())===n||null==e||e.$$is_boolean&&1!=e||($=t($," Use "+r.data.$replacement()+" instead.")),(e=r.data.$call_site())===n||null==e||e.$$is_boolean&&1!=e||($=t($," Called from "+r.data.$call_site()+".")),$},r.$$arity=0),n&&"to_s"},u.$$s=c,u.$$arity=0,u),i).call(l)}(r.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/generated_deprecation_message"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,n,$,a=e.top,i=e,o=e.nil;e.breaker,e.slice;return e.add_stubs(["$class_eval","$deprecated","$replacement","$+","$call_site","$type"]),(r=(n=i.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("GeneratedDeprecationMessage")).$class_eval,r.$$p=($=function(){var r,n,a=$.$$s||this;return e.def(a,"$to_s",r=function(){var e,r=this,n=o;return null==r.data&&(r.data=o),n=""+r.data.$deprecated()+" is deprecated.",(e=r.data.$replacement())===o||null==e||e.$$is_boolean&&1!=e||(n=t(n," Use "+r.data.$replacement()+" instead.")),(e=r.data.$call_site())===o||null==e||e.$$is_boolean&&1!=e||(n=t(n," Called from "+r.data.$call_site()+".")),n},r.$$arity=0),e.def(a,"$too_many_warnings_message",n=function(){var e=this,r=o;return r="Too many uses of deprecated '"+e.$type()+"'. ",r=t(r,i.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("DeprecationFormatter").$$scope.get("DEPRECATION_STREAM_NOTICE"))},n.$$arity=0),o&&"too_many_warnings_message"},$.$$s=a,$.$$arity=0,$),r).call(n)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/console_codes"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module);return e.add_stubs(["$color_enabled?","$configuration","$+","$console_code_for"]),function($){var a,i,o=a=n($,"ConsoleCodes"),s=(o.$$proto,o.$$scope);e.defn(o,"$wrap",i=function(e,n){var $,a=this;return($=s.get("RSpec").$configuration()["$color_enabled?"]())===r||null==$||$.$$is_boolean&&1!=$?e:t(t(t("","["+a.$console_code_for(n)+"m"+e),""),"[0m")},i.$$arity=2)}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"))},Opal.modules["opal/rspec/fixes/rspec/core/formatters/loader"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$is_a?","$=~","$dup","$to_s","$gsub","$tr","$downcase","$===","$string_const?","$inject","$const_get","$split","$require","$path_for","$raise"]),function(n,$super){function $(){}var a,i,o,s=$=r(n,$super,"Loader",$),l=(s.$$proto,s.$$scope);return e.defn(s,"$string_const?",a=function(e){var r;return r=e["$is_a?"](l.get("String")),r!==!1&&r!==t&&null!=r?/^[A-Z][a-zA-Z0-9_:]*$/["$=~"](e):r},a.$$arity=1),e.defn(s,"$underscore",i=function(e){var r=t;return r=e.$to_s().$dup(),r=r.$gsub(/::/,"/"),r=r.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),r=r.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),r=r.$tr("-","_"),r.$downcase()},i.$$arity=1),e.defn(s,"$custom_formatter",o=function(r){var n,$,a,i,o=this;if(!((n=l.get("Class")["$==="](r))===t||null==n||n.$$is_boolean&&1!=n))return r;if((n=o["$string_const?"](r))===t||null==n||n.$$is_boolean&&1!=n)return t;for(;($=!0)!==t&&null!=$&&(!$.$$is_boolean||1==$);)try{return($=(a=r.$gsub(/^::/,"").$split("::")).$inject,$.$$p=(i=function(e,r){i.$$s||this;return null==e&&(e=t),null==r&&(r=t),e.$const_get(r)},i.$$s=o,i.$$arity=2,i),$).call(a,l.get("Object"))}catch(s){if(!e.rescue(s,[l.get("NameError")]))throw s;try{(($=o.$require(o.$path_for(r)))===t||null==$||$.$$is_boolean&&1!=$)&&o.$raise()}finally{e.pop_exception()}}},o.$$arity=1),t&&"custom_formatter"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters/json_formatter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass),n=e.gvars;return e.add_stubs(["$write","$output","$to_json","$===","$closed?","$==","$close"]),function($,$super){function a(){}var i,o=a=r($,$super,"JsonFormatter",a),s=o.$$proto,l=o.$$scope;return s.output_hash=t,e.defn(o,"$close",i=function(){var e,r,$=this;return null==n.stdout&&(n.stdout=t),$.$output().$write($.output_hash.$to_json()),(e=l.get("IO")["$==="]($.$output()))===t||null==e||e.$$is_boolean&&1!=e?t:(e=(r=$.$output()["$closed?"]())!==!1&&r!==t&&null!=r?r:$.$output()["$=="](n.stdout))===t||null==e||e.$$is_boolean&&1!=e?$.$output().$close():t},i.$$arity=1),t&&"close"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters"),null)},Opal.modules["opal/rspec/fixes/rspec/core/formatters"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/backtrace_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/deprecation_formatter"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/generated_deprecation_message"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/console_codes"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/loader"),t.$require("opal/rspec/fixes/rspec/core/formatters/../formatters/json_formatter")},Opal.modules["opal/rspec/fixes/rspec/core/notifications/examples_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$each_with_index","$+","$fully_formatted","$next","$failure_notifications","$each","$backtrace_line","$backtrace_formatter","$configuration","$location","$wrap","$full_description","$pending_message","$execution_result","$pending_examples"]),function(a){var i,o=i=n(a,"Notifications"),s=(o.$$proto,o.$$scope);!function(n,$super){function a(){}var i,o,s=a=$(n,$super,"ExamplesNotification",a),l=(s.$$proto,s.$$scope);return e.defn(s,"$fully_formatted_failed_examples",i=function(n){var $,a,i,o=this,s=r;return null==n&&(n=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),s="\nFailures:\n",($=(a=o.$failure_notifications()).$each_with_index,$.$$p=(i=function(e,$){i.$$s||this;return null==e&&(e=r),null==$&&($=r),s=t(s,e.$fully_formatted($.$next(),n))},i.$$s=o,i.$$arity=2,i),$).call(a),s},i.$$arity=-1),e.defn(s,"$fully_formatted_pending_examples",o=function(n){var $,a,i,o=this,s=r;return null==n&&(n=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),s="\nPending:\n",($=(a=o.$pending_examples()).$each,$.$$p=(i=function(e){var $=(i.$$s||this,r);return null==e&&(e=r),$=l.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(e.$location()),s=t(s,"  "+n.$wrap(e.$full_description(),"pending")+"\n"+("    # "+n.$wrap(e.$execution_result().$pending_message(),"detail")+"\n")+("    # "+n.$wrap($,"detail")+"\n"))},i.$$s=o,i.$$arity=1,i),$).call(a),s},o.$$arity=-1),r&&"fully_formatted_pending_examples"}(s.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications/failed_example_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$description","$each","$+","$new","$encoding_of","$colorized_message_lines","$colorized_formatted_backtrace"]),function(a){var i,o=i=n(a,"Notifications"),s=(o.$$proto,o.$$scope);!function(n,$super){function a(){}var i,o=a=$(n,$super,"FailedExampleNotification",a),s=(o.$$proto,o.$$scope);return e.defn(o,"$fully_formatted",i=function(n,$){var a,i,o,l,u,c=this,_=r;return null==$&&($=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),_="\n  "+n+") "+c.$description()+"\n",(a=(i=c.$colorized_message_lines($)).$each,a.$$p=(o=function(e){var n=o.$$s||this;return null==e&&(e=r),_=t(_,s.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+e+"\n",n.$encoding_of(_)))},o.$$s=c,o.$$arity=1,o),a).call(i),(a=(l=c.$colorized_formatted_backtrace($)).$each,a.$$p=(u=function(e){var n=u.$$s||this;return null==e&&(e=r),_=t(_,s.get("RSpec").$$scope.get("Support").$$scope.get("EncodedString").$new("     "+e+"\n",n.$encoding_of(_)))},u.$$s=c,u.$$arity=1,u),a).call(l),_},i.$$arity=-2),r&&"fully_formatted"}(s.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications/summary_notification"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e.nil),$=(e.breaker,e.slice,e.module);return e.add_stubs(["$class_eval","$pluralize","$example_count","$+","$failure_count","$>","$pending_count","$formatted_duration","$formatted_load_time","$colorized_totals_line","$empty?","$failed_examples","$colorized_rerun_commands"]),function(a){var i,o,s,l,u=i=$(a,"Notifications"),c=(u.$$proto,u.$$scope);(o=(s=c.get("SummaryNotification")).$class_eval,o.$$p=(l=function(){var $,a,i=l.$$s||this;return e.def(i,"$totals_line",$=function(){var e,$=this,a=n;return a=c.get("Formatters").$$scope.get("Helpers").$pluralize($.$example_count(),"example"),a=t(t(a,", "),c.get("Formatters").$$scope.get("Helpers").$pluralize($.$failure_count(),"failure")),(e=r($.$pending_count(),0))===n||null==e||e.$$is_boolean&&1!=e||(a=t(a,", "+$.$pending_count()+" pending")),a},$.$$arity=0),e.def(i,"$fully_formatted",a=function(r){var $,a=this,i=n;return null==r&&(r=e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ConsoleCodes")),i="\nFinished in "+a.$formatted_duration()+" "+("(files took "+a.$formatted_load_time()+" to load)\n")+(""+a.$colorized_totals_line(r)+"\n"),(($=a.$failed_examples()["$empty?"]())===n||null==$||$.$$is_boolean&&1!=$)&&(i=t(t(i,a.$colorized_rerun_commands(r)),"\n")),i},a.$$arity=-1),n&&"fully_formatted"},l.$$s=u,l.$$arity=0,l),o).call(s)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/notifications"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/examples_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/failed_example_notification"),t.$require("opal/rspec/fixes/rspec/core/notifications/../notifications/summary_notification");
},Opal.modules["opal/rspec/fixes/rspec/core/ordering/random"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return function(n,$super){function $(){}var a,i,o=$=r(n,$super,"Random",$),s=(o.$$proto,o.$$scope);return e.cdecl(s,"HIDE_RANDOM_WARNINGS",!1),e.defn(o,"$initialize",a=function(){var e;return(e=s.get("HIDE_RANDOM_WARNINGS"))===t||null==e||e.$$is_boolean&&1!=e?console.warn("Random order is not currently supported by opal-rspec, using default order."):t},a.$$arity=1),e.defn(o,"$order",i=function(e){return e},i.$$arity=1),t&&"order"}(e.get("RSpec").$$scope.get("Core").$$scope.get("Ordering"),null)},Opal.modules["opal/rspec/fixes/rspec/core/ordering"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/ordering/../ordering/random")},Opal.modules["opal/rspec/fixes/rspec/core/metadata"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.module),n=e.klass;return e.add_stubs(["$delete","$user_metadata","$!","$empty?","$file_path_and_line_number_from","$[]=","$metadata","$to_i"]),function($){var a,i=a=r($,"Metadata"),o=(i.$$proto,i.$$scope);!function(r,$super){function $(){}var a,i=$=n(r,$super,"HashPopulator",$);i.$$proto,i.$$scope;return e.defn(i,"$populate_location_attributes",a=function(){var r,n,$,a,i=this,o=t,s=t,l=t;return o=i.$user_metadata().$delete("caller"),n=function(){return($=(a=o!==!1&&o!==t&&null!=o)?o["$empty?"]()["$!"]():o)===t||null==$||$.$$is_boolean&&1!=$?["",-1]:i.$file_path_and_line_number_from(o)}(),r=e.to_ary(n),s=null==r[0]?t:r[0],l=null==r[1]?t:r[1],n,i.$metadata()["$[]="]("file_path",s),i.$metadata()["$[]="]("line_number",l.$to_i()),i.$metadata()["$[]="]("location",function(){return(r=s["$empty?"]())===t||null==r||r.$$is_boolean&&1!=r?""+s+":"+l:""}())},a.$$arity=0),t&&"populate_location_attributes"}(o.base,null)}(e.get("RSpec").$$scope.get("Core"))},Opal.modules["opal/rspec/fixes/rspec/core/configuration"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return function(n,$super){function $(){}var a,i,o=$=r(n,$super,"Configuration",$);o.$$proto,o.$$scope;return e.defn(o,"$files_or_directories_to_run=",a=function(){var e,r=this,n=arguments.length,$=n-0;0>$&&($=0),e=new Array($);for(var a=0;n>a;a++)e[a-0]=arguments[a];return r.files_or_directories_to_run=[],r.files_to_run=t},a.$$arity=-1),e.defn(o,"$requires=",i=function(){return t},i.$$arity=1),t&&"requires="}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/fixes/rspec/core/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,n=(e.top,e),$=e.nil,a=(e.breaker,e.slice,e.module),i=e.hash2;return e.add_stubs(["$multiple_module_include_super_works_right?","$[]","$end_with?","$+","$current_example","$location","$support_warn_with"]),(r=n.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===$||null==r||r.$$is_boolean&&1!=r?function(r){var n,o,s=n=a(r,"Warnings"),l=(s.$$proto,s.$$scope);e.defn(s,"$warn_with",o=function(e,r){var n,a=this;return null==r&&(r=i([],{})),(n=r["$[]"]("use_spec_location_as_call_site"))===$||null==n||n.$$is_boolean&&1!=n||(((n=e["$end_with?"]("."))===$||null==n||n.$$is_boolean&&1!=n)&&(e=t(e,".")),(n=l.get("RSpec").$current_example())===$||null==n||n.$$is_boolean&&1!=n||(e=t(e," Warning generated from spec at `"+l.get("RSpec").$current_example().$location()+"`."))),a.$support_warn_with(e,r)},o.$$arity=-2)}(e.get("RSpec").$$scope.get("Core")):$},Opal.modules["opal/rspec/fixes/rspec/core"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/core/../core/example"),t.$require("opal/rspec/fixes/rspec/core/../core/formatters"),t.$require("opal/rspec/fixes/rspec/core/../core/notifications"),t.$require("opal/rspec/fixes/rspec/core/../core/ordering"),t.$require("opal/rspec/fixes/rspec/core/../core/metadata"),t.$require("opal/rspec/fixes/rspec/core/../core/configuration"),t.$require("opal/rspec/fixes/rspec/core/../core/warnings")},Opal.modules["rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$require","$new","$<","$to_f","$define_method","$respond_to?","$__send__","$to_proc","$==","$=~","$write","$!","$empty?","$output","$has_output?","$send","$reset!","$string"]),r.$require("stringio"),function(r){var n,o=n=a(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r){var n,o=n=a(r,"Support"),s=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var a,o,s,l,u,c,_,p,f,d,h,g=n=i(r,$super,"StdErrSplitter",n),m=g.$$proto,y=(g.$$scope,$);return m.output_tracker=m.orig_stderr=$,e.defn(g,"$initialize",a=function(t){var r=this;return r.orig_stderr=t,r.output_tracker=e.get("StringIO").$new()},a.$$arity=1),y=function(){return(o=t(e.get("RUBY_VERSION").$to_f(),1.9))===$||null==o||o.$$is_boolean&&1!=o?"respond_to_missing?":"respond_to?"}(),(o=(s=g).$define_method,o.$$p=(l=function(){var t,r,n,a,i,o=l.$$s||this;null==o.orig_stderr&&(o.orig_stderr=$);var s=arguments.length,u=s-0;0>u&&(u=0),t=new Array(u);for(var c=0;s>c;c++)t[c-0]=arguments[c];return(r=(n=o.orig_stderr)["$respond_to?"].apply(n,e.to_a(t)))!==!1&&r!==$&&null!=r?r:(i=o,a=e.find_iter_super_dispatcher(o,null,l.$$def||null,!1,!0),a.$$p=$iter,a).apply(i)},l.$$s=g,l.$$arity=-1,l),o).call(s,y),e.defn(g,"$method_missing",u=function(t){var r,n,a,i,o=this,s=u.$$p,l=s||$,c=arguments.length,_=c-1;0>_&&(_=0),i=new Array(_);for(var p=1;c>p;p++)i[p-1]=arguments[p];return u.$$p=null,(r=(n=o.output_tracker).$__send__,r.$$p=l.$to_proc(),r).apply(n,[t].concat(e.to_a(i))),(r=(a=o.orig_stderr).$__send__,r.$$p=l.$to_proc(),r).apply(a,[t].concat(e.to_a(i)))},u.$$arity=-2),e.defn(g,"$==",c=function(e){var t=this;return t.orig_stderr["$=="](e)},c.$$arity=1),e.defn(g,"$write",_=function(e){var t,r=this;return(t=e["$=~"](/^\S+\/gems\/\S+:\d+: warning:/))===$||null==t||t.$$is_boolean&&1!=t?(r.orig_stderr.$write(e),r.output_tracker.$write(e)):$},_.$$arity=1),e.defn(g,"$has_output?",p=function(){var e=this;return e.$output()["$empty?"]()["$!"]()},p.$$arity=0),e.defn(g,"$reset!",f=function(){var t=this;return t.output_tracker=e.get("StringIO").$new()},f.$$arity=0),e.defn(g,"$verify_example!",d=function(e){var t,r=this;return(t=r["$has_output?"]())===$||null==t||t.$$is_boolean&&1!=t||e.$send("fail","Warnings were generated: "+r.$output()),r["$reset!"]()},d.$$arity=1),e.defn(g,"$output",h=function(){var e=this;return e.output_tracker.$string()},h.$$arity=0),$&&"output"}(s.base,null)}(s.base)}(n.base)},Opal.modules["opal/rspec/fixes/rspec/support/spec/stderr_splitter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?t>e:e["$<"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$<","$to_f","$define_method","$respond_to?"]),r.$require("rspec/support/spec/stderr_splitter"),function(r,$super){function n(){}var i,o,s,l=n=a(r,$super,"StdErrSplitter",n),u=(l.$$proto,l.$$scope,$);return u=function(){return(i=t(e.get("RUBY_VERSION").$to_f(),1.9))===$||null==i||i.$$is_boolean&&1!=i?"respond_to_missing?":"respond_to?"}(),(i=(o=l).$define_method,i.$$p=(s=function(){var t,r,n,a,i,o=s.$$s||this;null==o.orig_stderr&&(o.orig_stderr=$);var l=arguments.length,u=l-0;0>u&&(u=0),t=new Array(u);for(var c=0;l>c;c++)t[c-0]=arguments[c];return(r=(n=o.orig_stderr)["$respond_to?"].apply(n,e.to_a(t)))!==!1&&r!==$&&null!=r?r:(i=o,a=e.find_iter_super_dispatcher(o,null,s.$$def||null,!1,!1),a.$$p=null,a).apply(i,e.to_a(t))},s.$$s=l,s.$$arity=-1,s),i).call(o,u)}(n.get("RSpec").$$scope.get("Support"),null)},Opal.modules["opal/rspec/fixes/rspec/support/spec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/spec/../spec/stderr_splitter")},Opal.modules["opal/rspec/fixes/rspec/support/encoded_string"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return function(t,$super){function $(){}var a,i,o=$=n(t,$super,"EncodedString",$),s=o.$$proto;o.$$scope;return s.string=r,e.defn(o,"$initialize",a=function(e,t){var n=this;return null==t&&(t=r),n.string=e},a.$$arity=-2),e.defn(o,"$to_s",i=function(){var e=this;return e.string},i.$$arity=0),r&&"to_s"}(t.get("RSpec").$$scope.get("Support"),null)},Opal.modules["opal/rspec/fixes/rspec/support/recursive_const_methods"]=function(e){var t=(e.top,e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$sub"]),function(r){var n,$,a=n=t(r,"RecursiveConstMethods");a.$$proto,a.$$scope;e.defn(a,"$normalize_const_name",$=function(e){return e.$sub(/^::/,"")},$.$$arity=1)}(e.get("RSpec").$$scope.get("Support"))},Opal.modules["opal/rspec/fixes/rspec/support/warnings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.hash2;return e.add_stubs(["$fetch","$first_non_rspec_line","$[]","$+","$warn","$alias_method","$extend"]),function(a){var i,o=i=n(a,"RSpec"),s=(o.$$proto,o.$$scope);!function(a){var i,o=i=n(a,"Support"),s=(o.$$proto,o.$$scope);!function(a){var i,o,s=i=n(a,"Warnings"),l=(s.$$proto,s.$$scope);e.defn(s,"$warn_with",o=function(n,a){var i,o,s,u=this,c=r;return null==a&&(a=$([],{})),c=(i=(o=a).$fetch,i.$$p=(s=function(){s.$$s||this;return l.get("CallerFilter").$first_non_rspec_line()},s.$$s=u,s.$$arity=0,s),i).call(o,"call_site"),(i=a["$[]"]("replacement"))===r||null==i||i.$$is_boolean&&1!=i||(n=t(n," Use "+a["$[]"]("replacement")+" instead.")),c!==!1&&c!==r&&null!=c&&(n=t(n," Called from "+c+".")),e.get("Kernel").$warn(n)},o.$$arity=-2),s.$alias_method("support_warn_with","warn_with")}(s.base)}(s.base),o.$extend(s.get("RSpec").$$scope.get("Support").$$scope.get("Warnings"))}(e.Object)},Opal.modules["opal/rspec/fixes/rspec/support"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/support/../support/spec"),t.$require("opal/rspec/fixes/rspec/support/../support/encoded_string"),t.$require("opal/rspec/fixes/rspec/support/../support/recursive_const_methods"),t.$require("opal/rspec/fixes/rspec/support/../support/warnings")},Opal.modules["opal/rspec/fixes/rspec/expectations/fail_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r,n=(e.top,e),$=e.nil;e.breaker,e.slice;return e.add_stubs(["$!","$raise","$+"]),e.defs(n.get("RSpec").$$scope.get("Expectations"),"$fail_with",r=function(e,r,a){var i,o=this;return null==r&&(r=$),null==a&&(a=$),(i=e["$!"]())===$||null==i||i.$$is_boolean&&1!=i||o.$raise(n.get("ArgumentError"),t("Failure message is nil. Does your matcher define the ","appropriate failure_message_for_* method to return a string?")),o.$raise(n.get("RSpec").$$scope.get("Expectations").$$scope.get("ExpectationNotMetError"),e)},r.$$arity=-2),$&&"fail_with"},Opal.modules["opal/rspec/fixes/rspec/expectations"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/expectations/../expectations/fail_with")},Opal.modules["opal/rspec/fixes/rspec/matchers/pretty"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_s","$gsub","$tr","$downcase"]),function(t){var $,a=$=n(t,"RSpec"),i=(a.$$proto,a.$$scope);!function(t){var $,a=$=n(t,"Matchers"),i=(a.$$proto,a.$$scope);!function(t){var $,a,i=$=n(t,"Pretty");i.$$proto,i.$$scope;e.defn(i,"$underscore",a=function(e){var t=r;return t=e.$to_s(),t=t.$gsub(/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),t=t.$gsub(/([a-z\d])([A-Z])/,"\\1_\\2"),t=t.$tr("-","_"),t=t.$downcase()},a.$$arity=1)}(i.base)}(i.base)}(t.base)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/yield"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$empty?","$+","$expected_arg_description"]),function(a){var i,o=i=n(a,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(n,$super){function a(){}var i,o=a=$(n,$super,"YieldWithArgs",a),s=o.$$proto;o.$$scope;return s.expected=r,e.defn(o,"$description",i=function(){var e,n=this,$=r;return $="yield with args",((e=n.expected["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e)&&($=t($,"("+n.$expected_arg_description()+")")),$},i.$$arity=0),r&&"description"}(s.base,null),function(n,$super){function a(){}var i,o=a=$(n,$super,"YieldSuccessiveArgs",a);o.$$proto,o.$$scope;return e.defn(o,"$description",i=function(){var e=this,n=r;return n="yield successive args",n=t(n,"("+e.$expected_arg_description()+")")},i.$$arity=0),r&&"description"}(s.base,null)}(e.get("RSpec").$$scope.get("Matchers"))},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/start_and_end_with"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$+","$!","$respond_to?","$actual"]),function(a){var i,o=i=n(a,"BuiltIn"),s=(o.$$proto,o.$$scope);!function(n,$super){function a(){}var i,o=a=$(n,$super,"StartAndEndWith",a),s=o.$$proto;o.$$scope;return s.actual_does_not_have_ordered_elements=r,e.defn(o,"$failure_message",i=function(){var n,$,a=this,o=i.$$p,s=r,l=r,u=r;for(i.$$p=null,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return s=($=a,n=e.find_super_dispatcher(a,"failure_message",i,!1),n.$$p=o,n).apply($,l),(n=a.actual_does_not_have_ordered_elements)===r||null==n||n.$$is_boolean&&1!=n?(n=a.$actual()["$respond_to?"]("[]")["$!"]())===r||null==n||n.$$is_boolean&&1!=n||(s=t(s,", but it cannot be indexed using #[]")):s=t(s,", but it does not have ordered elements"),s},i.$$arity=0),r&&"failure_message"}(s.base,null)}(e.get("RSpec").$$scope.get("Matchers"))},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/compound"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$join","$indent_multiline_message","$sub","$conjunction"]),function(n,$super){function $(){}var a,i=$=r(n,$super,"Compound",$);i.$$proto,i.$$scope;return e.defn(i,"$multiline_message",a=function(e,t){var r=this;return[r.$indent_multiline_message(e.$sub(/\n+$/,"")),"..."+r.$conjunction()+":",r.$indent_multiline_message(t.$sub(/^\n+/,""))].$join("\n\n")},a.$$arity=2),t&&"multiline_message"}(e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn"),null)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in/all"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$sub","$join","$map","$=~","$+","$lines"]),function($,$super){function a(){}var i,o=a=n($,$super,"All",a);o.$$proto,o.$$scope;return e.defn(o,"$indent_multiline_message",i=function(e){var n,$,a,i=this;return e=e.$sub(/\n+$/,""),(n=($=e.$lines()).$map,n.$$p=(a=function(e){var n;a.$$s||this;return null==e&&(e=r),(n=e["$=~"](/\S/))===r||null==n||n.$$is_boolean&&1!=n?e:t("   ",e)},a.$$s=i,a.$$arity=1,a),n).call($).$join()},i.$$arity=1),r&&"indent_multiline_message"}(e.get("RSpec").$$scope.get("Matchers").$$scope.get("BuiltIn"),null)},Opal.modules["opal/rspec/fixes/rspec/matchers/built_in"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/yield"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/start_and_end_with"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/compound"),t.$require("opal/rspec/fixes/rspec/matchers/built_in/../built_in/all")},Opal.modules["opal/rspec/fixes/rspec/matchers"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/matchers/../matchers/pretty"),t.$require("opal/rspec/fixes/rspec/matchers/../matchers/built_in")},Opal.modules["opal/rspec/fixes/rspec/mocks/space"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$__id__","$include?","$name","$class","$raise","$[]=","$proxies","$is_a?","$new","$any?","$__build_mock_proxy_unless_expired","$verify_partial_doubles?","$configuration"]),function(t,$super){function $(){}var a,i,o=$=n(t,$super,"Space",$),s=o.$$proto,l=o.$$scope;return s.expectation_ordering=r,e.cdecl(l,"OPAL_NON_MOCKABLE_TYPES",["String","Number","Numeric"]),e.defn(o,"$id_for",a=function(e){return e.$__id__()},a.$$arity=1),e.defn(o,"$proxy_not_found_for",i=function(e,t){var n,$,a,i,o=this,s=r;return(n=l.get("OPAL_NON_MOCKABLE_TYPES")["$include?"](t.$class().$name()))===r||null==n||n.$$is_boolean&&1!=n||o.$raise(""+t.$class()+" "+t+" cannot be used for mocking in Opal!"),s=[l.get("InstanceVerifyingDouble"),l.get("ObjectVerifyingDouble"),l.get("ClassVerifyingDouble"),l.get("Double")],o.$proxies()["$[]="](e,function(){return(n=t["$is_a?"](l.get("NilClass")))===r||null==n||n.$$is_boolean&&1!=n?(n=($=(a=s)["$any?"],$.$$p=(i=function(e){i.$$s||this;return null==e&&(e=r),t["$is_a?"](e)},i.$$s=o,i.$$arity=1,i),$).call(a))===r||null==n||n.$$is_boolean&&1!=n?(n=t["$is_a?"](l.get("Class")))===r||null==n||n.$$is_boolean&&1!=n?(n=l.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==n||n.$$is_boolean&&1!=n?l.get("PartialDoubleProxy").$new(t,o.expectation_ordering):l.get("VerifyingPartialDoubleProxy").$new(t,o.expectation_ordering):(n=l.get("RSpec").$$scope.get("Mocks").$configuration()["$verify_partial_doubles?"]())===r||null==n||n.$$is_boolean&&1!=n?l.get("PartialClassDoubleProxy").$new(o,t,o.expectation_ordering):l.get("VerifyingPartialClassDoubleProxy").$new(o,t,o.expectation_ordering):t.$__build_mock_proxy_unless_expired(o.expectation_ordering):l.get("ProxyForNil").$new(o.expectation_ordering)}())},i.$$arity=2),r&&"proxy_not_found_for"}(t.get("RSpec").$$scope.get("Mocks"),null)},Opal.modules["opal/rspec/fixes/rspec/mocks/error_generator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e.nil),n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$method_call_args_description","$>","$length","$gsub","$inspect"]),function(a){var i,o=i=n(a,"Mocks"),s=(o.$$proto,o.$$scope);!function(n,$super){function a(){}var i,o=a=$(n,$super,"ErrorGenerator",a);o.$$proto,o.$$scope;return e.defn(o,"$actual_method_call_args_description",i=function(e,n){var $,a,i,o=this;return($=o.$method_call_args_description(n))!==!1&&$!==r&&null!=$?$:function(){return i=t(e,0),(a=i!==!1&&i!==r&&null!=i?t(n.$length(),0):i)===r||null==a||a.$$is_boolean&&1!=a?"":" with arguments: "+n.$inspect().$gsub(/^\[(.+)\]$/,"(\\1)")}()},i.$$arity=2),r&&"actual_method_call_args_description"}(s.base,null)}(e.get("RSpec"))},Opal.modules["opal/rspec/fixes/rspec/mocks/test_double"]=function(e){var t,r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$multiple_module_include_super_works_right?","$__mock_proxy","$record_message_received","$to_proc","$null_object?","$===","$to_s","$visibility_for","$==","$raise_non_public_error","$new","$include?","$raise","$raise_unexpected_message_error"]),(t=r.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===n||null==t||t.$$is_boolean&&1!=t?function(t){var r,a,i=r=$(t,"TestDouble"),o=(i.$$proto,i.$$scope);e.defn(i,"$call_method_missing",a=function(t){var r,$,i,s,l=this,u=a.$$p,c=u||n,_=n,p=n,f=n;null==l.name&&(l.name=n);var d=arguments.length,h=d-1;0>h&&(h=0),s=new Array(h);for(var g=1;d>g;g++)s[g-1]=arguments[g];return a.$$p=null,_=l.$__mock_proxy(),(r=($=_).$record_message_received,r.$$p=c.$to_proc(),r).apply($,[t].concat(e.to_a(s))),(r=_["$null_object?"]())===n||null==r||r.$$is_boolean&&1!=r?(f=_.$visibility_for(t),(r=(i=f["$=="]("private"))!==!1&&i!==n&&null!=i?i:f["$=="]("protected"))===n||null==r||r.$$is_boolean&&1!=r||o.get("ErrorGenerator").$new(l,l.name).$raise_non_public_error(t,f),(r=["to_a","to_ary"]["$include?"](t))===n||null==r||r.$$is_boolean&&1!=r||l.$raise(o.get("NoMethodError")),(r=_).$raise_unexpected_message_error.apply(r,[t].concat(e.to_a(s)))):(p=t,"to_int"["$==="](p)?0:"to_a"["$==="](p)||"to_ary"["$==="](p)?n:"to_str"["$==="](p)?l.$to_s():l)},a.$$arity=-2)}(e.get("RSpec").$$scope.get("Mocks")):n},Opal.modules["opal/rspec/fixes/rspec/mocks/verifying_double"]=function(e){var t,r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$multiple_module_include_super_works_right?","$null_object?","$==","$ensure_implemented","$__mock_proxy","$ensure_publicly_implemented","$call_method_missing","$to_proc","$include"]),(t=r.get("Opal").$$scope.get("RSpec").$$scope.get("Compatibility")["$multiple_module_include_super_works_right?"]())===n||null==t||t.$$is_boolean&&1!=t?(function(t){var r,a,i=r=$(t,"VerifyingDoubleFixes");i.$$proto,i.$$scope;e.defn(i,"$method_missing",a=function(t){var r,$,i,o=this,s=a.$$p,l=s||n;null==o.__sending_message&&(o.__sending_message=n);var u=arguments.length,c=u-1;0>c&&(c=0),i=new Array(c);for(var _=1;u>_;_++)i[_-1]=arguments[_];return a.$$p=null,(r=o["$null_object?"]())===n||null==r||r.$$is_boolean&&1!=r||(o.__sending_message["$=="](t)?o.$__mock_proxy().$ensure_implemented(t):o.$__mock_proxy().$ensure_publicly_implemented(t,o)),(r=($=o).$call_method_missing,r.$$p=l.$to_proc(),r).apply($,[t].concat(e.to_a(i)))},a.$$arity=-2)}(r.get("Opal").$$scope.get("RSpec")),function(t){var r,n=r=$(t,"Mocks"),i=(n.$$proto,n.$$scope);!function(t){var r,n=r=$(t,"VerifyingDouble");n.$$proto,n.$$scope;n.$include(e.get("Opal").$$scope.get("RSpec").$$scope.get("VerifyingDoubleFixes"))}(i.base),function(t,$super){function r(){}var n=r=a(t,$super,"ObjectVerifyingDouble",r);n.$$proto,n.$$scope;return n.$include(e.get("Opal").$$scope.get("RSpec").$$scope.get("VerifyingDoubleFixes"))}(i.base,null)}(e.get("RSpec"))):n},Opal.modules["opal/rspec/fixes/rspec/mocks"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/mocks/../mocks/space"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/error_generator"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/test_double"),t.$require("opal/rspec/fixes/rspec/mocks/../mocks/verifying_double")},Opal.modules["opal/rspec/fixes/rspec/caller_filter"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return function(t,$super){function $(){}var a,i=$=n(t,$super,"CallerFilter",$);i.$$proto,i.$$scope;return e.defs(i,"$first_non_rspec_line",a=function(){return""},a.$$arity=0),r&&"first_non_rspec_line"}(t.get("RSpec"),null)},Opal.modules["opal/rspec/fixes/rspec/example_groups"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),n=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$empty?","$description","$+","$gsub","$upcase","$[]","$last_match","$lstrip","$const_defined_on?","$next"]),function(r){var a,i,o,s=a=$(r,"ExampleGroups"),l=(s.$$proto,s.$$scope);e.defs(s,"$base_name_for",i=function(e){var r,$,a,i=this,o=n;return(r=e.$description()["$empty?"]())===n||null==r||r.$$is_boolean&&1!=r?(o=t(" ",e.$description()),o=(r=($=o).$gsub,r.$$p=(a=function(){a.$$s||this;return l.get("Regexp").$last_match()["$[]"](1).$upcase()},a.$$s=i,a.$$arity=0,a),r).call($,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),o=o.$lstrip(),o=o.$gsub(/\W/,""),o=o.$gsub(/^([^A-Z]|$)/,"Nested\\1")):"Anonymous"},i.$$arity=1),e.defs(s,"$disambiguate",o=function(e,r){var $,a,i=this;if(($=i["$const_defined_on?"](r,e))===n||null==$||$.$$is_boolean&&1!=$)return e;for(e=t(e,"_2");(a=i["$const_defined_on?"](r,e))!==n&&null!=a&&(!a.$$is_boolean||1==a);)e=e.$next();return e},o.$$arity=2)}(r.get("RSpec"))},Opal.modules["opal/rspec/fixes/rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/rspec/../rspec/core"),t.$require("opal/rspec/fixes/rspec/../rspec/support"),t.$require("opal/rspec/fixes/rspec/../rspec/expectations"),t.$require("opal/rspec/fixes/rspec/../rspec/matchers"),t.$require("opal/rspec/fixes/rspec/../rspec/mocks"),t.$require("opal/rspec/fixes/rspec/../rspec/caller_filter"),t.$require("opal/rspec/fixes/rspec/../rspec/example_groups")},Opal.modules["opal/rspec/fixes/opal"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return t.$require("opal/rspec/fixes/opal/../opal/compatibility")},Opal.modules["opal/rspec/fixes"]=function(e){var t,r=e.top,n=e,$=e.nil;e.breaker,e.slice;return e.add_stubs(["$const_defined?","$require"]),((t=n.get("Object")["$const_defined?"]("Encoding"))===$||null==t||t.$$is_boolean&&1!=t)&&r.$require("encoding"),r.$require("thread"),r.$require("opal/rspec/fixes/../fixes/rspec"),r.$require("opal/rspec/fixes/../fixes/opal")},Opal.modules["opal/rspec/formatter/document_io"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return e.add_stubs(["$include"]),function(t){var a,i=a=n(t,"Opal"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i,o,s,l=n=$(t,$super,"DocumentIO",n),u=l.$$proto,c=l.$$scope;return u.closed=r,l.$include(c.get("IO").$$scope.get("Writable")),e.defn(l,"$initialize",a=function(){document.open()},a.$$arity=0),e.defn(l,"$close",i=function(){var e=this;return e.closed=!0,document.close()},i.$$arity=0),e.defn(l,"$write",o=function(e){var t,n=this;return(t=n.closed)===r||null==t||t.$$is_boolean&&1!=t?document.write(e):console.error("DOC closed, can't write "+e)},o.$$arity=1),e.defn(l,"$flush",s=function(){return r},s.$$arity=0),r&&"flush"}(o.base,o.get("IO"))}(o.base)}(t.base)},Opal.modules["opal/rspec/formatter/noop_flush_string_io"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass;return function(t){var a,i=a=n(t,"Opal"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t,$super){function n(){}var a,i=n=$(t,$super,"NoopFlushStringIO",n);i.$$proto,i.$$scope;return e.defn(i,"$flush",a=function(){return r},a.$$arity=0),r&&"flush"}(o.base,o.get("StringIO"))}(o.base)}(t.base)},Opal.modules["opal/rspec/formatter/element"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.hash2;return e.add_stubs(["$attr_reader","$new","$===","$each","$__send__","$[]","$html=","$gsub","$native"]),function(t){var i,o=i=n(t,"Opal"),s=(o.$$proto,o.$$scope);!function(t){var i,o=i=n(t,"RSpec"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=n=$(t,$super,"Element",n),k=w.$$proto,S=w.$$scope;return k["native"]=r,w.$attr_reader("native"),e.defs(w,"$id",i=function(e){var t=this;return t.$new(document.getElementById(e))},i.$$arity=1),e.defs(w,"$klass",o=function(e){var t=this;return t.$new(document.getElementsByClassName(e)[0])},o.$$arity=1),e.defs(w,"$from_string",s=function(e){var t=this,n=r;return n=document.createElement("div"),n.innerHTML=e,t.$new(n.children[0])},s.$$arity=1),e.defn(w,"$initialize",l=function(e,t){var n,$,i,o=this;return null==t&&(t=a([],{})),(n=S.get("String")["$==="](e))===r||null==n||n.$$is_boolean&&1!=n?o["native"]=e:o["native"]=document.createElement(e),(n=($=t).$each,n.$$p=(i=function(e,t){var n=i.$$s||this;return null==e&&(e=r),null==t&&(t=r),n.$__send__(""+e+"=",t)},i.$$s=o,i.$$arity=2,i),n).call($)},l.$$arity=-2),e.defn(w,"$class_name",u=function(){var e=this;return e["native"].className},u.$$arity=0),e.defn(w,"$get_child_by_tag_name",c=function(e,t){var n=this,$=r,a=r;null==t&&(t=0),$=n["native"].getElementsByTagName(e),a=[];for(var i=0;i<$.length;i++)a.push($[i]);return S.get("Element").$new(a["$[]"](t))},c.$$arity=-2),e.defn(w,"$class_name=",_=function(e){var t=this;return t["native"].className=e},_.$$arity=1),e.defn(w,"$native",p=function(){var e=this;return e["native"]},p.$$arity=0),e.defn(w,"$outer_html",f=function(){var e=this;return e["native"].outerHTML},f.$$arity=0),e.defn(w,"$on_click=",d=function(e){var t=this;return t["native"].onclick=e},d.$$arity=1),e.defn(w,"$html=",h=function(e){var t=this;return t["native"].innerHTML=e},h.$$arity=1),e.defn(w,"$text=",g=function(e){var t,r,n=this;return t=[e.$gsub(/</,"&lt").$gsub(/>/,"&gt")],r=n,r["$html="].apply(r,t),t[t.length-1]},g.$$arity=1),e.defn(w,"$type=",m=function(e){var t=this;return t["native"].type=e},m.$$arity=1),e.defn(w,"$append",y=function(e){var t=this;return t["native"].appendChild(e.$native())},y.$$arity=1),e.alias(w,"<<","append"),e.defn(w,"$css_text=",v=function(e){var t=this;t["native"].styleSheet?t["native"].styleSheet.cssText=e:t["native"].appendChild(document.createTextNode(e))},v.$$arity=1),e.defn(w,"$style",b=function(e,t){var r=this;return r["native"].style[e]=t},b.$$arity=2),e.defn(w,"$append_to_head",x=function(){var e=this;return document.getElementsByTagName("head")[0].appendChild(e["native"])},x.$$arity=0),r&&"append_to_head"}(s.base,null)}(s.base)}(t.base)},Opal.modules["opal/rspec/formatter/html_printer"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=e.top,$=e,a=e.nil,i=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$puts","$close","$reset_output","$klass","$last","$current_node","$from_string","$string","$append","$new","$<<","$get_child_by_tag_name","$pop","$each","$to_proc","$flush_output","$lambda","$[]","$on_click=","$==","$+","$>","$%","$html=","$id"]),n.$require("opal/rspec/formatter/html_printer/../noop_flush_string_io"),n.$require("opal/rspec/formatter/html_printer/../element"),function(n){var $,s=$=i(n,"Opal"),l=(s.$$proto,s.$$scope);!function(n){var $,s=$=i(n,"RSpec"),l=(s.$$proto,s.$$scope);!function(n,$super){function $(){}var i,s,l,u,c,_,p,f,d,h,g,m,y,v,b,x,w=$=o(n,$super,"HtmlPrinter",$),k=w.$$proto,S=w.$$scope;return k.output=k.group_stack=k.root_node=k.update_stack=a,e.defn(w,"$initialize",i=function(){var t,r,n=this,$=i.$$p,o=a,s=a;for(i.$$p=null,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(r=n,t=e.find_super_dispatcher(n,"initialize",i,!1),t.$$p=$,t).apply(r,o),n.group_stack=[],n.update_stack=[]},i.$$arity=1),e.defn(w,"$print_html_start",s=function(){var t,r,n=this,$=s.$$p,i=a,o=a;for(s.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(r=n,t=e.find_super_dispatcher(n,"print_html_start",s,!1),t.$$p=$,t).apply(r,i),n.output.$puts("</div>"),n.output.$puts("</div>"),n.output.$puts("</body>"),n.output.$puts("</html>"),n.output.$close(),n.$reset_output(),n.root_node=S.get("Element").$klass("results")},s.$$arity=0),e.defn(w,"$current_node",l=function(){var e,t=this;return(e=t.group_stack.$last())===a||null==e||e.$$is_boolean&&1!=e?t.root_node:t.group_stack.$last()},l.$$arity=0),e.defn(w,"$flush_output",u=function(){var e=this,t=a,r=a;return t=e.$current_node(),r=S.get("Element").$from_string(e.output.$string()),t.$append(r),e.$reset_output()},u.$$arity=0),e.defn(w,"$reset_output",c=function(){var e=this;return e.output=S.get("NoopFlushStringIO").$new()},c.$$arity=0),e.defn(w,"$print_example_group_start",_=function(){var t,r,n=this,$=_.$$p,i=a,o=a,s=a,l=a;for(_.$$p=null,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(r=n,t=e.find_super_dispatcher(n,"print_example_group_start",_,!1),t.$$p=$,t).apply(r,s),n.output.$puts("</dl></div>"),i=n.$current_node(),o=S.get("Element").$from_string(n.output.$string()),n.$reset_output(),i["$<<"](o),n.group_stack["$<<"](o.$get_child_by_tag_name("dl")),n.update_stack["$<<"]([])},_.$$arity=3),e.defn(w,"$print_example_group_end",p=function(){var e,t,r=this;return r.group_stack.$pop(),(e=(t=r.update_stack.$pop()).$each,e.$$p="call".$to_proc(),e).call(t)},p.$$arity=0),e.defn(w,"$print_example_passed",f=function(){var t,r,n=this,$=f.$$p,i=a,o=a;for(f.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(r=n,t=e.find_super_dispatcher(n,"print_example_passed",f,!1),t.$$p=$,t).apply(r,i),n.$flush_output()},f.$$arity=2),e.defn(w,"$print_example_failed",d=function(t,r,n,$,i,o,s){var l,u,c,_,p,f=this,h=d.$$p,g=a,m=a,y=a,v=a,b=a,x=a;for(null==s&&(s=!1),d.$$p=null,b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];return(u=f,l=e.find_super_dispatcher(f,"print_example_failed",d,!1),l.$$p=h,l).apply(u,b),f.$flush_output(),g=f.$current_node().$get_child_by_tag_name("dd",m=-1),y=(l=(c=f).$lambda,l.$$p=(_=function(){var e=_.$$s||this;return e.$puts("Exception for example '"+r+"'\n"+i["$[]"]("backtrace")),!1},_.$$s=f,_.$$arity=-1,_),l).call(c),v=S.get("Element").$from_string('<form><button type="button">Console</button></form>'),l=[y],p=v,p["$on_click="].apply(p,l),l[l.length-1],g["$<<"](v)},d.$$arity=-7),e.defn(w,"$print_example_pending",h=function(){var t,r,n=this,$=h.$$p,i=a,o=a;for(h.$$p=null,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(r=n,t=e.find_super_dispatcher(n,"print_example_pending",h,!1),t.$$p=$,t).apply(r,i),n.$flush_output()},h.$$arity=2),e.defn(w,"$print_summary",g=function(e,n,$,i){var o,s,l=a,u=a;return l=""+n+" example"+function(){return n["$=="](1)?a:"s";
}()+", ",l=t(l,""+$+" failure"+function(){return $["$=="](1)?a:"s"}()),(o=r(i,0))===a||null==o||o.$$is_boolean&&1!=o||(l=t(l,", "+i+" pending")),u="%.5f"["$%"](e),o=["Finished in <strong>"+u+" seconds</strong>"],s=S.get("Element").$id("duration"),s["$html="].apply(s,o),o[o.length-1],o=[l],s=S.get("Element").$id("totals"),s["$html="].apply(s,o),o[o.length-1]},g.$$arity=4),e.defn(w,"$move_progress",m=function(e){return moveProgressBar(e)},m.$$arity=1),e.defn(w,"$make_header_red",y=function(){return makeRed("rspec-header")},y.$$arity=0),e.defn(w,"$make_header_yellow",v=function(){return makeYellow("rspec-header")},v.$$arity=0),e.defn(w,"$make_example_group_header_red",b=function(e){var t,r,n,$=this;return $.update_stack.$last()["$<<"]((t=(r=$).$lambda,t.$$p=(n=function(){n.$$s||this;return makeRed("div_group_"+e),makeRed("example_group_"+e)},n.$$s=$,n.$$arity=0,n),t).call(r))},b.$$arity=1),e.defn(w,"$make_example_group_header_yellow",x=function(e){var t,r,n,$=this;return $.update_stack.$last()["$<<"]((t=(r=$).$lambda,t.$$p=(n=function(){n.$$s||this;return makeYellow("div_group_"+e),makeYellow("example_group_"+e)},n.$$s=$,n.$$arity=0,n),t).call(r))},x.$$arity=1),a&&"make_example_group_header_yellow"}(l.base,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("HtmlPrinter"))}(l.base)}($.base)},Opal.modules["opal/rspec/formatter/browser_formatter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,n=e,$=e.nil,a=(e.breaker,e.slice,e.module),i=e.klass;return e.add_stubs(["$register","$new","$+","$print_example_group_start","$example_group_number","$description","$group","$size","$parent_groups","$flush","$print_example_group_end","$map","$backtrace_line","$backtrace_formatter","$configuration","$backtrace","$exception","$compact"]),r.$require("opal/rspec/formatter/browser_formatter/../document_io"),r.$require("opal/rspec/formatter/browser_formatter/../html_printer"),function(r){var n,o=n=a(r,"Opal"),s=(o.$$proto,o.$$scope);!function(r){var n,o=n=a(r,"RSpec"),s=(o.$$proto,o.$$scope);!function(r,$super){function n(){}var a,o,s,l,u,c=n=i(r,$super,"BrowserFormatter",n),_=c.$$proto,p=c.$$scope;return _.output=_.example_group_number=_.printer=$,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$register(c,"example_group_finished"),e.defn(c,"$initialize",a=function(){var t,r,n=this;a.$$p;return a.$$p=null,(r=n,t=e.find_super_dispatcher(n,"initialize",a,!1),t.$$p=null,t).call(r,p.get("DocumentIO").$new()),n.printer=p.get("Opal").$$scope.get("RSpec").$$scope.get("HtmlPrinter").$new(n.output)},a.$$arity=1),e.defn(c,"$example_group_started",o=function(e){var r=this;return r.example_group_red=!1,r.example_group_number=t(r.example_group_number,1),r.printer.$print_example_group_start(r.$example_group_number(),e.$group().$description(),e.$group().$parent_groups().$size()),r.printer.$flush()},o.$$arity=1),e.defn(c,"$example_group_finished",s=function(){var e=this;return e.printer.$print_example_group_end()},s.$$arity=1),e.defn(c,"$start_dump",l=function(){return $},l.$$arity=1),e.defn(c,"$extra_failure_content",u=function(t){var r,n,a,i=this,o=$;return o=(r=(n=t.$exception().$backtrace()).$map,r.$$p=(a=function(t){a.$$s||this;return null==t&&(t=$),e.get("RSpec").$configuration().$backtrace_formatter().$backtrace_line(t)},a.$$s=i,a.$$arity=1,a),r).call(n),'    <pre class="ruby"><code>'+o.$compact()+"</code></pre>"},u.$$arity=1),$&&"extra_failure_content"}(s.base,e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("HtmlFormatter"))}(s.base)}(n.base)},Opal.modules["opal/rspec/formatter/opal_closed_tty_io"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass),$=e.gvars;return e.add_stubs(["$include","$include?","$raise","$write_proc=","$===","$write_proc"]),function(t,$super){function a(){}var i,o,s=a=n(t,$super,"OpalClosedTtyIO",a),l=(s.$$proto,s.$$scope);return s.$include(l.get("IO").$$scope.get("Writable")),e.defn(s,"$initialize",i=function(e,t){var n,a,i=this,o=r;return null==$.stdout&&($.stdout=r),null==$.stderr&&($.stderr=r),((n=["stdout","stderr"]["$include?"](t))===r||null==n||n.$$is_boolean&&1!=n)&&i.$raise("Unknown IO type "+t+"!"),n=[function(){return o=e,"phantom"["$==="](o)?function(e){callPhantom([t,e])}:"node"["$==="](o)||"browser"["$==="](o)?function(){return o=t,"stdout"["$==="](o)?$.stdout.$write_proc():"stderr"["$==="](o)?$.stderr.$write_proc():r}():i.$raise("Unknown runner type "+e)}()],a=i,a["$write_proc="].apply(a,n),n[n.length-1],i.tty=!0},i.$$arity=2),e.defn(s,"$closed?",o=function(){return!0},o.$$arity=0),r&&"closed?"}(t.base,t.get("IO"))},Opal.modules["opal/rspec/runner"]=function(e){var t=e.top,r=e.nil,n=(e.breaker,e.slice,e.module),$=e.klass,a=e.gvars;return e.add_stubs(["$phantom?","$node?","$new","$get_opal_closed_tty_io","$then","$exit_with_code","$to_i","$run","$inject","$<<","$value","$all?","$failure_exit_code","$report_async","$ensure","$hooks","$run_groups_async","$reporter","$example_count"]),t.$require("opal/rspec/runner/../formatter/opal_closed_tty_io"),function(t){var i,o=i=n(t,"Core"),s=(o.$$proto,o.$$scope);!function(t,$super){function n(){}var i,o,s=n=$(t,$super,"Runner",n),l=s.$$proto,u=s.$$scope;return l.configuration=l.world=r,function(t){var n,$,i,o,s,l,u,c,_=t.$$scope;t.$$proto;return e.defn(t,"$browser?",n=function(){return"undefined"!=typeof document},n.$$arity=0),e.defn(t,"$phantom?",$=function(){return"undefined"!=typeof phantom||"undefined"!=typeof OPAL_SPEC_PHANTOM},$.$$arity=0),e.defn(t,"$node?",i=function(){return"undefined"!=typeof process&&"undefined"!=typeof process.versions},i.$$arity=0),e.defn(t,"$non_browser?",o=function(){var e,t=this;return(e=t["$phantom?"]())!==!1&&e!==r&&null!=e?e:t["$node?"]()},o.$$arity=0),e.defn(t,"$get_opal_closed_tty_io",s=function(){var e,t=this,n=r,$=r,a=r;return n=function(){return(e=t["$phantom?"]())===r||null==e||e.$$is_boolean&&1!=e?(e=t["$node?"]())===r||null==e||e.$$is_boolean&&1!=e?"browser":"node":"phantom"}(),$=_.get("OpalClosedTtyIO").$new(n,"stdout"),a=_.get("OpalClosedTtyIO").$new(n,"stderr"),[a,$]},s.$$arity=0),e.defn(t,"$autorun",l=function(){var t,n,$,a=this,i=r,o=r;return n=a.$get_opal_closed_tty_io(),t=e.to_ary(n),i=null==t[0]?r:t[0],o=null==t[1]?r:t[1],n,(t=(n=a.$run(_.get("ARGV"),i,o)).$then,t.$$p=($=function(e){var t=$.$$s||this;return null==e&&(e=r),t.$exit_with_code(e.$to_i())},$.$$s=a,$.$$arity=1,$),t).call(n)},l.$$arity=0),e.defn(t,"$exit_with_code",u=function(t){var n,$=this;return(n="undefined"!=typeof phantom)===r||null==n||n.$$is_boolean&&1!=n?(n=$["$node?"]())===r||null==n||n.$$is_boolean&&1!=n?e.global.OPAL_SPEC_CODE=t:process.exit(t):phantom_exit(t)},u.$$arity=1),e.defn(t,"$run",c=function(e,t,n){var $=this,i=r;return null==a.stderr&&(a.stderr=r),null==a.stdout&&(a.stdout=r),null==t&&(t=a.stderr),null==n&&(n=a.stdout),i=_.get("ConfigurationOptions").$new(e),$.$new(i).$run(t,n)},c.$$arity=-2),r&&"run"}(e.get_singleton_class(s)),e.defn(s,"$run_groups_async",i=function(e,t){var n,$,a,i,o,s=this,l=r,c=r;return l=[],c=(n=($=e).$inject,n.$$p=(a=function(e,n){var $,i,o,s=a.$$s||this;return null==e&&(e=r),null==n&&(n=r),($=(i=e).$then,$.$$p=(o=function(e){o.$$s||this;return null==e&&(e=r),l["$<<"](e),n.$run(t)},o.$$s=s,o.$$arity=1,o),$).call(i)},a.$$s=s,a.$$arity=2,a),n).call($,u.get("Promise").$value(!0)),(n=(i=c).$then,n.$$p=(o=function(e){var t,n=o.$$s||this;return null==n.configuration&&(n.configuration=r),null==e&&(e=r),l["$<<"](e),(t=l["$all?"]())===r||null==t||t.$$is_boolean&&1!=t?n.configuration.$failure_exit_code():0},o.$$s=s,o.$$arity=1,o),n).call(i)},i.$$arity=2),e.defn(s,"$run_specs",o=function(e){var t,n,$,a=this;return(t=(n=a.configuration.$reporter()).$report_async,t.$$p=($=function(t){var n,a,i,o,s,l,c=$.$$s||this,_=r;return null==t&&(t=r),_=u.get("SuiteHookContext").$new(),(n=(a=(o=(s=u.get("Promise").$value(!0)).$then,o.$$p=(l=function(){var n=l.$$s||this;return null==n.configuration&&(n.configuration=r),n.configuration.$hooks().$run("before","suite",_),n.$run_groups_async(e,t)},l.$$s=c,l.$$arity=0,l),o).call(s)).$ensure,n.$$p=(i=function(e){var t=i.$$s||this;return null==t.configuration&&(t.configuration=r),null==e&&(e=r),t.configuration.$hooks().$run("after","suite",_),e},i.$$s=c,i.$$arity=1,i),n).call(a)},$.$$s=a,$.$$arity=1,$),t).call(n,a.world.$example_count(e))},o.$$arity=1),r&&"run_specs"}(s.base,null)}(e.get("RSpec"))},Opal.modules["opal/rspec/async/async_example"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$value","$instance_exec","$to_proc","$rescue","$new","$kind_of?","$then","$subject","$example_group_instance","$is_a?","$[]=","$__memoized","$ensure","$teardown_mocks_for_rspec","$set_exception","$verify_mocks","$expecting_with_rspec?","$configuration","$assign_generated_description","$run","$hooks","$current_example=","$start","$pending?","$mark_pending!","$pending","$finish","$each","$instance_variable_set","$instance_variables","$skipped?","$skip","$!","$dry_run?","$with_around_example_hooks","$run_after_example","$mark_fixed!","$raise","$location","$core_block_run","$resolve_subject","$run_before_example"]),function(n,$super){function $(){}var a,i,o,s,l=$=r(n,$super,"Example",$),u=l.$$proto,c=l.$$scope;return u.example_block=u.example_group_instance=u.example_group_class=t,e.defn(l,"$core_block_run",a=function(){var e,r,n,$,a,i,o,s=this,l=t;return l=c.get("Promise").$value((e=(r=s.example_group_instance).$instance_exec,e.$$p=s.example_block.$to_proc(),e).call(r,s)),(e=(n=(a=(i=l).$then,a.$$p=(o=function(e){o.$$s||this;return null==e&&(e=t),e},o.$$s=s,o.$$arity=1,o),a).call(i)).$rescue,e.$$p=($=function(e){var r;$.$$s||this;return null==e&&(e=t),(r=e)!==!1&&r!==t&&null!=r?r:e=c.get("Exception").$new("Async promise failed for unspecified reason"),((r=e["$kind_of?"](c.get("Exception")))===t||null==r||r.$$is_boolean&&1!=r)&&(e=c.get("Exception").$new(e)),e},$.$$s=s,$.$$arity=1,$),e).call(n)},a.$$arity=0),e.defn(l,"$resolve_subject",i=function(){var r,n,$,a=this,i=t,o=t;try{if(i=a.$example_group_instance().$subject(),(r=i["$is_a?"](c.get("Promise")))!==t&&null!=r&&(!r.$$is_boolean||1==r))return(r=(n=i).$then,r.$$p=($=function(e){var r=$.$$s||this;return null==e&&(e=t),r.$example_group_instance().$__memoized()["$[]="]("subject",e)},$.$$s=a,$.$$arity=1,$),r).call(n)}catch(s){if(!e.rescue(s,[c.get("Exception")]))throw s;o=s;try{}finally{e.pop_exception()}}return c.get("Promise").$value(!0)},i.$$arity=0),e.defn(l,"$run_after_example",o=function(){var e,r,n,$,a,i,o,s,l,u=this;return(e=(r=($=(a=(o=(s=u.example_group_class.$hooks().$run("after","example",u)).$then,o.$$p=(l=function(){var e,r=l.$$s||this;return r.$verify_mocks(),(e=c.get("RSpec").$configuration()["$expecting_with_rspec?"]())===t||null==e||e.$$is_boolean&&1!=e?t:r.$assign_generated_description()},l.$$s=u,l.$$arity=0,l),o).call(s)).$rescue,$.$$p=(i=function(e){var r=i.$$s||this;return null==e&&(e=t),r.$set_exception(e,"in an `after(:example)` hook")},i.$$s=u,i.$$arity=1,i),$).call(a)).$ensure,e.$$p=(n=function(){var e=n.$$s||this;return null==e.example_group_instance&&(e.example_group_instance=t),e.example_group_instance.$teardown_mocks_for_rspec()},n.$$s=u,n.$$arity=0,n),e).call(r)},o.$$arity=0),e.defn(l,"$run",s=function(e,r){var n,$,a,i,o,s,l,u,_,p=this;return p.example_group_instance=e,n=[p],$=c.get("RSpec"),$["$current_example="].apply($,n),n[n.length-1],p.$start(r),(n=p["$pending?"]())===t||null==n||n.$$is_boolean&&1!=n||c.get("Pending")["$mark_pending!"](p,p.$pending()),(n=($=(i=(o=(l=(u=c.get("Promise").$value(!0)).$then,l.$$p=(_=function(){var e,r,n,$,a,i,o,s,l,u=_.$$s||this;return(e=(r=($=(a=(o=(s=c.get("Promise").$value(!0)).$then,o.$$p=(l=function(){var e,r,n,$=l.$$s||this;return(e=$["$skipped?"]())===t||null==e||e.$$is_boolean&&1!=e?(e=c.get("RSpec").$configuration()["$dry_run?"]()["$!"]())===t||null==e||e.$$is_boolean&&1!=e?t:(e=(r=$).$with_around_example_hooks,e.$$p=(n=function(){var e,r,$,a,i,o,s,l,u,_=n.$$s||this;return(e=(r=(a=(i=(s=(l=c.get("Promise").$value(!0)).$then,s.$$p=(u=function(){var e,r,n,$,a,i,o,s,l,_=u.$$s||this;return(e=(r=($=(a=(o=(s=_.$run_before_example()).$then,o.$$p=(l=function(){var e=l.$$s||this;return e.$resolve_subject()},l.$$s=_,l.$$arity=0,l),o).call(s)).$then,$.$$p=(i=function(){var e=i.$$s||this;return e.$core_block_run()},i.$$s=_,i.$$arity=0,i),$).call(a)).$then,e.$$p=(n=function(){var e,r=n.$$s||this;return(e=r["$pending?"]())===t||null==e||e.$$is_boolean&&1!=e?t:(c.get("Pending")["$mark_fixed!"](r),r.$raise(c.get("Pending").$$scope.get("PendingExampleFixedError"),"Expected example to fail since it is pending, but it passed.",[r.$location()]))},n.$$s=_,n.$$arity=0,n),e).call(r)},u.$$s=_,u.$$arity=0,u),s).call(l)).$rescue,a.$$p=(o=function(e){var r,n=o.$$s||this;return null==e&&(e=t),(r=e["$is_a?"](c.get("Pending").$$scope.get("SkipDeclaredInExample")))===t||null==r||r.$$is_boolean&&1!=r?n.$set_exception(e):t},o.$$s=_,o.$$arity=1,o),a).call(i)).$ensure,e.$$p=($=function(){var e=$.$$s||this;return e.$run_after_example()},$.$$s=_,$.$$arity=0,$),e).call(r)},n.$$s=$,n.$$arity=0,n),e).call(r):c.get("Pending")["$mark_pending!"]($,$.$skip())},l.$$s=u,l.$$arity=0,l),o).call(s)).$rescue,$.$$p=(i=function(e){var r=i.$$s||this;return null==e&&(e=t),r.$set_exception(e)},i.$$s=u,i.$$arity=1,i),$).call(a)).$ensure,e.$$p=(n=function(){var e,r,$,a=n.$$s||this;return null==a.example_group_instance&&(a.example_group_instance=t),(e=(r=a.example_group_instance.$instance_variables()).$each,e.$$p=($=function(e){var r=$.$$s||this;return null==r.example_group_instance&&(r.example_group_instance=t),null==e&&(e=t),r.example_group_instance.$instance_variable_set(e,t)},$.$$s=a,$.$$arity=1,$),e).call(r),a.example_group_instance=t},n.$$s=u,n.$$arity=0,n),e).call(r)},_.$$s=p,_.$$arity=0,_),l).call(u)).$then,i.$$p=(s=function(){var e=s.$$s||this;return e.$finish(r)},s.$$s=p,s.$$arity=0,s),i).call(o)).$ensure,n.$$p=(a=function(e){var r,n;a.$$s||this;return null==e&&(e=t),r=[t],n=c.get("RSpec"),n["$current_example="].apply(n,r),r[r.length-1],e},a.$$s=p,a.$$arity=1,a),n).call($)},s.$$arity=2),t&&"run"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules.promise=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?t>=e:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),a=e.nil,i=(e.breaker,e.slice,e.klass),o=e.hash2;return e.add_stubs(["$resolve","$new","$reject","$attr_reader","$===","$value","$has_key?","$keys","$!","$==","$<<","$>>","$exception?","$[]","$resolved?","$rejected?","$error","$include?","$action","$realized?","$raise","$^","$call","$resolve!","$exception!","$any?","$each","$reject!","$there_can_be_only_one!","$then","$to_proc","$fail","$always","$trace","$class","$object_id","$+","$inspect","$act?","$nil?","$prev","$push","$concat","$it","$proc","$reverse","$pop","$<=","$length","$shift","$-","$wait","$map","$reduce","$try","$tap","$all?","$find"]),function($,$super){function s(){}var l,u,c,_,p,f,d,h,g,m,y,v,b,x,w,k,S,E,R,A,O,M,T,C,I,z,j,q,N,P=s=i($,$super,"Promise",s),F=P.$$proto,D=P.$$scope;return F.value=F.action=F.exception=F.realized=F.next=F.delayed=F.error=F.prev=a,e.defs(P,"$value",l=function(e){var t=this;return t.$new().$resolve(e)},l.$$arity=1),e.defs(P,"$error",u=function(e){var t=this;return t.$new().$reject(e)},u.$$arity=1),e.defs(P,"$when",c=function(){var e,t=arguments.length,r=t-0;0>r&&(r=0),e=new Array(r);for(var n=0;t>n;n++)e[n-0]=arguments[n];return D.get("When").$new(e)},c.$$arity=-1),P.$attr_reader("error","prev","next"),e.defn(P,"$initialize",_=function(e){var t=this;return null==e&&(e=o([],{})),t.action=e,t.realized=!1,t.exception=!1,t.value=a,t.error=a,t.delayed=!1,t.prev=a,t.next=[]},_.$$arity=-1),e.defn(P,"$value",p=function(){var e,t=this;return(e=D.get("Promise")["$==="](t.value))===a||null==e||e.$$is_boolean&&1!=e?t.value:t.value.$value()},p.$$arity=0),e.defn(P,"$act?",f=function(){var e,t=this;return(e=t.action["$has_key?"]("success"))!==!1&&e!==a&&null!=e?e:t.action["$has_key?"]("always")},f.$$arity=0),e.defn(P,"$action",d=function(){var e=this;return e.action.$keys()},d.$$arity=0),e.defn(P,"$exception?",h=function(){var e=this;return e.exception},h.$$arity=0),e.defn(P,"$realized?",g=function(){var e=this;return e.realized["$!"]()["$!"]()},g.$$arity=0),e.defn(P,"$resolved?",m=function(){var e=this;return e.realized["$=="]("resolve")},m.$$arity=0),e.defn(P,"$rejected?",y=function(){var e=this;return e.realized["$=="]("reject")},y.$$arity=0),e.defn(P,"$^",v=function(e){var t=this;return e["$<<"](t),t["$>>"](e),e},v.$$arity=1),e.defn(P,"$<<",b=function(e){var t=this;return t.prev=e,t},b.$$arity=1),e.defn(P,"$>>",x=function(e){var t,r,n,$=this;return $.next["$<<"](e),(t=$["$exception?"]())===a||null==t||t.$$is_boolean&&1!=t?(t=$["$resolved?"]())===a||null==t||t.$$is_boolean&&1!=t?(t=$["$rejected?"]())===a||null==t||t.$$is_boolean&&1!=t||((t=(r=$.action["$has_key?"]("failure")["$!"]())!==!1&&r!==a&&null!=r?r:D.get("Promise")["$==="](function(){return(n=$.delayed)===a||null==n||n.$$is_boolean&&1!=n?$.error:$.delayed["$[]"](0)}()))===a||null==t||t.$$is_boolean&&1!=t?(t=e.$action()["$include?"]("always"))===a||null==t||t.$$is_boolean&&1!=t||e.$reject(function(){return(t=$.delayed)===a||null==t||t.$$is_boolean&&1!=t?$.$error():$.delayed["$[]"](0)}()):e.$reject(function(){return(t=$.delayed)===a||null==t||t.$$is_boolean&&1!=t?$.$error():$.delayed["$[]"](0)}())):e.$resolve(function(){return(t=$.delayed)===a||null==t||t.$$is_boolean&&1!=t?$.$value():$.delayed["$[]"](0)}()):e.$reject($.delayed["$[]"](0)),$},x.$$arity=1),e.defn(P,"$resolve",w=function(t){var r,n,$=this,i=a,o=a;if(null==t&&(t=a),(r=$["$realized?"]())===a||null==r||r.$$is_boolean&&1!=r||$.$raise(D.get("ArgumentError"),"the promise has already been realized"),(r=D.get("Promise")["$==="](t))!==a&&null!=r&&(!r.$$is_boolean||1==r))return t["$<<"]($.prev)["$^"]($);try{(r=i=(n=$.action["$[]"]("success"))!==!1&&n!==a&&null!=n?n:$.action["$[]"]("always"))===a||null==r||r.$$is_boolean&&1!=r||(t=i.$call(t)),$["$resolve!"](t)}catch(s){if(!e.rescue(s,[D.get("Exception")]))throw s;o=s;try{$["$exception!"](o)}finally{e.pop_exception()}}return $},w.$$arity=-1),e.defn(P,"$resolve!",k=function(e){var t,r,n,$=this;return $.realized="resolve",$.value=e,(t=$.next["$any?"]())===a||null==t||t.$$is_boolean&&1!=t?$.delayed=[e]:(t=(r=$.next).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=a),t.$resolve(e)},n.$$s=$,n.$$arity=1,n),t).call(r)},k.$$arity=1),e.defn(P,"$reject",S=function(t){var r,n,$=this,i=a,o=a;if(null==t&&(t=a),(r=$["$realized?"]())===a||null==r||r.$$is_boolean&&1!=r||$.$raise(D.get("ArgumentError"),"the promise has already been realized"),(r=D.get("Promise")["$==="](t))!==a&&null!=r&&(!r.$$is_boolean||1==r))return t["$<<"]($.prev)["$^"]($);try{(r=i=(n=$.action["$[]"]("failure"))!==!1&&n!==a&&null!=n?n:$.action["$[]"]("always"))===a||null==r||r.$$is_boolean&&1!=r||(t=i.$call(t)),(r=$.action["$has_key?"]("always"))===a||null==r||r.$$is_boolean&&1!=r?$["$reject!"](t):$["$resolve!"](t)}catch(s){if(!e.rescue(s,[D.get("Exception")]))throw s;o=s;try{$["$exception!"](o)}finally{e.pop_exception()}}return $},S.$$arity=-1),e.defn(P,"$reject!",E=function(e){var t,r,n,$=this;return $.realized="reject",$.error=e,(t=$.next["$any?"]())===a||null==t||t.$$is_boolean&&1!=t?$.delayed=[e]:(t=(r=$.next).$each,t.$$p=(n=function(t){n.$$s||this;return null==t&&(t=a),t.$reject(e)},n.$$s=$,n.$$arity=1,n),t).call(r)},E.$$arity=1),e.defn(P,"$exception!",R=function(e){var t=this;return t.exception=!0,t["$reject!"](e)},R.$$arity=1),e.defn(P,"$then",A=function(){var e=this,t=A.$$p,r=t||a;return A.$$p=null,e["$^"](D.get("Promise").$new(o(["success"],{success:r})))},A.$$arity=0),e.defn(P,"$then!",O=function(){var e,t,r=this,n=O.$$p,$=n||a;return O.$$p=null,r["$there_can_be_only_one!"](),(e=(t=r).$then,e.$$p=$.$to_proc(),e).call(t)},O.$$arity=0),e.alias(P,"do","then"),e.alias(P,"do!","then!"),e.defn(P,"$fail",M=function(){var e=this,t=M.$$p,r=t||a;return M.$$p=null,e["$^"](D.get("Promise").$new(o(["failure"],{failure:r})))},M.$$arity=0),e.defn(P,"$fail!",T=function(){var e,t,r=this,n=T.$$p,$=n||a;return T.$$p=null,r["$there_can_be_only_one!"](),(e=(t=r).$fail,e.$$p=$.$to_proc(),e).call(t)},T.$$arity=0),e.alias(P,"rescue","fail"),e.alias(P,"catch","fail"),e.alias(P,"rescue!","fail!"),e.alias(P,"catch!","fail!"),e.defn(P,"$always",C=function(){var e=this,t=C.$$p,r=t||a;return C.$$p=null,e["$^"](D.get("Promise").$new(o(["always"],{always:r})))},C.$$arity=0),e.defn(P,"$always!",I=function(){var e,t,r=this,n=I.$$p,$=n||a;return I.$$p=null,r["$there_can_be_only_one!"](),(e=(t=r).$always,e.$$p=$.$to_proc(),e).call(t)},I.$$arity=0),e.alias(P,"finally","always"),e.alias(P,"ensure","always"),e.alias(P,"finally!","always!"),e.alias(P,"ensure!","always!"),e.defn(P,"$trace",z=function(e){var t=this,r=z.$$p,n=r||a;return null==e&&(e=a),z.$$p=null,t["$^"](D.get("Trace").$new(e,n))},z.$$arity=-1),e.defn(P,"$trace!",j=function(){var t,r,n,$=this,i=j.$$p,o=i||a,s=arguments.length,l=s-0;0>l&&(l=0),n=new Array(l);for(var u=0;s>u;u++)n[u-0]=arguments[u];return j.$$p=null,$["$there_can_be_only_one!"](),(t=(r=$).$trace,t.$$p=o.$to_proc(),t).apply(r,e.to_a(n))},j.$$arity=-1),e.defn(P,"$there_can_be_only_one!",q=function(){var e,t=this;return(e=t.next["$any?"]())===a||null==e||e.$$is_boolean&&1!=e?a:t.$raise(D.get("ArgumentError"),"a promise has already been chained")},q.$$arity=0),e.defn(P,"$inspect",N=function(){var e,r=this,n=a;return n="#<"+r.$class()+"("+r.$object_id()+")",(e=r.next["$any?"]())===a||null==e||e.$$is_boolean&&1!=e||(n=t(n," >> "+r.next.$inspect())),n=(e=r["$realized?"]())===a||null==e||e.$$is_boolean&&1!=e?t(n,">"):t(n,": "+((e=r.value)!==!1&&e!==a&&null!=e?e:r.error).$inspect()+">")},N.$$arity=0),function(t,$super){function $(){}var s,l,u=$=i(t,$super,"Trace",$),c=(u.$$proto,u.$$scope);return e.defs(u,"$it",s=function(e){var t,r,n=this,$=a,i=a;return $=[],(t=(r=e["$act?"]())!==!1&&r!==a&&null!=r?r:e.$prev()["$nil?"]())===a||null==t||t.$$is_boolean&&1!=t||$.$push(e.$value()),(t=i=e.$prev())===a||null==t||t.$$is_boolean&&1!=t?$:$.$concat(n.$it(i))},s.$$arity=1),e.defn(u,"$initialize",l=function(t,$){var i,s,u,_,p,f=this;l.$$p;return l.$$p=null,f.depth=t,(s=f,i=e.find_super_dispatcher(f,"initialize",l,!1),i.$$p=null,i).call(s,o(["success"],{success:(u=(_=f).$proc,u.$$p=(p=function(){var i,o,s=p.$$s||this,l=a;return l=c.get("Trace").$it(s).$reverse(),l.$pop(),(i=(o=t!==!1&&t!==a&&null!=t)?r(t,l.$length()):t)===a||null==i||i.$$is_boolean&&1!=i||l.$shift(n(l.$length(),t)),(i=$).$call.apply(i,e.to_a(l))},p.$$s=f,p.$$arity=0,p),u).call(_)}))},l.$$arity=2),a&&"initialize"}(D.base,P),function(t,$super){function r(){}var n,$,o,s,l,u,c,_=r=i(t,$super,"When",r),p=_.$$proto,f=_.$$scope;return p.wait=a,e.defn(_,"$initialize",n=function(t){var r,$,i,o,s=this;n.$$p;return null==t&&(t=[]),n.$$p=null,($=s,r=e.find_super_dispatcher(s,"initialize",n,!1),r.$$p=null,r).call($),s.wait=[],(r=(i=t).$each,r.$$p=(o=function(e){var t=o.$$s||this;return null==e&&(e=a),t.$wait(e)},o.$$s=s,o.$$arity=1,o),r).call(i)},n.$$arity=-1),e.defn(_,"$each",$=function(){var e,t,r,n=this,i=$.$$p,o=i||a;return $.$$p=null,o!==!1&&o!==a&&null!=o||n.$raise(f.get("ArgumentError"),"no block given"),(e=(t=n).$then,e.$$p=(r=function(e){var t,n;r.$$s||this;return null==e&&(e=a),(t=(n=e).$each,t.$$p=o.$to_proc(),t).call(n)},r.$$s=n,r.$$arity=1,r),e).call(t)},$.$$arity=0),e.defn(_,"$collect",o=function(){var e,t,r,n=this,$=o.$$p,i=$||a;return o.$$p=null,i!==!1&&i!==a&&null!=i||n.$raise(f.get("ArgumentError"),"no block given"),(e=(t=n).$then,e.$$p=(r=function(e){var t,n;r.$$s||this;return null==e&&(e=a),f.get("When").$new((t=(n=e).$map,t.$$p=i.$to_proc(),t).call(n))},r.$$s=n,r.$$arity=1,r),e).call(t)},o.$$arity=0),e.defn(_,"$inject",s=function(){var t,r,n,$,i=this,o=s.$$p,l=o||a,u=arguments.length,c=u-0;0>c&&(c=0),$=new Array(c);for(var _=0;u>_;_++)$[_-0]=arguments[_];return s.$$p=null,(t=(r=i).$then,t.$$p=(n=function(t){var r,i;n.$$s||this;return null==t&&(t=a),(r=(i=t).$reduce,r.$$p=l.$to_proc(),r).apply(i,e.to_a($))},n.$$s=i,n.$$arity=1,n),t).call(r)},s.$$arity=-1),e.alias(_,"map","collect"),e.alias(_,"reduce","inject"),e.defn(_,"$wait",l=function(e){var t,r,n,$=this;return((t=f.get("Promise")["$==="](e))===a||null==t||t.$$is_boolean&&1!=t)&&(e=f.get("Promise").$value(e)),(t=e["$act?"]())===a||null==t||t.$$is_boolean&&1!=t||(e=e.$then()),$.wait["$<<"](e),(t=(r=e).$always,t.$$p=(n=function(){var e,t=n.$$s||this;return null==t.next&&(t.next=a),(e=t.next["$any?"]())===a||null==e||e.$$is_boolean&&1!=e?a:t.$try()},n.$$s=$,n.$$arity=0,n),t).call(r),$},l.$$arity=1),e.alias(_,"and","wait"),e.defn(_,"$>>",u=function(){var t,r,n,$,i,o=this,s=u.$$p,l=a,c=a;for(u.$$p=null,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return(t=(r=(i=o,$=e.find_super_dispatcher(o,">>",u,!1),$.$$p=s,$).apply(i,l)).$tap,t.$$p=(n=function(){var e=n.$$s||this;return e.$try()},n.$$s=o,n.$$arity=0,n),t).call(r)},u.$$arity=-1),e.defn(_,"$try",c=function(){var e,t,r,n,$=this,i=a;return(e=(t=(r=$.wait)["$all?"],t.$$p="realized?".$to_proc(),t).call(r))===a||null==e||e.$$is_boolean&&1!=e?a:(e=i=(t=(n=$.wait).$find,t.$$p="rejected?".$to_proc(),t).call(n))===a||null==e||e.$$is_boolean&&1!=e?$.$resolve((e=(t=$.wait).$map,e.$$p="value".$to_proc(),e).call(t)):$.$reject(i.$error())},c.$$arity=0),a&&"try"}(D.base,P)}($.base,null)},Opal.modules["opal/rspec/async/example_group"]=function(e){var t=e.top,r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$new","$delay","$resolve","$then","$to_proc","$order","$ordering_strategy","$children","$empty?","$value","$inject","$<<","$run","$all?","$wants_to_quit","$world","$top_level?","$clear_remaining_example_groups","$example_group_started","$always","$run_after_context_hooks","$clear","$before_context_ivars","$example_group_finished","$rescue","$is_a?","$for_filtered_examples","$skip_with_exception","$fail_fast?","$wants_to_quit=","$fail_with_exception","$process_descendants","$run_examples","$run_before_context_hooks","$filtered_examples","$lambda","$set_ivars","$!","$[]"]),t.$require("promise"),function(t,$super){function $(){}var a,i,o,s,l,u=$=n(t,$super,"ExampleGroup",$),c=(u.$$proto,u.$$scope);return e.defn(u,"$delay",a=function(e){var t=this,n=a.$$p,$=n||r;return a.$$p=null,setTimeout($,1e3*e),t},a.$$arity=1),e.defn(u,"$delay_with_promise",i=function(e){var t,n,$,a,o=this,s=i.$$p,l=s||r,u=r;return i.$$p=null,u=c.get("Promise").$new(),(t=(n=o).$delay,t.$$p=($=function(){$.$$s||this;return u.$resolve()},$.$$s=o,$.$$arity=0,$),t).call(n,e),(t=(a=u).$then,t.$$p=l.$to_proc(),t).call(a)},i.$$arity=1),e.defs(u,"$process_descendants",o=function(e,t){var n,$,a,i,o,s=this,l=r,u=r,_=r,p=r;return l=s.$ordering_strategy().$order(s.$children()),(n=l["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?(u=[],_=c.get("Promise").$value(!0),p=(n=($=l).$inject,n.$$p=(a=function(e,n){var $,i,o,s=a.$$s||this;return null==e&&(e=r),null==n&&(n=r),($=(i=e).$then,$.$$p=(o=function(e){o.$$s||this;return null==e&&(e=r),u["$<<"](e),n.$run(t)},o.$$s=s,o.$$arity=1,o),$).call(i)},a.$$s=s,a.$$arity=2,a),n).call($,_),(n=(i=p).$then,n.$$p=(o=function(t){var n;o.$$s||this;return null==t&&(t=r),u["$<<"](t),(n=e!==!1&&e!==r&&null!=e)?u["$all?"]():e},o.$$s=s,o.$$arity=1,o),n).call(i)):c.get("Promise").$value(e)},o.$$arity=2),e.defs(u,"$run",s=function(e){var t,n,$,a,i,o,s,l,u,_,p,f,d,h,g,m=this;return(t=c.get("RSpec").$world().$wants_to_quit())===r||null==t||t.$$is_boolean&&1!=t?(e.$example_group_started(m),(t=(n=(a=(i=(s=(l=(_=(p=(d=(h=c.get("Promise").$value(!0)).$then,d.$$p=(g=function(){var e=g.$$s||this;return e.$run_before_context_hooks(e.$new())},g.$$s=m,g.$$arity=0,g),d).call(h)).$then,_.$$p=(f=function(){var t=f.$$s||this;return t.$run_examples(e)},f.$$s=m,f.$$arity=0,f),_).call(p)).$then,s.$$p=(u=function(t){var n=u.$$s||this;return null==t&&(t=r),n.$process_descendants(t,e)},u.$$s=m,u.$$arity=1,u),s).call(l)).$rescue,a.$$p=(o=function(t){var n,$,a,i,s,l=o.$$s||this,u=r;return null==t&&(t=r),u=function(){return(n=t["$is_a?"](c.get("Pending").$$scope.get("SkipDeclaredInExample")))===r||null==n||n.$$is_boolean&&1!=n?((n=l["$fail_fast?"]())===r||null==n||n.$$is_boolean&&1!=n||(n=[!0],i=c.get("RSpec").$world(),i["$wants_to_quit="].apply(i,n),n[n.length-1]),(n=(i=l).$for_filtered_examples,n.$$p=(s=function(n){s.$$s||this;return null==n&&(n=r),n.$fail_with_exception(e,t)},s.$$s=l,s.$$arity=1,s),n).call(i,e)):(n=($=l).$for_filtered_examples,n.$$p=(a=function(n){a.$$s||this;return null==n&&(n=r),n.$skip_with_exception(e,t)},a.$$s=l,a.$$arity=1,a),n).call($,e)}()},o.$$s=m,o.$$arity=1,o),a).call(i)).$always,t.$$p=($=function(t){var n=$.$$s||this;return null==t&&(t=r),n.$run_after_context_hooks(n.$new()),n.$before_context_ivars().$clear(),e.$example_group_finished(n),t},$.$$s=m,$.$$arity=1,$),t).call(n)):((t=m["$top_level?"]())===r||null==t||t.$$is_boolean&&1!=t||c.get("RSpec").$world().$clear_remaining_example_groups(),r)},s.$$arity=1),e.defs(u,"$run_examples",l=function(e){var t,n,$,a,i,o,s,l=this,u=r,_=r,p=r,f=r,d=r;return u=l.$ordering_strategy().$order(l.$filtered_examples()),(t=u["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?(_=(t=(n=l).$lambda,t.$$p=($=function(t){var n,a=$.$$s||this,i=r;return null==t&&(t=r),(n=c.get("RSpec").$world().$wants_to_quit())===r||null==n||n.$$is_boolean&&1!=n?(i=a.$new(),a.$set_ivars(i,a.$before_context_ivars()),t.$run(i,e)):c.get("Promise").$value(r)},$.$$s=l,$.$$arity=1,$),t).call(n),p=[],f=c.get("Promise").$value(!0),d=(t=(a=u).$inject,t.$$p=(i=function(e,t){var n,$,a,o=i.$$s||this;return null==e&&(e=r),null==t&&(t=r),(n=($=e).$then,n.$$p=(a=function(e){var n,$,i=a.$$s||this;return null==e&&(e=r),$=i["$fail_fast?"](),(n=$!==!1&&$!==r&&null!=$?e["$!"]():$)===r||null==n||n.$$is_boolean&&1!=n||(n=[!0],$=c.get("RSpec").$world(),$["$wants_to_quit="].apply($,n),n[n.length-1]),p["$<<"](e),_["$[]"](t)},a.$$s=o,a.$$arity=1,a),n).call($)},i.$$s=l,i.$$arity=2,i),t).call(a,f),(t=(o=d).$then,t.$$p=(s=function(e){var t,n,$=s.$$s||this;return null==e&&(e=r),n=$["$fail_fast?"](),(t=n!==!1&&n!==r&&null!=n?e["$!"]():n)===r||null==t||t.$$is_boolean&&1!=t||(t=[!0],n=c.get("RSpec").$world(),n["$wants_to_quit="].apply(n,t),t[t.length-1]),p["$<<"](e),p["$all?"]()},s.$$s=l,s.$$arity=1,s),t).call(o)):c.get("Promise").$value(!0)},l.$$arity=1),r&&"run_examples"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/async/hooks"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.klass);return e.add_stubs(["$inject","$then","$run","$value","$hooks"]),function(t,$super){function $(){}var a,i=$=n(t,$super,"HookCollection",$),o=(i.$$proto,i.$$scope);return e.defn(i,"$run",a=function(){var e,t,n,$=this;return(e=(t=$.$hooks()).$inject,e.$$p=(n=function(e,t){var $,a,i,s=n.$$s||this;return null==e&&(e=r),null==t&&(t=r),($=(a=e).$then,$.$$p=(i=function(){var e=i.$$s||this,n=r;return null==e.example&&(e.example=r),n=t.$run(e.example),o.get("Promise").$value(n)},i.$$s=s,i.$$arity=0,i),$).call(a)},n.$$s=$,n.$$arity=2,n),e).call(t,o.get("Promise").$value(!0))},a.$$arity=0),r&&"run"}(t.get("RSpec").$$scope.get("Core").$$scope.get("Hooks"),null)},Opal.modules["opal/rspec/async/legacy"]=function(e){var t=(e.top,e),r=e.nil,n=(e.breaker,e.slice,e.module),$=e.hash2,a=e.klass;return e.add_stubs(["$build_hash_from","$update","$<<","$examples","$new","$last","$attr_accessor","$extend","$async","$to_proc","$instance_eval","$resolve","$legacy_promise","$reject","$lambda","$legacy_promise=","$instance_exec"]),function(t){var a,i=a=n(t,"Opal"),o=(i.$$proto,i.$$scope);!function(t){var a,i=a=n(t,"RSpec"),o=(i.$$proto,i.$$scope);!function(t){var a,i,o,s,l=a=n(t,"AsyncHelpers"),u=(l.$$proto,l.$$scope);!function(t){var a,i,o=a=n(t,"ClassMethods"),s=(o.$$proto,o.$$scope);e.defn(o,"$async",i=function(t){var n,a=this,o=i.$$p,l=o||r,u=r,c=arguments.length,_=c-1;0>_&&(_=0),n=new Array(_);for(var p=1;c>p;p++)n[p-1]=arguments[p];return i.$$p=null,u=e.get("RSpec").$$scope.get("Core").$$scope.get("Metadata").$build_hash_from(n),l!==!1&&l!==r&&null!=l||u.$update($(["skip"],{skip:e.get("RSpec").$$scope.get("Core").$$scope.get("Pending").$$scope.get("NOT_YET_IMPLEMENTED")})),a.$examples()["$<<"](s.get("Opal").$$scope.get("RSpec").$$scope.get("LegacyAsyncExample").$new(a,t,u,l)),a.$examples().$last()},i.$$arity=-2)}(u.base),l.$attr_accessor("legacy_promise"),e.defs(l,"$included",i=function(e){return e.$extend(u.get("ClassMethods"))},i.$$arity=1),e.defn(l,"$run_async",o=function(){var e,t,n=this,$=o.$$p,a=$||r;return o.$$p=null,(e=(t=n).$async,e.$$p=a.$to_proc(),e).call(t)},o.$$arity=0),e.defn(l,"$async",s=function(){var t,n,$=this,a=s.$$p,i=a||r,o=r;s.$$p=null;try{return(t=(n=$).$instance_eval,
t.$$p=i.$to_proc(),t).call(n),$.$legacy_promise().$resolve()}catch(l){if(!e.rescue(l,[u.get("Exception")]))throw l;o=l;try{return $.$legacy_promise().$reject(o)}finally{e.pop_exception()}}},s.$$arity=0)}(o.base)}(o.base)}(t.base),function(t,$super){function n(){}var $,i=n=a(t,$super,"LegacyAsyncExample",n),o=(i.$$proto,i.$$scope);return e.defn(i,"$initialize",$=function(t,n,a,i){var s,l,u,c,_=this,p=($.$$p,r);return null==i&&(i=r),$.$$p=null,p=(s=(l=_).$lambda,s.$$p=(u=function(e){var t,n,$=u.$$s||this;return null==e&&(e=r),t=[o.get("Promise").$new()],n=$,n["$legacy_promise="].apply(n,t),t[t.length-1],(t=(n=$).$instance_exec,t.$$p=i.$to_proc(),t).call(n,e),$.$legacy_promise()},u.$$s=_,u.$$arity=1,u),s).call(l),(c=_,s=e.find_super_dispatcher(_,"initialize",$,!1),s.$$p=null,s).call(c,t,n,a,p)},$.$$arity=-4),r&&"initialize"}(t.get("Opal").$$scope.get("RSpec"),e.get("RSpec").$$scope.get("Core").$$scope.get("Example"))},Opal.modules["opal/rspec/async/reporter"]=function(e){var t=(e.top,e.nil),r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$start","$ensure","$finish"]),function(n,$super){function $(){}var a,i=$=r(n,$super,"Reporter",$);i.$$proto,i.$$scope;return e.defn(i,"$report_async",a=function(r){var n,$,i,o=this,s=a.$$p,l=s||t;return a.$$p=null,o.$start(r),(n=($=e.yield1(l,o)).$ensure,n.$$p=(i=function(e){var r=i.$$s||this;return null==e&&(e=t),r.$finish(),e},i.$$s=o,i.$$arity=1,i),n).call($)},a.$$arity=1),t&&"report_async"}(e.get("RSpec").$$scope.get("Core"),null)},Opal.modules["opal/rspec/async"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/rspec/async/async_example"),t.$require("opal/rspec/async/example_group"),t.$require("opal/rspec/async/hooks"),t.$require("opal/rspec/async/legacy"),t.$require("opal/rspec/async/reporter")},Opal.modules["opal/rspec"]=function(e){var t,r,n,$=e.top,a=e,i=e.nil;e.breaker,e.slice;return e.add_stubs(["$require","$configure","$default_formatter=","$non_browser?","$get_opal_closed_tty_io","$output_stream=","$expect_with","$syntax=","$include"]),$.$require("opal/rspec/pre_require_fixes"),$.$require("opal/rspec/requires"),$.$require("opal/rspec/fixes"),$.$require("opal/rspec/formatter/browser_formatter"),$.$require("opal/rspec/runner"),$.$require("opal/rspec/async"),(t=(r=a.get("RSpec")).$configure,t.$$p=(n=function(t){var r,$,o,s,l=n.$$s||this,u=i,c=i;return null==t&&(t=i),r=[function(){return(o=e.get("RSpec").$$scope.get("Core").$$scope.get("Runner")["$non_browser?"]())===i||null==o||o.$$is_boolean&&1!=o?e.get("Opal").$$scope.get("RSpec").$$scope.get("BrowserFormatter"):e.get("RSpec").$$scope.get("Core").$$scope.get("Formatters").$$scope.get("ProgressFormatter")}()],$=t,$["$default_formatter="].apply($,r),r[r.length-1],$=e.get("RSpec").$$scope.get("Core").$$scope.get("Runner").$get_opal_closed_tty_io(),r=e.to_ary($),u=null==r[0]?i:r[0],c=null==r[1]?i:r[1],$,r=[c],$=t,$["$output_stream="].apply($,r),r[r.length-1],(r=($=t).$expect_with,r.$$p=(s=function(e){var t,r;s.$$s||this;return null==e&&(e=i),t=[["should","expect"]],r=e,r["$syntax="].apply(r,t),t[t.length-1]},s.$$s=l,s.$$arity=1,s),r).call($,"rspec"),t.$include(a.get("Opal").$$scope.get("RSpec").$$scope.get("AsyncHelpers"))},n.$$s=$,n.$$arity=1,n),t).call(r)},Opal.modules["opal-rspec"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/rspec")},Opal.modules.rspec_results=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal"),t.$require("opal-rspec")};